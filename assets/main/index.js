System.register("chunks:///_virtual/accountItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Https.ts","./GameUtil.ts"],(function(e){"use strict";var t,r,o,n,l,i,a,s,u,c,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,i=e._decorator,a=e.Label,s=e.Node,u=e.Sprite,c=e.Component},function(e){g=e.https},function(e){p=e.GameUtil}],execute:function(){var b,m,f,v,h,N,S,L,x,y,d,I,w,z,J,D,R,T,B;l._RF.push({},"26e433/BllI46EscU3f7vNO","accountItem",void 0);var _=i.ccclass,F=i.property;e("accountItem",(b=_("accountItem"),m=F(a),f=F(a),v=F(a),h=F(a),N=F(a),S=F(a),L=F(a),x=F(s),b((I=t((d=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,o(t,"acName",I,n(t)),o(t,"zServerName",w,n(t)),o(t,"roleName",z,n(t)),o(t,"sexJobLevel",J,n(t)),o(t,"roleName1",D,n(t)),o(t,"sexJobLevel1",R,n(t)),o(t,"lastTime",T,n(t)),o(t,"role2Node",B,n(t)),t.ga=null,t.cb=null,t}r(t,e);var l=t.prototype;return l.start=function(){var e=this.node.getComponent(u);p.loadResLocal("LoginScene/gxx/gxxServerList/itemBg.png",e)},l.init=function(e,t){if(this.cb=t,this.ga=e.accountName,this.acName.string=e.accountName,this.zServerName.string=e.oldGameName,this.lastTime.string=e.lastLoginTime>0?this.parseDate(e.lastLoginTime.toString()):"--",0!=e.roles.length){this.roleName.string=e.roles[0].roleName;var r={roleSex:e.roles[0].roleSex,roleJob:e.roles[0].roleJob,roleLevel:e.roles[0].roleLevel};if(this.sexJobLevel.string=this.showRoleInfo(r),1==e.roles.length)this.role2Node.active=!1;else if(2==e.roles.length){this.role2Node.active=!0;var o={roleSex:e.roles[1].roleSex,roleJob:e.roles[1].roleJob,roleLevel:e.roles[1].roleLevel};this.sexJobLevel.string=this.showRoleInfo(o)}}},l.parseDate=function(e){var t=new Date(e),r=t.getFullYear(),o=(t.getMonth()+1).toString();o=parseInt(o)<10?"0"+o:o;var n=t.getDate().toString();n=parseInt(n)<10?"0"+n:n;var l=t.getHours().toString();l=parseInt(l)<10?"0"+l:l;var i=t.getMinutes().toString();i=parseInt(i)<10?"0"+i:i;var a=t.getSeconds().toString();return r+"/"+o+"/"+n+" "+l+":"+i+":"+(a=parseInt(a)<10?"0"+a:a)},l.showRoleInfo=function(e){var t="";t=1==e.roleSex?"男":2==e.roleSex?"女":"";var r="";return 0==e.roleJob?r="战士":1==e.roleJob?r="法师":2==e.roleJob&&(r="道士"),t+r+e.roleLevel},l.onBtn=function(){g.ga=this.ga,this.cb()},t}(c)).prototype,"acName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(d.prototype,"zServerName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(d.prototype,"roleName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(d.prototype,"sexJobLevel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(d.prototype,"roleName1",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(d.prototype,"sexJobLevel1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(d.prototype,"lastTime",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(d.prototype,"role2Node",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=d))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/AddFriendTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameUtil.ts"],(function(e){"use strict";var n,t,i,o,r,l,a,c,s,u,p,d,f,_,b,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Button,c=e.Node,s=e.Sprite,u=e.Label,p=e.EditBox,d=e.Component},function(e){f=e.EventMgr},function(e){_=e.Config},function(e){b=e.default},function(e){g=e.GameUtil}],execute:function(){var m,h,C,v,y,F,E,z,B,N,w,S,D,L,P;r._RF.push({},"2fcee9mty9J/qEZ7WyocOEZ","AddFriendTip",void 0);var I=l.ccclass,T=l.property;e("AddFriendTip",(m=I("AddFriendTip"),h=T(a),C=T(a),v=T(a),y=T(c),F=T(c),E=T(c),m((N=n((B=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=e.call.apply(e,[this].concat(r))||this,i(n,"btn_Close",N,o(n)),i(n,"btn_Confirm",w,o(n)),i(n,"btn_Cancel",S,o(n)),i(n,"edit_FriendName",D,o(n)),i(n,"lab_Title",L,o(n)),i(n,"lab_Paste",P,o(n)),n._eventStr=null,n}t(n,e);var r=n.prototype;return r.onLoad=function(){f.addEventListener(b.BEOPEN_ADDFRIEND_TIP,this.upDateView,this)},r.start=function(){g.loadResLocal("Socialize/playInfo_bg.png",this.node.getComponent(s)),g.loadResLocalButton("public/btn_close (2).png","public/btn_close1.png",this.btn_Close),g.loadResLocalButton("Socialize/FriendInfoBtn/f_sure.png","Socialize/FriendInfoBtn/f_sure (2).png",this.btn_Confirm),g.loadResLocalButton("Socialize/FriendInfoBtn/cancel.png","Socialize/FriendInfoBtn/cancel (2).png",this.btn_Cancel),g.loadResLocal("Socialize/f_bottomFrame.png",this.edit_FriendName.getComponent(s))},r.upDateView=function(e){var n=e[0],t=e[1];this.lab_Title.getComponent(u).string=n,this._eventStr=t,null!=_.g_copyName&&null!=_.g_copyName&&""!=_.g_copyName&&(this.lab_Paste.active=!0)},r.onClickBtnConfirmHandler=function(){this._eventStr&&""!=this._eventStr&&(f.raiseEvent(this._eventStr,this.edit_FriendName.getComponent(p).string),this.onCloseView())},r.onClickBtnCancelHandler=function(){this.onCloseView()},r.onClickPasteHandler=function(){this.edit_FriendName.getComponent(p).string=_.g_copyName},r.onCloseView=function(){f.removeEventListener(b.BEOPEN_ADDFRIEND_TIP,this.upDateView,this),this.node.destroy(),this.node.removeFromParent()},n}(d)).prototype,"btn_Close",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(B.prototype,"btn_Confirm",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(B.prototype,"btn_Cancel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(B.prototype,"edit_FriendName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(B.prototype,"lab_Title",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(B.prototype,"lab_Paste",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/AlertCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./GameUtil.ts"],(function(t){"use strict";var e,n,i,o,r,c,l,a,s,u,p,h,d,f,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,l=t.Label,a=t.EditBox,s=t.Button,u=t.Node,p=t.Sprite,h=t.color,d=t.UITransform,f=t.Component},function(t){g=t.Config},function(t){b=t.GameUtil}],execute:function(){var y,C,m,v,B,O,x,z,L,N,T,_,k,w,A,F,R;r._RF.push({},"dee23v1rW9NKY0JPH4rSDxf","AlertCtrl",void 0);var S=c.ccclass,H=c.property;t("AlertCtrl",(y=S("AlertCtrl"),C=H(l),m=H(a),v=H(s),B=H(s),O=H(l),x=H(u),z=H(l),y((T=e((N=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,i(e,"content",T,o(e)),i(e,"edittyp",_,o(e)),i(e,"surnBtn",k,o(e)),i(e,"cancelBtn",w,o(e)),i(e,"title",A,o(e)),i(e,"typeNode",F,o(e)),i(e,"typeTitle",R,o(e)),e.surecalb=null,e.cancelb=null,e.callb=null,e.countNum=5,e}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.selectHandle=function(t){var e=this;switch(b.loadResLocal("alertpic/fenghao_res.png",this.node.getComponent(p)),b.loadResLocal("alertpic/fenghao_res.pngnr.png",this.node.getChildByName("textBg").getComponent(p)),b.loadResLocal("alertpic/alert_btn_rigjt.png",this.surnBtn.node.getComponent(p)),b.loadResLocal("alertpic/alert_btn_rigjt.png",this.cancelBtn.node.getComponent(p)),7==t.type&&(t.type=1),t.content=this.parseContent(t.content),t.type){case 1:this.surnBtn.node.active=!0,this.content.node.active=!0,this.checkCenterOrLeft(t.content),this.content.string=t.content;break;case 2:this.surnBtn.node.active=!0,this.cancelBtn.node.active=!0,this.content.node.active=!0,this.checkCenterOrLeft(t.content),this.content.string=t.content;break;case 3:this.surnBtn.node.active=!0,this.content.node.active=!0,this.checkCenterOrLeft(t.content),this.content.string=t.content,this.surnBtn.node.getComponentInChildren(l).string=this.countNum+"秒后关闭",this.schedule((function(){0==e.countNum&&e.node.destroy(),e.surnBtn.node.getComponentInChildren(l).string=e.countNum-1+"秒后关闭",e.countNum--}),1);break;case 4:this.typeNode.active=!0,this.content.node.active=!1,t.content?this.typeTitle.string=t.content:this.typeTitle.node.active=!1,this.typeTitle.string=t.content,this.surnBtn.node.active=!0,this.cancelBtn.node.active=!0}t.color&&this.content.color.set(h(t.color)),this.surecalb=t.sF?t.sF:null,this.cancelb=t.cF?t.cF:null},r.btn=function(t,e){1==e&&this.surecalb&&this.surecalb(this.edittyp.string),0==e&&this.cancelb&&this.cancelb(),this.node.destroy()},r.checkCenterOrLeft=function(t){-1!=t.indexOf("\r\n")?(this.content.node.getComponent(d).anchorX=0,this.content.node.setPosition(-230,-58),this.content.horizontalAlign=l.HorizontalAlign.LEFT):(this.content.node.getComponent(d).anchorX=.5,this.content.horizontalAlign=l.HorizontalAlign.CENTER,this.content.node.setPosition(0,-58))},r.richTextNode=function(t){return g.MainScene.openClickTop(t,!0,!0)},r.parseContent=function(t){if(-1!=t.indexOf("\r\n")){for(var e="",n=t.split("\r\n"),i=0;i<n.length;i++){var o=this.parseStr(n[i]);i==n.length-1?e+=o:e=e+o+"\r\n"}return e}return-1!=t.indexOf("<")&&(t=this.parseStr(t)),t},r.parseStr=function(t){-1!=t.indexOf("{")&&(t=t.replace("{","<")),-1!=t.indexOf("}")&&(t=t.replace("}",">"));var e=[];-1!=t.indexOf("<")&&(e=t.split("<"));var n="";if(e.length>0)for(var i=0;i<e.length;i++){if(""!=e[i])if(-1!=e[i].indexOf(">")&&(e[i]=e[i].replace(">","")),-1!=e[i].toUpperCase().indexOf("/FCOLOR"))n+=e[i].split("/")[0];else-1!=e[i].toUpperCase().indexOf("IMG")?n+="":n+=e[i]}else n=t;return-1!=n.indexOf(">")&&(n=n.replace(">","")),n},e}(f)).prototype,"content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(N.prototype,"edittyp",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(N.prototype,"surnBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(N.prototype,"cancelBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(N.prototype,"title",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(N.prototype,"typeNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(N.prototype,"typeTitle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=N))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ComAnim.ts","./ObjectRole.ts","./GameUtil.ts","./ResourcesMgr.ts"],(function(n){"use strict";var i,e,t,a,l,o,r,s,c,f,u,m,h,p,d,_,g,v,A;return{setters:[function(n){i=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,a=n.Node,l=n.AnimationClip,o=n.instantiate,r=n.Layers,s=n.Vec3,c=n.v3,f=n.Sprite,u=n.UIOpacity,m=n.Animation,h=n.NodeEventType,p=n.Component},function(n){d=n.Config},function(n){_=n.ComAnim},function(n){g=n.ObjectRole},function(n){v=n.GameUtil},function(n){A=n.resourcesMgr}],execute:function(){var y,O;e._RF.push({},"a5217y+AEBCnrb7+mNR6z2u","AnimationModule",void 0);var x=t.ccclass,C=(t.property,n("AnimationModule",x("AnimationModule")(((O=function(n){function e(){for(var i,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(i=n.call.apply(n,[this].concat(t))||this).ani_list=[],i.ani_clips={},i}i(e,n),e.ins=function(){return this._ins||(this._ins=new e),this._ins};var t=e.prototype;return t.start=function(){},t.update=function(n){},t.playframe=function(n,i,e,t,m,h,p,g,y,O,x,C,k,E,P,M,R,b,L){var N=this;if(null==i)return console.warn("root为null！"),null;if(null==e)return console.warn("fl_name为null！"),null;if(!(i instanceof a))return console.warn("root需要是Node类型！"),null;var w=e.split("/"),D=w[w.length-2]+"-"+t+"-"+m,I=D;p||(P=Date.now()),null!=P&&(I+="-"+P);var S=i.getChildByName(I);if(S&&S.active){var T=S.getComponent(_);T&&T.stopAni(),S.destroy(),console.warn("已存在同名的动画节点，覆盖创建！"+I)}var j=[],B=[],U=!0,F=[];if(0==e.indexOf("Animation")&&(U=!1),C)for(var H=m;H>=t;H--){var W=v.getprefixname(H,6);if(U){if(null==(G=this.getAtlas(e,W))||""==G.img)continue;j.push(G.img);var Y=G.atlas;-1==B.indexOf(Y)&&B.push(Y)}else j.push(e+W+".png");F.push(W)}else for(H=t;H<=m;H++){W=v.getprefixname(H,6);if(U){var G;if(null==(G=this.getAtlas(e,W))||""==G.img)continue;j.push(G.img);Y=G.atlas;-1==B.indexOf(Y)&&B.push(Y)}else j.push(e+W+".png");F.push(W)}if(U&&0==B.length||0==F.length)return console.warn("图集为空：",B,F),null;var V=p?l.WrapMode.Loop:l.WrapMode.Normal,z=o(d.CurScene.aniPrefab);this.findParent(i)?z.layer=d.canvas_19:z.layer=r.Enum.UI_2D,i.addChild(z),y?y instanceof s||console.warn("pos需要是Vec3类型！"):y=c(0,0);var q=z.getComponent(_);if(q.mode=V,q.name=q.clipName=D,q.off=M,q.app=O,q.callback=x,q.firstPlayCallback=R,q.initPos=y.clone(),q.rawInitPos=y.clone(),q.ccData=b,q.is_use_rawOffset=L,q.init(),this.initListener(q),n&&q.node&&(q.node.getComponent(f).customMaterial=d.customMaterial,z.getComponent(u).opacity=100),U)q._urls=B,this.crateAndPlayAni(n,e,t,V,B,F,z,q,h);else{q._urls=j;var J=A.getRes(j);J?this.crateAndPlayAni(n,e,t,V,null,J,z,q,h):A.resLoad(j,(function(i){i&&N.crateAndPlayAni(n,e,t,V,null,i,z,q,h)}))}for(var K=!1,Q=0;Q<this.ani_list.length;Q++){var X=this.ani_list[Q];if(X.node&&X.node.name==I){K=!0;break}}return K||this.ani_list.push(q),q},t.initListener=function(n){var i=this;n.ani&&(n.ani.hasEventListener(m.EventType.PLAY)||n.ani.on(m.EventType.PLAY,(function(i){n.firstPlayCallback&&n.firstPlayCallback()}),n,!0),n.ani.hasEventListener(m.EventType.FINISHED)||n.ani.on(m.EventType.FINISHED,(function(e){n.mode==l.WrapMode.Normal?(i.isclearlist(n)&&i.setclearcache(n._urls),i.removeAni(n)):n.mode==l.WrapMode.Loop&&n.ani.play()}),n)),n.node&&(n.node.hasEventListener(h.NODE_DESTROYED)||n.node.on(h.NODE_DESTROYED,(function(){n.stopAni();var e=i.ani_list.indexOf(n);e>=0&&(i.ani_list.splice(e,1),console.log(">>动画节点被外部移除:",n.name))})))},t.findParent=function(n){return"ObjectRole"==n.name||"MapLayer"==n.name||!!n.parent&&this.findParent(n.parent)},t.crateAndPlayAni=function(n,i,e,t,a,l,o,r,s){a?r.playMultiAnim(a,l,t,s):r.playComAnim(l,t,s)},t.getAtlas=function(n,i){var e=("000000"+i).slice(-6),t=n+e,a=v.getImageSetNameByPath(t);return{img:a.replace(".plist","/"+e+".png"),atlas:a}},t.removeAniname=function(n){for(var i=this.ani_list.length-1;i>=0;i--){var e=this.ani_list[i];if(e&&e.name==n){if(this.ani_list.length<=0)continue;this.isclearlist(e)&&this.setclearcache(e._urls),e.removeSelf(),this.ani_list.splice(i,1),delete this.ani_clips[e.clipName+e.tag]}}},t.removeAni=function(n){this.removeAniname(n.name)},t.clearAniCacheAssets=function(n){for(var i=this.ani_list.length-1;i>=0;i--){var e=this.ani_list[i];e&&(n||this.isclearlist(e))&&(this.setclearcache(e._urls),e.removeSelf(),this.ani_list.splice(i,1))}for(i=d.g_ani_clearlist.length-1;i>=0;i--)v.clearResByUrl(d.g_ani_clearlist[i]),d.g_ani_clearlist.splice(i,1);this.ani_clips={}},t.setclearcache=function(n){if(null!=n){for(var i=n&&n.length,e=!0,t=0;t<i;t++)if(""==n[t]||d.g_ani_keeplist[n[t]]){e=!1;break}e&&(v.arrayHasElement(d.g_ani_clearlist,n)||d.g_ani_clearlist.push(n))}},t.isclearlist=function(n){for(var i=this.checkMainRoleAni(n),e=n._urls,t=e&&e.length,a=0;a<t;a++){var l=e[a];if(-1!=l.indexOf("Animation/addskills/")||-1!=l.indexOf("Animation/bonus/")||-1!=l.indexOf("Animation/disconnection/")||-1!=l.indexOf("Animation/task/")||-1!=l.indexOf("Animation/hero_power/")||-1!=l.indexOf("Animation/hp_ani/")||-1!=l.indexOf("Animation/minimap/")||-1!=l.indexOf("Animation/moveing/")||-1!=l.indexOf("Animation/halo/")||-1!=l.indexOf("Animation/autohook/")||"skilllockani"==n.name||"heroatt"==n.name||"RedPacket"==n.name||-1!=l.indexOf("Animation/mainhint/")||-1!=l.indexOf("Animation/mouse_click/")||"buffani"==n.name||"RedPacket2"==n.name||"friendAni"==n.name||i||0==n.name.indexOf("icongif")||0==n.name.indexOf("humicon")||0==n.name.indexOf("screeneffect")||-1!=n.name.indexOf("buffanidonotclear"))return d.g_ani_keeplist[l]=!0,!1}return!0},t.checkMainRoleAni=function(n){if(n.node&&n.node.parent&&"ObjectRole"==n.node.parent.name){var i=n.node.parent.getComponent(g);if(i.data&&i.data.record==d.playerID)return!0}return!1},t.getAni=function(n,i){if(null==n)return console.warn(">>getAni node为空：",n,i),null;var e=n.getComponentsInChildren(_).filter((function(n){return n.name==i}));return e.length>0?e[0]:null},t.hasAni=function(n,i){return n.getComponentsInChildren(_).filter((function(n){return n.name==i})).length>0},t.onReleaseAsset=function(n){var i=[],e=n instanceof Array;for(var t in this.ani_clips){var a=this.ani_clips[t],l=!1;if(e)for(var o=0;o<n.length;o++)-1!=a.path.indexOf(n[o])&&(l=!0);else-1!=a.path.indexOf(n)&&(l=!0);var r=!1;if(l){for(var s=this.ani_list.length-1;s>=0;s--){var c=this.ani_list[s];if(c&&c.ani&&c.ani.defaultClip==a){if(this.ani_list.length<=0)continue;if(-1==c.name.indexOf("data/")){r=!0,i=i.concat(a.path);continue}c.removeSelf(),this.ani_list.splice(s,1)}}r||delete this.ani_clips[t]}}return i},t.resetData=function(){this.ani_list=[],this.ani_clips={}},e}(p))._ins=void 0,y=O))||y));n("Animationmodule",C.ins());e._RF.pop()}}}));

System.register("chunks:///_virtual/Astart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ResourcesMgr.ts","./UIcontrol.ts","./objectmanage.ts","./GameUtil.ts"],(function(t){"use strict";var i,e,r,s,a,n,h,o,c,l,d;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,s=t.v2,a=t.Vec2,n=t.Component},function(t){h=t.Config},function(t){o=t.resourcesMgr},function(t){c=t.uiControl},function(t){l=t.ObjectManage},function(t){d=t.GameUtil}],execute:function(){var u,p;e._RF.push({},"30d53QLnC5Nwa7S1kI8PIJY","Astart",void 0);var g=r.ccclass,x=(r.property,t("Astart",g("Astart")(((p=function(t){function e(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=t.call.apply(t,[this].concat(r))||this).finder=null,i.cur_id=null,i.cur_matx=null,i.maxX=null,i.maxY=null,i.path_data={},i.grids=null,i.cost_stargiht=1,i._open=[],i._close=[],i.end=null,i}i(e,t),e.ins=function(){return this._ins||(this._ins=new e),this._ins};var r=e.prototype;return r.start=function(){},r.update=function(t){},r.setMapData=function(t,i){this.finder=new AStarFinder({allowDiagonal:!0}),console.log("this.finder=",this.finder),i&&(this.cur_id=t,this.cur_matx=i,this.maxX=this.cur_matx[0].length,this.maxY=this.cur_matx.length,this.path_data={},this.path_data[t]={matrix:i},h.Actionlock=!1,h.rockerlock=!1),this.setGrids(t)},r.setGrids=function(t){t&&(this.grids&&this.grids.clear(),this.grids=new Grid(this.maxX,this.maxY,this.cur_matx))},r.obsdata=function(t){this.finder=new AStarFinder({allowDiagonal:!0}),console.log("this.finder=",this.finder),this.cur_id=t,null==this.path_data[t]?this.initpath(t):(this.cur_matx=this.path_data[t].matrix,this.cur_matx&&(this.maxX=this.cur_matx[0].length,this.maxY=this.cur_matx.length,this.setGrids(t),h.Actionlock=!1,h.rockerlock=!1))},r.creategrid=function(t){matrix&&this.maxY<=matrix.length&&t==d.getMapLayerScript().sceneid&&(console.log("------------------------creategrid----------------------------------\x3e",this.cur_id,matrix.length),this.cur_matx=matrix,this.path_data[this.cur_id]=[],this.path_data[this.cur_id].matrix=matrix,this.setGrids(this.cur_id))},r.initpath=function(t){var i=this;h.user_site=o.httpUrl;var e=h.user_site+"data/mapdata/matrix/"+t+"matrix.js",r=window.document.createElement("script");r.src=e,r.setAttribute("type","text/javascript"),r.setAttribute("src",e),r.onload=function(){matrix&&i.cur_id==t&&(i.maxX=matrix[0].length,i.maxY=matrix.length,h.Actionlock=!1,h.rockerlock=!1,i.creategrid(t))},r.onerror=function(){c.handlerAlert({type:1,content:"地图文件加载错误！"+t})},window.document.getElementsByTagName("head")[0].appendChild(r)},r.findpath=function(t,i){if(null==this.path_data[this.cur_id])return null;for(var e=0;e<l.object_list.length;++e){var r=l.object_list[e];(!r.data||r.data.record!=h.lockingID&&r.data.record!=h.playerID)&&((1==r.type||2==r.type||3==r.type)&&r.grid.x<this.grids.width&&r.grid.y<this.grids.height&&this.grids.setWalkableAt(r.grid.x,r.grid.y,!1))}var s=this.finder.findPath(t.x,t.y,i.x,i.y,this.grids);return this.ResetGrid(this.grids,this.cur_matx),s},r.ResetGrid=function(t,i){for(var e,r=t.height,s=t.width,a=0;a<r;++a)for(var n=0;n<s;++n)(e=t.nodes[a][n]).g=0,e.f=0,e.h=0,e.by=0,e.parent=null,e.opened=null,e.closed=null,e.tested=null,e.walkable=!0,e.walkable=!i[a][n]},r.getmoveable=function(t,i){if(null==this.path_data[this.cur_id]||null==this.path_data[this.cur_id].matrix)return!1;for(var e=!1,r=0;r<l.object_list.length;++r){var s=l.object_list[r];if((!s.data||s.data.record!=h.playerID)&&!(t==this.end.x&&i==this.end.y||s.is_die||s.grid.x!=t||s.grid.y!=i||1!=s.type&&2!=s.type&&3!=s.type)){e=!0;break}}var a=this.path_data[this.cur_id].matrix;return a&&a[0]&&i<a.length&&t<a[0].length?0==a[i][t]&&!e:void 0},r.createnode=function(t,i){return{x:t,y:i,g:0,h:0,f:0,moveable:this.getmoveable(t,i),father:[]}},r.calculateH=function(t,i){var e=s(t.x,t.y);return a.distance(e,i)},r.isclose=function(t){for(var i=0;i<this._close.length;++i)if(this._close[i].x==t.x&&this._close[i].y==t.y)return!0;return!1},r.isopen=function(t){for(var i=0;i<this._open.length;++i)if(this._open[i].x==t.x&&this._open[i].y==t.y)return!0;return!1},r.getpointdir=function(t){var i=[];return t.y>0&&i.push(this.createnode(t.x,t.y-1)),t.y>0&&t.x>0&&i.push(this.createnode(t.x-1,t.y-1)),t.y>0&&t.x<this.maxX&&i.push(this.createnode(t.x+1,t.y-1)),t.y<this.maxY&&i.push(this.createnode(t.x,t.y+1)),t.y<this.maxY&&t.x>0&&i.push(this.createnode(t.x-1,t.y+1)),t.y<this.maxY&&t.x<this.maxX&&i.push(this.createnode(t.x+1,t.y+1)),t.x>0&&i.push(this.createnode(t.x-1,t.y)),t.y<this.maxX&&i.push(this.createnode(t.x+1,t.y)),i},r.find2path=function(t,i){for(var e=0;e<l.object_list.length;++e){(!(n=l.object_list[e]).data||n.data.record!=h.lockingID&&n.data.record!=h.playerID)&&((1==n.type||2==n.type||3==n.type)&&n.grid.x<this.grids.width&&n.grid.y<this.grids.height&&this.grids.setWalkableAt(n.grid.x,n.grid.y,!1))}this._open=[],this._close=[],this.end=i;var r=this.createnode(t.x,t.y);r.g=0,r.h=this.calculateH(r,i),r.f=r.g+r.h;for(var s=0;r.x!=i.x||r.y!=i.y;){if(150==s++)return null;var a=this.getpointdir(r);for(e=0;e<a.length;++e){var n=a[e];if(!this.isclose(n)&&n.moveable){var o=this.cost_stargiht+r.g,c=this.calculateH(n,i),d=o+c;if(this.isopen(n))for(var u=0;u<this._open.length;++u){var p=this._open[u];p.x==n.x&&p.y==n.y&&p.g>o&&(p.f=d,p.g=o,p.h=c,p.parent=r)}else n.g=o,n.h=c,n.f=d,n.father=r,this._open.push(n)}}if(this._close.push(r),0==this._open.length)return 0;var g=9999,x=0;for(e=0;e<this._open.length;++e)this._open[e].f<g&&(g=this._open[e].f,x=e);r=this._open[x],this._open.splice(x,1)}return r.father},e}(n))._ins=void 0,u=p))||u));t("AStart",x.ins());e._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionBidTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameUtil.ts"],(function(i){"use strict";var e,n,t,o,r,a,l,u,c,s,d,p,b,_,g,m,h,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,l=i.Label,u=i.Node,c=i.Sprite,s=i.EditBox,d=i.Button,p=i.Component},function(i){b=i.EventMgr},function(i){_=i.Config},function(i){g=i.default},function(i){m=i.resourcesMgr},function(i){h=i.sendmessage},function(i){f=i.GameUtil}],execute:function(){var y,B,A,M,v,w,C,L,I,z,P,N,D,R,S,T,H,W,E,F,O,G,x,U,k,j,J,V,Y,q,K,Q,X,Z;r._RF.push({},"c10d1ChJRVDyI1dnr8YjaOI","AuctionBidTip",void 0);var $=a.ccclass,ii=a.property,ei=a.menu,ni=i("bidMaxMoneyNum",21e8);i("AuctionBidTip",(y=$("AuctionBidTip"),B=ei("拍卖行竞价界面/AuctionBidTip"),A=ii(l),M=ii(u),v=ii(l),w=ii(l),C=ii(c),L=ii(c),I=ii(c),z=ii(l),P=ii(s),N=ii(l),D=ii(c),R=ii(c),S=ii(c),T=ii(u),H=ii(u),y(W=B((F=e((E=function(i){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=i.call.apply(i,[this].concat(r))||this,t(e,"title_lab",F,o(e)),t(e,"propNode",O,o(e)),t(e,"propName_lab",G,o(e)),t(e,"bid_lab",x,o(e)),t(e,"bidMoney_bg",U,o(e)),t(e,"icon_spr",k,o(e)),t(e,"icon1_spr",j,o(e)),t(e,"curBidMoney_lab",J,o(e)),t(e,"bidMoney_input",V,o(e)),t(e,"inputLabel",Y,o(e)),t(e,"lineSp",q,o(e)),t(e,"closeSp",K,o(e)),t(e,"bigBg",Q,o(e)),t(e,"bidBtn",X,o(e)),t(e,"cancelBtn",Z,o(e)),e._itemData=null,e._data=null,e._minAddPrice=void 0,e.bidPriceGreaterHandle=function(){var i=this;if(parseInt(this.bidMoney_input.text)>this._data.onceMoney)return f.onShowTip("当前竞价已超过一口价，是否直接一口价购买",2,(function(){h.sendOnePriceBuyAuction(i._data.orderID)})),!0},e}n(e,i);var r=e.prototype;return r.onLoad=function(){this.init()},r.start=function(){this.loadResByLocal()},r.loadResByLocal=function(){f.loadResLocal("AuctionHouseWin/auctionTip_bg.png",this.node.getComponent(c)),f.loadResLocal("AuctionHouseWin/auction_line.png",this.lineSp),f.loadResLocal("AuctionHouseWin/setiing_itemFrame.png",this.propNode.getComponent(c)),f.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.bigBg),f.loadResLocal("AuctionHouseWin/auctionFrame2.png",this.bidMoney_bg),f.loadResLocal("public/btn_close_new.png",this.closeSp),f.loadResLocal("AuctionHouseWin/cancel_bid_select.png",this.cancelBtn.getComponent(c)),f.loadResLocal("AuctionHouseWin/suer_bid_select.png",this.bidBtn.getComponent(c));var i=this.cancelBtn.getComponent(d);f.loadResLocalButton("AuctionHouseWin/cancel_bid_select.png","AuctionHouseWin/cancel_bid_disable.png",i);var e=this.bidBtn.getComponent(d);f.loadResLocalButton("AuctionHouseWin/suer_bid_select.png","AuctionHouseWin/suer_bid_disable.png",e)},r.init=function(){b.addEventListener(g.CLOSEAUCTIONBIDTIP,this.onClose,this)},r.showUI=function(i){var e=this;this.node.active=!0,this._data=i,this.title_lab.string=i.title,this.curBidMoney_lab.string=i.priceMoney,this._itemData=i.itemData,f.showItemNum(i.itemData,this.propNode),m.handleLoad(f.getCurrencyIconSkinByGoldType(i.moneyType),(function(i,n){e.icon_spr.spriteFrame=e.icon1_spr.spriteFrame=n})),this.propName_lab.string=i.itemName,this.propName_lab.color=f.getColorBy16(i.itemNameColor),this.inputLabel.color=f.getColorBy16(i.moneyColor),this._minAddPrice=this.getMinAddBidNum(),this.bidMoney_input.string=this._minAddPrice+"",this.icon1_spr.node.active=i.isBid,this.bidMoney_input.node.active=i.isBid,this.bidMoney_bg.node.active=i.isBid,this.bid_lab.node.active=i.isBid},r.onClickItem=function(){this._itemData&&f.newShowItemsInf(this._itemData,null,f.getGameSize().width/2,!0)},r.onBid=function(){this._data.isBid?this.bidPriceGreaterHandle()||h.sendPlusAuctionPrice(this._data.orderID,this.bidMoney_input.string):h.sendOnePriceBuyAuction(this._data.orderID)},r.changeBidMoney=function(i){var e=parseInt(i.text),n=e>this._minAddPrice?e:this._minAddPrice;n>ni&&(n=21e8,f.onShowTip("最大金额为21亿")),this.bidMoney_input.string=n+""},r.getMinAddBidNum=function(){var i=_.g_customItemAttr.AuctionPlusPrice[this._data.moneyType]+this._data.priceMoney;return i>0?i:1},r.onClose=function(){this.bidMoney_input.string=this._minAddPrice+"",b.raiseEvent("clearBidorBuyWin"),this.node.destroy()},r.onDestroy=function(){b.removeEventListener(g.CLOSEAUCTIONBIDTIP,this.onClose,this)},e}(p)).prototype,"title_lab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(E.prototype,"propNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"propName_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(E.prototype,"bid_lab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(E.prototype,"bidMoney_bg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(E.prototype,"icon_spr",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(E.prototype,"icon1_spr",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(E.prototype,"curBidMoney_lab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(E.prototype,"bidMoney_input",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(E.prototype,"inputLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(E.prototype,"lineSp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(E.prototype,"closeSp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(E.prototype,"bigBg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(E.prototype,"bidBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(E.prototype,"cancelBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=E))||W)||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionhouseWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./AuctionBidTip.ts","./AuctionItem.ts","./SaleAuctionTip.ts","./ShelvesItem.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,u,l,c,h,y,d,g,p,m,f,_,b,A,C,v,T,B,D,N,S,w,L,I,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,u=t.Prefab,l=t.Toggle,c=t.SpriteFrame,h=t.Label,y=t.Sprite,d=t.Button,g=t.UITransform,p=t.Vec3,m=t.Layout,f=t.instantiate,_=t.Component},function(t){b=t.EventMgr},function(t){A=t.Config},function(t){C=t.default},function(t){v=t.resourcesMgr},function(t){T=t.Objectcontrol},function(t){B=t.ObjectManage},function(t){D=t.sendmessage},function(t){N=t.default},function(t){S=t.GameUtil},function(t){w=t.AuctionBidTip},function(t){L=t.AuctionItem},function(t){I=t.SaleAuctionTip},function(t){E=t.ShelvesItem}],execute:function(){var F,M,O,U,P,W,x,H,k,R,z,G,j,q,V,Y,J,X,K,Q,Z,$,tt,et,it,nt,ot,rt,at,st,ut,lt,ct,ht,yt,dt,gt,pt,mt,ft,_t,bt,At,Ct,vt,Tt,Bt,Dt;t("e_AuctionTabTypeEnum",void 0),r._RF.push({},"0ae58bJWHpCJ4vqMwy4LKXj","AuctionhouseWin",void 0);var Nt,St=a.ccclass,wt=a.property,Lt=a.menu;!function(t){t[t.wordAuction=0]="wordAuction",t[t.myAuction=1]="myAuction",t[t.myShelves=2]="myShelves"}(Nt||(Nt=t("e_AuctionTabTypeEnum",{})));t("AuctionhouseWin",(F=St("AuctionhouseWin"),M=Lt("拍卖行主界面/AuctionhouseWin"),O=wt(s),U=wt(u),P=wt(l),W=wt(l),x=wt(s),H=wt(s),k=wt(u),R=wt(s),z=wt(s),G=wt(s),j=wt(u),q=wt(c),V=wt(c),Y=wt(N),J=wt(s),X=wt(N),K=wt(s),Q=wt(h),Z=wt(u),$=wt(N),tt=wt(N),et=wt(u),F(it=M((ot=e((nt=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"currencyNode",ot,o(e)),n(e,"currencyPrefab",rt,o(e)),n(e,"tabBarBtns",at,o(e)),n(e,"categoryBarBtns",st,o(e)),n(e,"toggleGroups",ut,o(e)),n(e,"noAuction",lt,o(e)),n(e,"comBoBoxPref",ct,o(e)),n(e,"wordAuctionNode",ht,o(e)),n(e,"moneyFilterBtn",yt,o(e)),n(e,"timeFilterBtn",dt,o(e)),n(e,"categoryBtn",gt,o(e)),n(e,"categoryNoSelect",pt,o(e)),n(e,"categorySelect",mt,o(e)),n(e,"worldAuctionList",ft,o(e)),n(e,"myAuctionNode",_t,o(e)),n(e,"myAuctionList",bt,o(e)),n(e,"myShelvesNode",At,o(e)),n(e,"limitAuction_lab",Ct,o(e)),n(e,"saleAucitonTipPre",vt,o(e)),n(e,"saleAuction_list",Tt,o(e)),n(e,"bag_list",Bt,o(e)),n(e,"bidorBuyPrefab",Dt,o(e)),e._curTabType=Nt.wordAuction,e._curMoneyType=null,e._curCategoryType=null,e._equipCategory=["武器","男性衣服","女性衣服","头盔","斗笠","项链","戒指","手镯","勋章","马牌","盾牌","聚灵珠","宝石","鞋子","腰带","军鼓","时装"],e._skillCategory=["道士","战士","法师"],e._currencyList=[],e._bidorBuyWin=null,e._saleAuctionTip=null,e._hasCountDown=void 0,e._auctionHouseData=[],e._myAuctionData=[],e._saleAuctionData=[],e._bagData=[],e._moneyFiller=null,e._moneyFilterIndex=0,e._timeFiller=null,e._timeFilterIndex=0,e._moneyFillerLabs=["全部"],e.selectItemHandle=function(t,e){if(t)for(var i in t.children){t.children[i].getComponent(y).spriteFrame=this.categoryNoSelect,t.children[i].getComponent(d).normalSprite=this.categoryNoSelect}e&&e.target&&(e.target.getComponent(y).spriteFrame=this.categorySelect,e.target.getComponent(d).normalSprite=this.categorySelect)},e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.initEvent()},r.start=function(){D.sdCM_SERVERUNIXTIME(),this.init()},r.init=function(){this.noAuction.active=!1,this.initWorldAuctionWin(),D.sendRequestAuctionList()},r.initEvent=function(){b.addEventListener(C.UPDATEAUCTIONHOUSEMONEY,this.updateMoney,this),b.addEventListener(C.UPDATE_ALL_AUCTIONDATA,this.updateAuctionData,this),b.addEventListener(C.AUCTION_CREATE_CURRENCY,this.createCurrency,this),b.addEventListener(C.UPDATEWORDAUCITON,this.updateWordAuciton,this),b.addEventListener(C.UPDATEMYSHELVESINFO,this.updateMyShelvesInfo,this),b.addEventListener(C.UPDATEMYAUCTIONWIN,this.updateMyAuctionWin,this),b.addEventListener(C.UPDATEBAGLISTONMYSHELVES,this.updateBagListOnMyShelves,this),b.addEventListener(C.CLOSEAUCTIONHOUSEWIN,this.closeView,this),b.addEventListener(C.OPEN_BIDORBUY_WIN,this.openBidOrBuyWin,this),b.addEventListener("clearSaleAuctionTip",this.clearSaleAuctionTip,this),b.addEventListener("clearBidorBuyWin",this.clearBidorBuyWin,this)},r.initWorldAuctionWin=function(){this.createNavigationLabel(this._equipCategory,this.toggleGroups.children[1],"_equip",2),this.createNavigationLabel(this._skillCategory,this.toggleGroups.children[3],"_skill",4),this.setShowPanelByTab(this._curTabType)},r.setShowPanelByTab=function(t){void 0===t&&(t=0);var e=t==Nt.wordAuction,i=t==Nt.myAuction,n=t==Nt.myShelves;this.wordAuctionNode.active=e,this.moneyFilterBtn.active=e,this.timeFilterBtn.active=e,this.myAuctionNode.active=i,this.myShelvesNode.active=n,n&&(this.noAuction.active=!1)},r.onClickTabBtns=function(t){if(t.isChecked){var e=this.tabBarBtns.indexOf(t);switch(this._curTabType=e,e>-1&&this.setShowPanelByTab(e),e){case 0:this.updateAuctionHouseData(this.getFilterDataNew([this.categoryFilter,this.moneyDataFilter],[this._curCategoryType,this._curMoneyType]));break;case 1:this.updateMyAuctionWin();break;case 2:this.updateMyShelvesInfo()}}},r.update=function(t){},r.createCountDown=function(){this._hasCountDown||(this._hasCountDown=!0,this.schedule(this.countDown,1))},r.countDown=function(){b.raiseEvent(C.AUCTIONITEM_COUNTDOWN),b.raiseEvent(C.SHELVESITEM_COUNTDOWN)},r.clearTimer=function(){this._hasCountDown=!1,this.unschedule(this.countDown)},r.closeView=function(){this.clearTimer(),this.resetInitValue(),this.node.destroy()},r.resetInitValue=function(){this._currencyList.length=0,this._equipCategory.length=0,this._skillCategory.length=0,this._auctionHouseData.length=0,this._moneyFillerLabs.length=0,this._myAuctionData.length=0,this._saleAuctionData.length=0,this._bagData.length=0,this._bidorBuyWin=null,this._saleAuctionTip=null,this._moneyFiller=null,this._timeFiller=null},r.clearSaleAuctionTip=function(){this._saleAuctionTip=null},r.clearBidorBuyWin=function(){this._bidorBuyWin=null},r.onDestroy=function(){b.removeEventListener(C.UPDATEAUCTIONHOUSEMONEY,this.updateMoney,this),b.removeEventListener(C.UPDATE_ALL_AUCTIONDATA,this.updateAuctionData,this),b.removeEventListener(C.AUCTION_CREATE_CURRENCY,this.createCurrency,this),b.removeEventListener(C.UPDATEWORDAUCITON,this.updateWordAuciton,this),b.removeEventListener(C.UPDATEMYSHELVESINFO,this.updateMyShelvesInfo,this),b.removeEventListener(C.UPDATEMYAUCTIONWIN,this.updateMyAuctionWin,this),b.removeEventListener(C.UPDATEBAGLISTONMYSHELVES,this.updateBagListOnMyShelves,this),b.removeEventListener(C.CLOSEAUCTIONHOUSEWIN,this.closeView,this),b.removeEventListener(C.OPEN_BIDORBUY_WIN,this.openBidOrBuyWin,this),b.removeEventListener("clearSaleAuctionTip",this.clearSaleAuctionTip,this),b.removeEventListener("clearBidorBuyWin",this.clearBidorBuyWin,this)},r.createNavigationLabel=function(t,e,i,n){var o=e.getPosition().y,r=new s;r.addComponent(g),r.name="limitBox"+i,r.active=!1,this.toggleGroups.addChild(r),r.setSiblingIndex(n),r.setPosition(new p(this.toggleGroups.getPosition().x,o+-20.5)),r.addComponent(m).type=2;for(var a=0,u=0;u<t.length;u++){var l=t[u],c=f(this.categoryBtn);c.children[0].getComponent(h).string=l,r.addChild(c),a+=S.getNodeHeigth(c),c.on(s.EventType.TOUCH_START,this.smallCategoryClick,this)}S.getNodeTransForm(r).height=a,S.getNodeTransForm(r).width=S.getNodeWidth(e)},r.createCurrency=function(){var t,e,i=this,n=A.g_customItemAttr.AuctionEnabledMoneyType,o=[];this._currencyList=[];for(var r=function(r,a){if(0==(t=n[r]?r:0))return"continue";i._currencyList.push(t),e=f(i.currencyPrefab),i.currencyNode.addChild(e);var s=e.getChildByName("icon").getComponent(y);v.handleLoad(S.getCurrencyIconSkinByGoldType(t),(function(t,e){s.spriteFrame=e}));var u=e.getChildByName("money").getComponent(h);u.currencyType=t;var l=S.getCurrencyNumByGoldType(t),c=S.aucitonMoneyParse(l),d=S.getCurrencyByGoldType(t);i._moneyFillerLabs.push(d),o.push(d),u.string=c},a=1,s=n.length;a<s;a++)r(a);A.g_auctionCurrency={labels:o,currencyList:[].concat(this._currencyList)}},r.onClickComboHandler=function(t){var e=this,i=t.target;if("moneyFilter"==i.name){var n={items:this._moneyFillerLabs,width:i.getComponent(g).width};this._moneyFiller=f(this.comBoBoxPref),this._moneyFiller.setParent(i),this._moneyFiller.setPosition(new p(0,-i.getComponent(g).height/2)),this._moneyFiller.getComponent("ComBoBox").upDataView(n,(function(t){e._moneyFilterIndex=e._moneyFillerLabs.indexOf(t),i.getChildByName("Label").getComponent(h).string=t,e.changeAuctionSort(!0)}))}else if("timeFilter"==i.name){this._timeFiller=f(this.comBoBoxPref),this._timeFiller.setParent(i),this._timeFiller.setPosition(new p(0,-i.getComponent(g).height/2));var o={items:["时间升序","时间降序"],width:i.getComponent(g).width};this._timeFiller.getComponent("ComBoBox").upDataView(o,(function(t){e._timeFilterIndex=o.items.indexOf(t),i.getChildByName("Label").getComponent(h).string=t,e.changeAuctionSort(!1)}))}},r.changeAuctionSort=function(t){if(t)if(0==this._moneyFilterIndex){this._curMoneyType=void 0;var e=this.getFilterDataNew([this.categoryFilter],[this._curCategoryType]);this.updateAuctionHouseData(e),e=null}else{this._curMoneyType=[this._currencyList[this._moneyFilterIndex-1]];var i=this.getFilterDataNew([this.categoryFilter,this.moneyDataFilter],[this._curCategoryType,this._curMoneyType]);this.updateAuctionHouseData(i),i=null}else{var n=0==this._timeFilterIndex,o=this.sortAuctionByTimeUpOrDown(this._auctionHouseData,n);this.updateAuctionHouseData(o),o=null}},r.filerAuctionByCategory=function(t){if(t.isChecked){var e,i,n=this.categoryBarBtns.indexOf(t);if(n>-1)switch(n){case 0:this._curCategoryType=void 0,e=[this.moneyDataFilter],i=[[this._curMoneyType]];break;case 1:this._curCategoryType=this.equipStdModes();var o=this.toggleGroups.getChildByName("limitBox_equip"),r=this.toggleGroups.getChildByName("limitBox_skill");this.littleCategoryShowHandler(o,r),e=[this.categoryFilter,this.moneyDataFilter],i=[this._curCategoryType,[this._curMoneyType]];break;case 2:this._curCategoryType=this.skillStdModes();var a=this.toggleGroups.getChildByName("limitBox_skill"),s=this.toggleGroups.getChildByName("limitBox_equip");this.littleCategoryShowHandler(a,s),e=[this.categoryFilter,this.moneyDataFilter],i=[this._curCategoryType,[this._curMoneyType]];break;case 3:this._curCategoryType=this.materialStdModes(),e=[this.categoryFilter,this.moneyDataFilter],i=[this._curCategoryType,[this._curMoneyType]];break;case 4:this._curCategoryType=this.otherStdModes(),e=[this.categoryFilter,this.moneyDataFilter],i=[this._curCategoryType,[this._curMoneyType]]}this.updateAuctionHouseData(this.getFilterDataNew(e,i)),this.toggleGroups.getComponent(m).updateLayout(),e=null,i=null}},r.littleCategoryShowHandler=function(t,e){t.active=!t.active,this.selectItemHandle(e),e.active=!1},r.updateAuctionHouseData=function(t){this._auctionHouseData=t,this.worldAuctionList.numItems=this._auctionHouseData.length,this.noAuction.active=0==t.length&&this._curTabType!=Nt.myShelves,this.createCountDown()},r.updateAuctionData=function(){var t=this.getFilterDataNew([this.categoryFilter,this.moneyDataFilter],[this._curCategoryType,this._curMoneyType]);this.updateAuctionHouseData(t),t=null},r.updateWordAuciton=function(){this.categoryBarBtns[0].isChecked=!0,this.categoryBarBtns[1].isChecked=!1,this.categoryBarBtns[2].isChecked=!1,this.categoryBarBtns[3].isChecked=!1,this.categoryBarBtns[4].isChecked=!1,this.toggleGroups.getComponent(m).updateLayout(),this.updateAuctionHouseData(this.getFilterDataNew([this.categoryFilter,this.moneyDataFilter],[this._curCategoryType,this._curMoneyType]))},r.smallCategoryClick=function(t){var e=t&&t.target&&t.target.parent?t.target.parent:null;this.selectItemHandle(e,t);var i=t.target.children[0].getComponent(h).string;this._curCategoryType=S.getStdModeByName(i);var n=this.getFilterDataNew([this.categoryFilter,this.moneyDataFilter],[this._curCategoryType,this._curMoneyType]);this.updateAuctionHouseData(n),n=null},r.auctionHouseUpdateItem=function(t,e){var i=this._auctionHouseData[e];i&&(i.isMyAuction=!1,D.sendRequestDetailAuction(i.nRecog),t.getComponent(L).updateShowUI(i));i=null},r.updateMoney=function(t,e){var i=this._currencyList.indexOf(e);i>-1&&(this.currencyNode.children[i].getComponent(h).string=S.aucitonMoneyParse(S.getCurrencyNumByGoldType(e)),b.raiseEvent(C.AUCTIONITEM_UPDATEBUYCOLOR))},r.updateMyAuctionWin=function(){var t=B.findobject(A.playerID),e=this.getFilterDataNew([this.bidNameFilter],[S.getPureName(t)]);this._myAuctionData=e,this.myAuctionList.numItems=e.length,this.noAuction.active=0==e.length&&this._curTabType==Nt.myAuction,this.createCountDown(),e=null},r.myAuctionUpdateItem=function(t,e){var i=this._myAuctionData[e];i&&(i.isMyAuction=!0,D.sendRequestDetailAuction(i.nRecog),t.getComponent(L).updateShowUI(i))},r.updateMyShelvesInfo=function(){var t=this.getFilterDataNew([this.ownerNameFilter],[S.getPureName(T.self_obj)]);this.limitAuction_lab.string=t.length+"/"+A.g_customItemAttr.AuctionMaxItemsPersonalLimited,this.checkDataEqual(this._saleAuctionData,t)||this.updateSaleAuctionData(t);var e=this.getCanShelvesItemData();this.checkDataEqual(this._bagData,e)||this.updateBagListOnMyShelves(),this.createCountDown(),t=null,e=null},r.updateSaleAuctionData=function(t){this._saleAuctionData=t,this.saleAuction_list.numItems=t.length},r.updateBagListOnMyShelves=function(t){this._bagData=t||this.getCanShelvesItemData(),this.bag_list.numItems=this._bagData.length},r.saleAuctionUpdateItem=function(t,e){var i=this._saleAuctionData[e];i&&(D.sendRequestDetailAuction(i.nRecog),t.getComponent(E).showUI(i));i=null},r.saleAuctionClickItem=function(t,e){if(!this._saleAuctionTip){var i=f(this.saleAucitonTipPre);this._saleAuctionTip=i.getComponent(I),this.node.addChild(i)}var n=this._saleAuctionData[e];n&&this._saleAuctionTip.showUI({data:n,isShelves:!1}),n=null},r.bagListUpdateItem=function(t,e){var i=this._bagData[e];i&&S.showItemNum(i,t,S.getNodeWidth(t)/2,S.getNodeHeigth(t)/2)},r.bagListClickItem=function(t,e){if(!this._saleAuctionTip){var i=f(this.saleAucitonTipPre);this._saleAuctionTip=i.getComponent(I),this.node.addChild(i)}var n=this.limitAuction_lab.string.split("/"),o=n[0]===n[1];this._saleAuctionTip.showUI({data:this._bagData[e],isShelves:!0,full:o})},r.setCurrencyMoney=function(){for(var t=0;t<this.currencyNode.children.length;t++){var e=this.currencyNode.children[t].getComponent(h);e.string=S.aucitonMoneyParse(S.getCurrencyNumByGoldType(e.currencyType))}},r.openBidOrBuyWin=function(t){if(!this._bidorBuyWin){var e=f(this.bidorBuyPrefab);this._bidorBuyWin=e.getComponent(w),this.node.addChild(e)}t&&this._bidorBuyWin.showUI(t)},r.getFilterData=function(t,e,i,n){for(var o=[],r=A.g_auctionList.length,a=0;a<r;a++)if(i)A.g_auctionList[a].sOwner.indexOf(i)>-1&&o.push(A.g_auctionList[a]);else if(n)A.g_auctionList[a].sHighestBidder.indexOf(n)>-1&&o.push(A.g_auctionList[a]);else if(e)e.indexOf(A.g_auctionList[a].btMoneyType)>-1&&o.push(A.g_auctionList[a]);else{if(!t){o.push(A.g_auctionList[a]);continue}if(null!=t.job||null!=t.job){t.stdmode==A.g_auctionList[a].btStdMode&&t.job==A.g_auctionList[a].wShape&&o.push(A.g_auctionList[a]);continue}t.indexOf(A.g_auctionList[a].btStdMode)>-1&&o.push(A.g_auctionList[a])}return this.sortAuctionByTimeUpOrDown(o,0==this._timeFilterIndex)},r.bidNameFilter=function(t,e){return e.sHighestBidder.indexOf(t)>-1},r.ownerNameFilter=function(t,e){return e.sOwner.indexOf(t)>-1},r.moneyDataFilter=function(t,e){return t.indexOf(e.btMoneyType)>-1},r.categoryFilter=function(t,e){return 4==t.stdmode?null!=t.job&&null!=t.job&&(t.stdmode==e.btStdMode&&t.job==e.wShape):t.indexOf(e.btStdMode)>-1},r.jobFilter=function(t,e){return null!=t.job&&null!=t.job&&(t.stdmode==e.btStdMode&&t.job==e.wShape)},r.getFilterDataNew=function(t,e){for(var i,n=[],o=0;o<A.g_auctionList.length;o++)i=A.g_auctionList[o],(!e||this.filterResultByConditionNumber(t[0],i,e[0])&&this.filterResultByConditionNumber(t[1],i,e[1])&&this.filterResultByConditionNumber(t[2],i,e[2])&&this.filterResultByConditionNumber(t[3],i,e[3]))&&n.push(i);return this.sortAuctionByTimeUpOrDown(n,0==this._timeFilterIndex)},r.filterResultByConditionNumber=function(t,e,i){return null==t||null==t||!i||(!(null!=i[0]&&null!=i[0]||i.stdmode)||t(i,e))},r.getCategoryListByType=function(t){for(var e,i=[],n=0;n<t.length;n++)e=S.getItemTypeNameByStdMode(t[n].btStdMode,t[n].wShape),i.indexOf(e)<0&&i.push(e);return i},r.isEquipStdMode=function(t){return[5,6,10,11,15,16,19,20,21,22,23,24,26,78,48,49,53,63,62,64,65].indexOf(t)>-1},r.equipStdModes=function(){return[5,6,10,11,15,16,19,20,21,22,23,24,26,30,78,48,49,53,63,62,64,65]},r.isSkillStdMode=function(t){return 4==t},r.skillStdModes=function(){return[4]},r.isMaterialStdMode=function(t){return[17,18,40,41,42].indexOf(t)>-1},r.materialStdModes=function(){return[17,18,40,41,42]},r.isOtherStdMode=function(t){return[0,1,2,3,31].indexOf(t)>-1},r.otherStdModes=function(){return[0,1,2,3,31]},r.sortAuctionByTimeUpOrDown=function(t,e){var i=e?function(t,e){return t.dateCompareNum-e.dateCompareNum}:function(t,e){return e.dateCompareNum-t.dateCompareNum};return t.sort(i)},r.getCanShelvesItemData=function(){for(var t,e=[],i=0;i<A.g_BagItemsList.length;i++)(t=A.g_BagItemsList[i])&&!t.s.IsBind&&e.push(t);return e},r.checkDataEqual=function(t,e){return!(!t||!e)&&JSON.stringify(t)===JSON.stringify(e)},e}(_)).prototype,"currencyNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(nt.prototype,"currencyPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(nt.prototype,"tabBarBtns",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=e(nt.prototype,"categoryBarBtns",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=e(nt.prototype,"toggleGroups",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(nt.prototype,"noAuction",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(nt.prototype,"comBoBoxPref",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(nt.prototype,"wordAuctionNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(nt.prototype,"moneyFilterBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(nt.prototype,"timeFilterBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(nt.prototype,"categoryBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(nt.prototype,"categoryNoSelect",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(nt.prototype,"categorySelect",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(nt.prototype,"worldAuctionList",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(nt.prototype,"myAuctionNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(nt.prototype,"myAuctionList",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(nt.prototype,"myShelvesNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(nt.prototype,"limitAuction_lab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(nt.prototype,"saleAucitonTipPre",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(nt.prototype,"saleAuction_list",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(nt.prototype,"bag_list",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(nt.prototype,"bidorBuyPrefab",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=nt))||it)||it));r._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionHouseWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,o,l,r,a,u,c,s,p,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.Node,u=e.Sprite,c=e.Toggle,s=e.Button,p=e.Component},function(e){g=e.resourcesMgr},function(e){b=e.GameUtil}],execute:function(){var m,S,y,h,f,B,A,d,_,H,W,v,R,w,L,z,C,F,T,V,k,D,M,P,q,G,U,j,x,E,I,N,Y,J,K,O,Q,X,Z,$,ee,te,ie,ne,oe,le,re,ae,ue,ce;l._RF.push({},"00891T+gTRHEY4FaPc+g/Wp","AuctionHouseWinSprite",void 0);var se=r.ccclass,pe=r.property,ge=r.menu;e("default",(m=se("AuctionHouseWinSprite"),S=ge("拍卖行图片模块/AuctionHouseWinSprite"),y=pe(a),h=pe(u),f=pe(u),B=pe(u),A=pe(u),d=pe(u),_=pe(u),H=pe(u),W=pe(u),v=pe(u),R=pe(u),w=pe(u),L=pe(u),z=pe(u),C=pe(u),F=pe(u),T=pe(u),V=pe(a),k=pe(a),D=pe(u),M=pe(u),P=pe(c),q=pe(c),m(G=S((j=t((U=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"noAuction",j,o(t)),n(t,"titleSp",x,o(t)),n(t,"closeSp",E,o(t)),n(t,"worldBgSp",I,o(t)),n(t,"blackBgSp",N,o(t)),n(t,"verticalSp1",Y,o(t)),n(t,"verticalSp2",J,o(t)),n(t,"verticalSp3",K,o(t)),n(t,"crossSp",O,o(t)),n(t,"myAuctionBgSp",Q,o(t)),n(t,"mVerticalSp1",X,o(t)),n(t,"mVerticalSp2",Z,o(t)),n(t,"mVerticalSp3",$,o(t)),n(t,"mCrossSp",ee,o(t)),n(t,"myShelvesBg",te,o(t)),n(t,"myShelvesVerticalSp",ie,o(t)),n(t,"myShelvesCrossSp",ne,o(t)),n(t,"timeF",oe,o(t)),n(t,"moneyF",le,o(t)),n(t,"selectBarBtns",re,o(t)),n(t,"selectCategoryBtns",ae,o(t)),n(t,"tabBarBtns",ue,o(t)),n(t,"categoryBarBtns",ce,o(t)),t}return i(t,e),t.prototype.start=function(){b.loadResLocal("AuctionHouseWin/auctionHouse_bg.png",this.getComponent(u)),b.loadResLocal("AuctionHouseWin/auction_title.png",this.titleSp),b.loadResLocal("public/btn_close_new.png",this.closeSp),b.loadResLocal("AuctionHouseWin/noAuction_img.png",this.noAuction.getComponent(u)),b.loadResLocal("AuctionHouseWin/wordAuction_bg.png",this.worldBgSp),b.loadResLocal("AuctionHouseWin/auction_blackBg.png",this.blackBgSp),b.loadResLocal("AuctionHouseWin/auciton_vertical.png",this.verticalSp1),b.loadResLocal("AuctionHouseWin/auciton_vertical.png",this.verticalSp2),b.loadResLocal("AuctionHouseWin/auciton_vertical.png",this.verticalSp3),b.loadResLocal("AuctionHouseWin/auction_cross.png",this.crossSp),b.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.moneyF.getComponent(u));var e=this.moneyF.getComponent(s);e.normalSprite=g.getRes("AuctionHouseWin/auctionFrame1.png"),e.pressedSprite=g.getRes("AuctionHouseWin/auctionFrame2.png"),e.hoverSprite=e.normalSprite,b.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.timeF.getComponent(u));var t=this.timeF.getComponent(s);t.normalSprite=g.getRes("AuctionHouseWin/auctionFrame1.png"),t.pressedSprite=g.getRes("AuctionHouseWin/auctionFrame2.png"),t.hoverSprite=t.normalSprite,b.loadResLocal("AuctionHouseWin/auction_blackBg.png",this.myAuctionBgSp),b.loadResLocal("AuctionHouseWin/auciton_vertical.png",this.mVerticalSp1),b.loadResLocal("AuctionHouseWin/auciton_vertical.png",this.mVerticalSp2),b.loadResLocal("AuctionHouseWin/auciton_vertical.png",this.mVerticalSp3),b.loadResLocal("AuctionHouseWin/auction_cross.png",this.mCrossSp),b.loadResLocal("AuctionHouseWin/auction_black2Bg.png",this.myShelvesBg),b.loadResLocal("AuctionHouseWin/auciton_vertical.png",this.myShelvesVerticalSp),b.loadResLocal("AuctionHouseWin/auction_cross.png",this.myShelvesCrossSp),b.loadResLocalToggle("AuctionHouseWin/wordAuction_disable.png","AuctionHouseWin/wordAuction_select.png",this.tabBarBtns[0],this.selectBarBtns[0]),b.loadResLocalToggle("AuctionHouseWin/myAuction_disable.png","AuctionHouseWin/myAuction_select.png",this.tabBarBtns[1],this.selectBarBtns[1]),b.loadResLocalToggle("AuctionHouseWin/myShelves_disable.png","AuctionHouseWin/myShelves_select.png",this.tabBarBtns[2],this.selectBarBtns[2]),b.loadResLocalToggle("AuctionHouseWin/auction_all_disable.png","AuctionHouseWin/auction_all_select.png",this.categoryBarBtns[0],this.selectCategoryBtns[0]),b.loadResLocalToggle("AuctionHouseWin/auction_equip_disable.png","AuctionHouseWin/auction_equip _select.png",this.categoryBarBtns[1],this.selectCategoryBtns[1]),b.loadResLocalToggle("AuctionHouseWin/auction_skill_disable.png","AuctionHouseWin/auction_skill_select.png",this.categoryBarBtns[2],this.selectCategoryBtns[2]),b.loadResLocalToggle("AuctionHouseWin/auction_material_disable.png","AuctionHouseWin/auction_material_select.png",this.categoryBarBtns[3],this.selectCategoryBtns[3]),b.loadResLocalToggle("AuctionHouseWin/auction_other_disable.png","AuctionHouseWin/auction_other_select.png",this.categoryBarBtns[4],this.selectCategoryBtns[4])},t}(p)).prototype,"noAuction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"titleSp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(U.prototype,"closeSp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(U.prototype,"worldBgSp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(U.prototype,"blackBgSp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"verticalSp1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"verticalSp2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(U.prototype,"verticalSp3",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(U.prototype,"crossSp",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(U.prototype,"myAuctionBgSp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(U.prototype,"mVerticalSp1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(U.prototype,"mVerticalSp2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(U.prototype,"mVerticalSp3",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(U.prototype,"mCrossSp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(U.prototype,"myShelvesBg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(U.prototype,"myShelvesVerticalSp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(U.prototype,"myShelvesCrossSp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(U.prototype,"timeF",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(U.prototype,"moneyF",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(U.prototype,"selectBarBtns",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(U.prototype,"selectCategoryBtns",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(U.prototype,"tabBarBtns",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=t(U.prototype,"categoryBarBtns",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=U))||G)||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/AuctionItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./objectmanage.ts","./RGBCode.ts","./GameUtil.ts"],(function(t){"use strict";var i,e,n,o,a,r,s,u,l,c,p,h,m,b,d,y,f,g,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,u=t.Label,l=t.Sprite,c=t.Button,p=t.Color,h=t.Component},function(t){m=t.EventMgr},function(t){b=t.Config},function(t){d=t.default},function(t){y=t.resourcesMgr},function(t){f=t.ObjectManage},function(t){g=t.rgbCode},function(t){_=t.GameUtil}],execute:function(){var T,P,A,I,B,N,C,v,M,D,w,E,O,R,L,U,z,H,W,S,G,k,Y,j,F,x,J,V,q,K,Q,X,Z,$,tt,it;a._RF.push({},"50af7oRtkJA4of5yjVJkr69","AuctionItem",void 0);var et=r.ccclass,nt=r.property,ot=r.menu;t("AuctionItem",(T=et("AuctionItem"),P=ot("拍卖行item/AuctionhouseWin"),A=nt(s),I=nt(s),B=nt(u),N=nt(u),C=nt(s),v=nt(u),M=nt(s),D=nt(l),w=nt(u),E=nt(u),O=nt(s),R=nt(s),L=nt(l),U=nt(u),z=nt(l),H=nt(s),T(W=P((G=i((S=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"part1",G,o(i)),n(i,"item",k,o(i)),n(i,"myAuction_lab",Y,o(i)),n(i,"itemName_lab",j,o(i)),n(i,"part2",F,o(i)),n(i,"lastTime_lab",x,o(i)),n(i,"part3",J,o(i)),n(i,"currencyIcon",V,o(i)),n(i,"bidTip_lab",q,o(i)),n(i,"bidMoney_lab",K,o(i)),n(i,"bidding_btn",Q,o(i)),n(i,"part4",X,o(i)),n(i,"currencyIcon1",Z,o(i)),n(i,"oncePrice_lab",$,o(i)),n(i,"lineSp",tt,o(i)),n(i,"buyBtn",it,o(i)),i._data=null,i._itemData=null,i._myRoleName=void 0,i._isMyAuction=void 0,i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.init()},a.start=function(){this.loadResByLocal()},a.init=function(){this.initEvent()},a.loadResByLocal=function(){_.loadResLocal("AuctionHouseWin/auction_cross.png",this.lineSp),_.loadResLocal("AuctionHouseWin/setiing_itemFrame.png",this.item.getComponent(l)),_.loadResLocal("AuctionHouseWin/auctionBid_select.png",this.bidding_btn.getComponent(l)),_.loadResLocal("AuctionHouseWin/auctionBuy_select.png",this.buyBtn.getComponent(l));var t=this.bidding_btn.getComponent(c);t.normalSprite=y.getRes("AuctionHouseWin/auctionBid_select.png"),t.pressedSprite=y.getRes("AuctionHouseWin/auctionBid_disable.png");var i=this.buyBtn.getComponent(c);i.normalSprite=y.getRes("AuctionHouseWin/auctionBuy_select.png"),i.pressedSprite=y.getRes("AuctionHouseWin/auctionBuy_disable.png")},a.initEvent=function(){m.addEventListener(d.UPDATEITEMDATA,this.updateItemUI,this),m.addEventListener(d.AUCTIONITEM_COUNTDOWN,this.updateCountDown,this),m.addEventListener(d.AUCTIONITEM_UPDATEBUYCOLOR,this.updateBuyColor,this)},a.updateShowUI=function(t){var i=this;this._data=t,this.getMyName(),this.changePosByOpenPage(t.isMyAuction),this.bidding_btn.active=!this._isMyAuction,this.lastTime_lab.string=_.auctionLastTime(t.dateCompareNum);var e=_.getCurrencyIconSkinByGoldType(t.btMoneyType);y.handleLoad(e,(function(t,e){i.currencyIcon.spriteFrame=e})),this.bidMoney_lab.string=_.aucitonMoneyParse(t.nCurrentPrice),this.bidMoney_lab.color=this.canBuy(t.nCurrentPrice,t.btMoneyType)?new p("#ffffff"):new p("#ff0400"),this.oncePrice_lab.string=_.aucitonMoneyParse(t.nBuyOutPrice),this.oncePrice_lab.color=this.canBuy(t.nBuyOutPrice,t.btMoneyType)?new p("#ffffff"):new p("#ff0400"),this.isBiding()&&(this.bidTip_lab.string="竞价中"),this.isHighPrice()&&(this.bidTip_lab.string="您的出价最高"),this.bidTip_lab.node.active=this.isBiding()||this.isHighPrice(),this.myAuction_lab.node.active=t.sOwner.indexOf(this._myRoleName)>-1},a.getMyName=function(){if(!this._myRoleName){var t=f.findobject(b.playerID);this._myRoleName=_.getPureName(t),t=null}},a.updateItemUI=function(){if(this._data){var t=b.g_aucitonItemList[""+this._data.nRecog];t&&(this._itemData=t,_.showItemNum(t,this.item,_.getNodeWidth(this.item)/2,_.getNodeHeigth(this.item)/2),this.itemName_lab.string=this._data.sItemName,this.itemName_lab.color=new p(g.Get2RGB(t.s.Color)))}},a.updateCountDown=function(){if(this.lastTime_lab.string=_.auctionCountDownHandle(this.lastTime_lab.string),"00:00:00"==this.lastTime_lab.string&&this._data){var t=this._data.nRecog,i=b.g_auctionList.length;if(i<1)return void(this._isMyAuction?m.raiseEvent(d.UPDATEMYAUCTIONWIN):m.raiseEvent(d.UPDATE_ALL_AUCTIONDATA));for(var e=b.g_auctionList,n=0;n<i;n++)if(e[n]&&e[n].nRecog==t){b.g_auctionList.splice(n,1),this._isMyAuction?setTimeout((function(){m.raiseEvent(d.UPDATEMYAUCTIONWIN)}),100):m.raiseEvent(d.UPDATE_ALL_AUCTIONDATA);break}e=null}},a.updateBuyColor=function(){this._data&&(this.bidMoney_lab.color=this.canBuy(this._data.nCurrentPrice,this._data.btMoneyType)?new p("#ffffff"):new p("#ff0400"))},a.onBidding=function(){var t={title:"竞价",itemData:this._itemData,itemName:this._data.sItemName,itemNameColor:this.itemName_lab.color,priceMoney:this._data.nCurrentPrice,onceMoney:this._data.nBuyOutPrice,orderID:this._data.nRecog,moneyColor:this.bidMoney_lab.color,moneyType:this._data.btMoneyType,isBid:!0};m.raiseEvent(d.OPEN_BIDORBUY_WIN,t),t=null},a.onBuy=function(){var t={title:"一口价",itemData:this._itemData,itemName:this._data.sItemName,itemNameColor:this.itemName_lab.color,priceMoney:this._data.nBuyOutPrice,orderID:this._data.nRecog,moneyColor:this.oncePrice_lab.color,moneyType:this._data.btMoneyType,isBid:!1};m.raiseEvent(d.OPEN_BIDORBUY_WIN,t),t=null},a.onItemClick=function(){this._itemData&&_.newShowItemsInf(this._itemData,null,_.getGameSize().width/2,!0)},a.changePosByOpenPage=function(t){t?(this.part1.setPosition(-300,this.part1.getPosition().y),this.part2.setPosition(-128.4,this.part2.getPosition().y),this.part3.setPosition(-25.5,this.part3.getPosition().y),this.part4.setPosition(164.5,this.part4.getPosition().y)):(this.part1.setPosition(-231,this.part1.getPosition().y),this.part2.setPosition(-61,this.part2.getPosition().y),this.part3.setPosition(0,this.part3.getPosition().y),this.part4.setPosition(120,this.part4.getPosition().y))},a.isBiding=function(){return this._data.sHighestBidder&&""!=this._data.sHighestBidder},a.isHighPrice=function(){return this._data.sHighestBidder.indexOf(this._myRoleName)>-1},a.canBuy=function(t,i){return _.getCurrencyNumByGoldType(i)-t>=0},a.onDestroy=function(){m.removeEventListener(d.UPDATEITEMDATA,this.updateItemUI,this),m.removeEventListener(d.AUCTIONITEM_COUNTDOWN,this.updateCountDown,this),m.removeEventListener(d.AUCTIONITEM_UPDATEBUYCOLOR,this.updateBuyColor,this)},i}(h)).prototype,"part1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(S.prototype,"item",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(S.prototype,"myAuction_lab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(S.prototype,"itemName_lab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(S.prototype,"part2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(S.prototype,"lastTime_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(S.prototype,"part3",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(S.prototype,"currencyIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(S.prototype,"bidTip_lab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(S.prototype,"bidMoney_lab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(S.prototype,"bidding_btn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(S.prototype,"part4",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(S.prototype,"currencyIcon1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(S.prototype,"oncePrice_lab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(S.prototype,"lineSp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(S.prototype,"buyBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=S))||W)||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/audioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./GameUtil.ts","./Config.ts"],(function(o){"use strict";var e,n,t,i,a,u,s,r,l;return{setters:[function(o){e=o.inheritsLoose,n=o.createClass},function(o){t=o.cclegacy,i=o.assert,a=o.clamp01,u=o.Component},function(o){s=o.resourcesMgr},function(o){r=o.GameUtil},function(o){l=o.Config}],execute:function(){t._RF.push({},"dce50jAsANK9otnDZiYFDmC","audioManager",void 0);var c=o("audioManager",function(o){function t(){for(var e,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(e=o.call.apply(o,[this].concat(t))||this).soundScale=2,e.isStop=!1,e.soundList={},e}e(t,o);var u=t.prototype;return u.init=function(o){t._audioSource=o;var e=t._audioSource;i(e,"AudioManager not inited!"),this.setVolume(.5),console.log("初始音量："+e.volume)},u.playMusic=function(o){var e=t._audioSource;i(e,"AudioManager not inited!"),o=this.parsePath(o),s.handleLoad(o,(function(o){o&&(e.playing&&(e.stop(),e.loop=!1,e.clip=null),e.clip=o,e.playOnAwake=!1,e.loop=!0,e.play(),console.log("当前音乐音量："+e.volume))}))},u.playSound=function(o){var e=this;if(null!=o&&""!=o&&!this.isStop){o=this.parsePath(o);var n=t._audioSource;i(n,"AudioManager not inited!");var a=this.soundList[s.httpUrl+o];if(a)if((performance.now()-a)/1e3<.2)return void console.log("短时间内不重复播放："+o);s.handleLoad(o,(function(o){o&&(e.isStop||(e.soundList[o.nativeUrl]=performance.now(),n.playOneShot(o,e.soundScale)))}))}},u.getVolume=function(){var o=t._audioSource;return i(o,"AudioManager not inited!"),o.volume},u.setVolume=function(o){var e=t._audioSource;i(e,"AudioManager not inited!"),o=a(o),e.volume=o,console.log("音量设置为---\x3e>> ",o)},u.getSoundVolume=function(){return this.soundScale},u.setSoundVolume=function(o){this.soundScale=o},u.openVolume=function(){var o=JSON.parse(r.getSaveData(l.g_relogname+l.g_playerName+"role_set_cfglist"));o?(this.setSoundVolume(parseFloat((.01*o.gameVoice).toFixed(1))),this.setVolume(parseFloat((.01*o.gameVoice).toFixed(1)))):this.setVolume(.8)},u.closeVolume=function(){this.setVolume(0)},u.openSound=function(){this.setSoundVolume(1)},u.closeSound=function(){this.setSoundVolume(0)},u.stopAll=function(){var o=t._audioSource;i(o,"AudioManager not inited!"),o.stop()},u.parsePath=function(o){return"wav"!=l.S_LIMIT_FORMAT&&o.endsWith(".wav")&&(o=o.replace(".wav","."+l.S_LIMIT_FORMAT)),-1==o.indexOf("/")&&-1==o.indexOf("\\")&&(-1!=o.indexOf("wav/")||-1!=o.indexOf("Wav/")||(o="wav/"+o)),-1!=o.indexOf("Wav/")&&(o=o.replace("Wav/","wav/")),o},n(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(u));c._instance=void 0,c._audioSource=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/AutoHookModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./objectmanage.ts","./GameConfig.ts","./GameUtil.ts","./SkillModule.ts","./Astart.ts","./MoveModule.ts","./objectcontrol.ts","./FightModule.ts","./ItemMgr.ts","./EventManager.ts","./EventCustom.ts"],(function(t){"use strict";var i,e,s,r,n,a,o,l,g,u,c,f,d,h,m,_,v,k;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,r=t.v2,n=t.Vec2,a=t.Component},function(t){o=t.Config},function(t){l=t.objectmanage},function(t){g=t.gameConfig},function(t){u=t.GameUtil},function(t){c=t.Skillmodule},function(t){f=t.Astart},function(t){d=t.Movemodule},function(t){h=t.objectcontrol},function(t){m=t.Fightmodule},function(t){_=t.ItemMgr},function(t){v=t.EventMgr},function(t){k=t.default}],execute:function(){var b,p;e._RF.push({},"5afed0pxNJHUozaLbcaLjnu","AutoHookModule",void 0);var I=s.ccclass,M=(s.property,t("AutoHookModule",I("AutoHookModule")(((p=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).autocorrect=0,i.findPos=!0,i.randPos=null,i.goDir=-1,i.errCount=0,i.poison_num=0,i.summontime=0,i.itemId=0,i.itemPos={x:0,y:0},i.lastMoveTarget=[],i.randomPoint=function(t,i,e,s){this.randPos=null;for(var n=u.getMapLayerScript(),a=n.width_,o=n.height_,l=20;l--;){var g=Math.floor(Math.random()*(i-t+1)+t-1),c=Math.floor(Math.random()*(s-e+1)+e-1);if(g>0&&g<a&&c>0&&c<o)if(f.ins().cur_matx&&f.ins().cur_matx[0]&&c<f.ins().cur_matx.length&&g<f.ins().cur_matx[0].length)if(0==f.ins().cur_matx[c][g])if(d.find4path(h.ins().self_obj.grid,r(g,c)).length>0){this.randPos=[g,c];break}}},i}i(e,t),e.ins=function(){return this._ins||(this._ins=new e),this._ins};var s=e.prototype;return s.start=function(){},s.update=function(t){},s.autorule=function(){var t=l.ins().findobject(o.playerID);t.skin_feature&&this.autoskill(t)},s.autoskill=function(t){var i=this.hastriggerskill(t,o.GlobalCfglist.single_ds_list),e=this.hastriggerskill(t,"施毒术"),s=this.hastriggerskill(t,o.GlobalCfglist.ds_summon_list),r=this.hastriggerskill(t,o.GlobalCfglist.group_ds_list),n=this.hastriggerskill(t,o.GlobalCfglist.ds_cure_list),a=l.ins().findobject(o.lockingID);if(null!=a){var u=this.rangelegal(t,a),c=this.nearbyenemynum(),f=Date.now();if(n&&o.GlobalCfglist.ds_cure&&f-g.cure_time>1e3*o.GlobalCfglist.ds_time_slider&&f-g.cure_time>1e3*n.Def.w02&&t&&t.m_Abil&&!t.is_die&&t.m_Abil.HP<=t.m_Abil.MaxHP*o.GlobalCfglist.ds_limit_slider/100)return this.setSkill(n,t.grid),void(g.cure_time=f);o.GlobalCfglist.ds_summon&&this.canuseAmulet()&&f-this.summontime>5e3&&s&&this.checkcallpet(t,o.GlobalCfglist.ds_summon_list)?(this.setSkill(s,null),this.summontime=f):c>=o.GlobalCfglist.group_skill_num&&o.GlobalCfglist.group_ds&&r?u?this.setSkill(r,null):d.startmove(t.grid,a.grid):o.GlobalCfglist.poison_ds&&e&&this.canusePoison()&&o.g_autohookpoison<2?u?this.setSkill(e,null):d.startmove(t.grid,a.grid):o.GlobalCfglist.single_ds&&i&&(13!=i.Def.wMagicId&&10!=i.Def.btEffect||this.canuseAmulet())?u&&0==a.ddl_state?this.setSkill(i,null):d.startmove(t.grid,a.grid):0==a.ddl_state?h.ins().fight():d.startmove(t.grid,a.grid),!i||h.ins().use_skill||h.ins().use_attack||!o.GlobalCfglist.auto_dodge||this.escaperule(t,a)}else o.lockingID=0},s.rangelegal=function(t,i){var e=n.distance(t.grid,i.grid);if(t&&i)return e<9},s.hastriggerskill=function(t,i){var e=this.hasskill(i),s=l.ins().findobject(o.lockingID);return t&&e&&(s&&0==s.ddl_state||"治愈术"==e.Def.sMagicName||"群体治疗术"==e.Def.sMagicName)&&u.judgeMagicMp(e,t)?e:null},s.canuseskill=function(t){var i=t.skin_feature.btJob;if(1==i&&this.hastriggerskill(t,o.GlobalCfglist.single_fs_list)||2==i&&this.hastriggerskill(t,o.GlobalCfglist.single_ds_list)&&this.canuseAmulet()){var e=l.ins().findobject(o.lockingID);if(e&&e.grid)return n.distance(t.grid,e.grid)<6}return!1},s.nearbyenemynum=function(){var t=0,i=l.ins().findobject(o.lockingID);if(i)for(var e=0;e<l.ins().object_list.length;e++){var s=l.ins().object_list[e];if(s.data&&1==s.type&&!s.is_die&&!this.isMyPet(s)){var r=s.grid.x-i.grid.x,n=s.grid.y-i.grid.y;r<4&&r>-4&&n<4&&n>-4&&t++}}return t},s.hasskill=function(t){for(var i=0;i<o.g_UserMagicList.length;i++){var e=o.g_UserMagicList[i];if(e.Def.sMagicName==t)return e}return null},s.isMyPet=function(t){return!!t.OwnerID&&t.OwnerID==o.playerID},s.setSkill=function(t,i){if(t){var e=c.getskilldata(t.Def.btEffect,t.Def.wMagicId);if(e&&0==e.mode&&0!=e.fly_frame&&!this.checkFly()&&o.autohookstate){var s=l.ins().findobject(o.playerID),r=l.ins().findobject(o.lockingID);if(s&&r){var n=r.grid;this.isPathJammed()&&(n.x+=4),d.startmove(s.grid,n),this.lastMoveTarget.length>=3&&this.lastMoveTarget.shift(),this.lastMoveTarget.push(d.move_list)}}else d.stopmove(),this.lastMoveTarget=[],o.activate_skilluse=t.Def.btEffect,o.activate_skilltype=t.Def.wMagicId,o.activate_skillpos=i,i?h.ins().useskill(t.Def.btEffect,t.Def.wMagicId,i):h.ins().useskill(t.Def.btEffect,t.Def.wMagicId)}},s.checkFly=function(){var t=l.ins().findobject(o.playerID),i=l.ins().findobject(o.lockingID);if(t&&i){var e=u.getorientation(t.grid,i.grid);if(-1!=e){for(var s=t.grid,r=n.distance(t.grid,i.grid);n.distance(t.grid,s)<r;)if(e=u.getorientation(s,i.grid),s=u.getMovePoint(s,e,1),1==f.ins().cur_matx[s.y][s.x])return!1;return!0}}return!1},s.isPathJammed=function(){if(this.lastMoveTarget.length>=3){var t=this.lastMoveTarget[0],i=this.lastMoveTarget[2],e=0;if(t.length!=i.length)return!1;for(var s=0,r=t.length;s<r;s++)t[s].x==i[s].x&&t[s].y==i[s].y&&e++;return e==t.length}return!1},s.canuseAmulet=function(){return this.haswearAmulet()||this.hasBagAmulet()&&o.GlobalCfglist.d_autoskill_3},s.canusePoison=function(){return this.hasBagRedP()&&o.GlobalCfglist.d_autoskill_3||this.hasBagGreenP()&&o.GlobalCfglist.d_autoskill_3||this.haswearGreenP()||this.haswearRedP()},s.haswearAmulet=function(){var t=o.g_UserItemList[9];return t&&(-1!=t.s.Name.indexOf("护身符")||"天尊道符"==t.s.Name)&&t.Dura>=1},s.haswearGreenP=function(){var t=o.g_UserItemList[9];return t&&-1!=t.s.Name.indexOf("灰色药粉")},s.haswearRedP=function(){var t=o.g_UserItemList[9];return t&&-1!=t.s.Name.indexOf("黄色药粉")},s.hasBagAmulet=function(){for(var t=0;t<o.g_BagItemsList.length;t++){var i=o.g_BagItemsList[t];if(i&&(-1!=i.s.Name.indexOf("护身符")||-1!=i.s.Name.indexOf("天尊道符")))return!0}return!1},s.hasBagGreenP=function(){for(var t=0;t<o.g_BagItemsList.length;t++){var i=o.g_BagItemsList[t];if(i&&-1!=i.s.Name.indexOf("灰色药粉"))return!0}return!1},s.hasBagRedP=function(){for(var t=0;t<o.g_BagItemsList.length;t++){var i=o.g_BagItemsList[t];if(i&&-1!=i.s.Name.indexOf("黄色药粉"))return!0}return!1},s.checkcallpet=function(t,i){if(!this.hassubordinates()&&this.hastriggerskill(t,i))return this.canuseAmulet()},s.hassubordinates=function(){l.ins().findobject(o.playerID).txt_name.text;for(var t=0;t<l.ins().object_list.length;t++){var i=l.ins().object_list[t];if((!i||!i.data||i.data.record!=o.playerID)&&(i.OwnerID&&i.OwnerID==o.playerID&&0==i.is_die))return!0}return!1},s.escaperule=function(t,i){if(n.distance(t.grid,i.grid)<4){for(var e=u.getorientation(t.grid,i.grid),s=u.escapedir(e),r=!0,a=null,g=0;g<s.length;g++){var c=s[g];if(c!=e){var f=u.moverule(t.grid,c,2);if(!(r=l.ins().has2obstacle(t.grid,c,2))&&f){a=c;break}}}if(f&&!r&&null!=a&&!o.chaseing)return h.ins().executemove(f,a,3),!0}return!1},s.getPos=function(){var t=u.getMapLayerScript(),i=t.width_,e=t.height_;if(!(i<72&&e<48&&(this.randomPoint(0,i,0,e),null!=this.randPos))){var s,r,n,a,g=l.ins().findobject(o.playerID),c=g.grid.x-12,f=g.grid.y-8;switch(this.goDir<0||this.goDir>7?this.goDir=Math.floor(8*Math.random()):this.goDir=g.cur_dir,this.goDir){case 0:s=c,r=c-24,n=f,a=f-16;break;case 1:s=c+24,r=c,n=f,a=f-16;break;case 2:s=c+48,r=c+24,n=f,a=f-16;break;case 3:s=c+48,r=c+24,n=f+16,a=f;break;case 4:s=c+48,r=c+24,n=f+32,a=f+16;break;case 5:s=c+24,r=c,n=f+32,a=f+16;break;case 6:s=c,r=c-24,n=f+32,a=f+16;break;case 7:s=c,r=c-24,n=f+16,a=f}this.randomPoint(r,s,a,n),null==this.randPos&&(this.goDir=-1)}},s.autoflow=function(){if(h.ins().self_obj&&o.autohookstate&&!o.rockerfirst&&4!=h.ins().self_obj.cur_state){if(o.roledielock)return void v.raiseEvent(k.ONHOOK,"0");if(o.Actionlock)return;if(o.rockerlock)return;if(o.player_stalls)return;var t=h.ins().self_obj;if(!this.getMapItem(999,!0))if(this.findMonster())this.autorule(),this.randPos=null;else if(null==this.randPos?this.getPos():1!=t.cur_state&&6!=t.cur_state||this.errCount++>2&&(this.errCount=0,this.goDir=-1,this.randPos=null),null!=this.randPos&&!o.moveing){var i=new n(this.randPos[0],this.randPos[1]);m.leavefight(),d.startmove(t.grid,i)}}},s.getMapItem=function(t,i){var e,s=t,r=l.ins().findobject(o.playerID),a=l.ins().GetAttr(o.playerID);if(r&&a&&0==o.lockingID&&!u.maxBag(!1)&&!u.maxWeight(!1)){for(var c=0;c<g.pickItemList.length;c++){var h=g.pickItemList[c];if(!(h&&h.id&&o.g_cannotPick[h.id])&&(h&&h.x&&h.y&&f.ins().cur_matx[0]&&h.x<f.ins().cur_matx[0].length&&h.y<f.ins().cur_matx.length&&0==f.ins().cur_matx[h.y][h.x]&&this.canGet(h.x,h.y))){if(o.autohookstate&&!g.itemCheck(h.Name,1))continue;var v=new n(h.x,h.y),k=n.distance(r.grid,v);(k=parseInt(k.toString()))<=s&&(s=k,this.itemPos.x=h.x,this.itemPos.y=h.y,this.itemId=h.id,e=h)}}if(s!=t){var b=l.ins().findlateobject(r.grid,s);if(b&&i&&(!o.GlobalCfglist.pickItemsFirst||this.checkItemsDyingOnPickFirst(e)))return m.leavefight(),u.addhalo(b),d.stopmove(),!0;m.leavefight();var p=Date.now();if((!o.g_cannotPick[this.itemId]||p-o.g_cannotPick[this.itemId]>3e3)&&_.getInstance().existThisItemInMap(e))return!!(r.grid.x==this.itemPos.x&&r.grid.y==this.itemPos.y||d.start3move(r.grid,this.itemPos))}}return!1},s.findMonster=function(){var t=h.ins().self_obj;if(0!=o.lockingID)return this.randPos=null,!0;var i=l.ins().findlateobject(t.grid,12);if(i){var e=d.find4path(t.grid,i.grid),s=Math.floor(n.distance(t.grid,i.grid));if(e.length>0||s<=1)return m.leavefight(),u.addhalo(i),d.stopmove(),this.randPos=null,o.g_autohookpoison=0,!0}return!1},s.canGet=function(t,i){for(var e=0;e<l.ins().object_list.length;e++){var s=l.ins().object_list[e];if(s&&!s.is_die&&s.grid.x==t&&s.grid.y==i)return!1}return!0},s.checkItemsDyingOnPickFirst=function(t){return o.GlobalCfglist.pickItemsFirst&&!_.getInstance().existThisItemInMap(t)},e}(a))._ins=void 0,b=p))||b));t("AutoHookmodule",M.ins());e._RF.pop()}}}));

System.register("chunks:///_virtual/AutoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameUtil.ts"],(function(t){"use strict";var e,n,i,o,r,l,a,s,u,m,c,p,b,_,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Button,s=t.Sprite,u=t.Node,m=t.Label,c=t.Component},function(t){p=t.EventMgr},function(t){b=t.Config},function(t){_=t.default},function(t){g=t.GameUtil}],execute:function(){var f,h,I,d,w,y,C,v,E,L,R,T,B,N,z,A,D;r._RF.push({},"778151JCIZN0LERUpAhGmyH","AutoItem",void 0);var U=l.ccclass,F=l.property;t("AutoItem",(f=U("AutoItem"),h=F(a),I=F(a),d=F(s),w=F(u),y=F(u),C=F(u),v=F(s),f((R=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"btn_Close",R,o(e)),i(e,"btn_Use",T,o(e)),i(e,"btn_ItemBg",B,o(e)),i(e,"lab_ItemName",N,o(e)),i(e,"sp_Item",z,o(e)),i(e,"lab_DownTime",A,o(e)),i(e,"item_bg",D,o(e)),e._downTime=5,e._info=null,e}n(e,t);var r=e.prototype;return r.start=function(){g.loadResLocal("autoItem/autoItem.png",this.node.getComponent(s)),g.loadResLocalButton("public/btn_close_new.png","public/btn_close_new (2).png",this.btn_Close),g.loadResLocalButton("autoItem/btn_autoItem.png","autoItem/btn_autoItem (2).png",this.btn_Use),g.loadResLocal("autoItem/autoItem.png",this.btn_ItemBg),g.loadResLocal("BagWin/img_bag_bg.png",this.item_bg)},r.updateView=function(t,e){this._info=t,this.sp_Item.getComponent(s).spriteFrame=e.imgUrl,this.lab_DownTime.getComponent(m).string=this._downTime+"",this.lab_ItemName.getComponent(m).string=this._info.item.s.Name,this.scheduleOnce(this.playerEquipItem,5),this.schedule(this.downTimeHandler,1,5),g.showItemeffect(this.sp_Item,this._info.item)},r.playerEquipItem=function(){var t=g.getEquipPosRL(this._info.score,this._info.pos);b.g_UserItemList[t];g.gxxScoreComparison(this._info.item)&&g.addAutoItemList(this._info.item,t),this.onCloseView()},r.onClickBtnItemBgHandler=function(){p.raiseEvent(_.OPEN_NEW_ITEM_INFO,[this._info.item])},r.downTimeHandler=function(){var t=Number(this.lab_DownTime.getComponent(m).string);this.lab_DownTime.getComponent(m).string=t-1+""},r.onCloseView=function(){this.node.active=!1,this.unscheduleAllCallbacks(),this.unRegisterEvents(),this.destroy(),this.node.removeFromParent()},r.registerEvents=function(){},r.unRegisterEvents=function(){},r.update=function(t){},e}(c)).prototype,"btn_Close",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(L.prototype,"btn_Use",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"btn_ItemBg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(L.prototype,"lab_ItemName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(L.prototype,"sp_Item",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"lab_DownTime",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(L.prototype,"item_bg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=L))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/BagWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./ResourcesMgr.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./RGBCode.ts","./GameApi.ts","./GameUtil.ts","./DragItem.ts"],(function(exports){"use strict";var _applyDecoratedDescriptor,_inheritsLoose,_initializerDefineProperty,_assertThisInitialized,cclegacy,_decorator,Prefab,Label,Toggle,Node,Sprite,instantiate,NodeEventType,Component,EventMgr,Config,CUSTOMBUTTOM_Type,U_Type,EventCustom,resourcesMgr,uiControl,ObjectManage,sendmessage,rgbCode,GameApi,GameUtil,DragItem,e_DragItem_Type;return{setters:[function(e){_applyDecoratedDescriptor=e.applyDecoratedDescriptor,_inheritsLoose=e.inheritsLoose,_initializerDefineProperty=e.initializerDefineProperty,_assertThisInitialized=e.assertThisInitialized},function(e){cclegacy=e.cclegacy,_decorator=e._decorator,Prefab=e.Prefab,Label=e.Label,Toggle=e.Toggle,Node=e.Node,Sprite=e.Sprite,instantiate=e.instantiate,NodeEventType=e.NodeEventType,Component=e.Component},function(e){EventMgr=e.EventMgr},function(e){Config=e.Config},function(e){CUSTOMBUTTOM_Type=e.CUSTOMBUTTOM_Type,U_Type=e.U_Type},function(e){EventCustom=e.default},function(e){resourcesMgr=e.resourcesMgr},function(e){uiControl=e.uiControl},function(e){ObjectManage=e.ObjectManage},function(e){sendmessage=e.sendmessage},function(e){rgbCode=e.rgbCode},function(e){GameApi=e.GameApi},function(e){GameUtil=e.GameUtil},function(e){DragItem=e.DragItem,e_DragItem_Type=e.e_DragItem_Type}],execute:function(){var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_dec13,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11;cclegacy._RF.push({},"d9971/idSpOT6IwbUT/k2TD","BagWin",void 0);var ccclass=_decorator.ccclass,property=_decorator.property,menu=_decorator.menu,BagWin=exports("BagWin",(_dec=ccclass("BagWin"),_dec2=menu("背包界面/BagWin"),_dec3=property(Prefab),_dec4=property(Prefab),_dec5=property(Label),_dec6=property(Toggle),_dec7=property(Node),_dec8=property(Node),_dec9=property(Node),_dec10=property(Prefab),_dec11=property(Sprite),_dec12=property(Sprite),_dec13=property(Sprite),_dec(_class=_dec2((_class2=function(_Component){function BagWin(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=_Component.call.apply(_Component,[this].concat(i))||this,_initializerDefineProperty(e,"customBtn",_descriptor,_assertThisInitialized(e)),_initializerDefineProperty(e,"customGold",_descriptor2,_assertThisInitialized(e)),_initializerDefineProperty(e,"loadBearingCounts",_descriptor3,_assertThisInitialized(e)),_initializerDefineProperty(e,"tabBarBtns",_descriptor4,_assertThisInitialized(e)),_initializerDefineProperty(e,"customGolds",_descriptor5,_assertThisInitialized(e)),_initializerDefineProperty(e,"customBtns",_descriptor6,_assertThisInitialized(e)),_initializerDefineProperty(e,"itemsLayout",_descriptor7,_assertThisInitialized(e)),_initializerDefineProperty(e,"dragItem",_descriptor8,_assertThisInitialized(e)),_initializerDefineProperty(e,"selectBarBtns",_descriptor9,_assertThisInitialized(e)),_initializerDefineProperty(e,"closeBtn",_descriptor10,_assertThisInitialized(e)),_initializerDefineProperty(e,"refreshBtn",_descriptor11,_assertThisInitialized(e)),e._addEventUUid=void 0,e._goldIndexsList=[],e._clickTime=0,e._singleClickDelayFunc=void 0,e._doubleClickTime=0,e._randomPos=!0,e._itemNumInPage=50,e._pageIndex=0,e._totalPages=0,e._itemTotalCounts=0,e._selectItemIndex=-1,e.setItemUI=function(e,t){var i=t>Config.g_BagItemsList.length-1,n=e.getComponent(Sprite),o=i?"resources/BagWin/new_bag_lock.png":"resources/BagWin/newItemFrame.png";resourcesMgr.handleLoad(o,(function(e){n.spriteFrame=e}));var s=Config.g_BagItemsList[t],a=e.getChildByName("itemSprite").getComponent(Sprite);if(!i&&s&&s.s&&s.s.Looks){var r=GameUtil.loadImgData(s.s.Looks,"items");resourcesMgr.resLoad(r.plist,(function(e){if(e){var t=e.getSpriteFrames();for(var n in t){var o=t[n];o.name==r.img+".png"&&(a.spriteFrame=a&&!i?o:null)}}}))}else a.spriteFrame=null},e}_inheritsLoose(BagWin,_Component);var _proto=BagWin.prototype;return _proto.onLoad=function(){this.initEvent()},_proto.start=function(){this.loadResByLocal(),this.init()},_proto.loadResByLocal=function(){GameUtil.loadResLocal("BagWin/bag_bg.png",this.getComponent(Sprite)),GameUtil.loadResLocal("BagWin/btn_close_new.png",this.closeBtn),GameUtil.loadResLocal("BagWin/bag_btnBg_disable.png",this.refreshBtn),GameUtil.loadResLocalToggle("BagWin/bag_tab_disable0.png","BagWin/bag_tab_select0.png",this.tabBarBtns[0],this.selectBarBtns[0]),GameUtil.loadResLocalToggle("BagWin/bag_tab_disable1.png","BagWin/bag_tab_select1.png",this.tabBarBtns[1],this.selectBarBtns[1]),GameUtil.loadResLocalToggle("BagWin/bag_tab_disable2.png","BagWin/bag_tab_select2.png",this.tabBarBtns[2],this.selectBarBtns[2]),GameUtil.loadResLocalToggle("BagWin/bag_tab_disable3.png","BagWin/bag_tab_select3.png",this.tabBarBtns[3],this.selectBarBtns[3])},_proto.init=function(){DragItem.dragItemType=e_DragItem_Type.bagItem,Config.g_OpenBag=!0,this.createItems(),this.initBagItemValue(),this.initTabVisible(),this.initCustomGold(),this.initCustomBtn(),this.updateGoldCounts(),this.showItemHandlerByPage()},_proto.initTabVisible=function(){for(var e=Math.ceil(this._itemTotalCounts/this._itemNumInPage),t=0;t<this.tabBarBtns.length;t++){this.tabBarBtns[t].node.active=t<e}},_proto.initEvent=function(){EventMgr.addEventListener(EventCustom.SHOW_BAG_ITEM_ICO,this.updateBagData,this),EventMgr.addEventListener(EventCustom.UPDATE_BAG,this.updateGoldCounts,this),EventMgr.addEventListener("updateItemByIndex",this.updateItemByIndex,this)},_proto.initCustomGold=function initCustomGold(){var _this2=this,data=Config.g_gameGold;this._goldIndexsList=[];for(var _loop=function _loop(i){var curInfo=data[i];if(!curInfo)return"continue";if(!curInfo.boOpen)return"continue";var currencyName=eval("Config."+curInfo.sVarName);if(!currencyName)return"continue";_this2._goldIndexsList.push(i);var customGold=instantiate(_this2.customGold);_this2.customGolds.addChild(customGold);var icon=customGold.getChildByName("icon_spr"),goldNum=customGold.getChildByName("goldCount_lab"),goldName=customGold.getChildByName("goldName_lab"),icon_sprite=icon.getComponent(Sprite),goldNum_lab=goldNum.getComponent(Label),goldName_lab=goldName.getComponent(Label);resourcesMgr.handleLoad(curInfo.sShowUI,(function(e){icon_sprite.spriteFrame=e})),goldName_lab.string=curInfo.sGoldName,goldNum_lab.string=currencyName.value+"","g_GameCionNum"==curInfo.sVarName&&(_this2._addEventUUid=customGold.uuid,customGold.on(Node.EventType.TOUCH_START,_this2.lostGold,_this2))},i=0;i<data.length;i++)var _ret=_loop(i)},_proto.lostGold=function(){var e={type:4,content:"请输入金币数量？",sF:function(e){parseInt(e)>0?sendmessage.sendDropGold(parseInt(e)):sendmessage.sendDropGold(0)},cF:function(){}};uiControl.handlerAlert(e)},_proto.initCustomBtn=function(){for(var e=Config.g_customBtn,t=0;t<e.length;t++){var i=e[t];if(i&&i.boOpen){var n=instantiate(this.customBtn);GameUtil.loadResLocal("BagWin/bag_btnBg_disable.png",n.getComponent(Sprite)),this.customBtns.addChild(n),n.setPosition(i.nX,i.nY);var o=rgbCode.Get2RGB(i.nColor),s=n.children[0].getComponent(Label);s.string=i.sName,s.color=s.color.fromHEX(o),s.fontSize=i.nSize,n.on(Node.EventType.TOUCH_START,this.onClickCustomBtn.bind(this,t),this)}}},_proto.onClickCustomBtn=function(e){var t;switch(e){case 0:t=CUSTOMBUTTOM_Type.tag20;break;case 1:t=CUSTOMBUTTOM_Type.tag21;break;case 2:t=CUSTOMBUTTOM_Type.tag22;break;case 3:t=CUSTOMBUTTOM_Type.tag23}sendmessage.sendBagCustomBottomClick(t)},_proto.onClickTabBtns=function(e){if(e.isChecked){var t=this.tabBarBtns.indexOf(e);this._pageIndex=t,this.showItemHandlerByPage()}},_proto.onSelectBagItem=function(e,t){e=this._pageIndex*this._itemNumInPage+e,this.isFastStorage(e)?this.fastStorageToWarehouse(e):this.onClickBagItem(e)},_proto.isFastStorage=function(e){return Config.g_fastaccess&&this.getGoodsDataInBag(e)},_proto.fastStorageToWarehouse=function(e){var t=Config.g_WaitItems.Items;if(t=this.getGoodsDataInBag(e)){var i=1!=Config.g_StoreType?4:3;if(GameUtil.notWarehouseFull())sendmessage.DepotOrBagItems2(t.MakeIndex,i),GameUtil.checkItemCanBreakUp(t)?EventMgr.raiseEvent(EventCustom.ITEM_HINT,[t,-t.Dura]):EventMgr.raiseEvent(EventCustom.ITEM_HINT,[t,-1]),GameUtil.addStoreItems(t),GameUtil.delBagItems(t.MakeIndex),GameApi.drugnullforidx(t.MakeIndex),Config.g_StoreCount+=1,this.updateItemByIndex(e+""),EventMgr.raiseEvent(EventCustom.SHOWDRUG_ITEMS),EventMgr.raiseEvent("Drug_Item_ico"),EventMgr.raiseEvent("Drug_Set_Items",[Config.g_DrugButNumber]);else{uiControl.handlerAlert({type:1,content:"仓库已满，无法继续存储！！！",sF:function(){},cF:function(){}})}}t=null},_proto.onClickBagItem=function(e){var t=Date.now(),i=t-this._clickTime<400;this._clickTime=t,i?this.doubleClickHandler(e):this.singleClickHandler(e,null),this._selectItemIndex=e},_proto.singleClickHandler=function(e,t){var i=this;this._selectItemIndex=e,this.clearSingleClickDelayFunc(),this._singleClickDelayFunc=setTimeout((function(){var t=i.getGoodsDataInBag(e);Config.g_DrugButNumber=-1,Config.g_nBagIdx=e,t?(Config.g_OpenIdx=0,Config.g_DrugButNumber=-1,Config.g_SelectIndex=GameUtil.getItemType(t.s),207!=Config.g_SelectIndex&&208!=Config.g_SelectIndex&&209!=Config.g_SelectIndex||(Config.g_SelectIndex=GameUtil.getItemTypeEx(t.s)),Config.g_MoveItems.Items=t,Config.g_MoveItems.Index=-1,GameUtil.newShowItemsInf(Config.g_MoveItems.Items,null,GameUtil.getGameSize().width/2)):(GameUtil.newShowItemsClose(),i.getMaxBagCount()<=e&&e<=i.getItemArrLen()&&sendmessage.sendBagUnlock(e))}),200)},_proto.getMaxBagCount=function(){return Config.MAXBAGITEM+Config.g_extendBagItemCount},_proto.getItemArrLen=function(){return Config.MAXBAGITEM+160},_proto.showItemInfoPc=function(e,t){e=this._pageIndex*this._itemNumInPage+e;var i=this.getGoodsDataInBag(e);null!=t&&(Config.g_pcMousePoint=t.getUILocation()),Config.g_nBagIdx=e,Config.g_OpenIdx=0,Config.g_SelectIndex=GameUtil.getItemType(i.s),207!=Config.g_SelectIndex&&208!=Config.g_SelectIndex&&209!=Config.g_SelectIndex||(Config.g_SelectIndex=GameUtil.getItemTypeEx(i.s)),Config.g_MoveItems.Items=i,Config.g_MoveItems.Index=-1,GameUtil.newShowItemsInf(Config.g_MoveItems.Items,null,GameUtil.getGameSize().width/2)},_proto.clearSingleClickDelayFunc=function(){this._singleClickDelayFunc&&clearTimeout(this._singleClickDelayFunc)},_proto.doubleClickHandler=function(e){this.clearSingleClickDelayFunc();var t=this.getGoodsDataInBag(e);if(t){if(this.consumableLessThan1second())return;this.handler(t)}},_proto.consumableLessThan1second=function(){return this._doubleClickTime>0&&(!(Date.now()-this._doubleClickTime<1e3)&&(this._doubleClickTime=Date.now(),!0))},_proto.isUseTypeInGXX=function(e){return[41,49,91].indexOf(e)>-1},_proto.handler=function(e){Config.g_WaitItems.Items=e;var t=Config.g_WaitItems.Items.s.StdMode;if(0==t||1==t||2==t||3==t||211==t||31==t||40==t||49==t||25==t&&8==e.s.Source||this.isUseTypeInGXX(t))211!=t&&GameUtil.delBagItems(e.MakeIndex),25==t&&8==e.s.Source?sendmessage.blessbottle(1,e.MakeIndex,e.s.Name):(sendmessage.sendEat(0,e.MakeIndex,e.s.Name),e.s.Shape>14&&e.s.Shape<25&&(Config.g_boxid=e.MakeIndex)),e.Dura<=1&&EventMgr.raiseEvent(EventCustom.SHOWDRUG_ITEMS);else if(41==t){if(e.Dura>0){var i={type:4,content:"输入要拆分的数量！",sF:function(t){parseInt(t)>0&&(GameUtil.delBagItems(e.MakeIndex),sendmessage.blessbottle(parseInt(t),e.MakeIndex,e.s.Name))},cF:function(){}};uiControl.handlerAlert(i)}}else if(4==t){var n={type:2,content:"你是否确定学习 : 【 "+e.s.Name+" 】 ？",sF:function(){var e=Config.g_WaitItems.Items;e&&(GameUtil.delBagItems(e.MakeIndex),sendmessage.sendEat(0,e.MakeIndex,e.s.Name))},cF:function(){}};uiControl.handlerAlert(n)}else{var o=GameUtil.getItemType(e.s);if(52==o)return Config.g_WaitItems.Index=o,void sendmessage.sendTakeOnItem(o,e.MakeIndex,e.s.Name);if(6==o&&null!=Config.g_UserItemList[6])if(null!=Config.g_UserItemList[5]){o=this._randomPos?6:5,this._randomPos=!this._randomPos}else o=5;else if(7==o&&null!=Config.g_UserItemList[7])if(null!=Config.g_UserItemList[8]){o=this._randomPos?7:8,this._randomPos=!this._randomPos}else o=8;else 23==o&&null!=Config.g_UserItemList[23]?null!=Config.g_UserItemList[22]?(o=this._randomPos?23:22,this._randomPos=!this._randomPos):o=22:24==o&&null!=Config.g_UserItemList[24]&&(null!=Config.g_UserItemList[25]?(o=this._randomPos?24:25,this._randomPos=!this._randomPos):o=25);if(o==U_Type.JEWELRYRandom)for(var s=0;s<6;s++)if(null==Config.g_JewelryBoxItems[s]){o=s+U_Type.JEWELRY1;break}o>=U_Type.GODBLESS1&&o<=U_Type.GODBLESS12?(o=Config.g_WaitItems.Items.s.Expand1-1,Config.g_WaitItems.Index=o,sendmessage.SendTakeOnGodBless(Config.g_WaitItems.Items,o)):o>=U_Type.JEWELRY1&&o<=U_Type.JEWELRY6?(Config.g_WaitItems.Index=o-U_Type.JEWELRY1,sendmessage.sendTakeOnJewelry(Config.g_WaitItems.Items,o-U_Type.JEWELRY1)):(Config.g_WaitItems.Index=o,sendmessage.TakeOnItem2(e,o)),GameUtil.delBagItems(e.MakeIndex)||this.updateBagData()}},_proto.updateGoldCounts=function updateGoldCounts(){var _this4=this;this.customGolds&&this.customGolds.children&&(this.customGolds.children.forEach((function(item,index){var info=Config.g_gameGold[_this4._goldIndexsList[index]],goldCount=item.getChildByName("goldCount_lab"),goldCount_lab=goldCount.getComponent(Label);goldCount_lab.string=eval("Config."+info.sVarName).value.toString()})),this.updateLoadBearing())},_proto.updateLoadBearing=function(){var e=ObjectManage.GetAttr(Config.playerID);this.loadBearingCounts.string=e.Weight+"/"+e.MaxWeight},_proto.updateBagData=function(){this.showItemHandlerByPage(),EventMgr.raiseEvent(EventCustom.UPDATEBAGLISTONMYSHELVES)},_proto.refreshBag=function(){sendmessage.QueryBagItems(),Config.CanUserItem=!1,setTimeout((function(){Config.CanUserItem=!0}),500)},_proto.removeEvent=function(){EventMgr.removeEventListener(EventCustom.SHOW_BAG_ITEM_ICO,this.updateBagData,this),EventMgr.removeEventListener(EventCustom.UPDATE_BAG,this.updateGoldCounts,this),EventMgr.removeEventListener("updateItemByIndex",this.updateItemByIndex,this)},_proto.closeView=function(){var e=this;if(this._addEventUUid){var t=this.customGolds.getChildByUuid(this._addEventUUid);t&&t.off(Node.EventType.TOUCH_START,this.lostGold,this)}this.customBtns.children.length>0&&this.customBtns.children.forEach((function(t,i){t.off(Node.EventType.TOUCH_START,e.onClickCustomBtn,e)})),this._goldIndexsList.length=0,this._singleClickDelayFunc=null,Config.g_OpenBag=!1,this._selectItemIndex=-1,Config.MainScene.openBag=!1,this.removeEvent(),this.node.destroy()},_proto.createItems=function(){if(this.itemsLayout)for(var e=0;e<this._itemNumInPage;e++){var t=instantiate(this.dragItem);this.itemsLayout.addChild(t),Config.g_isOnWindows&&(t.on(NodeEventType.MOUSE_ENTER,this.showItemInfoPc.bind(this,e),this),t.on(NodeEventType.MOUSE_LEAVE,(function(){EventMgr.raiseEvent(EventCustom.CLOSE_NEW_ITEM_INFO)}),this)),t.on(NodeEventType.TOUCH_END,this.onSelectBagItem.bind(this,e),this),t.active=!1}},_proto.initBagItemValue=function(){this._itemTotalCounts=Config.maxPackSizeBackup?Config.maxPackSizeBackup:48,this._totalPages=Math.ceil(this._itemTotalCounts/this._itemNumInPage)},_proto.showItemHandlerByPage=function(){var e=this._pageIndex*this._itemNumInPage,t=this._pageIndex<this._totalPages-1?this._itemNumInPage:this._itemTotalCounts%this._itemNumInPage;this._pageIndex==this._totalPages-1&&this._itemTotalCounts%this._itemNumInPage==0&&(t=this._itemNumInPage);for(var i=0;i<this._itemNumInPage;i++){var n=this.itemsLayout.children[i];if(n.active=i<t,n.getComponent(DragItem).emptyItemHander(),n.active){var o={itemsData:Config.g_BagItemsList,selectIndex:this._selectItemIndex,hasBgFrame:!0,maxUnlockCount:GameUtil.maxBagItems()-1,itemType:e_DragItem_Type.bagItem};n.getComponent(DragItem).showItemUI(o,e+i)}}},_proto.update=function(){},_proto.updateItemByIndex=function(e){var t={itemsData:Config.g_BagItemsList,selectIndex:this._selectItemIndex,hasBgFrame:!0,maxUnlockCount:GameUtil.maxBagItems()-1,itemType:e_DragItem_Type.bagItem},i=this._pageIndex*this._itemNumInPage,n=parseInt(e);if(this.itemsLayout&&this.itemsLayout.children){var o=this.itemsLayout.children[n-i];o&&o.getComponent(DragItem).showItemUI(t,n)}t=null},_proto.onDestroy=function(){this.customGolds.destroy(),this.customBtns.destroy()},_proto.getGoodsDataInBag=function(e){if(null!=e&&null!=e)return Config.g_BagItemsList[e]},BagWin}(Component),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"customBtn",[_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"customGold",[_dec4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"loadBearingCounts",[_dec5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4=_applyDecoratedDescriptor(_class2.prototype,"tabBarBtns",[_dec6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_descriptor5=_applyDecoratedDescriptor(_class2.prototype,"customGolds",[_dec7],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6=_applyDecoratedDescriptor(_class2.prototype,"customBtns",[_dec8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor7=_applyDecoratedDescriptor(_class2.prototype,"itemsLayout",[_dec9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor8=_applyDecoratedDescriptor(_class2.prototype,"dragItem",[_dec10],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor9=_applyDecoratedDescriptor(_class2.prototype,"selectBarBtns",[_dec11],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_descriptor10=_applyDecoratedDescriptor(_class2.prototype,"closeBtn",[_dec12],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor11=_applyDecoratedDescriptor(_class2.prototype,"refreshBtn",[_dec13],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class=_class2))||_class)||_class));cclegacy._RF.pop()}}}));

System.register("chunks:///_virtual/Base64.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"32fc8+FPahH8qB0sV6f2R9R","Base64",void 0);var n=t("tool_Base64",function(){function t(){this.B64=new Array(65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47)}t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var e=t.prototype;return e.Base64Encode=function(t,e){for(var n=new Array,r=0,s=0,a=1;a<=Math.floor(e/3);a++)n[r+0]=this.B64[t[s]>>>2],n[r+1]=this.B64[((3&t[s])<<4)+(t[s+1]>>>4)],n[r+2]=this.B64[((15&t[s+1])<<2)+(t[s+2]>>>6)],n[r+3]=this.B64[63&t[s+2]],r+=4,s+=3;switch(e%3){case 1:n[r+0]=this.B64[t[s]>>>2],n[r+1]=this.B64[(3&t[s])<<4],n[r+2]=61,n[r+3]=61;break;case 2:n[r+0]=this.B64[t[s]>>>2],n[r+1]=this.B64[((3&t[s])<<4)+(t[s+1]>>>4)],n[r+2]=this.B64[(15&t[s+1])<<2],n[r+3]=61}return{arr:n,len:4*Math.floor((e+2)/3)}},e.Base64Decode=function(t,e){for(var n=0,r=0,s=new Array(0,0,0,0),a=new Array,i=0,c=1;c<=e/4;c++){for(var o=0;o<=3;o++)t[n]>=65&&t[n]<=90?s[o]=t[n]-65:t[n]>=97&&t[n]<=122?s[o]=t[n]-97+26:t[n]>=48&&t[n]<=57?s[o]=t[n]-48+52:43==t[n]?s[o]=62:47==t[n]?s[o]=63:61==t[n]&&(s[o]=255),n++;a[r]=255&(s[0]<<2|s[1]>>>4),i=r+1,255!=s[2]&&255==s[3]?(a[r+1]=255&(s[1]<<4|s[2]>>>2),i=r+2,r++):255!=s[2]&&(a[r+1]=255&(s[1]<<4|s[2]>>>2),a[r+2]=255&(s[2]<<6|s[3]),i=r+3,r+=2),r++}return{arr:a,len:i}},t}());n._instance=void 0;t("Base64",n.getInstance());e._RF.pop()}}}));

System.register("chunks:///_virtual/BroadCastMsg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Content.ts"],(function(t){"use strict";var e,n,o,i,s,r,a,l,c,u,d,p,h,g,C,f,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Prefab,l=t.Sprite,c=t.UITransform,u=t.View,d=t.instantiate,p=t.Layout,h=t.tween,g=t.Vec3,C=t.Component},function(t){f=t.Config},function(t){w=t.Content}],execute:function(){var y,m,v,M,b,_,B;s._RF.push({},"27184WLzlZBSLepr+Bx2SNt","BroadCastMsg",void 0);var R=r.ccclass,S=r.property;t("BroadCastMsg",(y=R("BroadCastMsg"),m=S(a),v=S(l),y((_=e((b=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"content",_,i(e)),o(e,"bg",B,i(e)),e.moveSec=null,e.reapetC=0,e}n(e,t);var s=e.prototype;return s.start=function(){this.bg.node.getComponent(c).width=u.instance.getCanvasSize().width},s.handleShowCount=function(t,e){var n=this,o=d(this.content);this.node.addChild(o),o.getComponent(w).handleMsg(t),o.getComponent(p).updateLayout(!0);var i=o.getComponent(c).width,s=this.node.getComponent(c).width,r=(s+i)/150;this.moveSec=r,o.setPosition(s/2,0);h(o).by(r,{position:new g(-s-i,0,0)}).call((function(){n.reapetC++,o.destroy(),n.reapetC==t[0].count||n.reapetC>t[0].count?(n.reapetC=0,f.G_RollMsg[e].splice(0,1),f.G_RollMsg[e].length>0?n.showBroadCast(f.G_RollMsg[e],e):(delete f.G_RollMsg[e],n.node.destroy())):n.handleShowCount(t,e)})).start()},s.showBroadCast=function(t,e){var n=this;if(t[0].count)this.handleShowCount(t,e);else{var o=d(this.content);this.node.addChild(o),o.getComponent(w).handleMsg(t);var i=o.getComponent(c).width,s=this.node.getComponent(c).width,r=(s+i)/150;o.setPosition(s/2,0);h(o).by(r,{position:new g(-s-i,0,0)}).call((function(){f.G_RollMsg[e].splice(0,1),o.destroy(),f.G_RollMsg[e].length>0?n.showBroadCast(f.G_RollMsg[e],e):(delete f.G_RollMsg[e],n.node.destroy())})).start()}},s.update=function(t){},s.onDestroy=function(){},e}(C)).prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(b.prototype,"bg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=b))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/CategoryBtnSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,n,r,i,o,a,c,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Button,u=t.Component},function(t){l=t.GameUtil}],execute:function(){var s,p,g,f,y,B;o._RF.push({},"305a0k1uqlK+6OFANZGQ7H7","CategoryBtnSprite",void 0);var h=a.ccclass,_=a.property,b=a.menu;t("default",(s=h("CategoryBtnSprite"),p=b("拍卖行小类别图片模块/CategoryBtnSprite"),g=_(c),s(f=p((B=e((y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"bgBtn",B,i(e)),e}return n(e,t),e.prototype.start=function(){l.loadResLocalButton("AuctionHouseWin/auction_select_01.png","AuctionHouseWin/auction_select_02.png",this.bgBtn)},e}(u)).prototype,"bgBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f)||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/CBlood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./MapData.ts","./GameUtil.ts","./LabelOutLineForWindows.ts"],(function(t){"use strict";var o,e,i,l,s,n,a,r,d,h,u,p,c,m,B;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,l=t.Sprite,s=t.LabelOutline,n=t.sys,a=t.Label,r=t.find,d=t.UIOpacity,h=t.tween,u=t.Component},function(t){p=t.Config},function(t){c=t.Mapdata},function(t){m=t.GameUtil},function(t){B=t.LabelOutLineForWindows}],execute:function(){var g;e._RF.push({},"a496cyy1xdPuYdjdBnSj8C4","CBlood",void 0);var b=i.ccclass;i.property,t("CBlood",b("CBlood")(g=function(t){function e(){for(var o,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return(o=t.call.apply(t,[this].concat(i))||this).people=null,o.maxBlood=0,o.curBlood=0,o.maxMp=0,o.curMp=0,o.isMainRole=!1,o.width=0,o.height=0,o.job=0,o.roleLevel=0,o.bgSpr=null,o.bloodSpr=null,o.mpSpr=null,o.textBlood=null,o.bloodLab=null,o.schedule_dangerEffect=null,o.effectIndex=null,o}o(e,t);var i=e.prototype;return i.start=function(){m.loadResLocal("gameres/ui/000000.png",this.node.getChildByName("bgSpr").getComponent(l)),m.loadResLocal("gameres/ui/000001.png",this.node.getChildByName("bloodSpr").getComponent(l)),m.loadResLocal("gameres/ui/000004.png",this.node.getChildByName("mpSpr").getComponent(l))},i.update=function(t){},i.Init=function(t,o,e,i,l,r,d){if(this.people=r,this.maxBlood=t,this.curBlood=o,this.maxMp=l,this.curMp=i,this.isMainRole=e,this.width=28,this.height=10,d&&(this.job=d.getJob(),this.roleLevel=d.getLevel()),this.bgSpr=this.node.getChildByName("bgSpr"),this.bloodSpr=this.node.getChildByName("bloodSpr"),null!=this.maxBlood){var h=Number((this.curBlood/this.maxBlood).toFixed(2));h>1&&(h=1),this.bloodSpr.setScale(h,1)}else this.bloodSpr.setScale(1,1);this.mpSpr=this.node.getChildByName("mpSpr");var u=Number((this.curMp/this.maxMp).toFixed(2));u>1&&(u=1),this.mpSpr.setScale(u,1),this.mpSpr.active=!1,this.showBlueBar(d),this.textBlood=this.node.getChildByName("textBlood"),this.textBlood.getComponent(s).width=p.g_strokewidth?p.g_strokewidth:1,n.os!=n.OS.WINDOWS||n.isBrowser?this.bloodLab=this.textBlood.getComponent(a):null==this.textBlood.getComponent(B)&&(this.bloodLab=this.textBlood.addComponent(B),this.bloodLab.createOutLine()),this.bloodLab.string="",this.node.setPosition(-17,75)},i.showBlueBar=function(t){this.mpSpr&&(p.GlobalCfglist.showBlue?this.mpSpr.active=!t.isWuJiang():this.mpSpr.active=!1)},i.SetCurBloodNum=function(t,o,e,i,l){if(null!=t&&(this.curBlood=t),this.textBlood){var s;if(m.getMapLayerScript().roleLabLayer.addChild(this.textBlood),s=null!=this.maxBlood?this.people&&"1"==c.cur_type?Math.ceil(this.curBlood/this.maxBlood*100)+"/100":m.makeBigNum(this.curBlood)+"/"+m.makeBigNum(this.maxBlood):"",this.setBloodString(s),this.bloodLab instanceof a&&this.bloodLab.updateRenderData(!0),this.dangerHpEffectHandle(l,t,i),(null!=this.bloodSpr||null!=this.bloodSpr)&&null!=this.maxBlood){var n=Number((this.curBlood/this.maxBlood).toFixed(2));n>1&&(n=1),this.bloodSpr.setScale(n,1)}if(null!=o&&null!=e&&null!=this.mpSpr){var r=Number((o/e).toFixed(2));r>1&&(r=1),this.mpSpr.setScale(r,1)}}},i.dangerHpEffectHandle=function(t,o,e){t&&(this.isDangerHp(o,e)?this.showDangerMask():this.hideDangerMask())},i.isDangerHp=function(t,o){if(0==t)return!1;return t/o*100<10},i.showDangerMask=function(){var t=r("Canvas").getChildByName("dangerMask");t.active||(t.active=!0,t.getComponent(d).opacity=150,this.dangerMaskTween(t))},i.dangerMaskTween=function(t){var o=this,e=150==t.getComponent(d).opacity?100:150;h(t.getComponent(d)).to(1,{opacity:e},{easing:"circInOut"}).call((function(){o.dangerMaskTween(t)})).start()},i.hideDangerMask=function(){var t=r("Canvas").getChildByName("dangerMask");t&&t.active&&(h(t.getComponent(d)).stop(),t.active=!1)},i.addJobAndLevel=function(t,o,e){if(!(null==o&&null==o||null==e&&null==e)){var i;switch(o){case 0:i="Z";break;case 1:i="F";break;case 2:i="D"}return t?t+"/"+i+e:t+i+e}return t},i.SetMaxBloodNum=function(t){this.maxBlood=t},i.AliveBlood=function(){if(this.bloodSpr&&null!=this.curBlood&&this.textBlood){this.curBlood=this.maxBlood;var t,o=Number((this.curBlood/this.maxBlood).toFixed(2));o>1&&(o=1),this.bloodSpr.setScale(o,1),t=this.people&&"1"==c.cur_type?Math.ceil(this.curBlood/this.maxBlood*100)+"/100":m.makeBigNum(this.curBlood)+"/"+m.makeBigNum(this.maxBlood),this.setBloodString(t)}if(this.bloodLab instanceof a&&this.bloodLab.updateRenderData(!0),this.mpSpr&&null!=this.curMp){this.curMp=this.maxMp;var e=Number((this.curMp/this.maxMp).toFixed(2));e>1&&(e=1),this.mpSpr.setScale(e,1)}},i.setBloodString=function(t){this.bloodLab.string=t,""==t&&(null!=this.bloodSpr&&this.bloodSpr.setScale(1,1),null!=this.mpSpr&&this.mpSpr.setScale(1,1))},i.setBloodVisible=function(t,o){this.bgSpr&&(this.bgSpr.active=t),this.bloodSpr&&(this.bloodSpr.active=t),this.textBlood&&(this.textBlood.active=!o&&t)},i.setOffsetPos=function(t,o){this.textBlood.setPosition(t,o+87)},e}(u))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/ChatBagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,r,n,a,o,s,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Sprite,u=t.Component},function(t){c=t.EquipData},function(t){l=t.resourcesMgr},function(t){p=t.GameUtil}],execute:function(){var m,f,g,h,d,y,B,I;a._RF.push({},"46644VXW+tNyp9ufrjsK8l4","ChatBagItem",void 0);var _=o.ccclass,b=o.property,v=o.menu;t("default",(m=_("ChatBagItem"),f=v("实例模块/ChatBagItem"),g=b(s),h=b(s),m(d=f((B=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"itemSprite",B,n(e)),r(e,"itemBG",I,n(e)),e.onItemClick=null,e.index=0,e.equip_data=new c,e}i(e,t);var a=e.prototype;return a.start=function(){p.loadResLocal("BagWin/img_bag_bg.png",this.itemBG)},a.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},a.initData=function(t){var e=this;t.data&&(this.equip_data=t,t.data.s.BagEffect.FileIndex&&p.showItemeffect(this.itemSprite.node,t.data)),t.res&&l.handleLoad(t.res.plist,(function(i){i&&i.getSpriteFrame(t.res.img)&&e.itemSprite&&(e.itemSprite.spriteFrame=i.getSpriteFrame(t.res.img))}))},a.clickItem=function(){if(this.equip_data)return this.equip_data},e}(u)).prototype,"itemSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(y.prototype,"itemBG",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d)||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChatBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RGBCode.ts","./GameUtil.ts"],(function(t){"use strict";var i,e,n,o,s,c,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.RichText,s=t.Component},function(t){c=t.rgbCode},function(t){h=t.GameUtil}],execute:function(){var l;e._RF.push({},"400d0feVUhObZxd67NCfQHS","ChatBox",void 0);var r=n.ccclass;n.property,t("ChatBox",r("ChatBox")(l=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).timeOut=null,i.displayTime=0,i.richTextNode=null,i.richText=null,i.nameColor="",i.callback=null,i.isInit=!1,i}i(e,t);var n=e.prototype;return n.start=function(){},n.update=function(t){},n.init=function(){this.isInit||(this.isInit=!0,this.timeOut=null,this.displayTime=3,this.nameColor=c.Get2RGB("251"),this.richTextNode=this.node.getChildByName("richText"),this.richText=this.richTextNode.getComponent(o),h.loadResLocalAtlas("ChatWin/emoji.plist",this.richText))},n.showMsg=function(t){this.init();var i=t.split(":"),e=i[0]+"：",n="";i[1]&&(n=-1!=i[1].indexOf("IMG")?"[图片]":i[1]),this.richText.string="<color="+this.nameColor+">"+e+"</color><color=#ffffff>"+n+"</color>",this.node.active=!0,this.hideMsg()},n.hideMsg=function(){this.callback&&this.unschedule(this.callback),this.callback=function(){this.richText.string="",this.node.active=!1},this.scheduleOnce(this.callback,this.displayTime)},e}(s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ChatConfigToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,n,i,o,r,l,a,c,u,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,c=t.Sprite,u=t.Component},function(t){g=t.GameUtil}],execute:function(){var s,p,f,h,C,m,b,k,y,d;r._RF.push({},"d172cjF+vZMTKY2pmo5u0ik","ChatConfigToggle",void 0);var v=l.ccclass,T=l.property,z=l.menu;t("ChatConfigToggle",(s=v("ChatConfigToggle"),p=z("实例模块/ChatConfigToggle"),f=T(a),h=T(c),C=T(c),s(m=p((k=e((b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"toggleName",k,o(e)),i(e,"toggle",y,o(e)),i(e,"checkMark",d,o(e)),e.onItemClick=null,e.index=0,e}n(e,t);var r=e.prototype;return r.start=function(){g.loadResLocal("ChatWin/btn2.png",this.toggle),g.loadResLocal("ChatWin/btn2(2).png",this.checkMark)},r.initData=function(t){this.toggleName.string=t},r.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},e}(u)).prototype,"toggleName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"toggle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(b.prototype,"checkMark",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m)||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChatConfigWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./UIcontrol.ts","./VoiceSocket.ts","./GameUtil.ts","./ChatConfigToggle.ts"],(function(e){"use strict";var t,n,i,o,c,r,l,a,s,u,h,f,g,m,p,_,d,b,C,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,l=e.Node,a=e.Toggle,s=e.ToggleContainer,u=e.Prefab,h=e.Sprite,f=e.macro,g=e.instantiate,m=e.Component},function(e){p=e.EventMgr},function(e){_=e.Config},function(e){d=e.uiControl},function(e){b=e.VoiceSocket},function(e){C=e.GameUtil},function(e){v=e.ChatConfigToggle}],execute:function(){var k,y,N,w,S,G,I,R,x,T,E,L,O,V,z,P,B,A,M,U,D,W,j,F;c._RF.push({},"4e18bYfuNhGVaVZ4SsLGUVp","ChatConfigWin",void 0);var H=r.ccclass,Y=r.menu,Z=r.property;e("default",(k=H("ChatConfigWin"),y=Y("弹窗模块/ChatConfigWin"),N=Z(l),w=Z(l),S=Z(a),G=Z(a),I=Z(s),R=Z(u),x=Z(h),T=Z(h),E=Z(h),L=Z(h),k(O=y((z=t((V=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,i(t,"vocieOffNode",z,o(t)),i(t,"microphoneOffNode",P,o(t)),i(t,"vocieCheck",B,o(t)),i(t,"microphoneCheck",A,o(t)),i(t,"chatRommContentNode",M,o(t)),i(t,"chatRommSetPrefab",U,o(t)),i(t,"chat_bg",D,o(t)),i(t,"closeBtn",W,o(t)),i(t,"toggle_voice_bg",j,o(t)),i(t,"toggle_microphone_bg",F,o(t)),t.toggleItems=[],t.lastSelectIndex=-1,t.cur_type=null,t.cur_name="",t}n(t,e);var c=t.prototype;return c.start=function(){C.loadResLocal("ChatWin/chatbj.png",this.chat_bg),C.loadResLocal("public/btn_close_new.png",this.closeBtn),C.loadResLocal("SplitResource/Btns/npclist_btn.png",this.toggle_voice_bg),C.loadResLocal("SplitResource/Btns/npclist_btn.png",this.toggle_microphone_bg)},c.initMgr=function(){p.addEventListener("VOICE_EVENT",this.onevent,this)},c.afreshlink=function(){b._socket.connected||(console.log("-----afreshlinking-------"),_.g_serverconfig.boVoice&&b.connect(_.g_serverconfig.sVoiceIP,_.g_serverconfig.nVoicePort),b.exitroom(null,null)),f.ENABLE_MULTI_TOUCH=!1},c.voiceSet=function(){var e=this;this.scheduleOnce((function(){e.vocieOffNode.active=!e.vocieCheck.isChecked,b.switchsound(e.vocieCheck.isChecked)}),.01)},c.microphoneSet=function(){var e=this;this.scheduleOnce((function(){e.microphoneOffNode.active=!e.microphoneCheck.isChecked,b.switchMic(e.microphoneCheck.isChecked)}),.01)},c.onevent=function(e){switch(e){case"onvoiceopen":this.createselecet(b._roomtypes);break;case"onvoiceclose":this.chatRommContentNode.node.destroyAllChildren(),b.exitroom(null,null);break;case"onenterroomsuccess":this.vocieCheck.isChecked=!0,this.microphoneCheck.isChecked=!0;break;case"onexitroom":this.onexitroom()}},c.createselecet=function(e){for(var t=0;t<e.length;t++){var n=g(this.chatRommSetPrefab);this.chatRommContentNode.node.addChild(n);var i=n.getComponent(v);i.initData(e[t]),i.index=t,i.onItemClick=this.onToggleItemClicked.bind(this),this.toggleItems.push(i)}},c.onToggleItemClicked=function(e){var t=this;this.toggleItems.forEach((function(n,i){n.index==e&&e!=t.lastSelectIndex&&(t.lastSelectIndex=e,t.routeSelect(n.toggleName.string))}))},c.routeSelect=function(e){var t=this;switch(this.onexitroom(),e){case"队伍":if(0==_.G_Team_Grop_List.length)return void d.handlerAlert({type:1,content:"你没有队伍"});this.cur_type=1,this.cur_name="Team_"+_.G_Team_Grop_List[0].split(";")[0];break;case"行会":if(""==_.G_Guild_Name)return void d.handlerAlert({type:1,content:"你没有行会"});this.cur_type=2,this.cur_name="Gild_"+_.G_Guild_Name.substring(0,_.G_Guild_Name.indexOf("["));break;case"本区":this.cur_type=3,this.cur_name="Area_"+_.g_ServerName;break;case"跨服":this.cur_type=4,this.cur_name="";break;case"关闭":this.cur_type=0,this.cur_name=""}this.scheduleOnce((function(){b.switchroom(1,t.cur_type,t.cur_name)}),1)},c.onexitroom=function(){this.vocieCheck.isChecked=!1,this.microphoneCheck.isChecked=!1,b.exitroom(this.cur_type,this.cur_name)},c.onCloseView=function(){this.node.destroy()},c.onDestroy=function(){p.removeEventListener("VOICE_EVENT",this.onevent,this)},t}(m)).prototype,"vocieOffNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(V.prototype,"microphoneOffNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(V.prototype,"vocieCheck",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(V.prototype,"microphoneCheck",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(V.prototype,"chatRommContentNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(V.prototype,"chatRommSetPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(V.prototype,"chat_bg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(V.prototype,"closeBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(V.prototype,"toggle_voice_bg",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(V.prototype,"toggle_microphone_bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=V))||O)||O));c._RF.pop()}}}));

System.register("chunks:///_virtual/ChatEmojiItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts"],(function(t){"use strict";var e,i,r,n,o,a,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Sprite,s=t.Component},function(t){u=t.resourcesMgr}],execute:function(){var l,p,m,f,h,d;o._RF.push({},"f70d6WJQwxMTLeVzIoqyWF9","ChatEmojiItem",void 0);var g=a.ccclass,j=a.property,y=a.menu;t("default",(l=g("ChatEmojiItem"),p=y("实例模块/ChatEmojiItem"),m=j(c),l(f=p((d=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"emojiSprige",d,n(e)),e.onItemClick=null,e.emoji_data="",e.index=0,e}i(e,t);var o=e.prototype;return o.start=function(){},o.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},o.initData=function(t){var e=this;t&&(this.emoji_data=t,u.resLoad("ChatWin/chat_face/"+t+".png",(function(t){t&&e.emojiSprige&&(e.emojiSprige.spriteFrame=t)})))},e}(s)).prototype,"emojiSprige",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f)||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ChatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./RichText.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./MapData.ts","./MoveModule.ts","./ResourcesMgr.ts","./UIcontrol.ts","./RGBCode.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,l,h,c,f,d,u,p,m,g,b,C,x,O,v,L,_,w,I,G,T,E,y,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Sprite,l=e.Label,h=e.RichText,c=e.Node,f=e.UITransform,d=e.Button,u=e.Layers,p=e.color,m=e.Overflow,g=e.Layout,b=e.Vec3,C=e.Component},function(e){x=e.EventMgr},function(e){O=e.default},function(e){v=e.Config},function(e){L=e.default},function(e){_=e.CHAT_TYPE,w=e.OPEN_ITEMINFO_WIN_TYPE},function(e){I=e.Mapdata},function(e){G=e.Movemodule},function(e){T=e.resourcesMgr},function(e){E=e.uiControl},function(e){y=e.rgbCode},function(e){M=e.GameUtil}],execute:function(){var B,N,R,k,A,P,S,H,D,U,z,F,W,j;a._RF.push({},"f06ba4RJx1IeJf8/sNop5PP","ChatItem",void 0);var K=r.ccclass,Y=r.property,J=r.menu,Z=325;e("default",(B=K("ChatItem"),N=J("实例模块/ChatItem"),R=Y(s),k=Y(l),A=Y(s),P=Y(O),S=Y(h),B(H=N((U=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"BGNode",U,o(t)),n(t,"chatLabel",z,o(t)),n(t,"chatLabelBG",F,o(t)),n(t,"richCom",W,o(t)),n(t,"richText",j,o(t)),t.onItemClick=null,t.index=0,t.privateUserName="",t.show_item=null,t.pos_info=null,t}i(t,e);var a=t.prototype;return a.start=function(){},a.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},a.initData=function(e){var t=this;if(e){var i=y.Get2RGB(e.bg);this.richText.string="";var n=!0,o="",a="",r="",l="",b=[];if(e&&!e.strArray)return;var C=!1;if(e.strArray.forEach((function(i,p){r=y.Get2RGB(e.front);var m=i;if(m.indexOf("<img"),-1!=m.indexOf(">")&&-1!=m.indexOf("</:"))m=(m=m.replaceAll(">","/>")).replaceAll("</:","<img src="),C||(C=!0,M.loadResLocalAtlas("ChatWin/emoji.plist",t.node.getComponent(h))),n=!1;else if(-1!=m.indexOf("IMG:HTTP")){n=!1;var g=i.indexOf("IMG:HTTP"),x=i.substr(0,g),O=i.substr(g+4),L=new c,w=L.addComponent(s);T.resLoad(O,(function(e){e&&w&&(w.spriteFrame=e)}));var I=L.addComponent(f);I.height=22,I.width=22;var G=L.addComponent(d);t.node.addChild(L),G.node.on(d.EventType.CLICK,(function(){var e=new c,i=e.addComponent(s);e.addComponent(f),e.layer=u.Enum.UI_2D,T.resLoad(O,(function(e){e&&w&&(i.spriteFrame=e)})),e.addComponent(d).node.on(d.EventType.CLICK,(function(){t.destroy()})),v.MainScene.openWindow(e)}),t)}else{if(-1!=i.indexOf("|name"))n=!1,0==(x=m=i.substr(0,i.indexOf("|name"))).indexOf("(!)")||0==x.indexOf("组队：")?x=x.substr(3):-1!=x.indexOf("[Lv")&&(x=x.substr(0,m.indexOf("["))),t.privateUserName=x,"练功师"==x||e.type==_.SYSTEM?n=!0:m='<on click="clickName">'+m+"</on>";else if(-1!=i.indexOf("{pos|")){n=!1;var E=i.split("|");if(E[3])var B=E[3].substr(0,E[3].length-1);B&&E[1]&&(m=B+E[1]),r="#fd1313",t.pos_info=E,m='<on click="clickPos">'+m+"</on>"}else if(-1!=m.indexOf("<[")&&-1!=m.indexOf("]>")&&-1!=m.indexOf("\\")){n=!1;for(var N=m.split("\\"),R=N[0].substr(2),k=N[1].substring(0,N[1].length-2),A=v.g_showChatItem,P=0;P<A.length;P++)if(k==A[P].MakeIndex){var S=A[P];break}A=null,S&&(r="#fd1313"),t.show_item=S,m+='<on click="clickitem">'+R+"</on>"}else if(-1!=m.indexOf("{")&&-1!=m.indexOf("}")&&-1!=m.indexOf("|")){n=!1;var H=m.substring(m.indexOf("{")+1,m.indexOf("|")),D=m.substring(m.indexOf("|")+1,m.indexOf("}"));if(-1!=D.indexOf(":")&&(D=D.split(":")),r=y.Get2RGB(parseInt(D[0])),m=H,0==b.length)b.push(r);else{for(var U=!1,z=0;z<b.length;z++)if(b[z]==r){U=!0;break}U||b.push(r)}}else if(-1!=m.indexOf("{")&&-1!=m.indexOf("/SCOLOR=")&&-1!=m.indexOf("}")){n=!1;var F=m.split("{"),W=F[1].indexOf("}"),j=F[1].substring(0,W).split("/SCOLOR="),K="<color="+y.Get2RGB(j[1])+">"+j[0]+"</color>";F[1]=F[1].replace(j[0],K);var Y="/SCOLOR="+j[1]+"}";F[1]=F[1].replace(Y,""),m=F[0]+F[1]}}if(!C||p!=e.strArray.length-1||-1!=m.indexOf(">")||-1==m.indexOf("</:")&&-1==m.indexOf("<")&&-1==m.indexOf("</")){o+=m,l+="<color="+r+">"+m+"</color>";var J=r.replace("#","");a+="\\c"+J+"\\c"+m}})),this.chatLabelBG.node.active=n,n)this.richText.enabled=!1,this.richCom.node.active=!1,this.chatLabel.color=p(r),this.chatLabel.string=o,this.chatLabelBG.color=p(i),this.chatLabel.updateRenderData(!0),this.chatLabel.getComponent(f).width<Z?(this.chatLabelBG.getComponent(f).width=this.chatLabel.getComponent(f).width,this.node.getComponent(f).width=this.chatLabel.getComponent(f).width):(this.chatLabel.overflow=m.RESIZE_HEIGHT,this.chatLabel.getComponent(f).width=Z,this.node.getComponent(f).width=Z);else if(1==b.length)this.chatLabelBG.node.active=!0,this.richCom.node.active=!1,this.chatLabel.color=p(r),this.chatLabel.string=o,this.chatLabelBG.color=p(i),this.chatLabel.updateRenderData(!0),this.chatLabel.getComponent(f).width<Z?(this.chatLabelBG.getComponent(f).width=this.chatLabel.getComponent(f).width,this.node.getComponent(f).width=this.chatLabel.getComponent(f).width):(this.chatLabel.overflow=m.RESIZE_HEIGHT,this.chatLabel.getComponent(f).width=Z,this.node.getComponent(f).width=Z);else if(b.length>1){this.richCom.string=a,this.BGNode.color=p(i);var x=this.richCom.getComponent(f).height;this.richCom.getComponent(g).updateLayout(!0),this.node.getComponent(f).height=x,this.scheduleOnce((function(){t.node.getComponent(f).width=Z}),.01)}else{this.richText.string=l,this.richCom.node.active=!1,this.BGNode.color=p(i);var O=this.richText.getComponent(f).height;this.node.getComponent(f).height=O,this.scheduleOnce((function(){t.node.getComponent(f).width>Z&&(t.richText.maxWidth=Z)}),.01)}}},a.clickitem=function(){v.g_MoveItems.Items=this.show_item,v.g_OpenIdx=w.LOOKHUMWIN,x.raiseEvent(L.OPEN_NEW_ITEM_INFO,[this.show_item])},a.clickName=function(){x.raiseEvent(L.GET_CHAT_NAME,this.privateUserName)},a.clickPos=function(){if(!v.autohookstate&&0==this.pos_info[1].indexOf("(")&&-1!=this.pos_info[1].indexOf(",")&&this.pos_info[1].indexOf(")")==this.pos_info[1].length-1){var e=this.pos_info[1].substring(1,this.pos_info[1].indexOf(",")),t=this.pos_info[1].substring(this.pos_info[1].indexOf(",")+1,this.pos_info[1].indexOf(")"));if(I.cur_id==this.pos_info[2]){var i=new b(parseInt(e),parseInt(t));G.autoMove(i)}else E.handlerAlert({type:1,content:"该玩家与你不在同一张地图!"})}},a.getEmojiStr=function(e){for(var t=e.indexOf("<img");-1!=t;)t=(e=(e=e.replace("<img src='","\\iAtlas/emoji/")).replace("'/>","\\i")).indexOf("<img");return e},t}(C)).prototype,"BGNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"chatLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"chatLabelBG",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(D.prototype,"richCom",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(D.prototype,"richText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=D))||H)||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChatOnClick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./MapData.ts","./MoveModule.ts","./UIcontrol.ts"],(function(t){"use strict";var i,e,n,o,s,c,a,r,l,h,u,f,p,_,m,d,v,g,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,a=t.Label,r=t.Vec3,l=t.Color,h=t.UITransform,u=t.Component},function(t){f=t.EventMgr},function(t){p=t.Config},function(t){_=t.default},function(t){m=t.CHAT_CLICK_TYPE,d=t.OPEN_ITEMINFO_WIN_TYPE},function(t){v=t.Mapdata},function(t){g=t.Movemodule},function(t){C=t.uiControl}],execute:function(){var E,O,k,M,I,N;s._RF.push({},"60c1bybPe5G0pkJRXYgO2x3","ChatOnClick",void 0);var y=c.ccclass,b=c.property,L=c.menu;t("default",(E=y("ChatOnClick"),O=L("实例模块/ChatOnClick"),k=b(a),E(M=O((N=i((I=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return i=t.call.apply(t,[this].concat(s))||this,n(i,"clickLabel",N,o(i)),i.privateUserName="",i.chat_type=null,i.show_item=null,i.pos_info=null,i}e(i,t);var s=i.prototype;return s.start=function(){},s.onButtonClick=function(){this.chat_type==m.NAME?(console.log("testNAME"),this.clickName()):this.chat_type==m.ITEM?(console.log("testITEM"),this.clickitem()):this.chat_type==m.POS&&(console.log("testPOS"),this.clickPos())},s.clickitem=function(){p.g_MoveItems.Items=this.show_item,p.g_OpenIdx=d.LOOKHUMWIN,f.raiseEvent(_.OPEN_NEW_ITEM_INFO,[this.show_item])},s.clickName=function(){f.raiseEvent(_.GET_CHAT_NAME,this.privateUserName)},s.clickPos=function(){if(!p.autohookstate&&0==this.pos_info[1].indexOf("(")&&-1!=this.pos_info[1].indexOf(",")&&this.pos_info[1].indexOf(")")==this.pos_info[1].length-1){var t=this.pos_info[1].substring(1,this.pos_info[1].indexOf(",")),i=this.pos_info[1].substring(this.pos_info[1].indexOf(",")+1,this.pos_info[1].indexOf(")"));if(v.cur_id==this.pos_info[2]){var e=new r(parseInt(t),parseInt(i));g.autoMove(e)}else C.handlerAlert({type:1,content:"该玩家与你不在同一张地图!"})}},s.initData=function(t,i,e,n,o){this.chat_type=i,this.privateUserName=e,this.show_item=n,this.pos_info=o,i==m.NAME?(this.clickLabel.color=l.BLACK,this.privateUserName=t):this.clickLabel.color=l.RED,t&&(this.clickLabel.string=t)},s.getwidth=function(){return this.node.getComponent(h).width},i}(u)).prototype,"clickLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=I))||M)||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/ChatOrderItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,n,r,i,a,o,c,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Label,l=t.Button,s=t.Component},function(t){u=t.GameUtil}],execute:function(){var p,d,h,f,m,g;a._RF.push({},"05f4b/eU5VFWIt5HgdgPV9X","ChatOrderItem",void 0);var C=o.ccclass,b=o.property,v=o.menu;t("default",(p=C("ChatOrderItem"),d=v("实例模块/ChatOrderItem"),h=b(c),p(f=d((g=e((m=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"cmdLabel",g,i(e)),e.onItemClick=null,e.index=0,e}n(e,t);var a=e.prototype;return a.start=function(){var t=this.node.getComponent(l);u.loadResLocalButton("ChatWin/chat_select_order-001.png","ChatWin/chat_select_order.png",t)},a.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},a.initData=function(t){t&&(this.cmdLabel.string=t)},e}(s)).prototype,"cmdLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChatWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./external.ts","./GameDefine.ts","./FrameMgr.ts","./MapData.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./ChatBagItem.ts","./ChatEmojiItem.ts","./ChatItem.ts","./ChatOrderItem.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,h,l,d,c,u,f,g,m,p,C,b,I,_,v,y,N,x,B,E,w,S,O,L,T,A,M,k,H,D,P,U,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.EditBox,h=t.Node,l=t.Prefab,d=t.Toggle,c=t.ScrollView,u=t.UITransform,f=t.game,g=t.Game,m=t.UIOpacity,p=t.instantiate,C=t.view,b=t.Vec3,I=t.v3,_=t.tween,v=t.Component},function(t){y=t.EventMgr},function(t){N=t.Config},function(t){x=t.default},function(t){B=t.external},function(t){E=t.CHAT_TYPE,w=t.ChatData,S=t.EquipData},function(t){O=t.frameMgr},function(t){L=t.Mapdata},function(t){T=t.uiControl},function(t){A=t.ObjectManage},function(t){M=t.sendmessage},function(t){k=t.default},function(t){H=t.GameUtil},function(t){D=t.default},function(t){P=t.default},function(t){U=t.default},function(t){G=t.default}],execute:function(){var V,z,j,K,W,R,q,F,Y,J,Q,X,Z,$,tt,et,it,nt,ot,at,st,rt,ht,lt,dt,ct,ut,ft,gt,mt,pt,Ct,bt,It,_t,vt,yt,Nt,xt,Bt,Et,wt,St,Ot;a._RF.push({},"cff743B2IBCq5h1MUabp1pv","ChatWin",void 0);var Lt=s.ccclass,Tt=s.menu,At=s.property;t("default",(V=Lt("ChatWin"),z=Tt("弹窗模块/ChatWin"),j=At(r),K=At(h),W=At(h),R=At(h),q=At(h),F=At(l),Y=At(d),J=At(h),Q=At(h),X=At(l),Z=At(c),$=At(h),tt=At(h),et=At(l),it=At(h),nt=At(k),ot=At(u),at=At(u),st=At(h),rt=At(h),V(ht=z((dt=e((lt=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"inputEditBox",dt,o(e)),n(e,"oderNode",ct,o(e)),n(e,"faceNode",ut,o(e)),n(e,"itemNode",ft,o(e)),n(e,"emojiItemContent",gt,o(e)),n(e,"emojiItemPrefab",mt,o(e)),n(e,"tabBarButton",pt,o(e)),n(e,"bgNode",Ct,o(e)),n(e,"chatItemContent",bt,o(e)),n(e,"chatItemPrefab",It,o(e)),n(e,"chatScrollView",_t,o(e)),n(e,"bagItemContentNode",vt,o(e)),n(e,"orderContentNode",yt,o(e)),n(e,"orderItemPrefab",Nt,o(e)),n(e,"addNode",xt,o(e)),n(e,"list",Bt,o(e)),n(e,"orderScrollViewUI",Et,o(e)),n(e,"orderMaskUI",wt,o(e)),n(e,"enditboxBGNode",St,o(e)),n(e,"maskNode",Ot,o(e)),e.emojiItems=[],e.chatMsgList=[],e.ChatBaseKey="",e.specialItemList=[],e.CurSelectChat=0,e.SelectChatIdx=E.PUBLIC,e.isMove=!1,e.all_chat_data=[],e.show_chat_data=[],e.bagItems=[],e.orderItems=[],e.isCreateOrder=!1,e.isInitEmoji=!1,e.hide_msg_data=[],e.isHide=!1,e}i(e,t);var a=e.prototype;return a.start=function(){var t=this;f.on(g.EVENT_SHOW,(function(){console.log("ChatWin前台"),t.isHide=!1,t.initHideMsg()}),this),f.on(g.EVENT_HIDE,(function(){console.log("ChatWin后台"),t.isHide=!0}),this),this.bgNode.getComponent(m).opacity=0,this.maskNode.active=!1,this.initMgr(),this.addNode.active=N.cur_use_app,N.cur_use_app?this.inputEditBox.node.getComponent(u).width=326:this.inputEditBox.node.getComponent(u).width=373,N.cur_use_app?this.enditboxBGNode.getComponent(u).width=336:this.enditboxBGNode.getComponent(u).width=383},a.initMgr=function(){y.addEventListener(x.NEW_CHAT_MSG,this.ChatMsg,this),y.addEventListener(x.HIDE_CHAT_WIN,this.hideView,this),y.addEventListener(x.SETAUTOSKILLANI,this.initOrder,this),y.addEventListener(x.GET_CHAT_NAME,this.getChatName,this),y.addEventListener(x.SHOW_CHAT_DLG,this.showChatDlg,this),y.addEventListener("onGetPhotoURL",this.onGetPhotoURL,this)},a.onGetPhotoURL=function(t){var e=t[0];M.SendMonsterGM(e)||(e.indexOf(this.ChatBaseKey)<0&&""!=this.ChatBaseKey?M.sendSay(this.ChatBaseKey+e):M.sendSay(e));this.inputEditBox.string=""},a.initEmoji=function(){var t=this;if(!this.isInitEmoji){this.isInitEmoji=!0;var e=N.g_face_list;e.forEach((function(e,i){var n=p(t.emojiItemPrefab);t.emojiItemContent.addChild(n);var o=n.getComponent(P);o.onItemClick=t.onItemClicked.bind(t),t.emojiItems.push(o),o.initData(e),o.index=i})),e=null}},a.initHideMsg=function(){var t=this;if(this.hide_msg_data){for(var e=[];this.hide_msg_data.length>22;)this.hide_msg_data.shift();console.log(" this.hide_msg_data.length=",this.hide_msg_data.length),e=this.hide_msg_data,this.hide_msg_data=[],e.forEach((function(i,n){var o=new w;o.strArray=i.strArray,o.front=i.front,o.bg=i.bg,o.type=i.type,o.isTopInfo=i.isTopInfo,t.scheduleOnce((function(){t.initChat(o)}),.05*n),n==e.length-1&&(e=[])}))}},a.ChatMsg=function(t){var e={info:"",front:0,bg:0,type:0};if(e.info=t[0].info,e.front=t[0].front,e.bg=t[0].bg,e.type=t[0].type,-1!=e.info.indexOf("〖系统〗")&&249==e.bg&&(e.bg=0),8!=e.type){var i=this.getStrArray(e);-1!=e.info.indexOf("元宝")&&i&&i.length>0&&(e.info=H.checkStrYuanBao(i));var n=new w;n.strArray=i,n.front=e.front,n.bg=e.bg,n.type=e.type,n.isTopInfo=a;var o=new w;for(o.strArray=i,o.front=e.front,o.bg=e.bg,o.type=e.type,o.isTopInfo=a,this.all_chat_data.push(o);this.all_chat_data.length>22*this.tabBarButton.length-1;)this.all_chat_data[0].args=null,this.all_chat_data[0].bg=null,this.all_chat_data[0].front=null,this.all_chat_data[0].isTopInfo=null,this.all_chat_data[0].strArray=null,this.all_chat_data[0].time=null,this.all_chat_data[0].type=null,this.all_chat_data[0]=null,this.all_chat_data.shift();if(this.SelectChatIdx==E.PUBLIC||this.SelectChatIdx==e.type){var a=this.isTopInfo(e);this.SelectChatIdx!=n.type&&this.SelectChatIdx!=E.PUBLIC||(a||this.show_chat_data.push(o),this.isHide||!this.bgNode.active?this.hide_msg_data.push(o):O.putTask("initChatWinChat"+n.type,this.initChat.bind(this,n),N.CHAT_TASK_NUM))}e.info=null,e.front=null,e.bg=null,e.type=null,e=null}},a.showChatDlg=function(t,e){this.isMove||0==this.bgNode.position.x||this.hideView(),this.tabbarButtonClick(this.tabBarButton[0]),this.inputEditBox.string=t.name,this.inputEditBox.focus()},a.RenderItemHandler=function(t,e){console.log("idx=",e);var i=this.show_chat_data[e];i&&t.getComponent(U).initData(i)},a.initChat=function(t){var e=this;if(t.type!=this.SelectChatIdx&&this.SelectChatIdx!=E.PUBLIC)return t.args=null,t.bg=null,t.front=null,t.isTopInfo=null,t.strArray=null,t.time=null,t.type=null,void(t=null);for(;this.chatItemContent.children.length>22;){this.show_chat_data.shift();var i=this.chatItemContent.children[0];i.destroy(),this.chatItemContent.removeChild(i)}var n=p(this.chatItemPrefab);n.getComponent(U).initData(t),this.chatItemContent.addChild(n),this.scheduleOnce((function(){e.chatItemContent.getComponent(u).height>e.chatScrollView.node.getComponent(u).height&&e.chatScrollView.scrollToBottom()}),.05),t.args=null,t.bg=null,t.front=null,t.isTopInfo=null,t.strArray=null,t.time=null,t.type=null,t=null},a.getChatName=function(t){this.CurSelectChat=6,this.ChatBaseKey="/",this.SelectChatIdx=E.PRIVATE,this.tabBarButton[this.CurSelectChat].isChecked=!0,this.initChatData(this.SelectChatIdx),this.inputEditBox.string="/"+t+" ",0==this.bgNode.getComponent(m).opacity&&this.hideView()},a.getStrArray=function(t){var e=[],i=t.info;if(-1!=i.indexOf(":")&&i.indexOf(":")<10&&-1==i.indexOf("[攻击模式")&&-1==i.indexOf("公告:")&&0!=t.type){var n=i.indexOf(":");-1==(o=i.substring(0,n)).indexOf("{")&&(e.push(o+"|name"),i=i.substring(n))}else if(-1!=i.indexOf("=>")){var o;n=i.indexOf("=>");-1==(o=i.substring(0,n)).indexOf("{")&&(e.push(o+"|name"),i=i.substring(n))}for(;-1!=i.indexOf("{")&&-1!=i.indexOf("|")&&-1!=i.indexOf("}")||-1!=i.indexOf("</:")&&-1!=i.indexOf(">");){if(0!=i.indexOf("{")){var a=i.indexOf("{");e.push(i.substring(0,a)),i=i.substring(a)}if(0!=i.indexOf("</:")&&i.indexOf("{<")<0){a=i.indexOf("<");e.push(i.substring(0,a)),i=i.substring(a)}if(0!=i.indexOf(">")&&i.indexOf("{>")<0){a=i.indexOf(">");e.push(i.substring(0,a+1)),i=i.substring(a+1)}a=i.indexOf("{");var s=i.indexOf("}");-1!=a&&-1!=s&&(e.push(i.substring(0,s+1)),i=i.substring(s+1))}""!=i&&e.push(i);for(var r=(e=H.check_showItem(e)).length-1;r>-1;r--)""==e[r]&&e.splice(r,1);return e},a.initChatData=function(t){var e=this;for(this.show_chat_data=[],this.all_chat_data.forEach((function(i,n){(t==i.type||t==E.PUBLIC&&!i.isTopInfo)&&e.show_chat_data.push(i)})),this.chatItemContent.destroyAllChildren();this.show_chat_data.length>22;)this.show_chat_data.shift();this.show_chat_data.forEach((function(t,i){var n=p(e.chatItemPrefab);e.chatItemContent.addChild(n),n.getComponent(U).initData(t),i==e.show_chat_data.length-1&&e.scheduleOnce((function(){e.chatItemContent.getComponent(u).height>e.chatScrollView.node.getComponent(u).height&&e.chatScrollView.scrollToBottom()}),.01)}))},a.isTopInfo=function(t){if(!t)return!1;for(var e=N.topInfoList,i=0;i<e.length;i++)if(t.info==e[i].info)return!0;e=null},a.onItemClicked=function(t){var e=this;this.emojiItems.forEach((function(i,n){n==t&&(e.inputEditBox.string+="</:'"+i.emoji_data+"'>",e.closeAllBG(null))}))},a.tabbarButtonClick=function(t){var e=this.tabBarButton.indexOf(t);if(e!=this.CurSelectChat){switch(this.CurSelectChat=e,e){case 0:this.SelectChatIdx=E.PUBLIC,this.ChatBaseKey="";break;case 1:this.SelectChatIdx=E.SYSTEM,this.ChatBaseKey="";break;case 2:this.SelectChatIdx=E.NEARBY,this.ChatBaseKey="";break;case 3:this.SelectChatIdx=E.SHOUT,this.ChatBaseKey="!";break;case 4:this.SelectChatIdx=E.GUILD,this.ChatBaseKey="!~";break;case 5:this.ChatBaseKey="!!",this.SelectChatIdx=E.TEAM;break;case 6:this.ChatBaseKey="/",this.SelectChatIdx=E.PRIVATE}this.initChatData(this.SelectChatIdx)}},a.onSendChat=function(){var t=this.inputEditBox.string;""==t||M.SendMonsterGM(t)||(t.indexOf(this.ChatBaseKey)<0&&""!=this.ChatBaseKey?M.sendSay(this.ChatBaseKey+t):M.sendSay(t));this.specialItemList=[],this.inputEditBox.string="",this.closeAllBG()},a.onClickOder=function(){this.closeAllBG(this.oderNode),this.oderNode.active=!this.oderNode.active},a.onClickFace=function(){this.closeAllBG(this.faceNode),this.initEmoji(),this.faceNode.active=!this.faceNode.active},a.onClickitem=function(){this.closeAllBG(this.itemNode),this.itemNode.active=!this.itemNode.active,this.initBagItem()},a.initOrder=function(){var t=this;this.orderContentNode.destroyAllChildren(),this.orderItems=[];var e=N.g_CMDlist;e.forEach((function(e,i){var n=p(t.orderItemPrefab),o=n.getComponent(G);o.onItemClick=t.onOrderItemClicked.bind(t),n.name=e.sCmd,o.initData(e.sCaption),o.index=i,t.orderItems.push(o),t.orderContentNode.addChild(n)})),e=null;var i=C.getVisibleSize().height;this.oderNode.active=!0,this.orderContentNode.getComponent(u).height>i-150?(this.orderMaskUI.height=i-150,this.orderScrollViewUI.height=i-150):(this.orderMaskUI.height=this.orderContentNode.getComponent(u).height,this.orderScrollViewUI.height=this.orderContentNode.getComponent(u).height),this.oderNode.active=!1},a.initBagItem=function(){this.specialItemList=[],this.bagItems=[];for(var t=N.g_BagItemsList,e=0;e<t.length;e++)null!=t[e]&&this.specialItemList.push(t[e]);t=null,this.list.numItems=this.specialItemList.length},a.RenderBagItemHandler=function(t,e){var i=this.specialItemList[e];if(i){var n=t.getComponent(D);n.index=e;var o=H.loadImgData(i.s.Looks,"items"),a=new S;n.onItemClick=this.onBagItemClicked.bind(this),a.res=o,a.data=i,a.type=i.tag,n.initData(a)}},a.onBagItemClicked=function(t){var e=this;this.bagItemContentNode.children.forEach((function(i,n){var o=i.getComponent(D);if(o.index==t){o.clickItem();var a=e.inputEditBox.string;if(-1!=a.indexOf("<[")&&-1!=a.indexOf("]>"))T.handlerAlert({type:1,content:"一次只能发送一个装备。"});else{e.specialItemList[t];o&&(e.inputEditBox.string+="<["+o.equip_data.data.s.Name+"\\"+o.equip_data.data.MakeIndex+"]>",e.itemNode.active=!1)}}}))},a.onOrderItemClicked=function(t){var e=this;this.orderItems.forEach((function(i,n){n==t&&(e.inputEditBox.string=i.node.name+" ",e.oderNode.active=!1)}))},a.oncallLocalPhoto=function(){N.cur_use_app&&(console.log("============js:oncallLocalPhoto============>"),N.g_serverconfig.boPic&&B.sendtonative("oncallLocalPhoto",N.g_serverconfig.sPicUrl))},a.onClickPos=function(){var t=A.findobject(N.playerID),e=this.inputEditBox.string;if(t)if(-1!=e.indexOf("{pos|"))T.handlerAlert({type:1,content:"一次只能发送一个坐标点。"});else{var i="{pos|("+t.grid.x+","+t.grid.y+")|"+L.cur_id+"|"+L.cur_name+"}";this.inputEditBox.string+=i}},a.closeAllBG=function(t){if(!t)return this.itemNode.active=!1,this.oderNode.active=!1,void(this.faceNode.active=!1);t!=this.itemNode&&(this.itemNode.active=!1),t!=this.oderNode&&(this.oderNode.active=!1),t!=this.faceNode&&(this.faceNode.active=!1)},a.closeView=function(){this.node.destroy()},a.hideView=function(){var t=this;if(!this.isMove){this.isMove=!0,this.bgNode.getComponent(m).opacity=255,this.bgNode.active=!0,this.maskNode.active=!0,this.initHideMsg();var e=new b;e=0==this.bgNode.position.x?I(this.bgNode.position.x-this.bgNode.getComponent(u).width-31.2,0):I(this.bgNode.position.x+this.bgNode.getComponent(u).width+31.2,0),_(this.bgNode).to(.3,{position:e}).call((function(){t.isMove=!1,0!=t.bgNode.position.x?(t.bgNode.getComponent(m).opacity=0,t.bgNode.active=!1,t.maskNode.active=!1):t.isCreateOrder||(t.isCreateOrder=!0,t.initOrder())})).start()}},a.onDestroy=function(){var t=this;y.removeEventListener(x.HIDE_CHAT_WIN,this.hideView,this),y.removeEventListener(x.NEW_CHAT_MSG,this.ChatMsg,this),y.removeEventListener(x.SETAUTOSKILLANI,this.initOrder,this),y.removeEventListener(x.GET_CHAT_NAME,this.getChatName,this),y.removeEventListener(x.SHOW_CHAT_DLG,this.showChatDlg,this),console.log("ChatWinonDestroy"),f.off(g.EVENT_SHOW,(function(){console.log("ChatWin前台"),t.isHide=!1,t.initHideMsg()})),f.off(g.EVENT_HIDE,(function(){console.log("ChatWin后台"),t.isHide=!0}))},e}(v)).prototype,"inputEditBox",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(lt.prototype,"oderNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(lt.prototype,"faceNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(lt.prototype,"itemNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(lt.prototype,"emojiItemContent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(lt.prototype,"emojiItemPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(lt.prototype,"tabBarButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=e(lt.prototype,"bgNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(lt.prototype,"chatItemContent",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(lt.prototype,"chatItemPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(lt.prototype,"chatScrollView",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(lt.prototype,"bagItemContentNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(lt.prototype,"orderContentNode",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(lt.prototype,"orderItemPrefab",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(lt.prototype,"addNode",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(lt.prototype,"list",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(lt.prototype,"orderScrollViewUI",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(lt.prototype,"orderMaskUI",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(lt.prototype,"enditboxBGNode",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(lt.prototype,"maskNode",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=lt))||ht)||ht));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChatWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,n,i,l,r,a,o,c,u,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.Button,c=e.Sprite,u=e.Toggle,s=e.Component},function(e){p=e.GameUtil}],execute:function(){var g,b,h,f,_,B,d,R,k,m,y,S,z,w,M,L,C,W,T,v,G,x,D,I,F,K,P,U,j,A,H,Y,q,E,J,N,O,Q,V,X,Z,$,ee,te,ne,ie,le,re,ae,oe,ce,ue,se,pe,ge,be;r._RF.push({},"30b5fR17z1KrITK+cI4gMzY","ChatWinSprite",void 0);var he=a.ccclass,fe=a.property,_e=a.menu;e("default",(g=he("ChatWinSprite"),b=_e("图片模块/ChatWinSprite"),h=fe(o),f=fe(c),_=fe(o),B=fe(u),d=fe(c),R=fe(u),k=fe(c),m=fe(u),y=fe(c),S=fe(u),z=fe(c),w=fe(u),M=fe(c),L=fe(u),C=fe(c),W=fe(u),T=fe(c),v=fe(o),G=fe(o),x=fe(o),D=fe(o),I=fe(c),F=fe(o),K=fe(c),P=fe(c),U=fe(c),g(j=b((H=t((A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"chatWinCloseBtn",H,l(t)),i(t,"chatBG",Y,l(t)),i(t,"sendBtn",q,l(t)),i(t,"toggle1",E,l(t)),i(t,"checkMark1",J,l(t)),i(t,"toggle2",N,l(t)),i(t,"checkMark2",O,l(t)),i(t,"toggle3",Q,l(t)),i(t,"checkMark3",V,l(t)),i(t,"toggle4",X,l(t)),i(t,"checkMark4",Z,l(t)),i(t,"toggle5",$,l(t)),i(t,"checkMark5",ee,l(t)),i(t,"toggle6",te,l(t)),i(t,"checkMark6",ne,l(t)),i(t,"toggle7",ie,l(t)),i(t,"checkMark7",le,l(t)),i(t,"oderBtn",re,l(t)),i(t,"faceBtn",ae,l(t)),i(t,"itemBtn",oe,l(t)),i(t,"posBtn",ce,l(t)),i(t,"editBoxBg",ue,l(t)),i(t,"addBtn",se,l(t)),i(t,"chat_face_bg",pe,l(t)),i(t,"chat_item_bg",ge,l(t)),i(t,"chat_bg_order",be,l(t)),t}return n(t,e),t.prototype.start=function(){p.loadResLocal("ChatWin/chat_bg.png",this.chatBG),p.loadResLocalButton("SplitResource/Btns/chat_btn_send.png","SplitResource/Btns/chat_btn_send (2).png",this.sendBtn),p.loadResLocalToggle("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.toggle1,this.checkMark1),p.loadResLocalToggle("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.toggle2,this.checkMark2),p.loadResLocalToggle("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.toggle3,this.checkMark3),p.loadResLocalToggle("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.toggle4,this.checkMark4),p.loadResLocalToggle("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.toggle5,this.checkMark5),p.loadResLocalToggle("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.toggle6,this.checkMark6),p.loadResLocalToggle("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.toggle7,this.checkMark7),p.loadResLocalButton("SplitResource/Btns/chat_oder.png","SplitResource/Btns/chat_oder (2).png",this.oderBtn),p.loadResLocalButton("SplitResource/Btns/chat_face.png","SplitResource/Btns/chat_face (2).png",this.faceBtn),p.loadResLocalButton("SplitResource/Btns/chat_item.png","SplitResource/Btns/chat_item (2).png",this.itemBtn),p.loadResLocalButton("SplitResource/Btns/chat_pos.png","SplitResource/Btns/chat_pos (2).png",this.posBtn),p.loadResLocal("ChatWin/chat.png",this.editBoxBg),p.loadResLocalButton("SplitResource/Btns/add.png","SplitResource/Btns/add (2).png",this.addBtn),p.loadResLocalButton("SplitResource/Btns/chat_btn_hide.png","SplitResource/Btns/chat_btn_hide (2).png",this.chatWinCloseBtn),p.loadResLocal("ChatWin/chat_face_bg.png",this.chat_face_bg),p.loadResLocal("ChatWin/chat_item_bg.png",this.chat_item_bg),p.loadResLocal("ChatWin/chat_bg_order.png",this.chat_bg_order)},t}(s)).prototype,"chatWinCloseBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(A.prototype,"chatBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(A.prototype,"sendBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(A.prototype,"toggle1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(A.prototype,"checkMark1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(A.prototype,"toggle2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(A.prototype,"checkMark2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(A.prototype,"toggle3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(A.prototype,"checkMark3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(A.prototype,"toggle4",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(A.prototype,"checkMark4",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(A.prototype,"toggle5",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(A.prototype,"checkMark5",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(A.prototype,"toggle6",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(A.prototype,"checkMark6",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(A.prototype,"toggle7",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(A.prototype,"checkMark7",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(A.prototype,"oderBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(A.prototype,"faceBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(A.prototype,"itemBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(A.prototype,"posBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(A.prototype,"editBoxBg",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(A.prototype,"addBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(A.prototype,"chat_face_bg",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(A.prototype,"chat_item_bg",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(A.prototype,"chat_bg_order",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=A))||j)||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/CityAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var c;r._RF.push({},"c7266UPfudCqqezAHBodbgf","CityAlert",void 0);var i=n.ccclass;n.property,t("CityAlert",i("CityAlert")(c=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/CityBuilding.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,r,o,a,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Node,c=t.Component}],execute:function(){var l,s,p,d,f;o._RF.push({},"90327Bpw0ZP/Jd6D4s0E+Jz","CityBuilding",void 0);var y=a.ccclass,g=a.property;t("CityBuilding",(l=y("CityBuilding"),s=g(u),l((f=i((d=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"mask",f,r(i)),i}e(i,t);var o=i.prototype;return o.start=function(){},o.update=function(t){},o.onCloseBuildDetailsView=function(t){t.target.parent.active=!1},i}(c)).prototype,"mask",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ClientSocket.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"972f9IAcwtAWont6O84Ir44","ClientSocket",void 0),n("ClientSocket",function(){function n(){}n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var t=n.prototype;return t.init=function(){},t.getIPPortCount=function(){},t.setIPPortCount=function(){},t.connect=function(n,t,e){},t.openHandler=function(n){},t.receiveHandler=function(n){},t.oneconnect=function(){},t.send=function(n){},t.closeHandler=function(n){},t.socketErrorCatch=function(n){},t.loopToGetMessage=function(){},t.ExecBuffers=function(n,t,e){},t.End=function(){},n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/CodeUtil.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"9be06F0SFZETKe6D0D+Emq8","CodeUtil",void 0);var r=t("CodeUtil",function(){function t(){}t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var n=t.prototype;return n._MAKELONG=function(t,n){return 65535&t|(65535&n)<<16},n._MAKEWORD=function(t,n){return 255&t|(255&n)<<8},n._LOWORD=function(t){return 65535&t},n._HIWORD=function(t){return t>>16&65535},n._LOBYTE=function(t){return 255&t},n._HIBYTE=function(t){return t>>8&255},n.getEncodeSize=function(t){var n=4*t/3;return Math.floor(n)<n?Math.floor(n)+1:Math.floor(n)},n.getDecodeSize=function(t){return Math.floor(t-t/4)},n.getCodeMsgSize=function(t){var n=Math.floor(t);return n<t?n+1:n},n.getFeatureLen=function(t){return this.getCodeMsgSize(4*t/3)},n.str2Bytes=function(t){var n=0,r=t.length;if(r%2!=0)return null;r/=2;for(var e=new Array,o=0;o<r;o++){var u=t.substr(n,2),i=parseInt(u,16);e.push(i),n+=2}return e},n.getKey=function(){return(Math.round(100*Math.random())%58<<24)+(Math.round(100*Math.random())%58<<16)+(Math.round(100*Math.random())%58<<8)+Math.round(100*Math.random())%58},n.getKeyValue=function(t){var n,r,e,o,u=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,60,61,62,64,91,92,93];n=(4278190080&t)>>>24,r=(16711680&t)>>>16,e=(65280&t)>>>8,o=255&t;return String.fromCharCode(u[o])+String.fromCharCode(u[e])+String.fromCharCode(u[r])+String.fromCharCode(u[n])},n._MAKE64LONG=function(t,n){return 4294967295&t|(4294967295&n)<<32},n._LOINT=function(t){return 4294967295&t},n._HIINT=function(t){return t>>32&4294967295},t}());r._instance=null;t("codeUtil",r.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/ComAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationModule.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(t){"use strict";var i,e,s,n,o,a,h,l,f,r,c,p;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,n=t._decorator,o=t.Animation,a=t.v3,h=t.AnimationClip,l=t.Vec2,f=t.Component},function(t){r=t.Animationmodule},function(t){c=t.resourcesMgr},function(t){p=t.GameUtil}],execute:function(){var d;s._RF.push({},"dbd34m3gh9CcqRGxZjgXLbe","ComAnim",void 0);var u=n.ccclass;n.property,t("ComAnim",u("ComAnim")(d=function(t){function s(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).makeIndex=-1,i.ani=null,i.clipTemp=null,i.type=null,i.mode=0,i.num=0,i.res_lock=!1,i.dataName=null,i.off=null,i.clipName=null,i._urls=[],i.app=null,i.firstPlayCallback=null,i.callback=null,i.initPos=null,i.rawInitPos=null,i.is_use_offest=!0,i.is_use_rawOffset=!1,i.is_use_roleOffset=!1,i.roleOffset=new l(-25,20),i.id=null,i.dorpItem=!1,i.ccData=null,i.tempX=0,i.tempY=0,i.defaultRectWidth=0,i}i(s,t);var n=s.prototype;return n.start=function(){},n.init=function(){this.ani=this.node.getComponent(o),null==this.node&&this.stopAni(),null!=this.clipTemp&&this.ani.removeClip(this.clipTemp,!0)},n.removeSelf=function(){this.stopAni(),this.node&&this.node.isValid&&(this.node.destroy(),this.node.setParent(null)),this.app&&this.callback&&this.callback.call(this.app)},n.stopAni=function(){null!=this.ani&&this.ani.stop()},n.setAniOffset=function(t,i,e){this.node&&this.node.active&&this.node.isValid?this.off?this.node.setPosition(25+t+this.off.x,-20+i+this.off.y):this.is_use_offest&&this.node.setPosition(this.initPos.x+t,this.initPos.y+i):this.stopAni()},n.setAniOffset2=function(t,i,e){if(this.node)if(this.node.active)if(this.node.isValid){var s=a(this.initPos.x+t,this.initPos.y+i),n=p.LayaPointToCocosPoint(s,this.ccData.rootWidth,this.ccData.rootHeight);this.node.setPosition(n)}else this.stopAni();else this.stopAni();else this.stopAni()},n.setAniOffset1=function(t,i,e){this.node&&this.node.active&&this.node.isValid?this.node.setPosition(this.initPos.x+t,this.initPos.y+i):this.stopAni()},n.findParent=function(t){return"ObjectRole"==t.name||!!t.parent&&this.findParent(t.parent)},n.playMultiAnim=function(t,i,e,s){var n=this;void 0===e&&(e=2),void 0===s&&(s=80),this.mode=e;var o=c.getRes(t);o?this.onResLoaded(o,i,s):c.resLoad(t,(function(t){n.onResLoaded(t,i,s)}))},n.onResLoaded=function(t,i,e){var s=this;if(this.node)if(this.node.active)if(this.node.isValid){this.is_use_roleOffset=this.findParent(this.node);var n,o=this.clipName&&r.ani_clips[this.clipName+this.tag];if(o)n=o;else{for(var a={},l=0;l<t.length;l++){var f=t[l];for(var c in f.spriteFrames)a[c]=f.spriteFrames[c]}for(var p=[],d=i.length,u=0;u<i.length;u++){null!=(A=a[i[u]])&&p.push(A)}(n=h.createWithSpriteFrames(p,p.length)).path=this._urls;for(var m=0;m<p.length;m++){var v,g,A=p[m];null!=this.ccData?(this.ccData.drawCenter?(v=0,g=0):this.ccData.HCenter?(0==this.defaultRectWidth&&(this.defaultRectWidth=A.rect.width),v=A.offset.x+A.rect.width/2-this.defaultRectWidth/2,g=A.offset.y+A.rect.height/2):(v=A.rect.width/2,g=A.rect.height/2),n.events.push({frame:1/p.length*m,func:"setAniOffset2",params:[v,g,m]})):(this.is_use_rawOffset?(v=A.offset.x,g=-A.offset.y):this.is_use_roleOffset?(v=-25+A.offset.x+A.rect.width/2,g=20-(A.offset.y+A.rect.height/2)):(v=A.offset.x+A.rect.width/2,g=-(A.offset.y+A.rect.height/2)),this.tempX=v,this.tempY=g,n.events.push({frame:1/p.length*m,func:"setAniOffset",params:[v,g,m]})),n.updateEventDatas()}r.ani_clips[this.clipName+this.tag]=n,n.speed=640/e/d,n.sample=1,n.wrapMode=h.WrapMode.Normal}s.clipTemp=n,s.ani&&(s.ani.addClip(n),s.ani.defaultClip=n,s.ani.play())}else this.stopAni();else this.stopAni();else this.stopAni()},n.updatePos=function(t,i){this.initPos.x=t,this.initPos.y=i,this.setAniOffset(this.tempX,this.tempY)},n.playComAnim=function(t,i,e){void 0===i&&(i=2),void 0===e&&(e=80);var s=this;if(this.node)if(this.node.active)if(this.node.isValid){this.mode=i;var n,o=r.ani_clips[this.clipName+this.tag];if(o)n=o;else{(n=h.createWithSpriteFrames(t,t.length)).path=this._urls;for(var a=0;a<t.length;a++){var l,f,c=t[a];l=c.offset.x,f=c.offset.y,n.events.push({frame:1/t.length*a,func:"setAniOffset1",params:[l,f,a]}),n.updateEventDatas()}n.speed=640/e/t.length,n.sample=1,n.wrapMode=h.WrapMode.Normal,r.ani_clips[this.clipName+this.tag]=n}s.ani&&(s.ani.addClip(n),s.ani.defaultClip=n,s.ani.play())}else this.stopAni();else this.stopAni();else this.stopAni()},n.update=function(t){},e(s,[{key:"tag",get:function(){return this.is_use_roleOffset?"#1":"#0"}}]),s}(f))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/ComBoBox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,i,a,r,s,l,c,d,m,h,u,p,g,f,C,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.UITransform,c=e.Size,d=e.director,m=e.view,h=e.Layers,u=e.Vec3,p=e.Input,g=e.Component,f=e.instantiate,C=e.Label,y=e.NodeEventType,v=e.Color}],execute:function(){var S,w,_,b,B,N,T,k,E,z,U;a._RF.push({},"19a6axkKVlAkLeqKOIF3Uyt","ComBoBox",void 0);var x=r.ccclass,H=r.property;e("ComBoBox",(S=x("ComBoBox"),w=H(s),_=H(s),b=H(s),B=H(s),S((k=t((T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"lab",k,i(t)),o(t,"content",E,i(t)),o(t,"scroll",z,i(t)),o(t,"nodeState",U,i(t)),t._mask=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){},a.start=function(){this.nodeStateHandler()},a.upDataView=function(e,t,n){var o=this;void 0===n&&(n=!1);var i=25.2*e.items.length;this.nodeState.getComponent(l).setContentSize(new c(e.width,100.8)),this.scroll.getComponent(l).setContentSize(new c(e.width,100.8)),this.content.getComponent(l).setContentSize(new c(e.width,i)),this.createMaskHandler();for(var a=function(i){var a=f(o.lab);a.data={itemN:e.items[i],idx:i},a.getChildByName("Lab_name").getComponent(C).string=e.items[i],a.active=!0,a.on(p.EventType.TOUCH_END,(function(e){n?t(e.target.data.itemN,e.target.data.idx):t(e.target.data.itemN),o._mask.destroy(),o.node.destroy()})),a.on(y.MOUSE_LEAVE,(function(){a.getChildByName("Sp_single").active=!1,a.getChildByName("Lab_name").getComponent(C).color=new v("#000000")})),a.on(y.MOUSE_ENTER,(function(){a.getChildByName("Sp_single").active=!0,a.getChildByName("Lab_name").getComponent(C).color=new v("#ffffff")})),o.content.addChild(a)},r=0;r<e.items.length;r++)a(r)},a.nodeStateHandler=function(){this.nodeState.on(s.EventType.TOUCH_START,(function(e){e.preventSwallow=!0})),this.nodeState.on(s.EventType.TOUCH_END,(function(e){e.preventSwallow=!0}))},a.createMaskHandler=function(){var e=d.getScene().getChildByName("Canvas").getChildByName("UIBox").getComponent(l).width/2,t=d.getScene().getChildByName("Canvas").getChildByName("UIBox").getComponent(l).height/2;this._mask=new s("mask"),this._mask.addComponent(l).setContentSize(new c(m.getVisibleSize().width,m.getVisibleSize().height)),this._mask.layer=h.Enum.UI_2D;var n=this.node.getComponent(l).convertToNodeSpaceAR(new u(e,t));this._mask.setPosition(n),this._mask.setParent(this.nodeState),this._mask.on(p.EventType.TOUCH_START,(function(e){e.preventSwallow=!0}),this),this._mask.on(p.EventType.TOUCH_END,this.destroyMask,this)},a.destroyMask=function(e){e.preventSwallow=!0,this._mask.destroy(),this.node.destroy(),this.node.targetOff(this),this.node.removeFromParent()},t}(g)).prototype,"lab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(T.prototype,"content",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(T.prototype,"scroll",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"nodeState",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=T))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/CommonClickItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,a,r,o,c,s,u,m,l,p,f,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,c=t.Sprite,s=t.Label,u=t.Component},function(t){m=t.EventMgr},function(t){l=t.Config},function(t){p=t.default},function(t){f=t.OPEN_ITEMINFO_WIN_TYPE},function(t){d=t.resourcesMgr},function(t){g=t.GameUtil}],execute:function(){var h,I,_,v,C,N,E,b;r._RF.push({},"2f049teZH1B3JvsNvWZiGha","CommonClickItem",void 0);var k=o.ccclass,y=o.property,M=o.menu;t("default",(h=k("CommonClickItem"),I=M("通用模块/CommonClickItem"),_=y(c),v=y(s),h(C=I((E=e((N=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"icon",E,a(e)),n(e,"itemNum",b,a(e)),e.equip_data=null,e}i(e,t);var r=e.prototype;return r.start=function(){g.loadResLocal("BagWin/img_bag_bg.png",this.node.getComponent(c))},r.init=function(t){var e,i=this;(t.res?d.handleLoad(t.res.plist,(function(e){e&&e.getSpriteFrame(t.res.img)&&i.icon&&(i.icon.spriteFrame=e.getSpriteFrame(t.res.img))})):this.icon.getComponent(c).spriteFrame=null,t.data)?(this.equip_data=t,t.data.s.BagEffect.FileIndex&&g.showItemeffect(this.node,t.data),this.itemNum&&(this.itemNum.node.active=!0,g.checkMaterialItemCanBeStacked(t.data,!0)?e="x"+(t.data.Dura+1):g.checkDrugItemCanBeStacked(t.data)&&(e="x"+t.data.Dura),this.itemNum.string=e)):g.removeItemAni(this.node,"effect")},r.onClickItem=function(){this.equip_data&&(l.g_MoveItems.Items=this.equip_data.data,l.g_OpenIdx=f.LOOKHUMWIN,m.raiseEvent(p.OPEN_NEW_ITEM_INFO,[this.equip_data.data]))},e}(u)).prototype,"icon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(N.prototype,"itemNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=N))||C)||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var _,t,a,i,o,n;return{setters:[function(e){_=e.inheritsLoose},function(e){t=e.cclegacy,a=e.Material,i=e.gfx,o=e.Vec2,n=e.Component}],execute:function(){t._RF.push({},"e7591VBISZB+bhGtI6ayM7r","Config",void 0);var g=e("Configs",function(e){function t(){for(var _,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(_=e.call.apply(e,[this].concat(a))||this).PRIVATE_CLIENT_VERSION_NUMBER=20210719,_.CLIENT_VERSION_NUMBER=120200313,_.CLIENT_JS_VERSION_NUMBER=20200818,_.userName=null,_.userPwd=null,_.openDefaultRes=!1,_.testUrlIp="140.210.16.186",_.testUrlLoginPort=17030,_.testUrlRolePort=17031,_.testUrlGamePort=17033,_.relogin=void 0,_.readyRelogin=void 0,_.mapType=!0,_.sandBoxNative=!1,_.releaseChannel="",_.isElectron=!1,_.g_isOnWindows=!1,_.isJava=!1,_.overServer=0,_.curSocket=null,_.GAME_IP=null,_.GAME_PORT=null,_.port_key="",_.cur_game_type=0,_.RUNLOGINCODE=0,_.RUNGATECODE=2857740885,_.RUNGATECODEX=2862262938,_.DEFBLOCKSIZE=22,_.HUMANFRAME=600,_.g_furious_collision_ing=!1,_.g_furious_collision_end=!1,_.g_rocker_moving=!1,_.g_initTimes=void 0,_.g_atttime=0,_.openRed=!1,_.SELL_ITEM_TYPE=void 0,_.CHANGEPWDSCENE_EXIST=!1,_.REGSCENE_EXIST=!1,_.DELAY_TIMEe=0,_.DELAY_INTERVAL=2e3,_.SOUND_PLAY={},_.disAfterTargetMoved=0,_.otherPlayerCatch=!1,_.g_FishTeamId=void 0,_.g_isReLog=!1,_.g_relogname="",_.g_relogpsw="",_.g_backToRole=!1,_.g_suijiStone=void 0,_.g_otherBtn=void 0,_.g_customSkillMove=!0,_.g_hasHybridUI=!1,_.g_hybirdData=[],_.g_tick_rate=0,_.g_tick_ct=0,_.game_scene_code=0,_.playerID=0,_.eWalkTime=480,_.eRunTime=600,_.g_selectServerId=void 0,_.g_selectProductId=void 0,_.g_dragItemData=void 0,_.g_canReceiveDrag=void 0,_.g_dragOnItem=void 0,_.g_cqbChannelValue=void 0,_.g_serverRunixTime=void 0,_.g_auctionList=[],_.g_auctionCurrency=void 0,_.g_aucitonItemList={},_.g_auctionBreakUpInfo=void 0,_.doubleFirePosIndex=void 0,_.cdTimerStart=void 0,_.topInfoList=[],_.g_GameType=null,_.firstName=[],_.lastName=[],_.skilldesclist=[],_.g_ItemDesc=[],_.g_ItemDescTop="",_.g_setingItemDesc=[],_.sound_json=[],_.role_json=[],_.obj_config={},_.g_GameMoneyType=[],_.g_hintAnime=[],_.g_customBtn=[],_.g_customFun=[],_.g_gameGold=[],_.Charge_Value="",_.g_serverconfig=[],_.g_serverconfigtxt={},_.g_selfdropitem=[],_.g_pcShowItemInfo=!1,_.g_BaseConfig=null,_.g_GameConfig=null,_.g_DiyButtonList=null,_.g_DiyGoldList=null,_.lookHumData=null,_.g_GameConfigWEB=null,_.g_ServerList=[],_.g_nMyHitPoint=null,_.g_nMySpeedPoint=null,_.g_nMyAntiMagic=null,_.g_nMyAntiPoison=null,_.g_nMyPoisonRecover=null,_.g_nMyHealthRecover=null,_.g_nMySpellRecover=null,_.g_nHeroHitPoint=null,_.g_nHeroSpeedPoint=null,_.g_nHeroAntiMagic=null,_.g_nHeroAntiPoison=null,_.g_nHeroPoisonRecover=null,_.g_nHeroHealthRecover=null,_.g_nHeroSpellRecover=null,_.g_ridingShow=!0,_.m_nGameGold=null,_.m_DoubleExp=null,_.g_RoleNameOnly=null,_.g_RoleName=null,_.g_RoleBodyState=0,_.g_playerName=null,_.g_RoleCallName=null,_.g_RoleLevelUp=0,_.g_ItemScoreRecord=null,_.g_EquipScoreExList=[],_.g_EquipScoreList=[],_.IsBlendFileName=[],_.g_fastaccess=!1,_.quick_Server_ID=1,_.g_Server_Name="",_.g_ServerName="",_.g_Cai_GameID=0,_.g_openhook="1",_.g_simScreen="1",_.g_npcTxtSize=12,_.g_autopick=!1,_.g_atlasinfo=new Object,_.g_atlasRule=new Object,_.g_boMagicGood=!1,_.g_boKeepSkill=!1,_.g_autohookpoison=0,_.g_DropItemEffectList={},_.g_sdk_userID="",_.g_sdk_userName="",_.g_sdk_userUid="",_.g_MRGameH5_userId=0,_.g_strokewidth=0,_.ItemHeard=null,_.U_BOXITEM=-1,_.U_DRESS=0,_.U_WEAPON=1,_.U_RIGHTHAND=2,_.U_NECKLACE=3,_.U_HELMET=4,_.U_ARMRINGL=5,_.U_ARMRINGR=6,_.U_RINGL=7,_.U_RINGR=8,_.U_BUJUK=9,_.U_BELT=10,_.U_BOOTS=11,_.U_CHARM=12,_.U_HAT=13,_.U_DRUM=14,_.U_HORSE=15,_.U_SHIELD=16,_.U_JADE=17,_.U_FASHIONDRESS=18,_.U_FASHIONWEAPON=19,_.U_FASHIONNECKLACE=20,_.U_FASHIONHELMET=21,_.U_FASHIONARMRINGL=22,_.U_FASHIONARMRINGR=23,_.U_FASHIONRINGL=24,_.U_FASHIONRINGR=25,_.U_FASHIONRIGHTHAND=26,_.U_FASHIONBELT=27,_.U_FASHIONBOOTS=28,_.U_FASHIONCHARM=29,_.selfPlayerTransfer=void 0,_.firstUpdatePath=void 0,_.maxPackSizeBackup=void 0,_.MAXBAGITEM=46,_.g_StoreLimitCount=0,_.U_GODBLESS11=50,_.U_GODBLESS12=51,_.U_ICON=_.U_GODBLESS12+1,_.U_ICON2=_.U_GODBLESS12+1,_.GlobalCfglist=null,_.G_RollMsg=new Object,_.G_RollMsg1=[],_.G_newLineMsm0=[],_.G_newLineMsm1=[],_.G_newLineMsm2=[],_.G_SHOW_ITEM_NAME=!0,_.G_ATUO_GET_ITEMS=!0,_.G_SHOW_ROLE_NAME=!0,_.G_SHOW_ROLE_HP=!0,_.G_SHOW_EXP=!0,_.G_SHOW_NAME=!0,_.G_SHOW_MONSTER_NAME=!0,_.G_SHOW_TITLE=!0,_.G_SpotDlgMode=1,_.G_NPC_ID=0,_.G_Show_Item_Price=0,_.G_Trade_Other_Name="",_.G_Team_Grop_List=[],_.G_Last_Select_Team_Name="",_.G_Team_Group_State=!1,_.G_Cur_Shop_Page=[],_.G_Total_Shop_Page=[],_.G_Money_Type="",_.G_Notice_Guald="",_.G_KillGuilds_Guald="",_.G_AllyGuilds_Guald="",_.G_Guald_Title_List=[],_.G_Guald_WaiJiao_String=[],_.G_Guald_HangHui_World_List=[],_.G_Guald_Last_Name="",_.sWantAddGuild="",_.G_Guald_Info="",_.G_WaiJiaoStr="",_.G_Guald_Can_Lianmeng=0,_.G_att_type="",_.g_mapdesc=[],_.G_PRIVATE_CHAT_list=[],_.g_customItemAttr=null,_.CUSTOMITEMABIL_LEN=10,_.CUSTOMITEMPROGRESSBAR_LEN=2,_.g_BaseScale=1,_.g_server_area={nListIdx:2},_.G_Cur_Store_Page=0,_.G_Total_Store_num=0,_.G_Cur_Item_Page=0,_.G_Total_Item_num=0,_.G_Guald_OnlineCount=0,_.G_Guald_NowCount=0,_.G_Guald_MaxCount=0,_.G_Guald_Admin=0,_.G_Guald_Admin_Name="",_.G_Guald_Show_List=[],_.G_Guald_Chat_List=[],_.G_Guald_Notice_List=[],_.G_Guald_User_List=[],_.G_Guald_Show_All=!1,_.G_Ohter_User_Data={},_.G_Show_Editor_Type="",_.g_Trade_GameIcon=0,_.g_guildEventInfo=[],_.G_Friend_List=[],_.G_Friend_RedPack_List=[],_.G_Friend_HMD_List=[],_.G_Friend_Target_List=[],_.G_Friend_Option_Type=0,_.G_Friend_Info={},_.G_SkillTime=0,_.CurScene=null,_.MainScene=null,_.g_takeoffData={index:null,item:null},_.G_BaseSetList=[{txt:"允许组队",val:_.G_Team_Group_State},{txt:"允许组队1",val:_.G_Team_Group_State},{txt:"允许组队2",val:_.G_Team_Group_State}],_.G_SysSetList=[{txt:"自动捡去物品",val:_.G_SHOW_ITEM_NAME},{txt:"显示物品名字",val:_.G_ATUO_GET_ITEMS},{txt:"自动补充Hp",val:"金创药(小)包",use:"金创药(小量)"},{txt:"自动补充Mp",val:"魔法药(小)包",use:"魔法药(小量)"},{txt:"紧急逃命卷",val:"随机传送卷包",use:"随机传送卷"}],_.G_FightSetList=[{txt:"自动战斗",val:!0},{txt:"自动战斗1",val:!0},{txt:"自动战斗2",val:!0}],_.G_BaiTanData=null,_.baitanGoldTypes=[],_.G_ShowBaiTanDataIsSelf=!1,_.G_BaiTanName="",_.g_nMagicItemRate=100,_.g_HPStoneAdd=0,_.g_HPStoneDec=0,_.g_MPStoneAdd=0,_.g_MPStoneDec=0,_.g_Move_Type=2,_.g_Show_Bag_Type="",_.g_GameInitFinish=!1,_.g_CMDlist=[],_.g_ani_clearlist=[],_.g_ani_keeplist=new Object,_.g_item_clearlist=new Object,_.resArrPath=[],_.g_pcMousePoint=new o(0,0),_.g_boCobWeb=!1,_.g_GameGoldName="",_.g_GamePointName="",_.g_GameGoldNum={key:"",value:0},_.g_GamePointNum={key:"",value:0},_.g_GameCionNum={key:"",value:0},_.g_gameGlory={key:"",value:0},_.g_gamePopNum={key:"",value:0},_.g_bindCionNum={key:"",value:0},_.g_bindGoldNum={key:"",value:0},_.g_nGameDiamond={key:"",value:0},_.g_nGameGird={key:"",value:0},_.GAMEGOLDEX={key:"",value:0},_.GOLDCOUNT={key:"",value:0},_.CREDITPOINT={key:"",value:0},_.GAMEGLORY={key:"",value:0},_.GAMEDIAMOND={key:"",value:0},_.GAMEGIRD={key:"",value:0},_.GAMEPOINT={key:"",value:0},_.GAMEGOLD={key:"",value:0},_.g_CurGameDlgZorder=99,_.g_ItemInfoFromShop=!1,_.g_showChatItem=[],_.g_getAtlas={},_.g_cutoffset=[],_.backupLockID=void 0,_.g_babyList=[],_.g_FishInfo_List={},_.g_JoinInfo_List=[],_.g_CustomMonsterConfig=[],_.g_CustomMagicConfig=[],_.G_Guald_Name="",_.g_npc_opt_list="",_.g_npc_opt_boxid=0,_.g_crystal_token="",_.g_crystal_userid="",_.g_crystalInfo="",_.g_animation_force_blend=!0,_.g_sprite_force_blend=!0,_.g_GameMainBtnResList={btn_vip:"会员",bnt_new_user:"藏宝阁",btn_rank_list:"排行榜",bnt_chongzi:"充值链接",bnt_game_hd:"活动介绍",bnt_game_fl:"福利大厅",btn_recharge_reward:"首冲奖励",bnt_bysc:"钻石商城",onLine:"在线领奖"},_.g_imgNpcPak=["Icon","Items","DnItems","Prguse","Prguse2","Prguse3","Items1","DoItems1","UI1","UI3","GamePlan","Magic","Magic2","Magic3","Magic4","Magic5","Magic6","Magic7","Magic8","Magic9","Magic10","magic7-16","Magic8-16","Magicico","UI2","StateEffect","Face",,"Npcface"],_.g_face_list=["ay","baiy","bing","bs","cy","dao","dx","dy","fn","gz","haochi","hd","hq","huaix","jy","kb","kel","kuk","kun","kuxiao","lh","mg","nanguo","nu","qd","qi","qiang","qt","qz","ruo","se","sfg","shengqi","shuai","shui","tule","ty","ws","wx","xin","xs","yaokul","ye","yiw","yun","yx","zt"],_.g_LegTzItemList=[],_.clBlack="#000000",_.clMaroon="#000080",_.clGreen="#008000",_.clOlive="#008080",_.clNavy="#800000",_.clPurple="#800080",_.clTeal="#808000",_.clGray="#808080",_.clSilver="#C0C0C0",_.clRed="#0000FF",_.clLime="#00FF00",_.clYellow="#FFFF00",_.clBlue="#FF0000",_.clFuchsia="#FF00FF",_.clAqua="#00FFFF",_.clLtGray="#C0C0C0",_.clDkGray="#808080",_.clWhite="#FFFFFF",_.StandardColorsCount=16,_.FRIEND_TIP={A:"申请加你为好友，你是否同意？",B:"好友申请已发送，请耐心等待！",C:"该好友已添加！",D:"请输入玩家昵称",E:"确定要删除|吗？",F:"请选择邀请组队的对象",G:"请开启允许组队",H:"请选择邀请加入行会的对象",I:"名字不能超过15个字",J:"该玩家已在黑名单中",L:"请输入加入黑名单昵称",M:"确定要从黑名单中删除|吗？",N:"已加你为好友!",O:"删除好友操作失败！",P:"下线啦！",Q:"上线啦！",R:"好友列表已满",S:"名称已经存在好友列表中, 不能重复添加!",T:"名称不存在或者不在线!",U:"不能把自己加为好友!",V:"加入黑名单成功",W:"已经达到黑名单数量上限",X:"已经在黑名单中",Y:"不是好友无法加入黑名单",Z:"自己无法加入黑名单",2:"好友列表已满",3:"名称已经存在好友列表中, 不能重复添加!",4:"名称不存在或者不在线!",5:"不能把自己加为好友!",LIMITLENGTH:15},_.g_unpackList=[],_.g_ChannelId=0,_.g_Termial=1,_.S_LIMIT_FORMAT="wav",_.S_LOGIN_GAME="wav/log-in-long2.wav",_.S_BUTTON_1="wav/103.wav",_.S_BUTTON_2="wav/104.wav",_.S_BUTTON_3="wav/105.wav",_.S_SELECTROLE="wav/sellect-loop2.wav",_.S_SELECTHOAL="wav/101.wav",_.S_ROLE_WALK="wav/1.wav",_.S_ROLE_WALK2="wav/2.wav",_.S_ROLE_RUN="wav/3.wav",_.S_ROLE_RUN2="wav/4.wav",_.S_ROLE_LEVEL="wav/powerup.wav",_.s_hit_short="wav/50.wav",_.s_hit_wooden="wav/51.wav",_.s_hit_sword="wav/52.wav",_.s_hit_do="wav/53.wav",_.s_hit_axe="wav/54.wav",_.s_hit_club="wav/55.wav",_.s_hit_long="wav/56.wav",_.s_hit_fist="wav/57.wav",_.s_cboZs1_start_m="wav/51.wav",_.s_cboZs1_start_w="wav/51.wav",_.s_cboZs2_start="wav/51.wav",_.s_cboZs3_start_m="",_.s_cboZs3_start_w="",_.s_cboZs4_start="",_.s_60HIT="wav/M51-0.wav",_.s_61HIT="",_.s_hit_ZRJF_M="",_.s_hit_ZRJF_W="",_.s_role_die_m="wav/144.wav",_.s_role_die_w="wav/145.wav",_.s_struck_m="wav/138.wav",_.s_struck_w="wav/139.wav",_.s_struck_armor_sword="wav/80.wav",_.s_struck_armor_axe="wav/81.wav",_.s_struck_armor_longstick="wav/82.wav",_.s_struck_armor_fist="wav/83.wav",_.s_struck_body_sword="wav/70.wav",_.s_struck_body_axe="wav/71.wav",_.s_struck_body_longstick="wav/72.wav",_.s_struck_body_fist="wav/73.wav",_.s_click_drug="wav/108.wav",_.s_spacemove_out="wav/109.wav",_.s_spacemove_in="wav/110.wav",_.s_click_weapon="wav/111.wav",_.s_click_armor="wav/112.wav",_.s_click_ring="wav/113.wav",_.s_click_armring="wav/114.wav",_.s_click_necklace="wav/115.wav",_.s_click_helmet="wav/116.wav",_.s_click_grobes="wav/117.wav",_.s_itmclick="wav/118.wav",_.s_temp_play=!1,_.lockingID=0,_.attackerID=0,_.autohookstate=!1,_.autopickstate=!1,_.lockingList=new Array,_.chaseing=!1,_.rolespeed=0,_.g_rolemovespeed=10,_.Actionlock=!0,_.rockerlock=!0,_.rockerfirst=!1,_.rockerposview=!1,_.roledielock=!1,_.isSocketConnected=!1,_.rw_recog=0,_.rw_titles="",_.rw_pagings="",_.rw_content="",_.taskcomplete="",_.clickname="",_.skill_count_cd=0,_.skill_use_time=0,_.attack_call_time=0,_.open_minimap=!1,_.isOpen=!0,_.miniflashpoint=0,_.g_copyName="",_.TaskOpen=!0,_.iconimage=void 0,_.task_tile_list=new Array,_.g_RedPack_List=new Array,_.g_RedPackIndex=-1,_.g_RedPackOpen=-1,_.G_npcShopPage=0,_.OpenTextColor=!1,_.G_countDownMsg=[],_.g_Zmu_MinLv="0",_.g_Zmu_MaxLv="55",_.g_Zmu_Type="0",_.g_Zmu_Quyu="0",_.g_Zmu_Memo="",_.g_Zmu_Count=0,_.Allsuitlist=[],_.Suitelementlist=[],_.GomSuitOpen=!1,_.Gomsuitlist=[],_.gxxTzItemList=[],_.activate_skilluse=0,_.activate_skilltype=0,_.activate_skillpos=null,_.g_buffOnwerId=0,_.g_buffAniCache=[],_.g_Showitem=[],_.g_ItemImg=[],_.g_pak_list=[],_.g_FishGroup_List=[],_.g_main_npcdialog=null,_.g_main_npcdialogopen=!1,_.g_H_List=[],_.g_BagItemsList=[],_.g_OpenBag=!1,_.g_OpenStore=!1,_.g_OpenState=!1,_.g_OpenMyShop=!1,_.g_OpenJiaoYi=!1,_.g_OpenIdx=-1,_.g_nBagIdx=-1,_.g_canLogin=!0,_.g_MoveItems={Items:null,Index:-1},_.g_WaitItems={Items:null,Index:-1},_.g_AutoItems={Items:null,Index:-1},_.g_UserItemList=[],_.g_GodBlessItems=[],_.g_JewelryBoxItems=[],_.HighTUseItems=52,_.g_UserMagicList=[],_.g_SelectIndex=-1,_.g_humTitleOn=!1,_.g_StoreItemList=[],_.g_otherStoreList=[],_.g_StoreType=-1,_.player_stalls=!1,_.g_StoreMaxCount=-1,_.g_StoreCount=-1,_.g_DrugButNumber=-1,_.g_autoDrugButNumber=-1,_.g_setDrugNumber=-1,_.g_DrugItemsList=[],_.g_ItemMemuList=[],_.g_ItemMemuListInf=[],_.g_NpcCan_buy=!1,_.g_NpcCan_sell=!1,_.g_NpcCan_repair=!1,_.g_NpcCan_s_repair=!1,_.BagDataIsInit=!1,_.CanUserItem=!0,_.g_NpcShowtxt="",_.g_SetupMagicList=[],_.g_MoveSkill=null,_.g_StoreName="",_.g_StoreOnline="",_.AddStoreItem=null,_.SelectedStoreItem=null,_.g_StoreItemNum=[0,0,0],_.g_StoreItemIndex=[0,0,0],_.g_MyShopList=[],_.g_MyShopGoldList=[],_.g_SelectedName="",_.gametakelist=[],_.g_MyJiaoYiSum=0,_.g_MyJiaoYiList=[],_.g_HumJiaoYiList=[],_.activate_ok=null,_.nGT_X=0,_.nGT_Y=10,_.testNpc_X=0,_.testNpc_Y=0,_.g_GameDiamondName="金刚石",_.g_GameLingFName="灵符",_.sNewNpcStr="",_.MissStringArray=[],_.g_MissCaptionList=[],_.g_MissIndex=0,_.g_sStrMissNv="",_.g_GlobalList=[],_.g_TempNPCLabe=!1,_.g_tempChangerdlg=!1,_.g_ChangerIndex=-1,_.g_Changerpak=-1,_.g_Hit_Text=[],_.g_TimeIndex=-1,_.g_buffID=[],_.itme_lock=!0,_.verify_through=!0,_.g_cardGame_infoList=[],_.g_show_fashion=!1,_.g_DiyNPCList={},_.g_IconCList=[],_.g_ActiveFengHaoIndex=-1,_.g_ClientConfig=null,_.G_Guild_Name="",_.g_Cai_nProductID=0,_.g_diyMonState=0,_.gm_show_player=!0,_.gm_show_npc=!0,_.gm_show_skill=!0,_.gm_show_pl_name="",_.gm_show_pl_visible=!0,_.gm_show_map=-1,_.gm_show_grid=!1,_.gm_open_seemap=!1,_.gm_print_msg=!1,_.gm_has_socket_timer=!1,_.g_loadmap=!1,_.g_myHero=null,_.g_HeroLoyalPoint=0,_.g_OpenHeroState=!1,_.g_OpenHeroBag=!1,_.g_HeroItemList=[],_.g_HeroMagicList=[],_.g_HeroBagNum=-1,_.g_HeroBagCount=-1,_.g_HeroBagItemsList=[],_.g_HeroLockType=0,_.g_HeroGuardOn=!1,_.g_boNoAcrossHuman=!1,_.g_boNoAcrossMon=!1,_.g_boNoAcrossNpc=!1,_.g_boIsSafeRunNPC=!1,_.g_boIsSafeRun=!1,_.npc_img_name="gameres/png/npc_di.png",_.g_btSelfSndacasketState=!1,_.g_btSelfShowGodBless=!1,_.g_SelfOpenedGodBless=[],_.g_HeroOpenedGodBless=[],_.g_btHeroSndacasketState=!1,_.g_btHeroShowGodBless=!1,_.g_Show_Hero_Fashion=!1,_.g_deleteStr="",_.g_Cai_ServerIP="",_.g_Cai_ServerPort=0,_.g_tempJob="",_.g_tempName="",_.g_magicId=-1,_.g_magicType=0,_.g_boOpenCaiji=!1,_.g_levelForCaiji=0,_.g_rotation=0,_.use_move_start=!1,_.moveing=!1,_.use_skill_sbys=!1,_.rocker_move_dir=-1,_.attack_lock_state=!1,_.attack_lock_time=0,_.dsOpen=0,_.dsClose=1,_.dsBroken=2,_.g_nBonusPoint=0,_.g_BonusTick=null,_.g_BonusAbil=null,_.g_NakedAbil=null,_.g_BonusAbilChg=null,_.g_pickPlan1=[],_.g_pickPlan2=[],_.dataFromRoleScene=[],_.g_show_Npcbj=!0,_.g_friend_request=[],_.g_boxid=0,_.E_NewPlayerID=0,_.g_native_code=0,_.g_boxItemArr=new Array(8),_.g_register=null,_.g_superMsg=[],_.g_mapnpc=null,_.g_tick_error=0,_.g_tick_check=!1,_.matrix=null,_.g_overtime=0,_.native_version=0,_.version_config=[],_.g_itemSize=1141,_.g_relevel=0,_.g_rolelevel=0,_.g_autoEquipItemList=[],_.g_newTaskList=[],_.g_taskPanel=null,_.g_newTaskNodeList=[],_.g_newTaskNpcIcon=null,_.g_newTaskClickTick=0,_.g_mailList=[],_.g_mailLogo=null,_.g_mailMaxCount=0,_.g_extendBagItemCount=0,_.g_intervalDeal=!0,_.g_isStandbyUrl=!1,_.cur_use_app=!1,_.app_imei="123132",_.app_simulator=!1,_.mac_key="",_.gm_timefor_socket=0,_.open_gm=!1,_.g_eventBtn=[],_.g_funBtn=[],_.sectionInfo=0,_.server_uuid="",_.user_version=null,_.user_tpye=0,_.g_sound_list=[],_.soundReUse=[],_.g_cannotPick={},_.MsgFromLogin=[],_.user_site="",_.g_npcCanMove=!0,_.E_NewRoleTime=0,_.E_NewRoleName="",_.AllItemList=[],_.AllMonsterList=[],_.Offsetmodule=null,_.ObjectManage=null,_.Movemodule=null,_.Gamemessage=null,_.Fightmodule=null,_.Objectcontrol=null,_.AStart=null,_.Skillmodule=null,_.Mapdata=null,_.RelationMgr=null,_.Gameconfig={},_.AutoHookmodule=null,_.Animationmodule=null,_.Versionmgr=null,_.g_LogSocket=null,_.Sendmessage=null,_.VoiceSocket=null,_.reEntry=null,_.useingSkillType=null,_.selectedData=null,_.customMaterial=null,_.itemShowPlist=[],_.canvas_19=524288,_.isDiyBg=!1,_.resLoadList=[],_.npcDiyRes=[],_.npcAni=[],_.defaultPath=_.openDefaultRes?"DefaultRes/":"data/",_.isDetails=!0,_.isSummon=2,_.maxHeroOnStage=10,_.maxTakeHero=10,_.maxWujBagL=30,_.g_RoleAccountId=null,_.isForeground=!0,_.powerNum=0,_.isFromTradingDlg=!1,_.g_GameMainOtherBtns={btn_other1:"限时活动",btn_other2:"红包",btn_other3:"充值",btn_other4:"首领",btn_other5:"召唤令"},_.isTianQiong=!0,_.isClickStart=!1,_.g_filterItemList=null,_.CUSTOM_MAGIC_COUNT=300,_.screenEffectList=[],_.ShopItemList=[[],[],[],[],[]],_.StrageList=[],_.nowShowRoleData=null,_.minimap_moving=!1,_.hero_treasure_buy_num=0,_.g_external=null,_.sandBoxAPP=!1,_.sandBoxForeground=!0,_.g_fleixbleItemShow=[],_.CHAT_TASK_NUM=10,_.g_USFengHaoItems=[],_.g_USActiveFengHaoIndex=-1,_.g_storeIndex=0,_.g_curStorePage=0,_.g_GamePetList=[],_.g_CurrentRecallGamePetIndex=-1,_.g_CustomItemPropertyTextVarList="",_.g_ContinuousMagicOrder=[[],[],[],[]],_.g_boOpenLastContinuous=!1,_.g_boCanUseContinuous=!1,_.g_ButtonList=[],_.g_FBTime=0,_.g_FBExitTime=0,_.g_FBFailTime=0,_.g_MirrorMapTime=0,_.g_TimeMapTime=0,_.needGetItemDetail=!1,_}_(t,e),t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var n=t.prototype;return n.init=function(){for(var e=0;e<46;e++)this.g_BagItemsList.push(null);for(var _=0;_<6;_++)this.g_DrugItemsList[_]=null;for(_=0;_<8;_++)this.g_SetupMagicList[_]=null;for(_=0;_<20;_++)this.g_MyShopList[_]=null,this.g_MyShopGoldList[_]=null,this.MissStringArray[_]="";for(_=0;_<12;_++)this.g_MyJiaoYiList[_]=null,this.g_HumJiaoYiList[_]=null,this.g_SelfOpenedGodBless.push(0),this.g_HeroOpenedGodBless.push(0);this.isDetails=!0,this.isSummon=2,this.initCustomMaterial()},n.resetConfig=function(){this.initpverallprot()},n.initpverallprot=function(){l.lockingID=0,l.attackerID=0,l.autohookstate=!1,l.autopickstate=!1,l.lockingList=new Array,l.chaseing=!1,l.rolespeed=0,l.g_rolemovespeed=10,l.Actionlock=!0,l.rockerlock=!0,l.rockerfirst=!1,l.rockerposview=!1,l.roledielock=!1,l.isSocketConnected=!1,l.rw_recog=0,l.rw_titles="",l.rw_pagings="",l.rw_content="",l.taskcomplete="",l.clickname="",l.skill_count_cd=0,l.skill_use_time=0,l.attack_call_time=0,l.open_minimap=!1,l.isOpen=!0,l.miniflashpoint=0,l.g_copyName="",l.TaskOpen=!0,l.task_tile_list=new Array,l.g_RedPack_List=new Array,l.g_RedPackIndex=-1,l.g_RedPackOpen=-1,l.G_npcShopPage=0,l.OpenTextColor=!1,l.G_Friend_List=[],l.G_Friend_Target_List=[],l.G_countDownMsg=[],l.g_Zmu_MinLv="0",l.g_Zmu_MaxLv="55",l.g_Zmu_Type="0",l.g_Zmu_Quyu="0",l.g_Zmu_Memo="",l.g_Zmu_Count=0,l.Allsuitlist=[],l.Suitelementlist=[],l.GomSuitOpen=!1,l.Gomsuitlist=[],l.activate_skilluse=0,l.activate_skilltype=0,l.activate_skillpos=null,l.g_buffOnwerId=0,l.g_buffAniCache=[],l.g_Showitem=[],l.g_ItemImg=[],l.g_pak_list=[],l.g_FishGroup_List=[],l.g_main_npcdialog=null,l.g_main_npcdialogopen=!1,l.g_H_List=[],l.g_BagItemsList=[];for(var e=0;e<46;e++)l.g_BagItemsList.push(null);l.g_OpenBag=!1,l.g_OpenStore=!1,l.g_OpenState=!1,l.g_OpenMyShop=!1,l.g_OpenJiaoYi=!1,l.g_OpenIdx=-1,l.g_nBagIdx=-1,l.g_MoveItems={Items:null,Index:-1},l.g_WaitItems={Items:null,Index:-1},l.g_AutoItems={Items:null,Index:-1},l.g_UserItemList=[],l.HighTUseItems=52,l.g_UserMagicList=[],l.g_SelectIndex=-1,l.g_humTitleOn=!1,l.g_StoreItemList=[],l.g_otherStoreList=[],l.g_StoreType=-1,l.player_stalls=!1,l.g_StoreMaxCount=-1,l.g_StoreCount=-1,l.g_DrugButNumber=-1,l.g_autoDrugButNumber=-1,l.g_setDrugNumber=-1,l.g_DrugItemsList=[];for(e=0;e<6;e++)l.g_DrugItemsList[e]=null;l.g_ItemMemuList=[],l.g_ItemMemuListInf=[],l.g_NpcCan_buy=!1,l.g_NpcCan_sell=!1,l.g_NpcCan_repair=!1,l.g_NpcCan_s_repair=!1,l.BagDataIsInit=!1,l.CanUserItem=!0,l.g_Move_Type=2,l.g_NpcShowtxt="",l.g_SetupMagicList=[],l.g_MoveSkill=null;for(e=0;e<8;e++)l.g_SetupMagicList[e]=null;l.g_StoreName="",l.g_StoreOnline="",l.AddStoreItem=null,l.SelectedStoreItem=null,l.g_StoreItemNum=[0,0,0],l.g_StoreItemIndex=[0,0,0],l.g_MyShopList=[],l.g_MyShopGoldList=[],l.g_SelectedName="";for(e=0;e<20;e++)l.g_MyShopList[e]=null,l.g_MyShopGoldList[e]=null;l.gametakelist=new Array,l.g_MyJiaoYiSum=0,l.g_MyJiaoYiList=[],l.g_HumJiaoYiList=[];for(e=0;e<12;e++)l.g_MyJiaoYiList[e]=null,l.g_HumJiaoYiList[e]=null;l.activate_ok=null,l.nGT_X=0,l.nGT_Y=10,l.testNpc_X=0,l.testNpc_Y=0,l.g_GameDiamondName="金刚石",l.g_GameLingFName="灵符",l.sNewNpcStr="",l.MissStringArray=[],l.g_MissCaptionList=[];for(e=0;e<20;e++)l.MissStringArray[e]="";l.g_MissIndex=0,l.g_sStrMissNv="",l.g_GlobalList=[],l.g_TempNPCLabe=!1,l.g_tempChangerdlg=!1,l.g_ChangerIndex=-1,l.g_Changerpak=-1,l.g_Hit_Text=[],l.g_TimeIndex=-1,l.g_buffID=[],l.itme_lock=!0,l.verify_through=!0,l.g_cardGame_infoList=[],l.g_show_fashion=!1,l.g_DiyNPCList={},l.g_IconCList=[],l.g_ClientConfig=null,l.G_Guild_Name="",l.g_Cai_nProductID=0,l.g_diyMonState=0,l.gm_show_player=!0,l.gm_show_npc=!0,l.gm_show_skill=!0,l.gm_show_pl_name="",l.gm_show_pl_visible=!0,l.gm_show_map=-1,l.gm_show_grid=!1,l.gm_open_seemap=!1,l.gm_print_msg=!1,l.gm_has_socket_timer=!1,l.g_loadmap=!1,l.g_myHero=null,l.g_HeroLoyalPoint=0,l.g_OpenHeroState=!1,l.g_OpenHeroBag=!1,l.g_HeroItemList=[],l.g_HeroMagicList=[],l.g_HeroBagNum=-1,l.g_HeroBagCount=-1,l.g_HeroBagItemsList=[],l.g_HeroLockType=0,l.g_HeroGuardOn=!1,l.g_boNoAcrossHuman=!1,l.g_boNoAcrossMon=!1,l.g_boNoAcrossNpc=!1,l.g_boIsSafeRunNPC=!1,l.g_boIsSafeRun=!1,l.npc_img_name="gameres/png/npc_di.png",l.g_btSelfSndacasketState=!1,l.g_btSelfShowGodBless=!1,l.g_SelfOpenedGodBless=[];for(e=0;e<12;e++)l.g_SelfOpenedGodBless.push(0);l.g_HeroOpenedGodBless=l.g_SelfOpenedGodBless,l.g_btHeroSndacasketState=!1,l.g_btHeroShowGodBless=!1,l.g_Show_Hero_Fashion=!1,l.g_Cai_ServerIP="",l.g_Cai_ServerPort=0,l.g_tempJob="",l.g_tempName="",l.g_magicId=-1,l.g_boOpenCaiji=!1,l.g_levelForCaiji=0,l.g_rotation=0,l.use_move_start=!1,l.moveing=!1,l.use_skill_sbys=!1,l.rocker_move_dir=-1,l.attack_lock_state=!1,l.attack_lock_time=0,l.dsOpen=0,l.dsClose=1,l.dsBroken=2,l.g_nBonusPoint=0,l.g_BonusTick=null,l.g_BonusAbil=null,l.g_NakedAbil=null,l.g_BonusAbilChg=null,l.g_pickPlan1=[],l.g_pickPlan2=[],l.dataFromRoleScene=[],l.g_show_Npcbj=!0,l.g_friend_request=[],l.g_boxid=0,l.E_NewPlayerID=0,l.g_native_code=0,l.g_boxItemArr=new Array(8),l.g_register=null,l.g_superMsg=[],l.g_mapnpc=null,l.g_tick_error=0,l.g_tick_rate=0,l.g_tick_check=!1,l.g_tick_ct=0,l.matrix=null,l.g_overtime=0,l.native_version=0,l.version_config=[],l.g_itemSize=1141,l.g_relevel=0,l.g_rolelevel=0,l.g_autoEquipItemList=[],l.g_newTaskList=[],l.g_taskPanel=null,l.g_newTaskNodeList=[],l.g_newTaskNpcIcon=null,l.g_newTaskClickTick=0,l.g_mailList=[],l.g_mailLogo=null,l.g_mailMaxCount=0,l.g_extendBagItemCount=0,l.g_intervalDeal=!0,l.g_isStandbyUrl=!1,l.g_deleteStr=""},n.initCustomMaterial=function(){this.customMaterial=new a,this.customMaterial.initialize({effectName:"builtin-sprite",defines:{USE_TEXTURE:!0},states:[{blendState:{targets:[{blend:!0,blendSrc:i.BlendFactor.SRC_ALPHA,blendDst:i.BlendFactor.DST_ALPHA}]}}]})},t}(n));g._instance=void 0;var l=e("Config",g.getInstance());t._RF.pop()}}}));

System.register("chunks:///_virtual/Content.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RGBCode.ts"],(function(e){"use strict";var n,t,o,r,i,s,a,d,p,f,l,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.Node,i=e.Layers,s=e.Label,a=e.UITransform,d=e.LabelOutline,p=e.color,f=e.Color,l=e.Component},function(e){c=e.rgbCode}],execute:function(){var u;t._RF.push({},"b5376CQV+BBXoanI9FYGf+n","Content",void 0);var g=o.ccclass;o.property,e("Content",g("Content")(u=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.start=function(){},o.handleMsg=function(e){this.msgFmt(e[0].txt,e[0].fcolor,e[0].bcolor,16)},o.msgFmt=function(e,n,t,o){if(-1!=e.indexOf("{")&&-1!=e.indexOf("}")&&(e=(e=e.replace(/{/g,"<")).replace(/}/g,">")),-1==e.indexOf("<")||-1==e.indexOf(">")||-1==e.toUpperCase().indexOf("/SCOLOR")&&-1==e.indexOf("|")){var l=new r("txtNode");l.layer=i.Enum.UI_2D,l.addComponent(s);var u=l.getComponent(s);l.getComponent(a).anchorX=0;var g=l.addComponent(d);u.fontSize=o,u.lineHeight=o,u.string=e,n&&(u.color=new f(c.Get2RGB(n))),t&&(g.color=new f(c.Get2RGB(t)),g.width=1),u.updateRenderData(!0),this.node.getComponent(a).height=o,this.node.addChild(l)}else{for(var C=[];-1!=e.indexOf("<")&&-1!=e.indexOf(">");){if(0!=e.indexOf("<")){var h=e.indexOf("<");C.push(e.substring(0,h)),e=e.substring(h)}var O=e.indexOf("<"),m=e.indexOf(">");-1!=O&&-1!=m?(C.push(e.substring(O+1,m)),e=e.substring(m+1)):C.push(e)}""!=e&&C.push(e);for(var v=0;v<C.length;v++){var x=new r;x.layer=i.Enum.UI_2D,x.addComponent(s),x.getComponent(a).anchorX=0,x.getComponent(d);var G=x.getComponent(s);if(G.fontSize=o,-1!=C[v].toUpperCase().indexOf("/SCOLOR=")){var R=C[v].toUpperCase().split("/SCOLOR=");R[0]&&(G.string=R[0]),R[1]&&(G.color=p(c.Get2RGB(parseInt(R[1]))))}else if(-1!=C[v].indexOf("|")){var b=C[v].split("|");if(G.string=b[0],-1!=b[1].indexOf(":")){var B=b[1].split(":");3==B.length&&(G.color=p(c.Get2RGB(B[0])),"0"==B[2]||(x.getComponent(d).width=2,x.getComponent(d).color=p(c.Get2RGB(B[1]))))}}else G.string=C[v],G.color=p(c.Get2RGB(n));G.updateRenderData(!0),this.node.addChild(x)}}},o.update=function(e){},t}(l))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/CrystalWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./external.ts","./MsgCM.ts","./UIcontrol.ts","./Sendmessage.ts","./GameUtil.ts"],(function(t){"use strict";var e,n,i,s,r,l,a,o,c,u,b,h,g,_,p,f,m,d,y,v,q;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,o=t.Node,c=t.EditBox,u=t.Sprite,b=t.Button,h=t.color,g=t.Component},function(t){_=t.EventMgr},function(t){p=t.Config},function(t){f=t.default},function(t){m=t.external},function(t){d=t.default},function(t){y=t.uiControl},function(t){v=t.sendmessage},function(t){q=t.GameUtil}],execute:function(){var C,w,F,B,I,S,N,A,L,x,z,Q,P,T,k,E,M,G,U,O,R,D,H,W,J,j,Y,V,K,X,Z,$,tt,et,nt,it,st,rt,lt,at,ot,ct,ut,bt,ht,gt,_t,pt,ft,mt,dt,yt,vt,qt,Ct,wt,Ft,Bt,It,St,Nt,At,Lt,xt,zt,Qt,Pt,Tt,kt,Et;r._RF.push({},"0089bBiDGhCTbN2htKBQlFW","CrystalWin",void 0);var Mt=l.ccclass,Gt=l.property,Ut=l.menu;t("CrystalWin",(C=Mt("CrystalWin"),w=Ut("米粒界面/CrystalWin"),F=Gt(a),B=Gt(a),I=Gt(a),S=Gt(a),N=Gt(a),A=Gt(a),L=Gt(a),x=Gt(a),z=Gt(a),Q=Gt(a),P=Gt(a),T=Gt(a),k=Gt(a),E=Gt(o),M=Gt(o),G=Gt(o),U=Gt(o),O=Gt(o),R=Gt(o),D=Gt(o),H=Gt(o),W=Gt(a),J=Gt(a),j=Gt(c),Y=Gt(c),V=Gt(c),K=Gt(c),X=Gt(c),Z=Gt(c),$=Gt(c),tt=Gt(c),et=Gt(c),nt=Gt(u),C(it=w((rt=e((st=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"lab_owniron",rt,s(e)),i(e,"lab_havesmelt",lt,s(e)),i(e,"lab_smelt1",at,s(e)),i(e,"lab_change2",ot,s(e)),i(e,"text_parameter",ct,s(e)),i(e,"lab_exchange",ut,s(e)),i(e,"lab_price",bt,s(e)),i(e,"lab_havecqb",ht,s(e)),i(e,"lab_cqb_all2",gt,s(e)),i(e,"lab_cqb_all1",_t,s(e)),i(e,"lab_costsmelt",pt,s(e)),i(e,"lab_changecoin",ft,s(e)),i(e,"lab_cqb_state",mt,s(e)),i(e,"bg_bind",dt,s(e)),i(e,"bg_buy",yt,s(e)),i(e,"bg_cqb",vt,s(e)),i(e,"bg_sell",qt,s(e)),i(e,"bg_secondPsw",Ct,s(e)),i(e,"bg_cell",wt,s(e)),i(e,"bg_login",Ft,s(e)),i(e,"bg_register",Bt,s(e)),i(e,"lab_buycqb_num",It,s(e)),i(e,"lab_sellcqb_num",St,s(e)),i(e,"ipt_secondPsw",Nt,s(e)),i(e,"ipt_register_account",At,s(e)),i(e,"ipt_register_code",Lt,s(e)),i(e,"ipt_register_psw",xt,s(e)),i(e,"ipt_cell_account",zt,s(e)),i(e,"ipt_cell_code",Qt,s(e)),i(e,"ipt_login_account",Pt,s(e)),i(e,"ipt_login_psw",Tt,s(e)),i(e,"ipt_register_invite",kt,s(e)),i(e,"btn_close",Et,s(e)),e.httpUrl="http://yyshop.chaojicdn.com",e.isLogin=!1,e.exchangePer=0,e.procedureRadio=0,e.latitude="30.472857",e.longitude="114.420166",e.phone=0,e.exchangeNum=0,e.exchangeType=0,e.price=0,e.myCQB=0,e.token=void 0,e.userid=0,e}n(e,t);var r=e.prototype;return r.start=function(){this.init(),this.crystalInfo()},r.update=function(t){},r.init=function(){this.addEvent(),q.loadResLocal("public/btn_close_new.png",this.btn_close)},r.openWin=function(){this.node.active=!0},r.addEvent=function(){_.addEventListener(f.UPDATE_CRYSTAL,this.crystalInfo,this),_.addEventListener(f.UPDATE_CQBINFO,this.updateCQB,this)},r.removeEvent=function(){_.removeEventListener(f.UPDATE_CRYSTAL,this.crystalInfo,this),_.removeEventListener(f.UPDATE_CQBINFO,this.updateCQB,this)},r.crystalInfo=function(){if(GameSdk&&7==p.cur_game_type&&GameSdk.openDeal(1),this.lab_owniron.string=p.g_nGameGird.value+"",this.lab_havesmelt.string=p.g_nGameGird.value+"",p.g_crystalInfo){var t=JSON.parse(p.g_crystalInfo);this.exchangePer=parseInt(t.ExchangePer),this.procedureRadio=parseInt(t.Commision),this.price=parseFloat(t.Price),this.lab_smelt1.string=this.getNeedBlackStoneByNum(1)+"",this.lab_change2.string=Math.floor(100*this.price*(1-t.AddPer/100))+"",this.lab_exchange.string="1:"+this.exchangePer,this.lab_price.string=this.price+"",this.lab_havecqb.string=this.myCQB+"",this.lab_cqb_all2.string=t.CristalCount+"",this.lab_cqb_all1.string=t.CristalPoolCount+"",this.text_parameter.string=t.Commision+"%"}},r.getNeedBlackStoneByNum=function(t){if(!t)return 0;var e=this.exchangePer*(1+this.procedureRadio/100);return Math.ceil(t*e)},r.updateCQB=function(t){this.lab_owniron.string=p.g_nGameGird.value+"",this.lab_havesmelt.string=p.g_nGameGird.value+"";var e=t?t[0]:null,n=t?t[1]:null;e&&n&&""!=e&&(e=JSON.parse(e),this.lab_cqb_all2.string=e.TotalNum+"",this.lab_cqb_all1.string=e.PoolNum+"",1==n&&(this.myCQB=this.myCQB+parseFloat(e.TradeNum)),2==n&&(this.myCQB=this.myCQB-parseFloat(e.TradeNum)),this.lab_havecqb.string=this.myCQB+"")},r.onBuyNumChange=function(){var t=this.getNeedBlackStoneByNum(1),e=Math.floor(parseInt(this.lab_havesmelt.string)/t),n=parseInt(this.lab_buycqb_num.string);n<0?this.lab_buycqb_num.string="0":n>e&&(this.lab_buycqb_num.string=e+""),this.lab_costsmelt.string=parseInt(this.lab_buycqb_num.string)*t+"",this.lab_havesmelt.string=parseInt(this.lab_havesmelt.string)-parseInt(this.lab_costsmelt.string)+""},r.onSellNumChange=function(){var t=parseInt(this.lab_change2.string),e=parseInt(this.lab_sellcqb_num.string);e<0?this.lab_sellcqb_num.string="0":e>this.myCQB&&(this.lab_sellcqb_num.string=this.myCQB+""),this.lab_havecqb.string=parseInt(this.lab_havecqb.string)-parseInt(this.lab_sellcqb_num.string)+"",this.lab_changecoin.string=parseInt(this.lab_sellcqb_num.string)*t+""},r.buyCQB=function(){this.bg_bind.active=!this.isLogin,this.bg_buy.active=this.isLogin,this.isLogin&&this.getMyCQB()},r.getMyCQB=function(t){var e=this,n=this.httpUrl+"/api/outSideCall/v2.0/getCrystalDetail";this.sendHttp(n,"{}","POST",!0).then((function(n){t&&window.open("http://h5.96time.website/home?token="+e.token),e.myCQB=n.data.crystalTotal,e.lab_havecqb.string=parseInt(n.data.crystalTotal)+"",console.log("MyCQB:",e.myCQB)}),(function(n){if(t)e.reLogin();else{var i={type:1,content:n,sF:function(){e.isLoginFail(n.message)&&e.reLogin()},cF:function(){}};y.handlerAlert(i)}}))},r.sendHttp=function(t,e,n,i,s){var r=this;return void 0===i&&(i=!1),void 0===s&&(s=void 0),new Promise((function(l,a){var o=new XMLHttpRequest;o.open(n,t),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i&&o.setRequestHeader("Authorization","Bearer "+r.token),s&&(o.onerror=s),o.onreadystatechange=function(){if(4===o.readyState){var t=JSON.parse(o.responseText);o.status>=200&&o.status<300?(console.log("---------------------request success---------------------"),l(t)):(console.log("---------------------request fail---------------------"),a(t))}},o.send(e)}))},r.minusCqbNum=function(){var t=parseInt(this.lab_buycqb_num.string);if(t>0){this.lab_buycqb_num.string=t-1<0?"0":t-1+"";var e=this.getNeedBlackStoneByNum(1);this.lab_costsmelt.string=parseInt(this.lab_costsmelt.string)-e+"",this.lab_havesmelt.string=parseInt(this.lab_havesmelt.string)+e+""}},r.plusCqbNum=function(){var t=this.getNeedBlackStoneByNum(1);parseInt(this.lab_havesmelt.string)>=t&&(this.lab_buycqb_num.string=parseInt(this.lab_buycqb_num.string)+1+"",this.lab_costsmelt.string=parseInt(this.lab_costsmelt.string)+t+"",this.lab_havesmelt.string=parseInt(this.lab_havesmelt.string)-t+"")},r.maxCqbNum=function(){this.lab_havesmelt.string=p.g_nGameGird.value+"",this.lab_buycqb_num.string="0",this.lab_costsmelt.string="0";var t=Math.floor(parseInt(this.lab_havesmelt.string)/this.getNeedBlackStoneByNum(1));this.lab_buycqb_num.string=t+"",this.lab_costsmelt.string=this.getNeedBlackStoneByNum(t)+"",this.lab_havesmelt.string=parseInt(this.lab_havesmelt.string)-parseInt(this.lab_costsmelt.string)+""},r.minusSellNum=function(){var t=parseInt(this.lab_sellcqb_num.string);if(t>0){var e=parseInt(this.lab_change2.string);this.lab_havecqb.string=parseInt(this.lab_havecqb.string)+1+"",this.lab_sellcqb_num.string=t-1+"",this.lab_changecoin.string=parseInt(this.lab_changecoin.string)-e+""}},r.plusSellNum=function(){var t=parseInt(this.lab_havecqb.string);if(t>0){var e=parseInt(this.lab_change2.string);this.lab_havecqb.string=t-1+"",this.lab_sellcqb_num.string=parseInt(this.lab_sellcqb_num.string)+1+"",this.lab_changecoin.string=parseInt(this.lab_changecoin.string)+e+""}},r.maxSellNum=function(){this.lab_havecqb.string=this.myCQB+"",this.lab_sellcqb_num.string="0",this.lab_changecoin.string="0";var t=parseInt(this.lab_change2.string);this.lab_havecqb.string="0",this.lab_sellcqb_num.string=this.myCQB+"",this.lab_changecoin.string=this.myCQB*t+""},r.sendBuyCQB=function(){if("0"!=this.lab_buycqb_num.string)if(parseInt(this.lab_cqb_all2.string)+parseInt(this.lab_cqb_all1.string)<parseInt(this.lab_buycqb_num.string)){y.handlerAlert({type:1,content:"当前未兑换CQB总量不足！",sF:function(){},cF:function(){}})}else{var t=parseInt(this.lab_buycqb_num.string);t>0&&(this.exchangeNum=t,this.exchangeType=d.BUYCRISTAL,this.closeBuy(),this.sendExchangeMsg())}else{y.handlerAlert({type:1,content:"冶炼数量不能为0",sF:function(){},cF:function(){}})}},r.closeBuy=function(){this.bg_buy.active=!1,this.lab_havesmelt.string=p.g_nGameGird.value+"",this.lab_buycqb_num.string="0",this.lab_costsmelt.string="0"},r.sendExchangeMsg=function(){if(0!=this.exchangeType&&0!=this.exchangeNum){var t=this.exchangeType,e=this.exchangeNum,n=this.ipt_secondPsw.string,i={channel:p.g_cqbChannelValue,sname:p.g_RoleName,phone:this.phone,num:e,token:this.token,password:n};v.sendCqbExchange(t,JSON.stringify(i)),this.closeSell()}},r.closeSell=function(){this.bg_sell.active=!1,this.lab_havecqb.string=this.myCQB+"",this.lab_sellcqb_num.string="0",this.lab_changecoin.string="0"},r.sendSellCQB=function(){if("0"!=this.lab_sellcqb_num.string)this.exchangeNum=parseInt(this.lab_sellcqb_num.string),this.exchangeType=d.SELLCRISTAL,this.sendExchangeMsg();else{y.handlerAlert({type:1,content:"兑换数量不能为0！",sF:function(){},cF:function(){}})}},r.sellCQB=function(){this.bg_bind.active=!this.isLogin,this.bg_sell.active=this.isLogin,this.isLogin&&this.getMyCQB()},r.showSpsw=function(){this.bg_secondPsw.active=!0},r.closeSpsw=function(){this.bg_secondPsw.active=!1,this.ipt_secondPsw.string="",this.exchangeNum=0,this.exchangeType=0},r.bindAccount=function(){this.bg_bind.active=!1,this.bg_cell.active=!0},r.closeHint=function(){this.bg_bind.active=!1},r.closePopup=function(t){t&&(t.target.parent.active=!1)},r.getCheckCode=function(t,e){var n="1"==e?this.ipt_cell_account:this.ipt_register_account;if(n&&t&&t.target)if(""==n.string){y.handlerAlert({type:1,content:"手机号码不能为空！",sF:function(){},cF:function(){}})}else if(11!=n.string.length){y.handlerAlert({type:1,content:"手机号码格式错误！",sF:function(){},cF:function(){}})}else{var i=this.httpUrl+"/api/user/v1.0/smsCode",s={sign:"aaa",phone:n.string};this.sendHttp(i,JSON.stringify(s),"POST",!1,(function(){var t={type:1,content:"验证码发送失败！",sF:function(){},cF:function(){}};y.handlerAlert(t)})).then((function(t){y.handlerAlert({type:1,content:"验证码发送成功！",sF:function(){},cF:function(){}})}),(function(t){var e={type:1,content:t,sF:function(){},cF:function(){}};y.handlerAlert(e)}));var r=60,l=t.target.getComponent(b);l.interactable=!1;var o=l.node.getComponent(u);o.grayscale=!0,l.schedule((function t(){r--;var e=l.node.children[0].getComponent(a);e.string="重新获取("+r+")",r<=0&&(l.interactable=!0,o.grayscale=!1,e.string="获取验证码",l.unschedule(t))}),1)}},r.sendRegister=function(){var t=this;if(""==this.ipt_register_account.string){y.handlerAlert({type:1,content:"手机号码不能为空！",sF:function(){},cF:function(){}})}else if(""==this.ipt_register_code.string){y.handlerAlert({type:1,content:"验证码不能为空！",sF:function(){},cF:function(){}})}else if(""==this.ipt_register_psw.string){y.handlerAlert({type:1,content:"密码不能为空！",sF:function(){},cF:function(){}})}else{var e={action:"AppSignInSignUp",object:{latitude:this.latitude,longitude:this.longitude,mobile:this.ipt_register_account.string,inviterNum:this.ipt_register_invite.string,passWord:this.ipt_register_psw.string,msgcode:this.ipt_register_code.string}};this.sendHttp(this.httpUrl,JSON.stringify(e),"POST",!1,(function(){y.handlerAlert({type:1,content:"注册失败！",sF:function(){},cF:function(){}})})).then((function(e){t.userid=e.result.userId,t.token=e.result.token;y.handlerAlert({type:1,content:"注册成功！",sF:function(){},cF:function(){}})}),(function(e){var n=t.isLoginFail(e.ms),i={type:1,content:e.msg,sF:function(){n&&t.reLogin()},cF:function(){}};y.handlerAlert(i)}))}},r.sendCellLogin=function(){var t=this;if(""==this.ipt_cell_account.string){y.handlerAlert({type:1,content:"手机号码不能为空！",sF:function(){},cF:function(){}})}else if(""==this.ipt_cell_code.string){y.handlerAlert({type:1,content:"验证码不能为空！",sF:function(){},cF:function(){}})}else{var e=this.httpUrl+"/api/user/v1.0/newLogin",n={phone:this.ipt_cell_account.string,code:this.ipt_cell_code.string};this.sendHttp(e,JSON.stringify(n),"POST",!1,(function(){y.handlerAlert({type:1,content:"连接失败！",sF:function(){},cF:function(){}})})).then((function(e){t.token=e.data.token,t.phone=parseInt(t.ipt_cell_account.string);y.handlerAlert({type:1,content:"登录成功！",sF:function(){},cF:function(){}}),t.bg_cell.active=!1,t.lab_cqb_state.string="正常",t.lab_cqb_state.color=h("#28ff00"),t.isLogin=!0,t.getMyCQB()}),(function(t){y.handlerAlert({type:1,content:"登录失败！",sF:function(){},cF:function(){}})}))}},r.sendLogin=function(){var t=this;if(""==this.ipt_login_account.string){y.handlerAlert({type:1,content:"手机号码不能为空！",sF:function(){},cF:function(){}})}else if(""==this.ipt_login_psw.string){y.handlerAlert({type:1,content:"密码不能为空！",sF:function(){},cF:function(){}})}else{var e={action:"AppSignInSignUp",object:{mobile:this.ipt_login_account.string,passWord:this.ipt_login_psw.string}};this.sendHttp(this.httpUrl,JSON.stringify(e),"POST",!1,(function(){y.handlerAlert({type:1,content:"连接失败！",sF:function(){},cF:function(){}})})).then((function(e){t.userid=e.result.userId,t.token=e.result.token,t.phone=parseInt(t.ipt_login_account.string);y.handlerAlert({type:1,content:"登录成功！",sF:function(){},cF:function(){}}),t.bg_login.active=!1,t.lab_cqb_state.string="正常",t.lab_cqb_state.color=h("#28ff00"),t.isLogin=!0,t.getMyCQB()}),(function(e){var n=t.isLoginFail(e.msg),i={type:1,content:e.msg,sF:function(){n&&t.reLogin()},cF:function(){}};y.handlerAlert(i)}))}},r.isLoginFail=function(t){if(t)return t.indexOf("登录失败")>-1},r.cqbTrade=function(){this.isLogin?(p.g_crystal_token=this.token+"",p.cur_use_app?m.sendtonative("openShop",this.token):this.getMyCQB(!0)):this.bindAccount()},r.reLogin=function(){this.bg_bind.active=!1,this.bg_buy.active=!1,this.bg_sell.active=!1,this.bg_login.active=!1,this.bg_cell.active=!0,this.bg_register.active=!1,this.bg_secondPsw.active=!1,this.isLogin=!1,this.phone=0,this.exchangeNum=0,this.exchangeType=0,this.price=0,this.myCQB=0,this.token=0,this.userid=0},r.closeView=function(){this.node.active=!1,this.bg_bind.active=!1,this.bg_buy.active=!1,this.bg_sell.active=!1,this.bg_login.active=!1,this.bg_cell.active=!1,this.bg_register.active=!1,this.bg_secondPsw.active=!1,GameSdk&&7==p.cur_game_type&&GameSdk.openDeal(0)},r.onDestroy=function(){this.removeEvent()},e}(g)).prototype,"lab_owniron",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(st.prototype,"lab_havesmelt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(st.prototype,"lab_smelt1",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(st.prototype,"lab_change2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(st.prototype,"text_parameter",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(st.prototype,"lab_exchange",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(st.prototype,"lab_price",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(st.prototype,"lab_havecqb",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(st.prototype,"lab_cqb_all2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(st.prototype,"lab_cqb_all1",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(st.prototype,"lab_costsmelt",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(st.prototype,"lab_changecoin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(st.prototype,"lab_cqb_state",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(st.prototype,"bg_bind",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(st.prototype,"bg_buy",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(st.prototype,"bg_cqb",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(st.prototype,"bg_sell",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(st.prototype,"bg_secondPsw",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(st.prototype,"bg_cell",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(st.prototype,"bg_login",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(st.prototype,"bg_register",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(st.prototype,"lab_buycqb_num",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(st.prototype,"lab_sellcqb_num",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(st.prototype,"ipt_secondPsw",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(st.prototype,"ipt_register_account",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(st.prototype,"ipt_register_code",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(st.prototype,"ipt_register_psw",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(st.prototype,"ipt_cell_account",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(st.prototype,"ipt_cell_code",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(st.prototype,"ipt_login_account",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(st.prototype,"ipt_login_psw",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(st.prototype,"ipt_register_invite",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(st.prototype,"btn_close",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=st))||it)||it));r._RF.pop()}}}));

System.register("chunks:///_virtual/CrystalWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,l,n,r,i,a,o,c,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,o=e.Sprite,c=e.Component},function(e){b=e.GameUtil}],execute:function(){var u,s,p,g,_,y,f,d,m,h,w,R,z,L,S,k,q,F,B,x,T,v,C,P,W,D,I,M,N,A,G,U,j,E,H,K,Q,Z,J,O,V,X,Y,$,ee,te,le,ne,re,ie,ae,oe,ce,be,ue,se,pe,ge,_e,ye,fe,de,me,he,we,Re,ze,Le,Se,ke,qe,Fe,Be,xe,Te,ve,Ce,Pe,We,De,Ie,Me,Ne,Ae,Ge,Ue,je,Ee,He,Ke,Qe,Ze,Je,Oe,Ve,Xe,Ye,$e,et,tt,lt,nt,rt,it,at,ot,ct,bt,ut,st,pt,gt,_t,yt,ft,dt,mt,ht,wt,Rt,zt,Lt,St,kt,qt,Ft,Bt,xt,Tt,vt,Ct,Pt,Wt,Dt,It,Mt;i._RF.push({},"fc08605ZBFK47D/ESAByQet","CrystalWinSprite",void 0);var Nt=a.ccclass,At=a.property,Gt=a.menu;e("CrystalWinSprite",(u=Nt("CrystalWinSprite"),s=Gt("米粒界面图片模块/CrystalWinSprite"),p=At(o),g=At(o),_=At(o),y=At(o),f=At(o),d=At(o),m=At(o),h=At(o),w=At(o),R=At(o),z=At(o),L=At(o),S=At(o),k=At(o),q=At(o),F=At(o),B=At(o),x=At(o),T=At(o),v=At(o),C=At(o),P=At(o),W=At(o),D=At(o),I=At(o),M=At(o),N=At(o),A=At(o),G=At(o),U=At(o),j=At(o),E=At(o),H=At(o),K=At(o),Q=At(o),Z=At(o),J=At(o),O=At(o),V=At(o),X=At(o),Y=At(o),$=At(o),ee=At(o),te=At(o),le=At(o),ne=At(o),re=At(o),ie=At(o),ae=At(o),oe=At(o),ce=At(o),be=At(o),ue=At(o),se=At(o),pe=At(o),ge=At(o),_e=At(o),ye=At(o),fe=At(o),de=At(o),me=At(o),he=At(o),we=At(o),Re=At(o),ze=At(o),Le=At(o),u(Se=s((qe=t((ke=function(e){function t(){for(var t,l=arguments.length,i=new Array(l),a=0;a<l;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"titleName",qe,r(t)),n(t,"closeBtn",Fe,r(t)),n(t,"titleSp",Be,r(t)),n(t,"cqbMainBg",xe,r(t)),n(t,"kuangSpr",Te,r(t)),n(t,"yb1",ve,r(t)),n(t,"yb2",Ce,r(t)),n(t,"yb3",Pe,r(t)),n(t,"yb4",We,r(t)),n(t,"kuang1",De,r(t)),n(t,"mineSp",Ie,r(t)),n(t,"tipBtn",Me,r(t)),n(t,"bg1",Ne,r(t)),n(t,"bg2",Ae,r(t)),n(t,"arrow1",Ge,r(t)),n(t,"arrow2",Ue,r(t)),n(t,"btn_smelt",je,r(t)),n(t,"btn_change",Ee,r(t)),n(t,"bg_bind",He,r(t)),n(t,"btn_bind_ok",Ke,r(t)),n(t,"btn_bind_close",Qe,r(t)),n(t,"bg_buy",Ze,r(t)),n(t,"titleSp3",Je,r(t)),n(t,"icon2Sp",Oe,r(t)),n(t,"icon3Sp",Ve,r(t)),n(t,"btn_buycqb_minus",Xe,r(t)),n(t,"btn_buycqb_plus",Ye,r(t)),n(t,"kuang2",$e,r(t)),n(t,"btn_buycqb_max",et,r(t)),n(t,"btn_buycqb_ok",tt,r(t)),n(t,"btn_buycqb_cancel",lt,r(t)),n(t,"bg_sell",nt,r(t)),n(t,"titleSp4",rt,r(t)),n(t,"title3Sp",it,r(t)),n(t,"yb5",at,r(t)),n(t,"kuang3",ot,r(t)),n(t,"btn_sellcqb_minus",ct,r(t)),n(t,"btn_sellcqb_plus",bt,r(t)),n(t,"btn_sellcqb_max",ut,r(t)),n(t,"btn_sellcqb_ok",st,r(t)),n(t,"btn_sellcqb_cancel",pt,r(t)),n(t,"bg_login",gt,r(t)),n(t,"btn_login_close",_t,r(t)),n(t,"btn_login",yt,r(t)),n(t,"bg_cell",ft,r(t)),n(t,"btn_cell_close",dt,r(t)),n(t,"btn_cell_code",mt,r(t)),n(t,"btn_cell",ht,r(t)),n(t,"bg_register",wt,r(t)),n(t,"btn_cregister_close",Rt,r(t)),n(t,"btn_register_code",zt,r(t)),n(t,"btn_register",Lt,r(t)),n(t,"btn_cqbtrade",St,r(t)),n(t,"bg_secondPsw",kt,r(t)),n(t,"title5Sp",qt,r(t)),n(t,"btn_spsw_close",Ft,r(t)),n(t,"kuang4",Bt,r(t)),n(t,"btn_spsw_ok",xt,r(t)),n(t,"btn_spsw_cancel",Tt,r(t)),n(t,"title1Sp",vt,r(t)),n(t,"title2Sp",Ct,r(t)),n(t,"iconSp",Pt,r(t)),n(t,"icon1Sp",Wt,r(t)),n(t,"bindTitleSp",Dt,r(t)),n(t,"buyTitleSp",It,r(t)),n(t,"exchangeIcon",Mt,r(t)),t}return l(t,e),t.prototype.start=function(){var e=this;b.loadResLocal("crystal/crytal_dh.png",this.titleName);var t=this.node.getComponent(o);b.loadResLocal("crystal/crystal_bg.png",t,(function(){t.spriteFrame.reset({originalSize:t.spriteFrame.originalSize,rect:t.spriteFrame.rect,offset:t.spriteFrame.offset,isRotate:t.spriteFrame.rotated,borderTop:86,borderBottom:35,borderLeft:56,borderRight:70})})),b.loadResLocal("crystal/crystal_title4.png",this.title1Sp),b.loadResLocal("public/btn_close_new.png",this.closeBtn),b.loadResLocal("crystal/crystal_boxtitle.png",this.titleSp),b.loadResLocal("crystal/crystal_bg1.png",this.cqbMainBg),b.loadResLocal("crystal/crystal_kuang.png",this.kuangSpr,(function(){e.kuangSpr.spriteFrame.reset({originalSize:e.kuangSpr.spriteFrame.originalSize,rect:e.kuangSpr.spriteFrame.rect,offset:e.kuangSpr.spriteFrame.offset,isRotate:e.kuangSpr.spriteFrame.rotated,borderTop:7,borderBottom:7,borderLeft:7,borderRight:7})})),b.loadResLocal("crystal/crystal_kuang.png",this.kuang1,(function(){e.kuang1.spriteFrame.reset({originalSize:e.kuang1.spriteFrame.originalSize,rect:e.kuang1.spriteFrame.rect,offset:e.kuang1.spriteFrame.offset,isRotate:e.kuang1.spriteFrame.rotated,borderTop:7,borderBottom:7,borderLeft:7,borderRight:7})})),b.loadResLocal("crystal/crystal_kuang.png",this.kuang2,(function(){e.kuang2.spriteFrame.reset({originalSize:e.kuang2.spriteFrame.originalSize,rect:e.kuang2.spriteFrame.rect,offset:e.kuang2.spriteFrame.offset,isRotate:e.kuang2.spriteFrame.rotated,borderTop:7,borderBottom:7,borderLeft:7,borderRight:7})})),b.loadResLocal("crystal/crystal_kuang.png",this.kuang3,(function(){e.kuang3.spriteFrame.reset({originalSize:e.kuang3.spriteFrame.originalSize,rect:e.kuang3.spriteFrame.rect,offset:e.kuang3.spriteFrame.offset,isRotate:e.kuang3.spriteFrame.rotated,borderTop:7,borderBottom:7,borderLeft:7,borderRight:7})})),b.loadResLocal("crystal/crystal_kuang.png",this.kuang4,(function(){e.kuang4.spriteFrame.reset({originalSize:e.kuang4.spriteFrame.originalSize,rect:e.kuang4.spriteFrame.rect,offset:e.kuang4.spriteFrame.offset,isRotate:e.kuang4.spriteFrame.rotated,borderTop:7,borderBottom:7,borderLeft:7,borderRight:7})})),b.loadResLocal("crystal/crystal_icon1.png",this.yb1),b.loadResLocal("crystal/crystal_icon1.png",this.yb2),b.loadResLocal("crystal/crystal_icon1.png",this.yb3),b.loadResLocal("crystal/crystal_icon1.png",this.yb4),b.loadResLocal("crystal/crystal_icon1.png",this.yb5),b.loadResLocal("crystal/crystal_icon2.png",this.mineSp),b.loadResLocal("crystal/crystal_que.png",this.tipBtn),b.loadResLocal("crystal/crystal_bg2.png",this.bg1),b.loadResLocal("crystal/crystal_bg2.png",this.bg2),b.loadResLocal("crystal/crystal_bg2.png",this.bg_bind),b.loadResLocal("crystal/crystal_change.png",this.arrow1),b.loadResLocal("crystal/crystal_change.png",this.arrow2),b.loadResLocal("crystal/crystal_btn1.png",this.btn_smelt),b.loadResLocal("crystal/crystal_btn1.png",this.btn_change),b.loadResLocal("crystal/crystal_icon2.png",this.iconSp),b.loadResLocal("crystal/crystal_title6.png",this.title2Sp),b.loadResLocal("crystal/crystal_title6.png",this.title3Sp),b.loadResLocal("crystal/crystal_icon3.png",this.icon1Sp),b.loadResLocal("crystal/crystal_icon2.png",this.icon2Sp),b.loadResLocal("crystal/crystal_icon2.png",this.icon3Sp),b.loadResLocal("crystal/crytal_bd.png",this.bindTitleSp),b.loadResLocal("crystal/crytal_yl.png",this.buyTitleSp),b.loadResLocal("crystal/crystal_btn2.png",this.btn_bind_ok),b.loadResLocal("crystal/crystal_btn.png",this.btn_bind_close),b.loadResLocal("crystal/crystal_bg2.png",this.bg_buy),b.loadResLocal("crystal/crystal_boxtitle.png",this.titleSp3),b.loadResLocal("crystal/crystal_boxtitle.png",this.titleSp4),b.loadResLocal("public/shop_minus (2).png",this.btn_buycqb_minus),b.loadResLocal("public/shop_plus (2).png",this.btn_buycqb_plus),b.loadResLocal("crystal/crystal_btn1.png",this.btn_buycqb_max),b.loadResLocal("crystal/crystal_btn2.png",this.btn_buycqb_ok),b.loadResLocal("crystal/crystal_btn.png",this.btn_buycqb_cancel),b.loadResLocal("public/shop_minus (2).png",this.btn_sellcqb_minus),b.loadResLocal("public/shop_plus (2).png",this.btn_sellcqb_plus),b.loadResLocal("crystal/crystal_btn1.png",this.btn_sellcqb_max),b.loadResLocal("crystal/crystal_btn2.png",this.btn_sellcqb_ok),b.loadResLocal("crystal/crystal_btn.png",this.btn_sellcqb_cancel),b.loadResLocal("crystal/crystal_bg2.png",this.bg_sell),b.loadResLocal("crystal/crystal_login_bg.png",this.bg_login),b.loadResLocal("crystal/crystal_btn_close.png",this.btn_login_close),b.loadResLocal("crystal/crystal_btn_login.png",this.btn_login),b.loadResLocal("crystal/crystal_celllogin_bg.png",this.bg_cell),b.loadResLocal("crystal/crystal_btn_close.png",this.btn_cell_close),b.loadResLocal("crystal/crystal_btn_code.png",this.btn_cell_code),b.loadResLocal("crystal/crystal_btn_login.png",this.btn_cell),b.loadResLocal("crystal/crystal_register_bg.png",this.bg_register),b.loadResLocal("crystal/crystal_btn_close.png",this.btn_cregister_close),b.loadResLocal("crystal/crystal_btn_code.png",this.btn_register_code),b.loadResLocal("crystal/crystal_btn_register.png",this.btn_register),b.loadResLocal("crystal/crystal_btn.png",this.btn_cqbtrade),b.loadResLocal("crystal/crystal_bg2.png",this.bg_secondPsw),b.loadResLocal("crystal/crystal_title7.png",this.title5Sp),b.loadResLocal("public/btn_close_new.png",this.btn_spsw_close),b.loadResLocal("crystal/crystal_btn.png",this.btn_spsw_ok),b.loadResLocal("crystal/crystal_btn.png",this.btn_spsw_cancel),b.loadResLocal("crystal/crystal_icon3.png",this.exchangeIcon)},t}(c)).prototype,"titleName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ke.prototype,"closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ke.prototype,"titleSp",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ke.prototype,"cqbMainBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ke.prototype,"kuangSpr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ke.prototype,"yb1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ke.prototype,"yb2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ke.prototype,"yb3",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ke.prototype,"yb4",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ke.prototype,"kuang1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ke.prototype,"mineSp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ke.prototype,"tipBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ke.prototype,"bg1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ke.prototype,"bg2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ke.prototype,"arrow1",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ke.prototype,"arrow2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ke.prototype,"btn_smelt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ke.prototype,"btn_change",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ke.prototype,"bg_bind",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(ke.prototype,"btn_bind_ok",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(ke.prototype,"btn_bind_close",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(ke.prototype,"bg_buy",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(ke.prototype,"titleSp3",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ke.prototype,"icon2Sp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ke.prototype,"icon3Sp",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(ke.prototype,"btn_buycqb_minus",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(ke.prototype,"btn_buycqb_plus",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(ke.prototype,"kuang2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(ke.prototype,"btn_buycqb_max",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(ke.prototype,"btn_buycqb_ok",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(ke.prototype,"btn_buycqb_cancel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(ke.prototype,"bg_sell",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(ke.prototype,"titleSp4",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(ke.prototype,"title3Sp",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(ke.prototype,"yb5",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(ke.prototype,"kuang3",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(ke.prototype,"btn_sellcqb_minus",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=t(ke.prototype,"btn_sellcqb_plus",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(ke.prototype,"btn_sellcqb_max",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(ke.prototype,"btn_sellcqb_ok",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=t(ke.prototype,"btn_sellcqb_cancel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=t(ke.prototype,"bg_login",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=t(ke.prototype,"btn_login_close",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=t(ke.prototype,"btn_login",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=t(ke.prototype,"bg_cell",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=t(ke.prototype,"btn_cell_close",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=t(ke.prototype,"btn_cell_code",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=t(ke.prototype,"btn_cell",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=t(ke.prototype,"bg_register",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=t(ke.prototype,"btn_cregister_close",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=t(ke.prototype,"btn_register_code",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=t(ke.prototype,"btn_register",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=t(ke.prototype,"btn_cqbtrade",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=t(ke.prototype,"bg_secondPsw",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=t(ke.prototype,"title5Sp",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=t(ke.prototype,"btn_spsw_close",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=t(ke.prototype,"kuang4",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=t(ke.prototype,"btn_spsw_ok",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=t(ke.prototype,"btn_spsw_cancel",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=t(ke.prototype,"title1Sp",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=t(ke.prototype,"title2Sp",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=t(ke.prototype,"iconSp",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=t(ke.prototype,"icon1Sp",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=t(ke.prototype,"bindTitleSp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=t(ke.prototype,"buyTitleSp",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=t(ke.prototype,"exchangeIcon",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=ke))||Se)||Se));i._RF.pop()}}}));

System.register("chunks:///_virtual/CuriousItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,c,l,u,p,d,f,g,m,h,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,c=e.Label,l=e.Sprite,u=e.NodeEventType,p=e.Component},function(e){d=e.EventMgr},function(e){f=e.Config},function(e){g=e.default},function(e){m=e.OPEN_ITEMINFO_WIN_TYPE},function(e){h=e.resourcesMgr},function(e){_=e.GameUtil}],execute:function(){var b,I,E,v,N,y,C,S,M,O,L,w,z,F,W,P;r._RF.push({},"08db8oQUnJIdbpUhzAZysL7","CuriousItem",void 0);var R=a.ccclass,T=a.property,U=a.menu;e("default",(b=R("CuriousItem"),I=U("实例模块/CuriousItem"),E=T(s),v=T(c),N=T(c),y=T(l),C=T(l),S=T(l),b(M=I((L=t((O=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"selectNode",L,o(t)),n(t,"goodsName",w,o(t)),n(t,"price",z,o(t)),n(t,"icon",F,o(t)),n(t,"iconBG",W,o(t)),n(t,"line",P,o(t)),t.item_data=void 0,t.index=0,t.onItemClick=null,t}i(t,e);var r=t.prototype;return r.start=function(){var e=this.selectNode.getComponent(l);_.loadResLocal("ShopWin/select_bg.png",e),_.loadResLocal("ShopWin/goods.png",this.iconBG),_.loadResLocal("ShopWin/001.png",this.line),f.g_isOnWindows&&(this.icon.node.on(u.MOUSE_ENTER,this.clickItem,this),this.icon.node.on(u.MOUSE_LEAVE,(function(){d.raiseEvent(g.CLOSE_NEW_ITEM_INFO)}),this))},r.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},r.setSelected=function(e){this.selectNode.active=e},r.initData=function(e){var t=this;e&&(this.goodsName.string=e.name,this.price.string=""+e.price.toString()+e.type,h.resLoad(e.image_data.plist,(function(i){i&&t.icon&&i.getSpriteFrame(e.image_data.img)&&(t.icon.spriteFrame=i.getSpriteFrame(e.image_data.img))})),this.item_data=e.data,e.data.s.BagEffect.FileIndex&&_.showItemeffect(this.icon.node,e.data))},r.clickItem=function(e){this.item_data&&(null!=e&&f.g_isOnWindows&&(f.g_pcMousePoint=e.getUILocation()),f.g_MoveItems.Items=this.item_data,f.g_OpenIdx=m.SHOP,d.raiseEvent(g.OPEN_NEW_ITEM_INFO,[this.item_data]))},t}(p)).prototype,"selectNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(O.prototype,"goodsName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(O.prototype,"price",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(O.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(O.prototype,"iconBG",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(O.prototype,"line",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=O))||M)||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomBtnData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts"],(function(t){"use strict";var n,a,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator,o=t.Component},function(t){r=t.CustomButtonData}],execute:function(){var s;a._RF.push({},"6fd4esuBJVCqaxsqN/0CFsX","CustomBtnData",void 0);var u=e.ccclass,c=(e.property,e.menu);t("default",u("CustomBtnData")(s=c("通用模块/CustomBtnData")(s=function(t){function a(){for(var n,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).data=new r,n}n(a,t);var e=a.prototype;return e.start=function(){},e.init=function(t){this.data=t},a}(o))||s)||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/CustomButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var n,e,o,i,r,u,l,a,s,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,l=t.Label,a=t.Button,s=t.Component},function(t){c=t.GameUtil}],execute:function(){var p,m,f,B,d,h;r._RF.push({},"5da01UdJr1BdZdm19V199qQ","CustomButton",void 0);var y=u.ccclass,C=u.property,g=u.menu;t("default",(p=y("CustomButton"),m=g("实例模块/CustomButton"),f=C(l),p(B=m((h=n((d=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,o(n,"ButtonName",h,i(n)),n.onItemClick=null,n}e(n,t);var r=n.prototype;return r.start=function(){c.loadResLocalButton("SplitResource/Btns/btn_ok.png","SplitResource/Btns/btn_ok (2).png",this.node.getComponent(a))},r.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.ButtonName)},n}(s)).prototype,"ButtonName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=d))||B)||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/DoubleRocker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./FightModule.ts","./MoveModule.ts","./objectcontrol.ts","./GameUtil.ts"],(function(i){"use strict";var e,t,o,n,r,s,a,c,l,h,u,_,g,k,f,m,d,v,p,R,w,b;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.createClass},function(i){s=i.cclegacy,a=i._decorator,c=i.Node,l=i.Sprite,h=i.Vec3,u=i.Vec2,_=i.NodeEventType,g=i.sys,k=i.Component},function(i){f=i.EventMgr},function(i){m=i.Config},function(i){d=i.PARALYSISACTIVE_Type},function(i){v=i.default},function(i){p=i.Fightmodule},function(i){R=i.Movemodule},function(i){w=i.Objectcontrol},function(i){b=i.GameUtil}],execute:function(){var A,y,O,M,B,P,D,C,T,x,W,E,N,L,S,q,U,K,H,F;i("e_Rocker_type",void 0),s._RF.push({},"e2070Lxl7lFnJqsZ/e/9HhA","DoubleRocker",void 0);var I,Q=a.ccclass,V=a.property,z=a.menu;!function(i){i[i.WALK=1]="WALK",i[i.RUN=2]="RUN"}(I||(I=i("e_Rocker_type",{})));i("DoubleRocker",(A=Q("DoubleRocker"),y=z("双摇杆/DoubleRocker"),O=V(c),M=V(c),B=V(l),P=V(c),D=V(c),C=V(l),T=V(l),x=V(c),A(W=y((N=e((E=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r))||this,o(e,"img_run_qiu",N,n(e)),o(e,"img_run_bg",L,n(e)),o(e,"img_run_dir",S,n(e)),o(e,"img_walk_qiu",q,n(e)),o(e,"img_walk_bg",U,n(e)),o(e,"img_walk_dir",K,n(e)),o(e,"moveShowAnim",H,n(e)),o(e,"walkClickArea",F,n(e)),e._rockerMoveType=void 0,e._rockerQiuOrigin=new h,e._rockerBgRadius=void 0,e._centerPointOfRockerBg=new u,e._halfOfRunBall=0,e._halfOfRunRockerBg=0,e._halfOfWalkBall=0,e._halfOfWalkRockerBg=0,e._dirNum=-1,e._isMoving=!1,e._rockerSelected=!1,e._curTouchID=void 0,e._openKeepmove=!1,e._rockerAnimFrame=-1,e._inClickWalkArea=!1,e}t(e,i);var s=e.prototype;return s.onLoad=function(){this.addEvent()},s.start=function(){this.loadResByLocal(),this.init()},s.loadResByLocal=function(){b.loadResLocal("Rocker/gxx/double_rocke_run_bj.png",this.img_run_bg.getComponent(l)),b.loadResLocal("Rocker/gxx/double_rocker_hu_run_0.png",this.img_run_dir),b.loadResLocal("Rocker/gxx/double_rocke_walk_bj.png",this.img_walk_bg.getComponent(l)),b.loadResLocal("Rocker/gxx/double_rocker_hu_walk_0.png",this.img_walk_dir),b.loadResLocal("Rocker/gxx/double_rocker_run.png",this.img_run_qiu.getComponent(l)),b.loadResLocal("Rocker/gxx/double_rocker_walk.png",this.img_walk_qiu.getComponent(l))},s.init=function(){this.initHalfWidth(),this.initDefaultValue(),this.showRockerBg(),f.addEventListener(v.ONDRAGEND,this.onDragEnd,this)},s.initHalfWidth=function(){this._halfOfRunBall=b.getNodeWidth(this.img_run_qiu)/2,this._halfOfRunRockerBg=b.getNodeWidth(this.img_run_bg)/2,this._halfOfWalkBall=b.getNodeWidth(this.img_walk_qiu)/2,this._halfOfWalkRockerBg=b.getNodeWidth(this.img_walk_bg)/2},s.initDefaultValue=function(){this._inClickWalkArea=!1,this._openKeepmove=!1,m.moveing||(this._dirNum=-1,this._isMoving=!1,this.moveShowAnim.node.active=!1,this._rockerAnimFrame=-1,this._rockerSelected=!1)},s.addEvent=function(){f.addEventListener(v.UPDATEROCKER,this.showRockerBg,this),this.node.on(_.TOUCH_START,this.onDragStart,this),this.walkClickArea.on(_.TOUCH_START,this.onClickWalkArea,this)},s.showRockerBg=function(){this.setBallBgAndArrowBtnVisible([this.img_run_bg,this.img_walk_bg])},s.setBallBgAndArrowBtnVisible=function(i){for(var e in i)i[e].active=m.rockerposview},s.addDirArrowEvent=function(i,e){},s.onDirArrow=function(i,e){},s.keepMove=function(){if(m.g_furious_collision_ing){if(m.moveing)return;m.g_furious_collision_ing=!1}if(this._dirNum>-1&&this._isMoving){if(0==this.checkParalysisMove())return;m.g_rocker_moving=!0,w.objectmove({dir:this._dirNum,state:this.getCurRockerMoveType()}),p.leavefight(),R.stopmove(),R.end_point=null}},s.checkParalysisMove=function(){if(1==w.self_obj.paralysis_state){var i=b.checkParalysisM2(d.WALK),e=b.checkParalysisM2(d.RUN);if(this._rockerMoveType==I.WALK)return i;if(this._rockerMoveType==I.RUN)return e}return!0},s.getCurRockerMoveType=function(){return this.inSpiderWebSkill()?I.WALK:this._rockerMoveType},s.inSpiderWebSkill=function(){return m.g_boCobWeb},s.onDragStart=function(i){if(w.self_obj&&!this._rockerSelected&&!this._rockerMoveType){this._curTouchID=i.getID();var e=i.getUILocation();m.rockerposview?this.checkClickQiu(this.img_run_qiu,e)?this.initDrag(I.RUN,this.img_run_qiu):this.checkClickQiu(this.img_walk_qiu,e)&&this.initDrag(I.WALK,this.img_walk_qiu):this._rockerMoveType&&this._rockerMoveType!=I.WALK||!this._inClickWalkArea?this._rockerMoveType&&this._rockerMoveType!=I.RUN||(this.img_run_bg.active=!0,this.initDrag(I.RUN,this.img_run_qiu),this.setNewRockerPos(this.img_run_qiu,this.img_run_bg,e)):(this.img_walk_bg.active=!0,this.initDrag(I.WALK,this.img_walk_qiu),this.setNewRockerPos(this.img_walk_qiu,this.img_walk_bg,e))}},s.onClickWalkArea=function(i){this._inClickWalkArea=!0},s.checkClickQiu=function(i,e){return e.x<i.worldPosition.x+b.getNodeWidth(i)+10&&e.y>i.worldPosition.y},s.inWalkClickArea=function(i){return i.x<this.img_walk_bg.getPosition().x+b.getNodeWidth(this.img_walk_bg)+10&&i.y>this.img_walk_bg.getPosition().y},s.initDrag=function(i,e){this._rockerSelected=!0,this._rockerMoveType=i,m.autohookstate&&f.raiseEvent(v.ONHOOK,"0"),this.setBaseValue(e),this.initMouseEvent(i)},s.setBaseValue=function(i){this._rockerQiuOrigin=i.getPosition(),this._rockerBgRadius=this._rockerMoveType==I.WALK?this._halfOfRunRockerBg:this._halfOfWalkRockerBg},s.initMouseEvent=function(i){m.attackerID=0,m.use_move_start=!0,this.node.on(_.TOUCH_MOVE,this.onDragMove,this),this.node.on(_.TOUCH_END,this.onDragEnd,this),this.node.on(_.TOUCH_CANCEL,this.onDragEnd,this),this._openKeepmove=!0,this.schedule(this.showAnim,.2)},s.update=function(i){this._openKeepmove&&this.keepMove()},s.setNewRockerPos=function(i,e,t){var o=t.x-i.parent.worldPosition.x,n=t.y-i.parent.worldPosition.y;i.setPosition(o,n),e.setPosition(o,n)},s.showAnim=function(){this.moveShowAnim.node.active=!0,this._rockerMoveType==I.RUN?this.setAnimSkinAndPos(this.isResetAnimPos(),this.img_run_bg,"Rocker/gxx/double_rockerman_run_"+this.getAnimFrame()+".png"):this.setAnimSkinAndPos(this.isResetAnimPos(),this.img_walk_bg,"Rocker/gxx/double_rockerman_walk_"+this.getAnimFrame()+".png"),this._rockerAnimFrame++},s.isResetAnimPos=function(){return-1==this._rockerAnimFrame},s.getAnimFrame=function(){return(this._rockerAnimFrame>6||this._rockerAnimFrame<0)&&(this._rockerAnimFrame=1),this._rockerAnimFrame},s.setAnimSkinAndPos=function(i,e,t){b.loadResLocal(t,this.moveShowAnim),i&&this.moveShowAnim.node.setPosition(this.getCenterPointXOfBg(e)+2,this.getCenterPointYOfBg(e))},s.getCenterPointXOfBg=function(i){return i.getPosition().x},s.getCenterPointYOfBg=function(i){return i.getPosition().y},s.onDragMove=function(i){if(i.getID()==this._curTouchID){var e,t,o,n;m.rockerfirst=!0,this._rockerMoveType==I.WALK?(o=this.img_walk_qiu,n=this.img_walk_bg):(o=this.img_run_qiu,n=this.img_run_bg);var r=i.getUILocation();t=this.getMoveRadian(r,n),e=this.getMoveDistanceOfBall(n,r),this.moveBall(o,t,n,e,r),e>10&&(this._isMoving=!0,this._dirNum=b.getMoveDirNumberByAngle(b.getAngleByRadian(t)),this.showDirSelectEffct(),m.rocker_move_dir=this._dirNum),this.keepMove()}},s.getMoveRadian=function(i,e){return Math.atan2(e.worldPosition.y-i.y,i.x-e.worldPosition.x)},s.getMoveDistanceOfBall=function(i,e){return this._centerPointOfRockerBg.x=i.worldPosition.x,this._centerPointOfRockerBg.y=i.worldPosition.y,u.distance(this._centerPointOfRockerBg,e)},s.moveBall=function(i,e,t,o,n){if(o<this._rockerBgRadius)i.setPosition(n.x-i.parent.worldPosition.x,n.y-i.parent.worldPosition.y);else{var r=t.getPosition().x+Math.cos(e)*this._rockerBgRadius,s=t.getPosition().y-Math.sin(e)*this._rockerBgRadius;i.setPosition(r,s)}},s.showDirSelectEffct=function(){if(this._rockerMoveType==I.WALK){var i="Rocker/gxx/double_rocker_hu_walk_"+this._dirNum+".png";b.loadResLocal(i,this.img_walk_dir)}else{var e="Rocker/gxx/double_rocker_hu_run_"+this._dirNum+".png";b.loadResLocal(e,this.img_run_dir)}},s.onDragEnd=function(i){this._rockerSelected=!1,m.use_move_start=!1,m.rockerfirst=!1,m.g_rocker_moving=!1,this.dragEndHandle()},s.isSpecialChannelOnIOS=function(i){return"IOS"==g.platform&&i.touch&&i.getAllTouches().length>=1&&i.getID()==this._curTouchID},s.dragEndHandle=function(){m.rocker_move_dir=-1,this.initDefaultValue(),f.raiseEvent("RockerMoveEnd"),this._curTouchID=void 0,this.checkHideRockerBg(),this.recoverRockerOriginPos(),this._rockerMoveType=0,this.unschedule(this.showAnim),this.node.off(_.TOUCH_MOVE,this.onDragMove,this),this.node.off(_.TOUCH_END,this.onDragEnd,this),this.node.off(_.TOUCH_CANCEL,this.onDragEnd,this)},s.checkHideRockerBg=function(){m.rockerposview||(this.img_run_bg.active=!1,this.img_walk_bg.active=!1)},s.recoverRockerOriginPos=function(){this._rockerMoveType==I.WALK?(this.img_walk_qiu.setPosition(this._rockerQiuOrigin.x,this._rockerQiuOrigin.y),this.img_walk_bg.setPosition(this._rockerQiuOrigin.x+this._halfOfWalkBall-this._halfOfWalkRockerBg,this._rockerQiuOrigin.y+this._halfOfWalkBall-this._halfOfWalkRockerBg)):(this.img_run_qiu.setPosition(this._rockerQiuOrigin.x,this._rockerQiuOrigin.y),this.img_run_bg.setPosition(this._rockerQiuOrigin.x+this._halfOfRunBall-this._halfOfRunRockerBg,this._rockerQiuOrigin.y+this._halfOfRunBall-this._halfOfRunRockerBg))},r(e,[{key:"isMoving",set:function(i){this._isMoving=i}}]),e}(k)).prototype,"img_run_qiu",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(E.prototype,"img_run_bg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(E.prototype,"img_run_dir",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(E.prototype,"img_walk_qiu",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(E.prototype,"img_walk_bg",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(E.prototype,"img_walk_dir",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"moveShowAnim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(E.prototype,"walkClickArea",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=E))||W)||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/DragItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./AnimationModule.ts","./ResourcesMgr.ts","./UIcontrol.ts","./ComAnim.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts","./NewItemInfoWin.ts"],(function(e){"use strict";var t,i,a,n,s,r,m,o,g,h,d,I,c,u,_,p,l,D,f,v,k,L,x,T,C,S,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,m=e._decorator,o=e.Node,g=e.Label,h=e.NodePool,d=e.instantiate,I=e.UITransform,c=e.NodeEventType,u=e.Sprite,_=e.Vec3,p=e.Component},function(e){l=e.EventMgr},function(e){D=e.Config},function(e){f=e.default},function(e){v=e.Animationmodule},function(e){k=e.resourcesMgr},function(e){L=e.uiControl},function(e){x=e.ComAnim},function(e){T=e.sendmessage},function(e){C=e.GameApi},function(e){S=e.GameUtil},function(e){y=e.default}],execute:function(){var E,b,H,O,B,M,N,w,A;e("e_DragItem_Type",void 0),r._RF.push({},"b7ab9aXrHJMp6vFLieHKbCD","DragItem",void 0);var F,W=m.ccclass,U=m.property,P=m.menu;!function(e){e[e.bagItem=0]="bagItem",e[e.wareHouseItem=1]="wareHouseItem",e[e.jiaoyiItem=2]="jiaoyiItem",e[e.shortcutBar=3]="shortcutBar",e[e.OkBar=4]="OkBar",e[e.HumanItem=5]="HumanItem",e[e.Shoushi=6]="Shoushi",e[e.shenyou=7]="shenyou",e[e.fashion=8]="fashion"}(F||(F=e("e_DragItem_Type",{})));e("DragItem",(E=W("DragItem"),b=P("可拖拽item/DragItem"),H=U(o),O=U(g),E(B=b(((A=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"itemSprite",N,n(t)),a(t,"itemNum",w,n(t)),t._hasCheckDragItem=!1,t._type=void 0,t._Lock=!1,t._indexInList=void 0,t._itemType=void 0,t._itemData=void 0,t._noSliding=void 0,t._noItemFrame=void 0,t._nodeTransforms=void 0,t.showItemExceptBgFrame=function(e){if(void 0===e&&(e="false"),"true"!=e){this.itemSprite&&(this.itemSprite.active=!0),this.itemNum&&(this.itemNum.node.active=!0);var t=v.getAni(this.node,"effect"+this.node.uuid);if(t)t.node.active=!0;else if(this._itemType==F.HumanItem){var i=this.node.getComponentInChildren(x);i&&(i.node.active=!0)}var a=v.getAni(this.node,"score"+this.node.uuid);a&&(a.node.active=!0),l.removeEventListener("showItemExceptBgFrame",this.showItemExceptBgFrame,this)}else l.removeEventListener("showItemExceptBgFrame",this.showItemExceptBgFrame,this)},t}i(t,e),t.getItemOnPool=function(e){var i=t.dragItemPool.get();return i||d(e)},t.putItemToPool=function(e){var i=e.getComponent(t);i&&(i.resetValue(),t.dragItemPool.put(e),t.dragItemPool.size()>55&&t.dragItemPool.get().destroy())};var r=t.prototype;return r.start=function(){this.init()},r.init=function(){this._hasCheckDragItem=!1,this._type=t.dragItemType,this.setDefaultValueByItemType(t.dragItemType,!0)},r.setDefaultValueByItemType=function(e,t){var i,a,n=this.getNodeTransforms;switch(e){case F.bagItem:case F.jiaoyiItem:case F.wareHouseItem:n.anchorX=.5,n.anchorY=.5,i=48;break;case F.shortcutBar:n.anchorX=n.anchorY=.5,i=40;break;case F.HumanItem:this.node.parent&&(a=!0);break;case F.Shoushi:case F.shenyou:case F.fashion:a=!0;break;case F.OkBar:a=!0,n.anchorX=0,n.anchorY=1}if(i)n.width=n.height=i;else if(this.node.parent&&!a){var s=this.node.parent.getComponent(I);n.width=s.width,n.height=s.height}t&&this.addEvent(e)},r.addEvent=function(e){this.node.on(c.TOUCH_START,this.dragStart,this),this.node.on(c.TOUCH_END,this.dragEnd,this),D.cur_use_app||this.node.on(c.MOUSE_ENTER,this.dragOver,this),this.addCheckClickHandler(e)},r.setItemSpriteAndItemNum=function(e,t){e&&(this.itemSprite=e),t&&(this.itemNum=t.getComponent(g))},r.setWidthAndHeight=function(e,t){this.getNodeWidth=e,this.getNodeHeight=t},r.setData=function(e,t){var i;e&&(i=e.itemsData,this._itemType=e.itemType),i&&(this._itemData=i[t]),this._indexInList=t},r.update=function(e){},r.showItemUI=function(e,t,i){if(this._noItemFrame=!1,!this._noSliding){var a,n=e.hasBgFrame,s=e.maxUnlockCount,r=e.selectIndex,m=e.itemsData,o=e.itemType;this._itemType=e.itemType,this._itemData=m.length>0?m[t]:m,this._indexInList=t,this.bgFrameHander(n,s,r,t),this.itemNum&&(this.itemNum.node.active=!1),a=this._itemType==F.shortcutBar?this.itemPictureSingleHandler(m,t):this._itemType==F.OkBar?this.itemPictureOkHandler(m,t):this.itemPictureHander(m,t),i||(a||this.emptyItemHander(),a&&o==F.bagItem&&this.contrastArrowHander(m[t]))}},r.bgFrameHander=function(e,t,i,a){if(this._Lock=!1,this._itemType!=F.OkBar)if(e){var n;n=this._itemType==F.wareHouseItem||this._itemType==F.bagItem?"resources/BagWin/newItemFrame.png":"resources/BagWin/img_bag_bg.png",t&&t>0&&a>t?(n=this._itemType==F.bagItem?"resources/BagWin/new_bag_lock.png":"resources/BagWin/lock_img.png",this._Lock=!0):i==a&&this._itemType!=F.wareHouseItem&&this._itemType!=F.bagItem&&this._itemType!=F.OkBar&&(n="resources/BagWin/img_bag_bg1.png");var s=this;k.handleLoad(n,(function(e){e&&s&&s.node&&(s.node.getComponent(u).spriteFrame=e)}))}else this.node&&(this.node.getComponent(u).spriteFrame=null)},r.itemPictureSingleHandler=function(e,t){if(null!=t&&null!=t&&!(t>=e.length)&&e[t]&&e[t].s){var i=this;return S.loadImg(D.g_DrugItemsList[t].s.Looks,"items",(function(e){if(!e)return;if(i._Lock)return;var t=i.itemSprite;t&&(t.active=!0,t.getComponent(u).spriteFrame=e.imgUrl)})),this.itemNum&&(this.itemNum.node.active=!0,this.itemNum.string=""+S.getTypeCount(D.g_DrugItemsList[t])),!0}},r.itemPictureOkHandler=function(e,t){var i=this;if(null!=t&&null!=t&&e&&e.s){return S.loadImg(e.s.Looks,"items",function(a){if(a&&!i._Lock){var n=i.itemSprite;n&&(n.active=!0,n.getComponent(u).spriteFrame=a.imgUrl,n.setPosition(n.parent.getComponent(I).width/2-n.getComponent(I).width/2,-n.parent.getComponent(I).height/2+n.getComponent(I).height/2)),D.g_boxItemArr[t]=e}}.bind(this)),this.addItemNumTxtHander(e),l.addEventListener(f.CHANGE_COUNT_TEXT,this.changeCountText,this),!0}},r.itemPictureHander=function(e,t){if(null!=t&&null!=t)if(t>=e.length)this._noItemFrame=!0;else if(e[t])if(e[t].s){if(!this._Lock){this._noItemFrame=!1;var i=this,a=v.getAni(this.node,"effect"+this.node.uuid);return a&&v.removeAni(a),S.loadImg(e[t].s.Looks,"items",(function(a){if(!a)return;if(i._Lock)return;if(i._noItemFrame)return;if(!i.node)return;var n=i.itemSprite;n&&(n.active=!0,n.getComponent(u).spriteFrame=a.imgUrl);e&&e[t]&&i&&i.node&&S.showItemeffect(i.node,e[t],!0)})),this.addItemNumTxtHander(e[t]),!0}this._noItemFrame=!0}else this._noItemFrame=!0;else this._noItemFrame=!0;else this._noItemFrame=!0},r.emptyItemHander=function(){this.itemSprite&&(this.itemSprite.active=!1,this.itemSprite.getComponent(u).spriteFrame=null),this.itemNum&&(this.itemNum.node.active=!1,this.itemNum.string="");var e=v.getAni(this.node,"effect"+this.node.uuid);e&&v.removeAni(e);var t=v.getAni(this.node,"score"+this.node.uuid);t&&t&&v.removeAni(t)},r.contrastArrowHander=function(e){if(D.g_ClientConfig&&D.g_ClientConfig.boItemCompare){var t=v.getAni(this.node,"score"+this.node.uuid);t&&v.removeAni(t);var i=e.s.StdMode;if((5==i||6==i||10==i||11==i||15==i||16==i||i>=19&&i<=24||i>=26&&i<=30||48==i||51==i||53==i||i>=62&&i<=69||78==i||75==i||76==i||77==i||i>=79&&i<=89||178==i)&&S.gxxScoreComparison(e)){var a=v.playframe(!1,this.node,"Animation/equipment_comparison/",0,3,280,!0,!1,new _(13,-10));a&&(a.name="score"+this.node.uuid)}}},r.addItemNumTxtHander=function(e){var t;e&&(e.Dura&&this.itemNum&&(this.itemNum.node.active=!0,S.checkMaterialItemCanBeStacked(e,!0)?t="x"+(e.Dura+1):S.checkDrugItemCanBeStacked(e)&&(t="x"+e.Dura),this.itemNum.string=t))},r.changeCountText=function(e){this.itemNum&&(e&&e.Dura>=0?(this.itemNum.node.active=!0,this.itemNum.string="x"+(parseInt(e.Dura)+1)):this.itemNum.node.active=!1)},r.dragStart=function(){D.cur_use_app?this.node.on(c.TOUCH_MOVE,this.checkOverNode,this):this.node.on(c.MOUSE_LEAVE,this.dragOut,this)},r.checkOverNode=function(e){var t=e.getUILocation();this.inArea(t,this.node)||(this.dragOut(e),this.node.off(c.TOUCH_MOVE,this.checkOverNode,this))},r.dragOut=function(e){if(this._itemData&&this.itemSprite&&this.itemSprite.active){this.hideItemExceptBgFrame();var t=D.g_isOnWindows?e.getUILocation().multiplyScalar(10/7):e.getUILocation(),i={dragItemType:this._itemType,skinRes:this.itemSprite.getComponent(u).spriteFrame,foldType:!1,indexInList:this._indexInList,itemData:this._itemData,itemPos:t};l.raiseEvent("dragItemHandle",i),l.addEventListener("showItemExceptBgFrame",this.showItemExceptBgFrame,this),l.addEventListener("throwOnTheGround",this.throwOnTheGround,this),i=null}D.cur_use_app||this.node.off(c.MOUSE_LEAVE,this.dragOut,this)},r.dragOver=function(e){D.g_dragOnItem=!0,D.g_canReceiveDrag&&(D.g_dragItemData&&this.canReplacePosition()?(this.isSameItemSuperpose(D.g_dragItemData.dragItemType)||this.updateParentListData(),D.g_dragItemData=null,this.node.off(c.MOUSE_LEAVE,this.dragOut,this),l.removeAllEventListener("showItemExceptBgFrame")):D.g_dragItemData&&this._Lock&&t.backToOriginHandler(),D.g_dragItemData=null,D.g_canReceiveDrag=!1)},r.dragEnd=function(){D.cur_use_app||this.node.off(c.MOUSE_LEAVE,this.dragOut,this)},r.addCheckClickHandler=function(e){if((D.cur_use_app||2==D.g_Termial)&&!this._hasCheckDragItem){this._hasCheckDragItem=!0;var i=t.getListeningNameByItemType(e);l.addEventListener(i,this.appClickCheck,this)}},r.resetValue=function(){},r.clearCheckClickHandler=function(e,i){if(parseInt(e)==this._type){var a=t.getListeningNameByItemType(parseInt(e));l.removeEventListener(a,this.appClickCheck,this)}l.removeEventListener("clearCheckClickHandler",this.clearCheckClickHandler,this)},r.appClickCheck=function(e,t){this.inArea(e,this.node)&&this.dragOver()},r.inArea=function(e,t){if(e&&t){var i=this.getNodeWidth,a=this.getNodeHeight,n=this.getNodeTransforms;return t.worldPosition.x-n.anchorX*i<=e.x&&e.x<=t.worldPosition.x+(1-n.anchorX)*i&&t.worldPosition.y-n.anchorY*a<=e.y&&e.y<=t.worldPosition.y+(1-n.anchorY)*a}},r.isSameItemSuperpose=function(e){if(this._itemData&&this._itemType==F.bagItem&&this._itemType==e&&D.g_dragItemData.itemData.s.DBName===this._itemData.s.DBName){if(D.g_dragItemData.indexInList==this._indexInList)return t.backToOriginHandler(),!0;var i=!0;return S.checkMaterialItemCanBeStacked(this._itemData,i)&&S.checkMaterialItemCanBeStacked(D.g_dragItemData.itemData,i)?this._itemData.Dura+1==this._itemData.DuraMax?(t.backToOriginHandler(),!0):(D.g_WaitItems.Index=D.g_dragItemData.indexInList,T.sendStackThing(D.g_dragItemData.itemData.MakeIndex,this._itemData.MakeIndex,D.g_dragItemData.itemData.s.DBName,0),l.raiseEvent("Show_Bag_Item_ico"),!0):S.checkDrugItemCanBeStacked(this._itemData,i)&&S.checkDrugItemCanBeStacked(D.g_dragItemData.itemData,i)?this._itemData.Dura==this._itemData.DuraMax?(t.backToOriginHandler(),!0):(D.g_WaitItems.Index=D.g_dragItemData.indexInList,T.sendStackDrug(D.g_dragItemData.itemData.MakeIndex,this._itemData.MakeIndex,D.g_dragItemData.itemData.s.DBName,0),l.raiseEvent("Show_Bag_Item_ico"),!0):void 0}},r.canReplacePosition=function(){return!this._Lock},r.updateParentListData=function(){D.g_dragItemData.dragItemType==this._itemType?this.sameTypeHandler(this._itemType):this.differentTypeHandler(this._itemType)},r.sameTypeHandler=function(e){var i;switch(e){case F.bagItem:i=D.g_BagItemsList[D.g_dragItemData.indexInList],D.g_BagItemsList[D.g_dragItemData.indexInList]=D.g_BagItemsList[this._indexInList],D.g_BagItemsList[this._indexInList]=i,l.raiseEvent("updateItemByIndex",D.g_dragItemData.indexInList),l.raiseEvent("updateItemByIndex",this._indexInList);break;case F.wareHouseItem:i=D.g_StoreItemList[D.g_dragItemData.indexInList],D.g_StoreItemList[D.g_dragItemData.indexInList]=D.g_StoreItemList[this._indexInList],D.g_StoreItemList[this._indexInList]=i,l.raiseEvent("updateWareHouseItemByIndex",D.g_dragItemData.indexInList),l.raiseEvent("updateWareHouseItemByIndex",this._indexInList);break;case F.shortcutBar:i=D.g_DrugItemsList[D.g_dragItemData.indexInList],D.g_DrugItemsList[D.g_dragItemData.indexInList]=D.g_DrugItemsList[this._indexInList],D.g_DrugItemsList[this._indexInList]=i,l.raiseEvent(f.SHOWDRUG_ITEMS);break;default:t.backToOriginHandler()}},r.differentTypeHandler=function(e){switch(D.g_dragItemData.dragItemType){case F.bagItem:this.bagToOtherTypeHandler(e);break;case F.shortcutBar:e==F.bagItem?(D.g_DrugItemsList[D.g_dragItemData.indexInList]=null,l.raiseEvent(f.SHOWDRUG_ITEMS)):t.backToOriginHandler();break;case F.wareHouseItem:if(e==F.bagItem)y.moveItemToBackpack(D.g_dragItemData.itemData,this._indexInList)||t.backToOriginHandler();else t.backToOriginHandler();break;case F.HumanItem:e==F.bagItem&&(D.g_OpenIdx=1,D.g_MoveItems.Index=D.g_dragItemData.indexInList,D.g_MoveItems.Items=D.g_UserItemList[D.g_dragItemData.indexInList],this._Lock||(null==this._itemData||null==this._itemData?(y.toUnloadEquip(D.g_dragItemData.itemData,D.g_dragItemData.indexInList),D.g_takeoffData.index=D.g_dragItemData.indexInList,D.g_takeoffData.item=D.g_UserItemList[D.g_dragItemData.indexInList],D.g_UserItemList[D.g_dragItemData.indexInList]=null):this.isSameEquip()?y.equipmentItems(this._itemData,D.g_dragItemData.itemData.tag):t.backToOriginHandler()));break;case F.fashion:e==F.bagItem&&(D.g_OpenIdx=1,D.g_MoveItems.Index=D.g_dragItemData.indexInList,D.g_MoveItems.Items=D.g_UserItemList[D.g_dragItemData.indexInList],this._Lock||(null==this._itemData||null==this._itemData?y.toUnloadEquip(D.g_dragItemData.itemData,D.g_dragItemData.indexInList):this.isSameEquip()?y.equipmentItems(this._itemData,D.g_dragItemData.itemData.tag):t.backToOriginHandler()));break;case F.jiaoyiItem:if(e==F.bagItem){t.backToOriginHandler();L.handlerAlert({type:1,content:"交易的物品不可以取回，要取回物品请取消再重新交易！！",sF:function(){},cF:function(){}})}break;case F.OkBar:if(e==F.bagItem){l.raiseEvent(f.DRAW_NPC_ITEMS,[null,null,D.g_dragItemData.indexInList,!0]),D.g_npc_opt_boxid=D.g_dragItemData.indexInList;var i=D.g_dragItemData.itemData;i&&T.NpcDlgOptions(i.s.Name,D.g_dragItemData.indexInList,i.MakeIndex,1),D.g_boxItemArr[D.g_dragItemData.indexInList]=null,S.addItemNewBag(i)}break;case F.Shoushi:case F.shenyou:e==F.bagItem&&(this._Lock?t.backToOriginHandler():null==this._itemData||null==this._itemData?y.toUnloadEquip(D.g_dragItemData.itemData,D.g_dragItemData.indexInList):t.backToOriginHandler());break;default:t.backToOriginHandler()}},r.bagToOtherTypeHandler=function(e){switch(e){case F.wareHouseItem:this._itemData&&0!=this._itemData.length?t.backToOriginHandler():y.storeItemToWareHouse(D.g_dragItemData.itemData,this._indexInList);break;case F.jiaoyiItem:y.pushToJiaoYiHandle(D.g_dragItemData.itemData,this._indexInList);break;case F.HumanItem:case F.fashion:this.isSameEquip()?y.equipmentItems(D.g_dragItemData.itemData,this._indexInList):t.backToOriginHandler();break;case F.shortcutBar:this.canIntoShortcutBar(D.g_dragItemData.itemData)?(D.g_DrugItemsList[this._indexInList]=D.g_BagItemsList[D.g_dragItemData.indexInList],l.raiseEvent(f.SHOWDRUG_ITEMS),t.backToOriginHandler(),S.recordDrugBarSetting()):t.backToOriginHandler();break;case F.OkBar:if(this.isMatchingOkBar()){var i=this.itemSprite.getComponent(u).spriteFrame;this.itemSprite.setPosition(this.itemSprite.parent.getComponent(I).width/2-this.itemSprite.getComponent(I).width/2,-this.itemSprite.parent.getComponent(I).height/2+this.itemSprite.getComponent(I).height/2);var a=this.itemSprite&&this.itemSprite.active&&i&&this._itemData&&this._itemData.MakeIndex!=D.g_dragItemData.itemData.MakeIndex,n=this._itemData;D.g_npc_opt_boxid=this._indexInList,l.raiseEvent(f.DRAW_NPC_ITEMS,[D.g_dragItemData.itemData]),T.NpcDlgOptions(D.g_dragItemData.itemData.s.Name,this._indexInList,D.g_dragItemData.itemData.MakeIndex,0),S.delBagItems(D.g_dragItemData.itemData.MakeIndex),a&&(D.g_BagItemsList[D.g_dragItemData.indexInList]=n)}else t.backToOriginHandler();break;case F.Shoushi:this.canIntoShouShiBox(D.g_dragItemData.itemData,this.node.name)?y.equipmentItems(D.g_dragItemData.itemData,this._indexInList):t.backToOriginHandler();break;case F.shenyou:this.canIntoShenYouBox(D.g_dragItemData.itemData,this._indexInList)?y.equipmentItems(D.g_dragItemData.itemData,this._indexInList):t.backToOriginHandler();break;default:t.backToOriginHandler()}},r.showItemSprite=function(){this.itemSprite.active=!0},r.hideItemExceptBgFrame=function(){this.itemSprite&&(this.itemSprite.active=!1),this.itemNum&&(this.itemNum.node.active=!1);var e=v.getAni(this.node,"effect"+this.node.uuid);if(e)e.node.active=!1;else if(this._itemType==F.HumanItem){var t=this.node.getComponentInChildren(x);t&&(t.node.active=!1)}var i=v.getAni(this.node,"score"+this.node.uuid);i&&(i.node.active=!1)},r.throwOnTheGround=function(e){if(D.g_MoveItems.Items=e,D.g_MoveItems.Index=-1,null!=D.g_MoveItems.Items){if((17==D.g_MoveItems.Items.s.StdMode||18==D.g_MoveItems.Items.s.StdMode||41==D.g_MoveItems.Items.s.StdMode||40==D.g_MoveItems.Items.s.StdMode||42==D.g_MoveItems.Items.s.StdMode||31==D.g_MoveItems.Items.s.StdMode&&-1!=D.g_MoveItems.Items.s.Name.indexOf("经验卷轴"))&&D.g_MoveItems.Items.s.Reserved>0&&D.g_MoveItems.Items.Dura>0||0==D.g_MoveItems.Items.s.StdMode&&5==D.g_MoveItems.Items.s.Source&&D.g_MoveItems.Items.Dura>1){var i={type:4,content:"请输入要丢弃的数量！",sF:function(e){parseInt(e)>0&&(D.g_WaitItems.Items=D.g_MoveItems.Items,D.g_MoveItems.Items=null,S.delBagItems(D.g_WaitItems.Items.MakeIndex),T.sendDropItem(D.g_WaitItems.Items.s.Name,D.g_WaitItems.Items.MakeIndex,parseInt(e)),C.drugnullforidx(D.g_WaitItems.Items.MakeIndex),D.g_selfdropitem.push(D.g_WaitItems.Items.MakeIndex),l.raiseEvent(f.SHOWDRUG_ITEMS))},cF:function(){t.backToOriginHandler()}};L.handlerAlert(i)}else if(D.g_WaitItems.Items=D.g_MoveItems.Items,D.g_MoveItems.Items=null,S.delBagItems(D.g_WaitItems.Items.MakeIndex),T.sendDropItem(D.g_WaitItems.Items.s.Name,D.g_WaitItems.Items.MakeIndex,1),C.drugnullforidx(D.g_WaitItems.Items.MakeIndex),D.g_selfdropitem.push(D.g_WaitItems.Items.MakeIndex),l.raiseEvent(f.SHOWDRUG_ITEMS),-1!=D.g_DrugButNumber&&this.canIntoShortcutBar(D.g_WaitItems.Items)){var a=C.autofillrule(D.g_WaitItems.Items.s.StdMode,D.g_WaitItems.Items.s.Looks);0!=a.length&&C.autofillitem(a)}l.removeEventListener("throwOnTheGround",this.throwOnTheGround,this)}},r.onDestroy=function(){this.clearEvent()},r.clearEvent=function(){this.node.off(c.TOUCH_START,this.dragStart,this),this.node.off(c.TOUCH_END,this.dragEnd,this),D.cur_use_app?(l.removeEventListener("wareHouseCheckDragItem",this.appClickCheck,this),l.removeEventListener("bagCheckDragItem",this.appClickCheck,this),l.removeEventListener("OkCheckDragItem",this.appClickCheck,this),l.removeEventListener("jiaoyiCheckDragItem",this.appClickCheck,this),l.removeEventListener("shortCheckDragItem",this.appClickCheck,this),l.removeEventListener("humanCheckDragItem",this.appClickCheck,this),l.removeEventListener("ShoushiCheckDragItem",this.appClickCheck,this),l.removeEventListener("shenyouCheckDragItem",this.appClickCheck,this),l.removeEventListener("fashionCheckDragItem",this.appClickCheck,this)):this.node.off(c.MOUSE_ENTER,this.dragOver,this)},r.isSameEquip=function(){var e=this._itemData?S.getItemType(this._itemData.s):this._indexInList,t=S.getItemType(D.g_dragItemData.itemData.s);return!(5!=e&&6!=e||5!=t&&6!=t)||(!(7!=e&&8!=e||7!=t&&8!=t)||(!(24!=e&&25!=e||24!=t&&25!=t)||(!(22!=e&&23!=e||22!=t&&23!=t)||e==t)))},r.isMatchingOkBar=function(){if(this.node){var e=this.node.BoxType;return"*"==e||e.split(",").indexOf(D.g_dragItemData.itemData.s.StdMode+"")>-1}},r.canIntoShortcutBar=function(e){if(null!=e&&null!=e&&!(e.s.StdMode>3)&&"修复神水"!=e.s.Name){for(var t=0;t<D.g_DrugItemsList.length;t++)if(D.g_DrugItemsList[t]&&e.s.DBName==D.g_DrugItemsList[t].s.DBName)return;return!0}},r.canIntoShouShiBox=function(e,t){if(e&&e.s){var i=e.s.OverLap;if(2==i||3==i||6==i||7==i){var a=e.s.Expand1;if(a==t-29||0==a||7==a)return!0}}},r.canIntoShenYouBox=function(e,t){if(e&&e.s){var i=e.s.OverLap;if(4==i||5==i||6==i||7==i){var a=e.s.Expand1;if(a==parseInt(t)-39||0==a)return!0}}},t.backToOriginHandler=function(){D.g_canReceiveDrag&&(D.g_canReceiveDrag=!1,l.raiseEvent("showItemExceptBgFrame"))},t.getListeningNameByItemType=function(e){switch(e){case F.bagItem:return"bagCheckDragItem";case F.wareHouseItem:return"wareHouseCheckDragItem";case F.jiaoyiItem:return"jiaoyiCheckDragItem";case F.shortcutBar:return"shortCheckDragItem";case F.OkBar:return"OkCheckDragItem";case F.HumanItem:return"humanCheckDragItem";case F.Shoushi:return"ShoushiCheckDragItem";case F.shenyou:return"shenyouCheckDragItem";case F.fashion:return"fashionCheckDragItem"}},s(t,[{key:"getNodeTransforms",get:function(){return this._nodeTransforms?this._nodeTransforms:S.getNodeTransForm(this.node)}},{key:"getNodeWidth",get:function(){return this.getNodeTransforms.width},set:function(e){this.getNodeTransforms.width=e}},{key:"getNodeHeight",get:function(){return this.getNodeTransforms.height},set:function(e){this.getNodeTransforms.height=e}}]),t}(p)).dragItemType=void 0,A.dragItemPool=new h,N=t((M=A).prototype,"itemSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"itemNum",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=M))||B)||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/DropItemMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./RGBCode.ts","./GameUtil.ts","./LabelOutLineForWindows.ts","./AnimationModule.ts","./FrameMgr.ts","./GameConfig.ts","./ItemMgr.ts","./NodeMgr.ts"],(function(t){"use strict";var e,n,o,i,a,r,s,m,p,c,f,u,d,l,g,I,h,C,L,v,y,_,D,M,E,b,O,w;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.v3,a=t.UITransform,r=t.Sprite,s=t.NodeEventType,m=t.LabelOutline,p=t.sys,c=t.Label,f=t.color,u=t.v2,d=t.Node,l=t.Layers,g=t.UIOpacity,I=t.tween,h=t.Component},function(t){C=t.EventMgr},function(t){L=t.Config},function(t){v=t.default},function(t){y=t.rgbCode},function(t){_=t.GameUtil},function(t){D=t.LabelOutLineForWindows},function(t){M=t.Animationmodule},function(t){E=t.frameMgr},function(t){b=t.gameConfig},function(t){O=t.ItemMgr},function(t){w=t.nodeMgr}],execute:function(){var T,N;n._RF.push({},"a0d9dwiJcpGdL5NhUyhSPMI","DropItemMgr",void 0);var k=o.ccclass,U=(o.property,t("DropItemMgr",k("DropItemMgr")(((N=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).pos=null,e.is_has_item=!1,e.pickupTime=0,e}e(n,t),n.ins=function(){return this._ins||(this._ins=new n),this._ins};var o=n.prototype;return o.init=function(){C.addEventListener(v.UPDATE_MAP_ITEMS,this.UpdateItems,this),C.addEventListener(v.DELETE_MAP_ITEMS,this.DeleteItems,this)},o.UpdateItems=function(t){E.putTask("UpdateItems",this.executeUpdateItems.bind(this,t))},o.executeUpdateItems=function(t){var e=this,n=_.getMapLayerScript(),o=i(48*t.x+568,32*t.y+300);_.loadImg(t.Looks,"dnitems",(function(u){if(u&&u.data&&u.nOffset&&O.getInstance().HasDropItemById(t.id)){L.g_item_clearlist[u.nOffset.atlas]=!0;var d=n.mapItemImgLayer.getComponent(a),l=w.getNode(n.mapItemImg,n.mapItemImgLayer,"dropItemImg");l.name="item-img-"+t.id,l.getComponent(r).spriteFrame=u.data.spriteFrames[u.nOffset.img];var g=_.LayaPointToCocosPoint(o,d.width,d.height);if(l.setPosition(g),l.on(s.TOUCH_START,e.ClickMapItem,e),n.mapItemList.push(l),b.itemCheck(t.Name,0)){var I,h=w.getNode(n.mapItemLab,n.mapItemLabLayer,"dropItemLab");h.name="item-lab-"+t.id,h.getComponent(m).width=L.g_strokewidth,p.os!=p.OS.WINDOWS||p.isBrowser?(I=h.getComponent(c)).string=t.Name:(null==h.getComponent(D)?(I=h.addComponent(D)).createOutLine():I=h.getComponent(D),setTimeout((function(){I.string=t.Name}),300),setTimeout((function(){I.string=t.Name}),600)),I.color=f(y.Get2RGB(t.Color)),d=n.mapItemLabLayer.getComponent(a);var C=i(o.x,o.y-20),v=_.LayaPointToCocosPoint(C,d.width,d.height);h.setPosition(v),n.mapItemList.push(h)}if(-1!=t.DropEffectFileIndex){var E="";L.g_pak_list[t.DropEffectFileIndex]&&(E="data/"+L.g_pak_list[t.DropEffectFileIndex]+"/");var T,N=t.DropEffectStartOffSet,k=t.DropEffectImageCount+N-1;T=t.DrawCenter?i(o.x+t.DropEffectOffsetX,o.y+t.DropEffectOffsetY):i(o.x+t.DropEffectOffsetX-20,o.y+t.DropEffectOffsetY-20);var U=t.DropEffectFrameTime,S=!t.DropEffectNormalDraw,F={drawCenter:t.DrawCenter,rootWidth:1136,rootHeight:600},x=M.playframe(S,_.getMapLayerNode(1),E,N,k,U,!0,!1,T,null,null,null,null,!1,null,null,null,F);x&&(x.name="item"+t.id,x.id=t.id,x.dorpItem=!0)}}}))},o.ClickMapItem=function(t){this.pos=u(Math.floor(t.target.position.x/48),-Math.floor(t.target.position.y/32)),this.is_has_item=!0},o.DeleteItems=function(t){for(var e=t[0],n=t.length>1&&t[1],o=_.getMapLayerScript().mapItemList,i=o.length-1;i>=0;i--){var a,r,s=o[i];if(-1!=s.name.indexOf("item-")){var m=s.name.split("-");m.length>1&&(a=Number(m[m.length-1]),r=m[1])}a!=e&&1!=e||(o.splice(i,1),a==e&&M.removeAniname("item"+a),"img"==r?s.name="dropItemImg":"lab"==r&&(s.name="dropItemLab"),n&&this.pickUpGoodsHandler(s),w.putNode(s,s.name))}},o.pickUpGoodsHandler=function(t){if("dropItemImg"==t.name&&(!this.pickupTime||Date.now()-this.pickupTime>200)){this.pickupTime=Date.now();var e=new d;e.layer=l.Enum.UI_2D,e.addComponent(r).spriteFrame=t.getComponent(r).spriteFrame.clone(),e.addComponent(g).opacity=255;var n=this.getBagBtnNode();n.parent.addChild(e);var o=n.position;I(e).to(1,{position:o},{easing:"cubicInOut"}).call((function(){I(e.getComponent(g)).to(.5,{opacity:0},{easing:"cubicInOut"}).call((function(){e.destroy()})).start()})).start()}},o.getBagBtnNode=function(){return L.g_isOnWindows?L.CurScene.pc_btnBag:L.CurScene.btn_bag0.node},n}(h))._ins=void 0,T=N))||T));t("dropItemMgr",U.ins());n._RF.pop()}}}));

System.register("chunks:///_virtual/DrugSetupWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameApi.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,r,s,n,u,o,a,g,m,l,c,p,I,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,u=t._decorator,o=t.Sprite,a=t.sys,g=t.Component},function(t){m=t.EventMgr},function(t){l=t.Config},function(t){c=t.default},function(t){p=t.imageData},function(t){I=t.resourcesMgr},function(t){f=t.GameApi},function(t){_=t.GameUtil}],execute:function(){var h,D,S,L,d,v,b,B,w,y,E,M;n._RF.push({},"ad8f8EwZQRM4rzU5BKwLBxW","DrugSetupWin",void 0);var N=u.ccclass,R=u.property,W=u.menu;t("default",(h=N("DrugSetupWin"),D=W("弹窗模块/DrugSetupWin"),S=R(o),L=R(o),d=R(o),v=R(o),h(b=D((w=e((B=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return e=t.call.apply(t,[this].concat(n))||this,r(e,"ItemsSpriteList",w,s(e)),r(e,"BG",y,s(e)),r(e,"resetSp",E,s(e)),r(e,"closeBtn",M,s(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.initMgr(),this.dShowItems(),_.loadResLocal("DrugSetupWin/setupwin.png",this.BG),_.loadResLocal("SplitResource/Btns/setup_rest.png",this.resetSp),_.loadResLocal("SplitResource/Btns/btn_close_new.png",this.closeBtn)},n.initMgr=function(){m.addEventListener("Drug_Item_ico",this.dShowItems,this),m.addEventListener("Drug_Set_Items",this.SetNoItems,this)},n.dShowItems=function(){for(var t=0;t<this.ItemsSpriteList.length;t++){var e=this.ItemsSpriteList[t],i=Number(e.node.name);i<l.g_DrugItemsList.length&&null!=l.g_DrugItemsList[i]&&function(){var t=new p;t=_.loadImgData(l.g_DrugItemsList[i].s.Looks,"items"),I.handleLoad(t.plist,(function(i){i&&i.getSpriteFrame(t.img)&&e&&(e.spriteFrame=i.getSpriteFrame(t.img))}))}()}},n.SetNoItems=function(t){for(var e=0;e<this.ItemsSpriteList.length;e++){var i=this.ItemsSpriteList[e],r=Number(i.node.name);if(r<l.g_DrugItemsList.length&&r==t)if(null!=l.g_DrugItemsList[r])if("break"===function(){i.spriteFrame=null;var t=new p;return t=_.loadImgData(l.g_DrugItemsList[r].s.Looks,"items"),I.handleLoad(t.plist,(function(e){e&&e.getSpriteFrame(t.img)&&i&&(i.spriteFrame=e.getSpriteFrame(t.img))})),"break"}())break}},n.onRest=function(){for(var t=0;t<this.ItemsSpriteList.length;t++){this.ItemsSpriteList[t].spriteFrame=null}for(t=0;t<6;t++)l.g_DrugItemsList[t]=null;m.raiseEvent(c.SHOWDRUG_ITEMS),a.localStorage.removeItem("druglist")},n.onItem_Down=function(t){if(l.g_DrugButNumber=Number(t.target.name),-1!=l.g_DrugButNumber&&null!=l.g_WaitItems.Items){if(l.g_BagItemsList[l.g_nBagIdx])for(var e=0;e<l.g_DrugItemsList.length;e++)if(null!=l.g_DrugItemsList[e]&&l.g_BagItemsList[l.g_nBagIdx].MakeIndex==l.g_DrugItemsList[e].MakeIndex)return;for(e=0;e<l.g_DrugItemsList.length;++e)l.g_DrugItemsList[e]&&l.g_DrugItemsList[e].s.Name==l.g_WaitItems.Items.s.Name&&(l.g_DrugItemsList[e]=null);l.g_DrugItemsList[l.g_DrugButNumber]=l.g_WaitItems.Items,l.g_WaitItems.Items=null,m.raiseEvent(c.SHOWDRUG_ITEMS),m.raiseEvent("Drug_Item_ico"),m.raiseEvent("Drug_Set_Items",[l.g_DrugButNumber]),f.showScreen(!1),_.recordDrugBarSetting()}this.onClose()},n.onClose=function(){this.node.destroy()},n.onDestroy=function(){m.removeEventListener("Drug_Item_ico",this.dShowItems,this),m.removeEventListener("Drug_Set_Items",this.SetNoItems,this)},e}(g)).prototype,"ItemsSpriteList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(B.prototype,"BG",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(B.prototype,"resetSp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"closeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=B))||b)||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/editBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./UIcontrol.ts"],(function(t){"use strict";var e,i,o,n,r,l,s,a,u,c,d,p,f,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,a=t.EditBox,u=t.Label,c=t.UITransform,d=t.Sprite,p=t.color,f=t.Component},function(t){h=t.Config},function(t){g=t.uiControl}],execute:function(){var x,m,B,b,C,y,I,v,N,z,L,T,S;r._RF.push({},"eeec4Tv/t1OfLLg7m9fN0P6","editBoxItem",void 0);var w=l.ccclass,_=l.property;t("editBoxItem",(x=w("editBoxItem"),m=_(s),B=_(s),b=_(a),C=_(u),y=_(u),x((N=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"bgNode",N,n(e)),o(e,"fBgNode",z,n(e)),o(e,"editBox",L,n(e)),o(e,"editText",T,n(e)),o(e,"placeHolder",S,n(e)),e.text="",e.editBoxId=null,e.min=null,e.max=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.init=function(t,e){"num"==e?this.editBox.inputMode=a.InputMode.NUMERIC:"string"==e&&(this.editBox.inputMode=a.InputMode.SINGLE_LINE),this.node.getComponent(c).setContentSize(t.w,t.h),-1==t.bgColor?this.bgNode.active=!1:this.bgNode.getComponent(d).color=p(t.bgColor),-1==t.fBgColor?this.fBgNode.active=!1:this.fBgNode.getComponent(d).color=p(t.fBgColor),this.editText.color=p(t.fontColor),this.placeHolder.color=p(t.tipColor),this.placeHolder.string=t.tip,this.editBox.maxLength=parseInt(t.maxLength),this.editText.fontSize=h.g_npcTxtSize,this.placeHolder.fontSize=h.g_npcTxtSize,this.editBoxId=t.id,this.min=t.minLength,this.max=t.maxLength},r.textChanged=function(){this.text=this.editBox.string},r.textEnd=function(){var t=this,e=this.BytesCount(this.text);if(e>this.max||e<this.min){g.handlerAlert({type:1,content:"请输入"+this.min+"到"+this.max+"个字节（一个汉字为两个字节），点击确定重新输入",sF:function(){t.editBox&&(t.editBox.string="")}})}else this.text=this.editBox.string},r.BytesCount=function(t){for(var e=0,i=0;i<t.length;i++){var o=t.charAt(i);/^[\u0000-\u00ff]$/.test(o)?e++:e+=2}return e},e}(f)).prototype,"bgNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(v.prototype,"fBgNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"editBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"editText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(v.prototype,"placeHolder",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=v))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/Electron.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTypeConfig.ts","./Config.ts","./LoginSceneProgressBar.ts","./SceneCanvas.ts"],(function(e){"use strict";var n,o,t,r,c,s,i,a,l;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.director,c=e.Component},function(e){s=e.gameTypeConfig},function(e){i=e.Config},function(e){a=e.LoginSceneProgressBar},function(e){l=e.SceneCanvas}],execute:function(){var g,u;o._RF.push({},"101b7s9ue1J17eq9GAYuCRe","Electron",void 0);var f=t.ccclass,p=(t.property,window.electron),d=e("Electron",f("Electron")(((u=function(e){function o(){for(var n,o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this).elcListener=null,n}n(o,e),o.getInstance=function(){return null==this._instance&&(this._instance=new o),this._instance};var t=o.prototype;return t.isElectron=function(){console.log("isElectron"+p),i.isElectron=!!p},t.init=function(){this.fromRenderWeb("渲染层加载完毕"),this.elcListener=p.ipcRenderer,p.ipcRenderer.on("fromMain",this.fromMain),p.ipcRenderer.on("progress",this.progress)},t.fromRenderWeb=function(e){console.log("向electron发消息"),p.ipcRenderer.send("fromRenderWeb",e)},t.fromMain=function(e,n){console.log("接收electron的消息:"+n.code+"msg:"+n.msg),console.log(n),console.log(e)},t.checkSaveToLocal=function(e){var n=s.localFileDir+e;p.ipcRenderer.send("checkLocalSave",n)},t.saveResToPackage=function(e){console.log("saveResToPackage:"+e),p.ipcRenderer.send("saveResToPackage",e)},t.progress=function(e,n){r.getScene().getChildByName("Canvas").getComponent(l).load_res_bar.getComponent(a).handleProgress(n.info,n.per),2==n.code&&r.getScene().getChildByName("Canvas").getComponent(l).setConfig()},o}(c))._instance=null,g=u))||g);e("el",d.getInstance());o._RF.pop()}}}));

System.register("chunks:///_virtual/encrypt.ts",["cc","./Base64.ts","./EnDecode.ts","./UnitDes.ts"],(function(t){"use strict";var r,e,n,c;return{setters:[function(t){r=t.cclegacy},function(t){e=t.Base64},function(t){n=t.EnDecode},function(t){c=t.UnitDes}],execute:function(){r._RF.push({},"3e408Kh4c9K2KS9Q60y1pNF","encrypt",void 0);var a=t("Tool_Encrypt",function(){function t(){this.crc_table=[],this.crc_table=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]}t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var r=t.prototype;return r.GetKey=function(){return(Math.round(100*Math.random())%58<<24)+(Math.round(100*Math.random())%58<<16)+(Math.round(100*Math.random())%58<<8)+Math.round(100*Math.random())%58>>>0},r.GetKeyValue=function(t){var r,e,n,c,a=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,60,61,62,64,91,92,93];return r=(4278190080&t)>>>24,e=(16711680&t)>>>16,n=(65280&t)>>>8,c=(255&t)>>>0,String.fromCharCode(a[c])+String.fromCharCode(a[n])+String.fromCharCode(a[e])+String.fromCharCode(a[r])},r.GetAdapterMac=function(){for(var t="",r=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"),e=0;e<12;e++)t+=r[Math.round(100*Math.random())%16];return t},r.encryBuffer=function(t,r){var a=this.GetKeyValue(this.GetKey()),i=c.EncryptDes(t,r,a),o=e.Base64Encode(i,r),s=n.fnEncode6BitBuf(o.arr,o.len);return a.substr(0,2)+s+a.substr(2,2)},r.encryStringK=function(t,r){var a=c.string2ByteArray(t),i=c.EncryptDes(a.arr,a.len,r),o=e.Base64Encode(i,a.len);return n.fnEncode6BitBuf(o.arr,o.len)},r.Decode6BitBuf=function(t){var r,e=[0,0,252,248,240,224,192],n=0,c=0,a=0,i=0,o=0,s=0,u=0,h=new Array;for(r=t.length,c=2,a=0,i=0,s=0,n=0;n<r;n++){if(!(t.charCodeAt(n)-60>=0)){i=0;break}if(o=t.charCodeAt(n)-60,a+6>=8){if(u=255&(s|(63&o)>>6-c),h[i]=u,i++,a=0,!(c<6)){c=2;continue}c+=2}s=o<<c&255&e[c]&255,a+=8-c}return h},r.decryStringK=function(t,r){var n=this.Decode6BitBuf(t),a=e.Base64Decode(n,n.length);return c.DecryptDes(a.arr,a.len,r)},r.decryString=function(t){var r,a=t.length;if(a<=4)return"";r=t.substr(0,2)+t.substr(a-2,2),t=t.substr(2,a-4);var i=n.DecodeString(t),o=c.string2ByteArray(i),s=e.Base64Decode(o.arr,o.len),u=c.DecryptDes(s.arr,s.len,r);return c.byteArray2String(u,s.len)},r.Crc32=function(t,r){var e=3988292096;e=(4294967295^e)>>>0;for(var n=0;r>=8;)e=this.crc_table[255&(e^t[n])]^e>>>8,n++,e=this.crc_table[255&(e^t[n])]^e>>>8,n++,e=this.crc_table[255&(e^t[n])]^e>>>8,n++,e=this.crc_table[255&(e^t[n])]^e>>>8,n++,e=this.crc_table[255&(e^t[n])]^e>>>8,n++,e=this.crc_table[255&(e^t[n])]^e>>>8,n++,e=this.crc_table[255&(e^t[n])]^e>>>8,n++,e=this.crc_table[255&(e^t[n])]^e>>>8,n++,r-=8;if(0!=r)do{e=this.crc_table[255&(e^t[n])]^e>>>8,n++,r--}while(0!=r);return(4294967295^e)>>>0},t}());a._instance=void 0;t("Encrypt",a.getInstance());r._RF.pop()}}}));

System.register("chunks:///_virtual/EnDecode.ts",["cc","./UcsByGbk.ts","./UnitDes.ts"],(function(e){"use strict";var r,t,n;return{setters:[function(e){r=e.cclegacy},function(e){t=e.getUcsByGbkAsc},function(e){n=e.UnitDes}],execute:function(){r._RF.push({},"3891fnLHypAELpJWqbYuAO/","EnDecode",void 0);var s=e("tools_EnDecode",function(){function e(){this.Decode6BitMask=[252,248,240,224,192],this.ucs=[[19970,19972,19973,19974,19983,19986,19991,19999,2e4,20001,20003,20006,20009,20014,20015,20017,20019,20021,20023,20028,20032,20033,20034,20036,20038,20042,20049,20053,20055,20058,20059,20066,20067,20068,20069,20071,20072,20074,20075,20076,20077,20078,20079,20082,20084,20085,20086,20087,20088,20089,20090,20091,20092,20093,20095,20096,20097,20098,20099,20100,20101,20103,20106,63,20112,20118,20119,20121,20124,20125,20126,20131,20138,20143,20144,20145,20148,20150,20151,20152,20153,20156,20157,20158,20168,20172,20175,20176,20178,20186,20187,20188,20192,20194,20198,20199,20201,20205,20206,20207,20209,20212,20216,20217,20218,20220,20222,20224,20226,20227,20228,20229,20230,20231,20232,20235,20236,20242,20243,20244,20245,20246,20252,20253,20257,20259,20264,20265,20268,20269,20270,20273,20275,20277,20279,20281,20283,20286,20287,20288,20289,20290,20292,20293,20295,20296,20297,20298,20299,20300,20306,20308,20310,20321,20322,20326,20328,20330,20331,20333,20334,20337,20338,20341,20343,20344,20345,20346,20349,20352,20353,20354,20357,20358,20359,20362,20364,20366,20368,20370,20371,20373,20374,20376,20377,20378,20380,20382,20383,20385,20386],[20388,20395,20397,20400,20401,20402,20403,20404,20406,20407,20408,20409,20410,20411,20412,20413,20414,20416,20417,20418,20422,20423,20424,20425,20427,20428,20429,20434,20435,20436,20437,20438,20441,20443,20448,20450,20452,20453,20455,20459,20460,20464,20466,20468,20469,20470,20471,20473,20475,20476,20477,20479,20480,20481,20482,20483,20484,20485,20486,20487,20488,20489,20490,63,20491,20494,20496,20497,20499,20501,20502,20503,20507,20509,20510,20512,20514,20515,20516,20519,20523,20527,20528,20529,20530,20531,20532,20533,20534,20535,20536,20537,20539,20541,20543,20544,20545,20546,20548,20549,20550,20553,20554,20555,20557,20560,20561,20562,20563,20564,20566,20567,20568,20569,20571,20573,20574,20575,20576,20577,20578,20579,20580,20582,20583,20584,20585,20586,20587,20589,20590,20591,20592,20593,20594,20595,20596,20597,20600,20601,20602,20604,20605,20609,20610,20611,20612,20614,20615,20617,20618,20619,20620,20622,20623,20624,20625,20626,20627,20628,20629,20630,20631,20632,20633,20634,20635,20636,20637,20638,20639,20640,20641,20642,20644,20646,20650,20651,20653,20654,20655,20656,20657,20659,20660,20661,20662,20663,20664,20665,20668],[20669,20670,20671,20672,20673,20674,20675,20676,20677,20678,20679,20680,20681,20682,20683,20684,20685,20686,20688,20689,20690,20691,20692,20693,20695,20696,20697,20699,20700,20701,20702,20703,20704,20705,20706,20707,20708,20709,20712,20713,20714,20715,20719,20720,20721,20722,20724,20726,20727,20728,20729,20730,20732,20733,20734,20735,20736,20737,20738,20739,20740,20741,20744,63,20745,20746,20748,20749,20750,20751,20752,20753,20755,20756,20757,20758,20759,20760,20761,20762,20763,20764,20765,20766,20767,20768,20770,20771,20772,20773,20774,20775,20776,20777,20778,20779,20780,20781,20782,20783,20784,20785,20786,20787,20788,20789,20790,20791,20792,20793,20794,20795,20796,20797,20798,20802,20807,20810,20812,20814,20815,20816,20818,20819,20823,20824,20825,20827,20829,20830,20831,20832,20833,20835,20836,20838,20839,20841,20842,20847,20850,20858,20862,20863,20867,20868,20870,20871,20874,20875,20878,20879,20880,20881,20883,20884,20888,20890,20893,20894,20895,20897,20899,20902,20903,20904,20905,20906,20909,20910,20916,20920,20921,20922,20926,20927,20929,20930,20931,20933,20936,20938,20941,20942,20944,20946,20947,20948,20949,20950,20951],[20952,20953,20954,20956,20958,20959,20962,20963,20965,20966,20967,20968,20969,20970,20972,20974,20977,20978,20980,20983,20990,20996,20997,21001,21003,21004,21007,21008,21011,21012,21013,21020,21022,21023,21025,21026,21027,21029,21030,21031,21034,21036,21039,21041,21042,21044,21045,21052,21054,21060,21061,21062,21063,21064,21065,21067,21070,21071,21074,21075,21077,21079,21080,63,21081,21082,21083,21085,21087,21088,21090,21091,21092,21094,21096,21099,21100,21101,21102,21104,21105,21107,21108,21109,21110,21111,21112,21113,21114,21115,21116,21118,21120,21123,21124,21125,21126,21127,21129,21130,21131,21132,21133,21134,21135,21137,21138,21140,21141,21142,21143,21144,21145,21146,21148,21156,21157,21158,21159,21166,21167,21168,21172,21173,21174,21175,21176,21177,21178,21179,21180,21181,21184,21185,21186,21188,21189,21190,21192,21194,21196,21197,21198,21199,21201,21203,21204,21205,21207,21209,21210,21211,21212,21213,21214,21216,21217,21218,21219,21221,21222,21223,21224,21225,21226,21227,21228,21229,21230,21231,21233,21234,21235,21236,21237,21238,21239,21240,21243,21244,21245,21249,21250,21251,21252,21255,21257,21258,21259,21260,21262],[21265,21266,21267,21268,21272,21275,21276,21278,21279,21282,21284,21285,21287,21288,21289,21291,21292,21293,21295,21296,21297,21298,21299,21300,21301,21302,21303,21304,21308,21309,21312,21314,21316,21318,21323,21324,21325,21328,21332,21336,21337,21339,21341,21349,21352,21354,21356,21357,21362,21366,21369,21371,21372,21373,21374,21376,21377,21379,21383,21384,21386,21390,21391,63,21392,21393,21394,21395,21396,21398,21399,21401,21403,21404,21406,21408,21409,21412,21415,21418,21419,21420,21421,21423,21424,21425,21426,21427,21428,21429,21431,21432,21433,21434,21436,21437,21438,21440,21443,21444,21445,21446,21447,21454,21455,21456,21458,21459,21461,21466,21468,21469,21470,21473,21474,21479,21492,21498,21502,21503,21504,21506,21509,21511,21515,21524,21528,21529,21530,21532,21538,21540,21541,21546,21552,21555,21558,21559,21562,21565,21567,21569,21570,21572,21573,21575,21577,21580,21581,21582,21583,21585,21594,21597,21598,21599,21600,21601,21603,21605,21607,21609,21610,21611,21612,21613,21614,21615,21616,21620,21625,21626,21630,21631,21633,21635,21637,21639,21640,21641,21642,21645,21649,21651,21655,21656,21660,21662,21663,21664,21665],[21666,21669,21678,21680,21682,21685,21686,21687,21689,21690,21692,21694,21699,21701,21706,21707,21718,21720,21723,21728,21729,21730,21731,21732,21739,21740,21743,21744,21745,21748,21749,21750,21751,21752,21753,21755,21758,21760,21762,21763,21764,21765,21768,21770,21771,21772,21773,21774,21778,21779,21781,21782,21783,21784,21785,21786,21788,21789,21790,21791,21793,21797,21798,63,21800,21801,21803,21805,21810,21812,21813,21814,21816,21817,21818,21819,21821,21824,21826,21829,21831,21832,21835,21836,21837,21838,21839,21841,21842,21843,21844,21847,21848,21849,21850,21851,21853,21854,21855,21856,21858,21859,21864,21865,21867,21871,21872,21873,21874,21875,21876,21881,21882,21885,21887,21893,21894,21900,21901,21902,21904,21906,21907,21909,21910,21911,21914,21915,21918,21920,21921,21922,21923,21924,21925,21926,21928,21929,21930,21931,21932,21933,21934,21935,21936,21938,21940,21942,21944,21946,21948,21951,21952,21953,21954,21955,21958,21959,21960,21962,21963,21966,21967,21968,21973,21975,21976,21977,21978,21979,21982,21984,21986,21991,21993,21997,21998,22e3,22001,22004,22006,22008,22009,22010,22011,22012,22015,22018,22019,22020,22021],[22022,22023,22026,22027,22029,22032,22033,22034,22035,22036,22037,22038,22039,22041,22042,22044,22045,22048,22049,22050,22053,22054,22056,22057,22058,22059,22062,22063,22064,22067,22069,22071,22072,22074,22076,22077,22078,22080,22081,22082,22083,22084,22085,22086,22087,22088,22089,22090,22091,22095,22096,22097,22098,22099,22101,22102,22106,22107,22109,22110,22111,22112,22113,63,22115,22117,22118,22119,22125,22126,22127,22128,22130,22131,22132,22133,22135,22136,22137,22138,22141,22142,22143,22144,22145,22146,22147,22148,22151,22152,22153,22154,22155,22156,22157,22160,22161,22162,22164,22165,22166,22167,22168,22169,22170,22171,22172,22173,22174,22175,22176,22177,22178,22180,22181,22182,22183,22184,22185,22186,22187,22188,22189,22190,22192,22193,22194,22195,22196,22197,22198,22200,22201,22202,22203,22205,22206,22207,22208,22209,22210,22211,22212,22213,22214,22215,22216,22217,22219,22220,22221,22222,22223,22224,22225,22226,22227,22229,22230,22232,22233,22236,22243,22245,22246,22247,22248,22249,22250,22252,22254,22255,22258,22259,22262,22263,22264,22267,22268,22272,22273,22274,22277,22279,22283,22284,22285,22286,22287,22288,22289],[22290,22291,22292,22293,22294,22295,22296,22297,22298,22299,22301,22302,22304,22305,22306,22308,22309,22310,22311,22315,22321,22322,22324,22325,22326,22327,22328,22332,22333,22335,22337,22339,22340,22341,22342,22344,22345,22347,22354,22355,22356,22357,22358,22360,22361,22370,22371,22373,22375,22380,22382,22384,22385,22386,22388,22389,22392,22393,22394,22397,22398,22399,22400,63,22401,22407,22408,22409,22410,22413,22414,22415,22416,22417,22420,22421,22422,22423,22424,22425,22426,22428,22429,22430,22431,22437,22440,22442,22444,22447,22448,22449,22451,22453,22454,22455,22457,22458,22459,22460,22461,22462,22463,22464,22465,22468,22469,22470,22471,22472,22473,22474,22476,22477,22480,22481,22483,22486,22487,22491,22492,22494,22497,22498,22499,22501,22502,22503,22504,22505,22506,22507,22508,22510,22512,22513,22514,22515,22517,22518,22519,22523,22524,22526,22527,22529,22531,22532,22533,22536,22537,22538,22540,22542,22543,22544,22546,22547,22548,22550,22551,22552,22554,22555,22556,22557,22559,22562,22563,22565,22566,22567,22568,22569,22571,22572,22573,22574,22575,22577,22578,22579,22580,22582,22583,22584,22585,22586,22587,22588,22589],[22590,22591,22592,22593,22594,22595,22597,22598,22599,22600,22601,22602,22603,22606,22607,22608,22610,22611,22613,22614,22615,22617,22618,22619,22620,22621,22623,22624,22625,22626,22627,22628,22630,22631,22632,22633,22634,22637,22638,22639,22640,22641,22642,22643,22644,22645,22646,22647,22648,22649,22650,22651,22652,22653,22655,22658,22660,22662,22663,22664,22666,22667,22668,63,22669,22670,22671,22672,22673,22676,22677,22678,22679,22680,22683,22684,22685,22688,22689,22690,22691,22692,22693,22694,22695,22698,22699,22700,22701,22702,22703,22704,22705,22706,22707,22708,22709,22710,22711,22712,22713,22714,22715,22717,22718,22719,22720,22722,22723,22724,22726,22727,22728,22729,22730,22731,22732,22733,22734,22735,22736,22738,22739,22740,22742,22743,22744,22745,22746,22747,22748,22749,22750,22751,22752,22753,22754,22755,22757,22758,22759,22760,22761,22762,22765,22767,22769,22770,22772,22773,22775,22776,22778,22779,22780,22781,22782,22783,22784,22785,22787,22789,22790,22792,22793,22794,22795,22796,22798,22800,22801,22802,22803,22807,22808,22811,22813,22814,22816,22817,22818,22819,22822,22824,22828,22832,22834,22835,22837,22838,22843],[22845,22846,22847,22848,22851,22853,22854,22858,22860,22861,22864,22866,22867,22873,22875,22876,22877,22878,22879,22881,22883,22884,22886,22887,22888,22889,22890,22891,22892,22893,22894,22895,22896,22897,22898,22901,22903,22906,22907,22908,22910,22911,22912,22917,22921,22923,22924,22926,22927,22928,22929,22932,22933,22936,22938,22939,22940,22941,22943,22944,22945,22946,22950,63,22951,22956,22957,22960,22961,22963,22964,22965,22966,22967,22968,22970,22972,22973,22975,22976,22977,22978,22979,22980,22981,22983,22984,22985,22988,22989,22990,22991,22997,22998,23001,23003,23006,23007,23008,23009,23010,23012,23014,23015,23017,23018,23019,23021,23022,23023,23024,23025,23026,23027,23028,23029,23030,23031,23032,23034,23036,23037,23038,23040,23042,23050,23051,23053,23054,23055,23056,23058,23060,23061,23062,23063,23065,23066,23067,23069,23070,23073,23074,23076,23078,23079,23080,23082,23083,23084,23085,23086,23087,23088,23091,23093,23095,23096,23097,23098,23099,23101,23102,23103,23105,23106,23107,23108,23109,23111,23112,23115,23116,23117,23118,23119,23120,23121,23122,23123,23124,23126,23127,23128,23129,23131,23132,23133,23134,23135,23136],[23137,23139,23140,23141,23142,23144,23145,23147,23148,23149,23150,23151,23152,23153,23154,23155,23160,23161,23163,23164,23165,23166,23168,23169,23170,23171,23172,23173,23174,23175,23176,23177,23178,23179,23180,23181,23182,23183,23184,23185,23187,23188,23189,23190,23191,23192,23193,23196,23197,23198,23199,23200,23201,23202,23203,23204,23205,23206,23207,23208,23209,23211,23212,63,23213,23214,23215,23216,23217,23220,23222,23223,23225,23226,23227,23228,23229,23231,23232,23235,23236,23237,23238,23239,23240,23242,23243,23245,23246,23247,23248,23249,23251,23253,23255,23257,23258,23259,23261,23262,23263,23266,23268,23269,23271,23272,23274,23276,23277,23278,23279,23280,23282,23283,23284,23285,23286,23287,23288,23289,23290,23291,23292,23293,23294,23295,23296,23297,23298,23299,23300,23301,23302,23303,23304,23306,23307,23308,23309,23310,23311,23312,23313,23314,23315,23316,23317,23320,23321,23322,23323,23324,23325,23326,23327,23328,23329,23330,23331,23332,23333,23334,23335,23336,23337,23338,23339,23340,23341,23342,23343,23344,23345,23347,23349,23350,23352,23353,23354,23355,23356,23357,23358,23359,23361,23362,23363,23364,23365,23366,23367],[23368,23369,23370,23371,23372,23373,23374,23375,23378,23382,23390,23392,23393,23399,23400,23403,23405,23406,23407,23410,23412,23414,23415,23416,23417,23419,23420,23422,23423,23426,23430,23434,23437,23438,23440,23441,23442,23444,23446,23455,23463,23464,23465,23468,23469,23470,23471,23473,23474,23479,23482,23483,23484,23488,23489,23491,23496,23497,23498,23499,23501,23502,23503,63,23505,23508,23509,23510,23511,23512,23513,23514,23515,23516,23520,23522,23523,23526,23527,23529,23530,23531,23532,23533,23535,23537,23538,23539,23540,23541,23542,23543,23549,23550,23552,23554,23555,23557,23559,23560,23563,23564,23565,23566,23568,23570,23571,23575,23577,23579,23582,23583,23584,23585,23587,23590,23592,23593,23594,23595,23597,23598,23599,23600,23602,23603,23605,23606,23607,23619,23620,23622,23623,23628,23629,23634,23635,23636,23638,23639,23640,23642,23643,23644,23645,23647,23650,23652,23655,23656,23657,23658,23659,23660,23661,23664,23666,23667,23668,23669,23670,23671,23672,23675,23676,23677,23678,23680,23683,23684,23685,23686,23687,23689,23690,23691,23694,23695,23698,23699,23701,23709,23710,23711,23712,23713,23716,23717,23718,23719,23720],[23722,23726,23727,23728,23730,23732,23734,23737,23738,23739,23740,23742,23744,23746,23747,23749,23750,23751,23752,23753,23754,23756,23757,23758,23759,23760,23761,23763,23764,23765,23766,23767,23768,23770,23771,23772,23773,23774,23775,23776,23778,23779,23783,23785,23787,23788,23790,23791,23793,23794,23795,23796,23797,23798,23799,23800,23801,23802,23804,23805,23806,23807,23808,63,23809,23812,23813,23816,23817,23818,23819,23820,23821,23823,23824,23825,23826,23827,23829,23831,23832,23833,23834,23836,23837,23839,23840,23841,23842,23843,23845,23848,23850,23851,23852,23855,23856,23857,23858,23859,23861,23862,23863,23864,23865,23866,23867,23868,23871,23872,23873,23874,23875,23876,23877,23878,23880,23881,23885,23886,23887,23888,23889,23890,23891,23892,23893,23894,23895,23897,23898,23900,23902,23903,23904,23905,23906,23907,23908,23909,23910,23911,23912,23914,23917,23918,23920,23921,23922,23923,23925,23926,23927,23928,23929,23930,23931,23932,23933,23934,23935,23936,23937,23939,23940,23941,23942,23943,23944,23945,23946,23947,23948,23949,23950,23951,23952,23953,23954,23955,23956,23957,23958,23959,23960,23962,23963,23964,23966,23967,23968],[23969,23970,23971,23972,23973,23974,23975,23976,23977,23978,23979,23980,23981,23982,23983,23984,23985,23986,23987,23988,23989,23990,23992,23993,23994,23995,23996,23997,23998,23999,24e3,24001,24002,24003,24004,24006,24007,24008,24009,24010,24011,24012,24014,24015,24016,24017,24018,24019,24020,24021,24022,24023,24024,24025,24026,24028,24031,24032,24035,24036,24042,24044,24045,63,24048,24053,24054,24056,24057,24058,24059,24060,24063,24064,24068,24071,24073,24074,24075,24077,24078,24082,24083,24087,24094,24095,24096,24097,24098,24099,24100,24101,24104,24105,24106,24107,24108,24111,24112,24114,24115,24116,24117,24118,24121,24122,24126,24127,24128,24129,24131,24134,24135,24136,24137,24138,24139,24141,24142,24143,24144,24145,24146,24147,24150,24151,24152,24153,24154,24156,24157,24159,24160,24163,24164,24165,24166,24167,24168,24169,24170,24171,24172,24173,24174,24175,24176,24177,24181,24183,24185,24190,24193,24194,24195,24197,24200,24201,24204,24205,24206,24210,24216,24219,24221,24225,24226,24227,24228,24232,24233,24234,24235,24236,24238,24239,24240,24241,24242,24244,24250,24251,24252,24253,24255,24256,24257,24258,24259,24260,24261],[24262,24263,24264,24267,24268,24269,24270,24271,24272,24276,24277,24279,24280,24281,24282,24284,24285,24286,24287,24288,24289,24290,24291,24292,24293,24294,24295,24297,24299,24300,24301,24302,24303,24304,24305,24306,24307,24309,24312,24313,24315,24316,24317,24325,24326,24327,24329,24332,24333,24334,24336,24338,24340,24342,24345,24346,24348,24349,24350,24353,24354,24355,24356,63,24360,24363,24364,24366,24368,24370,24371,24372,24373,24374,24375,24376,24379,24381,24382,24383,24385,24386,24387,24388,24389,24390,24391,24392,24393,24394,24395,24396,24397,24398,24399,24401,24404,24409,24410,24411,24412,24414,24415,24416,24419,24421,24423,24424,24427,24430,24431,24434,24436,24437,24438,24440,24442,24445,24446,24447,24451,24454,24461,24462,24463,24465,24467,24468,24470,24474,24475,24477,24478,24479,24480,24482,24483,24484,24485,24486,24487,24489,24491,24492,24495,24496,24497,24498,24499,24500,24502,24504,24505,24506,24507,24510,24511,24512,24513,24514,24519,24520,24522,24523,24526,24531,24532,24533,24538,24539,24540,24542,24543,24546,24547,24549,24550,24552,24553,24556,24559,24560,24562,24563,24564,24566,24567,24569,24570,24572,24583],[24584,24585,24587,24588,24592,24593,24595,24599,24600,24602,24606,24607,24610,24611,24612,24620,24621,24622,24624,24625,24626,24627,24628,24630,24631,24632,24633,24634,24637,24638,24640,24644,24645,24646,24647,24648,24649,24650,24652,24654,24655,24657,24659,24660,24662,24663,24664,24667,24668,24670,24671,24672,24673,24677,24678,24686,24689,24690,24692,24693,24695,24702,24704,63,24705,24706,24709,24710,24711,24712,24714,24715,24718,24719,24720,24721,24723,24725,24727,24728,24729,24732,24734,24737,24738,24740,24741,24743,24745,24746,24750,24752,24755,24757,24758,24759,24761,24762,24765,24766,24767,24768,24769,24770,24771,24772,24775,24776,24777,24780,24781,24782,24783,24784,24786,24787,24788,24790,24791,24793,24795,24798,24801,24802,24803,24804,24805,24810,24817,24818,24821,24823,24824,24827,24828,24829,24830,24831,24834,24835,24836,24837,24839,24842,24843,24844,24848,24849,24850,24851,24852,24854,24855,24856,24857,24859,24860,24861,24862,24865,24866,24869,24872,24873,24874,24876,24877,24878,24879,24880,24881,24882,24883,24884,24885,24886,24887,24888,24889,24890,24891,24892,24893,24894,24896,24897,24898,24899,24900,24901,24902],[24903,24905,24907,24909,24911,24912,24914,24915,24916,24918,24919,24920,24921,24922,24923,24924,24926,24927,24928,24929,24931,24932,24933,24934,24937,24938,24939,24940,24941,24942,24943,24945,24946,24947,24948,24950,24952,24953,24954,24955,24956,24957,24958,24959,24960,24961,24962,24963,24964,24965,24966,24967,24968,24969,24970,24972,24973,24975,24976,24977,24978,24979,24981,63,24982,24983,24984,24985,24986,24987,24988,24990,24991,24992,24993,24994,24995,24996,24997,24998,25002,25003,25005,25006,25007,25008,25009,25010,25011,25012,25013,25014,25016,25017,25018,25019,25020,25021,25023,25024,25025,25027,25028,25029,25030,25031,25033,25036,25037,25038,25039,25040,25043,25045,25046,25047,25048,25049,25050,25051,25052,25053,25054,25055,25056,25057,25058,25059,25060,25061,25063,25064,25065,25066,25067,25068,25069,25070,25071,25072,25073,25074,25075,25076,25078,25079,25080,25081,25082,25083,25084,25085,25086,25088,25089,25090,25091,25092,25093,25095,25097,25107,25108,25113,25116,25117,25118,25120,25123,25126,25127,25128,25129,25131,25133,25135,25136,25137,25138,25141,25142,25144,25145,25146,25147,25148,25154,25156,25157,25158,25162],[25167,25168,25173,25174,25175,25177,25178,25180,25181,25182,25183,25184,25185,25186,25188,25189,25192,25201,25202,25204,25205,25207,25208,25210,25211,25213,25217,25218,25219,25221,25222,25223,25224,25227,25228,25229,25230,25231,25232,25236,25241,25244,25245,25246,25251,25254,25255,25257,25258,25261,25262,25263,25264,25266,25267,25268,25270,25271,25272,25274,25278,25280,25281,63,25283,25291,25295,25297,25301,25309,25310,25312,25313,25316,25322,25323,25328,25330,25333,25336,25337,25338,25339,25344,25347,25348,25349,25350,25354,25355,25356,25357,25359,25360,25362,25363,25364,25365,25367,25368,25369,25372,25382,25383,25385,25388,25389,25390,25392,25393,25395,25396,25397,25398,25399,25400,25403,25404,25406,25407,25408,25409,25412,25415,25416,25418,25425,25426,25427,25428,25430,25431,25432,25433,25434,25435,25436,25437,25440,25444,25445,25446,25448,25450,25451,25452,25455,25456,25458,25459,25460,25461,25464,25465,25468,25469,25470,25471,25473,25475,25476,25477,25478,25483,25485,25489,25491,25492,25493,25495,25497,25498,25499,25500,25501,25502,25503,25505,25508,25510,25515,25519,25521,25522,25525,25526,25529,25531,25533,25535,25536],[25537,25538,25539,25541,25543,25544,25546,25547,25548,25553,25555,25556,25557,25559,25560,25561,25562,25563,25564,25565,25567,25570,25572,25573,25574,25575,25576,25579,25580,25582,25583,25584,25585,25587,25589,25591,25593,25594,25595,25596,25598,25603,25604,25606,25607,25608,25609,25610,25613,25614,25617,25618,25621,25622,25623,25624,25625,25626,25629,25631,25634,25635,25636,63,25637,25639,25640,25641,25643,25646,25647,25648,25649,25650,25651,25653,25654,25655,25656,25657,25659,25660,25662,25664,25666,25667,25673,25675,25676,25677,25678,25679,25680,25681,25683,25685,25686,25687,25689,25690,25691,25692,25693,25695,25696,25697,25698,25699,25700,25701,25702,25704,25706,25707,25708,25710,25711,25712,25713,25714,25715,25716,25717,25718,25719,25723,25724,25725,25726,25727,25728,25729,25731,25734,25736,25737,25738,25739,25740,25741,25742,25743,25744,25747,25748,25751,25752,25754,25755,25756,25757,25759,25760,25761,25762,25763,25765,25766,25767,25768,25770,25771,25775,25777,25778,25779,25780,25782,25785,25787,25789,25790,25791,25793,25795,25796,25798,25799,25800,25801,25802,25803,25804,25807,25809,25811,25812,25813,25814,25817,25818],[25819,25820,25821,25823,25824,25825,25827,25829,25831,25832,25833,25834,25835,25836,25837,25838,25839,25840,25841,25842,25843,25844,25845,25846,25847,25848,25849,25850,25851,25852,25853,25854,25855,25857,25858,25859,25860,25861,25862,25863,25864,25866,25867,25868,25869,25870,25871,25872,25873,25875,25876,25877,25878,25879,25881,25882,25883,25884,25885,25886,25887,25888,25889,63,25890,25891,25892,25894,25895,25896,25897,25898,25900,25901,25904,25905,25906,25907,25911,25914,25916,25917,25920,25921,25922,25923,25924,25926,25927,25930,25931,25933,25934,25936,25938,25939,25940,25943,25944,25946,25948,25951,25952,25953,25956,25957,25959,25960,25961,25962,25965,25966,25967,25969,25971,25973,25974,25976,25977,25978,25979,25980,25981,25982,25983,25984,25985,25986,25987,25988,25989,25990,25992,25993,25994,25997,25998,25999,26002,26004,26005,26006,26008,26010,26013,26014,26016,26018,26019,26022,26024,26026,26028,26030,26033,26034,26035,26036,26037,26038,26039,26040,26042,26043,26046,26047,26048,26050,26055,26056,26057,26058,26061,26064,26065,26067,26068,26069,26072,26073,26074,26075,26076,26077,26078,26079,26081,26083,26084,26090,26091],[26098,26099,26100,26101,26104,26105,26107,26108,26109,26110,26111,26113,26116,26117,26119,26120,26121,26123,26125,26128,26129,26130,26134,26135,26136,26138,26139,26140,26142,26145,26146,26147,26148,26150,26153,26154,26155,26156,26158,26160,26162,26163,26167,26168,26169,26170,26171,26173,26175,26176,26178,26180,26181,26182,26183,26184,26185,26186,26189,26190,26192,26193,26200,63,26201,26203,26204,26205,26206,26208,26210,26211,26213,26215,26217,26218,26219,26220,26221,26225,26226,26227,26229,26232,26233,26235,26236,26237,26239,26240,26241,26243,26245,26246,26248,26249,26250,26251,26253,26254,26255,26256,26258,26259,26260,26261,26264,26265,26266,26267,26268,26270,26271,26272,26273,26274,26275,26276,26277,26278,26281,26282,26283,26284,26285,26287,26288,26289,26290,26291,26293,26294,26295,26296,26298,26299,26300,26301,26303,26304,26305,26306,26307,26308,26309,26310,26311,26312,26313,26314,26315,26316,26317,26318,26319,26320,26321,26322,26323,26324,26325,26326,26327,26328,26330,26334,26335,26336,26337,26338,26339,26340,26341,26343,26344,26346,26347,26348,26349,26350,26351,26353,26357,26358,26360,26362,26363,26365,26369,26370,26371],[26372,26373,26374,26375,26380,26382,26383,26385,26386,26387,26390,26392,26393,26394,26396,26398,26400,26401,26402,26403,26404,26405,26407,26409,26414,26416,26418,26419,26422,26423,26424,26425,26427,26428,26430,26431,26433,26436,26437,26439,26442,26443,26445,26450,26452,26453,26455,26456,26457,26458,26459,26461,26466,26467,26468,26470,26471,26475,26476,26478,26481,26484,26486,63,26488,26489,26490,26491,26493,26496,26498,26499,26501,26502,26504,26506,26508,26509,26510,26511,26513,26514,26515,26516,26518,26521,26523,26527,26528,26529,26532,26534,26537,26540,26542,26545,26546,26548,26553,26554,26555,26556,26557,26558,26559,26560,26562,26565,26566,26567,26568,26569,26570,26571,26572,26573,26574,26581,26582,26583,26587,26591,26593,26595,26596,26598,26599,26600,26602,26603,26605,26606,26610,26613,26614,26615,26616,26617,26618,26619,26620,26622,26625,26626,26627,26628,26630,26637,26640,26642,26644,26645,26648,26649,26650,26651,26652,26654,26655,26656,26658,26659,26660,26661,26662,26663,26664,26667,26668,26669,26670,26671,26672,26673,26676,26677,26678,26682,26683,26687,26695,26699,26701,26703,26706,26710,26711,26712,26713,26714,26715],[26716,26717,26718,26719,26730,26732,26733,26734,26735,26736,26737,26738,26739,26741,26744,26745,26746,26747,26748,26749,26750,26751,26752,26754,26756,26759,26760,26761,26762,26763,26764,26765,26766,26768,26769,26770,26772,26773,26774,26776,26777,26778,26779,26780,26781,26782,26783,26784,26785,26787,26788,26789,26793,26794,26795,26796,26798,26801,26802,26804,26806,26807,26808,63,26809,26810,26811,26812,26813,26814,26815,26817,26819,26820,26821,26822,26823,26824,26826,26828,26830,26831,26832,26833,26835,26836,26838,26839,26841,26843,26844,26845,26846,26847,26849,26850,26852,26853,26854,26855,26856,26857,26858,26859,26860,26861,26863,26866,26867,26868,26870,26871,26872,26875,26877,26878,26879,26880,26882,26883,26884,26886,26887,26888,26889,26890,26892,26895,26897,26899,26900,26901,26902,26903,26904,26905,26906,26907,26908,26909,26910,26913,26914,26915,26917,26918,26919,26920,26921,26922,26923,26924,26926,26927,26929,26930,26931,26933,26934,26935,26936,26938,26939,26940,26942,26944,26945,26947,26948,26949,26950,26951,26952,26953,26954,26955,26956,26957,26958,26959,26960,26961,26962,26963,26965,26966,26968,26969,26971,26972,26975],[26977,26978,26980,26981,26983,26984,26985,26986,26988,26989,26991,26992,26994,26995,26996,26997,26998,27002,27003,27005,27006,27007,27009,27011,27013,27018,27019,27020,27022,27023,27024,27025,27026,27027,27030,27031,27033,27034,27037,27038,27039,27040,27041,27042,27043,27044,27045,27046,27049,27050,27052,27054,27055,27056,27058,27059,27061,27062,27064,27065,27066,27068,27069,63,27070,27071,27072,27074,27075,27076,27077,27078,27079,27080,27081,27083,27085,27087,27089,27090,27091,27093,27094,27095,27096,27097,27098,27100,27101,27102,27105,27106,27107,27108,27109,27110,27111,27112,27113,27114,27115,27116,27118,27119,27120,27121,27123,27124,27125,27126,27127,27128,27129,27130,27131,27132,27134,27136,27137,27138,27139,27140,27141,27142,27143,27144,27145,27147,27148,27149,27150,27151,27152,27153,27154,27155,27156,27157,27158,27161,27162,27163,27164,27165,27166,27168,27170,27171,27172,27173,27174,27175,27177,27179,27180,27181,27182,27184,27186,27187,27188,27190,27191,27192,27193,27194,27195,27196,27199,27200,27201,27202,27203,27205,27206,27208,27209,27210,27211,27212,27213,27214,27215,27217,27218,27219,27220,27221,27222,27223,27226],[27228,27229,27230,27231,27232,27234,27235,27236,27238,27239,27240,27241,27242,27243,27244,27245,27246,27247,27248,27250,27251,27252,27253,27254,27255,27256,27258,27259,27261,27262,27263,27265,27266,27267,27269,27270,27271,27272,27273,27274,27275,27276,27277,27279,27282,27283,27284,27285,27286,27288,27289,27290,27291,27292,27293,27294,27295,27297,27298,27299,27300,27301,27302,63,27303,27304,27306,27309,27310,27311,27312,27313,27314,27315,27316,27317,27318,27319,27320,27321,27322,27323,27324,27325,27326,27327,27328,27329,27330,27331,27332,27333,27334,27335,27336,27337,27338,27339,27340,27341,27342,27343,27344,27345,27346,27347,27348,27349,27350,27351,27352,27353,27354,27355,27356,27357,27358,27359,27360,27361,27362,27363,27364,27365,27366,27367,27368,27369,27370,27371,27372,27373,27374,27375,27376,27377,27378,27379,27380,27381,27382,27383,27384,27385,27386,27387,27388,27389,27390,27391,27392,27393,27394,27395,27396,27397,27398,27399,27400,27401,27402,27403,27404,27405,27406,27407,27408,27409,27410,27411,27412,27413,27414,27415,27416,27417,27418,27419,27420,27421,27422,27423,27429,27430,27432,27433,27434,27435,27436,27437,27438],[27439,27440,27441,27443,27444,27445,27446,27448,27451,27452,27453,27455,27456,27457,27458,27460,27461,27464,27466,27467,27469,27470,27471,27472,27473,27474,27475,27476,27477,27478,27479,27480,27482,27483,27484,27485,27486,27487,27488,27489,27496,27497,27499,27500,27501,27502,27503,27504,27505,27506,27507,27508,27509,27510,27511,27512,27514,27517,27518,27519,27520,27525,27528,63,27532,27534,27535,27536,27537,27540,27541,27543,27544,27545,27548,27549,27550,27551,27552,27554,27555,27556,27557,27558,27559,27560,27561,27563,27564,27565,27566,27567,27568,27569,27570,27574,27576,27577,27578,27579,27580,27581,27582,27584,27587,27588,27590,27591,27592,27593,27594,27596,27598,27600,27601,27608,27610,27612,27613,27614,27615,27616,27618,27619,27620,27621,27622,27623,27624,27625,27628,27629,27630,27632,27633,27634,27636,27638,27639,27640,27642,27643,27644,27646,27647,27648,27649,27650,27651,27652,27656,27657,27658,27659,27660,27662,27666,27671,27676,27677,27678,27680,27683,27685,27691,27692,27693,27697,27699,27702,27703,27705,27706,27707,27708,27710,27711,27715,27716,27717,27720,27723,27724,27725,27726,27727,27729,27730,27731,27734,27736],[27737,27738,27746,27747,27749,27750,27751,27755,27756,27757,27758,27759,27761,27763,27765,27767,27768,27770,27771,27772,27775,27776,27780,27783,27786,27787,27789,27790,27793,27794,27797,27798,27799,27800,27802,27804,27805,27806,27808,27810,27816,27820,27823,27824,27828,27829,27830,27831,27834,27840,27841,27842,27843,27846,27847,27848,27851,27853,27854,27855,27857,27858,27864,63,27865,27866,27868,27869,27871,27876,27878,27879,27881,27884,27885,27890,27892,27897,27903,27904,27906,27907,27909,27910,27912,27913,27914,27917,27919,27920,27921,27923,27924,27925,27926,27928,27932,27933,27935,27936,27937,27938,27939,27940,27942,27944,27945,27948,27949,27951,27952,27956,27958,27959,27960,27962,27967,27968,27970,27972,27977,27980,27984,27989,27990,27991,27992,27995,27997,27999,28001,28002,28004,28005,28007,28008,28011,28012,28013,28016,28017,28018,28019,28021,28022,28025,28026,28027,28029,28030,28031,28032,28033,28035,28036,28038,28039,28042,28043,28045,28047,28048,28050,28054,28055,28056,28057,28058,28060,28066,28069,28076,28077,28080,28081,28083,28084,28086,28087,28089,28090,28091,28092,28093,28094,28097,28098,28099,28104,28105,28106],[28109,28110,28111,28112,28114,28115,28116,28117,28119,28122,28123,28124,28127,28130,28131,28133,28135,28136,28137,28138,28141,28143,28144,28146,28148,28149,28150,28152,28154,28157,28158,28159,28160,28161,28162,28163,28164,28166,28167,28168,28169,28171,28175,28178,28179,28181,28184,28185,28187,28188,28190,28191,28194,28198,28199,28200,28202,28204,28206,28208,28209,28211,28213,63,28214,28215,28217,28219,28220,28221,28222,28223,28224,28225,28226,28229,28230,28231,28232,28233,28234,28235,28236,28239,28240,28241,28242,28245,28247,28249,28250,28252,28253,28254,28256,28257,28258,28259,28260,28261,28262,28263,28264,28265,28266,28268,28269,28271,28272,28273,28274,28275,28276,28277,28278,28279,28280,28281,28282,28283,28284,28285,28288,28289,28290,28292,28295,28296,28298,28299,28300,28301,28302,28305,28306,28307,28308,28309,28310,28311,28313,28314,28315,28317,28318,28320,28321,28323,28324,28326,28328,28329,28331,28332,28333,28334,28336,28339,28341,28344,28345,28348,28350,28351,28352,28355,28356,28357,28358,28360,28361,28362,28364,28365,28366,28368,28370,28374,28376,28377,28379,28380,28381,28387,28391,28394,28395,28396,28397,28398,28399],[28400,28401,28402,28403,28405,28406,28407,28408,28410,28411,28412,28413,28414,28415,28416,28417,28419,28420,28421,28423,28424,28426,28427,28428,28429,28430,28432,28433,28434,28438,28439,28440,28441,28442,28443,28444,28445,28446,28447,28449,28450,28451,28453,28454,28455,28456,28460,28462,28464,28466,28468,28469,28471,28472,28473,28474,28475,28476,28477,28479,28480,28481,28482,63,28483,28484,28485,28488,28489,28490,28492,28494,28495,28496,28497,28498,28499,28500,28501,28502,28503,28505,28506,28507,28509,28511,28512,28513,28515,28516,28517,28519,28520,28521,28522,28523,28524,28527,28528,28529,28531,28533,28534,28535,28537,28539,28541,28542,28543,28544,28545,28546,28547,28549,28550,28551,28554,28555,28559,28560,28561,28562,28563,28564,28565,28566,28567,28568,28569,28570,28571,28573,28574,28575,28576,28578,28579,28580,28581,28582,28584,28585,28586,28587,28588,28589,28590,28591,28592,28593,28594,28596,28597,28599,28600,28602,28603,28604,28605,28606,28607,28609,28611,28612,28613,28614,28615,28616,28618,28619,28620,28621,28622,28623,28624,28627,28628,28629,28630,28631,28632,28633,28634,28635,28636,28637,28639,28642,28643,28644,28645],[28646,28647,28648,28649,28650,28651,28652,28653,28656,28657,28658,28659,28660,28661,28662,28663,28664,28665,28666,28667,28668,28669,28670,28671,28672,28673,28674,28675,28676,28677,28678,28679,28680,28681,28682,28683,28684,28685,28686,28687,28688,28690,28691,28692,28693,28694,28695,28696,28697,28700,28701,28702,28703,28704,28705,28706,28708,28709,28710,28711,28712,28713,28714,63,28715,28716,28717,28718,28719,28720,28721,28722,28723,28724,28726,28727,28728,28730,28731,28732,28733,28734,28735,28736,28737,28738,28739,28740,28741,28742,28743,28744,28745,28746,28747,28749,28750,28752,28753,28754,28755,28756,28757,28758,28759,28760,28761,28762,28763,28764,28765,28767,28768,28769,28770,28771,28772,28773,28774,28775,28776,28777,28778,28782,28785,28786,28787,28788,28791,28793,28794,28795,28797,28801,28802,28803,28804,28806,28807,28808,28811,28812,28813,28815,28816,28817,28819,28823,28824,28826,28827,28830,28831,28832,28833,28834,28835,28836,28837,28838,28839,28840,28841,28842,28848,28850,28852,28853,28854,28858,28862,28863,28868,28869,28870,28871,28873,28875,28876,28877,28878,28879,28880,28881,28882,28883,28884,28885,28886,28887,28890],[28892,28893,28894,28896,28897,28898,28899,28901,28906,28910,28912,28913,28914,28915,28916,28917,28918,28920,28922,28923,28924,28926,28927,28928,28929,28930,28931,28932,28933,28934,28935,28936,28939,28940,28941,28942,28943,28945,28946,28948,28951,28955,28956,28957,28958,28959,28960,28961,28962,28963,28964,28965,28967,28968,28969,28970,28971,28972,28973,28974,28978,28979,28980,63,28981,28983,28984,28985,28986,28987,28988,28989,28990,28991,28992,28993,28994,28995,28996,28998,28999,29e3,29001,29003,29005,29007,29008,29009,29010,29011,29012,29013,29014,29015,29016,29017,29018,29019,29021,29023,29024,29025,29026,29027,29029,29033,29034,29035,29036,29037,29039,29040,29041,29044,29045,29046,29047,29049,29051,29052,29054,29055,29056,29057,29058,29059,29061,29062,29063,29064,29065,29067,29068,29069,29070,29072,29073,29074,29075,29077,29078,29079,29082,29083,29084,29085,29086,29089,29090,29091,29092,29093,29094,29095,29097,29098,29099,29101,29102,29103,29104,29105,29106,29108,29110,29111,29112,29114,29115,29116,29117,29118,29119,29120,29121,29122,29124,29125,29126,29127,29128,29129,29130,29131,29132,29133,29135,29136,29137,29138,29139],[29142,29143,29144,29145,29146,29147,29148,29149,29150,29151,29153,29154,29155,29156,29158,29160,29161,29162,29163,29164,29165,29167,29168,29169,29170,29171,29172,29173,29174,29175,29176,29178,29179,29180,29181,29182,29183,29184,29185,29186,29187,29188,29189,29191,29192,29193,29194,29195,29196,29197,29198,29199,29200,29201,29202,29203,29204,29205,29206,29207,29208,29209,29210,63,29211,29212,29214,29215,29216,29217,29218,29219,29220,29221,29222,29223,29225,29227,29229,29230,29231,29234,29235,29236,29242,29244,29246,29248,29249,29250,29251,29252,29253,29254,29257,29258,29259,29262,29263,29264,29265,29267,29268,29269,29271,29272,29274,29276,29278,29280,29283,29284,29285,29288,29290,29291,29292,29293,29296,29297,29299,29300,29302,29303,29304,29307,29308,29309,29314,29315,29317,29318,29319,29320,29321,29324,29326,29328,29329,29331,29332,29333,29334,29335,29336,29337,29338,29339,29340,29341,29342,29344,29345,29346,29347,29348,29349,29350,29351,29352,29353,29354,29355,29358,29361,29362,29363,29365,29370,29371,29372,29373,29374,29375,29376,29381,29382,29383,29385,29386,29387,29388,29391,29393,29395,29396,29397,29398,29400,29402,29403],[58566,58567,58568,58569,58570,58571,58572,58573,58574,58575,58576,58577,58578,58579,58580,58581,58582,58583,58584,58585,58586,58587,58588,58589,58590,58591,58592,58593,58594,58595,58596,58597,58598,58599,58600,58601,58602,58603,58604,58605,58606,58607,58608,58609,58610,58611,58612,58613,58614,58615,58616,58617,58618,58619,58620,58621,58622,58623,58624,58625,58626,58627,58628,63,58629,58630,58631,58632,58633,58634,58635,58636,58637,58638,58639,58640,58641,58642,58643,58644,58645,58646,58647,58648,58649,58650,58651,58652,58653,58654,58655,58656,58657,58658,58659,58660,58661,12288,12289,12290,183,713,711,168,12291,12293,8212,65374,8214,8230,8216,8217,8220,8221,12308,12309,12296,12297,12298,12299,12300,12301,12302,12303,12310,12311,12304,12305,177,215,247,8758,8743,8744,8721,8719,8746,8745,8712,8759,8730,8869,8741,8736,8978,8857,8747,8750,8801,8780,8776,8765,8733,8800,8814,8815,8804,8805,8734,8757,8756,9794,9792,176,8242,8243,8451,65284,164,65504,65505,8240,167,8470,9734,9733,9675,9679,9678,9671,9670,9633,9632,9651,9650,8251,8594,8592,8593,8595,12307],[58662,58663,58664,58665,58666,58667,58668,58669,58670,58671,58672,58673,58674,58675,58676,58677,58678,58679,58680,58681,58682,58683,58684,58685,58686,58687,58688,58689,58690,58691,58692,58693,58694,58695,58696,58697,58698,58699,58700,58701,58702,58703,58704,58705,58706,58707,58708,58709,58710,58711,58712,58713,58714,58715,58716,58717,58718,58719,58720,58721,58722,58723,58724,63,58725,58726,58727,58728,58729,58730,58731,58732,58733,58734,58735,58736,58737,58738,58739,58740,58741,58742,58743,58744,58745,58746,58747,58748,58749,58750,58751,58752,58753,58754,58755,58756,58757,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,59238,59239,59240,59241,59242,59243,9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,59244,59245,12832,12833,12834,12835,12836,12837,12838,12839,12840,12841,59246,59247,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,59248,59249],[58758,58759,58760,58761,58762,58763,58764,58765,58766,58767,58768,58769,58770,58771,58772,58773,58774,58775,58776,58777,58778,58779,58780,58781,58782,58783,58784,58785,58786,58787,58788,58789,58790,58791,58792,58793,58794,58795,58796,58797,58798,58799,58800,58801,58802,58803,58804,58805,58806,58807,58808,58809,58810,58811,58812,58813,58814,58815,58816,58817,58818,58819,58820,63,58821,58822,58823,58824,58825,58826,58827,58828,58829,58830,58831,58832,58833,58834,58835,58836,58837,58838,58839,58840,58841,58842,58843,58844,58845,58846,58847,58848,58849,58850,58851,58852,58853,65281,65282,65283,65509,65285,65286,65287,65288,65289,65290,65291,65292,65293,65294,65295,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65306,65307,65308,65309,65310,65311,65312,65313,65314,65315,65316,65317,65318,65319,65320,65321,65322,65323,65324,65325,65326,65327,65328,65329,65330,65331,65332,65333,65334,65335,65336,65337,65338,65339,65340,65341,65342,65343,65344,65345,65346,65347,65348,65349,65350,65351,65352,65353,65354,65355,65356,65357,65358,65359,65360,65361,65362,65363,65364,65365,65366,65367,65368,65369,65370,65371,65372,65373,65507],[58854,58855,58856,58857,58858,58859,58860,58861,58862,58863,58864,58865,58866,58867,58868,58869,58870,58871,58872,58873,58874,58875,58876,58877,58878,58879,58880,58881,58882,58883,58884,58885,58886,58887,58888,58889,58890,58891,58892,58893,58894,58895,58896,58897,58898,58899,58900,58901,58902,58903,58904,58905,58906,58907,58908,58909,58910,58911,58912,58913,58914,58915,58916,63,58917,58918,58919,58920,58921,58922,58923,58924,58925,58926,58927,58928,58929,58930,58931,58932,58933,58934,58935,58936,58937,58938,58939,58940,58941,58942,58943,58944,58945,58946,58947,58948,58949,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,59250,59251,59252,59253,59254,59255,59256,59257,59258,59259,59260],[58950,58951,58952,58953,58954,58955,58956,58957,58958,58959,58960,58961,58962,58963,58964,58965,58966,58967,58968,58969,58970,58971,58972,58973,58974,58975,58976,58977,58978,58979,58980,58981,58982,58983,58984,58985,58986,58987,58988,58989,58990,58991,58992,58993,58994,58995,58996,58997,58998,58999,59e3,59001,59002,59003,59004,59005,59006,59007,59008,59009,59010,59011,59012,63,59013,59014,59015,59016,59017,59018,59019,59020,59021,59022,59023,59024,59025,59026,59027,59028,59029,59030,59031,59032,59033,59034,59035,59036,59037,59038,59039,59040,59041,59042,59043,59044,59045,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,59261,59262,59263,59264,59265,59266,59267,59268],[59046,59047,59048,59049,59050,59051,59052,59053,59054,59055,59056,59057,59058,59059,59060,59061,59062,59063,59064,59065,59066,59067,59068,59069,59070,59071,59072,59073,59074,59075,59076,59077,59078,59079,59080,59081,59082,59083,59084,59085,59086,59087,59088,59089,59090,59091,59092,59093,59094,59095,59096,59097,59098,59099,59100,59101,59102,59103,59104,59105,59106,59107,59108,63,59109,59110,59111,59112,59113,59114,59115,59116,59117,59118,59119,59120,59121,59122,59123,59124,59125,59126,59127,59128,59129,59130,59131,59132,59133,59134,59135,59136,59137,59138,59139,59140,59141,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,59269,59270,59271,59272,59273,59274,59275,59276,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,59277,59278,59279,59280,59281,59282,59283,65077,65078,65081,65082,65087,65088,65085,65086,65089,65090,65091,65092,59284,59285,65083,65084,65079,65080,65073,59286,65075,65076,59287,59288,59289,59290,59291,59292,59293,59294,59295],[59142,59143,59144,59145,59146,59147,59148,59149,59150,59151,59152,59153,59154,59155,59156,59157,59158,59159,59160,59161,59162,59163,59164,59165,59166,59167,59168,59169,59170,59171,59172,59173,59174,59175,59176,59177,59178,59179,59180,59181,59182,59183,59184,59185,59186,59187,59188,59189,59190,59191,59192,59193,59194,59195,59196,59197,59198,59199,59200,59201,59202,59203,59204,63,59205,59206,59207,59208,59209,59210,59211,59212,59213,59214,59215,59216,59217,59218,59219,59220,59221,59222,59223,59224,59225,59226,59227,59228,59229,59230,59231,59232,59233,59234,59235,59236,59237,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,59296,59297,59298,59299,59300,59301,59302,59303,59304,59305,59306,59307,59308,59309,59310,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,59311,59312,59313,59314,59315,59316,59317,59318,59319,59320,59321,59322,59323],[714,715,729,8211,8213,8229,8245,8453,8457,8598,8599,8600,8601,8725,8735,8739,8786,8806,8807,8895,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9581,9582,9583,9584,9585,9586,9587,9601,9602,9603,9604,9605,9606,9607,63,9608,9609,9610,9611,9612,9613,9614,9615,9619,9620,9621,9660,9661,9698,9699,9700,9701,9737,8853,12306,12317,12318,59324,59325,59326,59327,59328,59329,59330,59331,59332,59333,59334,257,225,462,224,275,233,283,232,299,237,464,236,333,243,466,242,363,250,468,249,470,472,474,476,252,234,593,59335,324,328,59336,609,59337,59338,59339,59340,12549,12550,12551,12552,12553,12554,12555,12556,12557,12558,12559,12560,12561,12562,12563,12564,12565,12566,12567,12568,12569,12570,12571,12572,12573,12574,12575,12576,12577,12578,12579,12580,12581,12582,12583,12584,12585,59341,59342,59343,59344,59345,59346,59347,59348,59349,59350,59351,59352,59353,59354,59355,59356,59357,59358,59359,59360,59361],[12321,12322,12323,12324,12325,12326,12327,12328,12329,12963,13198,13199,13212,13213,13214,13217,13252,13262,13265,13266,13269,65072,65506,65508,59362,8481,12849,59363,8208,59364,59365,59366,12540,12443,12444,12541,12542,12294,12445,12446,65097,65098,65099,65100,65101,65102,65103,65104,65105,65106,65108,65109,65110,65111,65113,65114,65115,65116,65117,65118,65119,65120,65121,63,65122,65123,65124,65125,65126,65128,65129,65130,65131,59367,59368,59369,59370,59371,59372,59373,59374,59375,59376,59377,59378,59379,12295,59380,59381,59382,59383,59384,59385,59386,59387,59388,59389,59390,59391,59392,9472,9473,9474,9475,9476,9477,9478,9479,9480,9481,9482,9483,9484,9485,9486,9487,9488,9489,9490,9491,9492,9493,9494,9495,9496,9497,9498,9499,9500,9501,9502,9503,9504,9505,9506,9507,9508,9509,9510,9511,9512,9513,9514,9515,9516,9517,9518,9519,9520,9521,9522,9523,9524,9525,9526,9527,9528,9529,9530,9531,9532,9533,9534,9535,9536,9537,9538,9539,9540,9541,9542,9543,9544,9545,9546,9547,59393,59394,59395,59396,59397,59398,59399,59400,59401,59402,59403,59404,59405,59406,59407],[29404,29405,29407,29410,29411,29412,29413,29414,29415,29418,29419,29429,29430,29433,29437,29438,29439,29440,29442,29444,29445,29446,29447,29448,29449,29451,29452,29453,29455,29456,29457,29458,29460,29464,29465,29466,29471,29472,29475,29476,29478,29479,29480,29485,29487,29488,29490,29491,29493,29494,29498,29499,29500,29501,29504,29505,29506,29507,29508,29509,29510,29511,29512,63,29513,29514,29515,29516,29518,29519,29521,29523,29524,29525,29526,29528,29529,29530,29531,29532,29533,29534,29535,29537,29538,29539,29540,29541,29542,29543,29544,29545,29546,29547,29550,29552,29553,57344,57345,57346,57347,57348,57349,57350,57351,57352,57353,57354,57355,57356,57357,57358,57359,57360,57361,57362,57363,57364,57365,57366,57367,57368,57369,57370,57371,57372,57373,57374,57375,57376,57377,57378,57379,57380,57381,57382,57383,57384,57385,57386,57387,57388,57389,57390,57391,57392,57393,57394,57395,57396,57397,57398,57399,57400,57401,57402,57403,57404,57405,57406,57407,57408,57409,57410,57411,57412,57413,57414,57415,57416,57417,57418,57419,57420,57421,57422,57423,57424,57425,57426,57427,57428,57429,57430,57431,57432,57433,57434,57435,57436,57437],[29554,29555,29556,29557,29558,29559,29560,29561,29562,29563,29564,29565,29567,29568,29569,29570,29571,29573,29574,29576,29578,29580,29581,29583,29584,29586,29587,29588,29589,29591,29592,29593,29594,29596,29597,29598,29600,29601,29603,29604,29605,29606,29607,29608,29610,29612,29613,29617,29620,29621,29622,29624,29625,29628,29629,29630,29631,29633,29635,29636,29637,29638,29639,63,29643,29644,29646,29650,29651,29652,29653,29654,29655,29656,29658,29659,29660,29661,29663,29665,29666,29667,29668,29670,29672,29674,29675,29676,29678,29679,29680,29681,29683,29684,29685,29686,29687,57438,57439,57440,57441,57442,57443,57444,57445,57446,57447,57448,57449,57450,57451,57452,57453,57454,57455,57456,57457,57458,57459,57460,57461,57462,57463,57464,57465,57466,57467,57468,57469,57470,57471,57472,57473,57474,57475,57476,57477,57478,57479,57480,57481,57482,57483,57484,57485,57486,57487,57488,57489,57490,57491,57492,57493,57494,57495,57496,57497,57498,57499,57500,57501,57502,57503,57504,57505,57506,57507,57508,57509,57510,57511,57512,57513,57514,57515,57516,57517,57518,57519,57520,57521,57522,57523,57524,57525,57526,57527,57528,57529,57530,57531],[29688,29689,29690,29691,29692,29693,29694,29695,29696,29697,29698,29700,29703,29704,29707,29708,29709,29710,29713,29714,29715,29716,29717,29718,29719,29720,29721,29724,29725,29726,29727,29728,29729,29731,29732,29735,29737,29739,29741,29743,29745,29746,29751,29752,29753,29754,29755,29757,29758,29759,29760,29762,29763,29764,29765,29766,29767,29768,29769,29770,29771,29772,29773,63,29774,29775,29776,29777,29778,29779,29780,29782,29784,29789,29792,29793,29794,29795,29796,29797,29798,29799,29800,29801,29802,29803,29804,29806,29807,29809,29810,29811,29812,29813,29816,29817,29818,57532,57533,57534,57535,57536,57537,57538,57539,57540,57541,57542,57543,57544,57545,57546,57547,57548,57549,57550,57551,57552,57553,57554,57555,57556,57557,57558,57559,57560,57561,57562,57563,57564,57565,57566,57567,57568,57569,57570,57571,57572,57573,57574,57575,57576,57577,57578,57579,57580,57581,57582,57583,57584,57585,57586,57587,57588,57589,57590,57591,57592,57593,57594,57595,57596,57597,57598,57599,57600,57601,57602,57603,57604,57605,57606,57607,57608,57609,57610,57611,57612,57613,57614,57615,57616,57617,57618,57619,57620,57621,57622,57623,57624,57625],[29819,29820,29821,29823,29826,29828,29829,29830,29832,29833,29834,29836,29837,29839,29841,29842,29843,29844,29845,29846,29847,29848,29849,29850,29851,29853,29855,29856,29857,29858,29859,29860,29861,29862,29866,29867,29868,29869,29870,29871,29872,29873,29874,29875,29876,29877,29878,29879,29880,29881,29883,29884,29885,29886,29887,29888,29889,29890,29891,29892,29893,29894,29895,63,29896,29897,29898,29899,29900,29901,29902,29903,29904,29905,29907,29908,29909,29910,29911,29912,29913,29914,29915,29917,29919,29921,29925,29927,29928,29929,29930,29931,29932,29933,29936,29937,29938,57626,57627,57628,57629,57630,57631,57632,57633,57634,57635,57636,57637,57638,57639,57640,57641,57642,57643,57644,57645,57646,57647,57648,57649,57650,57651,57652,57653,57654,57655,57656,57657,57658,57659,57660,57661,57662,57663,57664,57665,57666,57667,57668,57669,57670,57671,57672,57673,57674,57675,57676,57677,57678,57679,57680,57681,57682,57683,57684,57685,57686,57687,57688,57689,57690,57691,57692,57693,57694,57695,57696,57697,57698,57699,57700,57701,57702,57703,57704,57705,57706,57707,57708,57709,57710,57711,57712,57713,57714,57715,57716,57717,57718,57719],[29939,29941,29944,29945,29946,29947,29948,29949,29950,29952,29953,29954,29955,29957,29958,29959,29960,29961,29962,29963,29964,29966,29968,29970,29972,29973,29974,29975,29979,29981,29982,29984,29985,29986,29987,29988,29990,29991,29994,29998,30004,30006,30009,30012,30013,30015,30017,30018,30019,30020,30022,30023,30025,30026,30029,30032,30033,30034,30035,30037,30038,30039,30040,63,30045,30046,30047,30048,30049,30050,30051,30052,30055,30056,30057,30059,30060,30061,30062,30063,30064,30065,30067,30069,30070,30071,30074,30075,30076,30077,30078,30080,30081,30082,30084,30085,30087,57720,57721,57722,57723,57724,57725,57726,57727,57728,57729,57730,57731,57732,57733,57734,57735,57736,57737,57738,57739,57740,57741,57742,57743,57744,57745,57746,57747,57748,57749,57750,57751,57752,57753,57754,57755,57756,57757,57758,57759,57760,57761,57762,57763,57764,57765,57766,57767,57768,57769,57770,57771,57772,57773,57774,57775,57776,57777,57778,57779,57780,57781,57782,57783,57784,57785,57786,57787,57788,57789,57790,57791,57792,57793,57794,57795,57796,57797,57798,57799,57800,57801,57802,57803,57804,57805,57806,57807,57808,57809,57810,57811,57812,57813],[30088,30089,30090,30092,30093,30094,30096,30099,30101,30104,30107,30108,30110,30114,30118,30119,30120,30121,30122,30125,30134,30135,30138,30139,30143,30144,30145,30150,30155,30156,30158,30159,30160,30161,30163,30167,30169,30170,30172,30173,30175,30176,30177,30181,30185,30188,30189,30190,30191,30194,30195,30197,30198,30199,30200,30202,30203,30205,30206,30210,30212,30214,30215,63,30216,30217,30219,30221,30222,30223,30225,30226,30227,30228,30230,30234,30236,30237,30238,30241,30243,30247,30248,30252,30254,30255,30257,30258,30262,30263,30265,30266,30267,30269,30273,30274,30276,57814,57815,57816,57817,57818,57819,57820,57821,57822,57823,57824,57825,57826,57827,57828,57829,57830,57831,57832,57833,57834,57835,57836,57837,57838,57839,57840,57841,57842,57843,57844,57845,57846,57847,57848,57849,57850,57851,57852,57853,57854,57855,57856,57857,57858,57859,57860,57861,57862,57863,57864,57865,57866,57867,57868,57869,57870,57871,57872,57873,57874,57875,57876,57877,57878,57879,57880,57881,57882,57883,57884,57885,57886,57887,57888,57889,57890,57891,57892,57893,57894,57895,57896,57897,57898,57899,57900,57901,57902,57903,57904,57905,57906,57907],[30277,30278,30279,30280,30281,30282,30283,30286,30287,30288,30289,30290,30291,30293,30295,30296,30297,30298,30299,30301,30303,30304,30305,30306,30308,30309,30310,30311,30312,30313,30314,30316,30317,30318,30320,30321,30322,30323,30324,30325,30326,30327,30329,30330,30332,30335,30336,30337,30339,30341,30345,30346,30348,30349,30351,30352,30354,30356,30357,30359,30360,30362,30363,63,30364,30365,30366,30367,30368,30369,30370,30371,30373,30374,30375,30376,30377,30378,30379,30380,30381,30383,30384,30387,30389,30390,30391,30392,30393,30394,30395,30396,30397,30398,30400,30401,30403,21834,38463,22467,25384,21710,21769,21696,30353,30284,34108,30702,33406,30861,29233,38552,38797,27688,23433,20474,25353,26263,23736,33018,26696,32942,26114,30414,20985,25942,29100,32753,34948,20658,22885,25034,28595,33453,25420,25170,21485,21543,31494,20843,30116,24052,25300,36299,38774,25226,32793,22365,38712,32610,29240,30333,26575,30334,25670,20336,36133,25308,31255,26001,29677,25644,25203,33324,39041,26495,29256,25198,25292,20276,29923,21322,21150,32458,37030,24110,26758,27036,33152,32465,26834,30917,34444,38225,20621,35876,33502,32990,21253,35090,21093],[30404,30407,30409,30411,30412,30419,30421,30425,30426,30428,30429,30430,30432,30433,30434,30435,30436,30438,30439,30440,30441,30442,30443,30444,30445,30448,30451,30453,30454,30455,30458,30459,30461,30463,30464,30466,30467,30469,30470,30474,30476,30478,30479,30480,30481,30482,30483,30484,30485,30486,30487,30488,30491,30492,30493,30494,30497,30499,30500,30501,30503,30506,30507,63,30508,30510,30512,30513,30514,30515,30516,30521,30523,30525,30526,30527,30530,30532,30533,30534,30536,30537,30538,30539,30540,30541,30542,30543,30546,30547,30548,30549,30550,30551,30552,30553,30556,34180,38649,20445,22561,39281,23453,25265,25253,26292,35961,40077,29190,26479,30865,24754,21329,21271,36744,32972,36125,38049,20493,29384,22791,24811,28953,34987,22868,33519,26412,31528,23849,32503,29997,27893,36454,36856,36924,40763,27604,37145,31508,24444,30887,34006,34109,27605,27609,27606,24065,24199,30201,38381,25949,24330,24517,36767,22721,33218,36991,38491,38829,36793,32534,36140,25153,20415,21464,21342,36776,36777,36779,36941,26631,24426,33176,34920,40150,24971,21035,30250,24428,25996,28626,28392,23486,25672,20853,20912,26564,19993,31177,39292,28851],[30557,30558,30559,30560,30564,30567,30569,30570,30573,30574,30575,30576,30577,30578,30579,30580,30581,30582,30583,30584,30586,30587,30588,30593,30594,30595,30598,30599,30600,30601,30602,30603,30607,30608,30611,30612,30613,30614,30615,30616,30617,30618,30619,30620,30621,30622,30625,30627,30628,30630,30632,30635,30637,30638,30639,30641,30642,30644,30646,30647,30648,30649,30650,63,30652,30654,30656,30657,30658,30659,30660,30661,30662,30663,30664,30665,30666,30667,30668,30670,30671,30672,30673,30674,30675,30676,30677,30678,30680,30681,30682,30685,30686,30687,30688,30689,30692,30149,24182,29627,33760,25773,25320,38069,27874,21338,21187,25615,38082,31636,20271,24091,33334,33046,33162,28196,27850,39539,25429,21340,21754,34917,22496,19981,24067,27493,31807,37096,24598,25830,29468,35009,26448,25165,36130,30572,36393,37319,24425,33756,34081,39184,21442,34453,27531,24813,24808,28799,33485,33329,20179,27815,34255,25805,31961,27133,26361,33609,21397,31574,20391,20876,27979,23618,36461,25554,21449,33580,33590,26597,30900,25661,23519,23700,24046,35815,25286,26612,35962,25600,25530,34633,39307,35863,32544,38130,20135,38416,39076,26124,29462],[30694,30696,30698,30703,30704,30705,30706,30708,30709,30711,30713,30714,30715,30716,30723,30724,30725,30726,30727,30728,30730,30731,30734,30735,30736,30739,30741,30745,30747,30750,30752,30753,30754,30756,30760,30762,30763,30766,30767,30769,30770,30771,30773,30774,30781,30783,30785,30786,30787,30788,30790,30792,30793,30794,30795,30797,30799,30801,30803,30804,30808,30809,30810,63,30811,30812,30814,30815,30816,30817,30818,30819,30820,30821,30822,30823,30824,30825,30831,30832,30833,30834,30835,30836,30837,30838,30840,30841,30842,30843,30845,30846,30847,30848,30849,30850,30851,22330,23581,24120,38271,20607,32928,21378,25950,30021,21809,20513,36229,25220,38046,26397,22066,28526,24034,21557,28818,36710,25199,25764,25507,24443,28552,37108,33251,36784,23576,26216,24561,27785,38472,36225,34924,25745,31216,22478,27225,25104,21576,20056,31243,24809,28548,35802,25215,36894,39563,31204,21507,30196,25345,21273,27744,36831,24347,39536,32827,40831,20360,23610,36196,32709,26021,28861,20805,20914,34411,23815,23456,25277,37228,30068,36364,31264,24833,31609,20167,32504,30597,19985,33261,21021,20986,27249,21416,36487,38148,38607,28353,38500,26970],[30852,30853,30854,30856,30858,30859,30863,30864,30866,30868,30869,30870,30873,30877,30878,30880,30882,30884,30886,30888,30889,30890,30891,30892,30893,30894,30895,30901,30902,30903,30904,30906,30907,30908,30909,30911,30912,30914,30915,30916,30918,30919,30920,30924,30925,30926,30927,30929,30930,30931,30934,30935,30936,30938,30939,30940,30941,30942,30943,30944,30945,30946,30947,63,30948,30949,30950,30951,30953,30954,30955,30957,30958,30959,30960,30961,30963,30965,30966,30968,30969,30971,30972,30973,30974,30975,30976,30978,30979,30980,30982,30983,30984,30985,30986,30987,30988,30784,20648,30679,25616,35302,22788,25571,24029,31359,26941,20256,33337,21912,20018,30126,31383,24162,24202,38383,21019,21561,28810,25462,38180,22402,26149,26943,37255,21767,28147,32431,34850,25139,32496,30133,33576,30913,38604,36766,24904,29943,35789,27492,21050,36176,27425,32874,33905,22257,21254,20174,19995,20945,31895,37259,31751,20419,36479,31713,31388,25703,23828,20652,33030,30209,31929,28140,32736,26449,23384,23544,30923,25774,25619,25514,25387,38169,25645,36798,31572,30249,25171,22823,21574,27513,20643,25140,24102,27526,20195,36151,34955,24453,36910],[30989,30990,30991,30992,30993,30994,30996,30997,30998,30999,31e3,31001,31002,31003,31004,31005,31007,31008,31009,31010,31011,31013,31014,31015,31016,31017,31018,31019,31020,31021,31022,31023,31024,31025,31026,31027,31029,31030,31031,31032,31033,31037,31039,31042,31043,31044,31045,31047,31050,31051,31052,31053,31054,31055,31056,31057,31058,31060,31061,31064,31065,31073,31075,63,31076,31078,31081,31082,31083,31084,31086,31088,31089,31090,31091,31092,31093,31094,31097,31099,31100,31101,31102,31103,31106,31107,31110,31111,31112,31113,31115,31116,31117,31118,31120,31121,31122,24608,32829,25285,20025,21333,37112,25528,32966,26086,27694,20294,24814,28129,35806,24377,34507,24403,25377,20826,33633,26723,20992,25443,36424,20498,23707,31095,23548,21040,31291,24764,36947,30423,24503,24471,30340,36460,28783,30331,31561,30634,20979,37011,22564,20302,28404,36842,25932,31515,29380,28068,32735,23265,25269,24213,22320,33922,31532,24093,24351,36882,32532,39072,25474,28359,30872,28857,20856,38747,22443,30005,20291,30008,24215,24806,22880,28096,27583,30857,21500,38613,20939,20993,25481,21514,38035,35843,36300,29241,30879,34678,36845,35853,21472],[31123,31124,31125,31126,31127,31128,31129,31131,31132,31133,31134,31135,31136,31137,31138,31139,31140,31141,31142,31144,31145,31146,31147,31148,31149,31150,31151,31152,31153,31154,31156,31157,31158,31159,31160,31164,31167,31170,31172,31173,31175,31176,31178,31180,31182,31183,31184,31187,31188,31190,31191,31193,31194,31195,31196,31197,31198,31200,31201,31202,31205,31208,31210,63,31212,31214,31217,31218,31219,31220,31221,31222,31223,31225,31226,31228,31230,31231,31233,31236,31237,31239,31240,31241,31242,31244,31247,31248,31249,31250,31251,31253,31254,31256,31257,31259,31260,19969,30447,21486,38025,39030,40718,38189,23450,35746,20002,19996,20908,33891,25026,21160,26635,20375,24683,20923,27934,20828,25238,26007,38497,35910,36887,30168,37117,30563,27602,29322,29420,35835,22581,30585,36172,26460,38208,32922,24230,28193,22930,31471,30701,38203,27573,26029,32526,22534,20817,38431,23545,22697,21544,36466,25958,39039,22244,38045,30462,36929,25479,21702,22810,22842,22427,36530,26421,36346,33333,21057,24816,22549,34558,23784,40517,20420,39069,35769,23077,24694,21380,25212,36943,37122,39295,24681,32780,20799,32819,23572,39285,27953,20108],[31261,31263,31265,31266,31268,31269,31270,31271,31272,31273,31274,31275,31276,31277,31278,31279,31280,31281,31282,31284,31285,31286,31288,31290,31294,31296,31297,31298,31299,31300,31301,31303,31304,31305,31306,31307,31308,31309,31310,31311,31312,31314,31315,31316,31317,31318,31320,31321,31322,31323,31324,31325,31326,31327,31328,31329,31330,31331,31332,31333,31334,31335,31336,63,31337,31338,31339,31340,31341,31342,31343,31345,31346,31347,31349,31355,31356,31357,31358,31362,31365,31367,31369,31370,31371,31372,31374,31375,31376,31379,31380,31385,31386,31387,31390,31393,31394,36144,21457,32602,31567,20240,20047,38400,27861,29648,34281,24070,30058,32763,27146,30718,38034,32321,20961,28902,21453,36820,33539,36137,29359,39277,27867,22346,33459,26041,32938,25151,38450,22952,20223,35775,32442,25918,33778,38750,21857,39134,32933,21290,35837,21536,32954,24223,27832,36153,33452,37210,21545,27675,20998,32439,22367,28954,27774,31881,22859,20221,24575,24868,31914,20016,23553,26539,34562,23792,38155,39118,30127,28925,36898,20911,32541,35773,22857,20964,20315,21542,22827,25975,32932,23413,25206,25282,36752,24133,27679,31526,20239,20440,26381],[31395,31396,31399,31401,31402,31403,31406,31407,31408,31409,31410,31412,31413,31414,31415,31416,31417,31418,31419,31420,31421,31422,31424,31425,31426,31427,31428,31429,31430,31431,31432,31433,31434,31436,31437,31438,31439,31440,31441,31442,31443,31444,31445,31447,31448,31450,31451,31452,31453,31457,31458,31460,31463,31464,31465,31466,31467,31468,31470,31472,31473,31474,31475,63,31476,31477,31478,31479,31480,31483,31484,31486,31488,31489,31490,31493,31495,31497,31500,31501,31502,31504,31506,31507,31510,31511,31512,31514,31516,31517,31519,31521,31522,31523,31527,31529,31533,28014,28074,31119,34993,24343,29995,25242,36741,20463,37340,26023,33071,33105,24220,33104,36212,21103,35206,36171,22797,20613,20184,38428,29238,33145,36127,23500,35747,38468,22919,32538,21648,22134,22030,35813,25913,27010,38041,30422,28297,24178,29976,26438,26577,31487,32925,36214,24863,31174,25954,36195,20872,21018,38050,32568,32923,32434,23703,28207,26464,31705,30347,39640,33167,32660,31957,25630,38224,31295,21578,21733,27468,25601,25096,40509,33011,30105,21106,38761,33883,26684,34532,38401,38548,38124,20010,21508,32473,26681,36319,32789,26356,24218,32697],[31535,31536,31538,31540,31541,31542,31543,31545,31547,31549,31551,31552,31553,31554,31555,31556,31558,31560,31562,31565,31566,31571,31573,31575,31577,31580,31582,31583,31585,31587,31588,31589,31590,31591,31592,31593,31594,31595,31596,31597,31599,31600,31603,31604,31606,31608,31610,31612,31613,31615,31617,31618,31619,31620,31622,31623,31624,31625,31626,31627,31628,31630,31631,63,31633,31634,31635,31638,31640,31641,31642,31643,31646,31647,31648,31651,31652,31653,31662,31663,31664,31666,31667,31669,31670,31671,31673,31674,31675,31676,31677,31678,31679,31680,31682,31683,31684,22466,32831,26775,24037,25915,21151,24685,40858,20379,36524,20844,23467,24339,24041,27742,25329,36129,20849,38057,21246,27807,33503,29399,22434,26500,36141,22815,36764,33735,21653,31629,20272,27837,23396,22993,40723,21476,34506,39592,35895,32929,25925,39038,22266,38599,21038,29916,21072,23521,25346,35074,20054,25296,24618,26874,20851,23448,20896,35266,31649,39302,32592,24815,28748,36143,20809,24191,36891,29808,35268,22317,30789,24402,40863,38394,36712,39740,35809,30328,26690,26588,36330,36149,21053,36746,28378,26829,38149,37101,22269,26524,35065,36807,21704],[31685,31688,31689,31690,31691,31693,31694,31695,31696,31698,31700,31701,31702,31703,31704,31707,31708,31710,31711,31712,31714,31715,31716,31719,31720,31721,31723,31724,31725,31727,31728,31730,31731,31732,31733,31734,31736,31737,31738,31739,31741,31743,31744,31745,31746,31747,31748,31749,31750,31752,31753,31754,31757,31758,31760,31761,31762,31763,31764,31765,31767,31768,31769,63,31770,31771,31772,31773,31774,31776,31777,31778,31779,31780,31781,31784,31785,31787,31788,31789,31790,31791,31792,31793,31794,31795,31796,31797,31798,31799,31801,31802,31803,31804,31805,31806,31810,39608,23401,28023,27686,20133,23475,39559,37219,25e3,37039,38889,21547,28085,23506,20989,21898,32597,32752,25788,25421,26097,25022,24717,28938,27735,27721,22831,26477,33322,22741,22158,35946,27627,37085,22909,32791,21495,28009,21621,21917,33655,33743,26680,31166,21644,20309,21512,30418,35977,38402,27827,28088,36203,35088,40548,36154,22079,40657,30165,24456,29408,24680,21756,20136,27178,34913,24658,36720,21700,28888,34425,40511,27946,23439,24344,32418,21897,20399,29492,21564,21402,20505,21518,21628,20046,24573,29786,22774,33899,32993,34676,29392,31946,28246],[31811,31812,31813,31814,31815,31816,31817,31818,31819,31820,31822,31823,31824,31825,31826,31827,31828,31829,31830,31831,31832,31833,31834,31835,31836,31837,31838,31839,31840,31841,31842,31843,31844,31845,31846,31847,31848,31849,31850,31851,31852,31853,31854,31855,31856,31857,31858,31861,31862,31863,31864,31865,31866,31870,31871,31872,31873,31874,31875,31876,31877,31878,31879,63,31880,31882,31883,31884,31885,31886,31887,31888,31891,31892,31894,31897,31898,31899,31904,31905,31907,31910,31911,31912,31913,31915,31916,31917,31919,31920,31924,31925,31926,31927,31928,31930,31931,24359,34382,21804,25252,20114,27818,25143,33457,21719,21326,29502,28369,30011,21010,21270,35805,27088,24458,24576,28142,22351,27426,29615,26707,36824,32531,25442,24739,21796,30186,35938,28949,28067,23462,24187,33618,24908,40644,30970,34647,31783,30343,20976,24822,29004,26179,24140,24653,35854,28784,25381,36745,24509,24674,34516,22238,27585,24724,24935,21321,24800,26214,36159,31229,20250,28905,27719,35763,35826,32472,33636,26127,23130,39746,27985,28151,35905,27963,20249,28779,33719,25110,24785,38669,36135,31096,20987,22334,22522,26426,30072,31293,31215,31637],[31935,31936,31938,31939,31940,31942,31945,31947,31950,31951,31952,31953,31954,31955,31956,31960,31962,31963,31965,31966,31969,31970,31971,31972,31973,31974,31975,31977,31978,31979,31980,31981,31982,31984,31985,31986,31987,31988,31989,31990,31991,31993,31994,31996,31997,31998,31999,32e3,32001,32002,32003,32004,32005,32006,32007,32008,32009,32011,32012,32013,32014,32015,32016,63,32017,32018,32019,32020,32021,32022,32023,32024,32025,32026,32027,32028,32029,32030,32031,32033,32035,32036,32037,32038,32040,32041,32042,32044,32045,32046,32048,32049,32050,32051,32052,32053,32054,32908,39269,36857,28608,35749,40481,23020,32489,32521,21513,26497,26840,36753,31821,38598,21450,24613,30142,27762,21363,23241,32423,25380,20960,33034,24049,34015,25216,20864,23395,20238,31085,21058,24760,27982,23492,23490,35745,35760,26082,24524,38469,22931,32487,32426,22025,26551,22841,20339,23478,21152,33626,39050,36158,30002,38078,20551,31292,20215,26550,39550,23233,27516,30417,22362,23574,31546,38388,29006,20860,32937,33392,22904,32516,33575,26816,26604,30897,30839,25315,25441,31616,20461,21098,20943,33616,27099,37492,36341,36145,35265,38190,31661,20214],[32055,32056,32057,32058,32059,32060,32061,32062,32063,32064,32065,32066,32067,32068,32069,32070,32071,32072,32073,32074,32075,32076,32077,32078,32079,32080,32081,32082,32083,32084,32085,32086,32087,32088,32089,32090,32091,32092,32093,32094,32095,32096,32097,32098,32099,32100,32101,32102,32103,32104,32105,32106,32107,32108,32109,32111,32112,32113,32114,32115,32116,32117,32118,63,32120,32121,32122,32123,32124,32125,32126,32127,32128,32129,32130,32131,32132,32133,32134,32135,32136,32137,32138,32139,32140,32141,32142,32143,32144,32145,32146,32147,32148,32149,32150,32151,32152,20581,33328,21073,39279,28176,28293,28071,24314,20725,23004,23558,27974,27743,30086,33931,26728,22870,35762,21280,37233,38477,34121,26898,30977,28966,33014,20132,37066,27975,39556,23047,22204,25605,38128,30699,20389,33050,29409,35282,39290,32564,32478,21119,25945,37237,36735,36739,21483,31382,25581,25509,30342,31224,34903,38454,25130,21163,33410,26708,26480,25463,30571,31469,27905,32467,35299,22992,25106,34249,33445,30028,20511,20171,30117,35819,23626,24062,31563,26020,37329,20170,27941,35167,32039,38182,20165,35880,36827,38771,26187,31105,36817,28908,28024],[32153,32154,32155,32156,32157,32158,32159,32160,32161,32162,32163,32164,32165,32167,32168,32169,32170,32171,32172,32173,32175,32176,32177,32178,32179,32180,32181,32182,32183,32184,32185,32186,32187,32188,32189,32190,32191,32192,32193,32194,32195,32196,32197,32198,32199,32200,32201,32202,32203,32204,32205,32206,32207,32208,32209,32210,32211,32212,32213,32214,32215,32216,32217,63,32218,32219,32220,32221,32222,32223,32224,32225,32226,32227,32228,32229,32230,32231,32232,32233,32234,32235,32236,32237,32238,32239,32240,32241,32242,32243,32244,32245,32246,32247,32248,32249,32250,23613,21170,33606,20834,33550,30555,26230,40120,20140,24778,31934,31923,32463,20117,35686,26223,39048,38745,22659,25964,38236,24452,30153,38742,31455,31454,20928,28847,31384,25578,31350,32416,29590,38893,20037,28792,20061,37202,21417,25937,26087,33276,33285,21646,23601,30106,38816,25304,29401,30141,23621,39545,33738,23616,21632,30697,20030,27822,32858,25298,25454,24040,20855,36317,36382,38191,20465,21477,24807,28844,21095,25424,40515,23071,20518,30519,21367,32482,25733,25899,25225,25496,20500,29237,35273,20915,35776,32477,22343,33740,38055,20891,21531,23803],[32251,32252,32253,32254,32255,32256,32257,32258,32259,32260,32261,32262,32263,32264,32265,32266,32267,32268,32269,32270,32271,32272,32273,32274,32275,32276,32277,32278,32279,32280,32281,32282,32283,32284,32285,32286,32287,32288,32289,32290,32291,32292,32293,32294,32295,32296,32297,32298,32299,32300,32301,32302,32303,32304,32305,32306,32307,32308,32309,32310,32311,32312,32313,63,32314,32316,32317,32318,32319,32320,32322,32323,32324,32325,32326,32328,32329,32330,32331,32332,32333,32334,32335,32336,32337,32338,32339,32340,32341,32342,32343,32344,32345,32346,32347,32348,32349,20426,31459,27994,37089,39567,21888,21654,21345,21679,24320,25577,26999,20975,24936,21002,22570,21208,22350,30733,30475,24247,24951,31968,25179,25239,20130,28821,32771,25335,28900,38752,22391,33499,26607,26869,30933,39063,31185,22771,21683,21487,28212,20811,21051,23458,35838,32943,21827,22438,24691,22353,21549,31354,24656,23380,25511,25248,21475,25187,23495,26543,21741,31391,33510,37239,24211,35044,22840,22446,25358,36328,33007,22359,31607,20393,24555,23485,27454,21281,31568,29378,26694,30719,30518,26103,20917,20111,30420,23743,31397,33909,22862,39745,20608],[32350,32351,32352,32353,32354,32355,32356,32357,32358,32359,32360,32361,32362,32363,32364,32365,32366,32367,32368,32369,32370,32371,32372,32373,32374,32375,32376,32377,32378,32379,32380,32381,32382,32383,32384,32385,32387,32388,32389,32390,32391,32392,32393,32394,32395,32396,32397,32398,32399,32400,32401,32402,32403,32404,32405,32406,32407,32408,32409,32410,32412,32413,32414,63,32430,32436,32443,32444,32470,32484,32492,32505,32522,32528,32542,32567,32569,32571,32572,32573,32574,32575,32576,32577,32579,32582,32583,32584,32585,32586,32587,32588,32589,32590,32591,32594,32595,39304,24871,28291,22372,26118,25414,22256,25324,25193,24275,38420,22403,25289,21895,34593,33098,36771,21862,33713,26469,36182,34013,23146,26639,25318,31726,38417,20848,28572,35888,25597,35272,25042,32518,28866,28389,29701,27028,29436,24266,37070,26391,28010,25438,21171,29282,32769,20332,23013,37226,28889,28061,21202,20048,38647,38253,34174,30922,32047,20769,22418,25794,32907,31867,27882,26865,26974,20919,21400,26792,29313,40654,31729,29432,31163,28435,29702,26446,37324,40100,31036,33673,33620,21519,26647,20029,21385,21169,30782,21382,21033,20616,20363,20432],[32598,32601,32603,32604,32605,32606,32608,32611,32612,32613,32614,32615,32619,32620,32621,32623,32624,32627,32629,32630,32631,32632,32634,32635,32636,32637,32639,32640,32642,32643,32644,32645,32646,32647,32648,32649,32651,32653,32655,32656,32657,32658,32659,32661,32662,32663,32664,32665,32667,32668,32672,32674,32675,32677,32678,32680,32681,32682,32683,32684,32685,32686,32689,63,32691,32692,32693,32694,32695,32698,32699,32702,32704,32706,32707,32708,32710,32711,32712,32713,32715,32717,32719,32720,32721,32722,32723,32726,32727,32729,32730,32731,32732,32733,32734,32738,32739,30178,31435,31890,27813,38582,21147,29827,21737,20457,32852,33714,36830,38256,24265,24604,28063,24088,25947,33080,38142,24651,28860,32451,31918,20937,26753,31921,33391,20004,36742,37327,26238,20142,35845,25769,32842,20698,30103,29134,23525,36797,28518,20102,25730,38243,24278,26009,21015,35010,28872,21155,29454,29747,26519,30967,38678,20020,37051,40158,28107,20955,36161,21533,25294,29618,33777,38646,40836,38083,20278,32666,20940,28789,38517,23725,39046,21478,20196,28316,29705,27060,30827,39311,30041,21016,30244,27969,26611,20845,40857,32843,21657,31548,31423],[32740,32743,32744,32746,32747,32748,32749,32751,32754,32756,32757,32758,32759,32760,32761,32762,32765,32766,32767,32770,32775,32776,32777,32778,32782,32783,32785,32787,32794,32795,32797,32798,32799,32801,32803,32804,32811,32812,32813,32814,32815,32816,32818,32820,32825,32826,32828,32830,32832,32833,32836,32837,32839,32840,32841,32846,32847,32848,32849,32851,32853,32854,32855,63,32857,32859,32860,32861,32862,32863,32864,32865,32866,32867,32868,32869,32870,32871,32872,32875,32876,32877,32878,32879,32880,32882,32883,32884,32885,32886,32887,32888,32889,32890,32891,32892,32893,38534,22404,25314,38471,27004,23044,25602,31699,28431,38475,33446,21346,39045,24208,28809,25523,21348,34383,40065,40595,30860,38706,36335,36162,40575,28510,31108,24405,38470,25134,39540,21525,38109,20387,26053,23653,23649,32533,34385,27695,24459,29575,28388,32511,23782,25371,23402,28390,21365,20081,25504,30053,25249,36718,20262,20177,27814,32438,35770,33821,34746,32599,36923,38179,31657,39585,35064,33853,27931,39558,32476,22920,40635,29595,30721,34434,39532,39554,22043,21527,22475,20080,40614,21334,36808,33033,30610,39314,34542,28385,34067,26364,24930,28459],[32894,32897,32898,32901,32904,32906,32909,32910,32911,32912,32913,32914,32916,32917,32919,32921,32926,32931,32934,32935,32936,32940,32944,32947,32949,32950,32952,32953,32955,32965,32967,32968,32969,32970,32971,32975,32976,32977,32978,32979,32980,32981,32984,32991,32992,32994,32995,32998,33006,33013,33015,33017,33019,33022,33023,33024,33025,33027,33028,33029,33031,33032,33035,63,33036,33045,33047,33049,33051,33052,33053,33055,33056,33057,33058,33059,33060,33061,33062,33063,33064,33065,33066,33067,33069,33070,33072,33075,33076,33077,33079,33081,33082,33083,33084,33085,33087,35881,33426,33579,30450,27667,24537,33725,29483,33541,38170,27611,30683,38086,21359,33538,20882,24125,35980,36152,20040,29611,26522,26757,37238,38665,29028,27809,30473,23186,38209,27599,32654,26151,23504,22969,23194,38376,38391,20204,33804,33945,27308,30431,38192,29467,26790,23391,30511,37274,38753,31964,36855,35868,24357,31859,31192,35269,27852,34588,23494,24130,26825,30496,32501,20885,20813,21193,23081,32517,38754,33495,25551,30596,34256,31186,28218,24217,22937,34065,28781,27665,25279,30399,25935,24751,38397,26126,34719,40483,38125,21517,21629,35884,25720],[33088,33089,33090,33091,33092,33093,33095,33097,33101,33102,33103,33106,33110,33111,33112,33115,33116,33117,33118,33119,33121,33122,33123,33124,33126,33128,33130,33131,33132,33135,33138,33139,33141,33142,33143,33144,33153,33155,33156,33157,33158,33159,33161,33163,33164,33165,33166,33168,33170,33171,33172,33173,33174,33175,33177,33178,33182,33183,33184,33185,33186,33188,33189,63,33191,33193,33195,33196,33197,33198,33199,33200,33201,33202,33204,33205,33206,33207,33208,33209,33212,33213,33214,33215,33220,33221,33223,33224,33225,33227,33229,33230,33231,33232,33233,33234,33235,25721,34321,27169,33180,30952,25705,39764,25273,26411,33707,22696,40664,27819,28448,23518,38476,35851,29279,26576,25287,29281,20137,22982,27597,22675,26286,24149,21215,24917,26408,30446,30566,29287,31302,25343,21738,21584,38048,37027,23068,32435,27670,20035,22902,32784,22856,21335,30007,38590,22218,25376,33041,24700,38393,28118,21602,39297,20869,23273,33021,22958,38675,20522,27877,23612,25311,20320,21311,33147,36870,28346,34091,25288,24180,30910,25781,25467,24565,23064,37247,40479,23615,25423,32834,23421,21870,38218,38221,28037,24744,26592,29406,20957,23425],[33236,33237,33238,33239,33240,33241,33242,33243,33244,33245,33246,33247,33248,33249,33250,33252,33253,33254,33256,33257,33259,33262,33263,33264,33265,33266,33269,33270,33271,33272,33273,33274,33277,33279,33283,33287,33288,33289,33290,33291,33294,33295,33297,33299,33301,33302,33303,33304,33305,33306,33309,33312,33316,33317,33318,33319,33321,33326,33330,33338,33340,33341,33343,63,33344,33345,33346,33347,33349,33350,33352,33354,33356,33357,33358,33360,33361,33362,33363,33364,33365,33366,33367,33369,33371,33372,33373,33374,33376,33377,33378,33379,33380,33381,33382,33383,33385,25319,27870,29275,25197,38062,32445,33043,27987,20892,24324,22900,21162,24594,22899,26262,34384,30111,25386,25062,31983,35834,21734,27431,40485,27572,34261,21589,20598,27812,21866,36276,29228,24085,24597,29750,25293,25490,29260,24472,28227,27966,25856,28504,30424,30928,30460,30036,21028,21467,20051,24222,26049,32810,32982,25243,21638,21032,28846,34957,36305,27873,21624,32986,22521,35060,36180,38506,37197,20329,27803,21943,30406,30768,25256,28921,28558,24429,34028,26842,30844,31735,33192,26379,40527,25447,30896,22383,30738,38713,25209,25259,21128,29749,27607],[33386,33387,33388,33389,33393,33397,33398,33399,33400,33403,33404,33408,33409,33411,33413,33414,33415,33417,33420,33424,33427,33428,33429,33430,33434,33435,33438,33440,33442,33443,33447,33458,33461,33462,33466,33467,33468,33471,33472,33474,33475,33477,33478,33481,33488,33494,33497,33498,33501,33506,33511,33512,33513,33514,33516,33517,33518,33520,33522,33523,33525,33526,33528,63,33530,33532,33533,33534,33535,33536,33546,33547,33549,33552,33554,33555,33558,33560,33561,33565,33566,33567,33568,33569,33570,33571,33572,33573,33574,33577,33578,33582,33584,33586,33591,33595,33597,21860,33086,30130,30382,21305,30174,20731,23617,35692,31687,20559,29255,39575,39128,28418,29922,31080,25735,30629,25340,39057,36139,21697,32856,20050,22378,33529,33805,24179,20973,29942,35780,23631,22369,27900,39047,23110,30772,39748,36843,31893,21078,25169,38138,20166,33670,33889,33769,33970,22484,26420,22275,26222,28006,35889,26333,28689,26399,27450,26646,25114,22971,19971,20932,28422,26578,27791,20854,26827,22855,27495,30054,23822,33040,40784,26071,31048,31041,39569,36215,23682,20062,20225,21551,22865,30732,22120,27668,36804,24323,27773,27875,35755,25488],[33598,33599,33601,33602,33604,33605,33608,33610,33611,33612,33613,33614,33619,33621,33622,33623,33624,33625,33629,33634,33648,33649,33650,33651,33652,33653,33654,33657,33658,33662,33663,33664,33665,33666,33667,33668,33671,33672,33674,33675,33676,33677,33679,33680,33681,33684,33685,33686,33687,33689,33690,33693,33695,33697,33698,33699,33700,33701,33702,33703,33708,33709,33710,63,33711,33717,33723,33726,33727,33730,33731,33732,33734,33736,33737,33739,33741,33742,33744,33745,33746,33747,33749,33751,33753,33754,33755,33758,33762,33763,33764,33766,33767,33768,33771,33772,33773,24688,27965,29301,25190,38030,38085,21315,36801,31614,20191,35878,20094,40660,38065,38067,21069,28508,36963,27973,35892,22545,23884,27424,27465,26538,21595,33108,32652,22681,34103,24378,25250,27207,38201,25970,24708,26725,30631,20052,20392,24039,38808,25772,32728,23789,20431,31373,20999,33540,19988,24623,31363,38054,20405,20146,31206,29748,21220,33465,25810,31165,23517,27777,38738,36731,27682,20542,21375,28165,25806,26228,27696,24773,39031,35831,24198,29756,31351,31179,19992,37041,29699,27714,22234,37195,27845,36235,21306,34502,26354,36527,23624,39537,28192],[33774,33775,33779,33780,33781,33782,33783,33786,33787,33788,33790,33791,33792,33794,33797,33799,33800,33801,33802,33808,33810,33811,33812,33813,33814,33815,33817,33818,33819,33822,33823,33824,33825,33826,33827,33833,33834,33835,33836,33837,33838,33839,33840,33842,33843,33844,33845,33846,33847,33849,33850,33851,33854,33855,33856,33857,33858,33859,33860,33861,33863,33864,33865,63,33866,33867,33868,33869,33870,33871,33872,33874,33875,33876,33877,33878,33880,33885,33886,33887,33888,33890,33892,33893,33894,33895,33896,33898,33902,33903,33904,33906,33908,33911,33913,33915,33916,21462,23094,40843,36259,21435,22280,39079,26435,37275,27849,20840,30154,25331,29356,21048,21149,32570,28820,30264,21364,40522,27063,30830,38592,35033,32676,28982,29123,20873,26579,29924,22756,25880,22199,35753,39286,25200,32469,24825,28909,22764,20161,20154,24525,38887,20219,35748,20995,22922,32427,25172,20173,26085,25102,33592,33993,33635,34701,29076,28342,23481,32466,20887,25545,26580,32905,33593,34837,20754,23418,22914,36785,20083,27741,20837,35109,36719,38446,34122,29790,38160,38384,28070,33509,24369,25746,27922,33832,33134,40131,22622,36187,19977,21441],[33917,33918,33919,33920,33921,33923,33924,33925,33926,33930,33933,33935,33936,33937,33938,33939,33940,33941,33942,33944,33946,33947,33949,33950,33951,33952,33954,33955,33956,33957,33958,33959,33960,33961,33962,33963,33964,33965,33966,33968,33969,33971,33973,33974,33975,33979,33980,33982,33984,33986,33987,33989,33990,33991,33992,33995,33996,33998,33999,34002,34004,34005,34007,63,34008,34009,34010,34011,34012,34014,34017,34018,34020,34023,34024,34025,34026,34027,34029,34030,34031,34033,34034,34035,34036,34037,34038,34039,34040,34041,34042,34043,34045,34046,34048,34049,34050,20254,25955,26705,21971,20007,25620,39578,25195,23234,29791,33394,28073,26862,20711,33678,30722,26432,21049,27801,32433,20667,21861,29022,31579,26194,29642,33515,26441,23665,21024,29053,34923,38378,38485,25797,36193,33203,21892,27733,25159,32558,22674,20260,21830,36175,26188,19978,23578,35059,26786,25422,31245,28903,33421,21242,38902,23569,21736,37045,32461,22882,36170,34503,33292,33293,36198,25668,23556,24913,28041,31038,35774,30775,30003,21627,20280,36523,28145,23072,32453,31070,27784,23457,23158,29978,32958,24910,28183,22768,29983,29989,29298,21319,32499],[34051,34052,34053,34054,34055,34056,34057,34058,34059,34061,34062,34063,34064,34066,34068,34069,34070,34072,34073,34075,34076,34077,34078,34080,34082,34083,34084,34085,34086,34087,34088,34089,34090,34093,34094,34095,34096,34097,34098,34099,34100,34101,34102,34110,34111,34112,34113,34114,34116,34117,34118,34119,34123,34124,34125,34126,34127,34128,34129,34130,34131,34132,34133,63,34135,34136,34138,34139,34140,34141,34143,34144,34145,34146,34147,34149,34150,34151,34153,34154,34155,34156,34157,34158,34159,34160,34161,34163,34165,34166,34167,34168,34172,34173,34175,34176,34177,30465,30427,21097,32988,22307,24072,22833,29422,26045,28287,35799,23608,34417,21313,30707,25342,26102,20160,39135,34432,23454,35782,21490,30690,20351,23630,39542,22987,24335,31034,22763,19990,26623,20107,25325,35475,36893,21183,26159,21980,22124,36866,20181,20365,37322,39280,27663,24066,24643,23460,35270,35797,25910,25163,39318,23432,23551,25480,21806,21463,30246,20861,34092,26530,26803,27530,25234,36755,21460,33298,28113,30095,20070,36174,23408,29087,34223,26257,26329,32626,34560,40653,40736,23646,26415,36848,26641,26463,25101,31446,22661,24246,25968,28465],[34178,34179,34182,34184,34185,34186,34187,34188,34189,34190,34192,34193,34194,34195,34196,34197,34198,34199,34200,34201,34202,34205,34206,34207,34208,34209,34210,34211,34213,34214,34215,34217,34219,34220,34221,34225,34226,34227,34228,34229,34230,34232,34234,34235,34236,34237,34238,34239,34240,34242,34243,34244,34245,34246,34247,34248,34250,34251,34252,34253,34254,34257,34258,63,34260,34262,34263,34264,34265,34266,34267,34269,34270,34271,34272,34273,34274,34275,34277,34278,34279,34280,34282,34283,34284,34285,34286,34287,34288,34289,34290,34291,34292,34293,34294,34295,34296,24661,21047,32781,25684,34928,29993,24069,26643,25332,38684,21452,29245,35841,27700,30561,31246,21550,30636,39034,33308,35828,30805,26388,28865,26031,25749,22070,24605,31169,21496,19997,27515,32902,23546,21987,22235,20282,20284,39282,24051,26494,32824,24578,39042,36865,23435,35772,35829,25628,33368,25822,22013,33487,37221,20439,32032,36895,31903,20723,22609,28335,23487,35785,32899,37240,33948,31639,34429,38539,38543,32485,39635,30862,23681,31319,36930,38567,31071,23385,25439,31499,34001,26797,21766,32553,29712,32034,38145,25152,22604,20182,23427,22905,22612],[34297,34298,34300,34301,34302,34304,34305,34306,34307,34308,34310,34311,34312,34313,34314,34315,34316,34317,34318,34319,34320,34322,34323,34324,34325,34327,34328,34329,34330,34331,34332,34333,34334,34335,34336,34337,34338,34339,34340,34341,34342,34344,34346,34347,34348,34349,34350,34351,34352,34353,34354,34355,34356,34357,34358,34359,34361,34362,34363,34365,34366,34367,34368,63,34369,34370,34371,34372,34373,34374,34375,34376,34377,34378,34379,34380,34386,34387,34389,34390,34391,34392,34393,34395,34396,34397,34399,34400,34401,34403,34404,34405,34406,34407,34408,34409,34410,29549,25374,36427,36367,32974,33492,25260,21488,27888,37214,22826,24577,27760,22349,25674,36138,30251,28393,22363,27264,30192,28525,35885,35848,22374,27631,34962,30899,25506,21497,28845,27748,22616,25642,22530,26848,33179,21776,31958,20504,36538,28108,36255,28907,25487,28059,28372,32486,33796,26691,36867,28120,38518,35752,22871,29305,34276,33150,30140,35466,26799,21076,36386,38161,25552,39064,36420,21884,20307,26367,22159,24789,28053,21059,23625,22825,28155,22635,3e4,29980,24684,33300,33094,25361,26465,36834,30522,36339,36148,38081,24086,21381,21548,28867],[34413,34415,34416,34418,34419,34420,34421,34422,34423,34424,34435,34436,34437,34438,34439,34440,34441,34446,34447,34448,34449,34450,34452,34454,34455,34456,34457,34458,34459,34462,34463,34464,34465,34466,34469,34470,34475,34477,34478,34482,34483,34487,34488,34489,34491,34492,34493,34494,34495,34497,34498,34499,34501,34504,34508,34509,34514,34515,34517,34518,34519,34522,34524,63,34525,34528,34529,34530,34531,34533,34534,34535,34536,34538,34539,34540,34543,34549,34550,34551,34554,34555,34556,34557,34559,34561,34564,34565,34566,34571,34572,34574,34575,34576,34577,34580,34582,27712,24311,20572,20141,24237,25402,33351,36890,26704,37230,30643,21516,38108,24420,31461,26742,25413,31570,32479,30171,20599,25237,22836,36879,20984,31171,31361,22270,24466,36884,28034,23648,22303,21520,20820,28237,22242,25512,39059,33151,34581,35114,36864,21534,23663,33216,25302,25176,33073,40501,38464,39534,39548,26925,22949,25299,21822,25366,21703,34521,27964,23043,29926,34972,27498,22806,35916,24367,28286,29609,39037,20024,28919,23436,30871,25405,26202,30358,24779,23451,23113,19975,33109,27754,29579,20129,26505,32593,24448,26106,26395,24536,22916,23041],[34585,34587,34589,34591,34592,34596,34598,34599,34600,34602,34603,34604,34605,34607,34608,34610,34611,34613,34614,34616,34617,34618,34620,34621,34624,34625,34626,34627,34628,34629,34630,34634,34635,34637,34639,34640,34641,34642,34644,34645,34646,34648,34650,34651,34652,34653,34654,34655,34657,34658,34662,34663,34664,34665,34666,34667,34668,34669,34671,34673,34674,34675,34677,63,34679,34680,34681,34682,34687,34688,34689,34692,34694,34695,34697,34698,34700,34702,34703,34704,34705,34706,34708,34709,34710,34712,34713,34714,34715,34716,34717,34718,34720,34721,34722,34723,34724,24013,24494,21361,38886,36829,26693,22260,21807,24799,20026,28493,32500,33479,33806,22996,20255,20266,23614,32428,26410,34074,21619,30031,32963,21890,39759,20301,28205,35859,23561,24944,21355,30239,28201,34442,25991,38395,32441,21563,31283,32010,38382,21985,32705,29934,25373,34583,28065,31389,25105,26017,21351,25569,27779,24043,21596,38056,20044,27745,35820,23627,26080,33436,26791,21566,21556,27595,27494,20116,25410,21320,33310,20237,20398,22366,25098,38654,26212,29289,21247,21153,24735,35823,26132,29081,26512,35199,30802,30717,26224,22075,21560,38177,29306],[34725,34726,34727,34729,34730,34734,34736,34737,34738,34740,34742,34743,34744,34745,34747,34748,34750,34751,34753,34754,34755,34756,34757,34759,34760,34761,34764,34765,34766,34767,34768,34772,34773,34774,34775,34776,34777,34778,34780,34781,34782,34783,34785,34786,34787,34788,34790,34791,34792,34793,34795,34796,34797,34799,34800,34801,34802,34803,34804,34805,34806,34807,34808,63,34810,34811,34812,34813,34815,34816,34817,34818,34820,34821,34822,34823,34824,34825,34827,34828,34829,34830,34831,34832,34833,34834,34836,34839,34840,34841,34842,34844,34845,34846,34847,34848,34851,31232,24687,24076,24713,33181,22805,24796,29060,28911,28330,27728,29312,27268,34989,24109,20064,23219,21916,38115,27927,31995,38553,25103,32454,30606,34430,21283,38686,36758,26247,23777,20384,29421,19979,21414,22799,21523,25472,38184,20808,20185,40092,32420,21688,36132,34900,33335,38386,28046,24358,23244,26174,38505,29616,29486,21439,33146,39301,32673,23466,38519,38480,32447,30456,21410,38262,39321,31665,35140,28248,20065,32724,31077,35814,24819,21709,20139,39033,24055,27233,20687,21521,35937,33831,30813,38660,21066,21742,22179,38144,28040,23477,28102,26195],[34852,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34867,34868,34869,34870,34871,34872,34874,34875,34877,34878,34879,34881,34882,34883,34886,34887,34888,34889,34890,34891,34894,34895,34896,34897,34898,34899,34901,34902,34904,34906,34907,34908,34909,34910,34911,34912,34918,34919,34922,34925,34927,34929,34931,34932,34933,34934,34936,34937,34938,63,34939,34940,34944,34947,34950,34951,34953,34954,34956,34958,34959,34960,34961,34963,34964,34965,34967,34968,34969,34970,34971,34973,34974,34975,34976,34977,34979,34981,34982,34983,34984,34985,34986,23567,23389,26657,32918,21880,31505,25928,26964,20123,27463,34638,38795,21327,25375,25658,37034,26012,32961,35856,20889,26800,21368,34809,25032,27844,27899,35874,23633,34218,33455,38156,27427,36763,26032,24571,24515,20449,34885,26143,33125,29481,24826,20852,21009,22411,24418,37026,34892,37266,24184,26447,24615,22995,20804,20982,33016,21256,27769,38596,29066,20241,20462,32670,26429,21957,38152,31168,34966,32483,22687,25100,38656,34394,22040,39035,24464,35768,33988,37207,21465,26093,24207,30044,24676,32110,23167,32490,32493,36713,21927,23459,24748,26059,29572],[34988,34990,34991,34992,34994,34995,34996,34997,34998,35e3,35001,35002,35003,35005,35006,35007,35008,35011,35012,35015,35016,35018,35019,35020,35021,35023,35024,35025,35027,35030,35031,35034,35035,35036,35037,35038,35040,35041,35046,35047,35049,35050,35051,35052,35053,35054,35055,35058,35061,35062,35063,35066,35067,35069,35071,35072,35073,35075,35076,35077,35078,35079,35080,63,35081,35083,35084,35085,35086,35087,35089,35092,35093,35094,35095,35096,35100,35101,35102,35103,35104,35106,35107,35108,35110,35111,35112,35113,35116,35117,35118,35119,35121,35122,35123,35125,35127,36873,30307,30505,32474,38772,34203,23398,31348,38634,34880,21195,29071,24490,26092,35810,23547,39535,24033,27529,27739,35757,35759,36874,36805,21387,25276,40486,40493,21568,20011,33469,29273,34460,23830,34905,28079,38597,21713,20122,35766,28937,21693,38409,28895,28153,30416,20005,30740,34578,23721,24310,35328,39068,38414,28814,27839,22852,25513,30524,34893,28436,33395,22576,29141,21388,30746,38593,21761,24422,28976,23476,35866,39564,27523,22830,40495,31207,26472,25196,20335,30113,32650,27915,38451,27687,20208,30162,20859,26679,28478,36992,33136,22934,29814],[35128,35129,35130,35131,35132,35133,35134,35135,35136,35138,35139,35141,35142,35143,35144,35145,35146,35147,35148,35149,35150,35151,35152,35153,35154,35155,35156,35157,35158,35159,35160,35161,35162,35163,35164,35165,35168,35169,35170,35171,35172,35173,35175,35176,35177,35178,35179,35180,35181,35182,35183,35184,35185,35186,35187,35188,35189,35190,35191,35192,35193,35194,35196,63,35197,35198,35200,35202,35204,35205,35207,35208,35209,35210,35211,35212,35213,35214,35215,35216,35217,35218,35219,35220,35221,35222,35223,35224,35225,35226,35227,35228,35229,35230,35231,35232,35233,25671,23591,36965,31377,35875,23002,21676,33280,33647,35201,32768,26928,22094,32822,29239,37326,20918,20063,39029,25494,19994,21494,26355,33099,22812,28082,19968,22777,21307,25558,38129,20381,20234,34915,39056,22839,36951,31227,20202,33008,30097,27778,23452,23016,24413,26885,34433,20506,24050,20057,30691,20197,33402,25233,26131,37009,23673,20159,24441,33222,36920,32900,30123,20134,35028,24847,27589,24518,20041,30410,28322,35811,35758,35850,35793,24322,32764,32716,32462,33589,33643,22240,27575,38899,38452,23035,21535,38134,28139,23493,39278,23609,24341,38544],[35234,35235,35236,35237,35238,35239,35240,35241,35242,35243,35244,35245,35246,35247,35248,35249,35250,35251,35252,35253,35254,35255,35256,35257,35258,35259,35260,35261,35262,35263,35264,35267,35277,35283,35284,35285,35287,35288,35289,35291,35293,35295,35296,35297,35298,35300,35303,35304,35305,35306,35308,35309,35310,35312,35313,35314,35316,35317,35318,35319,35320,35321,35322,63,35323,35324,35325,35326,35327,35329,35330,35331,35332,35333,35334,35336,35337,35338,35339,35340,35341,35342,35343,35344,35345,35346,35347,35348,35349,35350,35351,35352,35353,35354,35355,35356,35357,21360,33521,27185,23156,40560,24212,32552,33721,33828,33829,33639,34631,36814,36194,30408,24433,39062,30828,26144,21727,25317,20323,33219,30152,24248,38605,36362,34553,21647,27891,28044,27704,24703,21191,29992,24189,20248,24736,24551,23588,30001,37038,38080,29369,27833,28216,37193,26377,21451,21491,20305,37321,35825,21448,24188,36802,28132,20110,30402,27014,34398,24858,33286,20313,20446,36926,40060,24841,28189,28180,38533,20104,23089,38632,19982,23679,31161,23431,35821,32701,29577,22495,33419,37057,21505,36935,21947,23786,24481,24840,27442,29425,32946,35465],[35358,35359,35360,35361,35362,35363,35364,35365,35366,35367,35368,35369,35370,35371,35372,35373,35374,35375,35376,35377,35378,35379,35380,35381,35382,35383,35384,35385,35386,35387,35388,35389,35391,35392,35393,35394,35395,35396,35397,35398,35399,35401,35402,35403,35404,35405,35406,35407,35408,35409,35410,35411,35412,35413,35414,35415,35416,35417,35418,35419,35420,35421,35422,63,35423,35424,35425,35426,35427,35428,35429,35430,35431,35432,35433,35434,35435,35436,35437,35438,35439,35440,35441,35442,35443,35444,35445,35446,35447,35448,35450,35451,35452,35453,35454,35455,35456,28020,23507,35029,39044,35947,39533,40499,28170,20900,20803,22435,34945,21407,25588,36757,22253,21592,22278,29503,28304,32536,36828,33489,24895,24616,38498,26352,32422,36234,36291,38053,23731,31908,26376,24742,38405,32792,20113,37095,21248,38504,20801,36816,34164,37213,26197,38901,23381,21277,30776,26434,26685,21705,28798,23472,36733,20877,22312,21681,25874,26242,36190,36163,33039,33900,36973,31967,20991,34299,26531,26089,28577,34468,36481,22122,36896,30338,28790,29157,36131,25321,21017,27901,36156,24590,22686,24974,26366,36192,25166,21939,28195,26413,36711],[35457,35458,35459,35460,35461,35462,35463,35464,35467,35468,35469,35470,35471,35472,35473,35474,35476,35477,35478,35479,35480,35481,35482,35483,35484,35485,35486,35487,35488,35489,35490,35491,35492,35493,35494,35495,35496,35497,35498,35499,35500,35501,35502,35503,35504,35505,35506,35507,35508,35509,35510,35511,35512,35513,35514,35515,35516,35517,35518,35519,35520,35521,35522,63,35523,35524,35525,35526,35527,35528,35529,35530,35531,35532,35533,35534,35535,35536,35537,35538,35539,35540,35541,35542,35543,35544,35545,35546,35547,35548,35549,35550,35551,35552,35553,35554,35555,38113,38392,30504,26629,27048,21643,20045,28856,35784,25688,25995,23429,31364,20538,23528,30651,27617,35449,31896,27838,30415,26025,36759,23853,23637,34360,26632,21344,25112,31449,28251,32509,27167,31456,24432,28467,24352,25484,28072,26454,19976,24080,36134,20183,32960,30260,38556,25307,26157,25214,27836,36213,29031,32617,20806,32903,21484,36974,25240,21746,34544,36761,32773,38167,34071,36825,27993,29645,26015,30495,29956,30759,33275,36126,38024,20390,26517,30137,35786,38663,25391,38215,38453,33976,25379,30529,24449,29424,20105,24596,25972,25327,27491,25919],[35556,35557,35558,35559,35560,35561,35562,35563,35564,35565,35566,35567,35568,35569,35570,35571,35572,35573,35574,35575,35576,35577,35578,35579,35580,35581,35582,35583,35584,35585,35586,35587,35588,35589,35590,35592,35593,35594,35595,35596,35597,35598,35599,35600,35601,35602,35603,35604,35605,35606,35607,35608,35609,35610,35611,35612,35613,35614,35615,35616,35617,35618,35619,63,35620,35621,35623,35624,35625,35626,35627,35628,35629,35630,35631,35632,35633,35634,35635,35636,35637,35638,35639,35640,35641,35642,35643,35644,35645,35646,35647,35648,35649,35650,35651,35652,35653,24103,30151,37073,35777,33437,26525,25903,21553,34584,30693,32930,33026,27713,20043,32455,32844,30452,26893,27542,25191,20540,20356,22336,25351,27490,36286,21482,26088,32440,24535,25370,25527,33267,33268,32622,24092,23769,21046,26234,31209,31258,36136,28825,30164,28382,27835,31378,20013,30405,24544,38047,34935,32456,31181,32959,37325,20210,20247,33311,21608,24030,27954,35788,31909,36724,32920,24090,21650,30385,23449,26172,39588,29664,26666,34523,26417,29482,35832,35803,36880,31481,28891,29038,25284,30633,22065,20027,33879,26609,21161,34496,36142,38136,31569],[35654,35655,35656,35657,35658,35659,35660,35661,35662,35663,35664,35665,35666,35667,35668,35669,35670,35671,35672,35673,35674,35675,35676,35677,35678,35679,35680,35681,35682,35683,35684,35685,35687,35688,35689,35690,35691,35693,35694,35695,35696,35697,35698,35699,35700,35701,35702,35703,35704,35705,35706,35707,35708,35709,35710,35711,35712,35713,35714,35715,35716,35717,35718,63,35719,35720,35721,35722,35723,35724,35725,35726,35727,35728,35729,35730,35731,35732,35733,35734,35735,35736,35737,35738,35739,35740,35741,35742,35743,35756,35761,35771,35783,35792,35818,35849,35870,20303,27880,31069,39547,25235,29226,25341,19987,30742,36716,25776,36186,31686,26729,24196,35013,22918,25758,22766,29366,26894,38181,36861,36184,22368,32512,35846,20934,25417,25305,21331,26700,29730,33537,37196,21828,30528,28796,27978,20857,21672,36164,23039,28363,28100,23388,32043,20180,31869,28371,23376,33258,28173,23383,39683,26837,36394,23447,32508,24635,32437,37049,36208,22863,25549,31199,36275,21330,26063,31062,35781,38459,32452,38075,32386,22068,37257,26368,32618,23562,36981,26152,24038,20304,26590,20570,20316,22352,24231,59408,59409,59410,59411,59412],[35896,35897,35898,35899,35900,35901,35902,35903,35904,35906,35907,35908,35909,35912,35914,35915,35917,35918,35919,35920,35921,35922,35923,35924,35926,35927,35928,35929,35931,35932,35933,35934,35935,35936,35939,35940,35941,35942,35943,35944,35945,35948,35949,35950,35951,35952,35953,35954,35956,35957,35958,35959,35963,35964,35965,35966,35967,35968,35969,35971,35972,35974,35975,63,35976,35979,35981,35982,35983,35984,35985,35986,35987,35989,35990,35991,35993,35994,35995,35996,35997,35998,35999,36e3,36001,36002,36003,36004,36005,36006,36007,36008,36009,36010,36011,36012,36013,20109,19980,20800,19984,24319,21317,19989,20120,19998,39730,23404,22121,20008,31162,20031,21269,20039,22829,29243,21358,27664,22239,32996,39319,27603,30590,40727,20022,20127,40720,20060,20073,20115,33416,23387,21868,22031,20164,21389,21405,21411,21413,21422,38757,36189,21274,21493,21286,21294,21310,36188,21350,21347,20994,21e3,21006,21037,21043,21055,21056,21068,21086,21089,21084,33967,21117,21122,21121,21136,21139,20866,32596,20155,20163,20169,20162,20200,20193,20203,20190,20251,20211,20258,20324,20213,20261,20263,20233,20267,20318,20327,25912,20314,20317],[36014,36015,36016,36017,36018,36019,36020,36021,36022,36023,36024,36025,36026,36027,36028,36029,36030,36031,36032,36033,36034,36035,36036,36037,36038,36039,36040,36041,36042,36043,36044,36045,36046,36047,36048,36049,36050,36051,36052,36053,36054,36055,36056,36057,36058,36059,36060,36061,36062,36063,36064,36065,36066,36067,36068,36069,36070,36071,36072,36073,36074,36075,36076,63,36077,36078,36079,36080,36081,36082,36083,36084,36085,36086,36087,36088,36089,36090,36091,36092,36093,36094,36095,36096,36097,36098,36099,36100,36101,36102,36103,36104,36105,36106,36107,36108,36109,20319,20311,20274,20285,20342,20340,20369,20361,20355,20367,20350,20347,20394,20348,20396,20372,20454,20456,20458,20421,20442,20451,20444,20433,20447,20472,20521,20556,20467,20524,20495,20526,20525,20478,20508,20492,20517,20520,20606,20547,20565,20552,20558,20588,20603,20645,20647,20649,20666,20694,20742,20717,20716,20710,20718,20743,20747,20189,27709,20312,20325,20430,40864,27718,31860,20846,24061,40649,39320,20865,22804,21241,21261,35335,21264,20971,22809,20821,20128,20822,20147,34926,34980,20149,33044,35026,31104,23348,34819,32696,20907,20913,20925,20924],[36110,36111,36112,36113,36114,36115,36116,36117,36118,36119,36120,36121,36122,36123,36124,36128,36177,36178,36183,36191,36197,36200,36201,36202,36204,36206,36207,36209,36210,36216,36217,36218,36219,36220,36221,36222,36223,36224,36226,36227,36230,36231,36232,36233,36236,36237,36238,36239,36240,36242,36243,36245,36246,36247,36248,36249,36250,36251,36252,36253,36254,36256,36257,63,36258,36260,36261,36262,36263,36264,36265,36266,36267,36268,36269,36270,36271,36272,36274,36278,36279,36281,36283,36285,36288,36289,36290,36293,36295,36296,36297,36298,36301,36304,36306,36307,36308,20935,20886,20898,20901,35744,35750,35751,35754,35764,35765,35767,35778,35779,35787,35791,35790,35794,35795,35796,35798,35800,35801,35804,35807,35808,35812,35816,35817,35822,35824,35827,35830,35833,35836,35839,35840,35842,35844,35847,35852,35855,35857,35858,35860,35861,35862,35865,35867,35864,35869,35871,35872,35873,35877,35879,35882,35883,35886,35887,35890,35891,35893,35894,21353,21370,38429,38434,38433,38449,38442,38461,38460,38466,38473,38484,38495,38503,38508,38514,38516,38536,38541,38551,38576,37015,37019,37021,37017,37036,37025,37044,37043,37046,37050],[36309,36312,36313,36316,36320,36321,36322,36325,36326,36327,36329,36333,36334,36336,36337,36338,36340,36342,36348,36350,36351,36352,36353,36354,36355,36356,36358,36359,36360,36363,36365,36366,36368,36369,36370,36371,36373,36374,36375,36376,36377,36378,36379,36380,36384,36385,36388,36389,36390,36391,36392,36395,36397,36400,36402,36403,36404,36406,36407,36408,36411,36412,36414,63,36415,36419,36421,36422,36428,36429,36430,36431,36432,36435,36436,36437,36438,36439,36440,36442,36443,36444,36445,36446,36447,36448,36449,36450,36451,36452,36453,36455,36456,36458,36459,36462,36465,37048,37040,37071,37061,37054,37072,37060,37063,37075,37094,37090,37084,37079,37083,37099,37103,37118,37124,37154,37150,37155,37169,37167,37177,37187,37190,21005,22850,21154,21164,21165,21182,21759,21200,21206,21232,21471,29166,30669,24308,20981,20988,39727,21430,24321,30042,24047,22348,22441,22433,22654,22716,22725,22737,22313,22316,22314,22323,22329,22318,22319,22364,22331,22338,22377,22405,22379,22406,22396,22395,22376,22381,22390,22387,22445,22436,22412,22450,22479,22439,22452,22419,22432,22485,22488,22490,22489,22482,22456,22516,22511,22520,22500,22493],[36467,36469,36471,36472,36473,36474,36475,36477,36478,36480,36482,36483,36484,36486,36488,36489,36490,36491,36492,36493,36494,36497,36498,36499,36501,36502,36503,36504,36505,36506,36507,36509,36511,36512,36513,36514,36515,36516,36517,36518,36519,36520,36521,36522,36525,36526,36528,36529,36531,36532,36533,36534,36535,36536,36537,36539,36540,36541,36542,36543,36544,36545,36546,63,36547,36548,36549,36550,36551,36552,36553,36554,36555,36556,36557,36559,36560,36561,36562,36563,36564,36565,36566,36567,36568,36569,36570,36571,36572,36573,36574,36575,36576,36577,36578,36579,36580,22539,22541,22525,22509,22528,22558,22553,22596,22560,22629,22636,22657,22665,22682,22656,39336,40729,25087,33401,33405,33407,33423,33418,33448,33412,33422,33425,33431,33433,33451,33464,33470,33456,33480,33482,33507,33432,33463,33454,33483,33484,33473,33449,33460,33441,33450,33439,33476,33486,33444,33505,33545,33527,33508,33551,33543,33500,33524,33490,33496,33548,33531,33491,33553,33562,33542,33556,33557,33504,33493,33564,33617,33627,33628,33544,33682,33596,33588,33585,33691,33630,33583,33615,33607,33603,33631,33600,33559,33632,33581,33594,33587,33638,33637],[36581,36582,36583,36584,36585,36586,36587,36588,36589,36590,36591,36592,36593,36594,36595,36596,36597,36598,36599,36600,36601,36602,36603,36604,36605,36606,36607,36608,36609,36610,36611,36612,36613,36614,36615,36616,36617,36618,36619,36620,36621,36622,36623,36624,36625,36626,36627,36628,36629,36630,36631,36632,36633,36634,36635,36636,36637,36638,36639,36640,36641,36642,36643,63,36644,36645,36646,36647,36648,36649,36650,36651,36652,36653,36654,36655,36656,36657,36658,36659,36660,36661,36662,36663,36664,36665,36666,36667,36668,36669,36670,36671,36672,36673,36674,36675,36676,33640,33563,33641,33644,33642,33645,33646,33712,33656,33715,33716,33696,33706,33683,33692,33669,33660,33718,33705,33661,33720,33659,33688,33694,33704,33722,33724,33729,33793,33765,33752,22535,33816,33803,33757,33789,33750,33820,33848,33809,33798,33748,33759,33807,33795,33784,33785,33770,33733,33728,33830,33776,33761,33884,33873,33882,33881,33907,33927,33928,33914,33929,33912,33852,33862,33897,33910,33932,33934,33841,33901,33985,33997,34e3,34022,33981,34003,33994,33983,33978,34016,33953,33977,33972,33943,34021,34019,34060,29965,34104,34032,34105,34079,34106],[36677,36678,36679,36680,36681,36682,36683,36684,36685,36686,36687,36688,36689,36690,36691,36692,36693,36694,36695,36696,36697,36698,36699,36700,36701,36702,36703,36704,36705,36706,36707,36708,36709,36714,36736,36748,36754,36765,36768,36769,36770,36772,36773,36774,36775,36778,36780,36781,36782,36783,36786,36787,36788,36789,36791,36792,36794,36795,36796,36799,36800,36803,36806,63,36809,36810,36811,36812,36813,36815,36818,36822,36823,36826,36832,36833,36835,36839,36844,36847,36849,36850,36852,36853,36854,36858,36859,36860,36862,36863,36871,36872,36876,36878,36883,36885,36888,34134,34107,34047,34044,34137,34120,34152,34148,34142,34170,30626,34115,34162,34171,34212,34216,34183,34191,34169,34222,34204,34181,34233,34231,34224,34259,34241,34268,34303,34343,34309,34345,34326,34364,24318,24328,22844,22849,32823,22869,22874,22872,21263,23586,23589,23596,23604,25164,25194,25247,25275,25290,25306,25303,25326,25378,25334,25401,25419,25411,25517,25590,25457,25466,25486,25524,25453,25516,25482,25449,25518,25532,25586,25592,25568,25599,25540,25566,25550,25682,25542,25534,25669,25665,25611,25627,25632,25612,25638,25633,25694,25732,25709,25750],[36889,36892,36899,36900,36901,36903,36904,36905,36906,36907,36908,36912,36913,36914,36915,36916,36919,36921,36922,36925,36927,36928,36931,36933,36934,36936,36937,36938,36939,36940,36942,36948,36949,36950,36953,36954,36956,36957,36958,36959,36960,36961,36964,36966,36967,36969,36970,36971,36972,36975,36976,36977,36978,36979,36982,36983,36984,36985,36986,36987,36988,36990,36993,63,36996,36997,36998,36999,37001,37002,37004,37005,37006,37007,37008,37010,37012,37014,37016,37018,37020,37022,37023,37024,37028,37029,37031,37032,37033,37035,37037,37042,37047,37052,37053,37055,37056,25722,25783,25784,25753,25786,25792,25808,25815,25828,25826,25865,25893,25902,24331,24530,29977,24337,21343,21489,21501,21481,21480,21499,21522,21526,21510,21579,21586,21587,21588,21590,21571,21537,21591,21593,21539,21554,21634,21652,21623,21617,21604,21658,21659,21636,21622,21606,21661,21712,21677,21698,21684,21714,21671,21670,21715,21716,21618,21667,21717,21691,21695,21708,21721,21722,21724,21673,21674,21668,21725,21711,21726,21787,21735,21792,21757,21780,21747,21794,21795,21775,21777,21799,21802,21863,21903,21941,21833,21869,21825,21845,21823,21840,21820],[37058,37059,37062,37064,37065,37067,37068,37069,37074,37076,37077,37078,37080,37081,37082,37086,37087,37088,37091,37092,37093,37097,37098,37100,37102,37104,37105,37106,37107,37109,37110,37111,37113,37114,37115,37116,37119,37120,37121,37123,37125,37126,37127,37128,37129,37130,37131,37132,37133,37134,37135,37136,37137,37138,37139,37140,37141,37142,37143,37144,37146,37147,37148,63,37149,37151,37152,37153,37156,37157,37158,37159,37160,37161,37162,37163,37164,37165,37166,37168,37170,37171,37172,37173,37174,37175,37176,37178,37179,37180,37181,37182,37183,37184,37185,37186,37188,21815,21846,21877,21878,21879,21811,21808,21852,21899,21970,21891,21937,21945,21896,21889,21919,21886,21974,21905,21883,21983,21949,21950,21908,21913,21994,22007,21961,22047,21969,21995,21996,21972,21990,21981,21956,21999,21989,22002,22003,21964,21965,21992,22005,21988,36756,22046,22024,22028,22017,22052,22051,22014,22016,22055,22061,22104,22073,22103,22060,22093,22114,22105,22108,22092,22100,22150,22116,22129,22123,22139,22140,22149,22163,22191,22228,22231,22237,22241,22261,22251,22265,22271,22276,22282,22281,22300,24079,24089,24084,24081,24113,24123,24124],[37189,37191,37192,37201,37203,37204,37205,37206,37208,37209,37211,37212,37215,37216,37222,37223,37224,37227,37229,37235,37242,37243,37244,37248,37249,37250,37251,37252,37254,37256,37258,37262,37263,37267,37268,37269,37270,37271,37272,37273,37276,37277,37278,37279,37280,37281,37284,37285,37286,37287,37288,37289,37291,37292,37296,37297,37298,37299,37302,37303,37304,37305,37307,63,37308,37309,37310,37311,37312,37313,37314,37315,37316,37317,37318,37320,37323,37328,37330,37331,37332,37333,37334,37335,37336,37337,37338,37339,37341,37342,37343,37344,37345,37346,37347,37348,37349,24119,24132,24148,24155,24158,24161,23692,23674,23693,23696,23702,23688,23704,23705,23697,23706,23708,23733,23714,23741,23724,23723,23729,23715,23745,23735,23748,23762,23780,23755,23781,23810,23811,23847,23846,23854,23844,23838,23814,23835,23896,23870,23860,23869,23916,23899,23919,23901,23915,23883,23882,23913,23924,23938,23961,23965,35955,23991,24005,24435,24439,24450,24455,24457,24460,24469,24473,24476,24488,24493,24501,24508,34914,24417,29357,29360,29364,29367,29368,29379,29377,29390,29389,29394,29416,29423,29417,29426,29428,29431,29441,29427,29443,29434],[37350,37351,37352,37353,37354,37355,37356,37357,37358,37359,37360,37361,37362,37363,37364,37365,37366,37367,37368,37369,37370,37371,37372,37373,37374,37375,37376,37377,37378,37379,37380,37381,37382,37383,37384,37385,37386,37387,37388,37389,37390,37391,37392,37393,37394,37395,37396,37397,37398,37399,37400,37401,37402,37403,37404,37405,37406,37407,37408,37409,37410,37411,37412,63,37413,37414,37415,37416,37417,37418,37419,37420,37421,37422,37423,37424,37425,37426,37427,37428,37429,37430,37431,37432,37433,37434,37435,37436,37437,37438,37439,37440,37441,37442,37443,37444,37445,29435,29463,29459,29473,29450,29470,29469,29461,29474,29497,29477,29484,29496,29489,29520,29517,29527,29536,29548,29551,29566,33307,22821,39143,22820,22786,39267,39271,39272,39273,39274,39275,39276,39284,39287,39293,39296,39300,39303,39306,39309,39312,39313,39315,39316,39317,24192,24209,24203,24214,24229,24224,24249,24245,24254,24243,36179,24274,24273,24283,24296,24298,33210,24516,24521,24534,24527,24579,24558,24580,24545,24548,24574,24581,24582,24554,24557,24568,24601,24629,24614,24603,24591,24589,24617,24619,24586,24639,24609,24696,24697,24699,24698,24642],[37446,37447,37448,37449,37450,37451,37452,37453,37454,37455,37456,37457,37458,37459,37460,37461,37462,37463,37464,37465,37466,37467,37468,37469,37470,37471,37472,37473,37474,37475,37476,37477,37478,37479,37480,37481,37482,37483,37484,37485,37486,37487,37488,37489,37490,37491,37493,37494,37495,37496,37497,37498,37499,37500,37501,37502,37503,37504,37505,37506,37507,37508,37509,63,37510,37511,37512,37513,37514,37515,37516,37517,37519,37520,37521,37522,37523,37524,37525,37526,37527,37528,37529,37530,37531,37532,37533,37534,37535,37536,37537,37538,37539,37540,37541,37542,37543,24682,24701,24726,24730,24749,24733,24707,24722,24716,24731,24812,24763,24753,24797,24792,24774,24794,24756,24864,24870,24853,24867,24820,24832,24846,24875,24906,24949,25004,24980,24999,25015,25044,25077,24541,38579,38377,38379,38385,38387,38389,38390,38396,38398,38403,38404,38406,38408,38410,38411,38412,38413,38415,38418,38421,38422,38423,38425,38426,20012,29247,25109,27701,27732,27740,27722,27811,27781,27792,27796,27788,27752,27753,27764,27766,27782,27817,27856,27860,27821,27895,27896,27889,27863,27826,27872,27862,27898,27883,27886,27825,27859,27887,27902],[37544,37545,37546,37547,37548,37549,37551,37552,37553,37554,37555,37556,37557,37558,37559,37560,37561,37562,37563,37564,37565,37566,37567,37568,37569,37570,37571,37572,37573,37574,37575,37577,37578,37579,37580,37581,37582,37583,37584,37585,37586,37587,37588,37589,37590,37591,37592,37593,37594,37595,37596,37597,37598,37599,37600,37601,37602,37603,37604,37605,37606,37607,37608,63,37609,37610,37611,37612,37613,37614,37615,37616,37617,37618,37619,37620,37621,37622,37623,37624,37625,37626,37627,37628,37629,37630,37631,37632,37633,37634,37635,37636,37637,37638,37639,37640,37641,27961,27943,27916,27971,27976,27911,27908,27929,27918,27947,27981,27950,27957,27930,27983,27986,27988,27955,28049,28015,28062,28064,27998,28051,28052,27996,28e3,28028,28003,28186,28103,28101,28126,28174,28095,28128,28177,28134,28125,28121,28182,28075,28172,28078,28203,28270,28238,28267,28338,28255,28294,28243,28244,28210,28197,28228,28383,28337,28312,28384,28461,28386,28325,28327,28349,28347,28343,28375,28340,28367,28303,28354,28319,28514,28486,28487,28452,28437,28409,28463,28470,28491,28532,28458,28425,28457,28553,28557,28556,28536,28530,28540,28538,28625],[37642,37643,37644,37645,37646,37647,37648,37649,37650,37651,37652,37653,37654,37655,37656,37657,37658,37659,37660,37661,37662,37663,37664,37665,37666,37667,37668,37669,37670,37671,37672,37673,37674,37675,37676,37677,37678,37679,37680,37681,37682,37683,37684,37685,37686,37687,37688,37689,37690,37691,37692,37693,37695,37696,37697,37698,37699,37700,37701,37702,37703,37704,37705,63,37706,37707,37708,37709,37710,37711,37712,37713,37714,37715,37716,37717,37718,37719,37720,37721,37722,37723,37724,37725,37726,37727,37728,37729,37730,37731,37732,37733,37734,37735,37736,37737,37739,28617,28583,28601,28598,28610,28641,28654,28638,28640,28655,28698,28707,28699,28729,28725,28751,28766,23424,23428,23445,23443,23461,23480,29999,39582,25652,23524,23534,35120,23536,36423,35591,36790,36819,36821,36837,36846,36836,36841,36838,36851,36840,36869,36868,36875,36902,36881,36877,36886,36897,36917,36918,36909,36911,36932,36945,36946,36944,36968,36952,36962,36955,26297,36980,36989,36994,37e3,36995,37003,24400,24407,24406,24408,23611,21675,23632,23641,23409,23651,23654,32700,24362,24361,24365,33396,24380,39739,23662,22913,22915,22925,22953,22954,22947],[37740,37741,37742,37743,37744,37745,37746,37747,37748,37749,37750,37751,37752,37753,37754,37755,37756,37757,37758,37759,37760,37761,37762,37763,37764,37765,37766,37767,37768,37769,37770,37771,37772,37773,37774,37776,37777,37778,37779,37780,37781,37782,37783,37784,37785,37786,37787,37788,37789,37790,37791,37792,37793,37794,37795,37796,37797,37798,37799,37800,37801,37802,37803,63,37804,37805,37806,37807,37808,37809,37810,37811,37812,37813,37814,37815,37816,37817,37818,37819,37820,37821,37822,37823,37824,37825,37826,37827,37828,37829,37830,37831,37832,37833,37835,37836,37837,22935,22986,22955,22942,22948,22994,22962,22959,22999,22974,23045,23046,23005,23048,23011,23e3,23033,23052,23049,23090,23092,23057,23075,23059,23104,23143,23114,23125,23100,23138,23157,33004,23210,23195,23159,23162,23230,23275,23218,23250,23252,23224,23264,23267,23281,23254,23270,23256,23260,23305,23319,23318,23346,23351,23360,23573,23580,23386,23397,23411,23377,23379,23394,39541,39543,39544,39546,39551,39549,39552,39553,39557,39560,39562,39568,39570,39571,39574,39576,39579,39580,39581,39583,39584,39586,39587,39589,39591,32415,32417,32419,32421,32424,32425],[37838,37839,37840,37841,37842,37843,37844,37845,37847,37848,37849,37850,37851,37852,37853,37854,37855,37856,37857,37858,37859,37860,37861,37862,37863,37864,37865,37866,37867,37868,37869,37870,37871,37872,37873,37874,37875,37876,37877,37878,37879,37880,37881,37882,37883,37884,37885,37886,37887,37888,37889,37890,37891,37892,37893,37894,37895,37896,37897,37898,37899,37900,37901,63,37902,37903,37904,37905,37906,37907,37908,37909,37910,37911,37912,37913,37914,37915,37916,37917,37918,37919,37920,37921,37922,37923,37924,37925,37926,37927,37928,37929,37930,37931,37932,37933,37934,32429,32432,32446,32448,32449,32450,32457,32459,32460,32464,32468,32471,32475,32480,32481,32488,32491,32494,32495,32497,32498,32525,32502,32506,32507,32510,32513,32514,32515,32519,32520,32523,32524,32527,32529,32530,32535,32537,32540,32539,32543,32545,32546,32547,32548,32549,32550,32551,32554,32555,32556,32557,32559,32560,32561,32562,32563,32565,24186,30079,24027,30014,37013,29582,29585,29614,29602,29599,29647,29634,29649,29623,29619,29632,29641,29640,29669,29657,39036,29706,29673,29671,29662,29626,29682,29711,29738,29787,29734,29733,29736,29744,29742,29740],[37935,37936,37937,37938,37939,37940,37941,37942,37943,37944,37945,37946,37947,37948,37949,37951,37952,37953,37954,37955,37956,37957,37958,37959,37960,37961,37962,37963,37964,37965,37966,37967,37968,37969,37970,37971,37972,37973,37974,37975,37976,37977,37978,37979,37980,37981,37982,37983,37984,37985,37986,37987,37988,37989,37990,37991,37992,37993,37994,37996,37997,37998,37999,63,38e3,38001,38002,38003,38004,38005,38006,38007,38008,38009,38010,38011,38012,38013,38014,38015,38016,38017,38018,38019,38020,38033,38038,38040,38087,38095,38099,38100,38106,38118,38139,38172,38176,29723,29722,29761,29788,29783,29781,29785,29815,29805,29822,29852,29838,29824,29825,29831,29835,29854,29864,29865,29840,29863,29906,29882,38890,38891,38892,26444,26451,26462,26440,26473,26533,26503,26474,26483,26520,26535,26485,26536,26526,26541,26507,26487,26492,26608,26633,26584,26634,26601,26544,26636,26585,26549,26586,26547,26589,26624,26563,26552,26594,26638,26561,26621,26674,26675,26720,26721,26702,26722,26692,26724,26755,26653,26709,26726,26689,26727,26688,26686,26698,26697,26665,26805,26767,26740,26743,26771,26731,26818,26990,26876,26911,26912,26873],[38183,38195,38205,38211,38216,38219,38229,38234,38240,38254,38260,38261,38263,38264,38265,38266,38267,38268,38269,38270,38272,38273,38274,38275,38276,38277,38278,38279,38280,38281,38282,38283,38284,38285,38286,38287,38288,38289,38290,38291,38292,38293,38294,38295,38296,38297,38298,38299,38300,38301,38302,38303,38304,38305,38306,38307,38308,38309,38310,38311,38312,38313,38314,63,38315,38316,38317,38318,38319,38320,38321,38322,38323,38324,38325,38326,38327,38328,38329,38330,38331,38332,38333,38334,38335,38336,38337,38338,38339,38340,38341,38342,38343,38344,38345,38346,38347,26916,26864,26891,26881,26967,26851,26896,26993,26937,26976,26946,26973,27012,26987,27008,27032,27e3,26932,27084,27015,27016,27086,27017,26982,26979,27001,27035,27047,27067,27051,27053,27092,27057,27073,27082,27103,27029,27104,27021,27135,27183,27117,27159,27160,27237,27122,27204,27198,27296,27216,27227,27189,27278,27257,27197,27176,27224,27260,27281,27280,27305,27287,27307,29495,29522,27521,27522,27527,27524,27538,27539,27533,27546,27547,27553,27562,36715,36717,36721,36722,36723,36725,36726,36728,36727,36729,36730,36732,36734,36737,36738,36740,36743,36747],[38348,38349,38350,38351,38352,38353,38354,38355,38356,38357,38358,38359,38360,38361,38362,38363,38364,38365,38366,38367,38368,38369,38370,38371,38372,38373,38374,38375,38380,38399,38407,38419,38424,38427,38430,38432,38435,38436,38437,38438,38439,38440,38441,38443,38444,38445,38447,38448,38455,38456,38457,38458,38462,38465,38467,38474,38478,38479,38481,38482,38483,38486,38487,63,38488,38489,38490,38492,38493,38494,38496,38499,38501,38502,38507,38509,38510,38511,38512,38513,38515,38520,38521,38522,38523,38524,38525,38526,38527,38528,38529,38530,38531,38532,38535,38537,38538,36749,36750,36751,36760,36762,36558,25099,25111,25115,25119,25122,25121,25125,25124,25132,33255,29935,29940,29951,29967,29969,29971,25908,26094,26095,26096,26122,26137,26482,26115,26133,26112,28805,26359,26141,26164,26161,26166,26165,32774,26207,26196,26177,26191,26198,26209,26199,26231,26244,26252,26279,26269,26302,26331,26332,26342,26345,36146,36147,36150,36155,36157,36160,36165,36166,36168,36169,36167,36173,36181,36185,35271,35274,35275,35276,35278,35279,35280,35281,29294,29343,29277,29286,29295,29310,29311,29316,29323,29325,29327,29330,25352,25394,25520],[38540,38542,38545,38546,38547,38549,38550,38554,38555,38557,38558,38559,38560,38561,38562,38563,38564,38565,38566,38568,38569,38570,38571,38572,38573,38574,38575,38577,38578,38580,38581,38583,38584,38586,38587,38591,38594,38595,38600,38602,38603,38608,38609,38611,38612,38614,38615,38616,38617,38618,38619,38620,38621,38622,38623,38625,38626,38627,38628,38629,38630,38631,38635,63,38636,38637,38638,38640,38641,38642,38644,38645,38648,38650,38651,38652,38653,38655,38658,38659,38661,38666,38667,38668,38672,38673,38674,38676,38677,38679,38680,38681,38682,38683,38685,38687,38688,25663,25816,32772,27626,27635,27645,27637,27641,27653,27655,27654,27661,27669,27672,27673,27674,27681,27689,27684,27690,27698,25909,25941,25963,29261,29266,29270,29232,34402,21014,32927,32924,32915,32956,26378,32957,32945,32939,32941,32948,32951,32999,33e3,33001,33002,32987,32962,32964,32985,32973,32983,26384,32989,33003,33009,33012,33005,33037,33038,33010,33020,26389,33042,35930,33078,33054,33068,33048,33074,33096,33100,33107,33140,33113,33114,33137,33120,33129,33148,33149,33133,33127,22605,23221,33160,33154,33169,28373,33187,33194,33228,26406,33226,33211],[38689,38690,38691,38692,38693,38694,38695,38696,38697,38699,38700,38702,38703,38705,38707,38708,38709,38710,38711,38714,38715,38716,38717,38719,38720,38721,38722,38723,38724,38725,38726,38727,38728,38729,38730,38731,38732,38733,38734,38735,38736,38737,38740,38741,38743,38744,38746,38748,38749,38751,38755,38756,38758,38759,38760,38762,38763,38764,38765,38766,38767,38768,38769,63,38770,38773,38775,38776,38777,38778,38779,38781,38782,38783,38784,38785,38786,38787,38788,38790,38791,38792,38793,38794,38796,38798,38799,38800,38803,38805,38806,38807,38809,38810,38811,38812,38813,33217,33190,27428,27447,27449,27459,27462,27481,39121,39122,39123,39125,39129,39130,27571,24384,27586,35315,26e3,40785,26003,26044,26054,26052,26051,26060,26062,26066,26070,28800,28828,28822,28829,28859,28864,28855,28843,28849,28904,28874,28944,28947,28950,28975,28977,29043,29020,29032,28997,29042,29002,29048,29050,29080,29107,29109,29096,29088,29152,29140,29159,29177,29213,29224,28780,28952,29030,29113,25150,25149,25155,25160,25161,31035,31040,31046,31049,31067,31068,31059,31066,31074,31063,31072,31087,31079,31098,31109,31114,31130,31143,31155,24529,24528],[38814,38815,38817,38818,38820,38821,38822,38823,38824,38825,38826,38828,38830,38832,38833,38835,38837,38838,38839,38840,38841,38842,38843,38844,38845,38846,38847,38848,38849,38850,38851,38852,38853,38854,38855,38856,38857,38858,38859,38860,38861,38862,38863,38864,38865,38866,38867,38868,38869,38870,38871,38872,38873,38874,38875,38876,38877,38878,38879,38880,38881,38882,38883,63,38884,38885,38888,38894,38895,38896,38897,38898,38900,38903,38904,38905,38906,38907,38908,38909,38910,38911,38912,38913,38914,38915,38916,38917,38918,38919,38920,38921,38922,38923,38924,38925,38926,24636,24669,24666,24679,24641,24665,24675,24747,24838,24845,24925,25001,24989,25035,25041,25094,32896,32895,27795,27894,28156,30710,30712,30720,30729,30743,30744,30737,26027,30765,30748,30749,30777,30778,30779,30751,30780,30757,30764,30755,30761,30798,30829,30806,30807,30758,30800,30791,30796,30826,30875,30867,30874,30855,30876,30881,30883,30898,30905,30885,30932,30937,30921,30956,30962,30981,30964,30995,31012,31006,31028,40859,40697,40699,40700,30449,30468,30477,30457,30471,30472,30490,30498,30489,30509,30502,30517,30520,30544,30545,30535,30531,30554,30568],[38927,38928,38929,38930,38931,38932,38933,38934,38935,38936,38937,38938,38939,38940,38941,38942,38943,38944,38945,38946,38947,38948,38949,38950,38951,38952,38953,38954,38955,38956,38957,38958,38959,38960,38961,38962,38963,38964,38965,38966,38967,38968,38969,38970,38971,38972,38973,38974,38975,38976,38977,38978,38979,38980,38981,38982,38983,38984,38985,38986,38987,38988,38989,63,38990,38991,38992,38993,38994,38995,38996,38997,38998,38999,39e3,39001,39002,39003,39004,39005,39006,39007,39008,39009,39010,39011,39012,39013,39014,39015,39016,39017,39018,39019,39020,39021,39022,30562,30565,30591,30605,30589,30592,30604,30609,30623,30624,30640,30645,30653,30010,30016,30030,30027,30024,30043,30066,30073,30083,32600,32609,32607,35400,32616,32628,32625,32633,32641,32638,30413,30437,34866,38021,38022,38023,38027,38026,38028,38029,38031,38032,38036,38039,38037,38042,38043,38044,38051,38052,38059,38058,38061,38060,38063,38064,38066,38068,38070,38071,38072,38073,38074,38076,38077,38079,38084,38088,38089,38090,38091,38092,38093,38094,38096,38097,38098,38101,38102,38103,38105,38104,38107,38110,38111,38112,38114,38116,38117,38119,38120,38122],[39023,39024,39025,39026,39027,39028,39051,39054,39058,39061,39065,39075,39080,39081,39082,39083,39084,39085,39086,39087,39088,39089,39090,39091,39092,39093,39094,39095,39096,39097,39098,39099,39100,39101,39102,39103,39104,39105,39106,39107,39108,39109,39110,39111,39112,39113,39114,39115,39116,39117,39119,39120,39124,39126,39127,39131,39132,39133,39136,39137,39138,39139,39140,63,39141,39142,39145,39146,39147,39148,39149,39150,39151,39152,39153,39154,39155,39156,39157,39158,39159,39160,39161,39162,39163,39164,39165,39166,39167,39168,39169,39170,39171,39172,39173,39174,39175,38121,38123,38126,38127,38131,38132,38133,38135,38137,38140,38141,38143,38147,38146,38150,38151,38153,38154,38157,38158,38159,38162,38163,38164,38165,38166,38168,38171,38173,38174,38175,38178,38186,38187,38185,38188,38193,38194,38196,38198,38199,38200,38204,38206,38207,38210,38197,38212,38213,38214,38217,38220,38222,38223,38226,38227,38228,38230,38231,38232,38233,38235,38238,38239,38237,38241,38242,38244,38245,38246,38247,38248,38249,38250,38251,38252,38255,38257,38258,38259,38202,30695,30700,38601,31189,31213,31203,31211,31238,23879,31235,31234,31262,31252],[39176,39177,39178,39179,39180,39182,39183,39185,39186,39187,39188,39189,39190,39191,39192,39193,39194,39195,39196,39197,39198,39199,39200,39201,39202,39203,39204,39205,39206,39207,39208,39209,39210,39211,39212,39213,39215,39216,39217,39218,39219,39220,39221,39222,39223,39224,39225,39226,39227,39228,39229,39230,39231,39232,39233,39234,39235,39236,39237,39238,39239,39240,39241,63,39242,39243,39244,39245,39246,39247,39248,39249,39250,39251,39254,39255,39256,39257,39258,39259,39260,39261,39262,39263,39264,39265,39266,39268,39270,39283,39288,39289,39291,39294,39298,39299,39305,31289,31287,31313,40655,39333,31344,30344,30350,30355,30361,30372,29918,29920,29996,40480,40482,40488,40489,40490,40491,40492,40498,40497,40502,40504,40503,40505,40506,40510,40513,40514,40516,40518,40519,40520,40521,40523,40524,40526,40529,40533,40535,40538,40539,40540,40542,40547,40550,40551,40552,40553,40554,40555,40556,40561,40557,40563,30098,30100,30102,30112,30109,30124,30115,30131,30132,30136,30148,30129,30128,30147,30146,30166,30157,30179,30184,30182,30180,30187,30183,30211,30193,30204,30207,30224,30208,30213,30220,30231,30218,30245,30232,30229,30233],[39308,39310,39322,39323,39324,39325,39326,39327,39328,39329,39330,39331,39332,39334,39335,39337,39338,39339,39340,39341,39342,39343,39344,39345,39346,39347,39348,39349,39350,39351,39352,39353,39354,39355,39356,39357,39358,39359,39360,39361,39362,39363,39364,39365,39366,39367,39368,39369,39370,39371,39372,39373,39374,39375,39376,39377,39378,39379,39380,39381,39382,39383,39384,63,39385,39386,39387,39388,39389,39390,39391,39392,39393,39394,39395,39396,39397,39398,39399,39400,39401,39402,39403,39404,39405,39406,39407,39408,39409,39410,39411,39412,39413,39414,39415,39416,39417,30235,30268,30242,30240,30272,30253,30256,30271,30261,30275,30270,30259,30285,30302,30292,30300,30294,30315,30319,32714,31462,31352,31353,31360,31366,31368,31381,31398,31392,31404,31400,31405,31411,34916,34921,34930,34941,34943,34946,34978,35014,34999,35004,35017,35042,35022,35043,35045,35057,35098,35068,35048,35070,35056,35105,35097,35091,35099,35082,35124,35115,35126,35137,35174,35195,30091,32997,30386,30388,30684,32786,32788,32790,32796,32800,32802,32805,32806,32807,32809,32808,32817,32779,32821,32835,32838,32845,32850,32873,32881,35203,39032,39040,39043],[39418,39419,39420,39421,39422,39423,39424,39425,39426,39427,39428,39429,39430,39431,39432,39433,39434,39435,39436,39437,39438,39439,39440,39441,39442,39443,39444,39445,39446,39447,39448,39449,39450,39451,39452,39453,39454,39455,39456,39457,39458,39459,39460,39461,39462,39463,39464,39465,39466,39467,39468,39469,39470,39471,39472,39473,39474,39475,39476,39477,39478,39479,39480,63,39481,39482,39483,39484,39485,39486,39487,39488,39489,39490,39491,39492,39493,39494,39495,39496,39497,39498,39499,39500,39501,39502,39503,39504,39505,39506,39507,39508,39509,39510,39511,39512,39513,39049,39052,39053,39055,39060,39066,39067,39070,39071,39073,39074,39077,39078,34381,34388,34412,34414,34431,34426,34428,34427,34472,34445,34443,34476,34461,34471,34467,34474,34451,34473,34486,34500,34485,34510,34480,34490,34481,34479,34505,34511,34484,34537,34545,34546,34541,34547,34512,34579,34526,34548,34527,34520,34513,34563,34567,34552,34568,34570,34573,34569,34595,34619,34590,34597,34606,34586,34622,34632,34612,34609,34601,34615,34623,34690,34594,34685,34686,34683,34656,34672,34636,34670,34699,34643,34659,34684,34660,34649,34661,34707,34735,34728,34770],[39514,39515,39516,39517,39518,39519,39520,39521,39522,39523,39524,39525,39526,39527,39528,39529,39530,39531,39538,39555,39561,39565,39566,39572,39573,39577,39590,39593,39594,39595,39596,39597,39598,39599,39602,39603,39604,39605,39609,39611,39613,39614,39615,39619,39620,39622,39623,39624,39625,39626,39629,39630,39631,39632,39634,39636,39637,39638,39639,39641,39642,39643,39644,63,39645,39646,39648,39650,39651,39652,39653,39655,39656,39657,39658,39660,39662,39664,39665,39666,39667,39668,39669,39670,39671,39672,39674,39676,39677,39678,39679,39680,39681,39682,39684,39685,39686,34758,34696,34693,34733,34711,34691,34731,34789,34732,34741,34739,34763,34771,34749,34769,34752,34762,34779,34794,34784,34798,34838,34835,34814,34826,34843,34849,34873,34876,32566,32578,32580,32581,33296,31482,31485,31496,31491,31492,31509,31498,31531,31503,31559,31544,31530,31513,31534,31537,31520,31525,31524,31539,31550,31518,31576,31578,31557,31605,31564,31581,31584,31598,31611,31586,31602,31601,31632,31654,31655,31672,31660,31645,31656,31621,31658,31644,31650,31659,31668,31697,31681,31692,31709,31706,31717,31718,31722,31756,31742,31740,31759,31766,31755],[39687,39689,39690,39691,39692,39693,39694,39696,39697,39698,39700,39701,39702,39703,39704,39705,39706,39707,39708,39709,39710,39712,39713,39714,39716,39717,39718,39719,39720,39721,39722,39723,39724,39725,39726,39728,39729,39731,39732,39733,39734,39735,39736,39737,39738,39741,39742,39743,39744,39750,39754,39755,39756,39758,39760,39762,39763,39765,39766,39767,39768,39769,39770,63,39771,39772,39773,39774,39775,39776,39777,39778,39779,39780,39781,39782,39783,39784,39785,39786,39787,39788,39789,39790,39791,39792,39793,39794,39795,39796,39797,39798,39799,39800,39801,39802,39803,31775,31786,31782,31800,31809,31808,33278,33281,33282,33284,33260,34884,33313,33314,33315,33325,33327,33320,33323,33336,33339,33331,33332,33342,33348,33353,33355,33359,33370,33375,33384,34942,34949,34952,35032,35039,35166,32669,32671,32679,32687,32688,32690,31868,25929,31889,31901,31900,31902,31906,31922,31932,31933,31937,31943,31948,31949,31944,31941,31959,31976,33390,26280,32703,32718,32725,32741,32737,32742,32745,32750,32755,31992,32119,32166,32174,32327,32411,40632,40628,36211,36228,36244,36241,36273,36199,36205,35911,35913,37194,37200,37198,37199,37220],[39804,39805,39806,39807,39808,39809,39810,39811,39812,39813,39814,39815,39816,39817,39818,39819,39820,39821,39822,39823,39824,39825,39826,39827,39828,39829,39830,39831,39832,39833,39834,39835,39836,39837,39838,39839,39840,39841,39842,39843,39844,39845,39846,39847,39848,39849,39850,39851,39852,39853,39854,39855,39856,39857,39858,39859,39860,39861,39862,39863,39864,39865,39866,63,39867,39868,39869,39870,39871,39872,39873,39874,39875,39876,39877,39878,39879,39880,39881,39882,39883,39884,39885,39886,39887,39888,39889,39890,39891,39892,39893,39894,39895,39896,39897,39898,39899,37218,37217,37232,37225,37231,37245,37246,37234,37236,37241,37260,37253,37264,37261,37265,37282,37283,37290,37293,37294,37295,37301,37300,37306,35925,40574,36280,36331,36357,36441,36457,36277,36287,36284,36282,36292,36310,36311,36314,36318,36302,36303,36315,36294,36332,36343,36344,36323,36345,36347,36324,36361,36349,36372,36381,36383,36396,36398,36387,36399,36410,36416,36409,36405,36413,36401,36425,36417,36418,36433,36434,36426,36464,36470,36476,36463,36468,36485,36495,36500,36496,36508,36510,35960,35970,35978,35973,35992,35988,26011,35286,35294,35290,35292],[39900,39901,39902,39903,39904,39905,39906,39907,39908,39909,39910,39911,39912,39913,39914,39915,39916,39917,39918,39919,39920,39921,39922,39923,39924,39925,39926,39927,39928,39929,39930,39931,39932,39933,39934,39935,39936,39937,39938,39939,39940,39941,39942,39943,39944,39945,39946,39947,39948,39949,39950,39951,39952,39953,39954,39955,39956,39957,39958,39959,39960,39961,39962,63,39963,39964,39965,39966,39967,39968,39969,39970,39971,39972,39973,39974,39975,39976,39977,39978,39979,39980,39981,39982,39983,39984,39985,39986,39987,39988,39989,39990,39991,39992,39993,39994,39995,35301,35307,35311,35390,35622,38739,38633,38643,38639,38662,38657,38664,38671,38670,38698,38701,38704,38718,40832,40835,40837,40838,40839,40840,40841,40842,40844,40702,40715,40717,38585,38588,38589,38606,38610,30655,38624,37518,37550,37576,37694,37738,37834,37775,37950,37995,40063,40066,40069,40070,40071,40072,31267,40075,40078,40080,40081,40082,40084,40085,40090,40091,40094,40095,40096,40097,40098,40099,40101,40102,40103,40104,40105,40107,40109,40110,40112,40113,40114,40115,40116,40117,40118,40119,40122,40123,40124,40125,40132,40133,40134,40135,40138,40139],[39996,39997,39998,39999,4e4,40001,40002,40003,40004,40005,40006,40007,40008,40009,40010,40011,40012,40013,40014,40015,40016,40017,40018,40019,40020,40021,40022,40023,40024,40025,40026,40027,40028,40029,40030,40031,40032,40033,40034,40035,40036,40037,40038,40039,40040,40041,40042,40043,40044,40045,40046,40047,40048,40049,40050,40051,40052,40053,40054,40055,40056,40057,40058,63,40059,40061,40062,40064,40067,40068,40073,40074,40076,40079,40083,40086,40087,40088,40089,40093,40106,40108,40111,40121,40126,40127,40128,40129,40130,40136,40137,40145,40146,40154,40155,40160,40161,40140,40141,40142,40143,40144,40147,40148,40149,40151,40152,40153,40156,40157,40159,40162,38780,38789,38801,38802,38804,38831,38827,38819,38834,38836,39601,39600,39607,40536,39606,39610,39612,39617,39616,39621,39618,39627,39628,39633,39749,39747,39751,39753,39752,39757,39761,39144,39181,39214,39253,39252,39647,39649,39654,39663,39659,39675,39661,39673,39688,39695,39699,39711,39715,40637,40638,32315,40578,40583,40584,40587,40594,37846,40605,40607,40667,40668,40669,40672,40671,40674,40681,40679,40677,40682,40687,40738,40748,40751,40761,40759,40765,40766,40772],[40163,40164,40165,40166,40167,40168,40169,40170,40171,40172,40173,40174,40175,40176,40177,40178,40179,40180,40181,40182,40183,40184,40185,40186,40187,40188,40189,40190,40191,40192,40193,40194,40195,40196,40197,40198,40199,40200,40201,40202,40203,40204,40205,40206,40207,40208,40209,40210,40211,40212,40213,40214,40215,40216,40217,40218,40219,40220,40221,40222,40223,40224,40225,63,40226,40227,40228,40229,40230,40231,40232,40233,40234,40235,40236,40237,40238,40239,40240,40241,40242,40243,40244,40245,40246,40247,40248,40249,40250,40251,40252,40253,40254,40255,40256,40257,40258,57908,57909,57910,57911,57912,57913,57914,57915,57916,57917,57918,57919,57920,57921,57922,57923,57924,57925,57926,57927,57928,57929,57930,57931,57932,57933,57934,57935,57936,57937,57938,57939,57940,57941,57942,57943,57944,57945,57946,57947,57948,57949,57950,57951,57952,57953,57954,57955,57956,57957,57958,57959,57960,57961,57962,57963,57964,57965,57966,57967,57968,57969,57970,57971,57972,57973,57974,57975,57976,57977,57978,57979,57980,57981,57982,57983,57984,57985,57986,57987,57988,57989,57990,57991,57992,57993,57994,57995,57996,57997,57998,57999,58e3,58001],[40259,40260,40261,40262,40263,40264,40265,40266,40267,40268,40269,40270,40271,40272,40273,40274,40275,40276,40277,40278,40279,40280,40281,40282,40283,40284,40285,40286,40287,40288,40289,40290,40291,40292,40293,40294,40295,40296,40297,40298,40299,40300,40301,40302,40303,40304,40305,40306,40307,40308,40309,40310,40311,40312,40313,40314,40315,40316,40317,40318,40319,40320,40321,63,40322,40323,40324,40325,40326,40327,40328,40329,40330,40331,40332,40333,40334,40335,40336,40337,40338,40339,40340,40341,40342,40343,40344,40345,40346,40347,40348,40349,40350,40351,40352,40353,40354,58002,58003,58004,58005,58006,58007,58008,58009,58010,58011,58012,58013,58014,58015,58016,58017,58018,58019,58020,58021,58022,58023,58024,58025,58026,58027,58028,58029,58030,58031,58032,58033,58034,58035,58036,58037,58038,58039,58040,58041,58042,58043,58044,58045,58046,58047,58048,58049,58050,58051,58052,58053,58054,58055,58056,58057,58058,58059,58060,58061,58062,58063,58064,58065,58066,58067,58068,58069,58070,58071,58072,58073,58074,58075,58076,58077,58078,58079,58080,58081,58082,58083,58084,58085,58086,58087,58088,58089,58090,58091,58092,58093,58094,58095],[40355,40356,40357,40358,40359,40360,40361,40362,40363,40364,40365,40366,40367,40368,40369,40370,40371,40372,40373,40374,40375,40376,40377,40378,40379,40380,40381,40382,40383,40384,40385,40386,40387,40388,40389,40390,40391,40392,40393,40394,40395,40396,40397,40398,40399,40400,40401,40402,40403,40404,40405,40406,40407,40408,40409,40410,40411,40412,40413,40414,40415,40416,40417,63,40418,40419,40420,40421,40422,40423,40424,40425,40426,40427,40428,40429,40430,40431,40432,40433,40434,40435,40436,40437,40438,40439,40440,40441,40442,40443,40444,40445,40446,40447,40448,40449,40450,58096,58097,58098,58099,58100,58101,58102,58103,58104,58105,58106,58107,58108,58109,58110,58111,58112,58113,58114,58115,58116,58117,58118,58119,58120,58121,58122,58123,58124,58125,58126,58127,58128,58129,58130,58131,58132,58133,58134,58135,58136,58137,58138,58139,58140,58141,58142,58143,58144,58145,58146,58147,58148,58149,58150,58151,58152,58153,58154,58155,58156,58157,58158,58159,58160,58161,58162,58163,58164,58165,58166,58167,58168,58169,58170,58171,58172,58173,58174,58175,58176,58177,58178,58179,58180,58181,58182,58183,58184,58185,58186,58187,58188,58189],[40451,40452,40453,40454,40455,40456,40457,40458,40459,40460,40461,40462,40463,40464,40465,40466,40467,40468,40469,40470,40471,40472,40473,40474,40475,40476,40477,40478,40484,40487,40494,40496,40500,40507,40508,40512,40525,40528,40530,40531,40532,40534,40537,40541,40543,40544,40545,40546,40549,40558,40559,40562,40564,40565,40566,40567,40568,40569,40570,40571,40572,40573,40576,63,40577,40579,40580,40581,40582,40585,40586,40588,40589,40590,40591,40592,40593,40596,40597,40598,40599,40600,40601,40602,40603,40604,40606,40608,40609,40610,40611,40612,40613,40615,40616,40617,40618,58190,58191,58192,58193,58194,58195,58196,58197,58198,58199,58200,58201,58202,58203,58204,58205,58206,58207,58208,58209,58210,58211,58212,58213,58214,58215,58216,58217,58218,58219,58220,58221,58222,58223,58224,58225,58226,58227,58228,58229,58230,58231,58232,58233,58234,58235,58236,58237,58238,58239,58240,58241,58242,58243,58244,58245,58246,58247,58248,58249,58250,58251,58252,58253,58254,58255,58256,58257,58258,58259,58260,58261,58262,58263,58264,58265,58266,58267,58268,58269,58270,58271,58272,58273,58274,58275,58276,58277,58278,58279,58280,58281,58282,58283],[40619,40620,40621,40622,40623,40624,40625,40626,40627,40629,40630,40631,40633,40634,40636,40639,40640,40641,40642,40643,40645,40646,40647,40648,40650,40651,40652,40656,40658,40659,40661,40662,40663,40665,40666,40670,40673,40675,40676,40678,40680,40683,40684,40685,40686,40688,40689,40690,40691,40692,40693,40694,40695,40696,40698,40701,40703,40704,40705,40706,40707,40708,40709,63,40710,40711,40712,40713,40714,40716,40719,40721,40722,40724,40725,40726,40728,40730,40731,40732,40733,40734,40735,40737,40739,40740,40741,40742,40743,40744,40745,40746,40747,40749,40750,40752,40753,58284,58285,58286,58287,58288,58289,58290,58291,58292,58293,58294,58295,58296,58297,58298,58299,58300,58301,58302,58303,58304,58305,58306,58307,58308,58309,58310,58311,58312,58313,58314,58315,58316,58317,58318,58319,58320,58321,58322,58323,58324,58325,58326,58327,58328,58329,58330,58331,58332,58333,58334,58335,58336,58337,58338,58339,58340,58341,58342,58343,58344,58345,58346,58347,58348,58349,58350,58351,58352,58353,58354,58355,58356,58357,58358,58359,58360,58361,58362,58363,58364,58365,58366,58367,58368,58369,58370,58371,58372,58373,58374,58375,58376,58377],[40754,40755,40756,40757,40758,40760,40762,40764,40767,40768,40769,40770,40771,40773,40774,40775,40776,40777,40778,40779,40780,40781,40782,40783,40786,40787,40788,40789,40790,40791,40792,40793,40794,40795,40796,40797,40798,40799,40800,40801,40802,40803,40804,40805,40806,40807,40808,40809,40810,40811,40812,40813,40814,40815,40816,40817,40818,40819,40820,40821,40822,40823,40824,63,40825,40826,40827,40828,40829,40830,40833,40834,40845,40846,40847,40848,40849,40850,40851,40852,40853,40854,40855,40856,40860,40861,40862,40865,40866,40867,40868,40869,63788,63865,63893,63975,63985,58378,58379,58380,58381,58382,58383,58384,58385,58386,58387,58388,58389,58390,58391,58392,58393,58394,58395,58396,58397,58398,58399,58400,58401,58402,58403,58404,58405,58406,58407,58408,58409,58410,58411,58412,58413,58414,58415,58416,58417,58418,58419,58420,58421,58422,58423,58424,58425,58426,58427,58428,58429,58430,58431,58432,58433,58434,58435,58436,58437,58438,58439,58440,58441,58442,58443,58444,58445,58446,58447,58448,58449,58450,58451,58452,58453,58454,58455,58456,58457,58458,58459,58460,58461,58462,58463,58464,58465,58466,58467,58468,58469,58470,58471],[64012,64013,64014,64015,64017,64019,64020,64024,64031,64032,64033,64035,64036,64039,64040,64041,59413,59414,59415,59416,59417,59418,59419,59420,59421,59422,59423,59424,59425,59426,59427,59428,59429,59430,59431,59432,59433,59434,59435,59436,59437,59438,59439,59440,59441,59442,59443,59444,59445,59446,59447,59448,59449,59450,59451,59452,59453,59454,59455,59456,59457,59458,59459,63,59460,59461,59462,59463,59464,59465,59466,59467,59468,59469,59470,59471,59472,59473,59474,59475,59476,59477,59478,59479,59480,59481,59482,59483,59484,59485,59486,59487,59488,59489,59490,59491,59492,58472,58473,58474,58475,58476,58477,58478,58479,58480,58481,58482,58483,58484,58485,58486,58487,58488,58489,58490,58491,58492,58493,58494,58495,58496,58497,58498,58499,58500,58501,58502,58503,58504,58505,58506,58507,58508,58509,58510,58511,58512,58513,58514,58515,58516,58517,58518,58519,58520,58521,58522,58523,58524,58525,58526,58527,58528,58529,58530,58531,58532,58533,58534,58535,58536,58537,58538,58539,58540,58541,58542,58543,58544,58545,58546,58547,58548,58549,58550,58551,58552,58553,58554,58555,58556,58557,58558,58559,58560,58561,58562,58563,58564,58565]]}e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance};var r=e.prototype;return r._TDEFAULTMESSAGE=function(e,r,t,n,s){return{record:r,ident:e,param:t,tag:n,series:s}},r.EncodeMessage=function(e){var r=new Array;return r[0]=255&e.record,r[1]=(65280&e.record)>>>8,r[2]=(16711680&e.record)>>>16,r[3]=(4278190080&e.record)>>>24,r[4]=(0xff00000000&e.record)>>>32,r[5]=(0xff0000000000&e.record)>>>40,r[6]=(0xff000000000000&e.record)>>>48,r[7]=(0xff00000000000000&e.record)>>>56,r[8]=255&e.ident,r[9]=(65280&e.ident)>>>8,r[10]=255&e.param,r[11]=(65280&e.param)>>>8,r[12]=255&e.tag,r[13]=(65280&e.tag)>>>8,r[14]=255&e.series,r[15]=(65280&e.series)>>>8,this.fnEncode6BitBuf(r,16)},r.fnEncode6BitBuf=function(e,r){for(var t=0,n=0,s=0,i="",o=0;o<r;o++){var c="number"==typeof e[o]?e[o]:e[o].charCodeAt();n=63&(s|c>>2+t),s=c<<8-(2+t)>>2&63,(t+=2)<6?i+=String.fromCharCode(n+60):(i+=String.fromCharCode(n+60),i+=String.fromCharCode(s+60),t=0,s=0)}return t>0&&(i+=String.fromCharCode(s+60)),i},r.EncodeString=function(e){var r=this.ucsstr2gbkarr(e),t=r.length;return this.fnEncode6BitBuf(r,t)},r.ucsstr2gbkarr=function(e){for(var r=$URL.encode(e),t=new Array,n=0;n<r.length;n++){var s=r.charAt(n);if("%"==s){var i=r.charAt(n+1)+r.charAt(n+2);t.push(parseInt(i,16)),n+=2}else t.push(s.charCodeAt())}var o=this.ucsSpecialUnicode(t);if(o.length>0)for(n=0;n<o.length;n++){var c=o[n],f=this.specialDeal(59299);t.splice(c,0,f[0]),t.splice(c+1,0,f[1]),t.splice(c+2,1)}return t},r.ucsSpecialUnicode=function(e){for(var r=[],t=e.length,n=0;n<t;n++)59299==e[n]&&r.push(n);return r},r.specialDeal=function(e){var r=[];switch(e){case 59299:r.push(167),r.push(197)}return r},r.DecodeMessage=function(e){var r,t,n,s,i,o=this.fnDecode6BitBuf(e,22,!1);return r=o.pszDest[0]+(o.pszDest[1]<<8)+(o.pszDest[2]<<16)+(o.pszDest[3]<<24)+(o.pszDest[4]<<32)+(o.pszDest[5]<<40)+(o.pszDest[6]<<48)+(o.pszDest[7]<<56),t=o.pszDest[8]+(o.pszDest[9]<<8),n=o.pszDest[10]+(o.pszDest[11]<<8),s=o.pszDest[12]+(o.pszDest[13]<<8),i=o.pszDest[14]+(o.pszDest[15]<<8),this._TDEFAULTMESSAGE(t,r,n,s,i)},r.fnDecode6BitBuf=function(e,r,t){for(var n,s,i,o=0,c=2,f=0,a=new Array,u=0;u<r&&e[u];u++){var d="number"==typeof e[u]?e[u]:e[u].charCodeAt();if(!(d-60>=0)){o=0;break}if(n=d-60,f+6>=8){if(s=i|(63&n)>>6-c,a[o++]=s,f=0,!(c<6)){c=2;continue}c+=2}i=n<<c&this.Decode6BitMask[c-2],f+=8-c}if(t)for(u=0;u<o;u++)0==a[u]?a[u]="#0":a[u]=String.fromCharCode(a[u]);return{pszDest:a,nDestPos:o}},r.DecodeString=function(e){for(var r=this.fnDecode6BitBuf(e,e.length,!0),n="",s="",i=0,o=0,c=0;c<r.nDestPos;){if((i=r.pszDest[c].charCodeAt())>127){if(c++,!r.pszDest[c])break;o=r.pszDest[c].charCodeAt();var f=t((i<<8)+o);s=String.fromCharCode(f),59337==f&&(s=" "),n+=s}else n+=r.pszDest[c];c++}return n},r.zDecodeString=function(e){if(""!=e){for(var r=n.string2ByteArray(e),s=i.fnDecode6BitBuf(r.arr,r.len,!1),o=new Zlib.Inflate(s.pszDest).decompress(),c=0,f=0,a=new Array;c<o.length;){if(o[c]<128)a[f]=o[c];else{var u=(o[c]<<8)+o[c+1];a[f]=t(u),c++}c++,f++}return n.byteArray2String(a,a.length)}},r.DecodeBuffer=function(e,r){r&&(e=this.fnDecode6BitBuf(e,e.length,!1).pszDest);for(var n="",s="",i=0,o=0,c=0;c<e.length;){if((i=e[c])>127){if(!e[++c])break;o=e[c];var f=t((i<<8)+o);s=String.fromCharCode(f),59337==f&&(s=" "),n+=s}else n+=s=String.fromCharCode(e[c]);c++}return n},r.zDecodeBuffer=function(e){if(e.length>0){for(var r=new Zlib.Inflate(e).decompress(),s=0,i=0,o=new Array;s<r.length;){if(r[s]<128)o[i]=r[s];else{var c=(r[s]<<8)+r[s+1];o[i]=t(c),s++}s++,i++}return n.byteArray2String(o,o.length)}},r.zDecode2String=function(e){if(""!=e){var r=n.string2ByteArray(e),t=i.fnDecode6BitBuf(r.arr,r.len,!1);return new Zlib.Inflate(t.pszDest).decompress()}return null},r.zDecode2Buffer=function(e){return e.length>0?new Zlib.Inflate(e).decompress():null},e}());s._instance=null;var i=e("EnDecode",s.getInstance());r._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(E){"use strict";var A;return{setters:[function(E){A=E.cclegacy}],execute:function(){var T,t,S,R,O,L,I,e,N,a,i,n,o,D,G,m,H,u,B,c,M,_;E({BTNT_Type:void 0,CGM_Type:void 0,CUSTOMBUTTOM_Type:void 0,DIR_Type:void 0,FliterItem_Type:void 0,HEROBATTLESTATUS_Type:void 0,HEROSUMMON_Type:void 0,MUSICFORMAT_Type:void 0,OBJECT_Type:void 0,PARALYSISACTIVE_Type:void 0,ROCKER_Type:void 0,ROLEObj_Type:void 0,ROLEStatus_Type:void 0,SKILLPAN_Type:void 0,SNDACASKETSTATE_Type:void 0,TFishState_Type:void 0,THumBBType:void 0,TITLE_Type:void 0,TMagicType:void 0,TMonsterClientActionType:void 0,U_Type:void 0,wRace_Type:void 0}),A._RF.push({},"6770fX2DEpME7g2YAm6ksgZ","Enums",void 0),function(E){E[E.PLAYER=0]="PLAYER",E[E.HERO=1]="HERO",E[E.NPC=2]="NPC",E[E.MONSTER=3]="MONSTER"}(T||(T=E("ROLEObj_Type",{}))),function(E){E[E.BAG=0]="BAG",E[E.TRADE=1]="TRADE",E[E.TEAM=2]="TEAM",E[E.ZHAOMU=3]="ZHAOMU",E[E.REDPACKED=4]="REDPACKED",E[E.GUILD=5]="GUILD",E[E.BAITAN=6]="BAITAN",E[E.FRIENDS=7]="FRIENDS"}(t||(t=E("BTNT_Type",{}))),function(E){E[E.UP=0]="UP",E[E.RIGHT_UP=1]="RIGHT_UP",E[E.RIGHT=2]="RIGHT",E[E.RIGHT_DOWN=3]="RIGHT_DOWN",E[E.DOWN=4]="DOWN",E[E.LEFT_DOWN=5]="LEFT_DOWN",E[E.LEFT=6]="LEFT",E[E.LEFT_UP=7]="LEFT_UP"}(S||(S=E("DIR_Type",{}))),function(E){E[E.STAND=0]="STAND",E[E.WALK=1]="WALK",E[E.RUN=2]="RUN",E[E.ATTACK_OVER=3]="ATTACK_OVER",E[E.ATTACK_1=4]="ATTACK_1",E[E.ATTACK_2=5]="ATTACK_2",E[E.ATTACK_3=6]="ATTACK_3",E[E.SKILL=7]="SKILL",E[E.DUG=8]="DUG",E[E.BE_ATTACKED=9]="BE_ATTACKED",E[E.DEAD=10]="DEAD"}(R||(R=E("ROLEStatus_Type",{}))),function(E){E[E.DATA=1]="DATA",E[E.COMPDATA=2]="COMPDATA",E[E.ACTIVE=3]="ACTIVE"}(O||(O=E("CGM_Type",{}))),function(E){E[E.RUN=2]="RUN",E[E.WALK=1]="WALK"}(L||(L=E("ROCKER_Type",{}))),function(E){E[E.Role=0]="Role",E[E.Actor=1]="Actor",E[E.Npc=50]="Npc"}(I||(I=E("wRace_Type",{}))),function(E){E[E.BOXITEM=-1]="BOXITEM",E[E.DRESS=0]="DRESS",E[E.WEAPON=1]="WEAPON",E[E.RIGHTHAND=2]="RIGHTHAND",E[E.NECKLACE=3]="NECKLACE",E[E.HELMET=4]="HELMET",E[E.ARMRINGL=5]="ARMRINGL",E[E.ARMRINGR=6]="ARMRINGR",E[E.RINGL=7]="RINGL",E[E.RINGR=8]="RINGR",E[E.BUJUK=9]="BUJUK",E[E.BELT=10]="BELT",E[E.BOOTS=11]="BOOTS",E[E.CHARM=12]="CHARM",E[E.HAT=13]="HAT",E[E.DRUM=14]="DRUM",E[E.HORSE=15]="HORSE",E[E.SHIELD=16]="SHIELD",E[E.JADE=17]="JADE",E[E.FASHIONDRESS=18]="FASHIONDRESS",E[E.FASHIONWEAPON=19]="FASHIONWEAPON",E[E.FASHIONNECKLACE=20]="FASHIONNECKLACE",E[E.FASHIONHELMET=21]="FASHIONHELMET",E[E.FASHIONARMRINGL=22]="FASHIONARMRINGL",E[E.FASHIONARMRINGR=23]="FASHIONARMRINGR",E[E.FASHIONRINGL=24]="FASHIONRINGL",E[E.FASHIONRINGR=25]="FASHIONRINGR",E[E.FASHIONRIGHTHAND=26]="FASHIONRIGHTHAND",E[E.FASHIONBELT=27]="FASHIONBELT",E[E.FASHIONBOOTS=28]="FASHIONBOOTS",E[E.FASHIONCHARM=29]="FASHIONCHARM",E[E.JEWELRY1=30]="JEWELRY1",E[E.JEWELRY2=31]="JEWELRY2",E[E.JEWELRY3=32]="JEWELRY3",E[E.JEWELRY4=33]="JEWELRY4",E[E.JEWELRY5=34]="JEWELRY5",E[E.JEWELRY6=35]="JEWELRY6",E[E.JEWELRY7=36]="JEWELRY7",E[E.JEWELRY8=37]="JEWELRY8",E[E.JEWELRY9=38]="JEWELRY9",E[E.JEWELRY10=39]="JEWELRY10",E[E.JEWELRYRandom=209]="JEWELRYRandom",E[E.ANYPOS=208]="ANYPOS",E[E.JEWELRYGODBLESSANYPOS=207]="JEWELRYGODBLESSANYPOS",E[E.JEWELRYMAX=35]="JEWELRYMAX",E[E.GODBLESS1=40]="GODBLESS1",E[E.GODBLESS2=41]="GODBLESS2",E[E.GODBLESS3=42]="GODBLESS3",E[E.GODBLESS4=43]="GODBLESS4",E[E.GODBLESS5=44]="GODBLESS5",E[E.GODBLESS6=45]="GODBLESS6",E[E.GODBLESS7=46]="GODBLESS7",E[E.GODBLESS8=47]="GODBLESS8",E[E.GODBLESS9=48]="GODBLESS9",E[E.GODBLESS10=49]="GODBLESS10",E[E.GODBLESS11=50]="GODBLESS11",E[E.GODBLESS12=51]="GODBLESS12",E[E.ADDUSERITEMMAX=51]="ADDUSERITEMMAX",E[E.USERITEMMAX=51]="USERITEMMAX",E[E.ICON=52]="ICON",E[E.ICON2=52]="ICON2",E[E.BOOK=21]="BOOK",E[E.DRUG=22]="DRUG"}(e||(e=E("U_Type",{}))),function(E){E[E.fsIdle=0]="fsIdle",E[E.fsRodBreaking=1]="fsRodBreaking",E[E.fsRodBreaked=2]="fsRodBreaked",E[E.fsParsing=3]="fsParsing",E[E.fsParsed=4]="fsParsed",E[E.fsPushing=5]="fsPushing",E[E.fsAllowPush=6]="fsAllowPush",E[E.fsPushed=7]="fsPushed",E[E.fsFooling=8]="fsFooling"}(N||(N=E("TFishState_Type",{}))),function(E){E[E.disabled=0]="disabled",E[E.active=1]="active",E[E.show=2]="show"}(a||(a=E("SNDACASKETSTATE_Type",{}))),function(E){E.MP3=".mp3",E.WAV=".wav",E.OGG=".ogg"}(i||(i=E("MUSICFORMAT_Type",{}))),function(E){E.WALK="walk",E.RUN="run",E.ATTACK="attack",E.MAGIC="magic"}(n||(n=E("PARALYSISACTIVE_Type",{}))),function(E){E[E.MONSTER=1]="MONSTER",E[E.NPC=2]="NPC",E[E.PLAYER=3]="PLAYER"}(o||(o=E("OBJECT_Type",{}))),function(E){E.MATRIX="1",E.ROLL="2"}(D||(D=E("SKILLPAN_Type",{}))),function(E){E[E.MEDICINE=0]="MEDICINE",E[E.SKILL=1]="SKILL"}(G||(G=E("TITLE_Type",{}))),function(E){E[E.ONSTAGE=1]="ONSTAGE",E[E.NOSTAGE=0]="NOSTAGE"}(m||(m=E("HEROBATTLESTATUS_Type",{}))),function(E){E[E.NOSTAGE=0]="NOSTAGE",E[E.ONSTAGE=1]="ONSTAGE",E[E.NOHERO=2]="NOHERO"}(H||(H=E("HEROSUMMON_Type",{}))),function(E){E[E.QITALEI=1]="QITALEI",E[E.YAOPINLEI=2]="YAOPINLEI",E[E.FUZHAUNGLEI=3]="FUZHAUNGLEI",E[E.WUQILEI=4]="WUQILEI",E[E.SHOUSHILEI=5]="SHOUSHILEI",E[E.SHIPINLEI=6]="SHIPINLEI",E[E.FUSHILEI=7]="FUSHILEI"}(u||(u=E("FliterItem_Type",{}))),function(E){E[E.tag20=20]="tag20",E[E.tag21=21]="tag21",E[E.tag22=22]="tag22",E[E.tag23=23]="tag23",E[E.tag24=24]="tag24"}(B||(B=E("CUSTOMBUTTOM_Type",{}))),function(E){E[E.bbNo=0]="bbNo",E[E.bbSlave=1]="bbSlave",E[E.bbGamePet=2]="bbGamePet"}(c||(c=E("THumBBType",{}))),function(E){E[E.mtReady=0]="mtReady",E[E.mtFly=1]="mtFly",E[E.mtExplosion=2]="mtExplosion",E[E.mtFlyAxe=3]="mtFlyAxe",E[E.mtFireWind=4]="mtFireWind",E[E.mtFireGun=5]="mtFireGun",E[E.mtLightingThunder=6]="mtLightingThunder",E[E.mtThunder=7]="mtThunder",E[E.mtExploBujauk=8]="mtExploBujauk",E[E.mtBujaukGroundEffect=9]="mtBujaukGroundEffect",E[E.mtKyulKai=10]="mtKyulKai",E[E.mtFlyArrow=11]="mtFlyArrow",E[E.mt12=12]="mt12",E[E.mt13=13]="mt13",E[E.mt14=14]="mt14",E[E.mt15=15]="mt15",E[E.mt16=16]="mt16",E[E.mtRedThunder=17]="mtRedThunder",E[E.mtLava=18]="mtLava",E[E.mtFlyArrowEx=19]="mtFlyArrowEx"}(M||(M=E("TMagicType",{}))),function(E){E[E.matStand=0]="matStand",E[E.matWalk=1]="matWalk",E[E.matDefAttack=2]="matDefAttack",E[E.matStruck=3]="matStruck",E[E.matDie=4]="matDie",E[E.matStoneRevive=5]="matStoneRevive",E[E.matAttack1=6]="matAttack1",E[E.matAttack2=7]="matAttack2",E[E.matAttack3=8]="matAttack3",E[E.matAttack4=9]="matAttack4",E[E.matAttack5=10]="matAttack5",E[E.matAttack6=11]="matAttack6"}(_||(_=E("TMonsterClientActionType",{}))),A._RF.pop()}}}));

System.register("chunks:///_virtual/EventCustom.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"b8cbd+hpahF+rObbxUwCIEd","EventCustom",void 0);var T=E("default",(function(){}));T.CUSTOM_EVENT_SERVERCONNECT="CUSTOM_EVENT_SERVERCONNECT",T.CUSTOM_EVENT_ROCKERTOUCHMOVED="CUSTOM_EVENT_ROCKERTOUCHMOVED",T.CUSTOM_EVENT_ROCKERTOUCHEND="CUSTOM_EVENT_ROCKERTOUCHEND",T.CUSTOM_EVENT_SHARETHEMAINPLAYER="CUSTOM_EVENT_SHARETHEMAINPLAYER",T.UPDATE_BAG="UPDATE_BAG",T.SETCMDLIST="SETCMDLIST",T.UPDATE_ATT_MODE="UPDATE_ATT_MODE",T.NEW_CHAT_MSG="NEW_CHAT_MSG",T.UPDATEHUM="UPDATEHUM",T.SHOW_ITEM_PRICE="SHOW_ITEM_PRICE",T.SHOW_LOG="SHOW_LOG",T.NPC_SHOP_BUYITEM_SUCCESS="NPC_SHOP_BUYITEM_SUCCESS",T.SHOW_ALERT_DLG="SHOW_ALERT_DLG",T.UPDATE_BAG_INFO="UPDATE_BAG_INFO",T.SCREEN_REFRESH_ITEMS="SCREEN_REFRESH_ITEMS",T.SHOW_BAG_ITEM_ICO="SHOW_BAG_ITEM_ICO",T.SCREEN_ADD_ITEMS="SCREEN_ADD_ITEMS",T.TRADE_CMD="TRADE_CMD",T.GAME_DLG_CMD="GAME_DLG_CMD",T.UPDATEHUMNEWDRESS="UPDATEHUMNEWDRESS",T.UPDATE_SHENGXIAO="UPDATE_SHENGXIAO",T.SHOW_SHOUSHI_BOX="SHOW_SHOUSHI_BOX",T.UPDATE_ROLE_ATTRI="UPDATE_ROLE_ATTRI",T.PLAYDICE="PLAYDICE",T.HEROCALL_OK="HEROCALL_OK",T.UPDATE_HERO_INFO="UPDATE_HERO_INFO",T.HEROEXIT_OK="HEROEXIT_OK",T.UPDATE_ANGRYVALUE="UPDATE_ANGRYVALUE",T.UPDATEHERO="UPDATEHERO",T.SHOW_HEROITEM_ICO="SHOW_HEROITEM_ICO",T.UPDATEHERONEWDRESS="UPDATEHERONEWDRESS",T.ONHOOK="ONHOOK",T.API_SENDITEM="API_SENDITEM",T.NPC_SALE_BUYITEM_SUCCESS="NPC_SALE_BUYITEM_SUCCESS",T.TOPEFFECT="TOPEFFECT",T.OTHERBTNHANDLER="OTHERBTNHANDLER",T.FINDPASWORD_S="FINDPASWORD_S",T.DUPDATE_ACCOUNT="DUPDATE_ACCOUNT",T.SHOW_HEROBAG_ITEM_ICO="SHOW_HEROBAG_ITEM_ICO",T.SCREEN_REFRESH_SEARCHITEMS="SCREEN_REFRESH_SEARCHITEMS",T.UPGRADEOK="UPGRADEOK",T.UPGRADEFAILD="UPGRADEFAILD",T.DELAY_TIME="DELAY_TIME",T.UPDATE_CQBINFO="UPDATE_CQBINFO",T.UPDATE_CRYSTAL="UPDATE_CRYSTAL",T.UPDATE_CREATGUILD="UPDATE_CREATGUILD",T.UPDATEBUFFINFO="UPDATEBUFFINFO",T.HEROMAGIC_REFRESH="HEROMAGIC_REFRESH",T.CLEARBUFFER="CLEARBUFFER",T.NEW_MAIL_NOTICE="NEW_MAIL_NOTICE",T.GET_USER_MAIL="GET_USER_MAIL",T.UPDATE_MAIL_STATE="UPDATE_MAIL_STATE",T.GET_MAIL_CONTENT="GET_MAIL_CONTENT",T.DELETE_ALL_MAIL="DELETE_ALL_MAIL",T.ADD_NEW_MAIL="ADD_NEW_MAIL",T.DRAWMINIMAP="DRAWMINIMAP",T.UPDATA_MAP="UPDATA_MAP",T.INIT_MINI_MAP_WIN="INIT_MINI_MAP_WIN",T.CREATE_PLAYER="CREATE_PLAYER",T.UPDATE_ROLEEDITOR="UPDATE_ROLEEDITOR",T.UPDATE_ACTOR_NAME="UPDATE_ACTOR_NAME",T.UPDATEPOS="UPDATEPOS",T.UPDATEPOS_SAFE="UPDATEPOS_SAFE",T.UPDATE_MAIN_MINI_MAP_INFO="UPDATE_MAIN_MINI_MAP_INFO",T.UPDATE_MAIN_MINI_MAP_NULL="UPDATE_MAIN_MINI_MAP_NULL",T.PLAYMAPMUSIC="PLAYMAPMUSIC",T.UPDATE_NAME_COLOR="UPDATE_NAME_COLOR",T.UPDATENAMECOLOR="UPDATENAMECOLOR",T.MSG_MOVE_RESULT="MSG_MOVE_RESULT",T.RESET_EQUIP_DLG="RESET_EQUIP_DLG",T.UPDATE_ROLE_INFO="UPDATE_ROLE_INFO",T.ROLE_DIE="ROLE_DIE",T.ROLE_DIE_STATE="ROLE_DIE_STATE",T.CLOSE_PETBTN="CLOSE_PETBTN",T.SETAUTOSKILLANI="SETAUTOSKILLANI",T.RESET_HEAD_ICON="RESET_HEAD_ICON",T.SHOWBLUEBAR="SHOWBLUEBAR",T.UPDATETASK="UPDATETASK",T.HEROSTATE="HEROSTATE",T.PETSTATE="PETSTATE",T.UPDATE_GUILD_CHAT="UPDATE_GUILD_CHAT",T.UPDATEHUMICON="UPDATEHUMICON",T.SHOW_BAG_ITEMS="SHOW_BAG_ITEMS",T.SHOW_SHOPROOM="SHOW_SHOPROOM",T.ITEM_HINT="ITEM_HINT",T.SHOWDRUG_ITEMS="SHOWDRUG_ITEMS",T.UDPATE_MAINDLG_ITEMS="UDPATE_MAINDLG_ITEMS",T.UPDATE_SALE_ITEMS2="UPDATE_SALE_ITEMS2",T.BUYSELECTITEM="BUYSELECTITEM",T.DRAW_NPC_ITEMS="DRAW_NPC_ITEMS",T.CHANGE_COUNT_TEXT="CHANGE_COUNT_TEXT",T.UPDATE_MAP_ITEMS="UPDATE_MAP_ITEMS",T.DELETE_MAP_ITEMS="DELETE_MAP_ITEMS",T.SHOW_STORE_ITEM_ICO="SHOW_STORE_ITEM_ICO",T.SHOW_NEWNPC="SHOW_NEWNPC",T.CREATETEAM_FAILD="CREATETEAM_FAILD",T.CREATETEAM_OK="CREATETEAM_OK",T.UPDATE_TEAMLIST="UPDATE_TEAMLIST",T.REDHINTCHECK="REDHINTCHECK",T.UPDATE_SET_LIST="UPDATE_SET_LIST",T.ADDTEAMGROUP_FAILD="ADDTEAMGROUP_FAILD",T.VOICE_EVENT="VOICE_EVENT",T.CLEAR_TEAM="CLEAR_TEAM",T.SHOWBONUS="SHOWBONUS",T.UPDOWN="UPDOWN",T.UPDATE_AUTOSKILL="UPDATE_AUTOSKILL",T.MAGIC_REFRESH="MAGIC_REFRESH",T.STATE_SKILL="STATE_SKILL",T.UPDATE_NEIGUAN_HAIR="UPDATE_NEIGUANHAIR",T.ADD_MAGIC="ADD_MAGIC",T.UPDATE_MAGIC_LIST="UPDATE_MAGIC_LIST",T.ADD_MAGIC_ATTACK="ADD_MAGIC_ATTACK",T.UPDATE_GUALD_USER="UPDATE_GUALD_USER",T.REMOVE_HANGHUI_DLG="REMOVE_HANGHUI_DLG",T.HIDE_GUILD_WORLD="HIDE_GUILD_WORLD",T.UPDATE_GUALD_TITLE="UPDATE_GUALD_TITLE",T.UPDATE_GULAD="UPDATE_GULAD",T.UPDATERANKROLE="UPDATERANKROLE",T.FRIENDREQUEST="FRIENDREQUEST",T.UPDATE_FRIEND_LIST="UPDATE_FRIEND_LIST",T.CHANGE_BG="CHANGE_BG",T.CHANGE_POS="CHANGE_POS",T.UPDATEBUFFER="UPDATEBUFFER",T.MAIN_GETREDPACKLIST="MAIN_GETREDPACKLIST",T.SEND_GETREDPACKLIST="SEND_GETREDPACKLIST",T.OPENREDOPEN="OPENREDOPEN",T.OPENREDPACK="OPENREDPACK",T.GAME_SHOW_PERSONALSTORE="GAME_SHOW_PERSONALSTORE",T.GAME_SHOW_PAGE="GAME_SHOW_PAGE",T.GAME_SHOW_PERSONALITEMS="GAME_SHOW_PERSONALITEMS",T.GAME_SHOW_STOREITEM="GAME_SHOW_STOREITEM",T.GAME_SHOW_SHOWSTOREPAGE="GAME_SHOW_SHOWSTOREPAGE",T.DELETE_ITEMIMAGE="DELETE_ITEMIMAGE",T.SHOW_STORE_MESSAGE="SHOW_STORE_MESSAGE",T.SHOW_STORE_SELLING="SHOW_STORE_SELLING",T.GAME_SHOWSTOREPAGE="GAME_SHOWSTOREPAGE",T.SHOW_STORE_SOLD="SHOW_STORE_SOLD",T.SHOW_BAITAN="SHOW_BAITAN",T.UPDATE_SHOP_LIST="UPDATE_SHOP_LIST",T.DEL_SHOP_ITEM="DEL_SHOP_ITEM",T.DEL_OTHER_SHOP_ITEM="DEL_OTHER_SHOP_ITEM",T.UPDATE_BAITAN_ITEMS="UPDATE_BAITAN_ITEMS",T.CLOSEFINISHLIST="CLOSEFINISHLIST",T.CHANGE_ROLE_STATE="CHANGE_ROLE_STATE",T.CHANGE_ROLE_ATTR="CHANGE_ROLE_ATTR",T.SHOW_NEW_USER="SHOW_NEW_USER",T.NEW_USER_JOIN="NEW_USER_JOIN",T.UPDATE_USER_INFO="UPDATE_USER_INFO",T.SHOW_TEAM_CHAT="SHOW_TEAM_CHAT",T.SHOW_ITEM_ICO="SHOW_ITEM_ICO",T.UPDATE="UPDATE",T.MUSICSOUND="MUSICSOUND",T.NOTOUT="NOTOUT",T.ONTIME="ONTIME",T.OUTLINEENTERGETTIMERNUM="OUTLINEENTERGETTIMERNUM",T.OUTLINE="OUTLINE",T.SPELLUSESKILLSTART="SPELLUSESKILLSTART",T.CLEARSPELLUSESKILLTIMER="clearSpellUseSkillTimer",T.SHOW_BTNHERO="SHOW_BTNHERO",T.EVENT_START_OBJECT_HB="EVENT_START_OBJECT_HB",T.UPDATE_SELFSNDACASKETSTATE="UPDATE_SELFSNDACASKETSTATE",T.CLOSERANKWIN="CLOSERANKWIN",T.OPENUIRANKWIN="OPENUIRANKWIN",T.UPDATEITEMDATA="UPDATEITEMDATA",T.UPDATERANKDATA="UPDATERANKDATA",T.CLOSE_MINIMAP="CLOSE_MINIMAP",T.SHOW_STORE_STORAGE="SHOW_STORE_STORAGE",T.UPDATE_ICON="UPDATE_ICON",T.UPDATE_ITEMS="UPDATE_ITEMS",T.UPDATE_GUILD_INFO="UPDATE_GUILD_INFO",T.UPDATE_GUILD_RELATION="UPDATE_GUILD_RELATION",T.UPDATE_APPLYLIST="UPDATE_APPLYLIST",T.UPDATA_RELATIONLIST="UPDATA_RELATIONLIST",T.UPDATE_WORLD_LIST="UPDATE_WORLD_LIST",T.GM_SHOW_MAP_TYPE="GM_SHOW_MAP_TYPE",T.OPEN_GM_INFO="OPEN_GM_INFO",T.OPEN_GM="OPEN_GM",T.UPDATE_PICK_ITEM="update_pick_item",T.DEL_PICK_ITEM="del_pick_item",T.SHOWDURAHEAD="showDuraHead",T.SHOWDURAHUM="showDuraHum",T.BUFFCOUNTDOWN="buffCountDown",T.SHOW_REMARK="show_remark",T.CLOSE_REMARK="close_remark",T.SHOW_CHAT_DLG="SHOW_CHAT_DLG",T.CHANGE_TYPE="CHANGE_TYPE",T.REMOVE_MAGIC="REMOVE_MAGIC",T.ADD_SETSKILL_PREF="ADD_SETSKILL_PREF",T.SKILL_CD_ANI="SKILL_CD_ANI",T.OPEN_REDPACKET="OPEN_REDPACKET",T.REDPACK_OPEN="REDPACK_OPEN",T.SEND_FRIEND_INFO="SEND_FRIEND_INFO",T.UPDATE_FRIEND_INFO="UPDATE_FRIEND_INFO",T.FRIEND_INFO_HANDLE="FRIEND_INFO_HANDLE",T.FRIEND_APPLY="FRIEND_APPLY",T.ADDFRIENDTIP_ADD_OK="ADDFRIENDTIP_ADD_OK",T.ADDFRIENDTIP_DEL_OK="ADDFRIENDTIP_DEL_OK",T.SHOW_APPLY_TEAM_TIP="SHOW_APPLY_TEAM_TIP",T.BEOPEN_ADDFRIEND_TIP="BEOPEN_ADDFRIEND_TIP",T.OPEN_ADDFRIEND_TIP="OPEN_ADDFRIEND_TIP",T.ADDFRIEND_CALLBACK="ADDFRIEND_CALLBACK",T.UPDATE_SOCIAL_DIRECTORY="UPDATE_SOCIAL_DIRECTORY",T.CREATE_TEAM_CALLBACK="CREATE_TEAM_CALLBACK",T.CLOSE_TEAM_GROUP="CLOSE_TEAM_GROUP",T.SEND_CAPTAIN_POS_IN_TEAM="SEND_CAPTAIN_POS_IN_TEAM",T.UPDATE_TEAM_INVITE_LIST="UPDATE_TEAM_INVITE_LIST",T.SHOW_CHAT_NODE="SHOW_CHAT_NODE",T.SET_SIMPLE="SET_SIMPLE",T.DELAY_SHOW="DELAY_SHOW",T.SWITCH_ROCKER="SWITCH_ROCKER",T.MOVE_POSITION="MOVE_POSITION",T.UPDATE_SETING_ITEM="UPDATE_SETING_ITEM",T.SYNCHRONOUS_ICON="SYNCHRONOUS_ICON",T.SET_DRUG_IMG="SET_DRUG_IMG",T.UPDATE_M2SET="UPDATE_M2SET",T.D_AUTO_SKILL1="D_AUTO_SKILL1",T.HIDE_SINGLE_ROKER="HIDE_SINGLE_ROKER",T.UPDATE_SETING_PICKUP="UPDATE_SETING_PICKUP",T.UPDATE_HUM_LIST_REFRESH="UPDATE_HUM_LIST_REFRESH",T.UPDATE_ME_LIST_REFRESH="UPDATE_ME_LIST_REFRESH",T.SHOW_ME_GOLD="SHOW_ME_GOLD",T.SHOW_HUM_GOLD="SHOW_HUM_GOLD",T.UPDATE_SCREENWIN_ITEMS="UPDATE_SCREENWIN_ITEMS",T.UPDATE_ALL_AUCTIONDATA="UPDATE_ALL_AUCTIONDATA",T.UPDATEAUCTIONHOUSEMONEY="UPDATEAUCTIONHOUSEMONEY",T.AUCTION_CREATE_CURRENCY="AUCTION_CREATE_CURRENCY",T.CLOSEAUCTIONHOUSEWIN="CLOSEAUCTIONHOUSEWIN",T.OPENAUCTIONWIN="OPENAUCTIONWIN",T.UPDATEWORDAUCITON="UPDATEWORDAUCITON",T.UPDATEMYSHELVESINFO="UPDATEMYSHELVESINFO",T.UPDATEMYAUCTIONWIN="UPDATEMYAUCTIONWIN",T.UPDATEBAGLISTONMYSHELVES="UPDATEBAGLISTONMYSHELVES",T.OPEN_BIDORBUY_WIN="OPEN_BIDORBUY_WIN",T.HIDE_CHAT_WIN="HIDE_CHAT_WIN",T.GET_CHAT_NAME="GET_CHAT_NAME",T.HEAD_SHOW="HEAD_SHOW",T.OPEN_NEW_ITEM_INFO="OPEN_NEW_ITEM_INFO",T.CLOSE_NEW_ITEM_INFO="CLOSE_NEW_ITEM_INFO",T.OPEN_SCREENWIN="OPEN_SCREENWIN",T.OPEN_LOOK_HUM="OPEN_LOOK_HUM",T.AUCTIONITEM_COUNTDOWN="AUCTIONITEM_COUNTDOWN",T.AUCTIONITEM_UPDATEBUYCOLOR="AUCTIONITEM_UPDATEBUYCOLOR",T.CLOSEAUCTIONBIDTIP="CLOSEAUCTIONBIDTIP",T.CLOSESALEAUCTIONTIP="CLOSESALEAUCTIONTIP",T.UPDATESALEAUCTIONITEM="UPDATESALEAUCTIONITEM",T.UPDATESHELVESITEMDATA="UPDATESHELVESITEMDATA",T.SHELVESITEM_COUNTDOWN="SHELVESITEM_COUNTDOWN",T.SENDWORDSHELVESONITEMBREAKUP="SENDWORDSHELVESONITEMBREAKUP",T.ADDSHOPITEMCONFIRMFROMSVR="ADDSHOPITEMCONFIRMFROMSVR",T.NPC_LOG_CLOSE="NPC_LOG_CLOSE",T.CLOSETIMER_SIMPLESCREEN="CLOSETIMER_SIMPLESCREEN",T.SHOW_PROFESSION="SHOW_PROFESSION",T.UPDATEROCKER="UPDATEROCKER",T.CLOSEWAREHOUSE="CLOSEWAREHOUSE",T.STOPAUTOHOOKSTATE_ROCKERMOVE="STOPAUTOHOOKSTATE_ROCKERMOVE",T.HERO_CREATE="HERO_CREATE",T.GET_HERO_LIST="GET_HERO_LIST",T.HERO_BATTLE_ONOFF="HERO_BATTLE_ONOFF",T.HERO_FIGHT_ONOFF="HERO_FIGHT_ONOFF",T.ARMY_ATTR="ARMY_ATTR",T.ARMY_TAKEONOFF_ITEM="ARMY_TAKEONOFF_ITEM",T.ARMY_TAKEON_ITEM_LIST="ARMY_TAKEON_ITEM_LIST",T.UPDATE_ARMY_BAG="UPDATE_ARMY_BAG",T.ARMY_PROPERTY_CHANGE="ARMY_PROPERTY_CHANGE",T.ARMY_MATERIAL_LIST="ARMY_MATERIAL_LIST",T.UPDATE_HERO_BASE_INFO="UPDATE_HERO_BASE_INFO",T.ARMY_MATERIAL_SPECIAL="ARMY_MATERIAL_SPECIAL",T.ARMY_MATERIAL_LEVEL="ARMY_MATERIAL_LEVEL",T.ARMY_MATERIAL_MOVE="ARMY_MATERIAL_MOVE",T.ARMY_MATERIAL_OPEN_STORE="ARMY_MATERIAL_OPEN_STORE",T.UPDATE_POWERNUM="UPDATE_POWERNUM",T.REFRESH_TARGET_HP="REFRESH_TARGET_HP",T.CLOSE_NOTICE_VIEW="CLOSE_NOTICE_VIEW",T.LOGINVIEW_CHANGETO_ROLEVIEW="LOGINVIEW_CHANGETO_ROLEVIEW",T.ENTER_GAME_FUNCTION="ENTER_GAME_FUNCTION",T.SHOW_CHANGE_SERVER_BAR="SHOW_CHANGE_SERVER_BAR",T.LOAD_MAINSKILL_PREF="LOAD_MAINSKILL_PREF",T.RECEIVE_ONMESSAGEFROMSERVER="RECEIVE_ONMESSAGEFROMSERVER",T.RECEIVE_ONHEARTBAETFROMSVR="RECEIVE_ONHEARTBAETFROMSVR",T.ONSURECOMFIRMFROMSVR="ONSURECOMFIRMFROMSVR",T.OPEN_SHOWDRUGWIN="OPEN_SHOWDRUGWIN",T.REMOEV_ANI="REMOEV_ANI",T.UPDATE_HUMWIN_GUILDNAME="UPDATE_HUMWIN_GUILDNAME",T.GET_HERO_TREASURE_FIND_LIST="GET_HERO_TREASURE_FIND_LIST",T.UPDATE_FIND_EXCHANGE_DATA="UPDATE_FIND_EXCHANGE_DATA",T.UPDATE_FIND_TICKET_DATA="UPDATE_FIND_TICKET_DATA",T.GET_HERO_TREASURE_WAREHOUSE_LIST="GET_HERO_TREASURE_WAREHOUSE_LIST",T.GET_HERO_TREASURE_SCORE_LIST="GET_HERO_TREASURE_SCORE_LIST",T.GET_HERO_TREASURE_WAREHOUSE_GET="GET_HERO_TREASURE_WEAR_HOUSE_GET",T.GET_HERO_TREASURE_WAREHOUSE_RECEIVE="GET_HERO_TREASURE_WAREHOUSE_RECEIVE",T.GET_HERO_TREASURE_WAREHOUSE_RECEIVE_UPDATE="GET_HERO_TREASURE_WAREHOUSE_RECEIVE_UPDATE",T.GET_HERO_TREASURE_SCORE_EXCHANGE="GET_HERO_TREASURE_SCORE_EXCHANGE",T.UPDATE_HERO_TREASURE_SCORE_DATA="UPDATE_HERO_TREASURE_SCORE_DATA",T.HERO_TREASURE_WAREHOUSE_PAGE_CHANGE="HERO_TREASURE_WAREHOUSE_PAGE_CHANGE",T.GUILD_WAREHOUSE_OPEN_RECOVERY="GUILD_WAREHOUSE_OPEN_RECOVERY",T.GUILD_WAREHOUSE_CHANGE_SAVE_ACTIVE="GUILD_WAREHOUSE_CHANGE_SAVE_ACTIVE",T.GUILD_WAREHOUSE_PUT_RECOVERY="GUILD_WAREHOUSE_PUT_RECOVERY",T.GUILD_WAREHOUSE_CANCLE_RECOVERY="GUILD_WAREHOUSE_CANCLE_RECOVERY",T.GUILD_WAREHOUSE_CLEAN_RECOVERY="GUILD_WAREHOUSE_CLEAN_RECOVERY",T.SAVE_ITEM_TO_GUILDWAREHOUSE="SAVE_ITEM_TO_GUILDWAREHOUSE",T.EXCHANGE_ITEM_OUT_GUILDWAREHOUSE="EXCHANGE_ITEM_OUT_GUILDWAREHOUSE",T.ONDRAGEND="ONDRAGEND",T.UPDATE_LOOK_S_LIST="Update_Look_S_List",T.UPDATE_CALL_INFO="UPDATE_CALL_INFO",T.SHOW_BAG_HINT="SHOW_BAG_HINT",T.CLICK_ATTR_INFO="CLICK_ATTR_INFO",T.UPDATE_FOLLOW_LIST="UPDATE_FOLLOW_LIST",T.DELETE_FOLLOW_LIST="DELETE_FOLLOW_LIST",T.SHOW_MEMBER_INFO="SHOW_MEMBER_INFO",T.GUILD_SET_TITLE="GUILD_SET_TITLE",T.UPDATE_GUILD_WAR_LIST="UPDATE_GUILD_WAR_LIST",T.UPDATE_JOIN_NAME="UPDATE_JOIN_NAME",T.CLEAN_JOIN_NAME="CLEAN_JOIN_NAME",T.SHOW_GUILD_INFO="SHOW_GUILD_INFO",T.UPDATE_APPLY_INFO="UPDATE_APPLY_INFO",T.UPDATE_ADMIN="UPDATE_ADMIN",T.ACCEPT_ALLIANCE_LIST="ACCEPT_ALLIANCE_LIST",T.REFUSAL_ALLIANCE_LIST="REFUSAL_ALLIANCE_LIST",T.DELETE_ALLIANCE_LIST="DELETE_ALLIANCE_LIST",T.CHANGEALLY_FALL="CHANGEALLY_FALL",T.SET_TITLE_OR_REMOVE="SET_TITLE_OR_REMOVE",T.UPDATE_LOOK_TITLE="UPDATE_LOOK_TITLE",T.OPEN_PET_WIN="OPEN_PET_WIN",T.UPDATE_PET_LIST="UPDATE_PET_LIST",T.SET_GAME_PET="SET_GAME_PET",T.ADD_CUSTOM_BUTTON="ADD_CUSTOM_BUTTON",T.UPDATE_HUM_NG_ATTR="UPDATE_HUM_NG_ATTR",T.UPDATE_GLORY="UPDATE_GLORY",T.UPDATE_HITERNAME="UPDATE_HITERNAME",T.GET_ITEM_DETAIL="GET_ITEM_DETAIL",T.CHECK_WINDOW_TOP="CHECK_WINDOW_TOP",T.DESTORY_CHECK_WINDOW_TOP="DESTORY_CHECK_WINDOW_TOP",_._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"7eeec6APEZHzp4kqBEpG7oY","EventManager",void 0);var s=e("EventManager",function(){function e(){this._eventListeners={}}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.destroy=function(){this.instance&&(this.instance=null)};var n=e.prototype;return n.getEventListenersIndex=function(e,t,n){for(var s=-1,i=0;i<this._eventListeners[e].length;i++){var r=this._eventListeners[e][i];if(r.callBack==t&&(!n||r.target==n)){s=i;break}}return s},n.addEventListener=function(e,t,n){if(e){if(null==t)return console.log("addEventListener callBack is nil"),!1;var s={callBack:t,target:n};if(null==this._eventListeners[e])this._eventListeners[e]=[s];else-1==this.getEventListenersIndex(e,t,n)&&this._eventListeners[e].push(s);return!0}console.warn("eventName is empty"+e)},n.setEventListener=function(e,t,n){if(e){if(null==t)return console.log("setEventListener callBack is nil"),!1;var s={callBack:t,target:n};return this._eventListeners[e]=[s],!0}console.warn("eventName is empty"+e)},n.removeEventListener=function(e,t,n){if(null!=this._eventListeners[e]){var s=this.getEventListenersIndex(e,t,n);-1!=s&&this._eventListeners[e].splice(s,1)}},n.removeAllEventListener=function(e){null!=this._eventListeners[e]&&(this._eventListeners[e]=null)},n.raiseEvent=function(e,n){if(null!=this._eventListeners[e]){for(var s,i=[],r=t(this._eventListeners[e]);!(s=r()).done;){var l=s.value;i.push({callBack:l.callBack,target:l.target})}for(var a=0,c=i;a<c.length;a++){var v=c[a];v.callBack.call(v.target,n,e)}}},n.resetEventMgr=function(){console.log("_eventListeners清除前",this._eventListeners),this._eventListeners={},console.log("_eventListeners清除后",this._eventListeners),e.destroy()},n.getAllEventListeners=function(){return this._eventListeners},e}());s.instance=null;e("EventMgr",s.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/EventSocket.ts",["cc"],(function(C){"use strict";var E;return{setters:[function(C){E=C.cclegacy}],execute:function(){E._RF.push({},"14202eXLjJGTYFDoLEzSuCX","EventSocket",void 0);var O=C("default",(function(){}));O.SOCKET_CONNECT_SUCCESS="SOCKET_CONNECT_SUCCESS",O.SOCKET_IO_ERROR="SOCKET_IO_ERROR",O.SOCKET_RECONNECT="SOCKET_RECONNECT",O.SOCKET_CLOSE="SOCKET_CLOSE",O.SOCKET_NOT_CONNECT="SOCKET_NOT_CONNECT",O.SOCKET_CONNECT_MESSAGE="SOCKET_CONNECT_MESSAGE",E._RF.pop()}}}));

System.register("chunks:///_virtual/external.ts",["cc","./EventManager.ts","./MapData.ts","./UIcontrol.ts","./Sendmessage.ts","./Base64.ts","./RechargeWin.ts","./GameApi.ts","./GameUtil.ts","./Config.ts"],(function(e){"use strict";var n,o,t,i,c;return{setters:[function(e){n=e.cclegacy},function(e){o=e.EventMgr},null,null,function(e){t=e.sendmessage},null,null,null,function(e){i=e.GameUtil},function(e){c=e.Config}],execute:function(){n._RF.push({},"623a69aAa9Pg6NTpDcwwsVO","external",void 0);var a=e("E_PLATFORMSDK",(function(){}));a.DOUYIN=void 0,a.BORAN=void 0,a.BOX=void 0,a.YOUMENG=void 0;var u=e("external",function(){function e(){}return e.LoginFunction=function(e,n){},e.OtherFunction=function(e,n){},e.init=function(){c.g_external=this,window.external_window=c.g_external},e.appcallexitgame=function(){},e.callAppGetIMEI=function(){},e.getAppIMEI=function(e){},e.onGeneratePNG=function(e){},e.onScreenShot=function(e){},e.getisSimulator=function(){if(GameSdk&&window.location&&window.location.href&&window.location.href.indexOf("GameSdk=1")>-1&&(GameSdk.game_SDK_H5=!0),c.cur_use_app){console.log("============js:getisSimulator============>");this.sendtonative("isSimulator","mr")}else GameSdk&&GameSdk.init()&&(GameSdk.onResume(i.setStageVolumeAndShow),GameSdk.onPause(i.setStageVolumeAndHide))},e.setgametype=function(e){-1!=e.indexOf("quickSDK")?(c.cur_game_type=2,console.log(" cur game type：quicksdk ")):-1!=e.indexOf("MRGame")?(c.cur_game_type=3,console.log(" cur game type：MRGAME ")):-1!=e.indexOf("GameSdk")&&(c.cur_game_type=7,console.log(" cur game type：GameSdk "))},e.setChannel=function(e){e||console.log("setChannel msg is empty"),c.g_cqbChannelValue=e},e.quicksdkinit=function(){},e.oncallLocalPhoto=function(){},e.onGetPhotoURL=function(e){e&&(console.log("=================js:onGetPhotoURL======================"+e),o.raiseEvent("onGetPhotoURL",[e]))},e.sendtonative=function(e,n){},e.quicksdklogin=function(){},e.quicksdkpay=function(e,n,o,t,i,c){},e.quicksdkuploadrole=function(e,n,o,t){},e.requestpaylist=function(e){},e.getpaylist=function(e){},e.callJS=function(){},e.changescreen=function(){},e.showAlert=function(e){if(console.log("msg=",e),-1!=e.indexOf("unionid")&&(e=JSON.parse(e).unionid),-1!=e.indexOf("BMSJ")){var n=e.split("BMSJ")[1];t.sendLoginToken(n)}else console.log("msg=",e),t.WECHATANDQQ(e),c.g_native_code=e},e.isWebForYYY=function(){},e.sdkForYYY=function(){},e.getinfoforsdk=function(e,n,o,t){},e.callversion=function(e){},e.callactiveforks=function(e){},e.callpaylistforuu=function(e){},e.callpayforuu=function(e,n){},e.audioDisconnect=function(){},e.enterroomsuccess=function(){},e.checkNative=function(){},e.MRGameLogin=function(){},e.MRGameCheckAge=function(){},e.MRGameRoleUpate=function(e,n,o){},e.upLoadRoleInfoInShahe=function(e,n,o,t,i){var a=c.g_RoleAccountId,u=new Object;u.isCreateRole=c.E_NewRoleName==e,u.ServerId=c.g_Server_Name,u.ServerName=c.g_Server_Name,u.RoleId=c.E_NewPlayerID,u.RoleName=c.g_RoleNameOnly,u.RoleLevel=n,u.RoleCTime=c.E_NewRoleTime,u.Balance=0,u.RoleVip=0,u.Reincarnation=c.g_relevel,u.FightingCapacity=0,u.PartyName=c.G_Guild_Name,u.UploadType=o,u.account=a,u.profession=t,u.sex=i,u.newServerId=c.g_selectServerId,u.isCreateRole&&(c.E_NewRoleName="");var l=JSON.stringify(u);console.log(l),GameSdk&&GameSdk.uploadRoleInfo(l)},e.MRGamePay=function(e,n,o,t){},e.openPayInShaHe=function(e,n,o,t){var i=new Object;i.Money=t,i.ProductName=n,i.ProductDec=n,i.ProductId=c.g_selectProductId,i.ProductCount=e,i.CurrencyName=c.E_NewRoleTime,i.ExchangeRate=o,i.ExtInfo=0,i.ServerId=c.g_Server_Name,i.ServerName=c.g_Server_Name,i.RoleId=c.E_NewPlayerID,i.RoleName=c.g_RoleNameOnly,i.RoleLevel=c.g_levelForCaiji,i.Balance=0,i.RoleVip=0,i.PartyName=c.G_Guild_Name,i.account=c.g_RoleAccountId,i.newServerId=c.g_selectServerId;var a=JSON.stringify(i);7==c.cur_game_type&&GameSdk.openPay(a)},e.MTPLogin=function(){},e.MRGameH5Init=function(){},e.MRGameH5Pay=function(e,n){},e.MRGameH5RoleUpate=function(e,n){},e.register=function(){},e.dyRegister=function(e){},e.dyLogin=function(e){},e.dyPayData=function(e,n){},e.h5BoxCheck=function(){},e.h5BoxRegister=function(e){},e.sendHttp=function(e,n,o){},e.loginCheckYXF=function(){},e.payGameH5YXF=function(e){},e.userAgentH5=function(e,n){},e.refreshMap=function(){},e.scToken=function(){},e.scLogin=function(){},e.updateToken=function(){},e.returnFromBackground=function(){},e}());u.QuickbackData=null,u.uu_url="http://47.111.117.245:8081",u.uu_token="8E1B1D0F787411EA8D9300163E0AFD0A",u.uu_key="24A36C5E6A5049CD9B93B9398FE57D30",u.uu_sign="",u.uu_id=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/FightModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./MsgSM.ts","./Struct.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts","./GameConfig.ts","./MoveModule.ts","./SkillModule.ts"],(function(t){"use strict";var i,e,s,a,r,n,o,l,g,c,h,u,d,f,_,p,k;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,a=t.Vec2,r=t.Component},function(t){n=t.EventMgr},function(t){o=t.Config},function(t){l=t.default},function(t){g=t.default},function(t){c=t.Struct_ins},function(t){h=t.Objectcontrol},function(t){u=t.ObjectManage},function(t){d=t.sendmessage},function(t){f=t.GameUtil},function(t){_=t.gameConfig},function(t){p=t.Movemodule},function(t){k=t.Skillmodule}],execute:function(){var v,y;e._RF.push({},"9fb48qA99BJX6kDQS/yR5JE","FightModule",void 0);var b=s.ccclass,x=(s.property,t("FightModule",b("FightModule")(((y=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this).use_type=0,i.att_time=0,i.use_autoattack=!1,i.path_list=[],i.end_point=null,i.AttOff_list=[],i.path=[],i.firstGWCS=!1,i}i(e,t),e.ins=function(){return this._ins||(this._ins=new e),this._ins};var s=e.prototype;return s.start=function(){},s.update=function(t){},s.init=function(){this.use_type=0,this.att_time=0,this.use_autoattack=!0,this.path_list=[],this.end_point=new a,this.AttOff_list=[],this.path=[]},s.leavefight=function(){o.chaseing=!1,this.path_list=[],o.attackerID=0,this.path=[]},s.attactsound=function(t){if(t.data&&t.data.fea&&t.data.fea.buffer){var i=c.THumFeature(t.data.fea.buffer);f.weaponAttackSound(g.HIT,i.wWeapon,i.btGender,null)}},s.canuseskill=function(t,i){for(var e=u.findobject(o.playerID),s=0;s<o.g_UserMagicList.length;++s)if(o.g_UserMagicList[s]&&o.g_UserMagicList[s].Def.btEffect==t&&o.g_UserMagicList[s].Def.wMagicId==i&&e&&f.judgeMagicMp(o.g_UserMagicList[s],e))return!0;return!1},s.checkcd=function(t){var i=Date.now(),e=!0;switch(t){case 24:e=i>_.lastFireHitTime+k.checklegal(24,26)+1e3;break;case 23:e=0==h.is_open_by;break;case 43:e=i>_.lastKTZTime+k.checklegal(43,95)+1e3;break;case 53:e=i>_.lastZRTime+k.checklegal(53,76)+1e3;break;case 38:e=i>_.lastLYTime+k.checklegal(38,43)+1e3}return e},s.newAutohookstateFindPath=function(t,i,e){var s=Math.floor(a.distance(t.grid,i.grid));if(e||i&&0==i.target_pos.x||0==i.target_pos.y?this.path=p.find4path(t.grid,i.grid):this.path=p.find4path(t.grid,i.target_pos),this.path.length>0){h.move_call_result=!0;var r=this.path[0];if(this.path[1]&&(this.path[1].x!=i.grid.x||this.path[1].y!=i.grid.y))var n=this.path[1];var l=f.getorientation(t.grid,r);if(n&&3!=s)if(l==f.getorientation(r,n)&&h.executemove(n,l,3))return this.AttOff_list=[],void this.path.splice(0,2);h.executemove(r,l,2)&&(this.path.shift(),this.AttOff_list=[])}else f.delhalo(o.lockingID),o.g_boMagicGood=!1},s.startchaseing=function(t,i){if(0!=o.chaseing){if(o.autohookstate)if(0==this.path_list.length&&(this.path_list=p.find4path(t.grid,i.grid)),this.path_list.length>0){h.move_call_result=!0;var e=this.path_list[0];if(this.path_list[1]&&(this.path_list[1].x!=i.grid.x||this.path_list[1].y!=i.grid.y)&&(this.path_list[1].x!=i.target_pos.x||this.path_list[1].y!=i.target_pos.y))var s=this.path_list[1];var a=f.getorientation(t.grid,e);if(s)if(a==f.getorientation(e,s)&&h.executemove(s,a,3))return void this.path_list.splice(0,2);if(e.x==i.target_pos.x&&e.y==i.target_pos.y||e.x==i.grid.x&&e.y==i.grid.y)return;h.executemove(e,a,2)&&this.path_list.shift()}else o.chaseing=!1,this.path_list=[],this.path=[],o.autohookstate&&(0!=o.lockingID?-1==M.AttOff_list.indexOf(o.lockingID)&&M.AttOff_list.push(o.lockingID):M.AttOff_list=[],f.delhalo(o.lockingID),o.lockingID=0),t&&1==t.cur_state&&(o.attackerID=0);else this.newAutohookstateFindPath(t,i,o.firstUpdatePath);o.firstUpdatePath&&(o.firstUpdatePath=!1)}},s.longrangeattack=function(t,i,e,s){o.GlobalCfglist.z_autoskill_2&&s<=1&&this.canuseskill(24,26)&&this.checkcd(24)?h.useskill(24,26):o.GlobalCfglist.zs_zrjf&&s<=4&&this.hasquadis(t.grid,i.grid)&&this.canuseskill(53,76)&&this.checkcd(53)?h.useskill(53,76):o.GlobalCfglist.z_autoskill_4&&s<=4&&this.hasquadis(t.grid,i.grid)&&this.canuseskill(43,95)&&this.checkcd(43)?h.useskill(43,95):o.GlobalCfglist.zs_lyjf&&s<=4&&this.hasquadis(t.grid,i.grid)&&this.canuseskill(38,43)&&this.checkcd(38)?h.useskill(38,43):(o.GlobalCfglist.z_autoskill_3&&this.can_auto_by(t)&&s<=1&&this.canuseskill(23,25)&&!h.is_open_by||o.GlobalCfglist.z_autoskill_3&&!this.can_auto_by(t)&&s<=1&&this.canuseskill(23,25)&&h.is_open_by)&&h.useskill(23,25)},s.isexcavate=function(t){return t&&t.node.active&&t.is_die&&(11==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&160==t.skin_feature.wAppr||11==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&161==t.skin_feature.wAppr||19==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&43==t.skin_feature.wAppr||19==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&70==t.skin_feature.wAppr||16==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&24==t.skin_feature.wAppr||52==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&39==t.skin_feature.wAppr||19==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&113==t.skin_feature.wAppr||52==t.skin_feature.wRaceImg&&0==t.skin_feature.wWeapon&&93==t.skin_feature.wAppr)},s.excavate=function(t,i){var e=f.getorientation(t.grid,i.grid);t.changestate(null,12,e,!1,"play_over_test"),d.sendButchAnimal(t.grid.x,t.grid.y,t.cur_dir,o.lockingID)},s.hasquadis=function(t,i){var e=Math.abs(t.x-i.x),s=Math.abs(t.y-i.y);return 0==e||0==s||e==s},s.can_auto_by=function(t){for(var i=t.cur_dir,e=0,s=0==i?f.getMovePoint(t.grid,7,1):f.getMovePoint(t.grid,(i-1)%7,1),a=f.getMovePoint(t.grid,i%7,1),r=f.getMovePoint(t.grid,(i+1)%7,1),n=f.getMovePoint(t.grid,(i+2)%7,1),o=0;o<u.object_list.length;o++){var l=u.object_list[o];l!=t&&(2!=l.type&&!l.is_die&&(l.grid.x==s.x&&l.grid.y==s.y||l.grid.x==a.x&&l.grid.y==a.y||l.grid.x==r.x&&l.grid.y==r.y||l.grid.x==n.x&&l.grid.y==n.y)&&e++)}return e>1},s.startattack=function(t,i){o.attackerID=o.lockingID;var e=u.findobject(o.playerID),s=u.findobject(o.attackerID);if(e&&s){var r=e.node.position;e.grid.x=Math.floor(r.x/48),e.grid.y=Math.floor(-r.y/32);var g,c=f.getorientation(e.grid,s.grid);if(g=0==s.target_pos.x&&0==s.target_pos.y?Math.floor(a.distance(e.grid,s.grid)):Math.floor(a.distance(e.grid,s.target_pos)),this.isexcavate(s))g<=1?(this.excavate(e,s),this.path_list=[],this.path=[]):(o.chaseing=!0,this.startchaseing(e,s));else{var h=Math.floor(a.distance(e.grid,s.grid)),d=g;o.disAfterTargetMoved>0&&(d+=o.disAfterTargetMoved),this.longrangeattack(e,s,t,d),this.useattack(e,s,t,c,d,h)?o.g_ClientConfig.boDisabledDoubleFireHitSkill&&24==t&&null!=o.doubleFirePosIndex&&(n.raiseEvent(l.SKILL_CD_ANI,o.doubleFirePosIndex),o.doubleFirePosIndex=void 0):(o.chaseing=!0,this.startchaseing(e,s))}}else if(e&&e.grid){var _=2;o.g_serverconfig.nAtkRange&&(_=o.g_serverconfig.nAtkRange);var p=u.findlateobject(e.grid,_);p?(f.addhalo(p),this.startattack(t)):(o.chaseing=!1,this.path_list=[],this.path=[],i||n.raiseEvent("show_log",[{txt:"当前没有可攻击目标！",color:"#ff0000"}]),this.attacking(0,0,e,e,e.cur_dir),this.keepSkillIdOnEmptyAttack(t))}},s.keepSkillIdOnEmptyAttack=function(t){[24].indexOf(t)>-1&&(h.atttype=t,h.controltype=3,h.skillList.push(t))},s.canCiSha=function(t,i,e,s,a){var r=s.grid.x-a.grid.x;r<0&&(r=-r);var n=s.grid.y-a.grid.y;return n<0&&(n=-n),(r*n==0||r==n)&&(t&&o.GlobalCfglist.z_autoskill_2?(t>2&&(this.firstGWCS=!0),2==t&&this.firstGWCS?(this.firstGWCS=!1,this.hasquadis(s.grid,a.grid)&&o.GlobalCfglist.zs_gwcs&&2==i||o.GlobalCfglist.z_autoskill_1&&i<=1):o.GlobalCfglist.zs_gwcs&&2==t&&this.hasquadis(s.grid,a.grid)&&this.noRagingFire(e)||o.GlobalCfglist.z_autoskill_1&&i<=1):this.hasquadis(s.grid,a.grid)&&o.GlobalCfglist.zs_gwcs&&2==i||o.GlobalCfglist.z_autoskill_1&&i<=1)},s.noRagingFire=function(t){return 23!=t&&(!this.canuseskill(24,26)||24!=t&&!this.checkcd(24))},s.useattack=function(t,i,e,s,a,r){if(!o.autohookstate&&0==a)return!1;var n,l=0;return a<=1&&24==e&&this.canuseskill(24,26)&&(l=26)||a<=4&&53==e&&this.hasquadis(t.grid,i.grid)&&this.canuseskill(53,76)&&(l=76)||a<=4&&43==e&&this.hasquadis(t.grid,i.grid)&&this.canuseskill(43,95)&&(l=95)||a<=4&&38==e&&this.hasquadis(t.grid,i.grid)&&this.canuseskill(38,43)&&(l=43)||a<=1&&5==e&&this.hasquadis(t.grid,i.grid)&&this.canuseskill(5,7)&&(l=7)||a<=1&&h.is_open_by&&this.canuseskill(23,25)&&0==e&&(e=23)&&(l=25)||this.canCiSha(r,a,e,t,i)&&h.is_open_cs&&this.canuseskill(13,12)&&(0==e||5==e)&&(e=13)&&(l=12)||a<=1&&0==e?!(a>=2&&5==e&&!o.GlobalCfglist.zs_gwcs)&&(this.attacking(e,l,t,i,s),!0):a<=1?(this.attacking(0,l,t,i,s),!0):(2!=t.cur_state&&3!=t.cur_state||2!=i.cur_state&&3!=i.cur_state||t.cur_dir==i.cur_dir||o.disAfterTargetMoved>0&&(n=a-o.disAfterTargetMoved),!!(n&&0==e&&n<=1)&&(this.attacking(e,l,t,i,s),!0))},s.attacking=function(t,i,e,s,a,r){if(o.autohookstate&&e&&s&&e.grid.x==s.grid.x&&e.grid.y==s.grid.y)for(var n=0;n<8;n++){for(var l=f.getNextPoint(e.grid.x,e.grid.y,n),g=!1,c=0;c<u.object_list.length;++c){if((!(d=u.object_list[c])||!d.is_die)&&(d&&d.grid.x==l.x&&d.grid.y==l.y)){g=!0;break}}if(!g)return this.leavefight(),void p.startmove(e.grid,l)}var d;o.attack_lock_state&&-1!=o.rocker_move_dir&&(a=o.rocker_move_dir,(d=u.hasobstacleID(e.grid,a))&&(s=d,f.addhalo(d)));this.attactsound(e);var _=this.getActualDirAndPos(a,e.grid,e,s);k.openMsg(t,_[1],_[0]);var v=0==s.target_pos.x?s.grid:s.target_pos,y=this.getSkillLevel(t,i);k.playself(t,i,e,v,s.data.record,y),o.attack_call_time=Date.now(),p.stopmove(),h.atttype=0},s.getActualDirAndPos=function(t,i,e,s){if(0==s.target_pos.x||0==s.target_pos.y||0==e.target_pos.x||0==e.target_pos.y)return[t,i];var a=f.getorientation(e.grid,s.target_pos);return null==a||null==a?[t,e.target_pos]:[a,e.target_pos]},s.getSkillLevel=function(t,i){for(var e=0;e<o.g_UserMagicList.length;e++){var s=o.g_UserMagicList[e];if(s.Def.btEffect==t&&s.Def.wMagicId==i)return s.Level}},s.resetData=function(){this.use_type=0,this.att_time=0,this.use_autoattack=!1,this.path_list=[],this.end_point=null,this.AttOff_list=[],this.path=[]},e}(r))._ins=void 0,v=y))||v)),M=t("Fightmodule",x.ins());e._RF.pop()}}}));

System.register("chunks:///_virtual/FilterItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./Config.ts"],(function(t){"use strict";var e,i,o,n,c,r,l,a,p,s,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,l=t.Label,a=t.Toggle,p=t.Component},function(t){s=t.GameUtil},function(t){g=t.Config}],execute:function(){var u,h,_,k,b,f,d,m,C,w,y,L,I,D,v;c._RF.push({},"a6486QgrMNHmIA/2eHDq7Ac","FilterItem",void 0);var z=r.ccclass,M=r.property;t("FilterItem",(u=z("FilterItem"),h=M(l),_=M(a),k=M(a),b=M(a),f=M(a),d=M(a),u((w=e((C=function(t){function e(){for(var e,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return e=t.call.apply(t,[this].concat(c))||this,o(e,"lab_picktype_name",w,n(e)),o(e,"tog_hint",y,n(e)),o(e,"tog_dropshow",L,n(e)),o(e,"tog_pickup",I,n(e)),o(e,"tog_specia",D,n(e)),o(e,"tog_teleport",v,n(e)),e.itemData=null,e}i(e,t);var c=e.prototype;return c.start=function(){s.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",this.tog_hint,this.tog_hint.checkMark,!1),s.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",this.tog_dropshow,this.tog_dropshow.checkMark,!1),s.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",this.tog_pickup,this.tog_pickup.checkMark,!1),s.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",this.tog_specia,this.tog_specia.checkMark,!1),s.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",this.tog_teleport,this.tog_teleport.checkMark,!1)},c.update=function(t){},c.updateView=function(t){this.node.dataSource=t,this.lab_picktype_name.string=t.name,this.tog_hint.isChecked=t.hint,this.tog_dropshow.isChecked=t.show,this.tog_pickup.isChecked=t.pick,this.tog_specia.isChecked=t.specia,this.tog_teleport.isChecked=t.teleport},c.onClickItemHandler=function(t){var e=t.target.parent.dataSource.name,i=!t.target.getComponent(a).isChecked;switch(t.target.name){case"tog_hint":g.g_filterItemList[e].hint=i;break;case"tog_dropshow":g.GlobalCfglist.dropShowChecks||this.setDefaultDropShowChecks(),g.g_filterItemList[e].show=i;break;case"tog_pickup":g.GlobalCfglist.pickUpCheckss||this.setDefaultPickUpCheckss(),g.g_filterItemList[e].pick=i;break;case"tog_specia":g.g_filterItemList[e].specia=i;break;case"tog_teleport":g.g_filterItemList[e].teleport=i}},c.setDefaultDropShowChecks=function(){g.GlobalCfglist.dropShowChecks=[!1,!1,!1,!1,!1,!1,!1]},c.setDefaultPickUpCheckss=function(){g.GlobalCfglist.pickUpCheckss=[!1,!1,!1,!1,!1,!1,!1]},e}(p)).prototype,"lab_picktype_name",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(C.prototype,"tog_hint",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"tog_dropshow",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(C.prototype,"tog_pickup",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"tog_specia",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"tog_teleport",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/FindPrizeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,a,r,o,s,u,c,l,m,d,p,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Sprite,u=e.Label,c=e.Component},function(e){l=e.EventMgr},function(e){m=e.Config},function(e){d=e.default},function(e){p=e.OPEN_ITEMINFO_WIN_TYPE},function(e){f=e.resourcesMgr},function(e){g=e.GameUtil}],execute:function(){var h,I,_,v,F,N,b,E;r._RF.push({},"0d710ALIbVJk7Nm4Lq/ZiAT","FindPrizeItem",void 0);var y=o.ccclass,M=o.property,C=o.menu;e("default",(h=y("FindPrizeItem"),I=C("实例模块/FindPrizeItem"),_=M(s),v=M(u),h(F=I((b=t((N=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"icon",b,a(t)),n(t,"itemNum",E,a(t)),t.equip_data=null,t}i(t,e);var r=t.prototype;return r.start=function(){g.loadResLocal("BagWin/img_bag_bg.png",this.node.getComponent(s))},r.init=function(e){var t,i=this;(e.res?f.handleLoad(e.res.plist,(function(t){t&&t.getSpriteFrame(e.res.img)&&i.icon&&(i.icon.spriteFrame=t.getSpriteFrame(e.res.img))})):this.icon.getComponent(s).spriteFrame=null,e.data)?(this.equip_data=e,e.data.s.BagEffect.FileIndex&&g.showItemeffect(this.node,e.data),this.itemNum&&(this.itemNum.node.active=!0,g.checkMaterialItemCanBeStacked(e.data,!0)?t="x"+(e.data.Dura+1):g.checkDrugItemCanBeStacked(e.data)&&(t="x"+e.data.Dura),this.itemNum.string=t)):g.removeItemAni(this.node,"effect")},r.onClickItem=function(){this.equip_data&&(m.g_MoveItems.Items=this.equip_data.data,m.g_OpenIdx=p.LOOKHUMWIN,l.raiseEvent(d.OPEN_NEW_ITEM_INFO,[this.equip_data.data]))},t}(c)).prototype,"icon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(N.prototype,"itemNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=N))||F)||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/FindViewCostItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameUtil.ts"],(function(t){"use strict";var i,e,a,n,r,s,o,l,u,c,m,_,p,b,d,f,g,h,M;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,o=t.Sprite,l=t.Label,u=t.Animation,c=t.Button,m=t.Color,_=t.Component},function(t){p=t.EventMgr},function(t){b=t.Config},function(t){d=t.default},function(t){f=t.OPEN_ITEMINFO_WIN_TYPE},function(t){g=t.resourcesMgr},function(t){h=t.sendmessage},function(t){M=t.GameUtil}],execute:function(){var y,E,T,I,L,v,S,F,A,k,D,B,C,N,w,O,R,z,P,K;r._RF.push({},"55867ZeaOxKv7KRfCEtici3","FindViewCostItem",void 0);var U=s.ccclass,x=s.property,G=s.menu;t("default",(y=U("FindViewCostItem"),E=G("实例模块/FindViewCostItem"),T=x(o),I=x(o),L=x(l),v=x(l),S=x(l),F=x(l),A=x(u),k=x(c),y(D=E((C=i((B=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,a(i,"costMaterial1Spirit",C,n(i)),a(i,"costMaterial2Spirit",N,n(i)),a(i,"costMaterial1Label",w,n(i)),a(i,"costMaterial2Label1",O,n(i)),a(i,"costMaterial2Label2",R,n(i)),a(i,"buyBtnLabel",z,n(i)),a(i,"useTicketAnimation",P,n(i)),a(i,"buyBtn",K,n(i)),i.item1_data=null,i.item2_data=null,i.buy_num=0,i.cost_material2_num=0,i}e(i,t);var r=i.prototype;return r.start=function(){M.loadResLocalButton("SplitResource/Btns/bag_btnBg (2).png","SplitResource/Btns/bag_btnBg.png",this.buyBtn),this.initMgr()},r.initMgr=function(){p.addEventListener(d.UPDATE_FIND_TICKET_DATA,this.updateTicketData,this)},r.init=function(t){var i=this;t&&(t.item1_data&&(this.item1_data=t.item1_data,t.item1_data.res?g.handleLoad(t.item1_data.res.plist,(function(e){e&&e.getSpriteFrame(t.item1_data.res.img)&&i.costMaterial1Spirit&&(i.costMaterial1Spirit.spriteFrame=e.getSpriteFrame(t.item1_data.res.img))})):this.costMaterial1Spirit.spriteFrame=null),this.costMaterial1Label.string=t.cost_material1_num.toString(),t.item2_data&&(this.item2_data=t.item2_data,t.item2_data.res?g.handleLoad(t.item2_data.res.plist,(function(e){e&&e.getSpriteFrame(t.item2_data.res.img)&&i.costMaterial2Spirit&&(i.costMaterial2Spirit.spriteFrame=e.getSpriteFrame(t.item2_data.res.img))})):this.costMaterial2Spirit.spriteFrame=null),this.costMaterial2Label1.string=t.self_material_num.toString(),this.costMaterial2Label2.string="/"+t.cost_material2_num,this.costMaterial2Label1.color=t.self_material_num<t.cost_material2_num?m.RED:m.GREEN,t.self_material_num<t.cost_material2_num?(this.useTicketAnimation.stop(),this.useTicketAnimation.node.active=!1):(this.useTicketAnimation.node.active=!0,this.useTicketAnimation.play()),this.buyBtnLabel.string="购买"+t.buy_num+"次",this.buy_num=t.buy_num,this.cost_material2_num=t.cost_material2_num)},r.onClickItem1=function(){this.item1_data&&(b.g_MoveItems.Items=this.item1_data.data,b.g_OpenIdx=f.LOOKHUMWIN,p.raiseEvent(d.OPEN_NEW_ITEM_INFO,[this.item1_data.data]))},r.onClickItem2=function(){this.item2_data&&(b.g_MoveItems.Items=this.item2_data.data,b.g_OpenIdx=f.LOOKHUMWIN,p.raiseEvent(d.OPEN_NEW_ITEM_INFO,[this.item2_data.data]))},r.onClickBuyBtn=function(){b.hero_treasure_buy_num=this.buy_num,h.sendHeroTreasureFindExchange(this.buy_num)},r.updateTicketData=function(t){this.costMaterial2Label1.string=t.toString(),this.costMaterial2Label1.color=t<this.cost_material2_num?m.RED:m.GREEN,t<this.cost_material2_num?(this.useTicketAnimation.stop(),this.useTicketAnimation.node.active=!1):(this.useTicketAnimation.node.active=!0,this.useTicketAnimation.play())},r.onDestroy=function(){p.removeEventListener(d.UPDATE_FIND_TICKET_DATA,this.updateTicketData,this)},i}(_)).prototype,"costMaterial1Spirit",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(B.prototype,"costMaterial2Spirit",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(B.prototype,"costMaterial1Label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(B.prototype,"costMaterial2Label1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(B.prototype,"costMaterial2Label2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(B.prototype,"buyBtnLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(B.prototype,"useTicketAnimation",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(B.prototype,"buyBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=B))||D)||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/FindViewItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts"],(function(t){"use strict";var e,i,n,a,r,o,u,s,c,l,f,m,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,u=t.Label,s=t.Component},function(t){c=t.EventMgr},function(t){l=t.Config},function(t){f=t.default},function(t){m=t.FIND_TREASURE_VIEW_TYPE,p=t.OPEN_ITEMINFO_WIN_TYPE}],execute:function(){var _,g,E,d,I,N,h,v;r._RF.push({},"26c0fQEfflBs4Awx+acXxql","FindViewItem",void 0);var y=o.ccclass,F=o.property,b=o.menu;t("default",(_=y("FindViewItem"),g=b("实例模块/FindViewItem"),E=F(u),d=F(u),_(I=g((h=e((N=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"getName",h,a(e)),n(e,"itemName",v,a(e)),e.equip_data=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.init=function(t,e,i){t&&(i==m.ALL_TREASURE?this.getName.string="恭喜"+t+"获得":i==m.MY_TREASURE&&(this.getName.string="恭喜您获得")),e&&(this.itemName.string=e.name,this.equip_data=e)},r.onClickItem=function(){l.g_MoveItems.Items=this.equip_data.data,l.g_OpenIdx=p.LOOKHUMWIN,c.raiseEvent(f.OPEN_NEW_ITEM_INFO,[this.equip_data.data])},e}(s)).prototype,"getName",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(N.prototype,"itemName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=N))||I)||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlexibleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./AnimationModule.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameMission.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,l,m,u,g,p,c,h,f,d,_,I,b,v,w,y,S,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,l=e.Prefab,m=e.Sprite,u=e.instantiate,g=e.Layers,p=e.Button,c=e.Label,h=e.UITransform,f=e.HorizontalTextAlignment,d=e.color,_=e.Widget,I=e.Component},function(e){b=e.Config},function(e){v=e.Animationmodule},function(e){w=e.resourcesMgr},function(e){y=e.sendmessage},function(e){S=e.gameMission},function(e){x=e.GameUtil}],execute:function(){var C,D,A,T,F,k,U,z,M,P,L,R,X,H,Y,E,B,V,N,O;e("e_attr_type",void 0),o._RF.push({},"981f2eTJWBM1YtXW15vTVEb","FlexibleItem",void 0);var G,j=a.ccclass,W=a.menu,J=a.property;!function(e){e[e.font=0]="font",e[e.image=1]="image",e[e.itemShow=2]="itemShow",e[e.animation=3]="animation",e[e.progress=4]="progress"}(G||(G=e("e_attr_type",{})));e("FlexibleItem",(C=j("FlexibleItem"),D=W("/FlexibleItem"),A=J(s),T=J(s),F=J(s),k=J(s),U=J(s),z=J(l),M=J(l),P=J(m),C(L=D((X=t((R=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"font_box",X,r(t)),n(t,"image_box",H,r(t)),n(t,"itemShow_box",Y,r(t)),n(t,"animation_box",E,r(t)),n(t,"progress_box",B,r(t)),n(t,"itemShow_pre",V,r(t)),n(t,"progress_pre",N,r(t)),n(t,"partingLine_spr",O,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){x.loadResLocal("public/xt.png",this.partingLine_spr)},o.update=function(e){},o.showUI=function(e){e&&(this.setAttrHandler(e.font,G.font,this.font_box),this.setAttrHandler(e.image,G.image,this.image_box),this.setAttrHandler(e.itemShow,G.itemShow,this.itemShow_box),this.setAttrHandler(e.animation,G.animation,this.animation_box),this.setAttrHandler(e.progress,G.progress,this.progress_box))},o.setAttrHandler=function(e,t,i){if(e&&!(e.length<=0)){i.active=!0;var n=i.children;for(var r in n){n[r].active=!1}for(var o=0;o<e.length;o++){var a=e[o],l=void 0;switch(n[o]?(l=n[o]).hasValue&&l.off(s.EventType.TOUCH_START,this.onClickValue,this):(l=this.getObjByType(t),i.addChild(l)),l.active=!0,t){case G.font:this.setFontAttr(a,l);break;case G.image:this.setImageAttr(a,l);break;case G.itemShow:this.setItemShowAttr(a,l);break;case G.animation:this.setAnimationAttr(a,l);break;case G.progress:this.setProgressAttr(a,l)}}}},o.onClickValue=function(e){if(e.target){e.propagationStopped=!0;var t=e.target.tempData;t&&(t[0]?y.SendNpcCMD(t[1],b.G_NPC_ID,0):t[1]&&x.newShowItemsInf(t[1]))}},o.getObjByType=function(e){switch(e){case G.font:var t=new s,i=t.addComponent(c);return i.getComponent(h).anchorX=0,t.layer=g.Enum.UI_2D,i.horizontalAlign=f.LEFT,t;case G.image:var n=new s;return n.addComponent(p).transition=p.Transition.SPRITE,n.addComponent(m),n.layer=g.Enum.UI_2D,n;case G.itemShow:return u(this.itemShow_pre);case G.animation:var r=new s;return r.addComponent(m),r.layer=g.Enum.UI_2D,r;case G.progress:return u(this.progress_pre)}},o.setFontAttr=function(e,t){var i=t.getComponent(c);e.content&&(i.string=e.content),e.color&&(i.color=d(e.color)),e.size&&(i.fontSize=e.size),t.setPosition(this.getXorY(e.x),this.getXorY(e.y)),e.value&&(t.on(s.EventType.TOUCH_START,this.onClickValue,this),t.tempData=[!0,e.value],t.hasValue=!0)},o.getXorY=function(e){return null!=e&&null!=e?e:0},o.setImageAttr=function(e,t){if(e.file&&e.imageID){var i,n=S.getUrl(b.g_pak_list[e.file],e.imageID);e.pressFile&&e.pressImageID&&(i=S.getUrl(b.g_pak_list[e.pressFile],e.pressImageID));var r=t.getComponent(m),o=t.getComponent(p);o.pressedSprite=null,r.spriteFrame=null;var a=w.getRes(n);if(i){var l=w.getRes(i);l?o.pressedSprite=l.url:x.loadImg(e.pressImageID,b.g_pak_list[e.pressFile],(function(e){o.pressedSprite=e.imgUrl}))}a?(r.spriteFrame=a.url,o.normalSprite=a.url):x.loadImg(e.imageID,b.g_pak_list[e.file],(function(e){r.spriteFrame=e.imgUrl,o.normalSprite=e.imgUrl}))}if(e.redDot){var u=t.getChildByName("redDot");if(!u){(u=new s).layer=g.Enum.UI_2D;var c=u.addComponent(_);c.isAlignLeft=!0,c.isAlignBottom=!0,c.top=2,c.bottom=2,u.name="redDot";var h=u.addComponent(m);t.addChild(u),x.loadResLocal("public/hd.png",h)}u.active=!0}else{var f=t.getChildByName("redDot");f&&(f.active=!1)}t.setPosition(this.getXorY(e.x),this.getXorY(e.y)),e.value&&(t.on(s.EventType.TOUCH_START,this.onClickValue,this),t.tempData=[!0,e.value],t.hasValue=!0)},o.setItemShowAttr=function(e,t){if(e.itemID){var i=-1,n=this.getItemInfo(e.itemID);n&&(i=n.s.Looks);var r=S.getItemShowIdxByMakeIndex(i,-1==i,e.itemID,b.g_BagItemsList);i=null!=r[0]?r[0]:i,i=S.getItemShowIdxByMakeIndex(i,-1==i,e.itemID,b.g_UserItemList)[0];var o=S.getUrl("items",i),a=t.children[0].getComponent(m);a.spriteFrame=null;var l=w.getRes(o);l?a.spriteFrame=l.url:x.loadImg(i,"items",(function(e){a.spriteFrame=e.imgUrl})),t.on(s.EventType.TOUCH_START,this.onClickValue,this),t.tempData=[!1,n],t.hasItemClicks=!0}else e.value&&(t.on(s.EventType.TOUCH_START,this.onClickValue,this),t.tempData=[!0,e.value],t.hasValue=!0);if(e.count&&e.count>0){var u=t.children[1],g=u.getComponent(c);u.active=!0,g.fontSize=e.countSize,g.string=e.count+"",g.color=d(e.countColor),u.setPosition(e.countX,e.countY)}else t.children[1].active=!1;t.setPosition(this.getXorY(e.x),this.getXorY(e.y))},o.getItemInfo=function(e){if(b.g_fleixbleItemShow){for(var t=0;t<b.g_fleixbleItemShow.length;t++){var i=b.g_fleixbleItemShow[t];if(i&&i.MakeIndex==e)return i}for(var n=0;n<b.g_Showitem.length;n++)if(e==b.g_Showitem[n].s.nIdx&&e==b.g_Showitem[n].MakeIndex)return b.g_Showitem[n]}},o.setAnimationAttr=function(e,t){var i=b.g_pak_list[e.id];if("true"==e.show||"1"==e.show)if(t.children[0])t.children[0].active=!0;else if(e.drawMode&&0!=e.drawMode){if(e.drawMode>0){var n=v.playframe(!0,t,"data/"+i+"/",e.start,e.start+e.playNum-1,e.speed,!1,!0);n&&n.node.setPosition(0,0)}}else{var r=v.playframe(!0,t,"data/"+i+"/",e.start,e.start+e.playNum-1,e.speed,!0,!1);r&&r.node.setPosition(0,0)}else t.removeAllChildren();t.setPosition(this.getXorY(e.x),this.getXorY(e.y))},o.setProgressAttr=function(e,t){e.bgFile&&e.bgID&&(x.loadImg(e.bgID,b.g_pak_list[e.bgFile],(function(e){t.getComponent(m).spriteFrame=e.imgUrl})),e.proImageFile&&e.proImageID&&x.loadImg(e.proImageID,b.g_pak_list[e.proImageFile],(function(i){var n=t.children[0];if(n.getComponent(m).spriteFrame=i.imgUrl,null!=e.rate&&null!=e.rate){var r=n.getComponent(h);r.width=Math.floor(r.width*e.rate/100)}}))),t.setPosition(this.getXorY(e.x),this.getXorY(e.y))},t}(I)).prototype,"font_box",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(R.prototype,"image_box",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(R.prototype,"itemShow_box",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(R.prototype,"animation_box",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(R.prototype,"progress_box",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(R.prototype,"itemShow_pre",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(R.prototype,"progress_pre",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(R.prototype,"partingLine_spr",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=R))||L)||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/FlexibleUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./List.ts","./FlexibleItem.ts"],(function(t){"use strict";var e,i,n,s,o,r,a,l,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.UITransform,l=t.Component},function(t){c=t.EventMgr},function(t){u=t.default},function(t){h=t.FlexibleItem}],execute:function(){var f,d,p,b,m,v;o._RF.push({},"298edRoYOxI3qTn7skUejn4","FlexibleUI",void 0);var g=r.ccclass,I=r.menu,x=r.property;t("FlexibleUI",(f=g("FlexibleUI"),d=I("/FlexibleUI"),p=x(u),f(b=d((v=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"flexibleList",v,s(e)),e._data=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){c.addEventListener("setFleixbleListData",this.setData,this)},o.start=function(){},o.setData=function(t){if(t){if(this._data=JSON.parse(t[0]).items,this.sortByReceiveState(),this.node){var e=this.node.getComponent(a),i=this.node.children[0].getComponent(a),n=this.node.children[0].children[0].getComponent(a);e.width=i.width=n.width=t[1],e.height=i.height=n.height=t[2]}this.flexibleList.numItems=this._data.length}},o.updateItem=function(t,e){if(t){var i=this._data[e];if(i)t.getComponent(h).showUI(i)}},o.closeView=function(){c.removeEventListener("setFleixbleListData",this.setData,this)},o.onDestroy=function(){this.closeView()},o.sortByReceiveState=function(){this._data&&this._data.sort((function(t,e){return parseInt(t.state)-parseInt(e.state)}))},e}(l)).prototype,"flexibleList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b)||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/FmtPlist.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,a,s,i,o,n,p,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,a=e.Size,s=e.Vec2,i=e.Rect,o=e.SpriteAtlas,n=e.SpriteFrame,p=e.path,c=e.Component}],execute:function(){r._RF.push({},"39c0a6sKLxOGKUUMovURkZm","FmtPlist",void 0);var l=/[\{\}]/g;e("FmtPlist",function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.parseSize=function(e){var t=(e=e.slice(1,-1)).split(","),r=parseFloat(t[0]),s=parseFloat(t[1]);return new a(r,s)},r.parseVec2=function(e){var t=(e=e.slice(1,-1)).split(","),r=parseFloat(t[0]),a=parseFloat(t[1]);return new s(r,a)},r.parseTriangles=function(e){return Array.from(e.split(" ")).map(parseFloat)},r.parseVertices=function(e){return Array.from(e.split(" ")).map(parseFloat)},r.parseRect=function(e){var t=(e=e.replace(l,"")).split(",");return new i(parseFloat(t[0]||0),parseFloat(t[1]||0),parseFloat(t[2]||0),parseFloat(t[3]||0))},r.parsePlist=function(e,t){var r=e.metadata,a=e.frames,s=new o,i=s.spriteFrames;for(var c in a){var l=a[c],u=!1,f=void 0,m=void 0;0===r.format?(u=!1,l.originalWidth,l.originalHeight,f="{"+l.offsetX+","+l.offsetY+"}",m="{{"+l.x+","+l.y+"},{"+l.width+","+l.height+"}}"):1===r.format||2===r.format?(u=l.rotated,l.sourceSize,f=l.offset,m=l.frame):3===r.format&&(u=l.textureRotated,l.spriteSourceSize,f=l.spriteOffset,m=l.textureRect);var F=new n;F.texture=t,F.rect=this.parseRect(m),F.rotated=!!u,F.offset=this.parseVec2(f);var v=p.mainFileName(c);F.name=c,i[v]=F}return s},r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/FrameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,i,n,s;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Component}],execute:function(){var r,c;i._RF.push({},"277ff5sWkFHML+ojrsfymgI","FrameMgr",void 0);var e=n.ccclass,a=(n.property,t("FrameMgr",e("FrameMgr")(((c=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(o=t.call.apply(t,[this].concat(n))||this).dictPool={},o.timesPool={},o.count=0,o}o(i,t),i.ins=function(){return this._ins||(this._ins=new i),this._ins};var n=i.prototype;return n.start=function(){},n.update=function(t){for(var o in this.count++,this.dictPool){var i=this.dictPool[o];if(i.length>0){var n=this.timesPool[o];n?this.count%n==0&&this.executeData(i,o,n):this.executeData(i,o,n)}}},n.executeData=function(t,o,i){var n=t.shift();n.c&&n.c()},n.putTask=function(t,o,i){var n;null!=t&&""!=t?(this.dictPool.hasOwnProperty(t)?n=this.dictPool[t]:(n=[],this.dictPool[t]=n,this.timesPool[t]=i),n.push({c:o})):console.warn(">>type为空！")},n.getTask=function(t){return this.dictPool[t]},n.clearTask=function(t){this.dictPool[t]=[]},n.clear=function(){for(var t in this.dictPool)this.dictPool[t]=[];this.dictPool={},this.timesPool={},this.count=0},i}(s))._ins=void 0,r=c))||r));t("frameMgr",a.ins());i._RF.pop()}}}));

System.register("chunks:///_virtual/Friend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./RelationManager.ts","./UIcontrol.ts","./List.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,a,l,r,s,o,c,d,u,g,h,_,f,p,b,I,m,F,y,D,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Sprite,o=e.Toggle,c=e.Node,d=e.Button,u=e.ToggleContainer,g=e.Prefab,h=e.NodeEventType,_=e.Label,f=e.instantiate,p=e.Component},function(e){b=e.EventMgr},function(e){I=e.Config},function(e){m=e.default},function(e){F=e.RelationManager},function(e){y=e.uiControl},function(e){D=e.default},function(e){L=e.GameUtil}],execute:function(){var v,C,E,N,T,A,R,S,z,B,P,k,w,M,x,H,U,G,K,O,V;l._RF.push({},"61af0FkQnxGL49/1ifeYry3","Friend",void 0);var Y=r.ccclass,j=r.property;e("Friend",(v=Y("Friend"),C=j(s),E=j(o),N=j(o),T=j(o),A=j(D),R=j(c),S=j(d),z=j(u),B=j(g),v((w=t((k=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"bg",w,a(t)),i(t,"btn_myFriend",M,a(t)),i(t,"btn_nearPlayer",x,a(t)),i(t,"btn_blackList",H,a(t)),i(t,"list",U,a(t)),i(t,"content",G,a(t)),i(t,"btn_addFriend",K,a(t)),i(t,"tog_Container",O,a(t)),i(t,"pref_InfoTip",V,a(t)),t._friendInfoTip=null,t._selectedData=[],t._selectedType=0,t._selectedItem=null,t._lastIdx=-1,t._lastItem=null,t}n(t,e);var l=t.prototype;return l.onLoad=function(){var e=this;this.node.on(h.ACTIVE_IN_HIERARCHY_CHANGED,(function(t){t.active?(b.raiseEvent(m.FRIEND_APPLY),b.raiseEvent(m.SEND_FRIEND_INFO,[3,""]),e.registerEvents()):e.unRegisterEvents()}),this)},l.start=function(){L.loadResLocal("Socialize/friend_bg1.png",this.bg),L.loadResLocalToggle("Socialize/myFriend.png","Socialize/myFriend (2).png",this.btn_myFriend,this.btn_myFriend.checkMark),L.loadResLocalToggle("Socialize/nearPlayer.png","Socialize/nearPlayer (2).png",this.btn_nearPlayer,this.btn_nearPlayer.checkMark),L.loadResLocalToggle("Socialize/blackList.png","Socialize/blackList (2).png",this.btn_blackList,this.btn_blackList.checkMark),L.loadResLocalButton("Socialize/FriendInfoBtn/addFriend.png","Socialize/FriendInfoBtn/addFriend (2).png",this.btn_addFriend),this._selectedData=F.getInstance().getSelectListData(),this.list.numItems=this._selectedData.length},l.RenderItemHandler=function(e,t){0!=this._selectedData.length?(L.loadResLocal("Socialize/f_selectEffect.png",e.getChildByName("bg").getComponent(s)),e.getChildByName("bg").active=!1,e.dataSource=this._selectedData[t],e.getChildByName("lab1").getComponent(_).string=this._selectedData[t].name,e.getChildByName("lab2").getComponent(_).string=this._selectedData[t].level,e.getChildByName("lab3").getComponent(_).string=this._selectedData[t].job,e.getChildByName("lab4").getComponent(_).string=this._selectedData[t].guild,e.getChildByName("lab5").getComponent(_).string=this._selectedData[t].offlineDate):this.content.removeAllChildren()},l.onClickRenderItemHandler=function(e,t,n){this._selectedItem=e,e.getChildByName("bg").active=!0,this._friendInfoTip=f(this.pref_InfoTip),this._friendInfoTip.setParent(this.node),this._friendInfoTip.getComponent("FriendInfoTip").updateView(this._selectedType,e.dataSource.name,e.dataSource.online),-1!=this._lastIdx&&e._listId!=this._lastIdx&&(this._lastItem.getChildByName("bg").active=!1),this._lastIdx=e._listId,this._lastItem=e},l.evtMgrUpdateFriendList=function(){console.log(F.getInstance().getSelectListData()),this.list.numItems=F.getInstance().getSelectListData().length},l.onClickBtnsHandler=function(e){this._lastIdx=-1,this._lastItem=null;var t=e.target;this.btn_addFriend.node.active=!1,this._friendInfoTip&&(this._friendInfoTip.destroy(),this._friendInfoTip=null),null!=this._selectedItem&&(this._selectedItem.getChildByName("bg").active=!1,this._selectedItem=null),"btn_myFriend"==t.name?(this._selectedType=0,this._selectedData=F.getInstance().getSelectListData(0),this.list.numItems=this._selectedData.length,this.btn_addFriend.node.active=!0):"btn_nearPlayer"==t.name?(this._selectedType=1,this._selectedData=F.getInstance().getSelectListData(1),this.list.numItems=this._selectedData.length):"btn_blackList"==t.name&&(this._selectedType=2,this._selectedData=F.getInstance().getSelectListData(2),this.list.numItems=this._selectedData.length)},l.onClickBtnAddFriendHandler=function(){b.raiseEvent(m.OPEN_ADDFRIEND_TIP,["添加好友",m.ADDFRIEND_CALLBACK])},l.onAddFriend=function(e){if(""!=e)if(this.isAlreadyAddFriend(e)){var t={type:1,content:I.FRIEND_TIP.C+"",sF:function(){},cF:function(){}};y.handlerAlert(t)}else this.sendFriendApply(e);else{var n={type:1,content:I.FRIEND_TIP.D+"",sF:function(){},cF:function(){}};y.handlerAlert(n)}},l.isAlreadyAddFriend=function(e){return F.getInstance().existNameInList(F.getInstance().f_friendList,e)>-1},l.sendFriendApply=function(e){var t={type:1,content:I.FRIEND_TIP.B+"",sF:function(){},cF:function(){}};y.handlerAlert(t),b.raiseEvent(m.SEND_FRIEND_INFO,[1,e])},l.resetView=function(){this.tog_Container.toggleItems[0].isChecked=!0},l.registerEvents=function(){console.log("注册Friend事件"),b.addEventListener(m.UPDATE_FRIEND_LIST,this.evtMgrUpdateFriendList,this),b.addEventListener(m.ADDFRIEND_CALLBACK,this.onAddFriend,this)},l.unRegisterEvents=function(){console.log("注销Friend事件"),b.removeEventListener(m.UPDATE_FRIEND_LIST,this.evtMgrUpdateFriendList,this),b.removeEventListener(m.ADDFRIEND_CALLBACK,this.onAddFriend,this)},t}(p)).prototype,"bg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"btn_myFriend",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(k.prototype,"btn_nearPlayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"btn_blackList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(k.prototype,"list",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(k.prototype,"content",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(k.prototype,"btn_addFriend",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(k.prototype,"tog_Container",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(k.prototype,"pref_InfoTip",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=k))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/FriendInfoTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./RelationManager.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var n,t,i,o,a,r,l,c,u,s,d,p,b,f,_,h,g,B,I,v,F;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Button,c=e.Node,u=e.Sprite,s=e.Label,d=e.UIOpacity,p=e.UITransform,b=e.Component},function(e){f=e.EventMgr},function(e){_=e.Config},function(e){h=e.default},function(e){g=e.RelationManager},function(e){B=e.uiControl},function(e){I=e.ObjectManage},function(e){v=e.Sendmessage},function(e){F=e.GameUtil}],execute:function(){var m,C,y,D,z,S,k,P,R,T,M,A,E,G,L,w,N,O,U,j,x,H,V,K,Q,W,Z;a._RF.push({},"0bdd8hviuZPGp5UyTSpu7tU","FriendInfoTip",void 0);var q=r.ccclass,J=r.property;e("FriendInfoTip",(m=q("FriendInfoTip"),C=J(l),y=J(c),D=J(c),z=J(c),S=J(c),k=J(c),P=J(c),R=J(c),T=J(c),M=J(c),A=J(c),E=J(c),m((w=n((L=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,i(n,"btn_Close",w,o(n)),i(n,"lay_BtnContent",N,o(n)),i(n,"lab_Title",O,o(n)),i(n,"btn_CheckPlayer",U,o(n)),i(n,"btn_MakeDeal",j,o(n)),i(n,"btn_DelFriend",x,o(n)),i(n,"btn_PrivateChat",H,o(n)),i(n,"btn_InviteGroup",V,o(n)),i(n,"btn_BeBad",K,o(n)),i(n,"btn_InviteMem",Q,o(n)),i(n,"btn_AddFriend",W,o(n)),i(n,"btn_CancelBeBad",Z,o(n)),n.meetInviteMem=function(){var e=I.findobject(_.playerID).grildname;if(e)return e.indexOf("掌门人")>-1},n}t(n,e);var a=n.prototype;return a.start=function(){F.loadResLocal("Socialize/playInfo_bg.png",this.node.getComponent(u)),F.loadResLocalButton("public/btn_close (2).png","public/btn_close1.png",this.btn_Close),F.loadResLocalButton("Socialize/FriendInfoBtn/checkPlayer.png","Socialize/FriendInfoBtn/checkPlayer (2).png",this.btn_CheckPlayer.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/makeDeal.png","Socialize/FriendInfoBtn/makeDeal (2).png",this.btn_MakeDeal.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/f_deleFriend.png","Socialize/FriendInfoBtn/f_deleFriend (2).png",this.btn_DelFriend.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/privateChat.png","Socialize/FriendInfoBtn/privateChat (2).png",this.btn_PrivateChat.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/inviteGroup.png","Socialize/FriendInfoBtn/inviteGroup (2).png",this.btn_InviteGroup.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/beBad.png","Socialize/FriendInfoBtn/beBad (2).png",this.btn_BeBad.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/inviteMem.png","Socialize/FriendInfoBtn/inviteMem (2).png",this.btn_InviteMem.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/addFriend.png","Socialize/FriendInfoBtn/addFriend (2).png",this.btn_AddFriend.getComponent(l)),F.loadResLocalButton("Socialize/FriendInfoBtn/f_cancelBlackList.png","Socialize/FriendInfoBtn/f_cancelBlackList (2).png",this.btn_CancelBeBad.getComponent(l))},a.updateView=function(e,n,t){this.lab_Title.getComponent(s).string=n,this.showOperationsBtnsByType(e,t)},a.showOperationsBtnsByType=function(e,n){var t=this;this.btn_CheckPlayer.active=n,this.btn_MakeDeal.active=n&&(0==e||1==e),this.btn_DelFriend.active=0==e,this.btn_PrivateChat.active=n&&(0==e||1==e),this.btn_BeBad.active=0==e,this.btn_AddFriend.active=1==e,this.btn_CancelBeBad.active=2==e,this.btn_InviteGroup.active=(0==e||1==e)&&this.meetInviteGroup(),this.btn_InviteMem.active=(0==e||1==e)&&this.meetInviteMem(),setTimeout((function(){t.updateContentSize(),t.node.getComponent(d).opacity=255}),20)},a.meetInviteGroup=function(){return _.G_BaseSetList[0].val&&_.G_Team_Grop_List.length>0},a.onClickOperationBtn=function(e){var n=this.lab_Title.getComponent(s).string;switch(e.target.name){case"btn_CheckPlayer":this.onCheckPlayer();break;case"btn_MakeDeal":this.onMakeDeal();break;case"btn_DelFriend":this.onDel(n);break;case"btn_PrivateChat":this.onPrivateChat(n);break;case"btn_InviteGroup":this.onInviteGroup(n);break;case"btn_BeBad":this.onBeBad(n);break;case"btn_InviteMem":this.onInviteGuild(n);break;case"btn_AddFriend":this.onAddFriend(n);break;case"btn_CancelBeBad":this.cancelBeBad(n)}},a.onCheckPlayer=function(){var e,n;(n=g.getInstance().getPlayerIdByName(this.lab_Title.getComponent(s).string))&&(e=I.findobject(n),v.getInstance().sendQueryState(n,e.grid.x,e.grid.y))},a.onMakeDeal=function(){v.getInstance().StartTrade()},a.onDel=function(e){var n=this;if(e){var t={type:2,content:F.replacePlaceholder(_.FRIEND_TIP.E,e),sF:function(t){n.onDelSureCallBack(e)},cF:function(){n.onCloseView()}};B.handlerAlert(t)}},a.onPrivateChat=function(e){f.raiseEvent(h.SHOW_CHAT_DLG,{name:"/"+e+" ",is:!0})},a.onBeBad=function(e){f.raiseEvent(h.SEND_FRIEND_INFO,[4,e])},a.onAddFriend=function(e){if(""!=e)if(this.isAlreadyAddFriend(e)){var n={type:1,content:_.FRIEND_TIP.C+"",sF:function(){},cF:function(){}};B.handlerAlert(n)}else this.sendFriendApply(e);else{var t={type:1,content:_.FRIEND_TIP.D+"",sF:function(){},cF:function(){}};B.handlerAlert(t)}},a.cancelBeBad=function(e){f.raiseEvent(h.SEND_FRIEND_INFO,[5,e])},a.onInviteGroup=function(e){v.getInstance().sendAddGroupMember(e)},a.onInviteGuild=function(e){if(!e){var n={type:1,content:_.FRIEND_TIP.H+"",sF:function(){},cF:function(){}};B.handlerAlert(n)}v.getInstance().GuildOperate(10,e)},a.isAlreadyAddFriend=function(e){return g.getInstance().existNameInList(g.getInstance().f_friendList,e)>-1},a.sendFriendApply=function(e){var n={type:1,content:_.FRIEND_TIP.B+"",sF:function(){},cF:function(){}};B.handlerAlert(n),f.raiseEvent(h.SEND_FRIEND_INFO,[1,e])},a.onDelSureCallBack=function(e){f.raiseEvent(h.ADDFRIENDTIP_DEL_OK,e),this.onCloseView()},a.updateContentSize=function(){var e=this.lay_BtnContent.getComponent(p).height;this.node.getComponent(p).height=e+73},a.onCloseView=function(){this.node.destroy()},n}(b)).prototype,"btn_Close",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(L.prototype,"lay_BtnContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(L.prototype,"lab_Title",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(L.prototype,"btn_CheckPlayer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(L.prototype,"btn_MakeDeal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(L.prototype,"btn_DelFriend",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(L.prototype,"btn_PrivateChat",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(L.prototype,"btn_InviteGroup",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(L.prototype,"btn_BeBad",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(L.prototype,"btn_InviteMem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(L.prototype,"btn_AddFriend",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(L.prototype,"btn_CancelBeBad",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=L))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameApi.ts",["cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameConfig.ts","./ResourcesMgr.ts","./MainScene.ts","./Sendmessage.ts","./RGBCode.ts","./GameUtil.ts","./ObjType.ts"],(function(e){"use strict";var t,a,i,o,l,n,s,g,r,c,m,u,f,_,C,d,h,p;return{setters:[function(e){t=e.cclegacy,a=e.find,i=e.instantiate,o=e.v3,l=e.sys,n=e.Label,s=e.UITransform,g=e.director},function(e){r=e.EventMgr},function(e){c=e.Config},function(e){m=e.default},function(e){u=e.gameConfig},function(e){f=e.resourcesMgr},function(e){_=e.default},function(e){C=e.sendmessage},function(e){d=e.rgbCode},function(e){h=e.GameUtil},function(e){p=e.Type_GlobalCfglistObj}],execute:function(){t._RF.push({},"0efb0jggzZEsqATJOMen9vs","GameApi",void 0);e("GameApi",function(){function e(){}return e.showScreen=function(e,t,a,i){var o=c.MainScene.instanceOfMem("ScreenWin");e?o?r.raiseEvent(m.UPDATE_SCREENWIN_ITEMS,[t,a,i]):r.raiseEvent(m.OPEN_SCREENWIN,[t,a,i]):o&&c.MainScene.closeWindow("ScreenWin")},e.showDrug=function(e){var t=c.MainScene.instanceOfMem("DrugSetupWin");e?t||r.raiseEvent(m.OPEN_SHOWDRUGWIN):t&&t.removeFromParent()},e.drugnullforidx=function(e){for(var t=!1,a=0;a<c.g_BagItemsList.length;a++)c.g_BagItemsList[a]&&c.g_BagItemsList[a].s.Name==e&&(t=!0);if(!t)for(var i=0;i<c.g_DrugItemsList.length;i++)if(null!=c.g_DrugItemsList[i]&&c.g_DrugItemsList[i].s.Name==e){c.g_DrugItemsList[i]=null,r.raiseEvent("Drug_Item_ico"),r.raiseEvent(m.SHOWDRUG_ITEMS),c.g_DrugButNumber=i;break}},e.autounpack=function(e,t,a){for(var i=0,o=0;o<c.g_BagItemsList.length;++o){var l=c.g_BagItemsList[o];l&&l.s.Name==t&&i++}function n(e){for(var t=0;t<c.g_BagItemsList.length;t++){var a=c.g_BagItemsList[t];if(a&&""!=e&&a.s.Name==e)return a}return null}if(i<=e&&c.g_unpackList[t]){var s=c.g_unpackList[t];if(-1!=s.indexOf("|")){s=s.split("|");for(var g=0;g<s.length;g++){var r=n(s[g]);if(r&&c.CanUserItem)return c.g_WaitItems.Items=r,h.delBagItems(r.MakeIndex),C.sendEat(0,r.MakeIndex,r.s.Name),!0}}else{var m=n(s);if(m&&c.CanUserItem)return c.g_WaitItems.Items=m,h.delBagItems(m.MakeIndex),C.sendEat(0,m.MakeIndex,m.s.Name),!0}}return!1},e.heroAutounpack=function(e,t,a){for(var i=0,o=0;o<c.g_HeroBagItemsList.length;++o){var l=c.g_HeroBagItemsList[o];l&&l.s.Name==t&&i++}function n(e){for(var t=0;t<c.g_HeroBagItemsList.length;t++){var a=c.g_HeroBagItemsList[t];if(a&&""!=e&&a.s.Name==e)return a}return null}if(i<=e&&c.g_unpackList[t]){var s=c.g_unpackList[t];if(-1!=s.indexOf("|")){s=s.split("|");for(var g=0;g<s.length;g++){var r=n(s[g]);if(r)return c.g_WaitItems.Items=r,h.delHeroBagItems(r.MakeIndex),!0}}else{var m=n(s);if(m)return c.g_WaitItems.Items=m,h.delHeroBagItems(m.MakeIndex),!0}}return!1},e.autofillrule=function(e,t,a){for(var i=new Array,o=0;o<c.g_BagItemsList.length;++o){var l=c.g_BagItemsList[o];if(l&&31!=l.s.StdMode&&l.s.StdMode==e&&l.s.Looks==t){for(var n=!0,s=0;s<c.g_DrugItemsList.length;++s)if(c.g_DrugItemsList[s]&&c.g_DrugItemsList[s].s.Name==l.s.Name){n=!1;break}if(n){i=l;break}}}return i},e.autofillitem=function(e){c.g_DrugItemsList[c.g_DrugButNumber]=e,r.raiseEvent(m.SHOWDRUG_ITEMS),r.raiseEvent("Drug_Item_ico"),r.raiseEvent("Drug_Set_Items",[c.g_DrugButNumber]),this.showScreen(!1,null,null,null)},e.showNewNpcShop=function(e){},e.showNewSaleShop=function(e){},e.updateBagItemsDura=function(e,t,a){for(var i=0;i<c.g_BagItemsList.length;i++)null!=c.g_BagItemsList[i]&&c.g_BagItemsList[i].MakeIndex==e&&(c.g_BagItemsList[i].Dura=t,c.g_BagItemsList[i].DuraMax=a,console.log("UpdateBagItemsDura",c.g_BagItemsList[i].s.Name),r.raiseEvent("Screen_Uptade_Items"))},e.fillitem=function(e,t,a){for(var i=null,o=0;o<c.g_BagItemsList.length;o++){var l=c.g_BagItemsList[o];if(null!=l){var n=!0;switch(a){case 1:n=l.s.AC>0;break;case 2:n=l.s.MAC>0;break;case 3:n=-1!=l.s.Name.indexOf("传送")||-1!=l.s.Name.indexOf("回城")}l.s.StdMode<=e&&l.s.AniCount>=t&&n&&-1==c.g_DrugItemsList.indexOf(l)&&(i=l)}}i&&this.autofillitem(i)},e.initdrugtobag=function(){var e=h.getSaveData("druglist");if(null!=e){for(var t=JSON.parse(e),a=0;a<t.length;++a)if(c.g_DrugButNumber=a,null!=t[a].mode&&null!=t[a].looks){var i=this.autofillrule(t[a].mode,t[a].looks,null);0!=i.length&&this.autofillitem(i)}c.g_DrugButNumber=-1}},e.showskillwin=function(e){},e.setSkillKey=function(e,t){if(t>=0)for(var a=0;a<c.g_UserMagicList.length;a++)if(c.g_UserMagicList[a].Def.wMagicId==e){c.g_UserMagicList[a].Key=t;var i=0;c.g_UserMagicList[a].Def.wMagicId>=1e3&&c.g_UserMagicList[a].Def.wMagicId<=1500&&(i=6),C.SendMagicKey(e,t,i);break}},e.getMagicDes=function(e){for(var t=0;t<c.skilldesclist.length;t++)if(-1!=c.skilldesclist[t].indexOf(e))return c.skilldesclist[t]},e.showLookHum=function(e,t){c.lookHumData=t;var a=h.getUIBoxNode().getChildByName("LookHum");e?r.raiseEvent(m.OPEN_LOOK_HUM,[t]):a&&a.destroy()},e.showMyShop=function(e,t){},e.showMyShopMsg=function(e){},e.addMyShopItems=function(e){if(null!=e.Items)for(var t=0;t<c.g_MyShopList.length;t++)if(null==c.g_MyShopList[t]){var a={};a.Items=e.Items,a.Index=e.Index,a.nGold=e.nGold,a.nType=e.nType,c.g_MyShopList[t]=a,h.checkItemCanBreakUp(e.Items)?r.raiseEvent("item_hint",[e.Items,-e.Items.Dura]):r.raiseEvent("item_hint",[e.Items,-1]),c.g_WaitItems.Items=null;break}},e.LookHumShop=function(e){},e.delLookShopItems=function(e){for(var t=0;t<20;t++)if(c.G_BaiTanData.Item[t].MakeIndex==e){c.G_BaiTanData.Item[t].MakeIndex=0,r.raiseEvent("Update_Look_S_List");break}},e.delMyShopItems=function(e){for(var t=0;t<20;t++)if(null!=c.g_MyShopList[t]&&c.g_MyShopList[t].Items.MakeIndex==e){c.g_MyShopList[t]=null,r.raiseEvent("Update_Shop_List");break}},e.stopMyShop=function(){for(var e=0;e<c.g_MyShopList.length;e++)null!=c.g_MyShopList[e]&&(h.addItemNewBag(c.g_MyShopList[e].Items),h.checkItemCanBreakUp(c.g_MyShopList[e].Items)?r.raiseEvent("item_hint",[c.g_MyShopList[e].Items,c.g_MyShopList[e].Items.Dura]):r.raiseEvent("item_hint",[c.g_MyShopList[e].Items,1]),c.g_MyShopList[e]=null)},e.ShowJiaoYi=function(e){var t=a("Canvas/UIBox/MakeDeal");e?t||f.resLoad("prefab/makeDeal/MakeDeal.prefab",(function(e){var t=a("Canvas/UIBox"),l=i(e);if(t){var n=a("Canvas/UIBox/BagWin");n&&n.setPosition(o(-200)),l.setParent(t),l.getComponent("MakeDeal").updateView()}})):(console.log("被通知取消交易"),t&&(c.g_OpenJiaoYi=!1,t.getComponent("MakeDeal").onCloseView()))},e.addJiaoYiItems=function(e){for(var t=!0,a=0;a<c.g_MyJiaoYiList.length;a++)if(null==c.g_MyJiaoYiList[a]){if(c.g_MyJiaoYiList[a]=e,h.checkItemCanBreakUp(e)){var i=h.checkMaterialItemCanBeStacked(e)?e.Dura+1:e.Dura;r.raiseEvent("item_hint",[e,-i])}else r.raiseEvent("item_hint",[e,-1]);r.raiseEvent(m.UPDATE_ME_LIST_REFRESH),t=!1;break}return t},e.delJiaoYiItems=function(e){for(var t=0;t<c.g_MyJiaoYiList.length;t++)if(null!=c.g_MyJiaoYiList[t]&&c.g_MyJiaoYiList[t].MakeIndex==e){if(h.checkItemCanBreakUp(c.g_MyJiaoYiList[t])){var a=h.checkMaterialItemCanBeStacked(c.g_MyJiaoYiList[t])?c.g_MyJiaoYiList[t].Dura+1:c.g_MyJiaoYiList[t].Dura;r.raiseEvent("item_hint",[c.g_MyJiaoYiList[t],a])}else r.raiseEvent("item_hint",[c.g_MyJiaoYiList[t],1]);c.g_MyJiaoYiList[t]=null,r.raiseEvent(m.UPDATE_ME_LIST_REFRESH);break}},e.closeJiaoYi=function(){for(var e=0;e<c.g_MyJiaoYiList.length;e++)if(null!=c.g_MyJiaoYiList[e]){if(h.checkItemCanBreakUp(c.g_MyJiaoYiList[e])){var t=h.checkMaterialItemCanBeStacked(c.g_MyJiaoYiList[e])?c.g_MyJiaoYiList[e].Dura+1:c.g_MyJiaoYiList[e].Dura;r.raiseEvent("item_hint",[c.g_MyJiaoYiList[e],t])}else r.raiseEvent("item_hint",[c.g_MyJiaoYiList[e],1]);h.addItemNewBag(c.g_MyJiaoYiList[e]),c.g_MyJiaoYiList[e]=null}},e.addHumJiaoYiItems=function(e){if(null!=e)for(var t=0;t<c.g_HumJiaoYiList.length;t++)if(null==c.g_HumJiaoYiList[t]){c.g_HumJiaoYiList[t]=e,r.raiseEvent(m.UPDATE_HUM_LIST_REFRESH);break}},e.delHumJiaoYiItems=function(e){for(var t=0;t<c.g_HumJiaoYiList.length;t++)if(null!=c.g_HumJiaoYiList[t]&&c.g_HumJiaoYiList[t].MakeIndex==e){c.g_HumJiaoYiList[t]=null,r.raiseEvent(m.UPDATE_HUM_LIST_REFRESH);break}},e.getUseItemLJ=function(e,t,a,i,o,l,n){var s=e,g=null,r=[],m=[];if(g=null==c.lookHumData?c.g_UserItemList:l?c.lookHumData.UseItems:c.g_UserItemList,n){for(var u=i.split("~&"),f=0;f<u.length-1;f++){var _=u[f].split("~#")[1];m.push(_)}for(var C=1;C<m.length;C+=2){for(var h=d.Get2RGB(249),p=m[C],S=0;S<g.length;S++)if(g[S]&&p==g[S].s.Name&&-1==r.indexOf(g[S].MakeIndex)){r.push(g[S].MakeIndex),h=d.Get2RGB(m[C-1]);break}o.push(p+"/*/"+h)}}else if(1==a){for(var I=0;I<g.length;I++)if(g[I]&&e==g[I].s.Name){s+="/*/"+d.Get2RGB(254);break}o.push(s)}else for(var G=0;G<i.length-1;G++){for(var b=i[G].split("~#"),v=b[1],M=0;M<g.length;M++)if(g[M]&&b[1]==g[M].s.Name&&-1==r.indexOf(g[M].MakeIndex)){r.push(g[M].MakeIndex),v+="/*/"+d.Get2RGB(254);break}o.push(v)}},e.gomUseItemCnt=function(e,t){var a=0;if(e){var i=function(e){for(var t=0;t<o.length;t++)if(o[t]){if((-1!=o[t].indexOf("/")?o[t].split("/")[1]:o[t])==e)return o.splice(t,1),!0}return!1},o=e.split("|"),l=null,n=null;null==c.lookHumData?(l=c.g_UserItemList,n=c.g_GodBlessItems):(l=t?c.lookHumData.UseItems:c.g_UserItemList,n=t?c.lookHumData.GodBlessItems:c.g_GodBlessItems);for(var s=0;s<l.length;s++)null!=l[s]&&i(l[s].s.Name)&&a++;for(var g=0;g<n.length;g++)null!=n[g]&&i(n[g].s.Name)&&a++}return a},e.getUseItemCnt=function(e,t,a){var i=0,o=null,l=[];if(o=null==c.lookHumData?c.g_UserItemList:t?c.lookHumData.UseItems:c.g_UserItemList,a){for(var n=e.split("~&"),s=1;s<n.length-1;s+=2)for(var g=n[s].split("~#")[1],r=0;r<o.length;r++)if(o[r]&&g==o[r].s.Name&&-1==l.indexOf(o[r].MakeIndex)){l.push(o[r].MakeIndex),i++;break}}else for(var m=0;m<e.length-1;++m)for(var u=e[m].split("~#")[1],f=0;f<o.length;f++)if(null!=o[f]&&u==o[f].s.Name&&-1==l.indexOf(o[f].MakeIndex)){l.push(o[f].MakeIndex),i++;break}return i},e.getUseItemCntByName=function(e,t){var a=null;a=null==c.lookHumData?c.g_UserItemList:t?c.lookHumData.UseItems:c.g_UserItemList;for(var i=0;i<a.length;++i)if(null!=a[i]&&a[i].s.Name==e)return!0;return!1},e.allItemListSelectItem=function(e){var t=JSON.parse(l.localStorage.getItem("AllItemList"));return t&&t[e]?t[e]:null},e.getGlobalCfg=function(e){return c.GlobalCfglist[e]},e.setLocalData=function(e,t){for(var a=0;a<e.length;a++){var i=e[a];i&&t[a]&&(null!=i.isshow&&(i.isshow=t[a][0]),null!=i.ispickup&&(i.ispickup=t[a][1]),null!=i.special&&(i.special=t[a][2]),null!=i.prompt&&(i.prompt=t[a][3]),null!=i.isExclude&&(i.isExclude=t[a][0]))}},e.initRoleSet=function(){var e=h.getSaveData("username"),t=h.getSaveData(e+c.g_playerName+"role_set_itemlist1"),a=JSON.parse(l.localStorage.getItem("AllItemList")),i=JSON.parse(l.localStorage.getItem("AllMonsterList")),o=JSON.parse(l.localStorage.getItem("g_pickPlan1")),n=JSON.parse(l.localStorage.getItem("g_pickPlan2"));if(t){t=JSON.parse(t);var s=Object.keys(a).length;t.length!=s?l.localStorage.setItem("g_pickPlan1",JSON.stringify(a)):l.localStorage.setItem("g_pickPlan1",JSON.stringify(t)),o=JSON.parse(l.localStorage.getItem("g_pickPlan1"))}var g=h.getSaveData(e+c.g_playerName+"role_set_itemlist2");g&&(n=g=JSON.parse(g));var f=h.getSaveData(e+c.g_playerName+"role_set_monsterlist");f&&(f=JSON.parse(f),this.setLocalData(i,f)),this.setDefaultWEB(),console.log(c.GlobalCfglist);var _=h.getSaveData(e+c.g_playerName+"role_set_cfglist");if(_)c.g_GameConfig&&c.GlobalCfglist.boUpdate?this.setDefaultWEB():(c.GlobalCfglist=JSON.parse(_),console.log(c.GlobalCfglist)),1==c.GlobalCfglist.pickPlan&&o?this.setLocalData(a,o):2==c.GlobalCfglist.pickPlan&&n&&this.setLocalData(a,n),u.setItemlist(),u.setMonsterList(),c.G_SHOW_ROLE_HP=c.GlobalCfglist.showhp,c.G_SHOW_EXP=c.GlobalCfglist.showExp,c.G_SHOW_NAME=c.GlobalCfglist.ShowName,c.G_SHOW_TITLE=c.GlobalCfglist.ShowTitle,null!=c.GlobalCfglist.doubleRockerLoaction&&null!=c.GlobalCfglist.doubleRockerLoaction&&(c.GlobalCfglist.doubleRocker=0!=c.GlobalCfglist.doubleRockerLoaction),null!=c.GlobalCfglist.group_skill_num&&null!=c.GlobalCfglist.group_skill_slider||(c.GlobalCfglist.group_skill_num=1,c.GlobalCfglist.group_skill_slider=10),r.raiseEvent("switchRocker"),this.syncViewScale(),r.raiseEvent(m.SWITCH_ROCKER,!0),r.raiseEvent(m.DELAY_SHOW,c.GlobalCfglist.delayShow);else{c.GlobalCfglist.d_autoskill_1="互换",c.GlobalCfglist.d_autoskill_7=30,c.GlobalCfglist.d_autoskill_8=30,c.GlobalCfglist.hppercentagetext=75,c.GlobalCfglist.hptimetext=5,c.GlobalCfglist.hp_vs=75,c.GlobalCfglist.hp_time=5,c.GlobalCfglist.hppercentagetextH=75,c.GlobalCfglist.hptimetextH=5,c.GlobalCfglist.hp_vsH=75,c.GlobalCfglist.hp_timeH=5,c.GlobalCfglist.mppercentagetext=30,c.GlobalCfglist.mptimetext=5,c.GlobalCfglist.mp_vs=30,c.GlobalCfglist.mp_time=5,c.GlobalCfglist.mppercentagetextH=30,c.GlobalCfglist.mptimetextH=5,c.GlobalCfglist.mp_vsH=30,c.GlobalCfglist.mp_timeH=5,c.GlobalCfglist.hppercentagetext1=30,c.GlobalCfglist.hptimetext1=1,c.GlobalCfglist.Hp_mp_vs=30,c.GlobalCfglist.hp_mp_time=1,c.GlobalCfglist.hppercentagetext2=50,c.GlobalCfglist.mptimetext1=1,c.GlobalCfglist.Hp_mp_vs2=50,c.GlobalCfglist.hp_mp_time2=1,c.GlobalCfglist.hppercentagetext1H=30,c.GlobalCfglist.hptimetext1H=1,c.GlobalCfglist.Hp_mp_vsH=30,c.GlobalCfglist.hp_mp_timeH=1,c.GlobalCfglist.hppercentagetext2H=50,c.GlobalCfglist.mptimetext1H=1,c.GlobalCfglist.Hp_mp_vs2H=50,c.GlobalCfglist.hp_mp_time2H=1,c.GlobalCfglist.tppercentagetext=15,c.GlobalCfglist.tptimetext=20,c.GlobalCfglist.tp_vs=15,c.GlobalCfglist.tp_time_vs=20,c.GlobalCfglist.tppercentagetext1=15,c.GlobalCfglist.tptimetext1=20,c.GlobalCfglist.tp_vs1=15,c.GlobalCfglist.tp_time_vs2=20,c.GlobalCfglist.tppercentagetextH=15,c.GlobalCfglist.tptimetextH=30,c.GlobalCfglist.tp_vsH=15,c.GlobalCfglist.tp_time_vsH=30,c.GlobalCfglist.itemtype=0,c.GlobalCfglist.pickPlan=1,c.GlobalCfglist.exercise_list="",c.GlobalCfglist.exercise_time=1,c.GlobalCfglist.exercise_slider=1,c.GlobalCfglist.ds_summon_list="召唤骷髅",c.GlobalCfglist.ds_cure_list="治愈术",c.GlobalCfglist.exercise_ds_list="召唤神兽",c.GlobalCfglist.ds_cure_limit=50,c.GlobalCfglist.ds_cure_time=3,c.GlobalCfglist.ds_limit_slider=50,c.GlobalCfglist.ds_time_slider=3,c.GlobalCfglist.group_skill_num=2,c.GlobalCfglist.group_skill_slider=20,c.GlobalCfglist.manualHurricaneSkill=!0,c.GlobalCfglist.manualIceRoar=!0,c.GlobalCfglist.manualBombFire=!0,c.GlobalCfglist.manualIncendiaryShower=!0,c.GlobalCfglist.manualFastLight=!0,c.GlobalCfglist.doubleRockerLoaction=c.GlobalCfglist.doubleRocker,c.GlobalCfglist.dropShowChecks=[!0,!0,!0,!0,!0,!0,!0],c.GlobalCfglist.pickUpCheckss=[!0,!0,!0,!0,!0,!0,!0],u.setItemlist(),u.setMonsterList(),this.syncViewScale(),r.raiseEvent("switchRocker");var C=h.getSaveData("username"),d=JSON.stringify(c.GlobalCfglist);h.setSaveData(C+c.g_playerName+"role_set_cfglist",d)}},e.syncViewScale=function(){c.GlobalCfglist.viewScale&&(c.CurScene.maplayer.setScale(c.GlobalCfglist.viewScale/100,c.GlobalCfglist.viewScale/100),h.getMapLayerScript().onLocation())},e.syncDelayShow=function(){r.raiseEvent(m.DELAY_SHOW)},e.setDefault=function(){c.g_GameConfig},e.setDefaultWEB=function(){c.g_GameConfig=c.g_GameConfigWEB.funActivity.gameConfig,null!=c.g_GameConfig&&(c.GlobalCfglist=new p,c.GlobalCfglist.backmusic=c.g_GameConfig.yingYue,c.GlobalCfglist.clear=c.g_GameConfig.shiTi,c.GlobalCfglist.nameshow1=c.g_GameConfig.monName,c.GlobalCfglist.nameshow2=c.g_GameConfig.npcName,c.GlobalCfglist.nameshow3=c.g_GameConfig.showName,c.GlobalCfglist.nameshow4=c.g_GameConfig.bbName,c.GlobalCfglist.showhp=c.g_GameConfig.xueTiao,c.GlobalCfglist.showExp=c.g_GameConfig.showExp,c.GlobalCfglist.ShowName=c.g_GameConfig.onlyName,c.GlobalCfglist.ShowTitle=c.g_GameConfig.chenghao,c.GlobalCfglist.banCkilcMove=c.g_GameConfig.jingZhiMov,c.GlobalCfglist.unpack=c.g_GameConfig.autoPack,c.GlobalCfglist.notLock=c.g_GameConfig.jingZhiLock,c.GlobalCfglist.hidePlayer=c.g_GameConfig.pingBiHum,c.GlobalCfglist.hideMonster=c.g_GameConfig.pingBiMon,c.GlobalCfglist.heroeqsecure=c.g_GameConfig.heroDun,c.GlobalCfglist.z_autoskill_1=c.g_GameConfig.daoDaoCiSha,c.GlobalCfglist.z_autoskill_2=c.g_GameConfig.autoLieHuo,c.GlobalCfglist.z_autoskill_3=c.g_GameConfig.banYue,c.GlobalCfglist.z_autoskill_4=c.g_GameConfig.autoKaiTian,c.GlobalCfglist.zs_gwcs=c.g_GameConfig.geWeiCiSsha,c.GlobalCfglist.zs_lyjf=c.g_GameConfig.autoLongYing,c.GlobalCfglist.zs_zrjf=c.g_GameConfig.autoZhuRi,c.GlobalCfglist.d_autoskill_2=c.g_GameConfig.chiXuYingShen,c.GlobalCfglist.d_autoskill_3=c.g_GameConfig.autoFu,c.GlobalCfglist.d_autoskill_4=c.g_GameConfig.myZiYu,c.GlobalCfglist.f_autoskill_1=c.g_GameConfig.chiXuDun,c.GlobalCfglist.f_keepskill_1=c.g_GameConfig.chixuShifa,c.GlobalCfglist.autohp=c.g_GameConfig.autoHP,c.GlobalCfglist.automp=c.g_GameConfig.autoMP,c.GlobalCfglist.autohp_mp=c.g_GameConfig.shunAutoHP,c.GlobalCfglist.autohp_mp2=c.g_GameConfig.shunAutoMP,c.GlobalCfglist.autotp=c.g_GameConfig.chuanSongHP,c.GlobalCfglist.autotp1=c.g_GameConfig.chuanSongMP,c.GlobalCfglist.exercise=c.g_GameConfig.autoLianGong,c.GlobalCfglist.autohpH=c.g_GameConfig.heroAutoHP,c.GlobalCfglist.autompH=c.g_GameConfig.heroAutoMP,c.GlobalCfglist.autohp_mpH=c.g_GameConfig.heroShunAutoHP,c.GlobalCfglist.autohp_mp2H=c.g_GameConfig.heroShunAutoMP,c.GlobalCfglist.autotpH=c.g_GameConfig.heroZhaoHui,c.GlobalCfglist.single_fs=c.g_GameConfig.faShiDanTi,c.GlobalCfglist.group_fs=c.g_GameConfig.faShiQunTi,c.GlobalCfglist.single_ds=c.g_GameConfig.daoShiDanTi,c.GlobalCfglist.ds_summon=c.g_GameConfig.daoShiBB,c.GlobalCfglist.ds_cure=c.g_GameConfig.daoShiZhiLiao,c.GlobalCfglist.poison_ds=c.g_GameConfig.daoShiShiDu,c.GlobalCfglist.group_ds=c.g_GameConfig.daoShiQunTi,c.GlobalCfglist.smooth=c.g_GameConfig.smooth,c.GlobalCfglist.showBlue=c.g_GameConfig.humShowBlue,c.GlobalCfglist.d_autoskill_5=c.g_GameConfig.autoMagicMo,c.GlobalCfglist.d_autoskill_6=c.g_GameConfig.autoMagicMFang,c.GlobalCfglist.auto_dodge=c.g_GameConfig.guaJiZiDongDuoBi,c.GlobalCfglist.delayShow=c.g_GameConfig.yanChiXianShi,c.GlobalCfglist.humsimple=c.g_GameConfig.renWuJianZhuang,c.GlobalCfglist.monsimple=c.g_GameConfig.guaiWuJianZhuang,c.GlobalCfglist.weaponsimple=c.g_GameConfig.wuQiJianZhuang,c.GlobalCfglist.pickItemsFirst=c.g_GameConfig.youXianShiQuWuPin,c.GlobalCfglist.gameVoice=c.g_GameConfig.youXiYinLiang+1,c.GlobalCfglist.viewScale=c.g_GameConfig.shiTuSuoFang,c.GlobalCfglist.manualHurricaneSkill=c.g_GameConfig.shouDongXFengPo,c.GlobalCfglist.manualIceRoar=c.g_GameConfig.shouDongBPXiao,c.GlobalCfglist.manualBombFire=c.g_GameConfig.shouDongBLHYan,c.GlobalCfglist.manualIncendiaryShower=c.g_GameConfig.shouDongLXHYu,c.GlobalCfglist.manualFastLight=c.g_GameConfig.shouDongJGDYing,c.GlobalCfglist.doubleRocker=c.g_GameConfig.shuangYaoGan,c.GlobalCfglist.autoWear=c.g_GameConfig.autoWear,c.GlobalCfglist.maxPackSize=c.g_GameConfigWEB.funActivity.maxPackSize,c.maxPackSizeBackup=c.GlobalCfglist.maxPackSize,c.GlobalCfglist.boUpdate=c.g_GameConfig.update,c.GlobalCfglist.itemtype=0,r.raiseEvent(m.SWITCH_ROCKER,!0),e.syncDelayShow())},e.onHitText=function(e,t,a,i){var o,l=i,n=e.getChildByName("yangdaweigood");o=n||null,c.g_main_npcdialog=o,c.g_main_npcdialogopen=!0,o.removeChildren(),o.visilbe=!0,o.name="yangdaweigood",o.skin="gameres/ui/buffkuang.png",o.sizeGrid="4,4,4,4",o.width=100,o.height=100,o.pos(0,30),e.addChild(o);for(var s=0;s<l.length;s++)if(""!=l[s])if(-1!=l[s].indexOf("#")){var g=l[s].split("#");d.Get2RGB(g[0]),g[1]}else l[s];o.pos(0,-20),e.but_fabu.addChild(o),o.width=0,o.height=20*l.length},e.getBagIndexItems=function(e){for(var t=0;t<c.g_BagItemsList.length;t++)if(null!=c.g_BagItemsList[t]&&c.g_BagItemsList[t].MakeIndex==e)return c.g_BagItemsList[t]},e.trim=function(e,t){var a;return a=e.replace(/(^\s+)|(\s+$)/g,""),"g"==t.toLowerCase()&&(a=a.replace(/\s/g,"")),a},e.showLookShouS=function(e){null!=e&&null.ShouShiShow(e)},e.showShouShi=function(e){null!=e&&null.ShouShiShow(e)},e.shoushiBox=function(e){null!=e&&null.ShowShoushi(e)},e.lookShoushiBox=function(e){null!=e&&null.ShowShoushi(e)},e.newcount=function(e){console.log("gameapi.newcount"+e.getComponent(n).string),e.getComponent(s).anchorX=0,e.getComponent(s).anchorY=1,e.getComponent(n).fontSize=12,e.getComponent(n).lineHeight=e.getComponent(n).fontSize,e.getComponent(n).updateRenderData(!0);for(var t=0,a=!0,i=0;i<e.getComponent(n).string.length;++i){" "==e.getComponent(n).string[i]?t+=3:a=!1}if(a)return t;var o=e.getComponent(s).width;return l.os!=l.OS.WINDOWS||l.isBrowser||(o-=5),o},e.getSpaceNum=function(e){var t=0;if(e.getComponent(n).string.length>1)for(var a=e.getComponent(n).string.replace(/　/gim,"  "),i=0;i<a.length;++i){" "==a[i]&&t++}return 5*t},e.getSpWidth=function(e){var t=0;return e.replace(/ /g,(function(e,a){t++})),6*t-3*t},e.getSpWidth2=function(e){for(var t=0,a=e.length,i=-1,o=0;o<a;o++)t+=(i=e.charCodeAt(o))>=0&&i<=128?1:2;return 6*t},e.showNewNpcDlgEx=function(e){if(null==g.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")){var t=i(c.CurScene.node.getComponent(_).newNpcWin);c.CurScene.node.addChild(t)}else{g.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").destroy(),g.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").removeFromParent();t=i(c.CurScene.node.getComponent(_).newNpcWin);c.CurScene.node.addChild(t)}},e.showNewNpcDlg=function(e){if(null==g.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")){var t=i(c.CurScene.node.getComponent(_).newNpcWin);c.CurScene.node.addChild(t)}else{g.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").destroy(),g.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").removeFromParent();t=i(c.CurScene.node.getComponent(_).newNpcWin);c.CurScene.node.addChild(t)}},e.intNewNpcDLG=function(e){},e.getPakTo3Img=function(e,t){if(e>=0&&e<c.g_imgNpcPak.length)return"data/"+c.g_imgNpcPak[e]+"/"+(Array(5).join("0")+(0+t)).slice(-5)+".png"},e.getPakTo2Img=function(e,t){if(e>=0&&e<c.g_pak_list.length)return"data/"+c.g_pak_list[e]+"/"},e.getSelShopItemsByIndex=function(e){for(var t=0;t<20;t++)if(null!=c.G_BaiTanData&&null!=c.G_BaiTanData.Item[t]&&c.G_BaiTanData.Item[t].MakeIndex==e)return c.G_BaiTanData.Item[t]},e.isOverLapItem=function(e){if(e)return""!=e.s.Name&&(17==e.s.StdMode||18==e.s.StdMode||40==e.s.StdMode||41==e.s.StdMode||(31==e.s.StdMode||211==e.s.StdMode)&&30==e.s.Shape&&e.s.Reserved1>0)},e.getNewMagicLevelString=function(e){var t=["一","二","三","四","五","六","七","八","九","十","百"],a="",i=0;return e>0&&(a="强化",e>=100?a+=t[0]+t[10]:e<10?a+=t[e-1]:(1==(i=Math.floor(e/10))||(a+=t[i-1]),a+=t[9],(i=e%10)>0&&(a+=t[i-1])),a+="重"),a},e.getItemScore=function(t){var a=0,i=null;if(t&&(i=t.s),t&&i&&c.g_ItemScoreRecord&&c.g_ItemScoreRecord.BoOpen){switch(i.StdMode){case 5:case 6:case 10:case 11:case 15:case 16:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 48:case 53:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 178:switch(a=c.g_ItemScoreRecord.DC*i.DC+c.g_ItemScoreRecord.MaxDC*i.MaxDC+c.g_ItemScoreRecord.MC*i.MC+c.g_ItemScoreRecord.MaxMC*i.MaxMC+c.g_ItemScoreRecord.SC*i.SC+c.g_ItemScoreRecord.MaxSC*i.MaxSC+c.g_ItemScoreRecord.MaxHP*i.HP,i.stdMode){case 19:a+=c.g_ItemScoreRecord.AntiMC*i.MaxAC,a+=c.g_ItemScoreRecord.Lucky*i.MaxMAC;break;case 20:case 24:a+=c.g_ItemScoreRecord.Preciseness*i.MaxAC,a+=c.g_ItemScoreRecord.Alacrity*i.MaxMAC;break;case 21:a+=c.g_ItemScoreRecord.HPRecover*i.MaxAC,a+=c.g_ItemScoreRecord.MPRecover*i.MaxMAC;break;case 23:a+=c.g_ItemScoreRecord.AckSpeed*i.AC,a+=c.g_ItemScoreRecord.AntiPoison*i.MaxAC,a+=c.g_ItemScoreRecord.PoisonRecover*i.MaxMAC;break;default:a+=c.g_ItemScoreRecord.AC*i.AC,a+=c.g_ItemScoreRecord.MaxAC*i.MaxAC,a+=c.g_ItemScoreRecord.MAC*i.MAC,a+=c.g_ItemScoreRecord.MaxMAC*i.MaxMAC}i.NewValue[0]>0&&(a+=i.NewValue[0]*c.g_ItemScoreRecord.Crit),i.NewValue[1]>0&&(a+=i.NewValue[1]*c.g_ItemScoreRecord.ADDHurt),i.NewValue[2]>0&&(a+=i.NewValue[2]*c.g_ItemScoreRecord.DecAC),i.NewValue[3]>0&&(a+=i.NewValue[3]*c.g_ItemScoreRecord.DecMAC),i.NewValue[4]>0&&(a+=i.NewValue[4]*c.g_ItemScoreRecord.CloseDefense),i.NewValue[5]>0&&(a+=i.NewValue[5]*c.g_ItemScoreRecord.Rebound),i.NewValue[6]>0&&(a+=i.NewValue[6]*c.g_ItemScoreRecord.HPRecover),i.NewValue[7]>0&&(a+=i.NewValue[7]*c.g_ItemScoreRecord.ItemAttachEXP),i.NewValue[8]>0&&(a+=i.NewValue[8]*c.g_ItemScoreRecord.AddDnger),i.NewValue[9]>0&&(a+=i.NewValue[9]*c.g_ItemScoreRecord.TeamUpHurt),i.NewValue[10]>0&&(a+=i.NewValue[10]*c.g_ItemScoreRecord.ADDHurt),i.NewValue[13]>0&&(a+=i.NewValue[13]*c.g_ItemScoreRecord.MPRecover),120==i.AniCount&&(a+=c.g_ItemScoreRecord.FastTrain),121==i.AniCount&&(a+=c.g_ItemScoreRecord.ProbeNecklace),111==i.AniCount&&(a+=c.g_ItemScoreRecord.HideMode),112==i.AniCount&&(a+=c.g_ItemScoreRecord.Teleport),113==i.AniCount&&(a+=c.g_ItemScoreRecord.Paralysis),114==i.AniCount&&(a+=c.g_ItemScoreRecord.Revival),115==i.AniCount&&(a+=c.g_ItemScoreRecord.FlameRing),116==i.AniCount&&(a+=c.g_ItemScoreRecord.RecoveryRing),118==i.AniCount&&(a+=c.g_ItemScoreRecord.MagicShield),119==i.AniCount&&(a+=c.g_ItemScoreRecord.MuscleRing),135==i.AniCount&&(a+=c.g_ItemScoreRecord.MoXieSuite),138==i.AniCount&&(a+=c.g_ItemScoreRecord.HongMoSuite),139==i.AniCount&&(a+=c.g_ItemScoreRecord.UnParalysis),140==i.AniCount&&(a+=c.g_ItemScoreRecord.SupermanItem),143==i.AniCount&&(a+=c.g_ItemScoreRecord.UnMagicShield),144==i.AniCount&&(a+=c.g_ItemScoreRecord.UnRevival),171==i.AniCount&&(a+=c.g_ItemScoreRecord.NoDropItem),172==i.AniCount&&(a+=c.g_ItemScoreRecord.NoDropUseItem),150==i.AniCount&&(a=a+c.g_ItemScoreRecord.Paralysis+c.g_ItemScoreRecord.MagicShield),151==i.AniCount&&(a=a+c.g_ItemScoreRecord.Paralysis+c.g_ItemScoreRecord.FlameRing),152==i.AniCount&&(a=a+c.g_ItemScoreRecord.Paralysis+c.g_ItemScoreRecord.RecoveryRing),153==i.AniCount&&(a=a+c.g_ItemScoreRecord.Paralysis+c.g_ItemScoreRecord.MuscleRing),154==i.AniCount&&(a=a+c.g_ItemScoreRecord.MagicShield+c.g_ItemScoreRecord.FlameRing),155==i.AniCount&&(a=a+c.g_ItemScoreRecord.MagicShield+c.g_ItemScoreRecord.RecoveryRing),156==i.AniCount&&(a=a+c.g_ItemScoreRecord.MagicShield+c.g_ItemScoreRecord.MuscleRing),157==i.AniCount&&(a=a+c.g_ItemScoreRecord.Teleport+c.g_ItemScoreRecord.Paralysis),158==i.AniCount&&(a=a+c.g_ItemScoreRecord.Teleport+c.g_ItemScoreRecord.MagicShield),159==i.AniCount&&(a=a+c.g_ItemScoreRecord.Teleport+c.g_ItemScoreRecord.ProbeNecklace),160==i.AniCount&&(a=a+c.g_ItemScoreRecord.Teleport+c.g_ItemScoreRecord.Revival),161==i.AniCount&&(a=a+c.g_ItemScoreRecord.Paralysis+c.g_ItemScoreRecord.Revival),162==i.AniCount&&(a=a+c.g_ItemScoreRecord.MagicShield+c.g_ItemScoreRecord.Revival),163==i.AniCount&&(a=a+c.g_ItemScoreRecord.UnParalysis+c.g_ItemScoreRecord.Teleport),180==i.AniCount&&(a+=c.g_ItemScoreRecord.DropExp),181==i.AniCount&&(a+=c.g_ItemScoreRecord.DroLevel)}if(c.g_ItemScoreRecord.boItemBaseScore)for(var o=0;o<c.g_EquipScoreList.length;o++){var l=c.g_EquipScoreList[o].split(",");if(t.s.Name==l[1]){a+=parseInt(l[2]);break}}}var n=e.addExScore(t);return n&&(a+=n),a},e.addExScore=function(e){for(var t=0;t<c.g_EquipScoreExList.length;t++)if(c.g_EquipScoreExList[t]&&c.g_EquipScoreExList[t].MakeIndex==e.MakeIndex)return parseInt(c.g_EquipScoreExList[t].iExtItemScore)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Struct.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts","./AnimationModule.ts","./AutoHookModule.ts","./ItemMgr.ts"],(function(t){"use strict";var e,i,s,l,a,g,m,o,n,r,_,f,c,h,u,p,I;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,l=t.UIOpacity,a=t.Component},function(t){g=t.EventMgr},function(t){m=t.Config},function(t){o=t.default},function(t){n=t.Struct_ins},function(t){r=t.Objectcontrol},function(t){_=t.ObjectManage},function(t){f=t.sendmessage},function(t){c=t.GameApi},function(t){h=t.GameUtil},function(t){u=t.Animationmodule},function(t){p=t.AutoHookmodule},function(t){I=t.ItemMgr}],execute:function(){var b,d;i._RF.push({},"5f3f4poxKFGOqLoRwzQI50x","GameConfig",void 0);var C=s.ccclass,G=(s.property,t("GameConfig",C("GameConfig")(((d=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))||this).changePoison=!0,e.lastFireHitTime=-1,e.lastKTZTime=-1,e.lastZRTime=-1,e.lastLYTime=-1,e.cure_time=-1,e.drugType=-1,e.hp_time=0,e.mp_time=0,e.hp_mp_time=0,e.autoItem_time=0,e.transfer_time=0,e.transfer_time1=0,e.exerciseTime=0,e.pickItemList=[],e.hp_timeH=0,e.mp_timeH=0,e.hp_mp_timeH=0,e.transfer_timeH=0,e.yld_time=0,e.sszjs_time=0,e.itemlist=null,e.monsterlist=[],e}e(i,t),i.getInstance=function(){return null==this._instance&&(this._instance=new i),this._instance};var s=i.prototype;return s.onLoad=function(){},s.start=function(){},s.init=function(){m.g_backToRole=!1,this.registerEvents()},s.timerManager=function(){this.unschedule(this.gameconfigupdate),this.schedule(this.gameconfigupdate,.5),this.unschedule(this.autoSkill),this.schedule(this.autoSkill,1)},s.setItemlist=function(){this.itemlist=m.g_filterItemList},s.setMonsterList=function(){},s.monsterCheck=function(t){if(this.monsterlist[t])return this.monsterlist[t][0]},s.itemCheck=function(t,e){if(this.itemlist[t]){var i=this.itemlist[t];switch(e){case 0:return i.show;case 1:return i.pick;case 2:return i.specia;case 3:return i.hint;case 4:return i.teleport;case 5:return i.color}}},s.gameconfigupdate=function(){var t=(new Date).getTime(),e=_.findobject(m.playerID);if(e&&e.m_Abil&&!e.is_die){if(e.m_Abil){var i=e.m_Abil.HP,s=e.m_Abil.MaxHP,l=e.m_Abil.MP,a=e.m_Abil.MaxMP,n=1e3*m.GlobalCfglist.hptimetext,r=1e3*m.GlobalCfglist.mptimetext,f=1e3*m.GlobalCfglist.hptimetext1;m.GlobalCfglist.autoItem_time}if(m.GlobalCfglist.autohp_mp&&t-this.hp_mp_time>f&&i<s*m.GlobalCfglist.hppercentagetext1/100){if(m.GlobalCfglist.hpS_img)var c=m.GlobalCfglist.hpS_img.s?m.GlobalCfglist.hpS_img.s.Name:m.GlobalCfglist.hpS_img;else c="默认";c&&this.useBagItem(c,0)&&(this.hp_mp_time=t)}else if(m.GlobalCfglist.autohp_mp2&&t-this.hp_mp_time>f&&l<a*m.GlobalCfglist.hppercentagetext2/100){if(m.GlobalCfglist.mpS_img)var h=m.GlobalCfglist.mpS_img.s?m.GlobalCfglist.mpS_img.s.Name:m.GlobalCfglist.mpS_img;else h="默认";h&&this.useBagItem(h,1)&&(this.hp_mp_time=t)}if(m.GlobalCfglist.autohp&&t-this.hp_time>n&&i<s*m.GlobalCfglist.hppercentagetext/100){if(m.GlobalCfglist.hpN_img)var u=m.GlobalCfglist.hpN_img.s?m.GlobalCfglist.hpN_img.s.Name:m.GlobalCfglist.hpN_img;else u="默认";u&&this.useBagItem(u,0)&&(this.hp_time=t)}else if(m.GlobalCfglist.automp&&t-this.mp_time>r&&l<a*m.GlobalCfglist.mppercentagetext/100){if(m.GlobalCfglist.mpN_img)h=m.GlobalCfglist.mpN_img.s?m.GlobalCfglist.mpN_img.s.Name:m.GlobalCfglist.mpN_img;else h="默认";h&&this.useBagItem(h,1)&&(this.mp_time=t)}}if(m.g_myHero&&m.g_myHero.m_Abil&&m.g_myHero.m_Abil.HP>0){var p=m.g_myHero.m_Abil.HP,I=m.g_myHero.m_Abil.MaxHP,b=m.g_myHero.m_Abil.MP,d=m.g_myHero.m_Abil.MaxMP,C=1e3*m.GlobalCfglist.hptimetextH,G=1e3*m.GlobalCfglist.mptimetextH,k=1e3*m.GlobalCfglist.hptimetext1H;if(m.GlobalCfglist.autohp_mpH&&t-this.hp_mp_timeH>k&&p<I*m.GlobalCfglist.hppercentagetext1H/100){if(m.GlobalCfglist.hpS_imgH)var L=m.GlobalCfglist.hpS_imgH.s?m.GlobalCfglist.hpS_imgH.s.Name:m.GlobalCfglist.hpS_imgH;else L="默认";L&&this.useHeroItem(L,0),this.hp_mp_timeH=t}else if(m.GlobalCfglist.autohp_mp2H&&t-this.hp_mp_timeH>G&&b<d*m.GlobalCfglist.hppercentagetext2H/100){if(m.GlobalCfglist.mpS_imgH)var H=m.GlobalCfglist.mpS_imgH.s?m.GlobalCfglist.mpS_imgH.s.Name:m.GlobalCfglist.mpS_imgH;else H="默认";H&&this.useHeroItem(H,1),this.hp_mp_timeH=t}else if(m.GlobalCfglist.autohpH&&t-this.hp_timeH>C&&p<I*m.GlobalCfglist.hppercentagetextH/100){if(m.GlobalCfglist.hpN_imgH)var M=m.GlobalCfglist.hpN_imgH.s?m.GlobalCfglist.hpN_imgH.s.Name:m.GlobalCfglist.hpN_imgH;else M="默认";M&&this.useHeroItem(M,0),this.hp_timeH=t}else if(m.GlobalCfglist.autompH&&t-this.mp_timeH>G&&b<d*m.GlobalCfglist.mppercentagetextH/100){if(m.GlobalCfglist.mpN_imgH)H=m.GlobalCfglist.mpN_imgH.s?m.GlobalCfglist.mpN_imgH.s.Name:m.GlobalCfglist.mpN_imgH;else H="默认";H&&this.useHeroItem(H,1),this.mp_timeH=t}}e&&m.g_UserItemList&&(g.raiseEvent(o.SHOWDURAHEAD),g.raiseEvent(o.SHOWDURAHUM))},s.transfer=function(t,e){var i=(new Date).getTime();if(t<=e*m.GlobalCfglist.tppercentagetext/100&&i-this.transfer_time>=1e3*m.GlobalCfglist.tptimetext&&m.GlobalCfglist.tp_img){var s=m.GlobalCfglist.tp_img.s?m.GlobalCfglist.tp_img.s.Name:m.GlobalCfglist.tp_img;this.useBagItem(s,null)&&(this.transfer_time=i)}},s.transfer1=function(t,e){var i=(new Date).getTime();if(t<=e*m.GlobalCfglist.tppercentagetext1/100&&i-this.transfer_time1>=1e3*m.GlobalCfglist.tptimetext1&&m.GlobalCfglist.tp1_img){var s=m.GlobalCfglist.tp1_img.s?m.GlobalCfglist.tp1_img.s.Name:m.GlobalCfglist.tp1_img;this.useBagItem(s,null)&&(this.transfer_time1=i)}},s.heroCllback=function(t,e){var i=(new Date).getTime();t<=e*m.GlobalCfglist.tppercentagetextH/100&&i-this.transfer_timeH>=1e3*m.GlobalCfglist.tptimetextH&&(m.g_myHero&&m.g_myHero.m_Abil&&(f.sendConfig(!0),f.SendHeroCall()),this.transfer_timeH=i)},s.useBagItem=function(t,e){if(!m.CanUserItem)return!1;for(var i=0;i<m.g_BagItemsList.length;i++){var s=m.g_BagItemsList[i];if(s&&((!(0==s.s.StdMode&&s.s.AC>0&&s.s.MAC>0)||m.GlobalCfglist.autohp_mp||m.GlobalCfglist.autohp_mp2)&&("默认"==t&&0==s.s.StdMode&&(0==e&&s.s.AC>0||1==e&&s.s.MAC>0)||s.s.Name==t)))return this.eat(s),m.CanUserItem=!1,!0}return c.autounpack(2,t,null),!1},s.useHeroItem=function(t,e){for(var i=0;i<m.g_HeroBagItemsList.length;i++){var s=m.g_HeroBagItemsList[i];if(s&&((!(0==s.s.StdMode&&s.s.AC>0&&s.s.MAC>0)||m.GlobalCfglist.autohp_mp||m.GlobalCfglist.autohp_mp2)&&("默认"==t&&0==s.s.StdMode&&(0==e&&s.s.AC>0||1==e&&s.s.MAC>0)||s.s.Name==t)))return void(s&&(m.g_AutoItems.Items=s,211!=m.g_AutoItems.Items.s.StdMode&&h.delHeroBagItems(m.g_AutoItems.Items.MakeIndex),f.heroEat(m.g_AutoItems.Items.MakeIndex,m.g_AutoItems.Items.s.Name),this.checkDrugIdx(m.g_AutoItems.Items.s.Name)))}c.heroAutounpack(2,t,null)},s.eat=function(t){t&&(m.g_AutoItems.Items=t,211!=m.g_AutoItems.Items.s.StdMode&&h.delBagItems(m.g_AutoItems.Items.MakeIndex),f.sendEat(0,m.g_AutoItems.Items.MakeIndex,m.g_AutoItems.Items.s.Name),this.checkDrugIdx(m.g_AutoItems.Items.s.Name))},s.checkDrugIdx=function(t){for(var e=0;e<m.g_DrugItemsList.length;e++){var i=m.g_DrugItemsList[e];return void(null!=i&&i.s.Name==t&&(m.g_autoDrugButNumber=e))}},s.autoChangePoison=function(){m.GlobalCfglist.d_autoskill_3&&("互换"==m.GlobalCfglist.d_autoskill_1?(this.changePoison?this.check_userItme(2)||this.changeLD():this.check_userItme(3)||this.changeHD(),this.changePoison=!this.changePoison):"红毒"==m.GlobalCfglist.d_autoskill_1?(this.check_userItme(3)||this.changeHD(),this.changePoison=!1):"绿毒"==m.GlobalCfglist.d_autoskill_1&&(this.check_userItme(2)||this.changeLD(),this.changePoison=!0))},s.autoChangeFu=function(){m.GlobalCfglist.d_autoskill_3&&!this.check_userItme(1)&&this.changeF()},s.changeLD=function(){for(var t=0;t<m.g_BagItemsList.length;t++)if(null!=m.g_BagItemsList[t]&&-1!=m.g_BagItemsList[t].s.Name.indexOf("灰色药粉")){m.g_WaitItems.Items=m.g_BagItemsList[t],m.g_WaitItems.Index=9,f.TakeOnItem2(m.g_BagItemsList[t],9),h.delBagItems(m.g_BagItemsList[t].MakeIndex);break}},s.changeHD=function(){for(var t=0;t<m.g_BagItemsList.length;t++)if(null!=m.g_BagItemsList[t]&&-1!=m.g_BagItemsList[t].s.Name.indexOf("黄色药粉")){m.g_WaitItems.Items=m.g_BagItemsList[t],m.g_WaitItems.Index=9,f.TakeOnItem2(m.g_BagItemsList[t],9),h.delBagItems(m.g_BagItemsList[t].MakeIndex);break}},s.changeF=function(){for(var t=0;t<m.g_BagItemsList.length;t++)if(null!=m.g_BagItemsList[t]&&(-1!=m.g_BagItemsList[t].s.Name.indexOf("护身符")||"天尊道符"==m.g_BagItemsList[t].s.Name))return m.g_WaitItems.Items=m.g_BagItemsList[t],m.g_WaitItems.Index=9,f.TakeOnItem2(m.g_BagItemsList[t],9),void h.delBagItems(m.g_BagItemsList[t].MakeIndex)},s.spellUseSkillStart=function(){this.unschedule(this.checkSpellUseSkill),m.GlobalCfglist.f_keepskill_1&&m.g_ClientConfig.dwMagicHitFrameTime&&m.g_ClientConfig.dwMagicHitFrameTime>0&&this.schedule(this.checkSpellUseSkill,m.g_ClientConfig.dwMagicHitFrameTime/1e3)},s.checkSpellUseSkill=function(){var t=r.self_obj;if(t&&!t.is_die&&t.m_Abil){var e=_.findobject(m.lockingID);e&&!e.is_die&&m.g_boMagicGood&&m.g_magicId>0&&(r.useskill(m.g_magicId,m.g_magicType),console.log("持续施法中..."))}},s.clearSpellUseSkillTimer=function(){this.unschedule(this.checkSpellUseSkill)},s.autoSkill=function(){var t=r.self_obj;if(t&&!t.is_die&&t.m_Abil){if(m.GlobalCfglist.f_autoskill_1)if(!u.hasAni(t.node,"eqsecure"+t.data.record))for(var e=0;e<m.g_UserMagicList.length;e++)if(m.g_UserMagicList[e]&&"魔法盾"==m.g_UserMagicList[e].Def.sMagicName&&h.judgeMagicMp(m.g_UserMagicList[e],t)){m.activate_skilluse=29,m.activate_skilltype=31,r.useskill(29,31);break}if(m.GlobalCfglist.d_autoskill_2&&178.5!=t.getComponent(l).opacity)for(e=0;e<m.g_UserMagicList.length;e++)m.g_UserMagicList[e]&&"隐身术"==m.g_UserMagicList[e].Def.sMagicName&&h.judgeMagicMp(m.g_UserMagicList[e],t)&&(this.check_userItme(1)||m.GlobalCfglist.d_autoskill_3&&this.autoChangeFu(),m.activate_skilluse=m.g_UserMagicList[e].Def.btEffect,r.useskill(16,18));if(m.GlobalCfglist.clear)for(var i=0;i<_.object_list.length;i++){var s=_.object_list[i];if(s&&s.data&&s.is_die){if(1==s.type){var a=n.TMonFeature(s.data.fea.buffer);if(a&&(901==a.wAppr||902==a.wAppr||903==a.wAppr)&&98==a.wRaceImg)continue}s.cur_frame_index>=s.obj_frames.length-1&&s.clearOnDie()}}var c=(new Date).getTime();if(m.autohookstate&&m.GlobalCfglist.ds_cure&&c-this.cure_time>1e3*m.GlobalCfglist.ds_time_slider){var b=p.hastriggerskill(t,m.GlobalCfglist.ds_cure_list);if(b&&t&&t.m_Abil&&!t.is_die&&c-this.cure_time>1e3*b.Def.w02)if(t.m_Abil.HP<=t.m_Abil.MaxHP*m.GlobalCfglist.ds_limit_slider/100)return p.setSkill(b,t.grid),void(this.cure_time=c)}if(m.GlobalCfglist.exercise){var d=p.hasskill(m.GlobalCfglist.exercise_list);if(d){var C=m.GlobalCfglist.exercise_slider;c-this.exerciseTime>1e3*C&&h.judgeMagicMp(d,t)&&(p.setSkill(d),this.exerciseTime=c)}}c=(new Date).getTime();if(m.GlobalCfglist.d_autoskill_5&&c-this.yld_time>1e3*m.GlobalCfglist.d_autoskill_7)for(e=0;e<m.g_UserMagicList.length;e++)if(m.g_UserMagicList[e]&&"幽灵盾"==m.g_UserMagicList[e].Def.sMagicName&&h.judgeMagicMp(m.g_UserMagicList[e],t)&&p.canuseAmulet()&&t&&t.m_Abil&&!t.is_die){p.setSkill(m.g_UserMagicList[e],t.grid),this.yld_time=c;break}c=(new Date).getTime();if(m.GlobalCfglist.d_autoskill_6&&c-this.sszjs_time>1e3*m.GlobalCfglist.d_autoskill_8)for(e=0;e<m.g_UserMagicList.length;e++)if(m.g_UserMagicList[e]&&"神圣战甲术"==m.g_UserMagicList[e].Def.sMagicName&&h.judgeMagicMp(m.g_UserMagicList[e],t)&&p.canuseAmulet()&&t&&t.m_Abil&&!t.is_die){p.setSkill(m.g_UserMagicList[e],t.grid),this.sszjs_time=c;break}var G=_.findobject(m.lockingID),k=p.hastriggerskill(t,"施毒术");G&&!G.is_die&&k&&m.GlobalCfglist.poison_ds&&p.canusePoison()&&1!=G.havePoison&&2!=G.havePoison&&(m.g_autohookpoison=0);for(var L=I.getInstance().DropItemList,H=Date.now(),M=0;M<L.length;M++)L[M]&&H-L[M].time>1e4&&f.sendCheckMapItem(L[M].id)}g.raiseEvent(o.BUFFCOUNTDOWN)},s.add_Use_Up=function(t){-1!=t.s.Name.indexOf("护身符")||"天尊道符"==t.s.Name?this.changeF():-1!=t.s.Name.indexOf("灰色药粉")?this.changeLD():-1!=t.s.Name.indexOf("黄色药粉")&&this.changeHD()},s.check_userItme=function(t){for(var e=0;e<m.g_UserItemList.length;e++)switch(t){case 1:if(null!=m.g_UserItemList[e]&&(-1!=m.g_UserItemList[e].s.Name.indexOf("护身符")||"天尊道符"==m.g_UserItemList[e].s.Name))return!0;break;case 2:if(null!=m.g_UserItemList[e]&&-1!=m.g_UserItemList[e].s.Name.indexOf("灰色药粉"))return!0;break;case 3:if(null!=m.g_UserItemList[e]&&-1!=m.g_UserItemList[e].s.Name.indexOf("黄色药粉"))return!0}return!1},s.addPickItem=function(t){t&&this.pickItemList.push(t)},s.delPickItem=function(t){for(var e=0;e<this.pickItemList.length;e++){var i=this.pickItemList[e];if(t&&i&&i.id==t){this.pickItemList.splice(e,1);break}}},s.registerEvents=function(){console.log("执行gf初始化，注册监听"),g.addEventListener(o.UPDATE_PICK_ITEM,this.addPickItem,this),g.addEventListener(o.DEL_PICK_ITEM,this.delPickItem,this),g.addEventListener(o.SPELLUSESKILLSTART,this.spellUseSkillStart,this),g.addEventListener(o.CLEARSPELLUSESKILLTIMER,this.clearSpellUseSkillTimer,this)},i}(a))._instance=null,b=d))||b));t("gameConfig",G.getInstance());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameDefine.ts",["cc"],(function(_){"use strict";var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){_({BUFF_TYPE:void 0,CHAT_CLICK_TYPE:void 0,CHAT_TYPE:void 0,CUSTOM_BUFF_TYPE:void 0,CUSTOM_BUTTON_WIN_TYPE:void 0,FIND_TREASURE_VIEW_TYPE:void 0,GUILD_EDITOR_TITLE_TYPE:void 0,GUILD_ITEM_SELECT_TYPE:void 0,GUILD_NAME_EDIT_TYPE:void 0,GUILD_OPERATION_TYPE:void 0,HUM_WIN_POS:void 0,HUM_WIN_POS_SHENG_DA:void 0,MESSAGE_TYPE:void 0,NEW_INFO_TYPE:void 0,OPEN_ITEMINFO_WIN_TYPE:void 0,PRODUCT_TYPE:void 0,RELATION_TYPE:void 0,SHOW_SCREEN_TYPE:void 0,TItemFormType:void 0}),E._RF.push({},"f94adn5FsFLrL1GOIFdTJi+","GameDefine",void 0);var i,t;_("HeroSkillData",(function(){this.name="",this.level=0,this.spriteFrame=null,this.nowExp=0,this.maxExp=0,this.quickNum=0,this.obj=void 0,this.isClose=!1})),_("HumSkillData",(function(){this.name="",this.level=0,this.nowExp=0,this.maxExp=0,this.quickNum=0,this.obj=void 0})),_("HumTitleData",(function(){this.name="",this.res=null,this.data=null})),_("EquipData",(function(){this.name="",this.type=null,this.res=null,this.data=void 0,this.win_type=void 0})),_("RankData",(function(){this.rankNum=0,this.name="",this.level=0,this.guild="",this.items=void 0}));!function(_){_[_.EQUIP_WEAPON_POSX=-25]="EQUIP_WEAPON_POSX",_[_.EQUIP_WEAPON_POSY=-40]="EQUIP_WEAPON_POSY",_[_.EQUIP_CLOTHES_POSX=-75]="EQUIP_CLOTHES_POSX",_[_.EQUIP_CLOTHES_POSY=28]="EQUIP_CLOTHES_POSY",_[_.EQUIP_SHIELD_POSX=-25]="EQUIP_SHIELD_POSX",_[_.EQUIP_SHIELD_POSY=24]="EQUIP_SHIELD_POSY",_[_.EQUIP_HAT_POSX=-69]="EQUIP_HAT_POSX",_[_.EQUIP_HAT_POSY=-14]="EQUIP_HAT_POSY",_[_.FASHION_WEAPON_POSX=-32]="FASHION_WEAPON_POSX",_[_.FASHION_WEAPON_POSY=-40]="FASHION_WEAPON_POSY",_[_.FASHION_CLOTHES_POSX=-67]="FASHION_CLOTHES_POSX",_[_.FASHION_CLOTHES_POSY=27]="FASHION_CLOTHES_POSY",_[_.FASHION_HAT_POSX=-74.5]="FASHION_HAT_POSX",_[_.FASHION_HAT_POSY=-28]="FASHION_HAT_POSY"}(i||(i=_("HUM_WIN_POS_SHENG_DA",{}))),function(_){_[_.EQUIP_WEAPON_POSX=-20]="EQUIP_WEAPON_POSX",_[_.EQUIP_WEAPON_POSY=-52]="EQUIP_WEAPON_POSY",_[_.EQUIP_CLOTHES_POSX=-73]="EQUIP_CLOTHES_POSX",_[_.EQUIP_CLOTHES_POSY=18]="EQUIP_CLOTHES_POSY",_[_.EQUIP_SHIELD_POSX=-25]="EQUIP_SHIELD_POSX",_[_.EQUIP_SHIELD_POSY=24]="EQUIP_SHIELD_POSY",_[_.EQUIP_HAT_POSX=-69]="EQUIP_HAT_POSX",_[_.EQUIP_HAT_POSY=-18]="EQUIP_HAT_POSY",_[_.FASHION_WEAPON_POSX=-20]="FASHION_WEAPON_POSX",_[_.FASHION_WEAPON_POSY=-52]="FASHION_WEAPON_POSY",_[_.FASHION_CLOTHES_POSX=-64]="FASHION_CLOTHES_POSX",_[_.FASHION_CLOTHES_POSY=18]="FASHION_CLOTHES_POSY",_[_.FASHION_HAT_POSX=-74.5]="FASHION_HAT_POSX",_[_.FASHION_HAT_POSY=-28]="FASHION_HAT_POSY"}(t||(t=_("HUM_WIN_POS",{})));var O;_("GuildListData",(function(){this.guildName="",this.presidentName="",this.memberNum=0,this.memberMaxNum=0,this.joinCondition="",this.operation=null}));!function(_){_[_.apply=0]="apply",_[_.join=1]="join"}(O||(O=_("GUILD_OPERATION_TYPE",{})));var S;_("GuildRecordData",(function(){this.time="",this.data=null})),_("GuildMemberData",(function(){this.name="",this.title=null,this.level=0,this.sex=void 0,this.job="",this.time="",this.online=!1})),_("GuildApplyData",(function(){this.name="",this.job="",this.level=0,this.time="",this.purpose="加入行会",this.online=""})),_("GuildRelationData",(function(){this.num=0,this.name="",this.presidentName="",this.peopleCur=0,this.peopleMax=0,this.state=void 0}));!function(_){_[_.NEUTRAL=0]="NEUTRAL",_[_.FOLLOW=1]="FOLLOW",_[_.WAR=2]="WAR",_[_.ALLIANCE=3]="ALLIANCE",_[_.APPLY_ALLIACE=4]="APPLY_ALLIACE"}(S||(S=_("RELATION_TYPE",{})));var I,T;_("GoodsData",(function(){this.name="",this.price=0,this.type="",this.image_data=null,this.data=void 0})),_("imageData",(function(){this.plist="",this.img=""})),_("productData",(function(){this.productName="",this.productNum=0,this.payMoney=0,this.type=void 0}));!function(_){_[_.NORMAL=0]="NORMAL",_[_.CUSTOM=1]="CUSTOM"}(I||(I=_("PRODUCT_TYPE",{}))),function(_){_[_.PUBLIC=-1]="PUBLIC",_[_.SYSTEM=0]="SYSTEM",_[_.TEAM=1]="TEAM",_[_.PRIVATE=2]="PRIVATE",_[_.GUILD=3]="GUILD",_[_.NEARBY=4]="NEARBY",_[_.SHOUT=6]="SHOUT"}(T||(T=_("CHAT_TYPE",{})));var n;_("ChatData",(function(){this.strArray=[],this.front=0,this.bg=0,this.type=void 0,this.isTopInfo=!1,this.args=null,this.time=null}));!function(_){_[_.BAG=0]="BAG",_[_.HUMWIN=1]="HUMWIN",_[_.SHOP=4]="SHOP",_[_.LOOKHUMWIN=5]="LOOKHUMWIN",_[_.SCREENWIN=3]="SCREENWIN",_[_.SOLE=9]="SOLE",_[_.SKILL=11]="SKILL",_[_.HERO=14]="HERO",_[_.TITLESELECT=16]="TITLESELECT",_[_.TITLE=17]="TITLE",_[_.SHOUSHIWIN=18]="SHOUSHIWIN",_[_.SHOUSWIN=20]="SHOUSWIN"}(n||(n=_("OPEN_ITEMINFO_WIN_TYPE",{})));var P,A,s;_("mainMiniMapData",(function(){this.mapName="",this.posX=0,this.posY=0,this.isSafe=!1}));!function(_){_[_.HUM=1]="HUM",_[_.DRUG=2]="DRUG",_[_.NPC_DILOG=3]="NPC_DILOG",_[_.REPAIR=4]="REPAIR",_[_.SALE=5]="SALE",_[_.NPC_SUBMIT=6]="NPC_SUBMIT",_[_.HERO=7]="HERO",_[_.NPC_RESOLVE=8]="NPC_RESOLVE",_[_.SHENS=9]="SHENS",_[_.JEWELRY=10]="JEWELRY",_[_.MY_STORE=11]="MY_STORE",_[_.ON_HOOK_DRUG=12]="ON_HOOK_DRUG",_[_.AUCTION=13]="AUCTION",_[_.UP_GRADE_EQUIP=14]="UP_GRADE_EQUIP",_[_.UP_GRADE_GEM=15]="UP_GRADE_GEM",_[_.UP_GRADE_ADD_GEM=16]="UP_GRADE_ADD_GEM"}(P||(P=_("SHOW_SCREEN_TYPE",{}))),function(_){_[_.CCMD_CONFIG=1]="CCMD_CONFIG",_[_.SCMD_CONFIG=1]="SCMD_CONFIG",_[_.CCMD_ROOM=2]="CCMD_ROOM",_[_.SCMD_ROOM=2]="SCMD_ROOM"}(A||(A=_("MESSAGE_TYPE",{}))),function(_){_[_.MY_TREASURE=1]="MY_TREASURE",_[_.ALL_TREASURE=2]="ALL_TREASURE"}(s||(s=_("FIND_TREASURE_VIEW_TYPE",{})));var N,H;_("TreasureScoreData",(function(){this.equip_data=null,this.award_num=0,this.need_score=0,this.exchange_times=0})),_("TreasureFindCostData",(function(){this.item1_data=null,this.item2_data=null,this.cost_material1_num=0,this.cost_material2_num=0,this.buy_num=0,this.self_material_num=0})),_("HeroTreasureActivityData",(function(){this.big_award_id=0,this.item_data=[],this.gold_num=0,this.gold_id=0,this.score_num=0,this.ticket_id=0,this.ticket_num=0,this.ticket_cost=0,this.gold_cost=0})),_("HeroTreasureFindAwardListData",(function(){this.award_data=null,this.player_nmae="",this.time=0}));!function(_){_[_.SAVE=1]="SAVE",_[_.EXCHANGE=2]="EXCHANGE"}(N||(N=_("NEW_INFO_TYPE",{}))),function(_){_[_.NAME=0]="NAME",_[_.ITEM=1]="ITEM",_[_.POS=2]="POS"}(H||(H=_("CHAT_CLICK_TYPE",{})));var o,a,e,L,h,U;_("NewRechargeDate",(function(){this.goods_name="",this.goods_price=0,this.goods_num=0,this.first_recharge=!1,this.first_items=[],this.goods_item=null,this.type=void 0})),_("NewGoodsData",(function(){this.name="",this.price=0,this.type="",this.image_data=null,this.data=void 0,this.limit_num=3,this.limit_max_num=3}));!function(_){_[_.ITEM_NAME_LEN=60]="ITEM_NAME_LEN",_[_.ACTOR_NAME_LEN=14]="ACTOR_NAME_LEN",_[_.SHOW_HINT_FONT_NAME_LEN=20]="SHOW_HINT_FONT_NAME_LEN",_[_.HOME_PAGE=199]="HOME_PAGE",_[_.NOT_ENOUGH_NG_POINT=47]="NOT_ENOUGH_NG_POINT",_[_.MAP_NAME_LEN=30]="MAP_NAME_LEN",_[_.SMAP_DESC=40]="SMAP_DESC"}(o||(o=_("CUSTOM_BUFF_TYPE",{}))),function(_){_[_.Byte=1]="Byte",_[_.AnsiChar=1]="AnsiChar",_[_.Boolean=1]="Boolean",_[_.Enum=1]="Enum",_[_.Word=2]="Word",_[_.SmallInt=2]="SmallInt",_[_.WordBool=2]="WordBool",_[_.LongWord=4]="LongWord",_[_.LongBool=4]="LongBool",_[_.Integer=4]="Integer",_[_.Int64=8]="Int64"}(a||(a=_("BUFF_TYPE",{}))),function(_){_.ifUnknow="未知",_.ifGM="GM制造",_.ifScript="脚本",_.ifShopBuy="商店购买",_.ifMonDrop="打怪掉落",_.ifSysGive="系统给予",_.ifMine="挖矿得到",_.ifBoxGive="宝箱取得",_.ifButchItem="挖肉得到",_.ifCaptureMon="捕捉得到"}(e||(e=_("TItemFormType",{}))),function(_){_[_.ALLIANCE=1]="ALLIANCE",_[_.WAR=2]="WAR",_[_.FOLLOW=3]="FOLLOW"}(L||(L=_("GUILD_NAME_EDIT_TYPE",{}))),function(_){_[_.FOLLOW=1]="FOLLOW",_[_.REQUEST=2]="REQUEST",_[_.WAR=3]="WAR",_[_.ALLIANCE=4]="ALLIANCE"}(h||(h=_("GUILD_ITEM_SELECT_TYPE",{}))),function(_){_[_.ADD=1]="ADD",_[_.EDITE=2]="EDITE",_[_.DELETE=3]="DELETE",_[_.CHANGE_ADMIN=5]="CHANGE_ADMIN"}(U||(U=_("GUILD_EDITOR_TITLE_TYPE",{})));var u;_("GuildTitleData",(function(){this.name="",this.id=-1})),_("PetData",(function(){this.name="",this.level=0})),_("CustomButtonData",(function(){this.nFileIndex=0,this.nTag=0,this.btMove=0,this.nUpImage=0,this.nHotImage=0,this.nTop=0,this.nDownImage=0,this.nLeft=0,this.sCaption="",this.sHintMsg="",this.btnLabel=""}));!function(_){_[_.MOVE=0]="MOVE",_[_.UN_MOVE=1]="UN_MOVE",_[_.HUM_EQUIP=2]="HUM_EQUIP",_[_.HUM_BAG=3]="HUM_BAG",_[_.HERO_EQUIP=4]="HERO_EQUIP",_[_.HERO_BAG=5]="HERO_BAG",_[_.CHAT_LEFT=6]="CHAT_LEFT",_[_.CHAT_RIGHT=7]="CHAT_RIGHT",_[_.SHOP=8]="SHOP",_[_.HUM_FASHION=9]="HUM_FASHION",_[_.HERO_FASHION=10]="HERO_FASHION",_[_.HUM_SKILL=11]="HUM_SKILL",_[_.HERO_SKILL=12]="HERO_SKILL",_[_.HUM_TITLE=13]="HUM_TITLE",_[_.HERO_TITLE=14]="HERO_TITLE",_[_.HUM_STATE=15]="HUM_STATE",_[_.HERO_STATE=16]="HERO_STATE",_[_.HUM_ATTR=17]="HUM_ATTR",_[_.HERO_ATTR=18]="HERO_ATTR",_[_.HUM_FIGHT=19]="HUM_FIGHT",_[_.GUILD=20]="GUILD",_[_.ITEMINFO=21]="ITEMINFO",_[_.PET=22]="PET",_[_.PET_BAG=23]="PET_BAG",_[_.HUM_JEWELRY=24]="HUM_JEWELRY",_[_.HERO_JEWELRY=25]="HERO_JEWELRY",_[_.HUM_SHENS=26]="HUM_SHENS",_[_.HERO_SHENS=27]="HERO_SHENS",_[_.NULL=28]="NULL",_[_.NEW=29]="NEW",_[_.MINIMAP=30]="MINIMAP"}(u||(u=_("CUSTOM_BUTTON_WIN_TYPE",{})));_("NGAttrData",(function(){}));E._RF.pop()}}}));

System.register("chunks:///_virtual/GameMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./MsgSM.ts","./MsgCM.ts","./Struct.ts","./objectmanage.ts","./encrypt.ts","./EnDecode.ts","./CodeUtil.ts","./Sendmessage.ts","./AnimationModule.ts","./RGBCode.ts","./Config.ts","./GameUtil.ts","./Enums.ts","./objectcontrol.ts","./GameApi.ts","./MapData.ts","./ObjType.ts","./RelationManager.ts","./ItemMgr.ts","./GameConfig.ts","./SkillModule.ts","./Title.ts","./FightModule.ts","./MoveModule.ts","./UIcontrol.ts","./NewNpcWin.ts","./GameMission.ts","./audioManager.ts","./external.ts","./RechargeWin.ts","./ParticleMgr.ts","./CrystalWin.ts","./GameSocket.ts","./ResourcesMgr.ts","./Content.ts","./GameDefine.ts","./GuildWorldWin.ts","./Https.ts","./NpcShop.ts","./PetWin.ts","./MainSkill.ts"],(function(e){"use strict";var t,a,r,n,i,s,o,c,l,g,d,m,_,I,E,f,u,p,S,h,A,T,v,M,D,O,L,b,N,k,C,G,y,R,H,B,P,U,x,w,W,F,Y,K,z,j,J,V,X,Z,Q,q,$,ee,te,ae,re,ne,ie,se,oe,ce,le,ge,de,me,_e,Ie,Ee,fe,ue,pe,Se,he;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,r=e.find,n=e.resources,i=e.Prefab,s=e.instantiate,o=e.director,c=e.v3,l=e.Vec3,g=e.sys,d=e.Node,m=e.Sprite,_=e.view,I=e.Label,E=e.UITransform,f=e.UIOpacity,u=e.tween,p=e.Layers,S=e.Button,h=e.Vec2,A=e.Component},function(e){T=e.EventMgr},function(e){v=e.default},function(e){M=e.default},function(e){D=e.default},function(e){O=e.Struct_ins},function(e){L=e.ObjectManage},function(e){b=e.Encrypt},function(e){N=e.EnDecode},function(e){k=e.codeUtil},function(e){C=e.Sendmessage,G=e.sendmessage},function(e){y=e.Animationmodule},function(e){R=e.rgbCode},function(e){H=e.Config},function(e){B=e.GameUtil,P=e.superMsg},function(e){U=e.TMonsterClientActionType,x=e.U_Type,w=e.TFishState_Type,W=e.TMagicType},function(e){F=e.Objectcontrol},function(e){Y=e.GameApi},function(e){K=e.Mapdata},function(e){z=e.TStoreData,j=e.TClientMagic,J=e.TGroupMember,V=e.TClientConfig},function(e){X=e.RelationManager},function(e){Z=e.ItemMgr,Q=e.itemMgr},function(e){q=e.gameConfig},function(e){$=e.Skillmodule},function(e){ee=e.Title},function(e){te=e.Fightmodule},function(e){ae=e.Movemodule},function(e){re=e.uiControl},function(e){ne=e.NewNpcWin},function(e){ie=e.gameMission},function(e){se=e.audioManager},function(e){oe=e.external},function(e){ce=e.default},function(e){le=e.particleMgr},function(e){ge=e.CrystalWin},function(e){de=e.gameSocket},function(e){me=e.resourcesMgr},function(e){_e=e.Content},function(e){Ie=e.GuildTitleData,Ee=e.CustomButtonData},function(e){fe=e.default},function(e){ue=e.https},function(e){pe=e.NpcShop},function(e){Se=e.default},function(e){he=e.MainSkill}],execute:function(){a._RF.push({},"2b3afTcDTpBqYuhOvcaF4Wa","GameMessage",void 0),e("GameMessage",function(e){function a(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).playerSelf=void 0,t.TK_TICKTIME_TIME=void 0,t.TK_DELAY_TIME=void 0,t.TK_CHEKTIME_TAG=void 0,t.waitItemName=void 0,t.waitItemAniCount=void 0,t.autoItemName=void 0,t.autoItemAniCount=void 0,t.drugBtnNum=void 0,t.autoBtnNum=void 0,t.rolling=!1,t.rolling1=!1,t.cbt_time=0,t.featbuff=null,t.chat_limit_time=0,t.over_time=null,t.loadmapname=null,t.Config=null,t.dealgold=void 0,t.boisF=void 0,t.timeId=void 0,t.onAssetsDestroyId=void 0,t.solosuit=void 0,t.objdata=null,t.DiyNpcId=null,t.isDiyNpc=!1,t.m_Abil=O.TAbility(0),t.identList={},t.clientRecvDeathMessage=function(e,t){if(t.length>=13){var a=O.TCharDesc(t),r=a.feature,n=t.slice(13,t.length),i=O.TFeature(r,n),s=O.THumFeature(i.buffer),o={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:i,state:a.status,str:""};if(19==s.wRace&&(290==s.wDress||291==s.wDress||292==s.wDress))return L.ChangeState(o),void L.visibleHpSpr(o.record,!1);var c=L.findobject(o.record);if(L.ChangeState(o),L.visibleHpSpr(o.record,!1),o.record==H.playerID)re.deleteToast(),T.raiseEvent(v.ROLE_DIE),T.raiseEvent(v.ROLE_DIE_STATE);else if(null!=c){var l="";if((l=null!=c.txt_name?c.txt_name._text:"")&&-1!=l.indexOf(H.g_RoleNameOnly)&&c.OwnerID==H.playerID){var g=H.g_babyList.indexOf(o.record);-1!=g&&H.g_babyList.splice(g,1);for(var d,m=!0,_=0;_<H.g_babyList.length;_++)(d=L.findobject(H.g_babyList[_]))&&!d.is_die&&(m=!1);m&&T.raiseEvent(v.CLOSE_PETBTN)}}if(H.g_myHero&&H.g_myHero.data.record==e.record){var I=H.g_myHero.m_Abil;I.HP=0,T.raiseEvent(v.UPDATE_HERO_INFO,I)}}},t.QueryMyShopSellingItems=function(e,t){H.g_StoreItemNum[0]=e.record,H.g_StoreItemIndex[0]=e.param;for(var a=[],r=0;r<e.series;r++){var n=O.TClientUserShopItem(t);t=t.slice(1199),a.push(n)}a.length>0&&(T.raiseEvent(v.SHOW_STORE_SELLING,a),T.raiseEvent(v.GAME_SHOWSTOREPAGE,[H.g_StoreItemNum[0],H.g_StoreItemIndex[0],0]))},t.openDialog=function(e,t){if(0==e.tag){this.UpGlobaInf(t);e.record;var a=N.DecodeString(t);H.rw_recog=e.record,""==a&&(a="成长任务\r\n日常任务\r\n每日任务\r\n节日任务\r\n其他任务\r\n");var r=a.split("\r\n");H.g_MissCaptionList=[];for(var n=0;n<r.length;n++)if(""!=r[n]){var i=[];i.sTabName=r[n],i.sShowtxt="",i.sList=[],H.g_MissCaptionList.push(i)}}else if(11==e.tag)for(var s=0;s<H.g_MissCaptionList.length;s++)""!=H.g_MissCaptionList[s].sTabName&&C.getInstance().gettmissitem(H.rw_recog,10,"@"+H.g_MissCaptionList[s].sTabName)},t.SendUserEffect=function(e,t){var a=e.record,r=L.findobject(a);if(r&&t){var n=N.fnDecode6BitBuf(t,t.length),i=new Zlib.Inflate(n.pszDest).decompress(),s=O.TBaseObjectEffect(i),o=s.nEffectImageOffSet,c=s.wEffectImageCount,g=s.wEffectFrameTime,d=s.wLoopCount-1;if(s)if(o>=100&&o<150)le.addPartical("gold"),this.onAssetsDestroyId=setTimeout((function(){le.removePartical()}),g*d*80);else{var m=c*g*d/1e3,_=new l(s.nX,s.nY),I=y.playframe(!1,r.node,"data/effectex/",o,o+c-1,g,!0,!1,_);I&&this.scheduleOnce((function(){y.removeAni(I)}),m)}}},t.SendUserAddEffectGom=function(e,t){var a=e.record,r=L.findobject(a);if(r&&t){var n=N.fnDecode6BitBuf(t,t.length),i=new Zlib.Inflate(n.pszDest).decompress(),s=O.TBaseObjectEffectGom(i),o=s.nEffectImageOffSet,c=s.wEffectImageCount,g=s.wEffectFrameTime,d=c*g*s.wLoopCount/1e3,m=(new l(s.nX,s.nY),y.playframe(!0,r.node,"data/"+H.g_pak_list[s.nEffectFileIndex]+"/",o,o+c-1,g,!0,!1));m&&this.scheduleOnce((function(){y.removeAni(m)}),d)}},t.xunlu=function(e,t){L.findobject(H.playerID);var a=new l(e.param,e.tag);if(null==ae.autoMovePos||0!=h.distance(ae.autoMovePos,a)){var r=L.findobject(e.record);te.leavefight(),a&&r&&ae.autoMove(a),""!=t&&(H.g_mapnpc=a,ae.autoMovePos=a)}},t}t(a,e),a.getInstance=function(){return null==this._instance&&(this._instance=new a),this._instance};var A=a.prototype;return A.init=function(){this.over_time=3*H.DELAY_INTERVAL,this.playerSelf=null,this.TK_TICKTIME_TIME=-1,this.TK_DELAY_TIME=0,this.TK_CHEKTIME_TAG=!1,T.addEventListener(v.RECEIVE_ONMESSAGEFROMSERVER,this.onMsgFromSvr,this),T.addEventListener("updateHybridWin",this.updateHybirdUI,this)},A.onMsgFromSvr=function(e,t){var a=L.findobject(e.record);if(!a||2==a.type||e.ident!=M.RUN&&e.ident!=M.WALK&&e.ident!=M.RUSH&&e.ident!=M.HIT100&&e.ident!=M.RUSHKUNG&&e.ident!=M.POWERHIT&&e.ident!=M.LONGHIT&&e.ident!=M.WIDEHIT&&e.ident!=M.FIREHIT&&e.ident!=M.HIT66&&e.ident!=M.TWNHIT&&e.ident!=M.SWORDHIT&&e.ident!=M.HEAVYHIT&&e.ident!=M.BACKSTEP&&e.ident!=M.HIT&&e.ident!=M.HIT_2&&e.ident!=M.HIT_3&&e.ident!=M.HIT_4&&e.ident!=M.HIT_5&&e.ident!=M.HIT60&&e.ident!=M.HIT61&&e.ident!=M.HIT62&&e.ident!=M.CRSHIT&&e.ident!=M.HIT43&&e.ident!=M.HIT101&&e.ident!=M.HIT102&&e.ident!=M.HIT103&&e.ident!=M.FLYAXE&&e.ident!=M.SPELL&&e.ident!=M.MAGICFIRE)a&&2!=a.type&&(e.ident,M.STRUCK),this.onhandlmsg(e,t);else{var r=[e,t];r.msg=e,r.bodystr=t,a.msg_list.push(r)}},A.identCount=function(e){Object.keys(this.identList).indexOf(""+e)>-1?this.identList[""+e]&&(this.identList[""+e]+=1):this.identList[""+e]=1,console.log("当前ident："+e+"已积累的次数："+this.identList[""+e])},A.onhandlmsg=function(e,t){var a=this;switch(e.ident){case M.SM_BEGIN_WORLD:console.log("进入跨服"),H.overServer=1;break;case M.SM_END_WORLD:console.log("退出跨服"),H.overServer=0;break;case M.OPENMISSIONWINDOW:this.UpGlobaInf(t);break;case M.SENDNOTICE:0==e.tag?(Y.initRoleSet(),C.getInstance().SendClientMessage()):(ue.updateGameInfo((function(e){console.log("角色上报结果："+e.message)})),re.deleteToast(),re.deleteAlertWin(),de.connectInit(),re.checkAndDestroyNewNpcWin(),H.CurScene.disconnectionAniCrl(0),console.log("Config.autohookstate:"+H.autohookstate),H.autohookstate&&T.raiseEvent(v.ONHOOK,"0"),console.log("---公告---"),C.getInstance().sendNoticeOK(e,t),H.g_isReLog=!1,this.addMainSkillPrefHandle());break;case M.SERVERCONFIG:this.GetServerConfig(t,e);break;case M.NEWMAP:this.clientEnterNewMap(e,t);break;case M.CHANGEMAP:re.checkAndDestroyNewNpcWin(),this.clientRecvChangeMapMessage(e,t);break;case M.LOGON:H.g_GameInitFinish=!0,C.getInstance().QueryBagItems(),this.clientRevLogon(e,t);break;case M.USERNAME:this.clientRevChangeName(e,t);break;case M.AREASTATE:case M.PLUGFILE:case D.SENDMODULEMD5:break;case M.STONEVALUE:H.g_HPStoneAdd=e.record,H.g_HPStoneDec=e.param,H.g_MPStoneAdd=e.tag,H.g_MPStoneDec=e.series,H.E_NewPlayerID=N.DecodeString(t),H.cur_use_app&&oe.MTPLogin();break;case M.CHARSTATUSCHANGED:this.clientRoleStateChanged(e,t);break;case M.OPENCOBWEBWINDING:this.OpenCobWebWinding(e,t),H.g_boCobWeb=!0;break;case M.CLOSECOBWEBWINDING:this.CloseCobWebWinding(e,t),H.g_boCobWeb=!1;break;case M.MODULEMD5:break;case M.MAPDESCRIPTION:this.clientGetMapDescription(e,t);break;case M.GAMEGOLDNAME:this.clientGetGameGoldName(e,t);break;case M.SERVERUNIXTIME:this.parseServerRunixTime(e,t);break;case M.AUCTIONLIST:this.parseAuctionListData(e,t);break;case M.AUCTIONITEMADD:this.parseSingleAuctionData(e,t);break;case M.AUCTIONITEMREMOVE:this.offSaleAuctionHandle(e,t);break;case M.AUCTIONITEMUPDATE:this.updateAuctionInfo(e,t);break;case M.AUCTIONPUTONTHESHELF:this.newAuctionTipHandle(e,t);break;case M.AUCTIONOFFTHESHELF:this.offSaleAuctionTip(e,t);break;case M.AUCTIONPLUSPRICE:this.bidAuctionTip(e,t);break;case M.AUCTIONBUYOUT:this.oncePriceTip(e,t);break;case M.AUCTIONCLIENTITEM:this.updateAuctionItemInfo(e,t);break;case M.GAMEPOINTNAME:this.clientGetNewGamePointName(e,t);break;case M.NEWRANKING:this.parseRankData(e,t);break;case M.GAMEGLORY:""!=t&&H.g_boOpenCaiji&&(e.record,H.g_gameGlory.value,e.record,H.g_gameGlory.value),H.g_gameGlory.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,8),T.raiseEvent(v.UPDATE_BAG);break;case M.UNBINDLIST:case M.SUITITEMLIST:break;case M.SPECIALCMD:if(t.length>0)var g=N.DecodeBuffer(t,!1);console.log("SPECIALCMD---",g);break;case M.SAFEPOINT:this.clientObjGetSafeZoneInfo(e,t);break;case M.STONEVALUE:H.g_HPStoneAdd=e.record,H.g_HPStoneDec=e.param,H.g_MPStoneAdd=e.tag,H.g_MPStoneDec=e.series;break;case M.ATTATCKMODE:var d=e.record;T.raiseEvent(v.UPDATE_ATT_MODE,d);break;case M.NAVIGATIONINFO:this.clientGetNavigationInfo(e,t);break;case M.CHANGELIGHT:this.clientChangeRoleLight(e);break;case M.SHOWFASHION:this.ShowDressGodBless(e);break;case M.CHANGESPEED:var m=L.findobject(e.record);if(m){var _=N.DecodeString(t);m.realSpeed=_?parseInt(_):0,m.movesd=e.param>6e4?e.param-65536:e.param,m.attsp=e.tag>6e4?e.tag-65536:e.tag,m.skillsp=e.series>6e4?e.series-65536:e.series}break;case M.MAGIC_LVEXP:this.UpdateMagicData(e,t);break;case M.CHANGENAMECOLOR:this.clientChangeRoleNameColor(e);break;case M.BACKSTEP:case M.TURN:this.clientRoleDoTurn(e,t);break;case M.RUSHKUNG:case M.RUSH:case M.WALK:case M.HIT100:this.clientRecvWalkMessage(e,t);break;case M.RUSHKUNG_STOP:H.g_furious_collision_ing=!1,H.g_furious_collision_end=!0,F.move_call_result=!0;break;case M.RUN:case M.HORSERUN:this.clientRecvRunMessage(e,t);break;case M.HIT:case M.HIT_2:case M.HIT_3:case M.HIT_4:case M.HIT_5:case M.HEAVYHIT:case M.POWERHIT:case M.LONGHIT:case M.WIDEHIT:case M.BIGHIT:case M.FIREHIT:case M.HIT60:case M.HIT61:case M.HIT62:case M.HIT66:case M.SM_66HIT1:case M.TWNHIT:case M.CRSHIT:case M.HIT43:case M.SWORDHIT:case M.HIT101:case M.HIT102:case M.HIT103:this.clientRecvHitMessage(e,t);break;case M.STRUCK:case M.STRUCK_BLAST:case M.HEROGROUPATTACK:case M.NPCHSPELLCHANGED:case M.REBOUND:this.clientRecvStruckMessage(e,t);break;case M.BUTCH:case M.SITDOWN:this.clientRecvRoleSitDownMessage(e);break;case M.SPELL:this.clientRecvSpellMessage(e,t);break;case M.DIGUP:this.clientRecvDigUpMessage(e,t);break;case M.DIGDOWN:this.clientRecvDigDownMessage(e);break;case M.FLYAXE:this.clientRecvFlyAXEMessage(e,t);break;case M.LIGHTING:this.clientRecvLigthingMessage(e,t);break;case M.SKELETON:case M.ALIVE:this.clientRecvAliveMessage(e,t);break;case M.DEATH:case M.NOWDEATH:this.clientRecvDeathMessage(e,t);break;case M.FEATURECHANGED:this.clientChangeRoleFeature(e,t);break;case M.QUERYSELECTSHOPINFO_FAIL:this.QuerySelectShopInfoFaild(e,t);break;case M.VIEWBAITAN:this.ViewBaiTan(e,t);break;case M.OPENMYBAITAN:this.OpenMyBaiTan(e,t);break;case M.ADDPAIMAIITEMFAIL:this.AddBaiTanItemFaild(e,t);break;case M.ADDPAIMAIITEMOK:this.AddBaiTanItemOk(e,t);break;case M.DELUSERSHOPITEM_OK:this.DelBaiTanItemOk(e,t);break;case M.DELUSERSHOPITEM_FAIL:this.DelBaiTanItemFail(e,t);break;case M.DELUSERSHOPITEM:this.DelUserShopItem(e,t);break;case M.DELREMOTEUSERSHOPITEM:this.DelRemoteUserShopItem(e,t);break;case M.SENDSHOPITEM:this.SendShopItem(e,t);break;case M.SENDCLOSESHOP:this.SendCloseShop(e,t);break;case M.SENDSHOPNAME:H.g_boOpenCaiji?this.SendBaiTanName_Caiji(e,t):this.SendBaiTanName(e,t);break;case M.BUYBAITANITEM:this.BuySomeItem(e,t);break;case M.SENDSUPERSHILEDEFFECT:this.Play_htsd(e);break;case M.QUERYUSERSHOPS:this.QueryShop(e,t);break;case M.QUERYSELECTSHOPINFO:this.QuerySelectShopInfo(e,t);break;case M.SEARCHSHOPITEMS:this.SearchShopItems(e,t);break;case M.QUERYUSERSHOPITEMS:this.QueryUserShopItems(e,t);break;case M.SENDBUYUSERSHOPITEM_OK:this.SendBuyUserShopItemOk(e,t);break;case M.SENDBUYUSERSHOPITEM_FAIL:this.SendBuyUserShopItemFail(e,t);break;case M.SENDMOVEMYSHOPITEM_OK:this.SendMoveMyShopItemOk(e,t);break;case M.SENDMOVEMYSHOPITEM_FAIL:this.SendMoveMyShopItemFail(e,t);break;case M.QUERYMYSHOPSELLINGITEMS:this.QueryMyShopSellingItems(e,t);break;case M.QUERYMYSHOPSELLEDITEMS:this.QueryMyShopSelledItems(e,t);break;case M.QUERYMYSHOPSTORAGEITEMS:this.QueryMyShopStorageItems(e,t);break;case M.SENDADDTOMYSHOP_OK:this.SendAddToMyShopOk(e,t);break;case M.SENDADDTOMYSHOP_FAIL:this.SendAddToMyShopFail(e,t);break;case M.SENDCHANGEMYSHOPITEM_OK:this.SendChangeMyShopItemOk(e,t);break;case M.SENDCHANGEMYSHOPITEM_FAIL:this.SendChangeMyShopItemFail(e,t);break;case M.DISAPPEAR:case M.HIDE:this.clientRecvHideMessage(e,t);break;case M.MOVEFAIL:this.clientRecvMoveFailMessage(e,t);break;case M.HEALTHSPELLCHANGED:this.clientRecvHealthSpellChanged(e,t);break;case M.BEAD:this.clientChangeBead(e,t);break;case M.ABILITY:this.clientRecvAbilityMessage(e,t);break;case M.POISON_DECHEALTH:this.PoisonDechealth(e,t);break;case M.POISON_DAMAGEARMOR:this.PoisonDamagearmor(e,t);break;case M.POISON_STONE:this.PoisonStone(e,t);break;case M.SUBABILITY:this.clientRecvSubAbilityMessage(e,t);break;case M.DAYCHANGING:this.clientChangeLightOnDay(e);break;case M.WEATHER:this.setWeatherEffect(e);break;case M.ADJUST_BONUS:this.updateRoleBaseAttri(e,t);break;case M.ITEMDESCLIST:this.clientRecvItemDescList(e,t);break;case M.LAMPCHANGEDURA:this.ChangeUseDura(e,t);break;case M.DURACHANGE:this.ChangeItemDura(e,t);break;case M.FLASHMISSIONBUTTON:break;case M.OPENMISSIONWINDOWEX:this.openmissonwindowex(e,t);break;case M.CLOSEMISSIONWINDOWEX:break;case M.MISSIONNPC:this.openDialog(e,t);break;case M.BLUEMISSIONLIST:this.bluemissionlist(e,t);break;case M.OPENMISSIONDLG:break;case M.MERCHANTSAY:console.log("调用open2Dialog"),this.open2Dialog(e,t);break;case M.NEWTASKLIST:this.newTaskList(t);break;case M.NEWTASKOPERATE:this.newTaskOperate(e,t);break;case M.SENDMAILSTATE:this.mailstate(e,t);break;case M.SENDUSERMAIL:this.getUserMail(e,t);break;case M.SENDUSERMAILCONTENT:this.getUserMailContent(e,t);break;case M.UPDATEUSERMAILITEM:this.getUserMailUpdate(e,t);break;case M.MAIL_OK:this.getMailOkCode(e);break;case M.MAIL_FAIL:this.getMailFailCode(e);break;case M.DELETEALLMAIL:this.deleteAllMail(e,t);break;case M.ADDNEWMAIL:this.addNewMail(e,t);break;case M.EXTENDBAGSLOT:this.updateExtendBagItemCount(e);break;case M.SENDUSEITEMS:this.clientGetSenduseItems(e,t);break;case M.DROPITEM_SUCCESS:this.clientRecvDropItemSucc(e,t);break;case M.DROPITEM_FAIL:this.clientRecvDropItemFail(e,t);break;case M.ITEMSHOW:this.clientRecvShowItemMsg(e,t);break;case M.ITEMHIDE:this.clientRecvHideItemMsg(e,t);break;case M.STORAGEVIEW:this.MsgDepotItems(e,t);break;case M.SM_STORAGEVIEWITEMLIST:this.StorageViewItemList(e,t);break;case M.SM_STORAGEPAGE_NOOPEN:console.log("请求可视化仓库分页返回的消息触发！！！！！！！！");break;case M.STORAGE_OK:console.log("仓库ok"),this.storaegMessage(e,t);break;case M.STORAGE_FAIL:console.log("仓库fail"),this.storaegMessage(e,t);break;case M.STORAGE_FULL:console.log("仓库full"),this.storaegMessage(e,t);break;case M.ADDMAGIC:this.AddMagicToRole(e,t);break;case M.SENDMYMAGIC:this.SelfMagicData(e,t);break;case M.FRIENDS:this.onFriendOption(e,t);break;case M.GETFRIENDINFO:this.onFriendInfo(e,t);break;case M.SENDMAGICLIST:this.MagicStaticList(e,t);break;case M.ABILITYALCOHOL:break;case M.BINDGOLDCHANGED:if(H.g_boOpenCaiji&&""!=t){e.record>H.g_bindCionNum.value&&1!=e.series?H.g_LogSocket.AddGameDataLog(13,"金币",e.record,"增加/绑定/"+N.DecodeString(t),e.record-H.g_bindCionNum.value):e.record<H.g_bindCionNum.value&&1!=e.series&&H.g_LogSocket.AddGameDataLog(13,"金币",e.record,"减少/绑定/"+N.DecodeString(t),e.record-H.g_bindCionNum.value);var I=k._MAKELONG(e.param,e.tag);H.g_bindGoldNum.value<I?H.g_LogSocket.AddGameDataLog(111,"元宝",e.record,"增加/绑定/"+N.DecodeString(t),I-H.g_bindGoldNum.value):H.g_bindGoldNum.value>I&&H.g_LogSocket.AddGameDataLog(111,"元宝",e.record,"减少/绑定/"+N.DecodeString(t),I-H.g_bindGoldNum.value)}var E=L.findobject(H.playerID);E&&(e.record>E.BindGold&&e.series,H.g_bindCionNum.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,2),H.g_bindGoldNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,4),T.raiseEvent(v.UPDATE_BAG),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM));break;case M.TRAININGNG:break;case M.DOUBLEEXP:H.m_DoubleExp=e.record;break;case M.CHANGEGUILDNAME:this.IsHaveGrild(e,t);break;case M.SPACEMOVE_HIDE:this.clientRecvSpaceMoveHideMsg(e);case M.SPACEMOVE_HIDE2:this.clientRecvSpaceMove2HideMsg(e);break;case M.SPACEMOVE_SHOW:case M.SPACEMOVE_SHOW2:case M.MAGSBYSSHOW:this.clientRecvSpaceMoveShowMsg(e,t);break;case M.CLEAROBJECTS:H.g_customSkillMove=!1;break;case M.AREASTATE:break;case M.LEVELUP:e.record;this.clientRecvlevelup(e,t);break;case M.HEAR:this.clientRecvActorSay(e,t);break;case M.WINEXP:this.clientRecvWinExp(e,t);break;case M.CUTE:this.clientRecvCuteMsg(e,t);break;case M.WINEEXP:this.clientRecvWineMagic(e,t);break;case M.GHOST:this.clientRecvHideMessage(e,t);break;case M.CRY:this.clientRecvPlayerTalkMsg(e,t,6);break;case M.GROUPMESSAGE:this.clientRecvPlayerTalkMsg(e,t,5);break;case M.GUILDMESSAGE:this.clientRecvPlayerTalkMsg(e,t,3);break;case M.WHISPER:this.clientRecvPlayerTalkMsg(e,t,2);break;case M.SYSMESSAGE:this.clientRecvPlayerTalkMsg(e,t,0);break;case M.MOVEMESSAGE:this.clientRecvMoveMessage(e,t);break;case M.DELAYMESSAGE:this.clientRecvDelayMsg(e,t);break;case M.CENTERMESSAGE:this.clientRecvCenterMsg(e,t);break;case M.TOPCHATBOARDMESSAGE:this.clientRecvMsgShowOnChatTop(e,t);break;case M.ADDITEM:this.clientRecvAddItemMessage(e,t);break;case M.BAGITEMS:this.clientRecvGetBagItmes(e,t);break;case M.SM_EXT_BAG_COUNT_CHANGE:this.processMessageExtBagCountChange(e,t);break;case M.EAT_OK:this.clientEatMsg(e,t,!0);break;case M.EAT_FAIL:this.clientEatMsg(e,t,!1);break;case M.DELITEM:this.clientRecvDelectItem(e,t);break;case M.DELETE_XUNBAOITEM:this.clientRecvDelectTreasureItem(e,t);break;case M.DELITEMS:this.clientRecvDelectItems(e,t);break;case M.SM_CLEAR_BAG_ITEMS:this.messageClearBagItems(e,t);break;case M.SENDGOODSLIST:this.ShopFormNpcItemList(e,t);break;case M.SENDDETAILGOODSLIST:this.ShopItemInfoList(e,t);break;case M.SENDREPAIRCOST:case M.SENDBUYPRICE:H.G_Show_Item_Price=e.record;break;case M.SENDUSEREFFECT:this.SendUserEffect(e,t);break;case M.SENDUSERADDEFFECT:this.SendUserAddEffect(e,t);break;case M.PLAYMAGICBALLEFFECT_GOM:this.SendUserAddEffectGom(e,t);break;case M.USERREPAIRITEM_FAIL:re.handlerAlert({type:1,content:"您不能修理此物品"});break;case M.TradingBUYITEM_SUCCESS:case M.BUYITEM_SUCCESS:if("1"==N.DecodeString(t).split(":")[0]){var f=L.findobject(H.playerID);f&&(f.BindGold=e.record)}else H.g_GameCionNum.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1);T.raiseEvent(v.UPDATE_BAG),T.raiseEvent(v.NPC_SHOP_BUYITEM_SUCCESS);break;case M.TradingSELLITEMS_RET:case M.BUYITEM_FAIL:this.BuyItemFailed(e,t);break;case M.SENDUSERREPAIR:this.EpairItem(e,t);break;case M.SENDUSERSELL:this.ShellItems(e,t);break;case M.USERREPAIRITEM_OK:H.g_GameCionNum.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1),null!=H.g_MoveItems.Items&&(re.handlerAlert({type:1,content:H.g_MoveItems.Items.s.Name+"  修复成功！！"}),Y.updateBagItemsDura(H.g_MoveItems.Items.MakeIndex,e.param,e.tag));break;case M.USERSELLITEM_OK:if(H.g_boOpenCaiji&&""!=t){var u=(t=N.DecodeString(t)).split("/"),p=u[0],S=u[1];if(H.g_WaitItems.Items){var h=H.g_WaitItems.Items.s.Name,A=H.g_WaitItems.Items.MakeIndex,b="非绑定物品";H.g_WaitItems.Items.s.IsBind&&(b="已绑定物品");var R="绑定";if(H.g_GameCionNum.value!=e.record){R="非绑定";var P="增加/非绑定/出售物品/NPC/"+p+"/"+h+"/"+A,U=S;H.g_LogSocket.AddGameDataLog(13,"金币",e.record,P,U)}var x=p,w=b+"/金币/1/"+S+"/"+R;H.g_LogSocket.AddGameDataLog(10,h,A,x,w)}}H.g_GameCionNum.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1),T.raiseEvent(v.UPDATE_BAG),T.raiseEvent(v.SCREEN_REFRESH_ITEMS);break;case M.USERSELLITEM_FAIL:re.handlerAlert({type:1,content:"当前物品无法出售！！！"}),null!=H.g_WaitItems.Items&&(B.addItemNewBag(H.g_WaitItems.Items),T.raiseEvent(v.SCREEN_ADD_ITEMS,H.g_WaitItems.Items),H.g_WaitItems.Items=null);break;case M.UPDATEITEM:this.clientRecvUpdateItem(e,t);break;case M.DELMAGIC:this.clientRecvDeleteMagic(e.record);break;case M.UPDATE_XUNBAOITEM:this.clientRecvUpdateItem(e,t);break;case M.SENDMAGICLIST:this.clientRecvMagicList(e,t);break;case M.DEALTRY_FAIL:this.dealtryFailHandle(e,t);break;case M.SENDSETTINGGEM_OK:this.setGem(e,t);break;case M.BOXITEM:this.boxitem(e,t);break;case M.SENDSETTINGGEM_FAIL:console.log("镶嵌宝石失败");break;case M.CREATEGROUP_OK:this.CreateTeamOk(e,t);break;case M.CREATEGROUP_FAIL:this.CreateTeamFaild(e,t);break;case M.REQUEST_GORUP_JOIN:this.gmRequestGroupJoinHandle(e,t);break;case M.GROUPMEMBERS:this.setTeamGroupList(e,t);break;case M.GROUPLIST:this.nearTeamListHandle(e,t);break;case M.GROUPAPPLY:this.applyTeamHandle(e,t);break;case M.GROUPAPPLY_FAIL:this.applyTeamFail(e,t);break;case M.GROUPACCEPT_FAIL:this.acceptTeamFail(e,t);break;case M.GROUPDELMEM_FAIL:this.DeleteTeamGroupItemFaild(e,t);break;case M.GROUPDELMEM_OK:this.DeleteTeamGroupItemOk(e,t);break;case M.GROUPMODECHANGED:this.ChangeTeamGroupState(e,t);break;case M.GROUPADDMEM_FAIL:this.AddTeamMemberFaild(e,t);break;case M.GROUPADDMEM_OK:this.AddTeamMemberOk(e,t);break;case M.GROUPCANCEL:this.ClearTeamGroupList(e,t);break;case M.DEALMENU:this.dealMenuHandle(e,t);break;case M.DEALADDITEM_FAIL:this.dealAddItemFailHandle(e,t);break;case M.DEALCHGGOLD_FAIL:this.dealChgGoldFailHandle(e,t);break;case M.DEALCHGGOLD_OK:this.dealChgGoldOkHandle(e,t);break;case M.DEALREMOTECHGGOLD:T.raiseEvent(v.SHOW_HUM_GOLD,e.record);break;case M.DEALADDITEM_OK:this.dealAddItemOkHandle(e,t);break;case M.DEALREMOTEADDITEM:this.dealRemoteAddItemHandle(e,t);break;case M.DEALDELITEM_FAIL:this.dealDelItemFailHandle(e,t);break;case M.DEALDELITEM_OK:this.dealDelItemOkHandle(e,t);break;case M.DEALREMOTEDELITEM:this.dealRemoteDelItemHandle(e,t);break;case M.DEALSUCCESS:Y.ShowJiaoYi(!1);break;case M.DEALCANCEL:this.dealCancelHandle(e,t);break;case M.SENGSHOPITEMS:this.ShopItemList(e,t);break;case M.BUYSHOPITEM_FAIL:this.BuyShopItemFailed(e,t);break;case M.SENTSHOPITEM_FAIL:this.GiftItemFailed(e,t);break;case M.OPENDOOR_OK:var W=new l(e.param,e.tag);B.getMapLayerScript().opendoor(W);break;case M.OPENDOOR_LOCK:this.clientRecvDoorLockMsg();break;case M.CLOSEDOOR:var K=new l(e.param,e.tag);B.getMapLayerScript().closedoor(K);break;case M.SENDUSERSTATE:this.LookAtUserState(e,t);break;case M.OPENGUILDINFO:this.OpenGuildInfo(e,t);break;case M.GUILDMAKEALLY_FAIL:this.GuildOptFaild(e,t);break;case M.OPENGUILDDLG_FAIL:re.handlerAlert({type:1,content:"打开行会界面失败"});break;case M.GUILDBREAKALLY_FAIL:this.GuildFialdFail(e,t);break;case M.SENDGUILDMEMBERLIST:this.guildMemberList(e,t);break;case M.GUILDADDMEMBER_OK:G.guildMemberList();re.handlerAlert({type:1,content:"加入行会成功！"});break;case M.GUILDADDMEMBER_FAIL:var z="";1==e.record?z="你没有权利使用这个命令。":2==e.record?z="想加入进来的成员应该来面对掌门人。":3==e.record?z="对方已经加入我们的行会。":4==e.record?z="对方已经加入其他行会。":5==e.record?z="对方不允许加入行会。":6==e.record?z="行会成员已经满员。":7==e.record&&(z="不同国家禁止加入行会。"),re.handlerAlert({type:1,content:z});break;case M.GUILDDELMEMBER_OK:C.getInstance().sendGuildMemberList();break;case M.GUILDRANKUPDATE_FAIL:var j="";-2==e.record?j="掌门人位置不能为空。":-3==e.record?j="新的行会掌门人已经被传位。":-4==e.record?j="一个行会最多只能有二个掌门人。":-5==e.record?j="掌门人位置不能为空。":-6==e.record?j="不能添加成员/删除成员。":-7==e.record&&(j="职位重复或者出错。"),re.handlerAlert({type:1,content:j});break;case M.GUILDDELMEMBER_FAIL:this.guildDelMemberFail(e);break;case M.TAKEON_OK:this.clientRecvTakeOnOk(e,t);break;case M.TAKEON_FAIL:this.clientRecvTakeFailMsg(e,t);break;case M.TAKEOFFITEM:var J=H.g_UserItemList[e.param];H.g_UserItemList[e.param]=null,T.raiseEvent(v.SHOW_ITEM_ICO,e.param),e.param>=18&&e.param<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS),4==e.param&&T.raiseEvent(v.SHOW_ITEM_ICO,13),J&&y.removeAniname("bodyeffect"+J.MakeIndex),H.g_WaitItems.Items=null,H.MainScene.instanceOfMem("ShousWin")&&T.raiseEvent(v.UPDATE_SHENGXIAO,H.g_UserItemList),H.MainScene.instanceOfMem("ShouShiWin")&&T.raiseEvent(v.SHOW_SHOUSHI_BOX,H.g_UserItemList);break;case M.TAKEOFF_OK:this.clientRecvTakeOffMsg(e,t);break;case M.TAKEOFF_FAIL:null==H.g_takeoffData.index||H.g_UserItemList[H.g_takeoffData.index]||(H.g_UserItemList[H.g_takeoffData.index]=H.g_takeoffData.item,H.g_takeoffData.index=null,H.g_takeoffData.item=null),this.clientRecvTakeOffFail(e,t);break;case M.SHOWEVENT:case M.SHOWEVENTEX:this.showmapevent(e,t);break;case M.HIDEEVENT:this.hidemapevent(e,t);break;case M.MAGICFIRE:this.magicfire(e,t),H.g_boMagicGood=!0;break;case M.MAGICFIRE_FAIL:this.magicfirefail(e,t),H.g_boMagicGood=!1;break;case M.CHANGEFACE:this.changeface(e,t);break;case M.READMINIMAP_OK:this.readminimapok(e,t);break;case M.READMINIMAP_FAIL:this.readminimapfail(e,t);break;case M.GOLDCHANGED:if(H.g_boOpenCaiji&&""!=t){e.record>H.g_GameCionNum.value?H.g_LogSocket.AddGameDataLog(13,"金币",e.record,"增加/非绑定/"+N.DecodeString(t),e.record-H.g_GameCionNum.value):e.record<H.g_GameCionNum.value&&H.g_LogSocket.AddGameDataLog(13,"金币",e.record,"减少/非绑定/"+N.DecodeString(t),e.record-H.g_GameCionNum.value);var V=k._MAKELONG(e.param,e.tag);H.g_GameGoldNum.value<V?H.g_LogSocket.AddGameDataLog(111,"元宝,",e.record,"增加/非绑定/"+N.DecodeString(t),V-H.g_GameGoldNum.value):H.g_GameGoldNum.value>V&&H.g_LogSocket.AddGameDataLog(111,"元宝",e.record,"减少/非绑定/"+N.DecodeString(t),V-H.g_GameGoldNum.value)}e.record>H.g_GameCionNum.value&&T.raiseEvent(v.SHOW_LOG,[{color:"#00ff00",txt:"已获得"+(e.record-H.g_GameCionNum.value)+H.g_GameCionNum.key}]),H.g_GameCionNum.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1),H.g_GameGoldNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,3),T.raiseEvent(v.UPDATE_BAG),H.CurScene.updateShowGold();break;case M.WEIGHTCHANGED:var X=L.findobject(H.playerID);X&&X.m_Abil&&(X.m_Abil.Weight=e.record,X.m_Abil.WearWeight=e.param,X.m_Abil.WearWeight=e.tag,T.raiseEvent(v.UPDATE_ROLE_ATTRI),T.raiseEvent(v.UPDATE_BAG_INFO),T.raiseEvent(v.UPDATE_BAG));break;case M.LEGTZLIST:this.GetLegTZList(e,t);break;case M.OPENBIGMERCHANTBIGDLG:console.log("调用GetNpcWindows"),this.GetNpcWindows(e,t);break;case M.SM_ADDDLG:this.addDlg(e,t);break;case M.SM_DELDLG:this.delDlg(e,t);break;case M.CLOSEBIGMERCHANTBIGDLG:console.log("服务端发消息主动关闭npcwin"),re.checkAndDestroyNewNpcWin();break;case M.EFFECTIMAGELIST:this.GetPakList(e,t);break;case M.SM716:this.clientRecv716(e);break;case M.LIGHTINGEX:this.clientRecvLightingEX(e,t);break;case M.SENDACTORBUFFS:break;case M.MENU_OK:this.ShowMessageDLG(e,t);break;case M.REDPACK:this.GetRedPack(e,t);break;case M.OpenRedPac:this.GetRedPackinf(e,t);break;case M.BUILDGUILD_OK:this.clientRecvbuildok(e,t);break;case M.BUILDGUILD_FAIL:this.clientRecvbuildfail(e,t);break;case M.CLOSECLIENTBUFF:this.clientclosebuff(e,t);break;case M.ZHAOMU:this.getzhaomupay(e,t);break;case M.SHOWBOX:this.OpenBox(e,t);break;case M.OPENBOX_FAIL:T.raiseEvent(v.GAME_DLG_CMD,{id:"openbox_fail"}),re.handlerAlert({type:1,content:"缺少宝箱钥匙！"});break;case M.OPENBOX_SUCCESS:this.OpenBoxSuccess(e,t);break;case M.SENDGETBOXITEMINDEX:this.GetBoxItemIndex(e);break;case M.FISHMESSAGE:this.GetFishInfo(e,t);break;case M.MERCHANTDLGCLOSE:re.checkAndDestroyNewNpcWin();break;case M.CORRECTPOINT:this.correctpoint(e);break;case M.BREAKWEAPON:this.breakweapon(e,t);break;case M.STOPBAITAN:H.g_boOpenCaiji?this.StopMyShop_Caiji(e,t):Y.stopMyShop();break;case M.TAKEONITEM:this.GameTakeAotoOnItem(e,t);break;case M.SENDUSERICONGIF:this.HumIcon(e,t);break;case M.AUTOGOTOXY:this.xunlu(e,t);break;case M.OPENHEALTH:this.openhealth(e,t);break;case M.CUSTOMBUTTON:break;case M.SENDH5CODE:H.game_scene_code=e.record;break;case M.SOFTCLOSE:T.raiseEvent(v.GAME_DLG_CMD,{id:"exit_to_role"}),clearTimeout(this.onAssetsDestroyId);break;case M.SENDWEBBROWSER:this.getMoneyPay(t);break;case M.LUASOCKET:146==e.param&&this.getSuitInfo(t);break;case M.OPENUPGRADEDLG:this.openDLG(t,e.record);break;case M.PACKAGEITEM_OK:this.packageitemok(e,t);break;case M.PACKAGEITEM_FAIL:this.packageitemfail(e,t);break;case M.PLAYDICE:this.playDice(e,t);break;case M.SM_HEROLOGON:var Q=t.slice(0,20),q=N.fnDecode6BitBuf(Q,Q.length),$=O.TMessageBodyWL(q.pszDest).lParam1,ee=t.slice(27,t.length),te=N.fnDecode6BitBuf(ee,256),ae=O.TFeature($,te.pszDest),ne=L.findobject(e.record);ne&&(ne.data.fea=ae,y.playframe(!0,ne.node,"data/effect/",770,789,30,!1,!0));break;case M.SM_HEROLOGOUT:var ie=L.findobject(e.record);ie&&y.playframe(!0,B.getMapLayerNode(),"data/effect/",800,819,30,!1,!0,c(48*ie.grid.x,32*-ie.grid.y));break;case M.SM_HEROLOGON_OK:var se=(t=N.DecodeString(t)).split("\\");se[0]&&(H.g_HeroLoyalPoint=se[0]),T.raiseEvent(v.HEROCALL_OK,[e,t]),H.g_myHero&&H.g_myHero.m_Abil&&T.raiseEvent(v.UPDATE_HERO_INFO,H.g_myHero.m_Abil);break;case M.SM_HEROLOGOUT_OK:H.g_HeroBagItemsList=[],T.raiseEvent(v.HEROEXIT_OK);break;case M.SM_HEROLOYAL:this.getHeroLoyaPoint(e,t);break;case M.SM_HEROANGERVALUE:H.g_myHero&&(H.g_myHero.AngryValue=e.param,H.g_myHero.AngryValueMax=e.tag,T.raiseEvent(v.UPDATE_ANGRYVALUE));break;case M.SM_HEROABILITY:this.getHeroAbil(e,t);break;case M.SM_HEROSUBABILITY:H.g_nHeroHitPoint=k._LOBYTE(e.param),H.g_nHeroSpeedPoint=k._HIBYTE(e.param),H.g_nHeroAntiPoison=k._LOBYTE(e.tag),H.g_nHeroPoisonRecover=k._HIBYTE(e.tag),H.g_nHeroHealthRecover=k._LOBYTE(e.series),H.g_nHeroSpellRecover=k._HIBYTE(e.series),H.g_nHeroAntiMagic=k._LOBYTE(k._MAKELONG(e.record));N.DecodeString(t);break;case M.SM_SENDHEROUSEITEMS:this.getHeroItems(e,t);break;case M.SM_SENDMYHEROMAGIC:this.getHeroSkill(e,t);break;case M.SM_HEROADDMAGIC:H.g_myHero&&this.addHreroSkill(e,t);break;case M.SM_HERODELMAGIC:H.g_myHero&&this.delHreroSkill(e.record);break;case M.SM_HEROMAGIC_LVEXP:H.g_myHero&&this.UpdateHeroMagicData(e);break;case M.SM_HEROLEVELUP:H.g_myHero&&H.g_myHero.m_Abil&&(this.HeroLevelup(e),T.raiseEvent(v.UPDATE_HERO_INFO,H.g_myHero.m_Abil));break;case M.SM_HEROWINEXP:H.g_myHero&&H.g_myHero.m_Abil&&(0==e.series&&(H.g_myHero.m_Abil.Exp=e.record),H.g_myHero&&H.g_myHero.m_Abil&&T.raiseEvent(v.UPDATE_HERO_INFO,H.g_myHero.m_Abil));break;case M.SM_HEROBAGCOUNT:H.g_HeroBagNum=e.param;break;case M.SM_HEROBAGITEMS:H.g_myHero&&this.getHeroBagItems(e,t);break;case M.SM_HEROTAKEON_OK:H.g_myHero&&this.heroTakeOn(t),G.QueryHeroBagItems();break;case M.SM_HEROTAKEON_FAIL:G.QueryHeroBagItems();break;case M.SM_HEROTAKEOFF_OK:H.g_myHero&&null!=H.g_WaitItems.Items&&(H.g_HeroItemList[H.g_WaitItems.Index]=null,T.raiseEvent(v.SHOW_HEROITEM_ICO,H.g_WaitItems.Index),4==H.g_WaitItems.Index&&T.raiseEvent(v.SHOW_HEROITEM_ICO,13),H.g_WaitItems.Items=null,T.raiseEvent(v.UPDATEHERONEWDRESS),G.QueryHeroBagItems());break;case M.SM_HEROTAKEOFF_FAIL:break;case M.SM_MASTERBAGTOHEROBAG_OK:G.QueryHeroBagItems();break;case M.SM_MASTERBAGTOHEROBAG_FAIL:case M.SM_HEROBAGTOMASTERBAG_OK:break;case M.SM_HEROBAGTOMASTERBAG_FAIL:G.QueryHeroBagItems();break;case M.SM_HEROADDITEM:H.g_myHero&&this.heroBagAddItem(e,t);break;case M.SM_HERODELITEM:H.g_myHero&&this.heroDelectItem(e,t);break;case M.SM_HEROUPDATEITEM:if(""!=t){var ce=N.fnDecode6BitBuf(t,t.length,!1),le=O.TClientItem(ce.pszDest);B.updateHeroItems(le)}break;case M.SM_HERODROPITEM_SUCCESS:H.g_myHero&&this.heroDropSuccess(e,t);break;case M.SM_HERODROPITEM_FAIL:H.g_myHero&&this.heroDropfail(e,t);break;case M.SM_HEROEAT_OK:H.g_WaitItems.Items&&!Y.heroAutounpack(2,H.g_WaitItems.Items.s.Name,H.g_WaitItems.Items.s.AniCount)&&(H.g_WaitItems.Items=null,H.g_DrugButNumber=-1);break;case M.SM_HEROEAT_FAIL:H.g_WaitItems.Items&&B.heroAddItem(H.g_WaitItems.Items),H.g_WaitItems.Items=null;break;case M.SM_HERODELITEMS:H.g_myHero&&this.heroDropItem(e,t);break;case M.HEROABILITYNG:case M.HEROABILITYALCOHOL:case M.HEROABILITYMERIDIANS:case M.SM_HEROCHANGEITEM:break;case M.SM_HERODURACHANGE:H.g_myHero&&H.g_HeroItemList[e.param]&&(H.g_HeroItemList[e.param].Dura=e.record,H.g_HeroItemList[e.param].DuraMax=k._MAKELONG(e.tag,e.series));break;case M.SM_HEROWEIGHTCHANGED:this.getHeroBagWeightChange(e);break;case M.SM_HEROPACKAGEITEM_OK:this.heropackageitemok(e,t);break;case M.SM_HEROPACKAGEITEM_FAIL:this.heropackageitemfail(e,t);break;case D.QUICKTAB:break;case M.USERICONLIST:this.MakeIcon(t,e);break;case M.SENDUSERICON:this.SendSetUserICON(t,e);break;case M.BIGDATA:this.NewMakeNpc(t,e);break;case M.OPENITEMBOXEX:this.OpenBoxEX(t,e);break;case M.UPDATECOLLECT:this.updateCollect(e,t);break;case M.DELBOXITEM:this.delBoxItem(e);break;case M.RETURNBOXITEM:this.returnBoxItem();break;case M.UPDATEBOXITEM:this.updateBoxItem(e,t);break;case M.moveToItemBoxOk:console.log("放入itembox成功");break;case M.moveToItemBoxFail:console.log("放入itembox失败");break;case M.moveToBagOk:console.log("取回itembox成功");break;case M.moveToBagFail:console.log("取回itembox失败");break;case M.CJ:this.SM_Caiji(t,e);break;case M.GIVEBOXITEM:this.giveBoxItem(e);break;case M.TAKEBOXITEM:this.takeBoxItem();break;case M.API_GETITEM:if(""!=t){var me=N.fnDecode6BitBuf(t,t.length,!1),_e=O.TClientItem(me.pszDest);console.log("API_GETITEM:",_e),T.raiseEvent(v.API_SENDITEM,_e)}break;case M.SENDNEWLINEMSG:this.sendNewLineMsg(t,e);break;case M.DELETEDELAYMESSAGE:var Ie=o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("Toast");if(Ie)if(Ie.children.length>0){for(var Ee=0;Ee<Ie.children.length;Ee++)Ie.children[Ee].msgId==e.record&&(Ie.children[Ee].destroy(),Ie.children[Ee].setParent=null);0==Ie.children.length&&Ie.destroy()}else Ie.destroy();break;case M.SELLOFFITEM:Y.showScreen(!0,0,13);break;case M.SELLITEM_OK:break;case M.SELLITEM_FULL:H.g_WaitItems.Items&&B.selfAddItem(H.g_WaitItems.Items),H.g_WaitItems.Items=null,re.handlerAlert({type:1,content:"您的寄售物品数量已满，不能再寄售其他物品了。"});break;case M.SELLITEM_FAIL:H.g_WaitItems.Items&&B.selfAddItem(H.g_WaitItems.Items),H.g_WaitItems.Items=null,re.handlerAlert({type:1,content:"此物品不能寄售。"});break;case M.SENDSELLITEMSLIST:this.TranslateItemList(e,t);break;case M.GETSELLOFFDETAILITEM:this.saleItemList(e,t);break;case M.BUYSELLOFFTEM_OK:T.raiseEvent(v.UPDATE_BAG),T.raiseEvent(v.NPC_SALE_BUYITEM_SUCCESS);break;case M.BUYSELLOFFTEM_FAIL:re.handlerAlert({type:1,content:"您无法购买寄售物品。"});break;case M.BUYSELLOFFTEM_FULLBAG:re.handlerAlert({type:1,content:"您无法携带更多物。"});break;case M.SENDH5TOPEFFECT:e.record>9?T.raiseEvent(v.OTHERBTNHANDLER,[e.record,e.param,e.series]):T.raiseEvent(v.TOPEFFECT,[e.record,e.param,e.series]);break;case M.AUTOPICKUPITEMS:this.autoPickItems(e);break;case M.GETBACKPASSWD_SUCCESS:T.raiseEvent(v.FINDPASWORD_S,t);break;case M.GETBACKPASSWD_FAIL:switch(e.series){case 0:re.handlerAlert({type:1,content:"游戏账号不存在。"});break;case-1:case-3:re.handlerAlert({type:1,content:"密码保护资料或生日不正确。"});case-4:re.handlerAlert({type:1,content:"服务器已关闭密码找回服务。"})}break;case M.NEEDUPDATE_ACCOUNT:T.raiseEvent(v.DUPDATE_ACCOUNT);break;case M.UPDATEID_SUCCESS:re.handlerAlert({type:1,content:"您的帐号信息更新成功。\r\n请妥善保管您的帐号和密码。\r\n并且不要因任何原因把帐号和密码告诉任何其他人。\r\n如果忘记了密码，你可以通过我们的主页重新找回。"});break;case M.UPDATEID_FAIL:re.handlerAlert({type:1,content:"更新账号失败。"});break;case M.ITEMSCORE:this.ItemScore(e,t);break;case M.SERVERCLOSE:var fe="";if(1==e.record?fe="服务器连接异常":2==e.record?fe="用户已满":3==e.record?fe="被服务器踢":4==e.record?fe="用户断线重连超时":5==e.record?fe="验证码错误":6==e.record&&(fe="网关重启"),1==e.record||2==e.record||3==e.record){console.log("服务端主动断开，不执行重登"),de.activeClose();re.checkAndDestroyNewNpcWin(),re.deleteAlertWin(),H.CurScene.disconnectionAniCrl(0),re.handlerAlert({type:1,content:"服务器断开连接，点击确定返回登录界面",sF:function(){o.loadScene("LoginScene")}})}else console.log("连接异常需重登"),de.activeClose((function(){G.clsocket=null,de._socket=null,console.log("主动断开gamesocket成功"),H.isForeground?(console.log("前台直接进行重登"),B.reLogin()):(H.readyRelogin=!0,console.log("后台不执行重登，回到前台后通过监听自动进行重登"))}));console.log("SERVERCLOSE:"+fe);break;case M.SENDTICKCOUNT:0!=e.param&&(H.g_tick_check=!0,0!=H.g_tick_rate&&H.g_tick_rate-e.param*H.g_tick_ct>=8?re.handlerAlert({type:6,content:"非法加速！！"}):H.g_tick_ct++,H.g_tick_rate>=100&&(H.g_tick_rate=0,H.g_tick_ct=1));break;case M.HIT_FAIL:case M.SM_ATTACK_MISS:this.onHitFail();break;case M.SM_ATTACK01:case M.SM_ATTACK02:case M.SM_ATTACK03:case M.SM_ATTACK04:case M.SM_ATTACK05:case M.SM_ATTACK06:this.gxxCustomAttack(e,t);break;case M.MOVEUPMESSAGE:this.superMoveMsg(e,t);break;case M.OVERLAPDRUG_OK:H.g_BagItemsList[H.g_WaitItems.Index]=null;break;case M.OVERLAPDRUG_FAIL:G.QueryBagItems(),T.raiseEvent("updateItemByIndex",H.g_WaitItems.Index);break;case M.OVERLAPITEM_OK:H.g_BagItemsList[H.g_WaitItems.Index]=null;break;case M.OVERLAPITEM_FAIL:T.raiseEvent("updateItemByIndex",H.g_WaitItems.Index);break;case M.HEROOVERLAPITEM_OK:H.g_HeroBagItemsList[H.g_WaitItems.Index]=null;for(var pe=0;pe<H.g_HeroBagItemsList.length;pe++)null==H.g_HeroBagItemsList[pe]&&(H.g_HeroBagItemsList.splice(pe,1),H.g_HeroBagItemsList.push(null));H.g_OpenHeroBag&&T.raiseEvent(v.SHOW_HEROBAG_ITEM_ICO),T.raiseEvent(v.SCREEN_REFRESH_SEARCHITEMS);break;case M.HEROOVERLAPITEM_FAIL:break;case M.OPENUPGRADEDIALOG:this.openUpgrade();break;case M.SENDUPGRADEDIALOG_OK:var Se=N.fnDecode6BitBuf(t,t.length,!1),he=O.TClientItem(Se.pszDest);T.raiseEvent(v.UPGRADEOK,he);break;case M.SENDUPGRADEDIALOG_FAIl:T.raiseEvent(v.UPGRADEFAILD,[e,t]);break;case M.GETITEMINFO:this.getItemInfo(e,t);break;case M.TZDESCLIST:this.getGomList(t);break;case M.H5FUNCBTN:this.makeH5scrpt(e,t);break;case D.TK_TICKTIME:console.log("ping值计算：接收服务端发来的回应"),de.timeStampForSandBox(),this.TK_DELAY_TIME=0;var Ae=(new Date).getTime()-H.DELAY_TIMEe;H.DELAY_TIMEe=(new Date).getTime(),this.TK_TICKTIME_TIME=H.DELAY_TIMEe,0==this.TK_CHEKTIME_TAG&&(this.TK_CHEKTIME_TAG=!0,setInterval((function(){a.checkOverTimeTK()}),100)),T.raiseEvent(v.DELAY_TIME,Ae),de.heartBeat();break;case M.NEWGUILD:H.g_relevel=e.series;break;case M.IS_FALSE_ARTICLE:0==e.param&&0!=e.record&&Z.getInstance().DelItemFromMap(e.record);break;case M.OFFLINETIME:console.log("MsgSM.OFFLINETIME:"+e.record),H.g_overtime=e.record/1e3;break;case M.PLAYSOUND:case M.PLAYMUSIC:this.playSoundScript(e,t);break;case D.GDY_MSG:this.alertMessageGDY(e,t);break;case M.BUYCRISTAL:if(1==e.record){var Te=N.DecodeString(t);re.handlerAlert({type:1,content:"冶炼米粒成功，请等待米粒钱包通信完成后查看账户！"}),T.raiseEvent(v.UPDATE_CQBINFO,[Te,1])}else 2==e.record&&re.handlerAlert({type:1,content:"冶炼米粒失败！"});break;case M.SELLCRISTAL:if(1==e.record){var ve=N.DecodeString(t);re.handlerAlert({type:1,content:"兑换金刚石成功，请等待米粒钱包通信完成后查看账户！"}),T.raiseEvent(v.UPDATE_CQBINFO,[ve,2])}else 2==e.record&&re.handlerAlert({type:1,content:"兑换金刚石失败！"});break;case M.CRISTALINFO:H.g_crystalInfo=t,T.raiseEvent(v.UPDATE_CRYSTAL,[H.g_crystalInfo]),console.log("水晶平台信息：",H.g_crystalInfo);break;case M.OPENCRISTALFORM:var Me=r("Canvas/UIBox/CrystalBg");Me?Me.getComponent(ge).openWin():n.load("prefab/crystal/CrystalBg",i,(function(e,t){if(e)console.log(e);else{var a=r("Canvas/UIBox"),n=s(t);a&&(n.setParent(a),n.setSiblingIndex(a.children.length-1))}})),C.getInstance().sendCqbInfo();break;case M.OPENNEWGUI:this.openNewGUI(e,t);break;case M.NEWGUIITEMSHOW:this.getFleixbleItemShow(e,t);break;case M.UPDATEITEMSCORE:if(""!=t){var De=N.fnDecode6BitBuf(t,t.length),Oe=O.TClientItemItemScore(De.pszDest);Oe&&H.g_EquipScoreExList.push(Oe)}break;case M.ITEMSCORETEXT:var Le=N.zDecodeString(t);H.g_EquipScoreList=Le.split("\r");break;case M.SENDGUILDCREATESTUFF:var be=N.DecodeString(t);T.raiseEvent(v.UPDATE_CREATGUILD,be);break;case M.SENDLEAVEGUILD:var Ne=H.MainScene.instanceOfMem("GuildWin");Ne&&Ne.destroy(),H.G_Guald_Last_Name="";break;case M.NEWCHARSTATUSCHANGED:for(var ke=e.record,Ce=(e.series,N.fnDecode6BitBuf(t,t.length).pszDest),Ge=[],ye=0,Re=0;Re<32;Re++)Ge[Re]=[],Ge[Re][0]=Ce[ye++]|Ce[ye++]<<8|Ce[ye++]<<16|Ce[ye++]<<24,Ge[Re][1]=Ce[ye++]|Ce[ye++]<<8,Ge[Re][2]=Re,ye+=2;e.ident,k._MAKELONG(e.param,e.tag);var He=L.findobject(ke);He&&(He.buff_list=Ge,He.buff_time=(new Date).getTime(),He.isNewBuff=!0,H.g_buffOnwerId==ke&&T.raiseEvent(v.UPDATEBUFFINFO,ke));break;case M.REFRESHVIEWRANGE:Z.getInstance().DelItemFromMap(),T.raiseEvent(v.DELETE_MAP_ITEMS,[1]);break;case M.HERO_CREATE:this.createWujiangHandle(e,t);break;case M.HEROLIST:this.heroListHandle(e,t);break;case M.ARMY_FIGHT_ONOFF_ALL:if(t){var Be=JSON.parse(N.DecodeString(t));console.log(Be),T.raiseEvent(v.HERO_FIGHT_ONOFF,Be)}else re.handlerAlert({type:1,content:"召唤失败, 请重试!"});break;case M.ARMY_ATTR:var Pe={itemArr:[],skillArr:[],attri:null};if(t){var Ue=t.split("/");if(!Ue[0])return;for(var xe=Ue[0],we=N.fnDecode6BitBuf(xe,xe.length,!1),We=new Zlib.Inflate(we.pszDest).decompress(),Fe=0;Fe<e.param;Fe++){var Ye=B.slice(We,H.g_itemSize*Fe,H.g_itemSize*(Fe+1)),Ke=O.TClientItem(Ye);Pe.itemArr.push(Ke)}if(!Ue[1])return;for(var ze=Ue[1],je=N.fnDecode6BitBuf(ze,ze.length,!1),Je=new Zlib.Inflate(je.pszDest).decompress(),Ve=0;Ve<e.tag;Ve++){var Xe=B.slice(Je,172*Ve,172*(Ve+1)),Ze=O.TClientMagic(Xe);Pe.skillArr.push(Ze)}if(!Ue[2])return;Pe.attri=JSON.parse(N.zDecodeString(Ue[2])),T.raiseEvent(v.ARMY_ATTR,Pe)}else re.handlerAlert({type:1,content:"获取英雄信息失败, 请重试!"});break;case M.ARMY_TAKEONOFF_ITEM:if(t){var Qe=Number(N.DecodeString(t)),qe={reqS:e.param,respS:e.tag,itemId:e.record,armyID:Qe};console.log("arg ---\x3e>> ",qe),T.raiseEvent(v.ARMY_TAKEONOFF_ITEM,qe)}else console.log("bodystr null");break;case M.ARMY_TAKEON_ITEM_LIST:if(t){console.log(e);for(var $e=t.split("|"),et=[],tt=0;tt<$e.length-1;tt++){var at={itemArr:[],skillArr:[],attri:null,armyID:null},rt=$e[tt].split("/"),nt=Number(rt[0]);at.itemArr=this.analysisItemsHandle(rt[1],nt);var it=Number(rt[2]);at.skillArr=this.analysisSkillsHandle(rt[3],it),rt[4]&&(at.attri=JSON.parse(N.zDecodeString(rt[4]))),rt[5]&&(at.armyID=JSON.parse(rt[5])),rt&&et.push(at)}T.raiseEvent(v.ARMY_TAKEON_ITEM_LIST,et),et=[]}break;case M.ARMY_PROPERTY_CHANGE:var st=t.split("|"),ot={attri:JSON.parse(N.zDecodeString(st[0])),armyID:JSON.parse(st[1])};T.raiseEvent(v.ARMY_PROPERTY_CHANGE,ot);break;case M.ARMY_MATERIAL_LIST:this.heroArmyMaterialListHandle(t);break;case M.ARMY_MATERIAL_SPECIAL:this.heroArmyMaterialSpecialHandle(e,t);break;case M.ARMY_MATERIAL_LEVEL:this.heroArmyMaterialLevelHandle(e,t);break;case M.ARMY_MATERIAL_MOVE:this.heroArmyMaterialMoveHandle(e,t);break;case M.HERO_TREASURE_FIND_LIST:this.heroTreasureFindListHandle(e,t);break;case M.HERO_TREASURE_WAREHOUSE_LIST:this.heroTreasureWarehouseListHandle(e,t);break;case M.HERO_TREASURE_FIND_EXCHANGE:this.heroTreasureFindExchangeHandle(e,t);break;case M.HERO_TREASURE_SOCRE_LIST:this.heroTreasureScoreListHandle(e,t);break;case M.HERO_TREASURE_WAREHOUSE_ONKEY_GET:this.heroTreasureWarehouseGetHandle(e,t);break;case M.HERO_TREASURE_SCORE_EXCHANGE:this.heroTreasureScoreExchangeHandle(e,t);break;case M.COMBATPOWER:H.powerNum=e.record,T.raiseEvent(v.UPDATE_POWERNUM,e.record);break;case M.SENDCUSTOMMONSTERCONFIG:this.customMonsterConfig(e,t);break;case M.DIYMAGIC:this.makeDiyMagicInfo(e,t);break;case M.SM_OPENGUILDADDDLG:console.log("msg.record=",e.record),console.log("bodystr=",t),this.openWorldGuild(e,t);break;case M.SM_SENGSHOPITEMS:this.ShopItemList(e,t);break;case M.SM_SENGRANKING:console.log("msg.record=",e.record),console.log("bodystr=",t),this.testRank(t,e.record);break;case M.GXX_SERVERCONFIG:this.GXXGetServerConfig(e,t);break;case M.GXX_GAMEGOLDNAME:this.GXXclientGetGameGoldName(e,t);break;case M.GXX_GAMEPOINTNAME:this.GXXclientGetNewGamePointName(e,t);break;case M.GXX_OPENBIGMERCHANTBIGDLG:this.GXXGetNpcWindows(e,t);break;case M.SM_GUILDGETJOINUSERLIST:this.guildGetJoinUserList(e,t);break;case M.SM_GUILDJOINCONDITION:this.openGuild(e,t);break;case M.ACTION_RET:this.actionRet(e,t);break;case M.OPENGUILDDLG:this.gxxOpenGuildDlg(e,t);break;case M.SM_UPDATEITEM_DURA:this.test(e.record,t);break;case M.SM_GUILDADDATTENTION_RET:this.guildAddAttentionRet(e,t);break;case M.SM_GUILDDELATTENTION_RET:this.guildDelAttentionRet(e,t);break;case M.SM_GUILDREQUESTALLY_RET:this.guildRequestAllyRet(e,t);break;case M.SM_GUILDUNALLY_RET:this.guildUnAllyRet(e,t);break;case M.SM_GUILDVIEWMEMBERINFO_RET:this.guildViewMemberInfoRet(e,t);break;case M.STDITEMLIST:this.GetNpcItemShow(e,t);break;case M.SM_RESPONSESTDITEM:this.npcItemDetailHandle(e,t);break;case M.SENDITEMDESCLIST:this.getItemDescList(e,t);break;case M.SENDTZITEMDESCLIST:this.getTzItemDescList(e,t);break;case M.SENDFILTERITEMLIST:this.getFilterItemList(e,t);break;case M.SM_TAKEONGODBLESSITEM_OK:this.godBlessTakeOnOk(e,t);break;case M.SM_TAKEONGODBLESSITEM_FAIL:this.clientRecvTakeFailMsg(e,t);break;case M.SM_UPDATEGODBLESS:this.updateGodBless(e,t);break;case M.SM_TAKEOFFGODBLESSITEM_OK:this.takeOffGodBlessItemOK(e,t);break;case M.SM_TAKEOFFGODBLESSITEM_FAIL:this.clientRecvTakeOffFail(e,t);break;case M.SENDDROPITEMEFFECTLIST:this.getDropItemEffectList(e,t);break;case M.SM_UPDATEFENGHAOITEMS:this.updateFengHaoItems(e,t);break;case M.SM_ACTIVEFENGHAOITEM:this.acitveFengHaoItem(e,t);break;case M.SM_SENDCUSTOMNPCCONFIG:this.setCustomNpcConfig(e,t);break;case M.SM_SENDUSERSTATE_FENGHAO:this.sendUserStateFengHao(e,t);break;case M.SM_FEATURECHANGED_NEW:this.clientChangeRoleFeature(e,t);break;case M.SM_GUILD_DEL_MEMBER_EX_RET:this.guildDelMemberExRet(e,t);break;case M.SM_GUILDACCEPTUSERJOIN_OK:this.guildAcceptUserJoinOK(e,t);break;case M.SM_GUILDACCEPTUSERJOIN_FAIL:this.guildAcceptUserJoinFail(e,t);break;case M.SM_GUILDUSERJOIN_OK:this.guildreUserJoinOK(e,t);break;case M.SM_GUILD_MEMBER_MOVE_TO_RANK_RET:this.guildMemberMoveToRankRet(e,t);break;case M.SM_GUILD_ADD_GUILDWAR_RET:this.guildAddGuildWarRet(e,t);break;case M.SM_GUILDJOINTO_OK:this.guildJoinToOK(e,t);break;case M.SM_GUILDJOINTO_FAIL:this.guildJoinToFail(e,t);break;case M.SM_GUILDCANCELJOINTO_OK:this.cancelGuildJoinToOK(e,t);break;case M.SM_GUILDCANCELJOINTO_FAIL:this.cancelGuildJoinToFail(e,t);break;case M.SM_GUILDVIEWJOINCONDITION:this.guildViewJoinCondition(e,t);break;case M.SM_GUILDVIEWJOINCONDITION_FAIL:this.guildViewJoinConditionFail(e,t);break;case M.SENDITEMDESCTOPLIST:this.itemDescTopListi(e,t);break;case M.SM_MAGIC_HINT_MSG:this.onGetMagicHint(e,t);break;case M.SM_GUILDUNMASTERSELF_OK:this.guildUnMasterSelfOK(e,t);break;case M.SM_GUILDUNMASTERSELF_FAIL:this.guildUnMasterSelfFail(e,t);break;case M.SM_GUILDACCEPTALLY_RET:this.guildAcceptAllyRet(e,t);break;case M.SM_GUILDREFUSALALLY_RET:this.guildRefusalAllyRet(e,t);break;case M.SM_GUILDREFUSALUSERJOIN_OK:this.guildreRusalUserJoinOK(e,t);break;case M.SM_GUILDREFUSALUSERJOIN_FAIL:this.guildreRusalUserJoinFail(e,t);break;case M.SM_GUILDSETMASTER1_RET:this.guildSetMaster1Ret(e,t);break;case M.SM_GUILDCHANGEALLY_FAIL:T.raiseEvent(v.CHANGEALLY_FALL),re.handlerAlert({type:1,content:"您不是行会掌门人，无法进行此操作。"});break;case M.SM_GUILDMASTER_CANCEL:H.G_Guald_Admin=0,T.raiseEvent(v.UPDATE_ADMIN);break;case M.SM_CHANGESPEED:this.onChangeSpeed(e,t);break;case M.SM_SENDUSERICON:this.SendSetUserICON(t,e);break;case M.SM_SENDUSEREFFECT:this.SendSetUserEffect(t,e);break;case M.SM_GAMEPETLIST:this.gamePetList(e,t);break;case M.SM_ADDGAMEPET:this.addGamePet(e,t);break;case M.SM_DELGAMEPET:this.deleteGamePet(e,t);break;case M.SM_SETCURRENTGAMEPET:this.setCurrentGamePet(e,t);break;case M.SM_UPDATEJEWELRYBOX:this.updateJewelryBox(e,t);break;case M.SM_HEROM2SENDDRESSEFFECT:this.updateDressEffect(e,t);break;case M.SM_TAKEONJEWELRY_OK:this.takeOnJewelryOK(e,t);break;case M.SM_TAKEONJEWELRY_FAIL:this.clientRecvTakeFailMsg(e,t);break;case M.SM_TAKEOFFJEWELRY_OK:this.takeOffJewelryOK(e,t);break;case M.SM_TAKEOFFJEWELRY_FAIL:this.clientRecvTakeOffFail(e,t);break;case M.SM_CUSTOMITEMPROPERTYTEXTVARLIST:this.customItemPropertyTextVarList(e,t);break;case M.SM_ADDBUTTON:this.addButton(e,t);break;case M.SM_DELBUTTON:this.deleteButton(e,t);break;case M.SM_TAKEONITEM:this.takeOnItem(e,t);break;case M.SM_SCREENEFFECT:this.GxxScreenEffect(e,t);break;case M.SM_STOPSCREENEFFECT:this.GxxStopScreenEffect(e,t);break;case M.SM_CLEARSCREENEFFECT:this.GxxClearScreenEffect(e,t);break;case M.SM_ADD_EFFECT_PLAY:this.GxxAddEffectPlay(e,t);break;case M.SM_SENDSUPERSHILEDEFFECT:this.GxxSuperShieldEffect(e,t);break;case M.SM_HPMPCHANGED_FORM_STONE:this.GxxHPMPChangedFromStone(e,t);break;case M.SM_ABILITYNG:this.abilityNG(e,t);break;case M.SM_CONTINUOUSMAGICORDER:this.continuousMagicOrder(e,t);break;case M.SM_CANCONTINUOUSMAGIC:H.g_boCanUseContinuous=!0,H.MainScene.comboButton.interactable=!0;break;case M.SM_CONTINUOUSMAGIC_OK:H.g_boCanUseContinuous=!1,H.MainScene.comboButton.interactable=!1;break;case M.SM_CONTINUOUSMAGIC_FAIL:this.startContinuousFail(e,t);break;case M.SM_ABILITYMERIDIANS:this.abilityMeridians(e,t);break;case M.SM_PLAYMAGICBALLEFFECT:this.playMagicBallEffect(e,t);break;case M.SM_GAMEGLORY:H.g_gameGlory.value=e.record,T.raiseEvent(v.UPDATEHUM);break;case M.SM_FBTIME:this.FBTime(e,t);break;case M.SM_SENDBIGHPPROGRESS:this.SendBigHPProgress(e,t);break;case M.SM_PETLEVELUP:this.petLevelUp(e,t);break;case M.SM_PETWINEXP:this.petWinExp(e,t);break;case M.SM_UPDATEGAMEPETABIL:this.updateGamePetAbil(e,t);break;case M.SM_CUSTOMITEMPROPERTYCONFIG:this.customItemPropertyConfig(e,t);break;case M.SM_REFABILNG:this.refAbilNG(e,t);break;case M.SM_UPDATEITEM_FLUTE:this.updateItemNewFlute(e,t);break;case M.SM_MOVEHINTMSG:this.moveHintMsg(e,t);break;default:e.ident>=M.CUSTOM_HIT001&&e.ident<M.CUSTOM_HIT001+H.CUSTOM_MAGIC_COUNT?this.clientRecvHitMessage(e,t):(e.ident>=M.CUSTOM_MAGICMOVE001&&e.ident<M.CUSTOM_MAGICMOVE001+H.CUSTOM_MAGIC_COUNT||e.ident>=M.CUSTOM_PUSH001&&e.ident<M.CUSTOM_PUSH001+H.CUSTOM_MAGIC_COUNT)&&this.clientRecvWalkMessage(e,t)}},A.test=function(e,t){console.log("msg=",e),console.log("content=",t)},A.updateDressEffect=function(e,t){var a=L.findobject(e.record);if(null!=a)a.m_wHeroM2DressEffect=e.param,a.m_boHeroM2DressNoBlend=1==e.tag,a.updateskinbywing();else{var r={type:2,func:this.updateDressEffect.bind(this),params:[e,t]};L.putTask(r)}},A.onChangeSpeed=function(e,t){var a=L.findobject(e.record);if(null!=a)a.m_nMoveSpeed=e.param,a.m_nAttackSpeed=e.tag,a.m_nSpellSpeed=e.series;else{var r={type:2,func:this.onChangeSpeed.bind(this),params:[e,t]};L.putTask(r)}},A.guildSetMaster1Ret=function(e,t){var a=N.DecodeString(t),r="";switch(e.record){case 0:H.G_Guald_Admin=0,T.raiseEvent(v.UPDATE_ADMIN);break;case 1:r="不能转让给自己。";break;case 2:r="您不是行会掌门人，无法进行此操作。";break;case 3:r="您不是行会正掌门，无法进行此操作。";break;case 4:r="目标玩家 "+a+" 不是本行会成员。"}""!=r&&re.handlerAlert({type:1,content:r})},A.guildreRusalUserJoinOK=function(e,t){G.sendGuildGetJoinUserList()},A.guildreRusalUserJoinFail=function(e,t){var a="";switch(e.record){case 1:a="您不是行会掌门人，无法进行此操作。"}""!=a&&re.handlerAlert({type:1,content:a})},A.guildRefusalAllyRet=function(e,t){var a=N.DecodeString(t),r="";switch(e.record){case 0:T.raiseEvent(v.REFUSAL_ALLIANCE_LIST,a);break;case 1:r="您不是行会正掌门，无法进行此操作。";break;case 2:r="行会 "+a+" 不存在。";break;case 3:r="行会 "+a+" 没有联盟申请。"}""!=r&&re.handlerAlert({type:1,content:r})},A.guildAcceptAllyRet=function(e,t){var a=N.DecodeString(t),r="";switch(e.record){case 0:T.raiseEvent(v.ACCEPT_ALLIANCE_LIST,a);break;case 1:r="您不是行会掌门人，无法进行此操作。";break;case 2:r="行会 "+a+" 不存在。";break;case 3:r="行会 "+a+" 没有联盟申请。"}""!=r&&re.handlerAlert({type:1,content:r})},A.guildUnMasterSelfOK=function(e,t){G.guildMemberList(),H.G_Guald_Admin=0,T.raiseEvent(v.UPDATE_ADMIN)},A.guildUnMasterSelfFail=function(e,t){var a="";switch(e.record){case 1:a="你没有权利使用这个命令。";break;case 2:a="行会掌门不能卸任！";break;case 3:a="卸任失败。"}""!=a&&re.handlerAlert({type:1,content:a})},A.onGetMagicHint=function(e,t){var a=N.DecodeBuffer(t,!1);T.raiseEvent(v.NEW_CHAT_MSG,[{info:a,front:218,bg:0,type:0}])},A.itemDescTopListi=function(e,t){if(t.length>0){var a=new Zlib.Inflate(t).decompress(),r=N.DecodeBuffer(a,!1).split("\r\n");g.localStorage.setItem("g_ItemDescTop",JSON.stringify(r))}},A.guildViewJoinCondition=function(e,t){var a=N.DecodeString(t).split("\\");T.raiseEvent(v.SHOW_GUILD_INFO,[a,e.param,e.record])},A.guildViewJoinConditionFail=function(e,t){var a="";switch(e.record){case 1:a="要查看的行会不存在。"}""!=a&&re.handlerAlert({type:1,content:a})},A.cancelGuildJoinToOK=function(e,t){T.raiseEvent(v.CLEAN_JOIN_NAME)},A.guildJoinToOK=function(e,t){H.sWantAddGuild=N.DecodeString(t),T.raiseEvent(v.UPDATE_JOIN_NAME)},A.cancelGuildJoinToFail=function(e,t){var a="";switch(e.record){case 1:a="取消失败，申请取消的行会不存在";break;case 2:a="您未申请加入行会"}""!=a&&re.handlerAlert({type:1,content:a})},A.guildJoinToFail=function(e,t){var a=N.DecodeString(t),r="";switch(e.record){case 1:r="你已经是行会成员。";break;case 2:r="行会不存在。";break;case 3:r="你申请的行会禁止玩家加入。";break;case 4:r="等级不够";break;case 5:r="职业不符";break;case 6:r="行会满员";break;case 7:r="你已经申请加入别的行会："+a}""!=r&&re.handlerAlert({type:1,content:r})},A.guildAddGuildWarRet=function(e,t){var a=N.DecodeString(t),r="";switch(e.record){case 0:T.raiseEvent(v.UPDATE_GUILD_WAR_LIST,a);break;case 1:r="您不是行会正掌门，无法进行此操作。";break;case 2:r="行会 "+a+" 不存在。";break;case 3:r="联盟行会 "+a+" 不能宣战。";break;case 4:r="宣战不能在本服务器上运行！";break;case 5:r="与行会 "+a+" 正在宣战中。";break;case 6:r="你没有足够的金币！";break;case 7:r="宣战失败！"}""!=r&&re.handlerAlert({type:1,content:r})},A.guildMemberMoveToRankRet=function(e,t){var a="",r=N.DecodeString(t);switch(e.record){case 0:H.G_Guald_Admin=e.param;break;case 1:a="您不是行会正掌门，无法进行此操作。";break;case 2:a=r+"不是行会成员。";break;case 3:a=r+"的封号和目标封号一样。";break;case 4:a="目标封号不存在。";break;case 5:a="只有一个管理员。"}""!=a&&re.handlerAlert({type:1,content:a})},A.guildreUserJoinOK=function(e,t){var a="您被批准加入行会 "+N.DecodeString(t);T.raiseEvent(v.NEW_CHAT_MSG,[{info:a,front:249,bg:255,type:0}]);var r=H.MainScene.instanceOfMem("GuildWorldWin");r&&r.getComponent(fe).closeView()},A.guildAcceptUserJoinOK=function(e,t){G.guildMemberList(),G.sendGuildGetJoinUserList()},A.guildAcceptUserJoinFail=function(e,t){var a="";switch(e.record){case 1:a="您不是行会正掌门，无法进行此操作。";break;case 2:a="行会满员"}""!=a&&re.handlerAlert({type:1,content:a})},A.guildDelMemberExRet=function(e,t){var a="";switch(e.record){case 0:N.DecodeString(t);G.guildMemberList();break;case 1:a="您不是行会正掌门，无法进行此操作。";break;case 2:a="不能逐出主掌门人。"}""!=a&&re.handlerAlert({type:1,content:a})},A.sendUserStateFengHao=function(e,t){if(console.log("msg=",e),console.log("bodystr=",t),H.g_USFengHaoItems=[],H.g_USActiveFengHaoIndex=e.record,t.length>0)for(var a=new Zlib.Inflate(t).decompress(),r=0,n=0;n<e.series;n++){var i=a[r];r++;var s=B.slice(a,r,r+H.g_itemSize),o=O.TClientItem(s);r+=H.g_itemSize,i>=0&&i<=59&&H.g_USFengHaoItems.push(o)}T.raiseEvent(v.UPDATE_LOOK_TITLE,H.g_USFengHaoItems)},A.acitveFengHaoItem=function(e,t){console.log("msg=",e),console.log("content=",t),H.g_ActiveFengHaoIndex=e.record,T.raiseEvent(v.SHOW_ITEM_ICO,H.g_WaitItems.Index),H.g_WaitItems.Items=null},A.updateFengHaoItems=function(e,t){if(console.log("msg=",e),console.log("content=",t),H.g_ActiveFengHaoIndex=e.record,t.length>0){var a=new Zlib.Inflate(t).decompress();H.g_IconCList=[];for(var r=0,n=0;n<e.series;n++){var i=a[r];r++;var s=B.slice(a,r,r+H.g_itemSize),o=O.TClientItem(s);r+=H.g_itemSize,i>=0&&i<=59&&(H.g_IconCList.push(o),o.tag=i,Z.getInstance().AddItemToRole(o))}}},A.godBlessTakeOnOk=function(e,t){null!=H.g_WaitItems.Items&&H.g_WaitItems.Index>=0&&H.g_WaitItems.Index<=52&&(H.g_GodBlessItems[H.g_WaitItems.Index]=H.g_WaitItems.Items,H.g_GodBlessItems[H.g_WaitItems.Index].tag=H.g_WaitItems.Index,H.MainScene.instanceOfMem("ShousWin")&&T.raiseEvent(v.UPDATE_SHENGXIAO,H.g_GodBlessItems),Y.showScreen(!1),B.sendAutoItemList(e.record))},A.takeOffGodBlessItemOK=function(e,t){null!=H.g_GodBlessItems[e.param-1]&&(H.g_WaitItems.Items=H.g_GodBlessItems[e.param-1],H.g_WaitItems.Index=e.param-1),null!=H.g_WaitItems.Items&&(H.g_GodBlessItems[H.g_WaitItems.Index]=null,T.raiseEvent(v.SHOW_ITEM_ICO,H.g_WaitItems.Index),H.g_WaitItems.Index>=18&&H.g_WaitItems.Index<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS),4==H.g_WaitItems.Index&&T.raiseEvent(v.SHOW_ITEM_ICO,13),y.removeAniname("bodyeffect"+H.g_WaitItems.Items.MakeIndex),H.g_WaitItems.Items=null,H.MainScene.instanceOfMem("ShousWin")&&T.raiseEvent(v.UPDATE_SHENGXIAO,H.g_GodBlessItems))},A.updateGodBless=function(e,t){if(H.g_btSelfShowGodBless=e.tag,0!=t.length&&e.param==t.length){B.intUserItems(H.HighTUseItems),H.g_GodBlessItems=[];for(var a=new Zlib.Inflate(t).decompress(),r=0,n=0;n<e.series;n++){var i=a[r];r++;var s=B.slice(a,r,r+H.g_itemSize),o=O.TClientItem(s);r+=H.g_itemSize,i>=0&&i<=H.HighTUseItems&&(H.g_GodBlessItems[i]=o,o.tag=i,Z.getInstance().AddItemToRole(o))}}},A.updateJewelryBox=function(e,t){if(H.g_btSelfSndacasketState=e.tag,0!=t.length&&e.param==t.length){B.intUserItems(H.HighTUseItems),H.g_JewelryBoxItems=[];for(var a=new Zlib.Inflate(t).decompress(),r=0,n=0;n<e.series;n++){var i=a[r];r++;var s=B.slice(a,r,r+H.g_itemSize),o=O.TClientItem(s);r+=H.g_itemSize,i>=0&&i<=H.HighTUseItems&&(H.g_JewelryBoxItems[i]=o,o.tag=i,Z.getInstance().AddItemToRole(o))}}},A.guildViewMemberInfoRet=function(e,t){console.log("msg=",e),console.log("content=",t);var a=N.DecodeString(t),r="";switch(e.record){case 0:var n=O.TGuildMemeberInfo(t);console.log("ojb=",n),T.raiseEvent(v.SHOW_MEMBER_INFO,n);break;case 1:r="您不是行会正掌门，无法进行此操作。";break;case 2:r="用户不能为空。";break;case 3:r="用户 "+a+" 不存在。";break;case 4:r="读取用户  "+a+" 信息失败。";break;case 5:r="读取用户 "+a+" 信息超时。"}""!=r&&re.handlerAlert({type:1,content:r})},A.guildUnAllyRet=function(e,t){console.log("msg=",e),console.log("content=",t);var a=N.DecodeString(t),r="";switch(e.record){case 0:T.raiseEvent(v.DELETE_ALLIANCE_LIST,a);break;case 1:r="您不是行会正掌门，无法进行此操作。";break;case 2:r="行会 "+a+" 不存在。";break;case 3:r="行会 "+a+" 没有结盟。"}""!=r&&re.handlerAlert({type:1,content:r})},A.guildRequestAllyRet=function(e,t){console.log("msg=",e),console.log("content=",t);var a=N.DecodeString(t),r="";switch(e.record){case 0:r="向行会 "+a+" 发送申请成功。";break;case 1:r="您不是行会掌门人，无法进行此操作。";break;case 2:r="行会 "+a+" 不存在。";break;case 3:r="您已经向行会 "+a+" 发送过申请。";break;case 4:r="与行会 "+a+" 已经联盟。";break;case 5:r="行会 "+a+" 禁止联盟。";break;case 6:r="不支持行会联盟自己。";break;case 7:r="不能和敌对行会或者联盟行会的敌对行会结盟。"}""!=r&&re.handlerAlert({type:1,content:r})},A.guildDelAttentionRet=function(e,t){console.log("msg=",e),console.log("content=",t);var a="";switch(e.record){case 0:var r=N.DecodeString(t);T.raiseEvent(v.DELETE_FOLLOW_LIST,r);break;case 1:a="您不是行会掌门人，无法进行此操作。";break;case 2:a="行会 "+N.DecodeString(t)+" 不存在。";break;case 3:a="您还未关注行会"+N.DecodeString(t)}""!=a&&re.handlerAlert({type:1,content:a})},A.guildAddAttentionRet=function(e,t){console.log("msg=",e),console.log("content=",t);var a="";switch(e.record){case 0:var r=N.DecodeString(t);T.raiseEvent(v.UPDATE_FOLLOW_LIST,r);break;case 1:a="您不是行会掌门人，无法进行此操作。";break;case 2:a="行会 "+N.DecodeString(t)+" 不存在。";break;case 3:a="您已经关注了行会"+N.DecodeString(t);break;case 4:a="不支持关注行会自己 。"}""!=a&&re.handlerAlert({type:1,content:a})},A.guildDelMemberFail=function(e){var t="";1==e.record?t="不能使用命令！":2==e.record?t="此人非本行会成员!":3==e.record?t="行会掌门人不能开除自己!":4==e.record?t="退出行会失败":5==e.record?t="还没有加入行会！":6==e.record&&(t="行会掌门不能退出！"),re.handlerAlert({type:1,content:t})},A.gxxOpenGuildDlg=function(e,t){var a=N.DecodeString(t).split("\r");console.log("arr=",a),H.G_Guild_Name=a[0],H.G_Guald_Admin=Number(a[2]),H.G_Guald_Can_Lianmeng=e.series,H.G_Guald_Notice_List="",0==a[5].indexOf("<KillGuilds>")&&(H.G_Guald_Notice_List=a[4]);for(var r=[],n=[],i=[],s=[],o=!1,c=!1,l=!1,g=!1,d=0;d<a.length;d++)d>4&&(0==a[d-1].indexOf("<KillGuilds>")&&0!=a[d].indexOf("<AllyGuilds>")&&(o=!0),0==a[d-1].indexOf("<AllyGuilds>")&&0!=a[d].indexOf("<AttentionGuilds>")&&(c=!0),0==a[d-1].indexOf("<AttentionGuilds>")&&0!=a[d].indexOf("<RequestAllyGuilds>")&&(l=!0),0==a[d-1].indexOf("<RequestAllyGuilds>")&&(g=!0),"<AllyGuilds>"==a[d]&&(o=!1),"<AttentionGuilds>"==a[d]&&(c=!1),"<RequestAllyGuilds>"==a[d]&&(l=!1),""==a[d]&&(g=!1),o&&r.push(a[d]),c&&n.push(a[d]),l&&i.push(a[d]),g&&s.push(a[d]));this.scheduleOnce((function(){T.raiseEvent(v.UPDATE_GUILD_INFO),T.raiseEvent(v.UPDATE_GUILD_RELATION,[r,n,i,s])}),1)},A.openGuild=function(e,t){T.raiseEvent(v.GAME_DLG_CMD,{id:"show_hanghui"});var a=N.DecodeString(t);this.scheduleOnce((function(){T.raiseEvent(v.UPDATE_APPLY_INFO,{job:e.param,level:e.record,info:a})}),.5)},A.testRank=function(e,t){for(var a=N.DecodeBuffer(e,!1).split("/"),r=[],n=0;n<a.length;n++){var i=N.fnDecode6BitBuf(a[n],a[n].length),s=O.TUserLevelRanking(i.pszDest);r.push(s)}console.log("new_arr=",r),T.raiseEvent(v.UPDATERANKDATA,[r,t])},A.openWorldGuild=function(e,t){T.raiseEvent(v.GAME_DLG_CMD,{id:"show_hanghui_world"});var a=N.DecodeBuffer(t,!0).split("/");if(H.G_Guald_HangHui_World_List=a.splice(0,a.length-1),e.record>-1){var r=H.G_Guald_HangHui_World_List[e.record].split(":");H.G_Guald_Last_Name=a[a.length-1].split("/")[1],H.sWantAddGuild=r[0]}T.raiseEvent(v.UPDATE_WORLD_LIST)},A.UpGlobaInf=function(e,t){var a=N.DecodeBuffer(e,t);if(-1!=a.toUpperCase().indexOf("{#NEW"))for(var r=new RegExp(/[^{]+?(?=\})/g),n=a.match(r),i=0;i<n.length;i++){a=a.replace("{"+n[i]+"}","&&");var s=n[i].split(")"),o=s[0].split("(");if(""!=o[1]){var c=s[1];""!=c&&(a=a.replace("&&",c),B.getMissGloba(o[1],c,1),T.raiseEvent(v.UPDATETASK,H.g_sStrMissNv))}}return"0"!=a&&-1==a.indexOf("222")?a:""},A.GetServerConfig=function(e,t){try{if(""!=e&&e.length==t.param+t.record){var a=e.substr(0,t.param),r=e.substr(t.param);""!=r&&(r=N.zDecodeString(r),H.g_customItemAttr=JSON.parse(r));var n=b.decryStringK(a,H.mac_key);if(8==(15&n[0])){var i=new Zlib.Inflate(n).decompress();H.g_ClientConfig=O.TClientConfig(i),Y.initRoleSet();H.g_ClientConfig.AttackIntervalTime;H.g_boIsSafeRunNPC=H.g_ClientConfig.boIsSafeRunNPC,H.g_boIsSafeRun=H.g_ClientConfig.boIsSafeRun,H.g_customItemAttr&&(H.g_ClientConfig.boNewTaskMode=H.g_customItemAttr.boNewTaskMode,H.g_ClientConfig.boExtendDB=H.g_customItemAttr.boExtendDB,H.g_ClientConfig.maxExtendItemCount=H.g_customItemAttr.maxExtendItemCount,H.g_ClientConfig.MagicAttackRage=H.g_customItemAttr.MagicAttackRage),T.raiseEvent(v.UPDATE_M2SET),T.raiseEvent(v.SPELLUSESKILLSTART)}B.setCurrencyKey(H.g_customItemAttr.DiyCurrencyName),T.raiseEvent(v.SHOW_BTNHERO)}T.raiseEvent(v.EVENT_START_OBJECT_HB)}catch(e){console.log("GetServerConfig execute error",e)}},A.clientEnterNewMap=function(e,t){re.checkAndDestroyNewNpcWin();var a=N.DecodeString(t),r=e.param,n=e.tag,i=e.series,s=a.split("\r\n");1==s.length?K.cur_id=K.cur_name=s[0]:2==s.length&&(K.cur_name=s[1],K.cur_id=s[0]),this.loadmapname="data/mapdata/"+K.cur_id+".map",T.raiseEvent(v.UPDATA_MAP,[K.cur_id,r,n,i]),console.log("---clientEnterNewMap->",K.cur_id,r,n,i),B.setSaveData("PlayerMapID",this.loadmapname),C.getInstance().getNpcInfo()},A.clientRecvChangeMapMessage=function(e,t){var a=e.param,r=e.tag,n=L.findobject(H.playerID);n&&n.changestate(null,1,n.cur_dir,!0);var i=e.series,s=N.DecodeString(t),o=K.cur_type;K.cur_type!==o?L.object_list.forEach((function(e){e.data.record==H.playerID&&B.setBodyColor(e,H.g_RoleBodyState,e.data.record),e.Blood&&e.Blood.people&&e.Blood.SetCurBloodNum()})):L.object_list.forEach((function(e){e.data.record==H.playerID&&B.setBodyColor(e,H.g_RoleBodyState,e.data.record)}));var c=K.cur_id,l=s.split("\r\n");if(1==l.length?K.cur_id=K.cur_name=l[0]:2==l.length&&(K.cur_name=l[1],K.cur_id=l[0]),K.cur_id!=c)T.raiseEvent(v.CLOSE_MINIMAP);else if(B.getMapLayerScript().cur_x==a&&B.getMapLayerScript().cur_y==r&&K.cur_id==l[1])return;H.g_customSkillMove||(H.g_customSkillMove=!0,T.raiseEvent(v.UPDATA_MAP,[K.cur_id,a,r,i]),console.log("-clientRecvChangeMapMessage->",K.cur_id,a,r,i)),this.loadmapname="data/mapdata/"+K.cur_id+".map",B.setSaveData("PlayerMapID",this.loadmapname)},A.clientRevLogon=function(e,t){if(178<=t.length){var a=t.slice(0,20),r=O.TMessageBodyWL(a),n=t.slice(20,t.length),i=O.TFeature(n.length,n);L.delobject(H.playerID),H.playerID=e.record,T.raiseEvent(v.CREATE_PLAYER,{record:e.record,param:e.param,tag:e.tag,series:e.series,fea:i,lParam2:r.lParam2}),k._LOBYTE(r.lTag1),1==k._LOBYTE(r.lTag1)?H.G_BaseSetList[0].val=!0:H.G_BaseSetList[0].val=!1}},A.clientRevChangeName=function(e,t){if(null!=L.findobject(e.record)){var a=e.record,r=e.param,n=N.DecodeBuffer(t,!1),i=n.split("\\\\"),s=i[0];-1!=s.indexOf("\\")&&(s=s.split("\\"));var o=i[1],c=L.findobject(a);c&&(c.guildName=o);var l=n;0==e.tag&&(c.dbName=s instanceof Array&&s.length>0?s[0]:""),a==H.playerID&&(H.g_RoleName=s.constructor==Array?s[0]:s,T.raiseEvent(v.UPDATE_ROLEEDITOR),T.raiseEvent(v.UPDATE_ACTOR_NAME,{name:l,color:r})),L.setObjectName(a,l,r)}else{var g={type:2,func:this.clientRevChangeName.bind(this),params:[e,t]};L.putTask(g)}},A.clientRoleStateChanged=function(e,t){var a=e.record,r=(e.series,N.DecodeString(t)),n=(e.ident,k._MAKELONG(e.param,e.tag));a==H.playerID&&(H.rolespeed=""==r?e.series:parseInt(r));var i=L.findobject(e.record);i&&(i.realSpeed=null!=e.series?e.series:i.realSpeed,B.setBodyColor(i,n,e.record),i.m_nState=n,null!=H.g_RoleBodyState&&e.record==H.playerID&&(H.g_RoleBodyState=n))},A.OpenCobWebWinding=function(e,t){var a=e.record,r=L.findobject(a);if(r){var n="zhizhuwang"+a;if(!y.hasAni(r.node,n)){var i=c(18,-3),s=y.playframe(!0,r.node,"data/mon24/",3740,3749,100,!0,!1,i);s&&(s.name=n,s.res_lock=!0)}}},A.CloseCobWebWinding=function(e,t){var a="zhizhuwang"+e.record;y.removeAniname(a)},A.clientGetMapDescription=function(e,t){H.g_boNoAcrossHuman=1!=e.record,H.g_boNoAcrossMon=1!=e.param,H.g_boNoAcrossNpc=1!=e.tag;var a=0,r="",n="",i=N.DecodeString(t);if(-1!=i.indexOf("\r")){var s=i.split("\r");r=s[0],n=s[1]}else{for(var o=0;o<i.length;o++){var c=i[o];""!==c&&"\r"!==c&&"\n"!=c&&(0!=a?n+=i[o]:c.charCodeAt(0)<255&&(n+=i[o],a=o))}r=0==a?i:i.slice(0,a)}if(-1!=n.indexOf(".\\"))for(n=n.replace(".\\","");-1!=n.indexOf("\\");)n=n.replace("\\","/");K.cur_name=r,K.cur_music=n,T.raiseEvent(v.UPDATEPOS),T.raiseEvent(v.PLAYMAPMUSIC)},A.clientGetGameGoldName=function(e,t){if(""!=t){var a=N.DecodeBuffer(t,!0).split("\r");H.g_GameGoldNum.key=a[0],H.g_GamePointNum.key=a[1],H.g_GameCionNum.key=a[2],H.g_nGameDiamond.key=a[3],H.g_nGameGird.key=a[4]}H.g_GameGoldNum.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,3),H.g_GamePointNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,5),T.raiseEvent(v.UPDATE_BAG),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM)},A.parseServerRunixTime=function(e,t){H.g_serverRunixTime=parseInt(N.DecodeString(t))},A.parseAuctionListData=function(e,t){if(H.g_auctionList=[],""!=t&&t){for(var a=N.fnDecode6BitBuf(t,t.length),r=new Zlib.Inflate(a.pszDest).decompress(),n=0;n<e.record;n++)H.g_auctionList.push(O.TSimpleAuctionItemInfo(r,n));T.raiseEvent(v.UPDATE_ALL_AUCTIONDATA)}else T.raiseEvent(v.UPDATE_ALL_AUCTIONDATA)},A.parseSingleAuctionData=function(e,t){var a=N.fnDecode6BitBuf(t,t.length),r=new Zlib.Inflate(a.pszDest).decompress();H.g_auctionList.push(O.TSimpleAuctionItemInfo(r,0))},A.offSaleAuctionHandle=function(e,t){var a=e.record,r=H.g_auctionList.length;if(!(r<1))for(var n=0;n<r;n++)H.g_auctionList[n]&&H.g_auctionList[n].nRecog==a&&(H.g_auctionList.splice(n,1),T.raiseEvent(v.UPDATEMYSHELVESINFO))},A.updateAuctionInfo=function(e,t){var a=e.record,r=H.g_auctionList.length;if(!(r<1))for(var n=0;n<r;n++)if(H.g_auctionList[n].nRecog==a){var i=N.DecodeString(t);H.g_auctionList[n].sHighestBidder=i,H.g_auctionList[n].nCurrentPrice=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEMYAUCTIONWIN),T.raiseEvent(v.UPDATE_ALL_AUCTIONDATA);break}},A.newAuctionTipHandle=function(e,t){var a="";switch(e.record){case 0:a="上架成功",T.raiseEvent(v.UPDATEITEMDATA),T.raiseEvent(v.UPDATE_ALL_AUCTIONDATA),T.raiseEvent(v.UPDATEMYSHELVESINFO),T.raiseEvent(v.CLOSESALEAUCTIONTIP);break;case-1:a="已达到拍卖行最大订单数量";break;case-2:a="已达到个人上架订单最大数量";break;case-3:a="上架的货币类型非法";break;case-4:a="货币类型未启用";break;case-5:a="一口价不能低于竞拍价";break;case-6:a="个人上架等级不足";break;case-7:a="个人上架转生等级不足";break;case-8:a="物品不存在";break;case-9:a="物品不允许上架"}B.onShowTip(a)},A.offSaleAuctionTip=function(e,t){0==e.param&&(T.raiseEvent(v.CLOSESALEAUCTIONTIP),Object.keys(H.g_aucitonItemList).indexOf(e.record+"")>-1&&delete H.g_aucitonItemList[""+e.record],T.raiseEvent(v.UPDATE_ALL_AUCTIONDATA));B.onShowTip(0==e.param?"下架成功":"物品已经被竞价无法下架")},A.bidAuctionTip=function(e,t){var a="";switch(e.param){case 0:for(var r=e.record,n=k._MAKELONG(e.tag,e.series),i=N.DecodeString(t),s=0;s<H.g_auctionList.length;s++)H.g_auctionList[s].nRecog==r&&(H.g_auctionList[s].sHighestBidder=i,H.g_auctionList[s].nCurrentPrice=n);a="竞价成功",T.raiseEvent(v.UPDATEWORDAUCITON),T.raiseEvent(v.CLOSEAUCTIONBIDTIP);break;case 1:a="拍卖行订单发起者不能竞拍";break;case 2:a="已经竞拍此订单";break;case 3:a="竞拍出价不足";break;case 4:a="货币类型未启用";break;case 5:a="没有足够的对应货币";break;case 6:a="拍品不存在"}B.onShowTip(a)},A.oncePriceTip=function(e,t){var a="";switch(e.record){case 0:a="一口价竞买成功",T.raiseEvent(v.UPDATEWORDAUCITON),T.raiseEvent(v.UPDATEMYAUCTIONWIN),T.raiseEvent(v.CLOSEAUCTIONBIDTIP);break;case-1:a="非法的货币类型";break;case-2:a="货币类型未启用";break;case-3:a="没有足够的对应货币";break;case-4:a="不能购买此拍品"}B.onShowTip(a)},A.updateAuctionItemInfo=function(e,t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TClientItem(a.pszDest);H.g_aucitonItemList[""+e.record]=r,T.raiseEvent(v.UPDATEITEMDATA),T.raiseEvent(v.UPDATESALEAUCTIONITEM),T.raiseEvent(v.UPDATESHELVESITEMDATA)},A.clientGetNewGamePointName=function(e,t){if(""!=t){var a=N.DecodeString(t);if(H.g_boOpenCaiji)if(-1!=a.indexOf("/")){var r=a.split("/");H.g_GameDiamondName=r[0],H.g_GameLingFName=r[1]}else{var n=N.DecodeString(a);if(H.g_nGameDiamond.value!=e.record&&""!=n)e.record>H.g_nGameDiamond.value?H.g_LogSocket.AddGameDataLog(113,"金刚石",e.record,"增加/非绑定/"+n,e.record-H.g_nGameDiamond.value):H.g_LogSocket.AddGameDataLog(113,"金刚石",e.record,"减少/非绑定/"+n,e.record-H.g_nGameDiamond.value);else{var i=k._MAKELONG(e.param,e.tag);H.g_nGameGird.value!=i&&""!=n&&(i>H.g_nGameGird.value?H.g_LogSocket.AddGameDataLog(114,"灵符",i,"增加/非绑定/"+n,i-H.g_nGameGird.value):H.g_LogSocket.AddGameDataLog(114,"灵符",i,"减少/非绑定/"+n,i-H.g_nGameGird.value))}}else{var s=a.split("\r");H.g_GameDiamondName=s[0],s[2]&&"1"==s[2]&&-1==H.g_GameMoneyType.indexOf(H.g_GameDiamondName)&&H.g_GameMoneyType.push(H.g_GameDiamondName),H.g_GameLingFName=s[1],s[3]&&"1"==s[3]&&-1==H.g_GameMoneyType.indexOf(H.g_GameLingFName)&&H.g_GameMoneyType.push(H.g_GameLingFName)}}H.g_nGameDiamond.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY),H.g_nGameGird.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,7),T.raiseEvent(v.UPDATE_CQBINFO),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM),T.raiseEvent(v.UPDATE_BAG)},A.parseRankData=function(e,t){var a=N.fnDecode6BitBuf(t,t.length).pszDest,r=[];r[e.record]=[];for(var n=0;n<e.param;n++)r[e.record].push(O.TSimpleRankingData(a,n));T.raiseEvent(v.UPDATERANKDATA,[r[e.record],e.record]),console.log(r)},A.clientObjGetSafeZoneInfo=function(e,t){e.tag;for(var a=N.zDecodeString(t).split("\r\n"),r=new Array,n=new Array,i=0;i<a.length;i++){var s=a[i].split("\t"),o=a[i].split(";");null!=s&&o.length<2&&r.push(s)}for(var c=0;c<r.length;c++){for(var l=new Array,g=0;g<r[c].length;g++){var d=r[c][g].split(" ");r[c][g]=d;for(var m=0;m<d.length;m++)""!=d[m]&&l.push(d[m])}n.push(l)}K.safeZone=n},A.clientGetNavigationInfo=function(e,t){if(e.param==t.length){for(var a=[],r=[],n=N.zDecodeString(t).split("\r\n"),i=0;i<n.length;i++)if(-1==n[i].indexOf(";")){var s=n[i].split("\t");if(s&&s.length<3)s[0]&&-1!=s[0].indexOf("/")&&(s[0]=s[0].slice(s[0].indexOf("/")+1)),""!=s[0]&&r.push(s[0]);else{var o=[];o.mapid=s[0],o.mapx=s[1],o.mapy=s[2],o.npcname=s[3],o.maplvl=s[4],o.maptype=s[5],o.mapcolor=s[6],o.mapnps=s[7],a.push(o)}}K.setdata(a,r)}},A.clientChangeRoleLight=function(e){e.record,e.param},A.ShowDressGodBless=function(e){if(0==e.tag){for(var t=0;t<12;t++)32768>>t&&0!=e.record?H.g_SelfOpenedGodBless[t]=1:H.g_SelfOpenedGodBless[t]=0;H.g_btSelfSndacasketState=k._HIBYTE(e.param),H.g_btSelfShowGodBless=k._LOBYTE(e.param),H.g_show_fashion=e.series,T.raiseEvent(v.UPDATE_SELFSNDACASKETSTATE),L.object_list.forEach((function(e){e.data.record==H.playerID&&B.setBodyColor(e,H.g_RoleBodyState,e.data.record),e.Blood&&e.Blood.people&&e.Blood.SetCurBloodNum()}))}else if(1==e.tag){for(var a=0;a<12;a++)32768>>a&&0!=e.record?H.g_HeroOpenedGodBless[a]=1:H.g_HeroOpenedGodBless[a]=0;H.g_btHeroSndacasketState=k._HIBYTE(e.param),H.g_btHeroShowGodBless=k._LOBYTE(e.param),H.g_Show_Hero_Fashion=e.series}},A.UpdateMagicData=function(e,t){var a=e.record,r=k._LOBYTE(e.param),n=k._HIBYTE(e.param),i=k._MAKELONG(e.tag,e.series);B.updateMagicLvExp(a,r,i,n)},A.clientChangeRoleNameColor=function(e){var t=e.record,a=e.param;t==H.playerID&&(T.raiseEvent(v.UPDATE_NAME_COLOR,a),T.raiseEvent(v.UPDATENAMECOLOR,a)),L.setObjectNameColor(t,a)},A.clientRoleDoTurn=function(e,t){var a=t.length,r=e.param,n=e.tag;if(a>13){var i;if(e.ident==M.TURN){var s=O.TCharDesc(t),o=s.feature,c=t.slice(13,t.length),l=O.TFeature(o,c);c=t.slice(13+o,t.length);var g=N.DecodeBuffer(c,!0);i={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:l,state:s.status,str:g}}else e.ident==M.BACKSTEP&&(i={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series});if(L.ChangeState(i),e.record==H.playerID){B.getMapLayerScript().cur_x=r,B.getMapLayerScript().cur_y=n;var d=F.self_obj;d&&d.grid&&(d.grid.x==r&&d.grid.y==n||F.springback(r,n))}}},A.clientRecvWalkMessage=function(e,t){if(t.length>13){var a={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series},r=L.findobject(e.record);r&&r.OwnerID==H.playerID&&!B.checkPosPointIsTrue(r.grid,{x:e.param,y:e.tag})||L.ChangeState(a)}else{var n=t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)>>>0,i={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,state:n},s=L.findobject(e.record);s&&s.OwnerID==H.playerID&&!B.checkPosPointIsTrue(s.grid,{x:e.param,y:e.tag})||L.ChangeState(i)}7==e.ident&&setTimeout((function(){var t=L.findobject(e.record);if(t){var a=B.getNextPoint(e.param,e.tag,t.cur_dir);B.moverule(a,t.cur_dir,4)&&T.raiseEvent(v.MSG_MOVE_RESULT,[e.record,a.x,a.y])}}),200)},A.clientRecvRunMessage=function(e,t){if(t.length>13){var a={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series};L.ChangeState(a)}else{var r={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series};L.ChangeState(r)}},A.clientRecvHitMessage=function(e,t){e.record;var a=e.param,r=e.tag,n=e.series,i=(e.ident,parseInt(t)),s={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series};if(L.ChangeState(s,i),e.ident==M.HEAVYHIT&&1==i){var o=8*n,g=o+2,d=new l(a,r);y.playframe(!0,B.getMapLayerNode(),"data/Effect/",o,g,80,!1,!0,c(48*d.x,32*-d.y))}},A.clientRecvStruckMessage=function(e,t){t.length;if(41==t.length){var a=O.TNewMessageBodyWL(t),r={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:null,state:a},n=L.findobject(e.record);if(n){L.ChangeState(r),n.data.level=r.state.lTag2;var i=O.THumFeature(n.data.fea.buffer).wRace;if(0==i||1==i||150==i||220==i?L.updateObjectHp(r.state.lParam2,r.state.lParam1,r.record,null,null,!0):L.updateObjectHp(r.state.lParam2,r.state.lParam1,r.record,null,null,!1),e.ident==M.NPCHSPELLCHANGED);else{var s=k._MAKELONG(e.param,e.tag);B.showvaule(s,e.ident,n,!1)}var o=new l(48*n.grid.x,32*n.grid.y);if(n.skin_feature&&165==n.skin_feature.wRaceImg&&3712==n.skin_feature.wAppr){y.playframe(!0,B.getMapLayerNode(),"data/mon38/",6530,6535,100,!1,!0,c(o.x,-o.y));var g=a.lTag1,d=L.findobject(g);if(d){var m=B.getorientation(n.grid,d.grid);n.changestate(null,11,m,!1)}}}n&&H.playerID&&e.record==H.playerID&&(T.raiseEvent(v.UPDATE_ROLE_INFO,n.m_Abil),null!=n.obj_hores&&n.obj_hores.active&&H.g_ClientConfig.nDownHouse>Math.floor(100*Math.random())&&C.getInstance().sendSay("@下马"),H.GlobalCfglist.autotp?q.transfer(n.m_Abil.HP,n.m_Abil.MaxHP):H.GlobalCfglist.autotp1&&q.transfer1(n.m_Abil.MP,n.m_Abil.MaxMP),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM))}},A.clientRecvRoleSitDownMessage=function(e){var t=e.record;e.param,e.tag,e.series;if(t!=H.playerID){var a={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series};L.ChangeState(a)}},A.clientRecvSpellMessage=function(e,t){var a=parseInt(t),r=k._LOWORD(a),n=k._HIWORD(a);a={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,magicid:r,newlv:n},r>=1e3&&r<=1500?$.applyCustomSkillForOther(a):L.ChangeState(a,a.newlv)},A.clientRecvDigUpMessage=function(e,t){if(t.length>=20){var a=O.TMessageBodyWL(t);if(t.length==20+a.lParam1){var r=a.lParam1,n=t.slice(20,t.length),i=O.TFeature(r,n),s={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:i,state:a.lParam2,str:""};L.ChangeState(s)}}},A.clientRecvDigDownMessage=function(e){e.record,e.param,e.tag;var t={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:this.featbuff};L.ChangeState(t)},A.clientRecvFlyAXEMessage=function(e,t){var a=L.findobject(e.record),r=N.fnDecode6BitBuf(t,t.length),n=O.TMessageBodyW(r.pszDest),i=(e.record,k._MAKELONG(n.Tag1,n.Tag2)),s=new l(n.Param1,n.Param2);if(a){var o=O.THumFeature(a.data.fea.buffer);71==o.wDress&&45==o.wRace?($.playself(999,999,a,s),$.play2skill(e.record,999,999,n.Param1,n.Param2,i)):47==o.wDress&&45==o.wRace||323==o.wDress&&45==o.wRace?($.playself(1e3,1e3,a,s),$.play2skill(e.record,1e3,1e3,n.Param1,n.Param2,i)):328==o.wDress&&45==o.wRace?($.playself(1002,1002,a,s),setTimeout((function(){$.play2skill(e.record,1002,1002,n.Param1,n.Param2,i)}),300)):329==o.wDress&&45==o.wRace?($.playself(1003,1003,a,s),setTimeout((function(){$.play2skill(e.record,1003,1003,n.Param1,n.Param2,i)}),300)):372==o.wDress&&45==o.wRace?($.playself(1003,1003,a,s),setTimeout((function(){$.play2skill(e.record,1006,1006,n.Param1,n.Param2,i)}),300)):374==o.wDress&&45==o.wRace?($.playself(1007,1007,a,s),setTimeout((function(){$.play2skill(e.record,1007,1007,n.Param1,n.Param2,i)}),300)):this.clientRecvHitMessage(e,t)}},A.clientRecvLigthingMessage=function(e,t){var a,r=N.fnDecode6BitBuf(t,t.length),n=O.TMessageBodyWL(r.pszDest),i=e.record,s=(e.param,e.tag,e.series),o=n.lParam1,g=n.lParam2,d=n.lTag1,m=n.lTag2,_=L.findobject(i);if(_&&_.skin_feature){1==_.type&&156==_.skin_feature.wRaceImg&&L.setDiyMonState(U.matDefAttack);var I=new l(48*_.grid.x,32*_.grid.y);if(26==_.skin_feature.wRaceImg&&250==_.skin_feature.wAppr)a="data/mon26/";else if(38==_.skin_feature.wRaceImg&&256==_.skin_feature.wAppr)a="data/mon26/";else if(29==_.skin_feature.wRaceImg&&260==_.skin_feature.wAppr)a="data/mon26/";else if(27==_.skin_feature.wRaceImg&&251==_.skin_feature.wAppr)a="data/mon26/";else if(113==_.skin_feature.wRaceImg&&340==_.skin_feature.wAppr)a="data/mon35/";else if(29==_.skin_feature.wRaceImg&&255==_.skin_feature.wAppr)a="data/mon26/";else if(151==_.skin_feature.wRaceImg&&262==_.skin_feature.wAppr)a="data/mon27/";else if(28==_.skin_feature.wRaceImg&&241==_.skin_feature.wAppr)a="data/mon25/";else if(28==_.skin_feature.wRaceImg&&240==_.skin_feature.wAppr)a="data/mon25/";else{if(83==_.skin_feature.wRaceImg&&800==_.skin_feature.wAppr)return void(_.is_call&&(_.is_call=!1,$.play2skill(e.record,1017,1017,o,g,d)));if(101==_.skin_feature.wRaceImg&&321==_.skin_feature.wAppr){a="data/mon33/";var E=L.findobject(d),f=new l(o,g);return s=B.getorientation(_.grid,f),_.changestate(null,3,s,!1),void(E&&(m&&1==m?(y.playframe(!0,B.getMapLayerNode(),a,780,788,100,!1,!0,c(48*E.grid.x,32*-E.grid.y)),y.playframe(!0,B.getMapLayerNode(),a,790,799,100,!1,!0,c(48*E.grid.x,32*-E.grid.y))):m&&2==m&&($.play2skill(e.record,1009,1009,o,g,d,null,null,null),setTimeout((function(){y.playframe(!0,B.getMapLayerNode(),"data/magic/",1320,1335,50,!1,!0,c(48*E.grid.x,32*-E.grid.y))}),300))))}if(101==_.skin_feature.wRaceImg&&322==_.skin_feature.wAppr){a="data/mon33/";var u=L.findobject(d),p=new l(o,g);return s=B.getorientation(_.grid,p),_.changestate(null,3,s,!1),void(u&&(m&&1==m?y.playframe(!0,B.getMapLayerNode(),a,1320,1349,100,!1,!0,c(48*u.grid.x,32*-u.grid.y)):m&&2==m&&($.play2skill(e.record,1009,1009,o,g,d,null,null,null),setTimeout((function(){y.playframe(!0,B.getMapLayerNode(),"data/magic/",1340,1355,50,!1,!0,c(48*u.grid.x,32*-u.grid.y))}),300))))}if(161==_.skin_feature.wRaceImg&&327==_.skin_feature.wAppr){a="data/mon33/";var S=L.findobject(d),h=new l(o,g);return s=B.getorientation(_.grid,h),_.changestate(null,3,s,!1),void(S&&y.playframe(!0,S.node,a,3350,3389,100,!1,!0))}if(111==_.skin_feature.wRaceImg&&330==_.skin_feature.wAppr){a="data/magic5/";var A=L.findobject(d),T=new l(o,g);return s=B.getorientation(_.grid,T),_.changestate(null,3,s,!1),void(A&&(m&&199==m?($.playself(1004,1004,_,_.grid,null,null),setTimeout((function(){$.play2skill(e.record,1004,1004,o,g,d,null,null,null),setTimeout((function(){y.playframe(!0,A.node,a,270,274,100,!1,!0)}),400)}),500)):m&&200==m&&($.playself(1005,1005,_,_.grid,null,null),setTimeout((function(){$.play2skill(e.record,1005,1005,o,g,d,null,null,null),setTimeout((function(){y.playframe(!0,A.node,a,450,459,100,!1,!0)}),300)}),800))))}if(165==_.skin_feature.wRaceImg&&378==_.skin_feature.wAppr){a="data/mon38/";var v=L.findobject(d),M=new l(o,g);return s=B.getorientation(_.grid,M),_.changestate(null,3,s,!1),void(v&&($.playself(1008,1008,_,_.grid,null,null),setTimeout((function(){y.playframe(!0,v.node,a,4220,4222,100,!1,!0)}),800)))}if(165==_.skin_feature.wRaceImg&&3712==_.skin_feature.wAppr){a="data/mon38/";y.playframe(!0,B.getMapLayerNode(),a,6640,6645,100,!1,!0,c(I.x,-I.y));var D=new l(o,g);return s=B.getorientation(_.grid,D),void _.changestate(null,12,s,!1)}if(165==_.skin_feature.wRaceImg&&3713==_.skin_feature.wAppr){a="data/mon38/";var b=B.getMovePoint(_.grid,s,1),k=new l(48*b.x,32*b.y),C=new l(o,g);return s=B.getorientation(_.grid,C),_.changestate(null,11,s,!1),void y.playframe(!0,B.getMapLayerNode(),a,7510,7516,100,!1,!0,c(k.x,-k.y))}var G=350+2*s*10,R=G+6-1;a="data/mon5/"}y.playframe(!0,B.getMapLayerNode(),a,G,R,100,!1,!0,c(I.x,-I.y));var H=new l(o,g);s=B.getorientation(_.grid,H),_.changestate(null,3,s,!1)}},A.clientRecvAliveMessage=function(e,t){if(t.length>=13){var a=O.TCharDesc(t),r=a.feature,n=t.slice(13,t.length),i=O.TFeature(r,n);n=t.slice(13+r,t.length);var s=N.DecodeBuffer(n,!0),o={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:i,state:a.status,str:s};L.ChangeState(o),e.record==H.lockingID&&B.delhalo(H.lockingID);var c=L.findobject(o.record);e.ident==M.SKELETON&&(c.is_die=!0),e.ident==M.ALIVE&&B.showvaule(null,D.E_ROLE_ALIVE,c,null),c&&0==c.node.active&&(c.node.active=!0)}},A.clientChangeRoleFeature=function(e,t){if(null!=L.findobject(e.record)){if(e.param==t.length){var a=O.TFeature(e.param,t),r={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:a};L.ChangeState(r),T.raiseEvent(v.RESET_EQUIP_DLG);var n=L.findobject(e.record);if(n&&(n.m_nState=k._MAKELONG(e.param,e.tag),3==n.type)){var i={id:e.record,data:a.buffer[15]};T.raiseEvent(v.ONSURECOMFIRMFROMSVR,i),n.stallssetting(a.buffer[15])}}}else{var s={type:2,func:this.clientChangeRoleFeature.bind(this),params:[e,t]};L.putTask(s)}},A.QuerySelectShopInfoFaild=function(e,t){re.handlerAlert({type:1,content:"查询摆摊信息失败"})},A.ViewBaiTan=function(e,t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TBaiTanData(a.pszDest);H.G_BaiTanData=r,H.baitanGoldTypes=H.G_BaiTanData.PriceGold,re.otherShop()},A.OpenMyBaiTan=function(e,t){H.CurScene.OpenMyShop()},A.AddBaiTanItemFaild=function(e,t){console.log("AddBaiTanItemFaild:"+e+"bodystr: "+t),console.log(e);var a={code:0,record:e.record};T.raiseEvent(v.ADDSHOPITEMCONFIRMFROMSVR,a)},A.AddBaiTanItemOk=function(e,t){console.log("AddBaiTanItemOk:"+e+"bodystr: "+t),console.log(e);var a={code:1,record:e.record};T.raiseEvent(v.ADDSHOPITEMCONFIRMFROMSVR,a)},A.SendBaiTanName_Caiji=function(e,t){var a=L.findobject(e.record);if(a&&H.playerID==e.record){var r="";""!=t&&(r=N.DecodeString(t));for(var n=0;n<20;n++)if(null!=H.g_MyShopList[n]){var i=H.g_MyShopList[n].Items.s.Name,s=H.g_MyShopList[n].Items.MakeIndex,o="元宝";1==H.g_MyShopList[n].nType&&(o="金币");var c=1;Y.isOverLapItem(H.g_MyShopList[n].Items)&&(c=H.g_MyShopList[n].Items.Dura+1);var l="非绑定物品";H.g_MyShopList[n].Items.s.IsBind&&(l="已绑定物品");var g="转移到摆摊进行出售/"+r,d=l+"/"+o+"/"+c+"/"+H.g_MyShopList[n].nGold+"/非绑定";H.g_LogSocket.AddGameDataLog(37,i,s,g,d)}a.stallsname(r)}},A.DelUserShopItem=function(e,t){T.raiseEvent(v.DEL_SHOP_ITEM,e.record)},A.DelRemoteUserShopItem=function(e,t){null!=H.g_WaitItems.Items&&H.g_WaitItems.Items.MakeIndex==e.record&&(H.g_WaitItems.Items=null),T.raiseEvent(v.DEL_OTHER_SHOP_ITEM,e.record)},A.SendShopItem=function(e,t){var a=e.record,r=(N.fnDecode6BitBuf(t,t.length,!1),N.DecodeBuffer(t,!1)),n=r.indexOf("\\");if(-1!=n){r.substring(0,n);for(var i=r.substr(n+1).split("/"),s=[],o=0;o<i.length;o++){i[o];if(""!=i[o]){var c=N.fnDecode6BitBuf(i[o],i[o].length,!1),l=O.TClientItem(c.pszDest);s.push(l)}}H.G_BaiTanData={Item:s,nRecogId:a},re.otherShop()}},A.SendCloseShop=function(e,t){},A.DelBaiTanItemOk=function(e,t){null!=H.g_WaitItems.Items&&(B.addItemNewBag(H.g_WaitItems.Items),H.g_WaitItems.Items=null)},A.DelBaiTanItemFail=function(e,t){if(null!=H.g_WaitItems.Items){var a={code:1,record:H.g_WaitItems.Items.MakeIndex};T.raiseEvent(v.ADDSHOPITEMCONFIRMFROMSVR,a),H.g_WaitItems.Items=null}},A.SendBaiTanName=function(e,t){var a=N.DecodeString(t),r=L.findobject(e.record);r&&r.stallsname(a)},A.BuySomeItem=function(e,t){if(H.g_boOpenCaiji&&""!=t){var a=(t=N.DecodeString(t)).split("/"),r=a[0]+"%",n=a[1],i=a[2],s=Y.getSelShopItemsByIndex(e.record),o=1;if(s){var c=s.s.Name,l=e.record;o=s.Dura+1;var g,d=0,m=0;switch(e.series){case 1:m=H.g_GameCionNum.value-k._MAKELONG(e.param,e.tag);break;case 2:m=H.g_bindCionNum.value-k._MAKELONG(e.param,e.tag);break;case 3:d=111,m=H.g_GameGoldNum.value-k._MAKELONG(e.param,e.tag);break;case 4:m=H.g_bindGoldNum.value-k._MAKELONG(e.param,e.tag);break;case 5:m=H.g_GamePointNum.value-k._MAKELONG(e.param,e.tag);break;case 6:m=H.g_nGameDiamond.value-k._MAKELONG(e.param,e.tag);break;case 7:m=H.g_nGameGird.value-k._MAKELONG(e.param,e.tag);break;case 8:m=H.g_gameGlory.value-k._MAKELONG(e.param,e.tag);break;case 9:m=H.g_gamePopNum.value-k._MAKELONG(e.param,e.tag)}g=B.getCurrencyByGoldType(B.valueLimit(e.series-1));var _="非绑定物品";s.s.IsBind&&(_="已绑定物品");var I=i+"/"+n,E=_+"/"+g+"/"+o+"/"+m+"/非绑定";H.g_LogSocket.AddGameDataLog(36,c,l,I,E),I="减少/非绑定/购买摆摊物品/个人摊位/"+n+"/"+c+"/"+l+"/"+i,E=-m+"/"+r,H.g_LogSocket.AddGameDataLog(d,g,-1,I,E)}}switch(0==e.series?Y.delMyShopItems(e.record):Y.delLookShopItems(e.record),e.series){case 1:H.g_GameCionNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1);break;case 2:H.g_bindCionNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,2);break;case 3:H.g_GameGoldNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,3);break;case 4:H.g_bindGoldNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,4);break;case 5:H.g_GamePointNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,5);break;case 6:H.g_nGameDiamond.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,6);break;case 7:H.g_nGameGird.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,7);break;case 8:H.g_gameGlory.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,8);break;case 9:H.g_gamePopNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,9)}T.raiseEvent(v.UPDATE_BAG)},A.Play_htsd=function(e){if(e){var t=L.findobject(e.record);if(t){var a=new l(t.grid.x,t.grid.y);$.playself(0,75,t,a)}}},A.QueryShop=function(e,t){H.G_Cur_Store_Page=e.param,H.G_Total_Store_num=e.record,H.MainScene.showPersonalStore();for(var a=[],r=0;r<e.series;r++){var n=O.TClientUserShop(t);t=t.slice(56),a.push(n)}a&&(T.raiseEvent(v.GAME_SHOW_PERSONALSTORE,a),T.raiseEvent(v.GAME_SHOW_PAGE,[H.G_Total_Store_num,H.G_Cur_Store_Page,8]))},A.QuerySelectShopInfo=function(e,t){2!=e.series&&H.MainScene.showMyStore();var a=H.MainScene.UIBox.getChildByName("PersonalStore"),r=H.MainScene.UIBox.getChildByName("MyStore");if(a&&H.MainScene.closeWindow("PersonalStore"),r){var n=O.TClientUserShop(t);n&&""!=n&&(C.getInstance().QueryMyShopSellingItems(0,0,0,0,0,""),H.g_StoreItemNum[0]>0&&C.getInstance().GetMyShopItems(H.g_StoreItemIndex[0],0),C.getInstance().QueryMyShopSelledItems(0,0,0,0,0,""),H.g_StoreItemNum[2]<=0?C.getInstance().QueryMyshopStorageItems(0,0,0,0,0,""):C.getInstance().GetMyShopItems(H.g_StoreItemIndex[2],2),T.raiseEvent(v.SHOW_STORE_MESSAGE,n))}},A.SearchShopItems=function(e,t){H.G_Cur_Item_Page=e.param,H.G_Total_Item_num=e.record;for(var a=[],r=0;r<e.series;r++){var n=O.TClientUserShopItem(t);t=t.slice(1199),a.push(n)}a.length>0&&(T.raiseEvent(v.GAME_SHOW_PERSONALITEMS,a),T.raiseEvent(v.GAME_SHOW_PAGE,[H.G_Total_Item_num,H.G_Cur_Item_Page,5]))},A.QueryUserShopItems=function(e,t){H.MainScene.showStoreWin(),H.G_Total_Item_num=e.record,H.G_Cur_Item_Page=e.param;for(var a=[],r=0;r<e.series;r++){var n=O.TClientUserShopItem(t);t=t.slice(1199),a.push(n)}a.length>0&&(T.raiseEvent(v.GAME_SHOW_STOREITEM,a),T.raiseEvent(v.GAME_SHOW_SHOWSTOREPAGE,[H.G_Total_Item_num,H.G_Cur_Item_Page,5]))},A.SendBuyUserShopItemOk=function(e,t){G.SearchShopItems(null,null,0,0,0,""),re.handlerAlert({type:1,content:"购买成功！"})},A.SendBuyUserShopItemFail=function(e,t){e.record<0&&(-2==e.record?re.handlerAlert({type:1,content:"[失败]：该物品已经删除！"}):-3==e.record?re.handlerAlert({type:1,content:"[失败]：该物品已经出售！"}):-4==e.record?re.handlerAlert({type:1,content:"[失败]：该物品禁止出售！"}):-5==e.record?0==e.param?re.handlerAlert({type:1,content:"[失败]: 你的"+H.g_GameGoldNum.key+"不够"}):1==e.param?re.handlerAlert({type:1,content:"[失败]: 你的"+H.g_GamePointNum.key+"不够"}):2==e.param?re.handlerAlert({type:1,content:"[失败]: 你的"+H.g_GameCionNum.key+"不够"}):3==e.param?re.handlerAlert({type:1,content:"[失败]: 你的"+H.g_nGameDiamond.key+"不够"}):4==e.param&&re.handlerAlert({type:1,content:"[失败]: 你的"+H.g_nGameGird.key+"不够"}):-6==e.record?re.handlerAlert({type:1,content:"你的包裹已满！"}):-7==e.record?re.handlerAlert({type:1,content:"该用户不在线无法购买！"}):-10==e.record?re.handlerAlert({type:1,content:"该地图禁止使用个人商店！"}):re.handlerAlert({type:1,content:"未知错误，该物品可能不存在，请点击下面的“搜索”重新刷新一下！"}))},A.SendMoveMyShopItemOk=function(e,t){T.raiseEvent(v.DELETE_ITEMIMAGE),H.SelectedStoreItem=null},A.SendMoveMyShopItemFail=function(e,t){var a=e.param;e.record<0&&(-1==e.record?re.handlerAlert({type:1,content:"[失败]：操作过于频繁请稍后在试！"}):-3==e.record?re.handlerAlert({type:1,content:"[失败]：你还没有店铺！"}):-4==e.record?re.handlerAlert({type:1,content:"[失败]：该物品禁止交易！"}):-5==e.record?re.handlerAlert({type:1,content:"[失败]：加入店铺的物品价格必须大于0！"}):-6==e.record?re.handlerAlert({type:1,content:"[失败]：该物品禁止存仓库！"}):-7==e.record?re.handlerAlert({type:1,content:"[失败]：包裹已满，无法取回！"}):-8==e.record?re.handlerAlert({type:1,content:"[失败]：只能同时出售"+a+"个物品"}):-9==e.record?re.handlerAlert({type:1,content:"[失败]：你的仓库只能存放"+a+"个物品"}):-10==e.record?re.handlerAlert({type:1,content:"[失败]：该地图禁止使用个人商店！"}):re.handlerAlert({type:1,content:"[失败]：未知错误，该物品可能不存在，请点击下面的“搜索”重新刷新一下！"}))},A.QueryMyShopSelledItems=function(e,t){H.g_StoreItemNum[1]=e.record,H.g_StoreItemIndex[1]=e.param;for(var a=[],r=0;r<e.series;r++){var n=O.TClientUserShopItem(t);t=t.slice(1199),a.push(n)}a.length>0&&(T.raiseEvent(v.SHOW_STORE_SOLD,a),T.raiseEvent(v.GAME_SHOWSTOREPAGE,[H.g_StoreItemNum[1],H.g_StoreItemIndex[1],1]))},A.QueryMyShopStorageItems=function(e,t){H.g_StoreItemNum[2]=e.record,H.g_StoreItemIndex[2]=e.param;for(var a=[],r=0;r<e.series;r++){var n=O.TClientUserShopItem(t);t=t.slice(1199),a.push(n)}a.length>0&&(T.raiseEvent(v.SHOW_STORE_STORAGE,a),T.raiseEvent(v.GAME_SHOWSTOREPAGE,[H.g_StoreItemNum[2],H.g_StoreItemIndex[2],2]))},A.SendAddToMyShopOk=function(e,t){H.AddStoreItem&&B.delBagItems(H.AddStoreItem.MakeIndex),T.raiseEvent(v.DELETE_ITEMIMAGE),H.AddStoreItem=null,H.SelectedStoreItem=null},A.SendAddToMyShopFail=function(e,t){var a=e.param;-1==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：操作过于频繁请稍后在试！"}):-3==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：你还没有店铺！"}):-4==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：加入店铺的物品价格必须大于0！"}):-5==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：该物品禁止交易！"}):-6==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：该物品禁止存仓库！"}):-7==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：只能同时出售"+a+"个物品"}):-8==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：你的仓库只能存放"+a+"个物品"}):-10==e.record?re.handlerAlert({type:1,content:"[物品增加失败]：该地图禁止使用个人商店！"}):re.handlerAlert({type:1,content:"[物品增加失败]：未知错误！"})},A.SendChangeMyShopItemOk=function(e,t){re.handlerAlert({type:1,content:"[成功]：修改成功！"}),T.raiseEvent(v.DELETE_ITEMIMAGE),H.SelectedStoreItem=null},A.SendChangeMyShopItemFail=function(e,t){e.param;var a="";a=-1==e.record?"：操作过于频繁请稍后在试！":-3==e.record?"：你还没有店铺！":-4==e.record?"：加入店铺的物品价格必须大于0！":-5==e.record?"：该物品禁止交易！":-6==e.record?"：该物品禁止存仓库！":-7==e.record?"：只能同时出售":-8==e.record?"：你的仓库只能存放":-10==e.record?"：该地图禁止使用个人商店！":"：未知错误，该物品可能不存在，请点击下面的“搜索”重新刷新一下！",re.handlerAlert({type:1,content:"[修改物品失败]"+a})},A.clientRecvHideMessage=function(e,t){var a=L.findobject(e.record);if(a&&a.msg_list.length>0)for(var r=0;r<a.msg_list.length;r++){var n=a.msg_list[r];if(n&&10==n.msg.ident)return}e.record!=H.playerID&&L.delobject(e.record)},A.clientRecvMoveFailMessage=function(e,t){console.log(">>角色移动失败:",e.param,e.tag),F.springback(e.param,e.tag)},A.clientRecvHealthSpellChanged=function(e,t){if(null!=L.findobject(e.record)){var a,r,n,i,s=e.record,o=k._MAKELONG(e.param,e.tag),c=t.length;if(41==c){var l=O.TNewMessageBodyWL(t);a=l.lParam1,r=l.lParam2,l.lTag1,n=l.lTag2,i=l.lTag3,l.BlastHitType,l.ResID,l.ResStartIdx}else if(5==c){a=O.TMessageHealthSpellChangedInfo(t).ChangeHP}if(H.playerID&&s==H.playerID){var g=L.findobject(s);if(g){var d=g.m_Abil;d&&(d.HP>a?(B.showvaule(d.HP-a,D.E_ROLE_CHANGE_HP,g,!1),H.GlobalCfglist.autotp&&q.transfer(g.m_Abil.HP,g.m_Abil.MaxHP)):d.HP<a&&d.HP<d.MaxHP&&B.showvaule(a-d.HP,D.E_ROLE_CHANGE_HP,g,!0),d.MP>o&&o>0?(B.showvaule(d.MP-o,D.E_ROLE_CHANGE_MP,g,!1),H.GlobalCfglist.autotp1&&q.transfer1(g.m_Abil.MP,g.m_Abil.MaxMP)):d.MP<o&&o>0&&d.MP<d.MaxMP&&B.showvaule(o-d.MP,D.E_ROLE_CHANGE_MP,g,!0),o>0&&(d.MP=o),a>0&&(d.HP=a),r>0&&(d.MaxHP=r),n>0&&(d.Level=n),null==r&&(r=d.MaxHP),null==i&&(i=d.MaxMP),null==n&&(n=d.Level),T.raiseEvent(v.UPDATE_ROLE_INFO,d),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM))}}var m=L.findobject(s);if(m&&m.Blood&&m.Blood.showBlueBar(m),L.updateObjectHp(r,a,s,o,i),H.g_myHero&&H.g_myHero.m_Abil&&H.g_myHero.data.record==s){var _=H.g_myHero.m_Abil;null!=o&&(_.MP=o),null!=a&&(_.HP=a),null!=r&&(_.MaxHP=r),null!=n&&(_.Level=n),H.GlobalCfglist.autotpH&&q.heroCllback(H.g_myHero.m_Abil.HP,H.g_myHero.m_Abil.MaxHP),T.raiseEvent(v.UPDATE_HERO_INFO,_)}}else{var I={type:2,func:this.clientRecvHealthSpellChanged.bind(this),params:[e,t]};L.putTask(I)}},A.clientChangeBead=function(e,t){e.param,e.tag,N.DecodeString(t)},A.clientRecvAbilityMessage=function(e,t){H.g_GameCionNum.value=e.record,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1);var a=k._LOBYTE(e.param);H.g_GameGoldNum.value=k._MAKELONG(e.tag,e.series),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,3);var r,n=L.findobject(H.playerID);if(H.g_boOpenCaiji)if(-1!=t.indexOf("/")){var i=t.split("/");if(i.length>1){var s=H.g_gamePopNum.value,o=N.zDecode2String(i[0]);r=O.TAbility(o);var c=N.DecodeString(i[1]);H.g_gamePopNum.value=r.CreditPoint,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,9),H.g_gamePopNum.value>s&&H.g_LogSocket.AddGameDataLog(116,"声望",H.g_gamePopNum.value,"增加/非绑定/"+c,H.g_gamePopNum.value-s),H.g_gamePopNum.value<s&&H.g_LogSocket.AddGameDataLog(116,"声望",H.g_gamePopNum.value,"减少/非绑定/"+c,H.g_gamePopNum.value-s),n&&n.m_Abil.Level&&n.m_Abil.Level!=r.Level&&H.g_LogSocket.AddGameDataLog(12,"??",1,n.m_Abil.Level,""),T.raiseEvent(v.UPDATE_ROLE_INFO,r),L.SetAttribute(H.playerID,r)}}else{var l=N.zDecode2String(t);r=O.TAbility(l),n&&n.m_Abil.Level&&n.m_Abil.Level!=r.Level&&H.g_LogSocket.AddGameDataLog(12,"??",1,r.Level,""),T.raiseEvent(v.UPDATE_ROLE_INFO,r),L.SetAttribute(H.playerID,r)}else{var g=N.zDecode2Buffer(t);r=O.TAbility(g),T.raiseEvent(v.UPDATE_ROLE_INFO,r),L.SetAttribute(H.playerID,r),r&&(H.g_gamePopNum.value=r.CreditPoint,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,9))}var d=L.findobject(H.playerID),m=0;d&&d.skin_feature&&(m=d.skin_feature.btGender),T.raiseEvent(v.RESET_HEAD_ICON,[m,a]),L.updateObjectHp(r.MaxHP,r.HP,H.playerID,r.MP,r.MaxMP),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM),T.raiseEvent(v.UPDATE_BAG)},A.PoisonDechealth=function(e,t){var a=e.record,r=L.findobject(a);r&&(r.node.getChildByName("lvdu")||B.showvaule(null,D.E_ROLE_POISONING_GRE,r))},A.PoisonDamagearmor=function(e,t){var a=e.record,r=L.findobject(a);r&&(r.node.getChildByName("hongdu")||B.showvaule(null,D.E_ROLE_POISONING_RED,r))},A.PoisonStone=function(e,t){var a=e.record,r=L.findobject(a);r&&(r.node.getChildByName("mabi")||B.showvaule(null,D.E_ROLE_LULL,r),a==H.playerID&&(r.paralysis_state=!0))},A.clientRecvSubAbilityMessage=function(e,t){H.g_nMyHitPoint=k._LOBYTE(e.param),H.g_nMySpeedPoint=k._HIBYTE(e.param),H.g_nMyAntiPoison=k._LOBYTE(e.tag),H.g_nMyPoisonRecover=k._HIBYTE(e.tag),H.g_nMyHealthRecover=k._LOBYTE(e.series),H.g_nMySpellRecover=k._HIBYTE(e.series),H.g_nMyAntiMagic=k._LOBYTE(e.record);N.DecodeString(t);H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM)},A.clientChangeLightOnDay=function(e){e.param,e.tag},A.setWeatherEffect=function(e){var t=0;if(1==k._LOBYTE(e.param)?t=1:1==k._HIBYTE(e.param)?t=2:1==e.tag?t=3:0==k._LOBYTE(e.param)&&0==k._HIBYTE(e.param)&&0==e.tag&&(t=0),0!=t){var a="";1==t?a="flower":2==t?a="gold":3==t&&(a="snow"),""!=a&&le.addPartical(a)}else le.removePartical()},A.updateRoleBaseAttri=function(e,t){if(""!=t){H.g_nBonusPoint=e.record;var a=B.sliceUint32Array(t,0,40),r=B.sliceUint32Array(t,40,80),n=B.sliceUint32Array(t,80,120);H.g_BonusTick=O.TNakedAbility(a),H.g_BonusAbil=O.TNakedAbility(r),H.g_NakedAbil=O.TNakedAbility(n);for(var i=[],s=0;s<60;s++)i.push(0);H.g_BonusAbilChg=O.TNakedAbility(i),T.raiseEvent(v.SHOWBONUS,H.g_nBonusPoint>0)}},A.clientRecvItemDescList=function(e,t){var a=e.param,r=t.substring(0,a),n=t.substring(a),i=N.zDecodeString(r),s=N.zDecodeString(n),o="";i&&(o=i),s&&(o=i+s),B.dismantlingItemDescText(o)},A.ChangeUseDura=function(e,t){null!=H.g_UserItemList[x.RIGHTHAND]&&(H.g_UserItemList[x.RIGHTHAND].Dura=e.record)},A.ChangeItemDura=function(e,t){B.updateUserItemsForIdx(e.param,e.record,k._MAKELONG(e.tag,e.series));var a=e.param;if(x.GODBLESS1,null!=H.g_UserItemList[a]&&null!=H.g_UserItemList[a])""!=H.g_UserItemList[a].s.Name&&(H.g_UserItemList[a].Dura=e.record,H.g_UserItemList[a].DuraMax=k._MAKELONG(e.tag,e.series));else if(x.JEWELRY1<=a&&a<=x.JEWELRY10){var r;r}else if(x.GODBLESS1<=a&&a<=x.GODBLESS12){var n=H.g_GodBlessItems[a-x.GODBLESS1];n&&""!=n.s.Name&&(n.Dura=e.record,n.DuraMax=k._MAKELONG(e.tag,e.series))}},A.openmissonwindowex=function(e,t){if(this.UpGlobaInf(t),10==e.record||11==e.record)for(var a=0;a<H.g_MissCaptionList.length;a++)""!=H.g_MissCaptionList[a].sTabName&&(H.g_MissCaptionList[a].sList=[],C.getInstance().gettmissitem(H.rw_recog,e.record,"@"+H.g_MissCaptionList[a].sTabName));else e.record>=0&&e.record},A.bluemissionlist=function(e,t){for(var a=N.fnDecode6BitBuf(t,t.length),r=new Zlib.Inflate(a.pszDest).decompress(),n=0;n<e.series;++n){var i=B.slice(r,260*n,260*(n+1)),s=O.TBlueMission(i);H.task_tile_list.push(s)}},A.open2Dialog=function(e,t){this.UpGlobaInf(t);var a=N.DecodeBuffer(t,!1);if(H.rw_recog==e.record){var r=a.split("\r"),n=r[0];"@没有任务"==n&&(n="@成长任务");for(var i=0;i<H.g_MissCaptionList.length;i++)if(""!=n&&n.toLowerCase()=="@"+H.g_MissCaptionList[i].sTabName){10==e.tag||e.tag;break}10!=e.tag&&11!=e.tag||ie.GetMissStringInfo(n,r[1],e.tag)}else{var s=e.record,c=null;o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(c=o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")),c&&c.isValid&&c.npcBgPosObj&&(this.isDiyNpc=c.npcBgPosObj.isDiyNpc);var l=a.split("\r"),g=null;g=l.length>1?l[1].replace(/　/gim,"  "):l[0],this.isDiyNpc&&this.DiyNpcId!=s?(re.npcDiyWinContent(g),this.isDiyNpc=!1,this.DiyNpcId=s):this.isDiyNpc&&this.DiyNpcId==s?(this.isDiyNpc=!1,re.npcDiyWinContent(g)):(H.G_NPC_ID,re.npcResWinLoad(g)),H.g_NpcShowtxt=a,H.G_NPC_ID=s}},A.newTaskList=function(e){if(e){var t=(e=N.zDecodeString(e)).split("");H.g_newTaskList=[];for(var a=0;a<t.length;a++){for(var r=t[a].split(""),n=0;n<r.length;n++)r[n]=r[n].trim(),0===n&&(r[n]=Number(r[n]));if(r.length>0&&!isNaN(r[0])&&r[0]>0){var i=r[5].split("|");i.length>3&&(i=i.slice(0,2));for(var s=0;s<i.length;s++){var o=Number(i[s]);i[s]=1!=o&&2!=o&&3!=o?0:o}for(var c=3-i.length,l=0;l<c;l++)i.push(0);r[5]=i,r[6]=isNaN(Number(r[6]))?0:Number(r[6]),H.g_newTaskList.push(r)}}}},A.newTaskOperate=function(e,t){H.g_taskPanel=H.CurScene.panel_task,t=N.DecodeString(t),ie.newTaskHandle(e,t)},A.mailstate=function(e,t){H.g_mailMaxCount=e.record,0==e.param&&T.raiseEvent(v.NEW_MAIL_NOTICE,1)},A.getUserMail=function(e,t){var a=0;if(e.record>0)for(var r=N.fnDecode6BitBuf(t,t.length),n=new Zlib.Inflate(r.pszDest).decompress(),i=0;i<e.record;i++)H.g_mailList.push(O.TClientMailViewInf(n,i)),H.g_mailList[i].btState<2&&a++;T.raiseEvent(v.GET_USER_MAIL,a)},A.getUserMailContent=function(e,t){if(e.record>0)for(var a=N.fnDecode6BitBuf(t,t.length),r=new Zlib.Inflate(a.pszDest).decompress(),n=0;n<H.g_mailList.length;n++){var i=H.g_mailList[n];if(i.nMailIdx==e.record){i.content=O.TClientMailInf(r,e.param),i.btState=i.content.btState;var s=e.tag;T.raiseEvent(v.UPDATE_MAIL_STATE,{mail:i,tag:s}),T.raiseEvent(v.GET_MAIL_CONTENT,{mail:i});break}}},A.getUserMailUpdate=function(e,t){if(e.record>0){for(var a=N.fnDecode6BitBuf(t,t.length),r=new Zlib.Inflate(a.pszDest).decompress(),n=[],i=0,s=0;s<e.param;s++)n.push(r[i++]|r[i++]<<8|r[i++]<<16|r[i++]<<24);for(var o=0;o<H.g_mailList.length;o++){var c=H.g_mailList[o];if(c.nMailIdx==e.record&&(c.btState=e.tag,T.raiseEvent(v.UPDATE_MAIL_STATE,{mail:c,tag:e.tag}),c.content)){c.content.btState=e.tag;for(var l=0;l<c.content.items.length;l++)c.content.items[l].nCurrentCount=n[l];T.raiseEvent(v.GET_MAIL_CONTENT,{mail:c,isTrue:!0});break}}}},A.getMailOkCode=function(e,t){},A.getMailFailCode=function(e,t){var a="";switch(e.record){case 1:a="删除失败";break;case 2:a="背包已满";break;case 3:a="邮件已过期"}re.handlerAlert({type:1,content:a})},A.deleteAllMail=function(e,t){var a=[];if(""!=t){for(var r=N.fnDecode6BitBuf(t,t.length),n=new Zlib.Inflate(r.pszDest).decompress(),i=0,s=0;s<e.record;s++)a.push(n[i++]|n[i++]<<8|n[i++]<<16|n[i++]<<24);a.length>0&&T.raiseEvent(v.DELETE_ALL_MAIL,a)}},A.addNewMail=function(e,t){if(""!=t){var a=N.fnDecode6BitBuf(t,t.length),r=new Zlib.Inflate(a.pszDest).decompress(),n=O.TClientMailViewInf(r,0);H.g_mailList.unshift(n),T.raiseEvent(v.ADD_NEW_MAIL,{mail:n})}},A.updateExtendBagItemCount=function(e){H.g_extendBagItemCount=e.record;var t=B.maxBagItems();if(H.g_BagItemsList.length<t)for(var a=t-H.g_BagItemsList.length,r=0;r<a;r++)H.g_BagItemsList.push(null);else if(H.g_BagItemsList.length>t)for(var n=H.g_BagItemsList.length-t,i=H.g_BagItemsList.length-1;i>=0;i--)if(null==H.g_BagItemsList[i]&&(H.g_BagItemsList.splice(i,1),n--),n<=0){B.loadBagItemIcon(H.g_BagItemsList,0);break}1===e.param&&B.updateExtendBagItemCount()},A.clientGetSenduseItems=function(e,t){if(e.param==t.length){B.intUserItems(H.HighTUseItems),H.g_UserItemList=[];for(var a=0,r=0;r<e.series;r++){var n=t[a];a++;var i=B.slice(t,a,a+H.g_itemSize),s=O.TClientItem(i);a+=H.g_itemSize,n>=0&&n<=H.HighTUseItems&&(H.g_UserItemList[n]=s,s.tag=n,Z.getInstance().AddItemToRole(s))}}},A.clientRecvDropItemSucc=function(e,t){var a=e.record,r=N.DecodeString(t);if(H.g_boOpenCaiji){var n="非绑定物品";H.g_WaitItems.Items.s.IsBind&&(n="已绑定物品");var i=n+"/1",s=H.g_WaitItems.Items.Dura>0?H.g_WaitItems.Items.Dura+1:1;H.g_LogSocket.AddGameDataLog(7,r,a,i,s)}null!=H.g_WaitItems.Items&&H.g_WaitItems.Items.MakeIndex==a&&(T.raiseEvent(v.SHOW_BAG_HINT),H.g_WaitItems.Items=null),T.raiseEvent(v.SHOW_BAG_ITEMS)},A.clientRecvDropItemFail=function(e,t){var a=e.record;N.DecodeString(t);null!=H.g_WaitItems.Items&&H.g_WaitItems.Items.MakeIndex==a&&(B.addItemNewBag(H.g_WaitItems.Items),H.g_WaitItems.Items=null)},A.clientRecvShowItemMsg=function(e,t){var a=N.DecodeString(t);if(""!=a){var r=O.TDropItem();if(r.id=e.record,r.x=e.param,r.y=e.tag,r.Looks=e.series,r.FlashTime=Math.floor(3e3*Math.random()),r.show=!0,-1!=a.indexOf("|")){var n=a.split("|");a=n[0]}var i=a.split("/");r.Color=parseInt(i[0]);var s=k._HIWORD(parseInt(i[1]));if(s>0){var o=H.g_DropItemEffectList[s];r.DropEffectFileIndex=o.FileIndex,r.DropEffectStartOffSet=o.StartIndex,r.DropEffectImageCount=o.ImageCount,r.DropEffectOffsetX=o.OffsetX,r.DropEffectOffsetY=o.OffsetY,r.DrawCenter=o.DrawCenter,r.DropEffectFrameTime=o.Time,r.DropEffectNormalDraw=o.NoBlend}else r.DropEffectFileIndex=-1;i.length>3&&(r.Name=i[3]),Q.AddItemToMap(r)&&T.raiseEvent(v.UPDATE_MAP_ITEMS,r)}},A.clientRecvHideItemMsg=function(e,t){var a=e.record;e.param,e.tag;if(Z.getInstance().DelItemFromMap(a),a){var r=t?parseInt(N.DecodeString(t)):null,n=r&&r==H.playerID;T.raiseEvent(v.DELETE_MAP_ITEMS,[a,n])}},A.StorageViewItemList=function(e,t){if(e.param>0&&e.param==t.length){for(var a=k._LOBYTE(e.series),r=0;r<H.g_StoreItemList.length;r++)H.g_StoreItemList[r]=null;H.g_storeIndex=e.record;var n=new Zlib.Inflate(t).decompress(),i=B.slice(n,0,16),s=new z(i);H.g_curStorePage=s.page;for(var o=0;o<a;o++){var c=B.slice(n,16+H.g_itemSize*o,H.g_itemSize*(o+1)),l=O.TClientItem(c);H.g_StoreItemList[o]=l}H.g_StoreCount=a,H.g_StoreMaxCount=s.maxPage*s.maxCount,H.g_StoreLimitCount=s.maxCount,B.showNewStore(!0,H.g_StoreLimitCount)}},A.MsgDepotItems=function(e,t){if(-1!=t.indexOf(";")&&(t=t.split(";"),H.g_StoreLimitCount=parseInt(t[0]),t=t[1]),0==e.param&&0==e.tag&&0==e.series&&0==e.record);else if(0==e.param&&0==e.tag&&0==e.series){for(var a=0;a<H.g_StoreItemList.length;a++)if(null!=H.g_StoreItemList[a]&&H.g_StoreItemList[a].MakeIndex==e.record){H.g_StoreCount-=1,B.addItemNewBag(H.g_StoreItemList[a]),H.g_StoreItemList[a]=null,T.raiseEvent(v.SHOW_STORE_ITEM_ICO,H.g_StoreLimitCount);break}}else if(0==e.param&&1==e.tag&&1==e.series){if(0==e.record)return void re.handlerAlert({type:1,content:"您无法携带更多物品了。"});for(var r=0;r<H.g_StoreItemList.length;r++){var n=H.g_StoreItemList[r];if(null!=n&&n.MakeIndex==e.record)return H.g_StoreCount-=1,H.g_StoreItemList[r]=null,void B.showNewStore(!0,H.g_StoreLimitCount)}}else{var i=H.g_StoreType;if(0!=(1073741824&e.record)?H.g_StoreType=1:H.g_StoreType=2,e.param==t.length){var s,o=i>0&&i==H.g_StoreType,c=H.g_StoreItemList,l=o?H.g_StoreItemList:H.g_otherStoreList;if(l&&l.length>0){s={};for(var g=l.length-1;g>=0;g--){if(l[g])s[l[g].MakeIndex+""]={pos:g,data:l[g]}}}if(0==(e.record>>>24&63)&&(H.g_StoreItemList=[]),H.g_StoreMaxCount=e.tag,H.g_StoreCount=e.series,""!=t){for(var d=new Zlib.Inflate(t).decompress(),m=0;m<H.g_StoreCount;m++){var _=B.slice(d,H.g_itemSize*m,H.g_itemSize*(m+1)),I=O.TClientItem(_);s&&s[I.MakeIndex+""]&&s[I.MakeIndex+""].data?H.g_StoreItemList[s[I.MakeIndex+""].pos]=s[I.MakeIndex+""].data:H.g_StoreItemList.push(I)}o||(H.g_otherStoreList=c)}B.showNewStore(!0,H.g_StoreLimitCount)}}},A.AddMagicToRole=function(e,t){console.log("AddMagicToRole",e,t);var a=new j(t);if(B.addMagic(a),T.raiseEvent(v.UPDATE_AUTOSKILL),a.Def){if("基本剑术"==a.Def.sMagicName||"攻杀剑术"==a.Def.sMagicName||"精神力战法"==a.Def.sMagicName||"护体神盾"==a.Def.sMagicName)return;if(a.Def.wMagicId>=1e3&&a.Def.wMagicId<=1500){var r=$.findCustomSkill(a.Def.wMagicId,a.Level);if(a&&r){H.g_pak_list[r.iconFileIndex];r.wIconImageIndex}}else{var n=a.Def.btEffect;38==a.Def.wMagicId&&(n=4),46==a.Def.wMagicId&&(n=42),39==a.Def.wMagicId&&(n=0);B.getFile(2*n)}for(var i=0;i<H.g_SetupMagicList.length;i++)if(null==H.g_SetupMagicList[i]){H.g_SetupMagicList[i]=a,Y.setSkillKey(H.g_SetupMagicList[i].Def.wMagicId,i+49),T.raiseEvent(v.MAGIC_REFRESH),T.raiseEvent(v.UPDATE_ICON,i);break}}},A.SelfMagicData=function(e,t){var a=e.param,r=e.series;e.record;if(a>0&&a==t.length){var n=new Zlib.Inflate(t).decompress();H.g_UserMagicList=[];for(var i=0;i<r;i++){var s=B.slice(n,166*i,166*(i+1)),o=new j(s);o.Key>=49&&o.Key<=56&&(H.g_SetupMagicList[o.Key-49]=o),H.g_UserMagicList.push(o);o.Def.btEffect;38==o.Def.wMagicId&&4,46==o.Def.wMagicId&&42,39==o.Def.wMagicId&&0}console.log("玩家技能 ---\x3e>> ",H.g_UserMagicList),null==H.g_SetupMagicList[12]?T.raiseEvent(v.ADD_MAGIC_ATTACK):T.raiseEvent(v.ADD_MAGIC_ATTACK,H.g_SetupMagicList[12]),T.raiseEvent(v.UPDATE_ICON),T.raiseEvent(v.UPDATE_AUTOSKILL),H.CurScene.markMainSKill.getChildByName("MainSkill")&&H.CurScene.markMainSKill.getChildByName("MainSkill").getComponent(he).eventMgrUpdateIconHandler()}},A.onFriendOption=function(e,t){T.raiseEvent(v.FRIEND_INFO_HANDLE,[e,t])},A.onFriendInfo=function(e,t){var a=N.zDecodeString(t);T.raiseEvent(v.UPDATE_FRIEND_INFO,a)},A.MagicStaticList=function(e,t){},A.IsHaveGrild=function(e,t){if(null!=t){var a=N.DecodeString(t),r=L.findobject(H.playerID);r&&(r.grildname=a),T.raiseEvent(v.UPDATE_HUMWIN_GUILDNAME,a)}},A.clientRecvSpaceMoveHideMsg=function(e){var t=e.record;if(t!=H.playerID){var a=L.findobject(t),r=new l(e.tag,e.series);a&&$.playself(19,4,a,r),L.delobject(t)}},A.clientRecvSpaceMove2HideMsg=function(e){var t=e.record;if(t!=H.playerID){var a=L.findobject(t),r=new l(e.tag,e.series);a&&$.playself(19,4,a,r),a&&3==a.type&&L.delobject(e.record)}},A.clientRecvSpaceMoveShowMsg=function(e,t){if(t.length>13){var a=O.TCharDesc(t),r=a.feature,n=t.slice(13,t.length),i=O.TFeature(r,n);n=t.slice(13+r,t.length);var s=N.DecodeBuffer(n,!0),o=e.record,c=e.param,l=e.tag,g=L.findobject(o);if(""!=s){var d={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series,fea:i,state:a.status};L.ChangeState(d)}g&&(o==H.playerID&&L&&(L.resetLockID(),setTimeout((function(){}),500)),g.updatePos(48*c,32*-l),g.grid.x=c,g.grid.y=l,g.target_pos.x=c,g.target_pos.y=l,H.g_suijiStone&&(H.g_suijiStone=!1,setTimeout((function(){T.raiseEvent("keepGo")}),500)),o==H.playerID&&(H.selfPlayerTransfer=!0,T.raiseEvent(v.UPDATEPOS)),H.autohookstate&&o==H.playerID&&T.raiseEvent(v.ONHOOK,"0"))}T.raiseEvent(v.SHOW_BAG_ITEM_ICO)},A.clientRecvlevelup=function(e,t){if(L.levelup(e.record),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM),H.g_boOpenCaiji){var a=L.findobject(e.record);H.playerID,e.record,a&&H.g_myHero==a&&H.g_LogSocket.AddGameDataLog(12,"??",2,a.m_Abil.Level,"")}},A.clientRecvActorSay=function(e,t){var a=e.record,r=N.DecodeBuffer(t,!1),n=k._LOBYTE(e.param),i=k._HIBYTE(e.param),s=4;r.indexOf("(!)")>=0&&(s=6),T.raiseEvent(v.NEW_CHAT_MSG,[{info:r,front:n,bg:i,type:s}]),-1!=r.indexOf("</:")||-1!=r.indexOf("{pos|")||-1!=r.indexOf("<[")&&-1!=r.indexOf("]>")&&-1!=r.indexOf("\\")||L.showChatTxt(a,r)},A.clientRecvWinExp=function(e,t){var a;a=e.record<0?4294967296+e.record:e.record;var r=e.series,n=k._MAKELONG(e.param,e.tag),i=N.DecodeString(t),s=L.findobject(H.playerID);null!=s&&(3==r?(s.m_Abil.Exp=a,re.handlerAlert({type:1,content:"已获得"+parseInt(n)+"点经验值(包含"+i+"双倍经验)"})):0==e.series&&(s.m_Abil.Exp=a),T.raiseEvent(v.UPDATE_ROLE_INFO,s.m_Abil),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM))},A.clientRecvCuteMsg=function(e,t){e.record,e.param},A.clientRecvWineMagic=function(e,t){e.param,N.DecodeString(t)},A.clientRecvPlayerTalkMsg=function(e,t,a){var r;if(e.ident==M.SYSMESSAGE){var n=N.DecodeBuffer(t,!1);if(-1!=n.indexOf("ItemCanPickUpTick")&&-1!=n.indexOf("MsgID")&&-1!=n.indexOf("MakeIndex")){r=JSON.parse(n);var i=L.findobject(H.playerID);r&&i.grid.x==r.ItemX&&i.grid.y==r.ItemY&&setTimeout((function(){C.getInstance().ClickMapItem(i.grid.x,i.grid.y)}),3300)}}if(1!=e.tag){var s="";if(100==e.ident&&65023!=e.param&&(s=this.UpGlobaInf(t,!1)),""==s&&(s=N.DecodeBuffer(t,!1)),""!=s&&(r&&(s=r.Say),(!r||""!=r.Say)&&-1==s.indexOf("套装属性"))){var o=s.indexOf("{");if(-1!=o)if(-1!=s.indexOf("|"));else{var c=s.indexOf("/"),l=s.indexOf("}"),g=s.substr(0,o),d=s.substr(o+1,c-(o+1)),m=s.substr(l+1,s.length);s=g+d+m}if(e.ident==M.WHISPER){for(var _=s.split(" ")[0],I=0;I<H.G_Friend_HMD_List.length;I++)if(H.G_Friend_HMD_List[I]==_)return;for(var E=0;E<H.G_PRIVATE_CHAT_list.length;E++)if(H.G_PRIVATE_CHAT_list[E]==_)return}var f=k._LOBYTE(e.param),u=k._HIBYTE(e.param);if(0==a){(e.ident!=M.SYSMESSAGE||e.ident==M.SYSMESSAGE&&1!=e.tag&&196==f)&&(a=1),T.raiseEvent(v.NEW_CHAT_MSG,[{info:s,front:f,bg:u,type:a}]),-1!=s.indexOf("(英雄) 状态：")&&T.raiseEvent(v.HEROSTATE,s),-1==s.indexOf("召唤烈火精灵失败")&&-1==s.indexOf("开启逐日剑法失败")&&-1==s.indexOf("龙影剑法开启失败")&&-1==s.indexOf("开天斩开启失败")||!H.lockingID||F.fight();var p=s.indexOf("强行离线");s.indexOf("元宝不足,无法购买");if(p>=1&&Z.getInstance().LastBaiTanBuyItem){var S=Z.getInstance().LastBaiTanBuyItem.item.MakeIndex;Z.getInstance().DeleteItem(S,!0)}}else T.raiseEvent(v.NEW_CHAT_MSG,[{info:s,front:f,bg:u,type:a}]);3==a&&H.G_Guald_Chat_List.push({title:"",info:s})}}},A.clientRecvMoveMessage=function(e,t){var a=N.DecodeBuffer(t,!1).toLowerCase(),r=k._LOBYTE(e.param),n=k._HIBYTE(e.param),i=e.tag,s=e.series,o=k._LOWORD(e.record),c=k._HIWORD(e.record);H.G_RollMsg[s]?H.G_RollMsg[s].push({txt:a,fcolor:r,bcolor:n,fontSize:i,y:s,count:o,time:c}):(H.G_RollMsg[s]=[{txt:a,fcolor:r,bcolor:n,fontSize:i,y:s,count:o,time:c}],re.showBroadCast(H.G_RollMsg[s],s))},A.clientRecvDelayMsg=function(e,t){var a={msgId:e.record,time:e.param,f_color:R.Get2RGB(e.tag),outLineColor:R.Get2RGB(e.series),content:N.DecodeString(t)};re.showToast(a)},A.clientRecvCenterMsg=function(e,t){k._LOBYTE(e.param),k._HIBYTE(e.param),e.record,N.DecodeString(t)},A.clientRecvMsgShowOnChatTop=function(e,t){var a=k._LOBYTE(e.param),r=k._HIBYTE(e.param),n=e.record,i=N.DecodeString(t);T.raiseEvent(v.NEW_CHAT_MSG,[{info:i,front:a,bg:r,type:1},n])},A.clientRecvAddItemMessage_Caiji=function(e,t){if(""!=t){var a,r=-100;if(-1!=t.indexOf("/")){var n=t.split("/"),i=n[0];n[1]&&(r=parseInt(N.DecodeString(n[1])));var s=N.fnDecode6BitBuf(i,i.length,!1);a=O.TClientItem(s.pszDest)}else{var o=N.fnDecode6BitBuf(t,t.length,!1);a=O.TClientItem(o.pszDest)}var c="1";Y.isOverLapItem(a)&&(c=a.Dura+1);var l="非绑定物品";switch(a.s.IsBind&&(l="已绑定物品"),r){case 4:case 5:H.g_LogSocket.AddGameDataLog(r,a.s.Name,a.MakeIndex,c,l);break;case 29:case 30:case 33:H.g_LogSocket.AddGameDataLog(r,a.s.Name,a.MakeIndex,l,c);break;case 95:H.g_LogSocket.AddGameDataLog(r,a.s.Name,a.MakeIndex,l,a.Dura.toString())}B.loadBagItemIcon2(a),-1!=H.g_DrugButNumber&&this.waitItemName==a.s.Name&&this.waitItemAniCount==a.s.AniCount&&(H.g_DrugItemsList[this.drugBtnNum]=a,this.waitItemName=null,this.waitItemAniCount=null,H.g_DrugButNumber=-1)}},A.clientRecvAddItemMessage=function(e,t){var a=e.tag;if(""!=t)if(H.g_boOpenCaiji&&-1!=t.indexOf("/"))this.clientRecvAddItemMessage_Caiji(e,t);else{var r=O.TClientItem(t);if(1==a)return H.g_IconCList.push(r),void T.raiseEvent(v.UPDATEHUMICON);if(9==a);else{if(B.loadBagItemIcon2(r),B.playerAutoHandleItem(r,a),B.autoSetDrugItem(r),-1!=H.g_DrugButNumber)for(var n=0;n<H.g_DrugItemsList.length;n++)H.g_DrugItemsList[n]&&H.g_DrugItemsList[n].s.Name==r.s.Name&&n==H.g_DrugButNumber&&(H.g_DrugItemsList[H.g_DrugButNumber]=r,H.g_autoDrugButNumber=-1);T.raiseEvent(v.UPDATE_ARMY_BAG)}if(H.g_auctionBreakUpInfo&&r.s.Name==H.g_auctionBreakUpInfo.name){var i=B.checkMaterialItemCanBeStacked(r)?r.Dura+1:r.Dura;i=i>0?i:1,H.g_auctionBreakUpInfo.nums==i&&(H.g_auctionBreakUpInfo=null,T.raiseEvent(v.SENDWORDSHELVESONITEMBREAKUP,r.MakeIndex))}}},A.clientRecvGetBagItmes=function(e,t){if(t.length>0&&e.param==t.length){var a=new Zlib.Inflate(t).decompress(),r=k._LOWORD(e.record),n=k._HIWORD(e.record),i=k._HIBYTE(r);k._LOBYTE(n),k._HIBYTE(n);H.g_extendBagItemCount=i,B.intBagList();for(var s=0;s<e.series;s++){var o=B.slice(a,H.g_itemSize*s,H.g_itemSize*(s+1)),c=O.TClientItem(o);B.getItemNewBag(c,!0)}H.g_OpenBag&&T.raiseEvent(v.SHOW_BAG_ITEM_ICO),B.loadBagItemIcon(H.g_BagItemsList,0),H.BagDataIsInit||(Y.initdrugtobag(),H.BagDataIsInit=!0)}H.CanUserItem=!0},A.clientEatMsg=function(e,t,a){H.CanUserItem=!0;e.param;var r=null;if(H.g_AutoItems.Items&&e.record==H.g_AutoItems.Items.MakeIndex)r=H.g_AutoItems.Items;else if(a)H.g_WaitItems.Items&&e.record==H.g_WaitItems.Items.MakeIndex&&(r=H.g_WaitItems.Items);else if(!a&&H.g_WaitItems&&H.g_WaitItems.Items){var n=e.record==H.g_WaitItems.Items.MakeIndex;if(n||0==e.record){if(n){H.g_WaitItems.Items.Dura=e.param,H.g_WaitItems.Items.DuraMax=e.tag;var i=k._LOBYTE(e.series),s=k._HIBYTE(e.series);1==i&&(H.g_WaitItems.Items.s.Weight=s)}r=H.g_WaitItems.Items}}var o=N.DecodeString(t);if(a){if(r){if(H.g_boOpenCaiji){var c=" 非绑定物品";r.s.IsBind&&(c="已绑定物品"),H.g_LogSocket.AddGameDataLog(11,r.s.Name,r.MakeIndex,"1",c)}if(H.g_AutoItems.Items&&e.record==H.g_AutoItems.Items.MakeIndex?(this.autoItemName=r.s.Name,this.autoItemAniCount=r.s.AniCount,this.autoBtnNum=H.g_autoDrugButNumber):H.g_WaitItems.Items&&e.record==H.g_WaitItems.Items.MakeIndex&&(this.waitItemName=r.s.Name,this.waitItemAniCount=r.s.AniCount,this.drugBtnNum=H.g_DrugButNumber),-1!=H.g_DrugButNumber){var l=Y.autofillrule(r.s.StdMode,r.s.Looks);0!=l.length&&Y.autofillitem(l)}Y.autounpack(2,r.s.Name,r.s.AniCount)||(H.g_AutoItems.Items&&e.record==H.g_AutoItems.Items.MakeIndex?H.g_AutoItems.Items=null:H.g_WaitItems.Items&&e.record==H.g_WaitItems.Items.MakeIndex&&(H.g_WaitItems.Items=null),H.g_DrugButNumber=-1),T.raiseEvent(v.ITEM_HINT,[r,-1]),Y.drugnullforidx(r.s.Name),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM),T.raiseEvent(v.SHOWDRUG_ITEMS),""==o&&this.checkUpdateStone(r.s.DBName)}}else r&&B.addItemNewBag(r),r&&0==r.s.StdModen&&5==r.s.Source&&r.Dura>0&&Y.autounpack(2,r.s.Name,r.s.AniCount),H.g_AutoItems.Items&&e.record==H.g_AutoItems.Items.MakeIndex?H.g_AutoItems.Items=null:H.g_WaitItems.Items&&e.record==H.g_WaitItems.Items.MakeIndex&&(H.g_WaitItems.Items=null);this.checkUpdateStone(o)},A.checkUpdateStone=function(e){"盟重回城石"==e&&setTimeout((function(){T.raiseEvent("setToCtiyStone_labContent")}),400),"随机传送石"==e&&setTimeout((function(){T.raiseEvent("setRandomStone_labContent")}),500)},A.clientRecvDelectItem=function(e,t){var a=e.tag;if(t&&t.length>0){var r=e.record,n=(N.DecodeBuffer(t,!0),B.getBagItems(r));if(n&&(this.updatePlayerSkinOnDressGone(n.s),H.g_WaitItems.Items&&n.MakeIndex==H.g_WaitItems.Items.MakeIndex&&(H.g_WaitItems.Items=null)),1==a)B.delUserIcon(r),T.raiseEvent(v.UPDATEHUMICON);else{B.delUserItems(r),B.delBagItems(r),Y.drugnullforidx(r),B.delUserItems(r);for(var i=0;i<H.g_DrugItemsList.length;i++)H.g_DrugItemsList[i]&&H.g_DrugItemsList[i].MakeIndex===r&&T.raiseEvent(v.SHOWDRUG_ITEMS)}H.g_boOpenCaiji&&n&&(3==a?n.s.IsBind?H.g_LogSocket.AddGameDataLog(3,n.s.DBName,n.MakeIndex,"已绑定物品",""):H.g_LogSocket.AddGameDataLog(3,n.s.DBName,n.MakeIndex,"非绑定物品",""):H.g_LogSocket.AddGameDataLog(3,n.s.DBName,n.MakeIndex,"","")),n&&n.tag&&n.tag>=x.FASHIONDRESS&&a<=x.FASHIONCHARM&&T.raiseEvent(v.UPDATEHUMNEWDRESS)}},A.clientRecvDelectItems=function(e,t){var a=e.tag;if(""!=t){var r=N.DecodeString(t);if(H.g_boOpenCaiji&&-1!=r.indexOf("/")){1==a&&(H.g_IconCList=[],T.raiseEvent(v.UPDATEHUMICON));for(var n=r.split("/"),i=parseInt(n[0]),s=N.DecodeString(n[1]).split("/"),o=null,c=1;c<s.length;c+=2){var l="非绑定物品",g=1;(o=B.getUserItems(parseInt(s[c])))&&(o.s.IsBind&&(l="已绑定物品"),Y.isOverLapItem(o)&&(g=o.Dura+1),15!=i&&16!=i||H.g_LogSocket.AddGameDataLog(i,s[c-1],parseInt(s[c]),l+"/1/身上",g)),(o=B.getBagItems(parseInt(s[c])))&&(o.s.IsBind&&(l="已绑定物品"),Y.isOverLapItem(o)&&(g=o.Dura+1),15!=i&&16!=i||H.g_LogSocket.AddGameDataLog(i,s[c-1],parseInt(s[c]),l+"/1/包裹",g)),B.delBagItems(parseInt(s[c])),Y.drugnullforidx(parseInt(s[c])),B.delUserItems(parseInt(s[c]))}}else if(0==a){var d;H.g_boOpenCaiji?-1!=(r=N.DecodeString(r)).indexOf("/")&&(d=r.split("/")):-1!=(d=N.DecodeString(t)).indexOf("/")&&(d=d.split("/"));for(var m=1;m<d.length;m+=2)B.delBagItems(parseInt(d[m])),Y.drugnullforidx(parseInt(d[m])),B.delUserItems(parseInt(d[m]))}}1==a&&(H.g_IconCList=[],T.raiseEvent(v.UPDATEHUMICON))},A.ShopFormNpcItemList=function(e,t){var a=N.DecodeBuffer(t,!0).split("/");H.G_NPC_ID=e.record,H.isFromTradingDlg=1==e.tag,H.g_ItemMemuList=[];for(var r=0;r<a.length-1;r+=6){var n={};n.name=a[r+0],n.gsub=a[r+1],n.gprice=a[r+2],n.gstock=a[r+3],n.gcount=a[r+4],n.gcurrency=a[r+5],n.npcId=e.record,n.count=e.param,n.bind=e.series,H.g_ItemMemuList.push(n)}H.g_show_Npcbj=1==e.series;var i=H.MainScene.UIBox.getChildByName("NpcShop");i?i.getComponent(pe).updateShopList():H.MainScene.showNpcShop()},A.ShopItemInfoList=function(e,t){e.record;if(H.G_npcShopPage=e.tag,H.g_ItemMemuListInf=[],e.param>0)for(var a=0,r=0;r<e.param;r++){var n=B.slice(t,a,a+H.g_itemSize),i=O.TClientItem(n);a+=H.g_itemSize,i.npcId=e.record,H.g_ItemMemuListInf.push(i)}B.loadBagItemIcon(H.g_ItemMemuListInf,1)},A.SendUserAddEffect=function(e,t){var a=e.record,r=null;if(L.findobject(a)&&t){var n=N.fnDecode6BitBuf(t,t.length),i=new Zlib.Inflate(n.pszDest).decompress(),s=O.TBaseObjectEffect(i),o=s.nEffectImageOffSet,c=(s.wEffectImageCount,s.wEffectFrameTime/10),l=s.wLoopCount;s&&(-1==s.nEffectFileIndex?r="data/effect/":-2==s.nEffectFileIndex?r="data/effect_ex/":-3==s.nEffectFileIndex?r="data/effect_se/":-4==s.nEffectFileIndex&&(r="data/effectex/"),r&&(o>109&&o<150?le.addPartical("snow"):o>=0&&o<80&&(le.addPartical("flower"),this.onAssetsDestroyId=setTimeout((function(){le.removePartical()}),c*l*80))))}},A.BuyItemFailed=function(e,t){var a="";1==e.record?a="此物品被卖出":2==e.record?a="您无法携带更多的物品":3==e.record&&(a="您没有足够的钱来购买此物品"),""!=a&&re.handlerAlert({type:1,content:a})},A.EpairItem=function(e,t){Y.showScreen(!0,0,4,H.SELL_ITEM_TYPE)},A.ShellItems=function(e,t){Y.showScreen(!0,0,5,H.SELL_ITEM_TYPE)},A.clientRecvUpdateItem=function(e,t){var a,r;if(t&&t.length>0&&t.length==H.g_itemSize)if(H.g_boOpenCaiji){if(-1!=t.indexOf("/")){r=-100;var n=t.split("/");n[1]&&(r=parseInt(N.DecodeString(n[1])));var i=N.fnDecode6BitBuf(n[0],n[0].length,!1);a=O.TClientItem(i.pszDest)}else{var s=N.fnDecode6BitBuf(t,t.length,!1);a=O.TClientItem(s.pszDest)}var o=-1;a&&(o=B.updateItems(a));var c="非绑定物品";a.s.IsBind&&(c="已绑定物品"),4==r||5==r?H.g_LogSocket.AddGameDataLog(r,a.s.Name,a.MakeIndex,o,c):7==r&&H.g_LogSocket.AddGameDataLog(r,a.s.Name,a.MakeIndex,c+"/1",o.toString())}else{if(a=O.TClientItem(t),H.g_MoveItems.Items&&H.g_MoveItems.Items.MakeIndex==a.MakeIndex)return T.raiseEvent("close_screenwin"),void B.updateItems(a,!0);B.updateItems(a)}},A.clientRecvDeleteMagic=function(e){B.delMagic(e)},A.clientRecvMagicList=function(e,t){e.param,t.length},A.setGem=function(e,t){if(""!=t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TClientItem(a.pszDest);r&&B.updateItems(r)}},A.boxitem=function(e,t){var a=e.record,r=e.param;if(0==a&&""==t){var n=H.g_boxItemArr[r];n&&C.getInstance().NpcDlgOptions(n.s.Name,H.g_npc_opt_boxid,n.MakeIndex,1),H.g_boxItemArr[r]=null,B.addItemNewBag(n),T.raiseEvent(v.DRAW_NPC_ITEMS,[H.g_boxItemArr[r],null,r])}else if(1==a&&""==t){H.g_boxItemArr[r]&&C.getInstance().NpcDlgOptions(H.g_boxItemArr[r].s.Name,H.g_npc_opt_boxid,H.g_boxItemArr[r].MakeIndex,1),H.g_boxItemArr[r]=null;T.raiseEvent(v.DRAW_NPC_ITEMS,[H.g_boxItemArr[r],!0,r])}else if(2==a&&""!=t){for(var i=N.fnDecode6BitBuf(t,t.length,!1),s=O.TClientItem(i.pszDest),o=0;o<H.g_boxItemArr.length;o++)H.g_boxItemArr[o]&&H.g_boxItemArr[o].MakeIndex==s.MakeIndex&&(H.g_boxItemArr[o]=s);T.raiseEvent(v.CHANGE_COUNT_TEXT,s)}else if(3==a&&""!=t){var c=N.DecodeString(t);if(-1!=c.indexOf("/")){var l=c.split("/");if(l.length>2)for(var g=0;g<H.g_BagItemsList.length;g++)if(null!=H.g_BagItemsList[g]&&H.g_BagItemsList[g].s.Name==l[1]){C.getInstance().NpcDlgOptions(H.g_BagItemsList[g].s.Name,H.g_npc_opt_boxid,H.g_BagItemsList[g].MakeIndex,0),H.g_npc_opt_boxid=l[0],H.g_boxItemArr[H.g_npc_opt_boxid]&&(B.addItemNewBag(H.g_boxItemArr[H.g_npc_opt_boxid]),H.g_boxItemArr[H.g_npc_opt_boxid]&&C.getInstance().NpcDlgOptions(H.g_boxItemArr[H.g_npc_opt_boxid].s.Name,H.g_npc_opt_boxid,H.g_boxItemArr[H.g_npc_opt_boxid].MakeIndex,1),H.g_boxItemArr[H.g_npc_opt_boxid]=null,T.raiseEvent(v.DRAW_NPC_ITEMS,null)),T.raiseEvent(v.DRAW_NPC_ITEMS,H.g_BagItemsList[g]),B.delBagItems(H.g_BagItemsList[g].MakeIndex);break}}}},A.CreateTeamOk=function(e,t){T.raiseEvent(v.CREATETEAM_OK,[e,t])},A.CreateTeamFaild=function(e,t){T.raiseEvent(v.CREATETEAM_FAILD,[e,t])},A.gmRequestGroupJoinHandle=function(e,t){var a=N.DecodeBuffer(t,!0);a.length>0&&(console.log(a,e),re.handlerAlert({type:2,content:a+" 邀请你加入队伍，是否同意?",sF:function(){C.getInstance().sendResponseGroupJoin(!0,a)},cF:function(){C.getInstance().sendResponseGroupJoin(!1,a)}}))},A.setTeamGroupList=function(e,t){if(t.length==118*e.record){X.getInstance().teamGropList=[];for(var a=0;a<e.record;a++){var r=B.slice(t,118*a,118*(a+1)),n=new J(r);X.getInstance().teamGropList.push(n)}}T.raiseEvent(v.UPDATE_TEAMLIST)},A.nearTeamListHandle=function(e,t){for(var a,r=[],n=X.getInstance().t_nearTeamList=[],i=N.DecodeString(t).split("/"),s=0;s<i.length;s++)i[s]&&""!=i[s]&&(!(a=i[s].split(";"))||a.length<1||a[1]<1||r.indexOf(a[0])>-1||(r.push(a[0]),n.push({teamName:a[0],teamNums:a[1],captainTeamName:a[2]})));T.raiseEvent(v.UPDATE_TEAMLIST)},A.applyTeamHandle=function(e,t){if(e.record=0){var a=N.DecodeString(t);B.onShowTip("加入"+a+"队伍成功")}else if(e.record=1){var r=N.DecodeString(t).split(";");X.getInstance().t_applyTeamList.push({name:r[0],level:r[1],job:r[2],guildName:r[3]}),T.raiseEvent(v.REDHINTCHECK,"team")}},A.applyTeamFail=function(e,t){switch(e.record){case-1:B.onShowTip("已经拥有队伍");break;case-2:B.onShowTip("申请的队伍不存");break;case-3:B.onShowTip("已经被对方队长列入黑名单");break;case-4:B.onShowTip("队伍已满员");break;case-5:B.onShowTip("已经在此队伍申请名单中")}},A.acceptTeamFail=function(e,t){(e.record=-1)?B.onShowTip("接受者没有队伍"):e.record=-2},A.DeleteTeamGroupItemFaild=function(e,t){re.handlerAlert({type:1,content:"权限不够"})},A.DeleteTeamGroupItemOk=function(e,t){T.raiseEvent(v.UPDATE_TEAMLIST)},A.ChangeTeamGroupState=function(e,t){H.G_BaseSetList[0].val=e.param>0;var a=e.param>0?"[允许组队]":"[禁止组队]";T.raiseEvent(v.NEW_CHAT_MSG,[{info:a,front:218,bg:0,type:0}]),T.raiseEvent(v.UPDATE_TEAMLIST)},A.AddTeamMemberFaild=function(e,t){var a="";-1==e.record?a="编组还未成立或者你还不够等级":-2==e.record?a="您输入的人物名称不正确":-3==e.record?a="已经加入编组":-4==e.record?a="对方不允许编组":-5==e.record?a="您邀请加入编组的人已经加入其它组":-6==e.record&&(a="不同国家禁止组队"),""!=a&&re.handlerAlert({type:1,content:a}),T.raiseEvent(v.ADDTEAMGROUP_FAILD,[e,t])},A.AddTeamMemberOk=function(e,t){T.raiseEvent(v.UPDATE_TEAMLIST)},A.ClearTeamGroupList=function(e,t){T.raiseEvent(v.CLEAR_TEAM,[e,t])},A.ShopItemList=function(e,t){var a=k._LOBYTE(e.record),r=(k._HIBYTE(e.record),!1);5!=e.param?(H.G_Cur_Shop_Page[e.param]=Math.ceil(e.tag/10),H.G_Total_Shop_Page[e.param]=Math.ceil(e.series/10),r=!0,T.raiseEvent(v.UPDOWN)):H.StrageList=[];for(var n=[],i=0;i<a;i++){var s=t.length/a,o=B.slice(t,i*s,(i+1)*s),c=O.TShopClientItem(o);c.s.Need>100&&c.s.Need<105&&(c.s.NeedLevel=60*c.s.NeedLevel),5!=e.param?n.push(c):H.StrageList.push(c)}if(5!=e.param)if(H.G_Total_Shop_Page[e.param]>1&&H.G_Cur_Shop_Page[e.param]>0)for(var l=0;l<n.length;l++){for(var g=!0,d=0;d<H.ShopItemList[e.param].length;d++)n[l]==H.ShopItemList[e.param][d]&&(g=!1);g&&H.ShopItemList[e.param].push(n[l])}else H.ShopItemList[e.param]=n;T.raiseEvent(v.UPDATE_ITEMS,[r,e.param]),H.ShopItemList[e.param]!=[]&&H.ShopItemList[e.param]&&H.ShopItemList[e.param].length<e.series&&G.GetShopItems(e.param,e.tag+10)},A.BuyShopItemFailed=function(e,t){var a=Z.getInstance().LastShopItem,r="";switch(a&&Z.getInstance().DeleteItem(a.MakeIndex,null),e.record){case-1:r="[失败]: 该物品不存在";break;case-2:switch(e.param){case 0:r="[失败]: 请先进行"+H.g_GameGoldName+"充值";break;case 1:r="[失败]: 你的"+H.g_sGoldName+"不够";break;case 2:r="[失败]: 你的"+H.g_GamePointName+"不够";break;case 3:r="[失败]: 你的"+H.g_sGameDiamondName+"不够";break;case 4:r="[失败]: 你的"+H.g_sGameGirdName+"不够"}break;case-3:r="[失败]: 你的包裹已满";break;case-4:r="[失败]: 玩家"+N.DecodeString(t)+"不在线";break;default:r="[失败]: 未知原因"}""!=r&&T.raiseEvent("show_log",[{txt:r,color:"#ff0000"}])},A.GiftItemFailed=function(e,t){var a=Z.getInstance().LastShopItem;a&&Z.getInstance().DeleteItem(a.MakeIndex,null);var r="";-1==e.record?r="该物品不存在":-3==e.record?r="对方的包裹已满或者输入的用户名不正确或者对方不在线":-5==e.record?r="当前服务器不允许赠送物品或者赠送功能没开启":-2==e.record&&(r="金额不足"),""!=r&&T.raiseEvent("show_log",[{txt:r,color:"#ff0000"}])},A.clientRecvDoorLockMsg=function(){},A.LookAtUserState=function(e,t){if(e.param>0&&e.param==t.length){var a=new Zlib.Inflate(t).decompress(),r=O.TUserStateInfo(a);0==e.series?Y.showLookHum(!0,r):1==e.series&&T.raiseEvent(v.UPDATERANKROLE,r)}},A.OpenGuildInfo=function(e,t){var a=N.DecodeString(t);H.G_Guald_Info=a},A.GuildOptFaild=function(e,t){var a="";switch(e.param){case 0:switch(e.record){case-1:a="你无此权限!";break;case-2:a="结盟失败！";break;case-3:a="行会结盟必须双方掌门人面对面！";break;case-4:a="对方行会掌门人不允许结盟！";break;case-5:a="行会"+N.DecodeString(t)+"不存在!"}break;case 1:switch(e.record){case-1:a="宣战失败,请确定"+N.DecodeString(t)+"不是盟友";break;case-3:a="您无此权限！";break;case-2:a="已经宣战！";break;case-4:a="你没有足够的金币！";break;case-5:a="行会"+N.DecodeString(t)+"不存在!"}break;case 2:a=0==e.record?"行会"+N.DecodeString(t)+"关注成功!":"行会"+N.DecodeString(t)+"已经关注！";break;case 3:a=0==e.record?"行会"+N.DecodeString(t)+"取消关注成功":"行会"+N.DecodeString(t)+"未关注";break;case 4:a=0==e.record?"行会"+N.DecodeString(t)+"取消关注成功":"调整失败！";break;case 7:switch(e.record){case-6:a="你不是正会长,转让失败";break;case-5:a=N.DecodeString(t)+"取消关注成功";break;default:a="转让失败！"}break;case 8:0!=e.record&&(a="卸任失败")}""!=a&&re.handlerAlert({type:1,content:a,color:"#ff0000"}),console.log("str=",a)},A.GuildFialdFail=function(e,t){var a="";switch(e.record){case-1:a="解除结盟";break;case-2:a="此行会不是您行会的结盟行会";break;case-3:a="没有此行会"}""!=a&&re.handlerAlert({type:1,content:a,color:"#ff0000"})},A.guildMemberList=function(e,t){var a=N.DecodeString(t).split("/"),r=[];H.G_Guald_Title_List=[],H.G_Guald_User_List=[];for(var n=0;n<a.length;){if(0==a[n].indexOf("*")){var i=a[n].replace("*",""),s=new Ie;s.name=i,n-1>=0&&0==a[n-1].indexOf("#")&&(s.id=Number(a[n-1].replace("#","")),H.G_Guald_Title_List.push(s))}else a[n].indexOf("#")<0?(r.push(a[n]),n<a.length-1?0==a[n+1].indexOf("#")&&H.G_Guald_User_List.push(r):n==a.length-1&&H.G_Guald_User_List.push(r)):0==a[n].indexOf("#")&&a[n+2]&&0==a[n+2].indexOf("#")?(r=[],H.G_Guald_User_List.push(r)):0==a[n].indexOf("#")&&(r=[]);n++}this.scheduleOnce((function(){T.raiseEvent(v.UPDATE_GUALD_USER),T.raiseEvent(v.UPDATE_GUALD_TITLE)}),1)},A.guildGetJoinUserList=function(e,t){for(var a=[],r=t.length/e.series,n=0;n<e.series;n++){var i=B.slice(t,n*r,(n+1)*r);a[n]=O.TGuildJoinUser(i)}this.scheduleOnce((function(){T.raiseEvent(v.UPDATE_APPLYLIST,a)}),1)},A.clientRecvTakeOnOk=function(e,t){null!=H.g_WaitItems.Items&&H.g_WaitItems.Index>=0&&H.g_WaitItems.Index<=52&&(H.g_UserItemList[H.g_WaitItems.Index]=H.g_WaitItems.Items,H.g_UserItemList[H.g_WaitItems.Index].tag=H.g_WaitItems.Index,T.raiseEvent(v.SHOW_ITEM_ICO,H.g_WaitItems.Index),H.g_WaitItems.Index>=18&&H.g_WaitItems.Index<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS),H.g_WaitItems.Items=null,H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM),H.MainScene.instanceOfMem("ShouShiWin")&&T.raiseEvent(v.SHOW_SHOUSHI_BOX,[H.g_UserItemList]),Y.showScreen(!1),T.raiseEvent(v.SHOW_BAG_ITEM_ICO),B.sendAutoItemList(e.record))},A.clientRecvTakeFailMsg=function(e,t){H.g_WaitItems&&(null!=H.g_WaitItems.Items&&52!=H.g_WaitItems.Index&&(1e4!=e.tag&&B.addItemNewBag(H.g_WaitItems.Items),H.g_WaitItems.Index>=18&&H.g_WaitItems.Index<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS),T.raiseEvent(v.SHOW_ITEM_ICO,-1),H.g_WaitItems.Items=null,B.sendAutoItemList(e.record)),52!=H.g_WaitItems.Index&&T.raiseEvent("show_log",[{txt:"穿戴失败",color:"#ff0000"}]))},A.clientRecvTakeOffMsg=function(e,t){null!=H.g_UserItemList[e.param-1]&&(H.g_WaitItems.Items=H.g_UserItemList[e.param-1],H.g_WaitItems.Index=e.param-1),null!=H.g_WaitItems.Items&&(H.g_UserItemList[H.g_WaitItems.Index]=null,T.raiseEvent(v.SHOW_ITEM_ICO,H.g_WaitItems.Index),H.g_WaitItems.Index>=18&&H.g_WaitItems.Index<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS),4==H.g_WaitItems.Index&&T.raiseEvent(v.SHOW_ITEM_ICO,13),y.removeAniname("bodyeffect"+H.g_WaitItems.Items.MakeIndex),H.g_WaitItems.Items=null,H.MainScene.instanceOfMem("ShouShiWin")&&T.raiseEvent(v.SHOW_SHOUSHI_BOX,[H.g_UserItemList]),T.raiseEvent(v.SHOW_BAG_ITEM_ICO))},A.clientRecvTakeOffFail=function(e,t){e.param,N.fnDecode6BitBuf(t,t.length).pszDest;H.g_WaitItems.Index>=18&&H.g_WaitItems.Index<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS),T.raiseEvent("show_log",[{txt:"脱物品失败",color:"#ff0000"}]),T.raiseEvent(v.SHOW_BAG_ITEMS)},A.showmapevent=function(e,t){N.DecodeString(t);var a=new l(e.tag,e.series),r=O.TMessageBodyWL(t),n=k._LOWORD(r.lTag2),i=k._HIWORD(r.lTag2),s="";n>=0&&n<H.g_pak_list.length&&(s=H.g_pak_list[n]);var o=k._HIBYTE(e.param),g=r.lParam1,_=r.lParam1+k._LOWORD(r.lParam2)-1,I=r.lTag1,E=k._LOBYTE(e.param);if(255==E);else if(E==D.ET_MAPEFFECT){if(""!=s){a.x=48*a.x-25,a.y=32*a.y-20;var f=y.playframe(o,B.getMapLayerNode(1),"data/"+s+"/",g,_,I,!0,!1,c(a.x,-a.y));f&&(f.res_lock=!0,f.name=""+e.record)}}else if(101==E){if(""!=s){var u=L.findobject(H.playerID),p=y.playframe(!0,u.node,"data/"+s+"/",g,_,I,!0,!1);p&&(p.res_lock=!0,p.name="followSpecialAni",setTimeout((function(){y.removeAniname("followSpecialAni")}),1e3*i))}}else{var S=c(48*a.x,32*-a.y);if(83==E)y.playframe(!0,B.getMapLayerNode(),"data/magic3/",160,170,120,!1,!0,S);else if(80==E)y.playframe(!0,B.getMapLayerNode(),"data/magic3/",100,112,120,!1,!0,S);else if(81==E)y.playframe(!0,B.getMapLayerNode(),"data/magic3/",120,135,120,!1,!0,S);else if(82==E)y.playframe(!0,B.getMapLayerNode(),"data/magic3/",140,155,120,!1,!0,S);else if(79==E)y.playframe(!0,B.getMapLayerNode(),"data/magic3/",80,99,120,!1,!0,S);else if(78==E)y.playframe(!0,B.getMapLayerNode(),"data/magic3/",60,79,120,!1,!0,S);else if(84==E)y.playframe(!0,B.getMapLayerNode(),"data/magic3/",160,170,120,!1,!0,S),y.playframe(!0,B.getMapLayerNode(),"data/magic3/",100,112,120,!1,!0,S),y.playframe(!0,B.getMapLayerNode(),"data/magic3/",120,135,120,!1,!0,S),y.playframe(!0,B.getMapLayerNode(),"data/magic3/",140,155,120,!1,!0,S),y.playframe(!0,B.getMapLayerNode(),"data/magic3/",80,99,120,!1,!0,S),y.playframe(!0,B.getMapLayerNode(),"data/magic3/",60,79,120,!1,!0,S);else{S=c(48*a.x,32*-a.y);if(D.ET_FIRE==E||115==E||116==E||117==E)$.firewall(e.record,20,E,a);else if(D.ET_KUNMO==E)$.firewall(e.record,14,0,a);else if(D.ET_PILESTONES==E){if(B.getMapLayerNode(1).getChildByName(""+e.record));else{var h=y.playframe(!0,B.getMapLayerNode(1),"data/Effect/",64,68,100,!1,!1,S);h&&(h.name=""+e.record)}}else if(D.ET_MAPEFFECT==E){if(B.getMapLayerNode(1).getChildByName(""+e.record))return;var A=y.playframe(!1,B.getMapLayerNode(1),"data/"+s+"/",g,_,I,!0,!1,S);A&&(A.res_lock=!0,A.name=""+e.record)}else if(9==E||10==E||11==E||12==E||13==E||14==E)y.playframe(!0,B.getMapLayerNode(1),"data/dragon/",230,234,120,!0,!1,S);else if(15==E)y.playframe(!0,B.getMapLayerNode(1),"data/dragon/",350,384,120,!0,!1,S);else if(18==E)y.playframe(!0,B.getMapLayerNode(1),"data/effect/",880,889,120,!0,!1,S);else if(20==E)y.playframe(!0,B.getMapLayerNode(1),"data/effect/",328,337,120,!0,!1,S);else if(21==E){var T="MapEveEff"+e.record,v=B.getMapLayerNode(1).getChildByName(T);v&&v.destroy(),B.loadImg(530,"prguse2",(function(t){if(t&&t.data&&t.nOffset){var r=new d(T);r.layer=H.canvas_19,r.name="MapEveEff"+e.record,r.addComponent(m).spriteFrame=t.data.spriteFrames[t.nOffset.img],r.setPosition(48*a.x,32*-a.y),B.getMapLayerNode(1).addChild(r)}})),y.playframe(!0,B.getMapLayerNode(1),"data/prguse2/",550,561,120,!0,!1,S)}else if(30==E){if(B.getMapLayerNode(1).getChildByName(""+e.record))return;var M=y.playframe(!0,B.getMapLayerNode(1),"data/mon33/",2672,2676,120,!0,!1,S);M&&(M.res_lock=!0,M.name=""+e.record)}else if(1==E){if(B.getMapLayerNode(1).getChildByName(""+e.record))return;var b=y.playframe(!1,B.getMapLayerNode(1),"data/mon6/",420,420,120,!0,!1,S);b&&(b.res_lock=!0,b.name=""+e.record)}else if(88==E){if(B.getMapLayerNode(1).getChildByName(""+e.record))return;var C=y.playframe(!1,B.getMapLayerNode(1),"data/prguse2/",550,561,120,!0,!1,S);C&&(C.res_lock=!0,C.name=""+e.record)}}}},A.hidemapevent=function(e,t){y.removeAniname(""+e.record);var a="MapEveEff"+e.record,r=B.getMapLayerNode(1).getChildByName(a);r&&r.destroy()},A.magicfire=function(e,t,a){var r=O.TCharDesc(t),n=e.record,i=k._LOBYTE(e.series),s=k._HIBYTE(e.series),o=e.param,c=e.tag,l=r.status,g=r.feature,d=parseInt(g/2+""),m=null;m=g%2==0;var _=L.findobject(n);if(null!=_){var I=_.currMagicId;if(I>=1e3&&I<=1500)return _.currMagicId=0,void $.playCustomSkillMagicfire(_,I,{tx:o,ty:c,lv:d,targetid:l});if(!H.g_myHero||61!=s&&62!=s&&64!=s){var E=Math.max(1,3*_.ftime-2.5*_.skillsp);setTimeout((function(){n&&119==s&&4==i?$.play2skill(n,119,4,o,c,0):$.play2skill(n,s,i,o,c,l,d,m,I)}),E)}else{var f=O.THumFeature(_.data.fea.buffer).btJob;61==s&&0==f?$.play2skill(n,611,i,o,c,l):61==s&&2==f?$.play2skill(n,61,i,o,c,l):62==s&&0==f?$.play2skill(n,621,i,o,c,l):62==s&&1==f?$.play2skill(n,62,i,o,c,l):64==s&&1==f?$.play2skill(n,641,i,o,c,l):64==s&&2==f&&$.play2skill(n,64,i,o,c,l)}}},A.magicfirefail=function(e,t){},A.changeface=function(e,t){if(t.length>11){var a=N.fnDecode6BitBuf(t,t.length),r=O.TCharDesc(a.pszDest),n=r.feature,i=t.slice(11,t.length),s=(k.getFeatureLen(n),N.fnDecode6BitBuf(i,256).pszDest),o=O.TFeature(n,s),c=k._MAKELONG(e.param,e.tag);e.ident,e.param,e.tag,e.series,r.status}},A.readminimapok=function(e,t){console.log("显示小地图"),H.open_minimap?(H.open_minimap=!1,H.isOpen=!1,T.raiseEvent(v.INIT_MINI_MAP_WIN,e.param-1)):T.raiseEvent(v.DRAWMINIMAP,e.param-1)},A.readminimapfail=function(e,t){T.raiseEvent(v.DRAWMINIMAP,-1)},A.GetLegTZList=function(e,t){!function(e,t){if(0==e.record&&t.length>0&&H.g_LegTzItemList.length>0&&(H.g_LegTzItemList=[]),e.param==t.length&&0!=t.length)for(var a=N.fnDecode6BitBuf(t,t.length,!1),r=new Zlib.Inflate(a.pszDest).decompress(),n=0;n<e.series;n++){var i=B.slice(r,528*n,528*(n+1)),s=O.TLEGTzInfo(i);H.g_LegTzItemList.push(s)}}(e,t)},A.GetNpcWindows=function(e,t){var a=N.DecodeString(t),r=k._LOWORD(e.record),n=k._HIWORD(e.record);n>=32767&&(n-=65536),r>=32767&&(r-=65536);e.param;var i=e.tag,s=k._HIBYTE(e.series);H.g_npcCanMove=1==k._LOBYTE(e.series);var c=a.split("/"),l=[];c[4]?-1!=c[4].indexOf(":")&&(l=c[4].split(":")):(l.push(c[0]),l.push(c[1])),H.testNpc_X=parseInt(c[0]),H.testNpc_Y=parseInt(c[1]);var g=null;if(o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(g=o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")),g)for(var d=!0,m=0;m<H.g_boxItemArr.length;m++)if(H.g_boxItemArr[m]){d&&(C.getInstance().NpcDlgOptions(H.g_boxItemArr[m].s.Name,m,H.g_boxItemArr[m].MakeIndex,3),d=!1);var _=H.g_boxItemArr[m];H.g_boxItemArr[m]=null,B.addItemNewBag(_)}console.log("调用showNewNpcDlgEx");var I=!g,E={num:c[2],xid:e.param,pos:l,firstOpen:I,data:a,btnShow:s,nShowType:i,nWindowsX:r,nWindowsY:n};this.isDiyNpc=!0,this.objdata=E,g&&(g.destroy(),g.setParent(null),g.cb&&(g.cb=null)),re.npcDiyWinPreLoad(E),H.g_Changerpak=parseInt(c[2]),H.g_ChangerIndex=parseInt(e.param)},A.GetPakList=function(e,t){if(0==e.series||t.length>0){var a=N.zDecodeBuffer(t);a&&(H.g_pak_list=a.split("\r\n"));for(var r=0;r<H.g_pak_list.length;r++)if(H.g_pak_list[r]){var n=H.g_pak_list[r].split(".");H.g_pak_list[r]=n[0].toLowerCase()}}e.series},A.clientRecv716=function(e){switch(e.series){case 1:var t=new l(e.param,e.tag);y.playframe(!0,B.getMapLayerNode(),"data/mon14/",410,415,50,!1,!0,c(48*t.x,32*-t.y));case 8:if(null==H.g_myHero)return;var a=L.findobject(H.playerID),r=20*a.cur_dir,n=20*H.g_myHero.cur_dir;e.record==H.playerID&&y.playframe(!0,a.node,"data/magic4/",10+r,26+r,85,!1,!0),e.record==H.g_myHero.data.record&&y.playframe(!0,H.g_myHero.node,"data/magic4/",10+n,26+n,85,!1,!0);break;case 4:var i=new l(e.param,e.tag),s=$.groundTop;null!=s&&y.playframe(!0,s,"data/magic2/",10,14,80,!1,!0,c(48*i.x,32*-i.y))}},A.clientRecvLightingEX=function(e,t){var a=L.findobject(e.record);if(a){var r=N.fnDecode6BitBuf(t,t.length),n=O.TMessageBodyWL(r.pszDest),i=n.lTag1,s=n.lParam1,o=n.lParam2,g=e.series,d=new l(48*a.grid.x,32*a.grid.y),m=k._LOWORD(n.lTag2),_=k._HIBYTE(k._HIWORD(n.lTag2)),I=k._LOBYTE(k._HIWORD(n.lTag2)),E=null;if(a.data.fea.buffer&&(E=O.THumFeature(a.data.fea.buffer)),E&&3712==E.wDress&&165==E.wRace){var f=6552+10*g,u=f+6-1;y.playframe(!0,B.getMapLayerNode(),"data/mon38/",f,u,100,!1,!0,c(d.x,-d.y));var p=new l(s,o);return g=B.getorientation(a.grid,p),void a.changestate(null,10,g,!1)}if(E&&3713==E.wDress&&165==E.wRace){var S=7530+10*g,h=S+8-1;y.playframe(!0,B.getMapLayerNode(),"data/mon38/",S,h,100,!1,!0,c(d.x,-d.y));var A=new l(s,o);return g=B.getorientation(a.grid,A),void a.changestate(null,10,g,!1)}var T=new l(n.lParam1,n.lParam2),v=99,M=99;(E&&254==E.wDress&&92==E.wRace||E&&173==E.wDress&&100==E.wRace)&&(v=39,M=44),E&&253==E.wDress&&92==E.wRace&&(v=34,M=45),E&&236==E.wDress&&75==E.wRace&&(v=31,M=33),156==a.skin_feature.wRaceImg&&(v=_,M=I),$.playself(99,99,a,T),setTimeout((function(){$.play2skill(e.record,v,M,n.lParam1,n.lParam2,i,1,null,m)}),500)}},A.ShowMessageDLG=function(e,t){if(""!==t){var a=(0==e.record?N.DecodeBuffer(t,!1):N.DecodeBuffer(t,!0)).split("\r\n"),r=e.record;if(0==e.series){var n={type:null==a[1]?7:2,content:a[0].replace(/\\/g,"\r\n"),sF:function(){a[1]&&C.getInstance().sendtomsg(D.MERCHANTDLGSELECT,r,0,0,0,a[1])},cF:function(){a[2]&&C.getInstance().sendtomsg(D.MERCHANTDLGSELECT,r,0,0,0,a[2])}};re.handlerAlert(n)}else if(""!=a[0]){var i=a[0].split("\\");if(i.length>2){var s={type:4,content:i[2]+"("+i[0]+")",sF:function(e){C.getInstance().SendNpcCMD(a[1]+"\r"+e,r,0)}};re.handlerAlert(s)}else{var o={type:4,content:i[0],sF:function(e){C.getInstance().SendNpcCMD(a[1]+"\r"+e,r,0)}};re.handlerAlert(o)}}}},A.GetRedPack=function(e,t){},A.GetRedPackinf=function(e,t){var a=b.decryStringK(t,H.mac_key);if(8==(15&a[0])){var r=new Zlib.Inflate(a).decompress(),n=O.TRedPacketInfo(r);this.UpdateRedPackinf(n)}},A.clientRecvbuildok=function(e,t){re.handlerAlert({type:1,content:"行会建立成功"})},A.clientRecvbuildfail=function(e,t){-1==e.record?re.handlerAlert({type:1,content:"您已经加入其它行会"}):-2==e.record?re.handlerAlert({type:1,content:"缺少创建费用"}):-3==e.record?re.handlerAlert({type:1,content:"你没有准备好需要的全部物品"}):re.handlerAlert({type:1,content:"创建行会失败！！！"})},A.clientclosebuff=function(e,t){T.raiseEvent(v.CLEARBUFFER,e.record)},A.getzhaomupay=function(e,t){var a=N.DecodeString(t),r=L.findobject(e.record);if(r){var n=a.split(" "),i=parseInt(n[1]);n[2],e.series;if(H.g_Zmu_Count=e.tag,0==e.param)this.ShowZhaoMu(e.record);else if(1==e.param)r.txt_zmshow.text="",r.boisZmu=!1;else if(2==e.param){var s="";switch(i){case 0:s="你已经加入了队伍,无法开启招募功能.";break;case 1:s="你没有发布招募的权限.";break;case 2:s="你没有修改招募的权限.";break;case 3:s="你没有开启招募."}T.raiseEvent(v.NEW_CHAT_MSG,[{info:s,front:255,bg:56,type:0}])}}},A.GetNpcItemShow=function(e,t){if(e.record>0&&e.record==t.length){var a=new Zlib.Inflate(t).decompress(),r=O.PTStdItemsHeader(a);a=a.slice(8);for(var n=0;n<r.PartialFieldsCount;n++){this.boisF=!1;var i=B.slice(a,67*n,67*(n+1)),s=O.PTPartialStdItem(i);this.boisF||H.g_Showitem.push(s)}}},A.npcItemDetailHandle=function(e,t){if(H.g_Showitem[e.record]){var a=O.TClientItem(t);H.g_Showitem[e.record]=a,(H.MainScene.instanceOfMem("comparison1")||H.MainScene.instanceOfMem("comparison")&&H.needGetItemDetail)&&(H.needGetItemDetail=!1,T.raiseEvent(v.GET_ITEM_DETAIL,a))}},A.OpenBox=function(e,t){T.raiseEvent(v.SHOW_BAG_ITEMS),T.raiseEvent(v.GAME_DLG_CMD,{id:"show_box",boxid:e.param})},A.OpenBoxSuccess=function(e,t){for(var a=t.split("/"),r=[],n=0;n<a.length&&""!=a[n];n+=2){var i=N.fnDecode6BitBuf(a[n+1],a[n+1].length,!1),s=O.TClientItem(i.pszDest);r.push({index:n,item:s})}T.raiseEvent(v.GAME_DLG_CMD,{id:"open_box",items:r})},A.GetBoxItemIndex=function(e){T.raiseEvent(v.GAME_DLG_CMD,{id:"getbox_itemindex",itemindex:e.record})},A.GetFishInfo=function(e,t){if(e.record<0)-1==e.record?re.handlerAlert({type:1,content:"你没有鱼饵了,无法开始钓鱼"}):-2==e.record?re.handlerAlert({type:1,content:"伙计!你有好鱼竿么!"}):-3==e.record?re.handlerAlert({type:1,content:"放杆失败"}):-4==e.record&&re.handlerAlert({type:1,content:"背包满了不能钓鱼"});else switch(e.tag){case 16:C.getInstance().IsDropFish(18,0);break;case 1:H.g_FishTeamId=e.record;var a=N.fnDecode6BitBuf(t,t.length,!1).pszDest,r=O.TFishInfo(a);H.g_FishInfo_List[H.g_FishTeamId]=r,T.raiseEvent(v.GAME_DLG_CMD,{id:"show_fish",data:H.g_FishInfo_List}),T.raiseEvent(v.CLOSEFINISHLIST);break;case 2:0==e.record&&T.raiseEvent(v.GAME_DLG_CMD,{id:"show_fish",data:0});break;case 3:switch(e.param){case 0:console.log("已经向队长发出请求.请稍等...");break;case 1:console.log("错误!你已经有队伍了...");break;case 2:case 3:console.log("错误的请求...",e.param);break;case 4:console.log("你已经在想加入的队伍了...");break;case 5:console.log("已经向队长发出请求.请等待队长审核...");break;case 6:console.log("风声紧,请稍后再加入...");break;case 7:console.log("队伍已经满员了...");break;default:console.log("发出请求失败!!!",e.param)}break;case 8:""!=t?function(){H.g_FishGroup_List=[];for(var e=N.fnDecode6BitBuf(t,t.length,!1),a=new Zlib.Inflate(e.pszDest).decompress(),r=a.length/44,n=0;n<r;n++){var i=B.slice(a,44*n,44*(n+1)),s=O.TFishGropInfo(i);""!=s.sCaption&&0!=s.nOwnerID&&H.g_FishGroup_List.push(s)}T.raiseEvent(v.GAME_DLG_CMD,{id:"show_fishwarm",data:H.g_FishGroup_List,tag:"create"})}():T.raiseEvent(v.GAME_DLG_CMD,{id:"show_fishwarm",data:[],tag:"create"});break;case 9:var n=H.g_FishInfo_List[e.record];n&&(n.State=w.fsAllowPush,n.BaitDura=e.param,T.raiseEvent(v.CHANGE_ROLE_STATE,{id:e.record,state:n.State})),T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"放杆中.."});break;case 10:var i=H.g_FishInfo_List[e.record];if(!i)return;-999!=e.param&&i&&(i.GetCount=e.param);var s=N.DecodeString(t);i.State!=w.fsRodBreaked&&i.State!=w.fsIdle?(i.State=w.fsParsing,""!=t?T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"钓到一条"+s}):T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"一无所获...."})):i.State=w.fsParsing,T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"收杆中.."}),T.raiseEvent(v.CHANGE_ROLE_STATE,{id:e.record,state:i.State});break;case 19:var o=N.DecodeString(t);N.fnDecode6BitBuf(o,o.length,!1).pszDest;break;case 12:var c=H.g_FishInfo_List[e.record];if(!c)return;c.BaitDura=e.param,T.raiseEvent(v.CHANGE_ROLE_ATTR,c);break;case 11:var l=H.g_FishInfo_List[e.record];if(!l)return;var g=e.param,d=e.series,m=N.DecodeString(t);l.State!=w.fsParsing&&l.State!=w.fsParsed&&(l.State=w.fsFooling),T.raiseEvent(v.CHANGE_ROLE_STATE,{id:e.record,state:l.State}),T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:m+"咬钩了",max:g,cur:d});break;case 15:var _=H.g_FishInfo_List[e.record];if(!_)return;var I="";0==e.param?I="您的饵料没了":(I="一条大鱼跑了",_.OutCount=e.series),T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:I,type:2});break;case 4:if(""==t)return;var E=N.fnDecode6BitBuf(t,t.length,!1),f=new Zlib.Inflate(E.pszDest).decompress(),u=O.TFishJoinPlayInfo(f);H.g_JoinInfo_List.push(u),T.raiseEvent(v.SHOW_NEW_USER);break;case 7:if(0!=e.param)return;var p=N.DecodeString(t),S=N.fnDecode6BitBuf(p,p.length,!1).pszDest,h=O.TFishInfo(S);H.g_FishInfo_List[e.record]=h,T.raiseEvent(v.NEW_USER_JOIN),h.sName==H.g_RoleName?T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"成功加入钓鱼小分队,和小伙伴们一起钓鱼吧!"}):T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:h.sName+"加入钓鱼小分队..."});break;case 5:T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"提示队长离开了,现在你是队长了"});break;case 6:if(!H.g_FishInfo_List[e.record])return;var A=N.DecodeString(t);e.sName==H.g_RoleName?T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"退出钓鱼小分队",type:3}):T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:A+"退出钓鱼小分队",type:3});break;case 20:T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"台风来了",type:0});break;case 21:""!=t?T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"台风刮来了"+t,type:1}):T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,type:1});break;case 23:var M=N.DecodeString(t);T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"台风肆虐,妖孽横向["+M+"]也来啦!"});break;case 222:var D=N.DecodeString(t);T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,text:"经过大家的努力终于把"+D+"钓上来了!"});break;case 18:var L=N.DecodeString(t);T.raiseEvent(v.SHOW_TEAM_CHAT,{txt:L});break;case 24:T.raiseEvent(v.CHANGE_ROLE_STATE,{id:e.record,state:w.fsRodBreaking}),T.raiseEvent(v.UPDATE_USER_INFO,{id:e.record,txt:"鱼竿断了"})}},A.correctpoint=function(e){F.springback(e.tag,e.series)},A.breakweapon=function(e,t){var a=L.findobject(e.record);a&&(a.wapeff_frames=[]),e.record==H.playerID&&H.g_boOpenCaiji&&H.g_LogSocket.AddGameDataLog(21,N.DecodeString(t),e.record,"","")},A.StopMyShop_Caiji=function(e,t){for(var a=0;a<H.g_MyShopList.length;a++)if(null!=H.g_MyShopList[a]){B.addItemNewBag(H.g_MyShopList[a].Items);var r=H.g_MyShopList[a].Items.s.Name,n=H.g_MyShopList[a].Items.MakeIndex,i="摆摊未起名,取消摆摊";""!=t&&(i=N.DecodeString(t));var s="元宝";1==H.g_MyShopList[a].nType&&(s="金币");var o=1;Y.isOverLapItem(H.g_MyShopList[a].Items)&&(o=H.g_MyShopList[a].Items.Dura+1);var c="非绑定物品";H.g_MyShopList[a].Items.s.IsBind&&(c="已绑定物品");var l="物品从个人摊位取回/"+i,g=c+"/"+s+"/"+o+"/"+H.g_MyShopList[a].nGold+"/非绑定";H.g_LogSocket.AddGameDataLog(38,r,n,l,g),H.g_MyShopList[a]=null}},A.GameTakeAotoOnItem=function(e,t,a){if(e.record>0){var r=e.record,n=e.param,i=(N.DecodeString(t),Y.getBagIndexItems(r));null!=i&&(H.g_UserItemList[n]=i,B.delBagItems(i.MakeIndex),T.raiseEvent(v.SHOW_ITEM_ICO,n),n>=18&&n<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS))}},A.HumIcon=function(e,t){if(null!=L.findobject(e.record))ee.SetIconGif(e,t);else{var a={type:2,func:this.HumIcon.bind(this),params:[e,t]};L.putTask(a)}},A.TreasureMap=function(e,t){},A.openhealth=function(e,t){var a=N.fnDecode6BitBuf(t,t.length),r=O.TWAbility(a.pszDest);L.updateObjectHp(r.wMaxHP,r.wHP,e.record)},A.Get_SCREENEFFECT=function(e,t){t=N.DecodeString(t);var a=e.series,r=k._LOBYTE(e.param),n=k._HIBYTE(e.param),i=e.tag,s=k._LOWORD(e.record),o=k._HIWORD(e.record),l=-1;if(-1!=t.indexOf("/")){var g=t.split("/");l=g[0],g[1]}if(n>0&&l>=0&&l<H.g_pak_list.length&&s>=0&&s<=840&&o>=0&&o<=500){var d=Y.getPakTo2Img(l,i);if(null==B.getMapLayerNode().getChildByName(d+i)){var m=c(s,o),_=y.playframe(!1,B.getMapLayerNode(),d,i,i+n-1,a,!0,!1,m,this,(function(){++_.num>r&&y.removeAniname(_.name)}));_&&(_.name="screeneffect"+d+i,_.num=1)}}},A.GxxScreenEffect=function(e,t){if(30==t.length){var a=O.TScreenEffectData(t),r=Y.getPakTo2Img(a.nImageIndex,a.nStartImage);if(null==B.getMapLayerNode().getChildByName(r+a.nStartImage)){var n=B.getGameSize(),i=c(a.nX-n.width/2+138.5,-a.nY+n.height/2+40),s=y.playframe(a.boBlend,H.CurScene.UIMain,r,a.nStartImage,a.nStartImage+a.nImageCount-1,a.nTime,!0,!1,i);s&&(s.name="screeneffect"+r+a.nStartImage),setTimeout((function(e){y.removeAniname(e)}),a.nPlayCount*a.nTime,s.name),H.screenEffectList.push(s)}}},A.GxxStopScreenEffect=function(e,t){if(30==t.length)for(var a=O.TScreenEffectData(t),r=H.screenEffectList.length-1;r>=0;r--){var n=H.screenEffectList[r];if(n.nX==a.nX&&n.nY==a.nY&&n.nImageIndex==a.nImageIndex&&n.nStartImage==a.nStartImage&&n.nImageCount==a.nImageCount&&n.nPlayCount==a.nPlayCount&&n.nTime==a.nTime&&n.boBlend==a.boBlend&&n.boDrawTopmost==a.boDrawTopmost){var i="screeneffect"+Y.getPakTo2Img(a.nImageIndex,a.nStartImage)+a.nStartImage;y.removeAniname(i),H.screenEffectList.splice(r,1)}}},A.GxxClearScreenEffect=function(e,t){for(var a=H.screenEffectList.length-1;a>=0;a--){var r=H.screenEffectList[a],n="screeneffect"+Y.getPakTo2Img(r.nImageIndex,r.nStartImage)+r.nStartImage;y.removeAniname(n),H.screenEffectList.splice(a,1)}},A.GxxAddEffectPlay=function(e,t){if(8==t.length){var a=O.TMessageBodyL(t),r=L.findobject(e.record);null!=r&&r.playSelfEffectCustom(e.param,a.lParam1,e.tag,e.series,0!=a.lParam2)}},A.GxxSuperShieldEffect=function(e,t){var a=L.findobject(e.record);null!=a&&(0!=e.param&&y.playframe(!0,a.node,"data/magic5/",790,799,150,!1,!0))},A.GxxHPMPChangedFromStone=function(e,t){var a=L.findobject(e.record);if(null!=a){var r=a.m_Abil.MaxHP,n=a.m_Abil.MaxMP,i=a.m_Abil.Level,s=a.m_Abil.HP,o=k._MAKELONG(e.param,e.tag);if(41==t.length){var c=O.TNewMessageBodyWL(t);s=c.lParam1,r=c.lParam2,c.lTag1,i=c.lTag2,n=c.lTag3}if(a.m_Abil.MaxHP>0){var l=a.m_Abil;l&&(l.HP>s?(B.showvaule(l.HP-s,D.E_ROLE_CHANGE_HP,a,!1),H.GlobalCfglist.autotp&&q.transfer(a.m_Abil.HP,a.m_Abil.MaxHP)):l.HP<s&&l.HP<l.MaxHP&&B.showvaule(s-l.HP,D.E_ROLE_CHANGE_HP,a,!0),l.MP>o&&o>0?(B.showvaule(l.MP-o,D.E_ROLE_CHANGE_MP,a,!1),H.GlobalCfglist.autotp1&&q.transfer1(a.m_Abil.MP,a.m_Abil.MaxMP)):l.MP<o&&o>0&&l.MP<l.MaxMP&&B.showvaule(o-l.MP,D.E_ROLE_CHANGE_MP,a,!0));var g=O.THumFeature(a.data.fea.buffer).wRace;0==g||1==g||150==g||220==g?L.updateObjectHp(r,s,a.data.record,null,null,!0):L.updateObjectHp(r,s,a.data.record,null,null,!1)}a.m_Abil.MaxHP=r,a.m_Abil.MaxMP=n,a.m_Abil.Level=i,a.m_Abil.HP=s,a.m_Abil.MP=o,a.m_Abil.HP>a.m_Abil.MaxHP&&(a.m_Abil.HP=a.m_Abil.MaxHP)}},A.getMoneyPay=function(e){if(""!=e){var t=N.DecodeString(e),a=t.split("|");if(1==a.length)H.cur_use_app?oe.sendtonative("gotowebview","openurl:"+a[0]):window.open(a[0]);else if(a.length>1&&"2"==a[0]){var r=a[1].substr(a[1].indexOf("id=")+3);oe.callpaylistforuu(r)}else if(a.length>1&&"3"==a[0]){var n=H.MainScene.instanceOfMem("RechargeWin");if(n)n.getComponent(ce).update2Money(t);else H.MainScene.onClickRecharge(t)}else if(H.cur_use_app){if(console.log("---------call recharge--------------"),/a=\d+/g.test(t)){var i=t.replace(/[^]+(a=\d+)[^]+/g,"$1"),s="b="+H.MsgFromLogin[3].toLowerCase();oe.requestpaylist(i+"&"+s);var o=H.MainScene.instanceOfMem("RechargeWin");if(o)o.getComponent(ce).weburl=t;else H.MainScene.onClickRecharge(t)}}else{if(1==t.indexOf("|")){var c=t.split("|");t=c[1],c[0]}t=t.replace("%account",H.dataFromRoleScene.uid);var l=document.getElementById("div_cz");l&&(l.style.display="",l.style.left=_.getVisibleSize().width/2-249+"px",l.style.top=_.getVisibleSize().height/2-172+"px");var g=document.getElementById("chongzhi");g&&(g.src=t)}}},A.getSuitInfo=function(e){if(""!=e){var t=N.DecodeString(e);if(""!=t){var a=t.split("|");if(!(a.length<2)){var r=a[0].split("#");if(!(r.length<2))if(5==parseInt(r[1])){var n=a[1].split("~!")[1];if(!n)return;var i=n.split("~&");if(i.length<4)return;for(var s=0;s<i.length;s++)if(-1!=i[s].indexOf("!@")&&-1!=i[s].indexOf("~^"))for(var o=i[s].split("~^"),c=0;c<o.length;c++)if(o[c]){var l=o[c].split("!@");if(l.length<2)continue;var g=l[1];H.Suitelementlist.push(g)}var d=i[4].split("~#");if(d.length<2)return;"1"==d[1]&&(H.GomSuitOpen=!0)}else if(1==parseInt(r[1]))this.solosuit=a[1],H.Allsuitlist.push(this.solosuit);else if(3==parseInt(r[1])){var m=a[1].split("套装备注~!");if(!m[1])return;var _=m[1].split("~@")[0],I=m[0].split("~@"),E=I[0].split("~!")[1],f=I[1].split("~!")[1];T.raiseEvent(v.NEW_CHAT_MSG,[{info:_,front:E,bg:f,type:0}])}else if(4==parseInt(r[1]))a[1];else if(6==parseInt(r[1]))H.Allsuitlist=[],H.Suitelementlist=[],H.Gomsuitlist=[],C.getInstance().SuitInfo("1|1");else if(7==parseInt(r[1]))H.Gomsuitlist.push(a[1]);else if(8==parseInt(r[1]))a[1]}}}},A.openDLG=function(e,t){var a=N.DecodeString(e),r=a.substring(a.indexOf("[")+1,a.indexOf("]"));r&&Y.showScreen(!0,r,6),H.G_NPC_ID=t},A.packageitemok=function(e,t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TClientItem(a.pszDest);B.addItemNewBag(r)},A.packageitemfail=function(e,t){H.g_auctionBreakUpInfo&&(B.onShowTip("请确保背包至少留有一个以上空位"),H.g_auctionBreakUpInfo=null),B.addItemNewBag(H.g_WaitItems.Items)},A.getHeroItems=function(e,t){if(e.param==t.length){if(0==t.length)return;for(var a=new Zlib.Inflate(t).decompress(),r=0,n=0;n<e.series;n++){var i=a[r];r++;var s=B.slice(a,r,r+H.g_itemSize),o=O.TClientItem(s);r+=H.g_itemSize,H.g_HeroItemList[i]=o,o.tag=i}}},A.getHeroSkill=function(e,t){var a=e.param,r=e.series;if(a==t.length){var n=new Zlib.Inflate(t).decompress();H.g_HeroMagicList=[];for(var i=0;i<r;i++){var s=B.slice(n,166*i,166*(i+1)),o=O.TClientMagic(s);H.g_HeroMagicList.push(o)}}},A.addHreroSkill=function(e,t){var a=O.TClientMagic(t);B.addHeroMagic(a)},A.delHreroSkill=function(e){B.delMagic(e)},A.UpdateHeroMagicData=function(e){var t=e.record,a=k._LOBYTE(e.param),r=k._MAKELONG(e.tag,e.series);B.updateHeroMagicLvExp(t,a,r,0)},A.HeroLevelup=function(e){L.levelup(e.record)},A.getHeroBagItems=function(e,t){if(e.param>0&&e.param==t.length){var a=new Zlib.Inflate(t).decompress();B.intHeroBagList(),H.g_HeroBagCount=e.series;for(var r=0;r<e.series;r++){var n=B.slice(a,H.g_itemSize*r,H.g_itemSize*(r+1)),i=O.TClientItem(n);B.heroAddItem(i)}B.loadBagItemIcon(H.g_HeroBagItemsList,0)}},A.heroTakeOn=function(e){null!=H.g_WaitItems.Items&&H.g_WaitItems.Index>=0&&H.g_WaitItems.Index<=52&&(H.g_HeroItemList[H.g_WaitItems.Index]=H.g_WaitItems.Items,H.g_HeroItemList[H.g_WaitItems.Index].tag=H.g_WaitItems.Index,T.raiseEvent(v.SHOW_HEROITEM_ICO,H.g_WaitItems.Index),H.g_WaitItems.Items=null,T.raiseEvent(v.UPDATEHERO),T.raiseEvent(v.UPDATEHERONEWDRESS),Y.showScreen(!1))},A.heroBagAddItem=function(e,t){var a=e.tag;if(""!=t){var r=N.fnDecode6BitBuf(t,t.length,!1),n=O.TClientItem(r.pszDest);B.heroAddItem(n),B.playerAutoHandleItem(n,a)}},A.heroDelectItem=function(e,t){var a=e.tag;if(""!=t){var r=N.fnDecode6BitBuf(t,t.length,!1),n=O.TClientItem(r.pszDest);1==a||(B.delHeroItems(n.MakeIndex),B.delHeroBagItems(n.MakeIndex))}},A.heroDropSuccess=function(e,t){var a=e.record;N.DecodeString(t);null!=H.g_WaitItems.Items&&H.g_WaitItems.Items.MakeIndex==a&&(H.g_WaitItems.Items=null)},A.heroDropfail=function(e,t){var a=e.record;N.DecodeString(t);null!=H.g_WaitItems.Items&&H.g_WaitItems.Items.MakeIndex==a&&(B.heroAddItem(H.g_WaitItems.Items),H.g_WaitItems.Items=null)},A.heroDropItem=function(e,t){if(1==e.tag);else if(""!=t)for(var a=N.DecodeString(t).split("/"),r=1;r<a.length;r+=2)B.delHeroBagItems(parseInt(a[r])),B.delHeroItems(parseInt(a[r]))},A.heropackageitemok=function(e,t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TClientItem(a.pszDest);B.heroAddItem(r)},A.heropackageitemfail=function(e,t){B.heroAddItem(H.g_WaitItems.Items)},A.MakeIcon=function(e,t){if(t.param==e.length){H.g_IconCList=[];for(var a=N.fnDecode6BitBuf(e,e.length),r=new Zlib.Inflate(a.pszDest).decompress(),n=0;n<t.series;++n){var i=B.slice(r,H.g_itemSize*n,H.g_itemSize*(n+1)),s=O.TClientItem(i);H.g_IconCList.push(s)}}},A.SendSetUserICON=function(e,t){if(null!=L.findobject(t.record))ee.SetIcon(t,e);else{var a={type:2,func:this.SendSetUserICON.bind(this),params:[t,e]};L.putTask(a)}},A.SendSetUserEffect=function(e,t){var a=L.findobject(t.record);if(null!=a){for(var r=a.m_ActorEffects,n=0;n<r.length;n++){(T=r[n]).boWantDelete=!0}var i=t.param/t.series;for(n=0;n<t.series;n++){var s=B.slice(e,i*n,i*n+i),o=O.GXXTActorEffect(s);if(o.nEffectFileIndex>=0&&o.wEffectImageCount>0&&0!=o.nLoopCount){for(var l=!1,g=0;g<r.length;g++){var d=r[g];if(o.nEffectFileIndex==d.nEffectFileIndex&&o.nEffectImageOffSet==d.nEffectImageOffSet&&o.wEffectImageCount==d.wEffectImageCount&&o.wEffectFrameTime==d.wEffectFrameTime&&o.nLoopCount==d.nLoopCount&&o.btDrawOrder==d.btDrawOrder&&o.nOffsetX==d.nOffsetX&&o.nOffsetY==d.nOffsetY&&o.boBlendMode==d.boBlendMode){l=!0,d.boWantDelete=!1;break}}if(!l){var m=Object.assign({},o);m.boWantDelete=!1,r.push(m);var _,I,E=H.g_pak_list[m.nEffectFileIndex],f=m.nEffectImageOffSet,u=f+m.wEffectImageCount-1,p=m.wEffectFrameTime;if(1==m.btDrawOrder){_=B.getMapLayerScript().effectDownLayer;var S=a.node.position;I=c(m.nOffsetX+S.x-25,-m.nOffsetY+S.y+20)}else _=a.node,I=c(m.nOffsetX,-m.nOffsetY);var h=y.playframe(m.boBlendMode,_,"data/"+E+"/",f,u,p,!0,!1,I,null,null,null,null,!1);if(h){if(h.name=m.nEffectFileIndex+"_"+m.nOffsetX+"_"+m.nOffsetY+"_"+m.nEffectImageOffSet+"_"+m.wEffectImageCount+"_"+m.wEffectFrameTime+"_"+a.data.record,m.nLoopCount>0){var A=m.nLoopCount*m.wEffectFrameTime;setTimeout((function(e){y.removeAniname(e)}),A,h.name)}1==m.btDrawOrder&&a.m_ActorEffects_Bottom.push([h,m.nOffsetX,m.nOffsetY])}}}}for(n=a.m_ActorEffects_Bottom.length-1;n>=0;n--){(T=a.m_ActorEffects_Bottom[n]).boWantDelete&&a.m_ActorEffects_Bottom.splice(n,1)}for(n=r.length-1;n>=0;n--){var T;if((T=r[n]).boWantDelete){r.splice(n,1);var v=T.nEffectFileIndex+"_"+T.nOffsetX+"_"+T.nOffsetY+"_"+T.nEffectImageOffSet+"_"+T.wEffectImageCount+"_"+T.wEffectFrameTime+"_"+a.data.record;y.removeAniname(v)}}}else{var M={type:2,func:this.SendSetUserEffect.bind(this),params:[t,e]};L.putTask(M)}},A.NewMakeNpc=function(e,t){},A.setCustomNpcConfig=function(e,t){if(t.length>0)for(var a=new Zlib.Inflate(t).decompress(),r=k._MAKELONG(e.param,e.tag)/290,n=0;n<r;n++){var i=B.slice(a,290*n,290*(n+1)),s=O.TClientCustomNpcConfig(i);H.g_DiyNPCList[s.wNpcAppr]=s}},A.OpenBoxEX=function(e,t){H.G_NPC_ID=t.record,""!=e&&Y.showScreen(!0,0,8)},A.SM_Caiji=function(e,t){if(""!=e){var a=N.DecodeString(e).split("/");if(0==a.length)return;switch(a[0]){case"8":if(4==a.length){var r=a[1],n=a[3],i=r,s="非绑定/金币/"+a[2]+"/"+n;H.g_LogSocket.AddGameDataLog(8,"金币",-1,i,s)}else{var o=a[1],c=a[2],l=a[3],g=a[5],d=l,m=a[6]+"/物品/"+a[4]+"/"+g;H.g_LogSocket.AddGameDataLog(8,o,c,d,m)}break;case"9":var _=a[1],I=a[2],E=a[3],f=a[4]+"/"+a[5]+"/"+a[6]+"/"+a[7]+"/"+a[8];H.g_LogSocket.AddGameDataLog(9,_,I,E,f);break;case"10":var u=a[1],p=a[2],S=a[3],h=a[4],A=S+"/"+a[5];H.g_LogSocket.AddGameDataLog(10,u,p,h,A);break;case"35":var T=a[1],v=a[2],M=a[3]+"/"+a[4],D=a[5];H.g_LogSocket.AddGameDataLog(35,T,v,M,D)}}},A.sendNewLineMsg=function(e,t){var a=N.DecodeBuffer(e,!1),r=k._LOBYTE(t.param),n=k._HIBYTE(t.param),i=k._LOBYTE(t.series),s=k._HIWORD(t.record),o=(k._LOWORD(t.record),{str:a,fcolor:r,outlineColor:n,fontSize:i,mode:s,y:t.tag,time:k._HIBYTE(t.series)});re.showBigFontToast(o)},A.TranslateItemList=function(e,t){var a=N.DecodeString(t).split("/");H.g_ItemMemuList=[];for(var r=0;r<a.length-1;r+=3){var n=new Object;n.name=a[r+0],n.gprice=a[r+1],n.gcount=a[r+2],n.npcId=e.record,n.count=e.param,H.g_ItemMemuList.push(n)}Y.showNewSaleShop(!0)},A.saleItemList=function(e,t){H.G_npcShopPage=e.tag;var a=N.DecodeString(t).split("/");H.g_ItemMemuListInf=[];for(var r=1;r<a.length;r+=2)if(""!=a[r]){var n=N.fnDecode6BitBuf(a[r],a[r].length,!1).pszDest,i=O.TClientItem(n);i.npcId=e.record,a[r-1]&&(i.sellerName=a[r-1]),H.g_ItemMemuListInf.push(i)}T.raiseEvent(v.UPDATE_SALE_ITEMS2)},A.autoPickItems=function(e){for(var t=e.series,a=e.param,r=e.record,n=L.findobject(H.playerID),i=Q.DropItemList,s="",o=43,c=0;c<i.length;c++){var l=i[c];if(n&&l&&Math.abs(n.grid.x-l.x)<=a&&Math.abs(n.grid.y-l.y)<=a){if(0==t&&!q.itemCheck(l.Name,1))continue;if(1==r&&-1!=H.g_selfdropitem.indexOf(l.id))continue;if(--o>0&&(s+=1!=o?l.x+","+l.y+"|":l.x+","+l.y),o<=0)break}}s.length>0&&C.getInstance().autoPickDifferent(s)},A.ItemScore=function(e,t){if(""!=t){var a=N.fnDecode6BitBuf(t,t.length),r=O.TItemScoreRecord(a.pszDest);r&&(H.g_ItemScoreRecord=r)}},A.superMoveMsg=function(e,t){var a,r=k._LOBYTE(e.param),n=k._HIBYTE(e.param),i=e.tag,o=k._HIBYTE(e.record),c=k._LOBYTE(e.record),l=[];""!=t&&function(){var e=N.DecodeBuffer(t,!1).split("||");a=function(){if(l.length>0&&(l.nY=i,l.nCount=o,H.g_superMsg=[],H.g_superMsg.push(l),1==H.g_superMsg.length)){var e=[].concat(l);P(e,i,o)}};for(var g=function(t){me.resLoad("prefab/BroadCastMsg/content.prefab",(function(i){if(i){var o=s(i);o.getComponent(E).anchorX=.5,o.setPosition(0,0),o.getComponent(_e).msgFmt(e[t],r,n,c),l.push(o),l.length==e.length&&a()}}))},d=0;d<e.length;d++)g(d)}()},A.openUpgrade=function(){},A.getGomList=function(e){if(H.Gomsuitlist=[],e&&""!=e){var t=N.zDecodeString(e).split("\r\n");if(t.length>1){for(var a=0;a<t.length;a++){var r=t[a];if(r&&""!=r){var n={};if(-1!=r.indexOf("|")){var i=r.indexOf("|");n.suitname=r.substring(0,i),r=r.substring(i+1)}if(-1!=r.indexOf("|")){var s=r.indexOf("|");n.suitnum=r.substring(0,s),r=r.substring(s+1)}if(-1!=r.indexOf(":")){var o=r.indexOf(":");n.suititem=r.substring(0,o),n.suitdesc=r.substring(o+1),ie.LoadIngimage(n.suitdesc,null,null)}H.Gomsuitlist.push(n)}}H.GomSuitOpen=!0}}},A.playSoundScript=function(e,t){e.record;var a=N.DecodeString(t);se.instance.stopAll(),B.playMusicFormat("music/"+a)},A.alertMessageGDY=function(e,t){if(null!=t&&""!=t){var a=JSON.parse(t.toString());re.handlerAlert({type:1,content:a.message})}},A.pushDecodeDataInTeamGroupList=function(e){for(var t=[],a=0;a<e.length;a++)e[a]&&""!=e&&(t=e[a].split(";"),X.getInstance().teamGropList.push({name:t[0],level:t[1],job:B.getJobName(parseInt(t[3])),guildName:t[4],mapName:t[6],captain:t[5],gender:t[2]?"女":"男",teamPlayerNums:t[7]}))},A.UpdateRedPackinf=function(e){for(var t,a=!1,r=0;r<H.g_RedPack_List.length;r++)if(H.g_RedPack_List[r].nRedRecog==e.nRedRecog){t=H.g_RedPack_List[r].bOpened,e.sMsg=H.g_RedPack_List[r].sMsg,H.g_RedPack_List[r]=e,H.g_RedPack_List[r].bOpened=!!t,a=!0;break}if(a&&H.g_RedPackOpen==e.nRedRecog){T.raiseEvent(v.SEND_GETREDPACKLIST),T.raiseEvent(v.MAIN_GETREDPACKLIST);for(var n,i=L.findobject(H.playerID),s=0,o=!1,c=0,l=B.getPureName(i),g=0;g<e.OpenRedPacket.length;g++)""!=(n=e.OpenRedPacket[g]).sUserName&&s++,i&&i.txt_name&&n.sUserName==l&&(o=!0,c=n.nGoldValue);!o&&s>=e.nRedPacketCount&&(null==i?void 0:i.txt_name.text.indexOf(e.sUserName))<0?re.handlerAlert({type:1,content:"手太慢，红包已派送完"}):(H.openRed||o&&1==s)&&T.raiseEvent(v.OPENREDPACK,c),H.openRed=!1}},A.ShowZhaoMu=function(e){},A.callbar=function(e,t,a,r,n){e.value+=100/(1e3*n.record),t+=100,a.x=(e.width-100)/2,t>=1e3*n.record&&(e.removeSelf(),clearInterval(this.timeId))},A.checkOverTimeTK=function(){if(!(this.TK_TICKTIME_TIME<=-1)){var e=(new Date).getTime()-this.TK_TICKTIME_TIME;this.TK_TICKTIME_TIME=(new Date).getTime(),this.TK_DELAY_TIME+=e,this.TK_DELAY_TIME>=this.over_time&&T.raiseEvent(v.DELAY_TIME,15e3)}},A.updatePlayerSkinOnDressGone=function(e){if(this.isLimitTimeDress(e)){var t=B.getItemType(e);H.g_UserItemList[t]=null,T.raiseEvent(v.UPDATEHUMNEWDRESS),this.isDressShowOutside()&&(C.getInstance().showfashion(1),setTimeout((function(){C.getInstance().showfashion(1)}),20))}},A.isLimitTimeDress=function(e){return 101==e.Need&&1==e.NeedLevel&&(e.StdMode>=66&&e.StdMode<=69||178==e.StdMode)},A.isDressShowOutside=function(){return 1==H.g_show_fashion},A.makeH5scrpt=function(e,t){switch(e.record){case 1:B.showNewBag(1==e.param);break;case 2:case 3:break;case 4:1==e.param?G.sendOpenGuildDlg():T.raiseEvent(v.REMOVE_HANGHUI_DLG);break;case 5:case 6:case 7:break;case 8:if(1==e.param)H.open_minimap=!0,G.sendOpenMinimap();else(a=H.MainScene.instanceOfMem("MiniMapWin"))&&a.destroy();break;case 9:if(1==e.param)B.showNewLogo(!0,null,null,e.tag+"");else(a=H.MainScene.instanceOfMem("HumWin"))&&a.destroy();if(e.tag>0)(a=H.MainScene.instanceOfMem("HumWin"))&&(H.MainScene.openHumTab=Number(e.tag));break;case 10:var a=H.MainScene.instanceOfMem("ShopWin");1==e.param?a?a.active=!0:(G.GetShopItems(0,0),G.GetStrangeItems(),H.MainScene.onClicShopBtn()):a&&0==e.param&&(a.getChildByName("panel_gift").active=!1,a.getChildByName("panel_gift").getChildByName("input_tar_name").getComponent(I).string="",a.active=!1);break;case 11:0==e.param?T.raiseEvent(v.CLOSEAUCTIONHOUSEWIN):1==e.param&&T.raiseEvent(v.OPENAUCTIONWIN);break;case 12:0==e.param?T.raiseEvent(v.CLOSERANKWIN):1==e.param&&T.raiseEvent(v.OPENUIRANKWIN)}},A.onHitFail=function(){if(H.lockingID){var e=L.findobject(H.lockingID);if(e){var t=new d("ui-000310"),a=t.addComponent(m);e.sp.getComponent(E).height>200&&(e.sp.getComponent(E).height=170),t.layer=H.canvas_19,B.loadResLocal("gameres/ui/000310.png",a),null==t.getComponent(f)&&t.addComponent(f),t.getComponent(f).opacity=50,t.setPosition(0,e.sp.getComponent(E).height-20),e.node.addChild(t);u(t).to(.3,{position:new l(0,e.sp.getComponent(E).height+30)}).start(),u(t.getComponent(f)).to(.33,{opacity:255},{easing:"cubicInOut"}).call((function(){t.removeAllChildren(),t.removeFromParent()})).start()}}},A.gxxCustomAttack=function(e,t){var a=N.DecodeString(t).split("|");if(a.length>=3){a[0],a[1];var r=a[2],n={ident:e.ident,record:e.record,param:e.param,tag:e.tag,series:e.series},i=e.ident-M.SM_ATTACK01;L.ChangeState(n,r,W.mtExplosion,i)}},A.analysisItemsHandle=function(e,t){if(e){for(var a=[],r=e,n=N.fnDecode6BitBuf(r,r.length,!1),i=new Zlib.Inflate(n.pszDest).decompress(),s=0;s<t;s++){var o=B.slice(i,H.g_itemSize*s,H.g_itemSize*(s+1)),c=O.TClientItem(o);a.push(c)}return a}},A.analysisSkillsHandle=function(e,t){if(e){for(var a=[],r=e,n=N.fnDecode6BitBuf(r,r.length,!1),i=new Zlib.Inflate(n.pszDest).decompress(),s=0;s<t;s++){var o=B.slice(i,172*s,172*(s+1)),c=O.TClientMagic(o);a.push(c)}return a}},A.getItemInfo=function(e,t){if(e.param==t.length){var a=b.decryStringK(t,H.mac_key);if(8==(15&a[0])){var r=new Zlib.Inflate(a).decompress(),n=O.TClientItem(r);n&&H.g_showChatItem.push(n)}}},A.heroListHandle=function(e,t){var a,r;N.DecodeString(t)?a=JSON.parse(N.DecodeString(t)).sort((r="quality",function(e,t){var a=e[r],n=t[r];return isNaN(Number(a))||isNaN(Number(n))||(a=Number(a),n=Number(n)),a<n?-1:a>n?1:0})):(console.log("没有英雄数据, 试着命令添加英雄!"),a=[]),T.raiseEvent(v.GET_HERO_LIST,a)},A.createWujiangHandle=function(e,t){T.raiseEvent(v.HERO_CREATE)},A.heroArmyMaterialListHandle=function(e){for(var t=e.split("/"),a=t[1],r=N.fnDecode6BitBuf(a,a.length,!1),n=new Zlib.Inflate(r.pszDest).decompress(),i=[],s=0;s<t[0];s++){var o=B.slice(n,H.g_itemSize*s,H.g_itemSize*(s+1)),c=O.TClientItem(o);i.push(c)}var l=JSON.parse(N.zDecodeString(t[2]));console.log(l),T.raiseEvent(v.ARMY_MATERIAL_LIST,{items:i,mapList:l})},A.heroArmyMaterialSpecialHandle=function(e,t){if(console.log(e),0==e.record){var a=JSON.parse(N.zDecodeString(t));T.raiseEvent(v.ARMY_MATERIAL_SPECIAL,a)}else-1==e.record?re.handlerAlert({type:1,content:"该物品不可用于武将升级"}):-2==e.record?re.handlerAlert({type:1,content:"材料使用失败请确认物品数量"}):-3==e.record&&re.handlerAlert({type:1,content:"武将信息获取失败"})},A.heroArmyMaterialLevelHandle=function(e,t){if(0==e.record){var a=JSON.parse(N.zDecodeString(t));T.raiseEvent(v.ARMY_MATERIAL_LEVEL,a)}else-1==e.record?re.handlerAlert({type:1,content:"武将信息获取失败"}):-2==e.record&&re.handlerAlert({type:1,content:"武将已达到满级"})},A.heroArmyMaterialMoveHandle=function(e,t){0==e.record?T.raiseEvent(v.ARMY_MATERIAL_MOVE):-1==e.record&&re.handlerAlert({type:1,content:"地图无效传送失败"})},A.heroTreasureFindListHandle=function(e,t){for(var a=t.split("/"),r=a[1],n=N.fnDecode6BitBuf(r,r.length,!1),i=[],s=new Zlib.Inflate(n.pszDest).decompress(),o=0;o<a[0];o++){var c=B.slice(s,H.g_itemSize*o,H.g_itemSize*(o+1)),l=O.TClientItem(c);i.push(l)}var g=a[2],d=JSON.parse(N.zDecodeString(g));T.raiseEvent(v.GET_HERO_TREASURE_FIND_LIST,[i,d])},A.heroTreasureFindExchangeHandle=function(e,t){var a=null;switch(e.record){case-1:re.handlerAlert({type:2,content:"金刚石不足，是否前往充值？",sF:function(){G.SendGameMainBtnMsg("充值")}});break;case-2:re.handlerAlert({type:1,content:"玩家背包空间不足"});break;case-3:re.handlerAlert({type:1,content:"英雄仓库空间不足"});break;case 0:a=JSON.parse(N.zDecodeString(t))}a&&0==e.record&&T.raiseEvent(v.UPDATE_FIND_EXCHANGE_DATA,[a,H.hero_treasure_buy_num]),H.hero_treasure_buy_num=0},A.heroTreasureWarehouseListHandle=function(e,t){for(var a=t.split("/"),r=a[1],n=N.fnDecode6BitBuf(r,r.length,!1),i=new Zlib.Inflate(n.pszDest).decompress(),s=[],o=0;o<a[0];o++){var c=B.slice(i,H.g_itemSize*o,H.g_itemSize*(o+1)),l=O.TClientItem(c);s.push(l)}T.raiseEvent(v.GET_HERO_TREASURE_WAREHOUSE_LIST,[s])},A.heroTreasureScoreListHandle=function(e,t){for(var a=t.split("/"),r=a[1],n=N.fnDecode6BitBuf(r,r.length,!1),i=new Zlib.Inflate(n.pszDest).decompress(),s=[],o=0;o<a[0];o++){var c=B.slice(i,H.g_itemSize*o,H.g_itemSize*(o+1)),l=O.TClientItem(c);s.push(l)}var g=a[2],d=JSON.parse(N.zDecodeString(g));T.raiseEvent(v.GET_HERO_TREASURE_SCORE_LIST,[s,d])},A.heroTreasureWarehouseGetHandle=function(e,t){-1==e.record&&re.handlerAlert({type:1,content:"背包已满"}),T.raiseEvent(v.GET_HERO_TREASURE_WAREHOUSE_GET)},A.clientRecvDelectTreasureItem=function(e,t){e.tag;if(""!=t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TClientItem(a.pszDest);T.raiseEvent(v.GET_HERO_TREASURE_WAREHOUSE_RECEIVE,[r])}},A.clientRecvUpdateTreasureItem=function(e,t){e.tag;if(""!=t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TClientItem(a.pszDest);T.raiseEvent(v.GET_HERO_TREASURE_WAREHOUSE_RECEIVE_UPDATE,[r])}},A.heroTreasureScoreExchangeHandle=function(e,t){var a=null;switch(e.record){case-1:re.handlerAlert({type:1,content:"该物品不在积分可兑换范围内"});break;case-2:re.handlerAlert({type:1,content:"用户积分不足无法兑换"});break;case-3:re.handlerAlert({type:1,content:"当前物品剩余兑换数量为0"});break;case-4:re.handlerAlert({type:1,content:"背包空间不足请清理后重试"});break;case 0:a=JSON.parse(N.zDecodeString(t))}a&&T.raiseEvent(v.GET_HERO_TREASURE_SCORE_EXCHANGE,[a])},A.getFleixbleItemShow=function(e,t){if(e.param==t.length){var a=N.fnDecode6BitBuf(t,t.length,!1),r=new Zlib.Inflate(a.pszDest).decompress();if(e.param==t.length)for(var n,i=0;i<e.series;i++){n=!1;var s=B.slice(r,H.g_itemSize*i,H.g_itemSize*(i+1)),o=O.TClientItem(s);101!=o.s.Need&&102!=o.s.Need&&103!=o.s.Need&&104!=o.s.Need&&o.s.NeedLevel%60==0&&(o.s.NeedLevel=o.s.NeedLevel/60);for(var c=0;c<H.g_fleixbleItemShow.length;c++){if(H.g_fleixbleItemShow[c].MakeIndex==o.MakeIndex){H.g_fleixbleItemShow[c]=o,n=!0;break}}n||H.g_fleixbleItemShow.push(o)}}},A.openNewGUI=function(e,t){H.g_hasHybridUI=!0,H.g_hybirdData[0]=e,H.g_hybirdData[1]=t},A.updateHybirdUI=function(){var e=N.zDecodeString(H.g_hybirdData[1]),t=H.g_hybirdData[0].param,a=H.g_hybirdData[0].tag,o=k._LOWORD(H.g_hybirdData[0].record),c=k._HIWORD(H.g_hybirdData[0].record),l=k._LOWORD(H.g_hybirdData[0].series),g=(k._HIWORD(H.g_hybirdData[0].series),r("Canvas/UIBox/publicLayoutNode/NewNpcWin"));if(g)if(0==l){var d=g.getChildByName("leaderBossWin_name"),m=JSON.parse(e);d?(d.setPosition(t,a),T.raiseEvent("setLeaderBossData",m)):n.load("prefab/HybridUI/LeaderBoss",i,(function(e,r){if(e)console.log(e);else{var n=g.getChildByName("leaderBossWin_name");n||((n=s(r)).name="leaderBossWin_name",g.addChild(n)),n.setPosition(t,a),T.raiseEvent("setLeaderBossData",m)}}))}else if(1==l){var _=g.getChildByName("fleixbleListWin_name");_?(_.setPosition(t,a),T.raiseEvent("setFleixbleListData",[e,o,c])):n.load("prefab/HybridUI/Flexible",i,(function(r,n){if(r)console.log(r);else{var i=g.getChildByName("fleixbleListWin_name");i||((i=s(n)).name="fleixbleListWin_name",g.addChild(i)),i.setPosition(t,a),T.raiseEvent("setFleixbleListData",[e,o,c])}}))}},A.playDice=function(e,t){var a=this,r=t.slice(27);t=t.slice(0,27);var n=N.DecodeString(r),i=N.fnDecode6BitBuf(t,t.length),s=O.TMessageBodyWL(i.pszDest),c=(e.param,null);o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(c=o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")),""!=t&&c&&(c.active=!1);var l=[k._LOBYTE(k._LOWORD(s.lParam1)),k._HIBYTE(k._LOWORD(s.lParam1)),k._LOBYTE(k._HIWORD(s.lParam1)),k._HIBYTE(k._HIWORD(s.lParam1)),k._LOBYTE(k._LOWORD(s.lParam2)),k._HIBYTE(k._LOWORD(s.lParam2)),k._LOBYTE(k._HIWORD(s.lParam2)),k._HIBYTE(k._HIWORD(s.lParam2)),k._LOBYTE(k._LOWORD(s.lTag1)),k._HIBYTE(k._LOWORD(s.lTag1))];H.CurScene.node.getChildByName("dice")&&H.CurScene.node.getChildByName("dice").destroy();var g=new d;g.layer=p.Enum.UI_2D,g.addComponent(S),g.addComponent(m),B.loadResLocal("public/img_mask.png",g.getComponent(m),(function(){g.getComponent(E).setContentSize(_.getVisibleSize().width,_.getVisibleSize().height)})),H.CurScene.node.addChild(g);var I=new d;I.layer=p.Enum.UI_2D,I.addComponent(m);B.loadResLocal("public/bg_online.png",I.getComponent(m),(function(){me.handleLoad(["Animation/dicing/000001.png","Animation/dicing/000002.png","Animation/dicing/000003.png","Animation/dicing/000004.png"],(function(t){t&&function(){I.name="dice",g.addChild(I);for(var t=(355-50*e.param)/2,r=0;r<e.param;r++){var i=50*r+t,s=new d;s.layer=p.Enum.UI_2D,s.addComponent(m),s.getComponent(E).anchorX=0,s.getComponent(E).anchorY=1,B.loadResLocal("Animation/dicing/00001"+l[r]+".png",s.getComponent(m)),I.addChild(s),s.name="dicenum"+r,s.setPosition(i,86);var o=B.LayaPointToCocosPoint(s.position,I.getComponent(E).width,I.getComponent(E).height);s.setPosition(o),s.active=!1;var _=y.playframe(!1,I,"Animation/dicing/",1,4,100,!0,!1,o,a);_&&(_.name="dicing"+r,_.node.name="dicing"+r,_.node.getComponent(E).anchorX=0,_.node.getComponent(E).anchorY=1,_.num=0)}var f=4*Math.random()+3;for(r=0;r<e.param;r++)a.scheduleOnce((function(){for(var t=0;t<e.param;t++)if(I.getChildByName("dicing"+t)&&I.getChildByName("dicenum"+t)&&0==I.getChildByName("dicenum"+t).active){y.removeAniname("dicing"+t),I.getChildByName("dicenum"+t).active=!0;break}}),f);a.scheduleOnce((function(){G.SendNpcCMD(n,e.record),g.destroy(),c&&(c.active=!0)}),f+3)}()}))}))},A.GXXGetServerConfig=function(e,t){try{if(t&&t.length>0&&t.length==e.record){var a=new Zlib.Inflate(t).decompress();H.g_ClientConfig=new V(a),console.log(H.g_ClientConfig),H.g_ClientConfig.btItemSpeed=50,H.g_customItemAttr,T.raiseEvent(v.UPDATE_M2SET),T.raiseEvent(v.SPELLUSESKILLSTART),B.setCurrencyKey(H.g_customItemAttr.DiyCurrencyName),T.raiseEvent(v.SHOW_BTNHERO),T.raiseEvent(v.EVENT_START_OBJECT_HB)}}catch(e){console.log(e)}},A.GXXclientGetGameGoldName=function(e,t){if(""!=t){var a=N.DecodeString(t).split("\r");H.g_GameGoldNum.key=a[0],H.g_GamePointNum.key=a[1],H.g_GameCionNum.key=a[2],H.g_nGameDiamond.key=a[3],H.g_nGameGird.key=a[4],H.g_nGameDiamond.value=e.record,H.g_nGameGird.value=k._MAKELONG(e.param,e.tag)}},A.GXXclientGetNewGamePointName=function(e,t){if(""!=t){var a=N.DecodeString(t).split("\r");H.g_nGameDiamond.key=a[0],H.g_nGameGird.key=a[1],H.g_nGameDiamond.value=e.record,H.g_nGameGird.value=k._MAKELONG(e.param,e.tag)}},A.GXXGetNpcWindows=function(e,t){var a=N.DecodeBuffer(t,!0),r=k._LOWORD(e.record),n=k._HIWORD(e.record);n>=32767&&(n-=65536),r>=32767&&(r-=65536);var i=k._LOBYTE(e.param),s=k._LOBYTE(e.series),o=k._HIBYTE(e.series);H.g_npcCanMove=k._HIBYTE(e.param)>0;var c=a.split("/"),l=[];c[4]?-1!=c[4].indexOf(":")&&(l=c[4].split(":")):(l.push(c[0]),l.push(c[1])),H.testNpc_X=parseInt(c[0]),H.testNpc_Y=parseInt(c[1]);var g=null;if(B.getUIBoxNode().getChildByName("publicLayoutNode")&&B.getUIBoxNode().getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(g=B.getUIBoxNode().getChildByName("publicLayoutNode").getChildByName("NewNpcWin")),g)for(var d=!0,m=0;m<H.g_boxItemArr.length;m++)if(H.g_boxItemArr[m]){d&&(C.getInstance().NpcDlgOptions(H.g_boxItemArr[m].s.Name,m,H.g_boxItemArr[m].MakeIndex,3),d=!1);var _=H.g_boxItemArr[m];H.g_boxItemArr[m]=null,B.addItemNewBag(_)}console.log("调用showNewNpcDlgEx");var I=!g,E={num:e.tag,xid:i,pos:l,firstOpen:I,data:a,btnShow:o,nShowType:s,nWindowsX:r,nWindowsY:n};this.isDiyNpc=!0,this.objdata=E,g&&(g.destroy(),g.setParent(null),g.cb&&(g.cb=null)),re.npcDiyWinPreLoad(E),H.g_Changerpak=parseInt(c[2]),H.g_ChangerIndex=e.param},A.actionRet=function(e,t){var a="";a=1==e.param?"+GOOD!":"+FAIL!",F.sendresult(a)},A.getStdItemList=function(e,t){},A.getFilterItemList=function(e,t){var a={};if(0!=t.length){for(var r=new Zlib.Inflate(t).decompress(),n=N.DecodeBuffer(r,!1).split("\r\n"),i=0;i<n.length;i++){var s=n[i].split(/\t/),o={type:parseInt(s[0]),name:s[1],hint:!0,pick:!0,show:!0,specia:!0,teleport:!0,color:s[7]};a[s[1]]=o}var c=B.getSaveData("username");g.localStorage.getItem(c+H.g_playerName+"filterItemList");g.localStorage.setItem(c+H.g_playerName+"filterItemList",JSON.stringify(a)),H.g_filterItemList=a,console.log("过滤物品列表 ---\x3e>> ",JSON.stringify(a)),q.setItemlist(),a=null}},A.getDropItemEffectList=function(e,t){if(0!=t.length)for(var a=new Zlib.Inflate(t).decompress(),r=k._MAKELONG(e.param,e.tag)/16,n=0;n<r;n++){var i=B.slice(a,16*n,16*(n+1)),s=O.TDropItemEffect(i);H.g_DropItemEffectList[s.ItemEffectIndex]=s}},A.getItemDescList=function(e,t){if(0!=t.length){var a=new Zlib.Inflate(t).decompress(),r=N.DecodeBuffer(a,!1).split("\r\n");g.localStorage.setItem("g_ItemDesc",JSON.stringify(r))}},A.getTzItemDescList=function(e,t){if(0!=t.length){var a=new Zlib.Inflate(t).decompress(),r=N.DecodeBuffer(a,!1).split("\r\n");if(r.length>1){for(var n=0;n<r.length;n++){var i=r[n];if(i&&""!=i){var s={};if(-1!=i.indexOf("|")){var o=i.indexOf("|");s.suitname=i.substring(0,o),i=i.substring(o+1)}if(-1!=i.indexOf("|")){var c=i.indexOf("|");s.suitnum=i.substring(0,c),i=i.substring(c+1)}if(-1!=i.indexOf(":")){var l=i.indexOf(":");s.suititem=i.substring(0,l),s.suitdesc=i.substring(l+1),ie.LoadIngimage(s.suitdesc,null,null)}H.Gomsuitlist.push(s)}}H.GomSuitOpen=!0}}},A.storaegMessage=function(e,t){e.ident!=M.STORAGE_OK&&(e.ident==M.STORAGE_FULL?re.handlerAlert({type:1,content:"您的个人仓库已经满了，不能再保管任何东西了。"}):re.handlerAlert({type:1,content:"您不能寄存物品。"}))},A.messageClearBagItems=function(e,t){0==e.record?B.delBags():B.delHeros()},A.addMainSkillPrefHandle=function(){H.g_SetupMagicList=Array(8),T.raiseEvent(v.LOAD_MAINSKILL_PREF)},A.dealtryFailHandle=function(e,t){re.handlerAlert({type:1,content:"只有二人面对面才能进行交易。"})},A.dealMenuHandle=function(e,t){H.G_Trade_Other_Name=N.DecodeString(t),B.showNewBag(!0),Y.ShowJiaoYi(!0)},A.dealAddItemFailHandle=function(e,t){null!=H.g_WaitItems.Items&&(B.addItemNewBag(H.g_WaitItems.Items),H.g_WaitItems.Items=null,re.handlerAlert({type:1,content:"无法放置更多物品了！！"}))},A.dealChgGoldFailHandle=function(e,t){this.dealgold=!1,H.g_GameCionNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1),T.raiseEvent(v.SHOW_ME_GOLD,e.record),T.raiseEvent(v.UPDATE_BAG)},A.dealChgGoldOkHandle=function(e,t){this.dealgold=!0,H.g_GameCionNum.value=k._MAKELONG(e.param,e.tag),T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1),T.raiseEvent(v.SHOW_ME_GOLD,e.record),T.raiseEvent(v.UPDATE_BAG),H.MainScene.instanceOfMem("HumWin")&&T.raiseEvent(v.UPDATEHUM),H.g_boOpenCaiji&&""!=t&&H.g_LogSocket.AddGameDataLog(13,"金币",H.g_GameCionNum.value,"减少/非绑定/交易放入金币/玩家/"+N.DecodeString(t),"-"+e.record)},A.dealAddItemOkHandle=function(e,t){null!=H.g_WaitItems.Items&&(Y.addJiaoYiItems(H.g_WaitItems.Items),H.g_WaitItems.Items=null)},A.dealRemoteAddItemHandle=function(e,t){if(t.length==H.g_itemSize){var a=O.TClientItem(t);Y.addHumJiaoYiItems(a)}},A.dealDelItemFailHandle=function(e,t){null!=H.g_WaitItems.Items&&(Y.addJiaoYiItems(H.g_WaitItems.Items),H.g_WaitItems.Items=null),T.raiseEvent("updateItemByIndex",H.g_WaitItems.Index)},A.dealDelItemOkHandle=function(e,t){null!=H.g_WaitItems.Items&&(B.addItemNewBag(H.g_WaitItems.Items),H.g_WaitItems.Items=null)},A.dealRemoteDelItemHandle=function(e,t){var a=N.fnDecode6BitBuf(t,t.length,!1),r=O.TClientItem(a.pszDest);Y.delHumJiaoYiItems(r.MakeIndex)},A.dealCancelHandle=function(e,t){Y.closeJiaoYi(),Y.ShowJiaoYi(!1),this.dealgold&&(H.g_GameCionNum.value+=H.g_MyJiaoYiSum,T.raiseEvent(v.UPDATEAUCTIONHOUSEMONEY,1)),T.raiseEvent(v.UPDATE_BAG),H.g_boOpenCaiji&&""!=t&&H.g_LogSocket.AddGameDataLog(13,"金币",H.g_GameCionNum.value,"增加/非绑定/交易取消返回金币/玩家/"+N.DecodeString(t),H.g_MyJiaoYiSum),H.g_MyJiaoYiSum=0},A.getHeroBagWeightChange=function(e){H.g_myHero&&H.g_myHero.m_Abil?(H.g_myHero.m_Abil.Weight=e.record,H.g_myHero.m_Abil.WearWeight=e.param,H.g_myHero.m_Abil.HandWeight=e.tag):(this.m_Abil.Weight=e.record,this.m_Abil.WearWeight=e.param,this.m_Abil.HandWeight=e.tag)},A.getHeroLoyaPoint=function(e,t){H.g_HeroLoyalPoint=N.DecodeString(t)},A.getHeroAbil=function(e,t){if(null!=L.findobject(e.record)){k._LOBYTE(e.param),k._HIBYTE(e.param);if(0!=t.length){var a=new Zlib.Inflate(t).decompress(),r=O.TAbility(a);null!=H.g_myHero&&e.record==H.g_myHero.data.record||(H.g_myHero=Object.assign({},L.findobject(e.record))),H.g_myHero&&(H.g_myHero.m_Abil=r,H.g_myHero.m_Abil&&(H.g_myHero.m_Abil.name=H.g_myHero.txt_name?H.g_myHero.txt_name.text:""),null!=this.m_Abil&&(H.g_myHero.m_Abil.Weight=this.m_Abil.Weight,H.g_myHero.m_Abil.WearWeight=this.m_Abil.WearWeight,H.g_myHero.m_Abil.HandWeight=this.m_Abil.HandWeight),T.raiseEvent(v.HEROCALL_OK))}}else{var n={type:2,func:this.getHeroAbil.bind(this),params:[e,t]};L.putTask(n)}},A.customMonsterConfig=function(e,t){if(H.g_CustomMonsterConfig=[],0!=t.length){var a=new Zlib.Inflate(t).decompress(),r=k._MAKELONG(e.param,e.tag)/1177;if(e.record>0&&e.record==t.length)for(var n=0;n<r;n++){var i=B.slice(a,1177*n,1177*(n+1)),s=O.TClientCustomMonsterConfig(i);H.g_CustomMonsterConfig.push(s)}H.g_CustomMonsterConfig}},A.makeDiyMagicInfo=function(e,t){if(0!=t.length){var a=new Zlib.Inflate(t).decompress(),r=k._MAKELONG(e.param,e.tag)/1378;if(e.record>0&&e.record==t.length)for(var n=0;n<r;n++){var i=B.slice(a,1378*n,1378*(n+1)),s=O.TClientCustomMagicConfig(i);H.g_CustomMagicConfig.push(s)}}},A.gamePetList=function(e,t){if(H.g_GamePetList=[],0!=t.length)for(var a=new Zlib.Inflate(t).decompress(),r=a.length/e.series,n=e.series,i=0;i<n;i++){var s=B.slice(a,i*r,(i+1)*r),o=O.TClientGamePetData(s);H.g_GamePetList.push(o)}},A.addGamePet=function(e,t){var a=O.TClientGamePetData(t);H.g_GamePetList.push(a),T.raiseEvent(v.UPDATE_PET_LIST)},A.deleteGamePet=function(e,t){H.g_GamePetList.splice(e.record,1),T.raiseEvent(v.UPDATE_PET_LIST)},A.setCurrentGamePet=function(e,t){H.g_CurrentRecallGamePetIndex=e.record,T.raiseEvent(v.SET_GAME_PET)},A.takeOnJewelryOK=function(e,t){null!=H.g_WaitItems.Items&&H.g_WaitItems.Index>=0&&H.g_WaitItems.Index<=52&&(H.g_JewelryBoxItems[H.g_WaitItems.Index]=H.g_WaitItems.Items,H.g_JewelryBoxItems[H.g_WaitItems.Index].tag=H.g_WaitItems.Index,H.MainScene.instanceOfMem("ShouShiWin")&&T.raiseEvent(v.SHOW_SHOUSHI_BOX,H.g_JewelryBoxItems),Y.showScreen(!1),B.sendAutoItemList(e.record))},A.takeOffJewelryOK=function(e,t){null!=H.g_JewelryBoxItems[e.param-1]&&(H.g_WaitItems.Items=H.g_JewelryBoxItems[e.param-1],H.g_WaitItems.Index=e.param-1),null!=H.g_WaitItems.Items&&(H.g_JewelryBoxItems[H.g_WaitItems.Index]=null,T.raiseEvent(v.SHOW_ITEM_ICO,H.g_WaitItems.Index),H.g_WaitItems.Index>=18&&H.g_WaitItems.Index<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS),4==H.g_WaitItems.Index&&T.raiseEvent(v.SHOW_ITEM_ICO,13),y.removeAniname("bodyeffect"+H.g_WaitItems.Items.MakeIndex),H.g_WaitItems.Items=null,H.MainScene.instanceOfMem("ShouShiWin")&&T.raiseEvent(v.SHOW_SHOUSHI_BOX,H.g_JewelryBoxItems))},A.customItemPropertyTextVarList=function(e,t){if(t.length>0){var a=new Zlib.Inflate(t).decompress(),r=N.DecodeBuffer(a,!1).split("\r\n");g.localStorage.setItem("g_CustomItemPropertyTextVarList",JSON.stringify(r))}},A.customItemPropertyConfig=function(e,t){if(t.length>0){var a=new Zlib.Inflate(t).decompress(),r=N.DecodeBuffer(a,!1).split("\r\n");r.splice(0,1),g.localStorage.setItem("g_CustomItemPropertyBindNames",JSON.stringify(r))}},A.addButton=function(e,t){var a=N.fnDecode6BitBuf(t,t.length),r=O.TShortMessage(a.pszDest),n=new Ee;n.nFileIndex=k._LOWORD(e.record),n.nTag=k._LOBYTE(k._HIWORD(e.record)),n.btMove=k._HIBYTE(k._HIWORD(e.record)),n.nUpImage=e.param,n.nHotImage=e.tag,n.nTop=e.series>65530?e.series-65536:e.series,n.nDownImage=r.Ident,n.nLeft=r.wMsg>65530?r.wMsg-65536:r.wMsg;for(var i=[],s=6;s<t.length;s++)i.push(t[s]);var o=N.DecodeString(i);if(-1!=o.indexOf("\r")){var c=o.split("\r");n.btnLabel=c[0],o=c[1]}if(o.length>0){var l=o.substr(1,o.indexOf(">")),g=o.substr(o.indexOf(">")+2,o.length);n.sCaption=l,n.sHintMsg=g}T.raiseEvent(v.ADD_CUSTOM_BUTTON,n)},A.deleteButton=function(e,t){for(var a=0;a<H.g_ButtonList.length;a++)if(Number(H.g_ButtonList[a].name)==e.param){var r=H.g_ButtonList[a];H.g_ButtonList.splice(a,1),r.destroy();break}},A.updateCollect=function(e,t){var a=e.record,r=e.param;0==a||100==r?(e.record=0,re.showGameSceneProgress(t,e)):re.showGameSceneProgress(t,e)},A.delBoxItem=function(e){console.log("delBoxItem");var t=re.checkAndReturnNewNpcWin();t&&t.isValid&&t.getComponent(ne).delItemBoxItem(e)},A.returnBoxItem=function(){console.log("returnBoxItem")},A.updateBoxItem=function(e,t){if(console.log("updateBoxItem"),H.g_boxItemArr[e.record]){H.g_boxItemArr[e.record]=O.TClientItem(t);var a=re.checkAndReturnNewNpcWin();a&&a.isValid&&a.getComponent(ne).updateItemBoxItem(e)}},A.giveBoxItem=function(e){console.log("giveBoxItem");var t=re.checkAndReturnNewNpcWin();t&&t.isValid&&t.getComponent(ne).giveBoxItem(e,0)},A.takeBoxItem=function(){console.log("takeBoxItem")},A.takeOnItem=function(e,t){for(var a=N.DecodeString(t),r=e.param,n=H.g_BagItemsList,i=0;i<n.length;i++)if(n[i]&&n[i].s&&n[i].s.Name&&a==n[i].s.Name){H.g_UserItemList[r]=n[i],e.param>=18&&e.param<=29&&T.raiseEvent(v.UPDATEHUMNEWDRESS);break}},A.addDlg=function(e,t){for(var a=N.fnDecode6BitBuf(t,t.length),r=O.TShortMessage(a.pszDest),n=[],i=6;i<t.length;i++)n.push(t[i]);var s=N.DecodeString(n);console.log("addDlg:"+s);k._LOWORD(e.record),k._LOBYTE(k._HIWORD(e.record)),k._HIBYTE(k._HIWORD(e.record));e.param,e.tag,e.series,r.Ident,r.wMsg},A.delDlg=function(e,t){console.log("delDlg:删除对话框")},A.abilityNG=function(e,t){F.self_obj.m_AbilNG=O.TClientAbilityNG(t),T.raiseEvent(v.UPDATE_HUM_NG_ATTR)},A.refAbilNG=function(e,t){var a=L.findobject(e.record);a&&(a.m_boTrainingNG=!0,a.m_AbilNG&&(a.m_AbilNG.NH=e.param,a.m_AbilNG.MaxNH=e.tag),a==F.self_obj&&T.raiseEvent(v.UPDATE_HUM_NG_ATTR))},A.continuousMagicOrder=function(e,t){0==e.series&&(H.g_boOpenLastContinuous=0!=e.record,H.g_ContinuousMagicOrder[0]=k._LOBYTE(e.param),H.g_ContinuousMagicOrder[1]=k._HIBYTE(e.param),H.g_ContinuousMagicOrder[2]=k._LOBYTE(e.tag),H.g_ContinuousMagicOrder[3]=k._HIBYTE(e.tag))},A.startContinuousFail=function(e,t){var a="";a=e.param?H.g_ClientConfig.sNotEnoughNGPoint:H.g_ClientConfig.sNotEnoughMPPoint,T.raiseEvent(v.NEW_CHAT_MSG,[{info:a,front:H.g_ClientConfig.btUpLevelMsgFColor,bg:H.g_ClientConfig.btUpLevelMsgBColor,type:0}])},A.abilityMeridians=function(e,t){},A.playMagicBallEffect=function(e,t){},A.FBTime=function(e,t){switch(e.series){case 1:H.g_FBTime=e.record;break;case 2:H.g_FBExitTime=e.record;break;case 3:H.g_FBFailTime=e.record;break;case 4:H.g_MirrorMapTime=e.record,H.MainScene.showgMirrorMapTime(e.record);break;case 5:H.g_TimeMapTime=e.record}},A.SendBigHPProgress=function(e,t){var a=e.record,r=(performance.now(),O.TBigHPProgress(t).m_ExpHinterName);T.raiseEvent(v.UPDATE_HITERNAME,[a,r])},A.petLevelUp=function(e,t){if(e.param==H.g_CurrentRecallGamePetIndex&&H.g_CurrentRecallGamePetIndex>=0&&H.g_CurrentRecallGamePetIndex<H.g_GamePetList.length){H.g_GamePetList[H.g_CurrentRecallGamePetIndex].GamePetAbility.Level=k._MAKELONG(e.tag,e.series);var a=H.MainScene.instanceOfMem("PetWin");if(a)a.getComponent(Se).updatePetDate(H.g_GamePetList[H.g_CurrentRecallGamePetIndex]);L.levelup(e.record)}},A.petWinExp=function(e,t){if(e.param==H.g_CurrentRecallGamePetIndex&&H.g_CurrentRecallGamePetIndex>=0&&H.g_CurrentRecallGamePetIndex<H.g_GamePetList.length){H.g_GamePetList[H.g_CurrentRecallGamePetIndex].GamePetAbility.Exp=e.record;var a=H.MainScene.instanceOfMem("PetWin");if(a)a.getComponent(Se).updatePetDate(H.g_GamePetList[H.g_CurrentRecallGamePetIndex])}},A.updateGamePetAbil=function(e,t){if(e.tag==H.g_CurrentRecallGamePetIndex&&H.g_CurrentRecallGamePetIndex>=0&&H.g_CurrentRecallGamePetIndex<H.g_GamePetList.length){var a=O.TGamePetAbility(t);H.g_GamePetList[H.g_CurrentRecallGamePetIndex].GamePetAbility=a;var r=H.MainScene.instanceOfMem("PetWin");if(r)r.getComponent(Se).updatePetDate(H.g_GamePetList[H.g_CurrentRecallGamePetIndex])}},A.processMessageExtBagCountChange=function(e,t){G.QueryBagItems()},A.updateItemNewFlute=function(e,t){for(var a=H.g_BagItemsList,r=e.record,n=(e.param,e.series),i=(e.tag,e.tag,O.TFluteInfo(t)),s=0;s<a.length;s++)if(a[s]&&a[s].MakeIndex==r){a[s].Flutes[0]=i,a[s].btFluteCount=n;break}H.MainScene.instanceOfMem("ScreenWin")&&T.raiseEvent("close_screenwin")},A.moveHintMsg=function(e,t){e.record;var a=e.tag,r={str:N.DecodeString(t),fcolor:k._LOBYTE(e.param),outlineColor:k._HIBYTE(e.param),fontSize:16,mode:1,y:a,time:1};re.showBigFontToast(r)},a}(A))._instance=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/GameMission.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./MsgCM.ts","./AnimationModule.ts","./MapData.ts","./ResourcesMgr.ts","./UIcontrol.ts","./objectmanage.ts","./NewTaskItem.ts","./Sendmessage.ts","./RGBCode.ts","./DragItem.ts","./GameApi.ts","./GameUtil.ts","./NewNpcWin.ts","./editBoxItem.ts"],(function(e){"use strict";var t,n,o,i,a,s,r,p,g,l,d,m,C,f,h,c,u,x,T,_,I,v,y,O,N,L,S,w,M,U,k,P,b,B,A,E,R,G,D;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.RichText,a=e.UITransform,s=e.Node,r=e.Layers,p=e.Button,g=e.Sprite,l=e.instantiate,d=e.Label,m=e.LabelOutline,C=e.color,f=e.v3,h=e.Size,c=e.Widget,u=e.BlockInputEvents,x=e.Layout,T=e.director,_=e.Vec3,I=e.Component},function(e){v=e.EventMgr},function(e){y=e.Config},function(e){O=e.default},function(e){N=e.default},function(e){L=e.Animationmodule},function(e){S=e.Mapdata},function(e){w=e.resourcesMgr},function(e){M=e.uiControl},function(e){U=e.ObjectManage},function(e){k=e.NewTaskItem},function(e){P=e.sendmessage},function(e){b=e.rgbCode},function(e){B=e.DragItem,A=e.e_DragItem_Type},function(e){E=e.GameApi},function(e){R=e.GameUtil},function(e){G=e.NewNpcWin},function(e){D=e.editBoxItem}],execute:function(){n._RF.push({},"049d7iJxn5LnaUFZXOEHtUM","GameMission",void 0);o.ccclass,o.property;var H=e("GameMission",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).m_AutoColor_List=[],t.inputText=!1,t.aniLayer=1,t.sendnpccmd=function(e,t){t.length>30&&(t=t.substr(0,60));var n=0;-1!=(e=e+String.fromCharCode(13)+t).indexOf("@InPut")&&(n=99),P.SendNpcCMD(e,y.G_NPC_ID,n)},t.FindNewTaskByID=function(e){for(var t=0;t<y.g_newTaskList.length;t++)if(y.g_newTaskList[t][0]===e)return y.g_newTaskList[t];return null},t}t(n,e),n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var o=n.prototype;return o.GetMissStringInfo=function(e,t,n){for(var o=0,i="",a="";;){if((10==n||11==n)&&""!=e&&""!=y.MissStringArray[o]){var s=y.MissStringArray[o];if(s&&s.indexOf(e)>0)if(t.indexOf("$")>=0){for(var r=t;;){var p=r.indexOf("$"),g=r.indexOf(";");if(-1==p)break;if(p>=0){var l=r.substr(p+1,g-p-1);l="$"+l+";";var d=r.substr(0,p);""!=d&&(a+=d);var m=(r=(r=r.substr(p,r.length)).replace(l,"")).indexOf(l);if(0==m)break;var C=r.substr(0,m);r=r.substr(m+l.length,r.length),""!=C&&(i+=C+"\\")}}this.SetMissionStrIng(e,a,i)}else this.SetMissionStrIng(e,t,"")}if((o+=1)>=y.MissStringArray.length)break}},o.GetMissStringArray=function(e,t,n){var o=20;if(e>=0&&e<=9&&-1!=t.indexOf("$")){var i=t;for(10==n&&(y.MissStringArray[e]="");o--&&-1!=i.indexOf("$");){if(i.indexOf("$")>-1){var a=i.indexOf("$"),s=i.indexOf(";");if(-1!=a&&-1!=s){var r=i.substr(a+1,s-a-1);r="$"+r+";";var p=i.substr(a+r.length,i.length-a-r.length+1),g=p.indexOf("$");if(0==g)break;var l=p.substr(0,g),d=l,m=l.substr(1,r.length);l=m==r?"":r+l+r,i=i.replace(l,"")}}if((10==n||11==n)&&""!=l){y.MissStringArray[e]+=l+"\\";var C=l.indexOf("@");if(-1!=C){var f=l.indexOf(">"),h=l.substr(C+1,f-C-1);if(""!=h&&(P.gettmissitem(y.rw_recog,10,"@"+h),""!=d)){C=d.indexOf("/@"),f=d.indexOf("#");var c="";c=-1!=C&&-1!=f?d.substr(f+2,C-3):d;var u=[];u.sShowtxt=c,u.sMemo="",u.sNvStr="",u.sCmdGo=h,y.g_MissCaptionList[e].sList.push(u)}}}}}},o.SetMissionStrIng=function(e,t,n){for(var o=0;o<y.g_MissCaptionList.length;o++)if(y.g_MissCaptionList[o])for(var i=0;i<y.g_MissCaptionList[o].sList.length;i++)if(y.g_MissCaptionList[o].sList[i]&&"@"+y.g_MissCaptionList[o].sList[i].sCmdGo==e){y.g_MissCaptionList[o].sList[i].sNvStr=n,y.g_MissCaptionList[o].sList[i].sMemo=t;break}v.raiseEvent("UPDATETASK","")},o.addLabel=function(e){return R.addLabel(e)},o.ShowNavigation=function(e,t){var n=e.split("\\"),o=-1,l=(y.g_npcTxtSize,2),d=42;t.height=0;for(var m=this.TaskBgCountShowLine(n);!((o+=1)>=n.length);)if(""!=n[o]){var C=n[o].indexOf("{"),f=n[o].indexOf("}");-1!=C&&-1!=f&&(n[o]=n[o].replace("{","<"),n[o]=n[o].replace("}",">"));for(var h=n[o].split("<"),c=0;c<h.length;c++)if(""!=h[c])for(var u=h[c].split(">"),x=0;x<u.length;x++)if(""!=u[x]){u[x];var T=u[x].toUpperCase();if(-1!=T.indexOf("#NEW")){C=T.indexOf("#NEW("),f=T.indexOf(")");var _=T.substr(C+5,f-C-5),I=T.substr(f+1,T.length),v=R.getMissGloba(_,parseInt(I),0);""==v&&(v=I);var O={name:"navigation#new",text:v,x:d,y:l,fontSize:16,color:"#ffffff",underline:null,outline:1,HAlign:null},N=this.addLabel(O);d+=E.newcount(N)+E.getSpWidth(N.getComponent(i).string);var L=R.LayaPointToCocosPoint(N.position,t.getComponent(a).width,t.getComponent(a).height);N.setPosition(L),t.addChild(N)}else if(-1!=T.indexOf("FCOLOR")||-1!=T.indexOf("SCOLOR")){if(-1!=(C=T.indexOf("FCOLOR"))){C=T.indexOf("/FCOLOR="),T.substr(C+8,3);var S=T.substr(0,C)}else C=T.indexOf("/SCOLOR="),T.substr(C+8,3),S=T.substr(0,C);var M={name:"navigation#fcolor",text:S,x:d,y:l,fontSize:null,color:null,underline:null,outline:null,HAlign:null};N=this.addLabel(M);d+=E.newcount(N)+E.getSpWidth(S);L=R.LayaPointToCocosPoint(N.position,t.getComponent(a).width,t.getComponent(a).height);N.setPosition(L),t.addChild(N)}else if(-1!=T.indexOf("/@")){var U=T.split("/@");if(U[0]&&-1!=U[0].indexOf("IMGEX")){var k=new s("shownavigation:imgex");k.layer=r.Enum.UI_2D,k.addComponent(p),k.addComponent(g),k.getComponent(g).sizeMode=g.SizeMode.TRIMMED;var P=U[0].split(":");if(P.length>6){var B=parseInt(P[1]);if(B>=0&&B<y.g_pak_list.length){var A=parseInt(P[2]),G=y.g_pak_list[B];R.loadImg(A,G,(function(e){this.saveLoadPath(e),w.handleLoad(e,(function(e){if(e&&k&&k.isValid){k.getComponent(g).spriteFrame=e,k.getComponent(a).setContentSize(26,31);var n=R.LayaPointToCocosPoint(k.position,t.getComponent(a).width,t.getComponent(a).height);k.setPosition(n),t.addChild(k)}}))}),null,!0)}k.name=U[1],k.setPosition(d+parseInt(P[5]),l+parseInt(P[6])),this.TaskBgTrigger(k.name,t,m)}k.on(s.EventType.TOUCH_START,R.onLa_CLICK)}else{var D={name:"navigation"+U[1],text:U[0],x:d,y:l,fontSize:16,color:b.Get2RGB("251"),underline:!0,outline:1,HAlign:null},H=this.addLabel(D);H.on(s.EventType.TOUCH_START,R.onLa_CLICK),d+=E.newcount(H)+E.getSpWidth(U[0]);L=R.LayaPointToCocosPoint(H.position,t.getComponent(a).width,t.getComponent(a).height);H.setPosition(L),t.addChild(H),this.TaskBgTrigger(H.name,t,m)}}else{var z={name:"showNavigationLabel",text:T,x:d,y:l,fontSize:16,color:0==o?"#0b9352":"#ffffff",underline:!0,outline:1,HAlign:null},F=this.addLabel(z),X=R.LayaPointToCocosPoint(F.position,t.getComponent(a).width,t.getComponent(a).height);F.setPosition(X),t.addChild(F),d+=E.newcount(H)+E.getSpWidth(T)}y.cur_use_app&&(d+=5)}d=0,l+=20,t.height=l}},o.TaskBgCountShowLine=function(e){for(var t=0,n=0;n<e.length;n++)""!=e[n]&&t++;return t},o.TaskBgTrigger=function(e,t,n){if(-1!=e.indexOf("_H5_")){var o=n<2||n>3?0:n-1,i=e.split("_H5_"),a=-1,r=-1;if(i.length>1)switch(i[1]){case"1":r=(a=36*o)+11;break;case"2":r=(a=12+36*o)+11;break;case"3":r=(a=24+36*o)+11}if(-1!=a&&-1!=r){var p=L.playframe(!1,t,"Animation/task/",a,r,100,!0,!1);p.name="TaskBgTrigger",this.saveAniList(p.name)}var g=function(){P.sendtomsg(N.MERCHANTDLGSELECT,y.rw_recog,0,0,0,"@"+e)}.bind(e);t.on(s.EventType.TOUCH_START,g)}},o.GetStringA=function(e){var t=e.indexOf("{"),n=e.indexOf("/"),o=e.indexOf("}");if(-1!=t&&-1!=n&&-1!=o)for(var i=!1,a=!1,s=0;s<e.length;s++)if("{"!=e[s]){if("/"==e[s]){if(i){a=!0,n=s;continue}i=!1,a=!1}if("}"==e[s])if(i&&a){if(-1!=(r=e.substr(n+1,s-n-1).toUpperCase()).indexOf("FCOLOR=")||-1!=r.indexOf("SCOLOR=")||-1!=r.indexOf("AUTOCOLOR=")){(p=e.split(""))[t]="<",p[s]=">",i=!1,a=!1,e=p.join("");continue}(r=e.substr(t+1,s-t-1).toUpperCase()).indexOf("IMG:")}else{var r,p;if(-1!=(r=e.substr(t+1,s-t-1).toUpperCase()).indexOf("IMG:"))(p=e.split(""))[t]="<",p[s]=">",e=p.join("");i=!1,a=!1}}else i=!0,t=s;return e},o.GetPakSing=function(e){if(e<y.g_pak_list.length){var t="",n=y.g_pak_list[e];n.replace("items","");t="data/"+n+"/"}return t},o.addImg=function(e){var t=new s(e);return t.addComponent(g),t.getComponent(g).sizeMode=g.SizeMode.TRIMMED,t.getComponent(a)||t.addComponent(a),t.getComponent(a).anchorX=0,t.getComponent(a).anchorY=1,t},o.LineText_INPUTTEXT=function(e,t,n,o){if(e.startsWith("INPUTTEXT")||e.startsWith("INPUTNUM")){var i=e.replace("<",""),s=(i=i.replace(">","")).split(":"),r=(s[1],parseInt(s[2])),p=parseInt(s[3]),g={id:parseInt(s[1]),w:parseInt(s[4]),h:parseInt(s[5]),bgColor:"-1"==s[6]?-1:b.Get2RGB(parseInt(s[6])),fBgColor:"-1"==s[7]?-1:b.Get2RGB(parseInt(s[7])),fontColor:b.Get2RGB(parseInt(s[8])),minLength:s[9],maxLength:s[10],inValidTip:s[11],tip:s[12],tipColor:b.Get2RGB(s[13])};this.inputText=!0;var d={px:null,py:null};return d.px=t.x,d.py=t.y,w.handleLoad("prefab/npcDiy/editBoxItem.prefab",(function(e){var t=d.px,i=d.py,s=l(e);n.addChild(s),s.getComponent(a).anchorX=0,s.getComponent(a).anchorY=1,s.getComponent(D).init(g,o),s.setPosition(t+r,i+p);var m=R.LayaPointToCocosPoint(s.position,n.getComponent(a).width,n.getComponent(a).height);s.setPosition(m)})),t.x+=parseInt(s[4]),t}},o.LineText_progressBar=function(e,t,n){var o,i=e.replace("<",""),p=(i=i.replace(">","")).split(":"),l=p[1],f=p[2],h=p[3],c=p[4],u=p[5],x=(p[6],p[7],p[8]),T=p[9],_=(p[10],p[11]),I=p[12],v=(p[13],p[14]),O=p[15],N=p[16],L=p[17],S=null;""!=L&&((S=new s("progressBarText")).layer=r.Enum.UI_2D,S.addComponent(d),S.addComponent(m).color=C("#000000"),S.getComponent(d).fontSize=12,S.getComponent(d).lineHeight=S.getComponent(d).fontSize,S.getComponent(a).anchorX=0,S.getComponent(a).anchorY=1,-1!=L.toUpperCase().indexOf("%P")&&(L=L.toUpperCase().replace("%P",I)),-1!=L.toUpperCase().indexOf("%M")&&(L=L.toUpperCase().replace("%M",_)),-1!=L.toUpperCase().indexOf("%R")&&(L=L.toUpperCase().replace("%R",(parseInt(I)/parseInt(_)).toString())),""!=v&&(S.getComponent(d).color=C(b.Get2RGB(parseInt(v)))),S.getComponent(d).string=L,S.setPosition(0,0));var w=new s("progressBar");w.layer=r.Enum.UI_2D,w.addComponent(g),w.getComponent(g).sizeMode=g.SizeMode.TRIMMED;var M=new s("bar");M.layer=r.Enum.UI_2D,M.addComponent(g),M.getComponent(g).sizeMode=g.SizeMode.TRIMMED;var U=this.getUrls(y.g_pak_list[parseInt(h)],parseInt(c)),k=this.findImg(U);k&&(w.getComponent(g).spriteFrame=k);var P=this.getUrls(y.g_pak_list[parseInt(h)],parseInt(u)),B=this.findImg(P);B&&(M.getComponent(g).spriteFrame=B),o=M.getComponent(a).width,w.getComponent(a).anchorX=0,w.getComponent(a).anchorY=1,M.getComponent(a).anchorX=0,M.getComponent(a).anchorY=1,M.getComponent(a).width=0,w.addChild(M),M.setPosition(parseInt(x),-w.getComponent(a).height/2+M.getComponent(a).height/2-parseInt(T)),n.addChild(w),w.setPosition(parseInt(l)+t.X,parseInt(f)+t.y);var A=R.LayaPointToCocosPoint(w.position,n.getComponent(a).width,n.getComponent(a).height);return w.setPosition(A.x-w.getComponent(a).width/2,A.y),S&&(w.addChild(S),S.setPosition(parseInt(O)+w.getComponent(a).width/2-S.getComponent(a).width/2,-w.getComponent(a).height/2+S.getComponent(a).height/2-parseInt(N))),M.getComponent(a).width=parseInt(I)/parseInt(_)*o,t.x+=w.getComponent(a).width,t},o.LineText_IMGNUM=function(e,t,n,o){var i=this,r="";Array.isArray(e)&&(e=e[0],r=e[1]);var p=e.split(":"),g=(p[1],p[2]),m=(p[3],parseInt(p[4])),C=parseInt(p[5]),f=(p[6],R.getMapLayerScript().getValuePrefab(230)),h=l(f);h.name="LineText_IMGNUM",h.getComponent(d).string=g,h.getComponent(d).lineHeight=h.getComponent(d).fontSize,h.getComponent(a).anchorX=.5,h.getComponent(a).anchorY=1,h.setPosition(t.x+m,t.y+C);var c=R.LayaPointToCocosPoint(h.position,n.getComponent(a).width,n.getComponent(a).height);if(h.setPosition(c),n.addChild(h),t.x+=h.getComponent(a).width,""!=r){h.on(s.EventType.TOUCH_START,(function(){i.onCmdClick(r)}),h)}return t},o.LineText_IMGEX=function(e,t,n,o){var i=this,l="",d="";Array.isArray(e)?(l=e[0],d=e[1]):l=e;var m=l.split(":"),C=parseInt(m[1]),f=parseInt(m[2]),h=(parseInt(m[3]),parseInt(m[4])),c=parseInt(m[5]),u=0,x=-1,T=!1;if(-1!=(x=l.indexOf("|"))){var _=l.substr(x+1,l.length-x);l=l.substr(0,x),T=!0}if(m[7]){_=m[7];T=!0}if(m[6])if(-1!=(x=m[6].indexOf(":")))u=m[6].substr(x,0);else u=parseInt(m[6]);var I=new s("LineText_IMGEX");I.layer=r.Enum.UI_2D,I.addComponent(g),I.getComponent(g).sizeMode=g.SizeMode.TRIMMED,I.getComponent(a).anchorX=0,I.getComponent(a).anchorY=1,I.imgEx=!0,I.inputText=this.inputText;var v=this.getUrls(y.g_pak_list[C],f),O=this.findImg(v);if(O&&(I.getComponent(g).spriteFrame=O),n.addChild(I),I.setPosition(t.x+c,t.y+u),f!=h&&(I.getComponent(p)||I.addComponent(p),I.getComponent(p).transition=p.Transition.SPRITE,I.on(s.EventType.TOUCH_END,(function(){var e=i.getUrls(y.g_pak_list[C],f),t=i.findImg(e);t&&(I.getComponent(g).spriteFrame=t)})),I.on(s.EventType.TOUCH_START,(function(){var e=i.getUrls(y.g_pak_list[C],h),t=i.findImg(e);t&&(I.getComponent(p).pressedSprite=t)}))),T&&""!=_&&(m[6].indexOf("|")>-1||m[7]))I.sHitText=""!==d?_+"/"+d:_,I.getComponent(p)||I.addComponent(p),I.getComponent(p).transition!=p.Transition.SPRITE&&(I.getComponent(p).transition=p.Transition.SCALE,I.getComponent(p).zoomScale=.95),I.on(s.EventType.TOUCH_START,this.onHitTextClick,I),I.BoIsOpen=!1,""!==d&&(I.sCmdsJump=!0,I.BoIsOpen=!0);else if(""!=d){I.getComponent(p)||I.addComponent(p),I.getComponent(p).transition!=p.Transition.SPRITE&&(I.getComponent(p).transition=p.Transition.SCALE,I.getComponent(p).zoomScale=.95),I.sCmdsJump=!0;I.on(s.EventType.TOUCH_START,(function(){i.onCmdClick(d)}),I)}var N=R.LayaPointToCocosPoint(I.position,n.getComponent(a).width,n.getComponent(a).height);return I.setPosition(N),t.x+=I.getComponent(a).width,t},o.LineText_PLAYIMG=function(e,t,n,o){var i=this,l="";if(Array.isArray(e)){var d=e[0].split(":");l=e[1]}else d=e.split(":");var m=parseInt(d[1]),C=parseInt(d[2]),h=parseInt(d[3]),c=parseInt(d[4]),u=t.x+parseInt(d[5]),x=t.y+parseInt(d[6]),T=parseInt(d[7]),_=!1;if(_=!(!T||0==T),d[8])var I=d[8].indexOf("|")?parseInt(d[8].split("|")[0]):parseInt(d[8]);if(-1!=m&&m<y.g_pak_list.length){var v=y.g_pak_list[m],O=((Array(5).join("0")+(0+C)).slice(-5),new s(l));O.layer=r.Enum.UI_2D,O.addComponent(g),O.getComponent(g).sizeMode=g.SizeMode.TRIMMED;var N,S=this.getUrls(v,C),w=(S.imgName,this.findImg(S));O.getComponent(g).spriteFrame=w;var M,U=f(u,x),k=R.LayaPointToCocosPoint(U,n.getComponent(a).width,n.getComponent(a).height);if(I&&0!=I?I>0&&(N=L.playframe(_,n,"data/"+v+"/",C,C+h-1,c,!1,!0,k,this,(function t(){var o=this;if(--I>0){var i=f(u,x),r=R.LayaPointToCocosPoint(i,n.getComponent(a).width,n.getComponent(a).height),g=L.playframe(_,n,"data/"+v+"/",C,C+h-1,100,!1,!0,r,this,t);g&&(g.name="data/"+v+"/"+g.name,-1==v.indexOf("item")&&this.saveAniList(g.name),Array.isArray(e)?e[0].split("|"):e.split("|"),g.node.addComponent(p),g.node.on(s.EventType.TOUCH_START,(function(e){o.onHitTextClick(e),""!=l&&o.onCmdClick(l)})))}}))):N=L.playframe(_,n,"data/"+v+"/",C,C+h-1,c,!0,!1,k),N)N.node.setSiblingIndex(this.aniLayer++),N.name="data/"+v+"/"+N.name,-1==v.indexOf("item")&&this.saveAniList(N.name),M=Array.isArray(e)?e[0].split("|"):e.split("|"),N.sHitText=M[1],N.node.addComponent(p),N.node.on(s.EventType.TOUCH_START,(function(e){i.onHitTextClick(e),""!=l&&i.onCmdClick(l)}));t.x+=O.getComponent(a).width,o&&O.getComponent(a).height>20&&(t.y=O.getComponent(a).height)}return t},o.LineText_PLAYIMGEX=function(e,t,n,o){var i=this,l="";if(Array.isArray(e)){var d=e[0].split(":");l=e[1]}else d=e.split(":");var m=parseInt(d[1]),C=parseInt(d[2]),h=parseInt(d[3]),c=d[4],u=d[5],x=d[6],T=d[7],_=!(!d[8]||0==d[8]),I=(d[9],d[10],u>1?u-1:0);if(-1!=m&&m<y.g_pak_list.length){var v=y.g_pak_list[m],O=((Array(5).join("0")+(0+C)).slice(-5),new s("LineText_PLAYIMGEX-img"));O.layer=r.Enum.UI_2D,O.addComponent(g),O.getComponent(g).sizeMode=g.SizeMode.TRIMMED;var N,S=this.getUrls(v,C),w=(S.imgName,this.findImg(S));O.getComponent(g).spriteFrame=w;var M,U=f(x,T),k=R.LayaPointToCocosPoint(U,n.getComponent(a).width,n.getComponent(a).height);if(I&&0!=I?I>0&&(N=L.playframe(_,n,"data/"+v+"/",C,C+h-1,c,!1,!0,k,this,(function t(){var o=this;if(--I>0){var i=f(x,T),r=R.LayaPointToCocosPoint(i,n.getComponent(a).width,n.getComponent(a).height),g=L.playframe(_,n,"data/"+v+"/",C,C+h-1,100,!1,!0,r,this,t);g&&(g.name="data/"+v+"/"+g.name,-1==v.indexOf("item")&&this.saveAniList(g.name),Array.isArray(e)?e[0].split("|"):e.split("|"),g.node.addComponent(p),g.node.on(s.EventType.TOUCH_START,(function(e){o.onHitTextClick(e),""!=l&&o.onCmdClick(l)})))}}))):N=L.playframe(_,n,"data/"+v+"/",C,C+h-1,c,!1,!1,k,null,null,null,null,null,null,null,(function(){})),N)N.name="data/"+v+"/"+N.name,-1==v.indexOf("item")&&this.saveAniList(N.name),M=Array.isArray(e)?e[0].split("|"):e.split("|"),N.sHitText=M[1],N.node.addComponent(p),N.node.on(s.EventType.TOUCH_START,(function(e){i.onHitTextClick(e),""!=l&&i.onCmdClick(l)}));t.x+=O.getComponent(a).width,o&&O.getComponent(a).height>20&&(t.y=O.getComponent(a).height)}return t},o.setFrameHitArea=function(e,t){},o.getItemShowIdxByMakeIndex=function(e,t,n,o){if(t)for(var i=0;i<o.length;i++)if(o[i]&&n==o[i].MakeIndex)return[o[i].s.Looks,o[i]];return[e]},o.LineText_ITEMSHOW=function(e,t,n){var o=this,i=-1,l=-1;if(Array.isArray(e))var d=e[0].split(":"),m=e[1];else d=e.split(":");if(d&&d.length>4){var C=new s(d[0]);C.layer=r.Enum.UI_2D,C.addComponent(g),C.getComponent(g).sizeMode=g.SizeMode.TRIMMED;for(var f,u,x=parseInt(d[3]),T=parseInt(d[4]),_=0;_<y.g_Showitem.length;_++)if(parseInt(d[1])<y.g_Showitem.length){i=d[1],l=y.g_Showitem[d[1]].s.Looks,f=y.g_Showitem[_];break}var I=this.getItemShowIdxByMakeIndex(l,-1==l,d[1],y.g_BagItemsList);l=null!=I[0]?I[0]:l,u=I[1]?I[1]:void 0;var v=this.getItemShowIdxByMakeIndex(l,-1==l,d[1],y.g_UserItemList);if(l=v[0],u=u||v[1],d[2]&&parseInt(d[2])>0){var O={name:"itemshowLabel",text:d[2],fontSize:12,color:"#ffffff",HAlign:2,paddingRight:!0},N=R.addLabel(O);R.setCanAddTxtStroke(N)}if(-1!=l){var L=l;this.getUrl("items",L);if(-1!=i){C.addComponent(p);C.on(s.EventType.TOUCH_START,(function(){o.onShowItemClick(i)}))}else{C.addComponent(p);C.on(s.EventType.TOUCH_START,(function(){R.newShowItemsInf(f||u)}))}n.addChild(C);var S=this.getUrls("items",L),U=(S.imgName,this.findImg(S));C.getComponent(g)&&(C.getComponent(g).spriteFrame=U);var k=new h(41,41);if("1"==d[5]||"0"==d[5]){var P=new s("itemshowbg");P.layer=r.Enum.UI_2D,P.addComponent(g),P.getComponent(g).sizeMode=g.SizeMode.TRIMMED,P.getComponent(a).anchorX=0,P.getComponent(a).anchorY=1,P.setPosition(t.x+x,t.y+T);var B=R.LayaPointToCocosPoint(P.position,n.getComponent(a).width,n.getComponent(a).height);P.setPosition(B.x,B.y),w.handleLoad("MyShop/img_bag_bg.png",(function(e){if(e?(P.getComponent(g).spriteFrame=e,P.getComponent(a).setContentSize(k),"0"==d[5]&&(P.getComponent(g).enabled=!1)):M.handlerAlert({type:1,content:"物品背景图缺失，MyShop/img_bag_bg.png"}),n.addChild(P),C.setParent(null),C.getComponent(a).anchorX=0,C.getComponent(a).anchorY=1,C.addComponent(c),C.getComponent(c).isAlignTop=!0,C.getComponent(c).isAlignBottom=!0,C.getComponent(c).isAlignLeft=!0,C.getComponent(c).isAlignRight=!0,C.getComponent(c).top=5,C.getComponent(c).bottom=5,C.getComponent(c).left=5,C.getComponent(c).right=5,P.addChild(C),N&&N.isValid){N.getComponent(a).anchorX=1,N.getComponent(a).anchorY=.5,P.addChild(N),N.addComponent(c);var t=N.getComponent(c);t.isAlignRight=!0,t.right=0,t.isAlignBottom=!0,t.bottom=0}}))}else{C.setPosition(t.x+x,t.y+T);var A=R.LayaPointToCocosPoint(C.position,n.getComponent(a).width,n.getComponent(a).height);if(C.getComponent(a).anchorX=0,C.getComponent(a).anchorY=1,C.setPosition(A),C.active=!0,N){N.getComponent(a).anchorX=1,N.getComponent(a).anchorY=0,C.addChild(N),N.addComponent(c);var E=N.getComponent(c);E.isAlignRight=!0,E.right=0,E.isAlignBottom=!0,E.bottom=0}}"1"==d[5]?t.x+=C.getComponent(a).width:"2"==d[5]?t.x+=C.getComponent(a).width+x:"3"==d[5]||"4"==d[5]?t.x+=42+x:t.x+=C.getComponent(a).width}else{C.setPosition(t.x+x,t.y+T);var G=R.LayaPointToCocosPoint(C.position,n.getComponent(a).width,n.getComponent(a).height);C.setPosition(G),C.getComponent(a).anchorX=0,C.getComponent(a).anchorY=1,n.addChild(C),t.x+=C.getComponent(a).width}}if(m){console.log("此段逻辑注释掉，未知逻辑");var D=m.split("");m=m.toUpperCase();var H=null;if(-1!=m.indexOf("AUTOCOLOR")||-1!=m.indexOf("FCOLOR")||-1!=m.indexOf("SCOLOR")){var z=m.indexOf("="),F=m.substr(z+1,m.length);if(-1!=F.indexOf("$"))b.Get3RGB(F.substr(2,6));else if(-1==F.indexOf(","))b.Get2RGB(F%256);else{var X=F.split(",");""==X[X.length-1]&&X.pop()}}else"@"==D[0]&&(H=m);if(""!=H&&C){C.on(s.EventType.TOUCH_START,(function(){o.onCmdClick(H)}),C)}}return t},o.LineText_GIMG=function(e,t,n){if(Array.isArray(e)){var o=e[0].split(":");e[1]}else o=e.split(":");var i=parseInt(o[2]),p=o[1].split("~"),l=t.x+parseInt(o[3]),d=t.y+parseInt(o[4]),m=p[0],C=p[1];if(-1!=i&&i<y.g_pak_list.length){var h=new s("lintText_Gimg");h.layer=r.Enum.UI_2D,h.addComponent(g),h.getComponent(g).sizeMode=g.SizeMode.TRIMMED;var c=y.g_pak_list[i],u=this.getUrls(c,m),x=this.findImg(u);this.saveLoadPath(u.plistPath),h.getComponent(g).spriteFrame=x;var T=f(l,d),_=R.LayaPointToCocosPoint(T,n.getComponent(a).width,n.getComponent(a).height),I=L.playframe(!0,n,"data/"+c+"/",m,C,80,!0,!1,_);return I.name="data/"+c+"/"+I.name,-1==c.indexOf("item")&&this.saveAniList(I.name),this.saveAniList(I.name),t.x+=h.getComponent(a).width,t}return t},o.LineText_IMG=function(e,t,n,o){var i=this;if(Array.isArray(e))var l=e[0],d=e[1];else l=e,d="";var m=!1;if(-1!=l.indexOf("#")){var C=l.split("#");l=C[0],C.splice(0,1);var f=C}if(-1!=l.indexOf("|")){var h=l.split("|");l=l.replace("|"+h[1],""),m=!0}var c=l.split(":"),u=parseInt(c[1]),x=parseInt(c[2]),T=y.g_pak_list[x];T&&(T=T.toLocaleLowerCase());var _=this.getUrls(T,u),I=this.findImg(_);this.saveLoadPath(_.plistPath);var v=new s("linetext_img");if(v.layer=r.Enum.UI_2D,v.addComponent(g),v.getComponent(g).sizeMode=g.SizeMode.TRIMMED,v.getComponent(g).spriteFrame=I,v.getComponent(a).anchorX=0,v.getComponent(a).anchorY=1,v.setPosition(t.x,t.y),c[3]&&c[4]&&v.setPosition(t.x+parseInt(c[3]),t.y+parseInt(c[4])),m&&""!=h[1]&&(v.sHitText=f,v.addComponent(p),v.on(s.EventType.TOUCH_START,this.onHitTextClick),v.BoIsOpen=!1),""!=d){v.addComponent(p);v.on(s.EventType.TOUCH_START,function(){i.onCmdClick(d)}.bind(d))}if(n.components){var O=R.LayaPointToCocosPoint(v.position,n.getComponent(a).width,n.getComponent(a).height);return v.setPosition(O),n.addChild(v),t.x+=v.getComponent(a).width,o&&v.getComponent(a).height>20&&(t.y=v.getComponent(a).height),t}console.log("Show_bg.getComponent(UITransform):不存在此组件")},o.LineText_ITEMBOX=function(e,t,n){var o=this,i=e.split(":"),r=parseInt(i[1]),p=parseInt(i[2]),m=parseInt(i[3]),C=parseInt(i[4]),f=parseInt(i[5]),h=parseInt(i[6]),c=parseInt(i[7]);i[8],i[9];y.g_Show_Bag_Type="npc_dlg_options";var x=!0;-1==p&&(x=!1);var T=this.getUrls(y.g_pak_list[p],m),_=this.findImg(T),I=l(y.CurScene.itemBoxItem);I.getComponent(g).spriteFrame=_;var N=h,L=c;I.BoxId=r,I.BoxType=i[8],I.setPosition(C,f);var S=R.LayaPointToCocosPoint(I.position,n.getComponent(a).width,n.getComponent(a).height);I.setPosition(S),I.name="lb_img",I.addComponent(u),y.g_npc_opt_boxid=r,n.addChild(I),I.getComponent(g).enabled=x;var w=I.getChildByName("bg");w.getComponent(a).anchorX=0,w.getComponent(a).anchorY=1;var M=I.getComponent(a).width/2-w.getComponent(a).width/2,U=-I.getComponent(a).height/2+w.getComponent(a).height/2;w.setPosition(M,U);var k=I.getChildByName("num"),P=k.getComponent(d);P.fontSize=12,P.lineHeight=13,P.string="",B.dragItemType=A.OkBar,I.addComponent(B);var b=I.getComponent(B);b.setItemSpriteAndItemNum(I.children[0],k);var E={itemsData:void 0,selectIndex:void 0,hasBgFrame:!0,maxUnlockCount:void 0,itemType:A.OkBar};if(b.setData(E,y.g_npc_opt_boxid),b.setWidthAndHeight(N,L),-1!=r&&(I.sHitText=i[9],I.on(s.EventType.TOUCH_END,(function(e){o.onHitTextClick(e),o.onItemBoxClick(e)}))),y.g_boxItemArr[y.g_npc_opt_boxid]){var G={itemsData:y.g_boxItemArr[y.g_npc_opt_boxid],selectIndex:void 0,hasBgFrame:!0,maxUnlockCount:void 0,itemType:A.OkBar};b.showItemUI(G,y.g_npc_opt_boxid)}else for(var D=0;D<y.g_boxItemArr.length;D++)y.g_boxItemArr[D]&&R.addItemNewBag(y.g_boxItemArr[D]);v.addEventListener(O.DRAW_NPC_ITEMS,(function(e){var t=e[0],n=e[1],i=e[2],a=e[3];if(null==t||null==t){if(I.BoxId!=i)return;if(a)return void(I.children&&I.children[1]&&I.children[1]instanceof d&&I.children[1].removeFromParent());if(o.delOkFrameSpecialHandle(n,I,i))return;if(I&&I.components)I.getComponent(B).hideItemExceptBgFrame()}else if(I.BoxId==y.g_npc_opt_boxid){var s={itemsData:t,selectIndex:void 0,hasBgFrame:!0,maxUnlockCount:void 0,itemType:A.OkBar};b.showItemUI(s,y.g_npc_opt_boxid)}}),this)},o.hideSuspensionTip=function(e){if(e.numChildren){var t=e.getChildByName("buff_k");t&&(t.visible=!1)}},o.delOkFrameSpecialHandle=function(e,t,n){if(!e)return!1;t.BoxId==n&&(t&&t.isValid&&t.getComponent(B).hideItemExceptBgFrame());return!0},o.addItemTxtNums=function(e,t){if(e&&e.Dura){if(!([17,18,40,41,42].indexOf(e.s.StdMode)<0)){var n=new s("count");n.layer=r.Enum.UI_2D,n.addComponent(d),n.addComponent(c),n.getComponent(d).color.set(C("#ffffff")),n.getComponent(d).string="x"+(e.Dura+1),n.getComponent(c).isAlignRight=!0,n.getComponent(c).isAlignBottom=!0,n.getComponent(c).right=5,n.getComponent(c).bottom=5,R.setCanAddTxtStroke(n);var o=R.LayaPointToCocosPoint(n.position,t.getComponent(a).width,t.getComponent(a).height);n.setPosition(o),t.addChild(n)}}},o.LineText_FONT=function(e,t,n,o){var i=this,l="",m="",f="";if(Array.isArray(e)){for(var h=0;h<e.length;h++){var c=h+1==e.length?"":"/";m+=e[h]+c}var u=m.split(":");l=e[1],f=R.extractRemarkInfoNPC(e[0])}else{u=e.split(":");R.extractRemarkInfoNPC(e)}if(u.length>=7){var T=0,_=0,I=0,v=new s("font");if(v.layer=r.Enum.UI_2D,v.addComponent(d),v.getComponent(d).fontSize=y.g_npcTxtSize,v.getComponent(d).lineHeight=v.getComponent(d).fontSize,v.getComponent(d).string=R.clearRemarkInfoNPC(u[1]),u[2]&&u[3]&&(T=parseInt(u[2]),_=parseInt(u[3])),u[4]&&(v.getComponent(d).fontSize=parseInt(u[4])),u[5])3==(I=parseInt(u[5]))&&(v.getComponent(d).isUnderline=!0),2==I&&(v.getComponent(d).isItalic=!0),1==I&&(v.getComponent(d).isBold=!0);var O="#ffffff";if(u[7]){var N=-1!=u[7].indexOf("/@")?u[7].split("/@")[0]:u[7];O=b.Get2RGB(N)}if(u[1].indexOf("|")>-1&&(v.getComponent(p)||v.addComponent(p),v.on(s.EventType.TOUCH_START,(function(e){n.getChildByName("buff_k")&&n.getChildByName("buff_k").destroy();var t=u[1].split("|")[1],o=new s("buff_k");o.layer=r.Enum.UI_2D,o.addComponent(g),o.getComponent(g).sizeMode=g.SizeMode.TRIMMED,i.saveLoadPath("gameres/ui/buffkuang.png"),w.handleLoad("gameres/ui/buffkuang.png",(function(e){o.getComponent(g).spriteFrame=e,o.getComponent(g).type=g.Type.SLICED,o.getComponent(g).sizeMode=g.SizeMode.TRIMMED,o.getComponent(g).spriteFrame.insetBottom=4,o.getComponent(g).spriteFrame.insetLeft=4,o.getComponent(g).spriteFrame.insetRight=4,o.getComponent(g).spriteFrame.insetTop=4,o.getComponent(a).height=y.g_npcTxtSize+10,o.setPosition(v.position.x+20,v.position.y-20),o.layer=r.Enum.UI_2D;var i=new s("fontbuff");i.layer=r.Enum.UI_2D,i.addComponent(d),i.getComponent(a).anchorX=0,o.getComponent(a).anchorX=0,o.getComponent(a).anchorY=1,i.getComponent(d).string=t,i.getComponent(d).fontSize=y.g_npcTxtSize,i.getComponent(d).color.set(C("#ffffff")),o.getComponent(x)||o.addComponent(x),o.getComponent(x).type=x.Type.HORIZONTAL,o.getComponent(x).resizeMode=x.ResizeMode.CONTAINER,o.getComponent(x).paddingBottom=10,o.getComponent(x).paddingTop=10,o.getComponent(x).paddingLeft=10,o.getComponent(x).paddingRight=10,o.getComponent(x).updateLayout(!0),i.getComponent(a).anchorY=.5,i.setPosition(0,-o.getComponent(a).height/2),o.addChild(i),console.log("LineText_Font"+o.position),n.addChild(o)}))})),n.on(s.EventType.TOUCH_START,(function(e){n.getChildByName("buff_k")&&n.getChildByName("buff_k").destroy()}))),v.getComponent(d).color.set(C(O)),""!=f&&(v.sHitText=f),""!=l&&-1!=l.indexOf("@")){"#ffffff"==O&&(O="#e1f408"),v.addComponent(p);v.on(s.EventType.TOUCH_START,function(){i.onCmdClick(l)}.bind(l)),v.on(s.EventType.TOUCH_START,this.onHitTextClick),this.fontsizeToBigOnClick(v,null,null)}"fontex"!=u[0].toLowerCase()?(v.setPosition(t.x+T,t.y+_),t.x+=E.newcount(v)+E.getSpWidth(v.getComponent(d).string),t.y+=_+v.getComponent(d).lineHeight):v.setPosition(T,_),v.getComponent(a).anchorX=0,v.getComponent(a).anchorY=1;var L=R.LayaPointToCocosPoint(v.position,n.getComponent(a).width,n.getComponent(a).height);v.setPosition(L),v.getComponent(d).lineHeight=v.getComponent(d).fontSize,n.addChild(v)}return t},o.fontsizeToBigOnClick=function(e,t,n){e.getComponent(p)||e.addComponent(p);var o=e.getComponent(p);o.transition=p.Transition.SCALE,o.zoomScale=.95,o.duration=.1},o.downTest=function(e,t){e.fontSize+=2,t()},o.changePoint=function(e){if(e.indexOf("·")>-1&&" "==e[e.length-1]){var t=e.replace(/·/gim," · ");return t.substr(0,t.length-1)}return e},o.MakeNpcLabel=function(e,t,n,o,i,l){var m=this;void 0===l&&(l=!1);var f=[],h=y.g_npcTxtSize,c="",u="",x="#ffffff",T=!1,_=!1,I=!1,v=!1,O="",N=!1,L=!1,S=l;if(f.x=n,f.y=o,Array.isArray(e)){if(e.length>1){if(e[0]&&""!=e[0]){e[0]=this.changePoint(e[0]);var M=e[0].split(""),U=e[0].indexOf("{"),k=e[0].indexOf("}");if(-1!=e[0].indexOf("#")&&-1!=e[0].toUpperCase().indexOf("IMGEX"))f=this.LineText_IMGEX(e,f,t),I=!0;else if("}"==M[M.length-1]&&-1!=U){var P=(M=M.join("")).indexOf("{"),B=M.indexOf("}"),A=M.substr(P+1,B);if(-1!=A.toUpperCase().indexOf("FCOLOR")||-1!=A.toUpperCase().indexOf("SCOLOR"))e[0]=M.substr(0,P),x=-1!=(x=M.substr(P+8,k-P-8)).indexOf("$")?"#"+b.Get3RGB(x.substr(2,6)):b.Get2RGB(x),e[1]&&-1!=e[1].indexOf("@")&&(L=!0),_=!1;else if(-1!=A.toUpperCase().indexOf("AUTOCOLOR")){if((V=e[0].toUpperCase().split("{AUTOCOLOR="))[1])-1!=V[1].indexOf("}")&&(V[1]=V[1].replace("}","")),""==($=V[1].split(","))[$.length-1]&&$.pop(),N=!0;e[0]=M.substr(0,P)}}else-1!=e[0].toUpperCase().indexOf("PLAYIMGEX")?(""!=e[1]&&-1!=e[1].indexOf("@")&&(f=this.LineText_PLAYIMGEX(e,f,t,null)),I=!0):-1!=e[0].toUpperCase().indexOf("IMGEX")?(f=this.LineText_IMGEX(e,f,t),I=!0):-1!=e[0].toUpperCase().indexOf("IMGNUM")?(f=this.LineText_IMGNUM(e,f,t),I=!0):-1!=e[0].toUpperCase().indexOf("PLAYIMG")?(""!=e[1]&&-1!=e[1].indexOf("@")&&(f=this.LineText_PLAYIMG(e,f,t,null)),I=!0):-1!=e[0].toUpperCase().indexOf("FONT")?(f=this.LineText_FONT(e,f,t),I=!0):-1!=e[0].toUpperCase().indexOf("ITEMSHOW")?(f=this.LineText_ITEMSHOW(e,f,t),I=!0):-1!=e[0].toUpperCase().indexOf("IMG")&&(f=this.LineText_IMG(e,f,t,null),I=!0);if(-1!=(U=e[0].toUpperCase().indexOf("|")))-1!=(c=e[0].substr(0,U)).toUpperCase().indexOf("TEXT:")&&(c=c.substr(c.indexOf(":")+1)),-1==(X=e[0].substr(U+1,e[0].length-U)).indexOf("#")&&(X=X.split(":")),3==X.length?(O=X[0],c="TEXT:"+c+":"+X[1]+":"+X[2]):O=e[0].substr(U+1,e[0].length-U),""!=e[1]&&-1!=e[1].indexOf("@")&&(O+="/"+e[1]),v=!0;else c=e[0]}if(""!=e[1]){var G=e[1].split("");if(-1!=e[1].toUpperCase().indexOf("AUTOCOLOR")||-1!=e[1].toUpperCase().indexOf("FCOLOR")||-1!=e[1].toUpperCase().indexOf("SCOLOR")){U=e[1].indexOf("=");var D=e[1].substr(U+1,e[1].length);if(-1!=D.indexOf("$"))x="#"+b.Get3RGB(D.substr(2,6));else if(-1==D.indexOf(","))x=b.Get2RGB(D%256);else""==($=D.split(","))[$.length-1]&&$.pop(),N=!0}else"@"==G[0]&&(_=!0,T=!0,u=e[1],e[2]&&(u.indexOf("sell")>-1||u.indexOf("repair")>-1)&&(y.SELL_ITEM_TYPE=e[2].split(",")))}}}else if(""!=e){for(;-1!=e.toUpperCase().indexOf("{#NEW")&&-1!=e.toUpperCase().indexOf("}");){U=e.indexOf("{#NEW"),P=e.indexOf("}");var H=e.substr(U+5,P-U-5);k=H.indexOf("("),B=H.indexOf(")");if(-1!=k&&-1!=B){var z=H.substr(k+1,B-k-1);if(""!=z){var F=R.getMissGloba(z,"",0);H="{#NEW"+H+"}",e=e.replace(H,F)}}}if(-1!=e.toUpperCase().indexOf("TEXT")&&-1!=e.indexOf("|")&&-1==e.toUpperCase().indexOf("INPUTTEXT")){var X;if(-1!=e.toUpperCase().indexOf("{FCOLOR="))if((W=e.toUpperCase().split("{FCOLOR="))[1]&&(x=-1!=(x=W[1].slice(0,W[1].indexOf("}"))).indexOf("$")?"#"+b.Get3RGB(x.substr(2,6)):b.Get2RGB(x),i=!1),W[0])if(-1!=(U=W[0].indexOf("|")))-1!=(c=W[0].substr(0,U)).toUpperCase().indexOf("TEXT")&&(c=c.split(":")[1]),-1==(X=W[0].substr(U+1,W[0].length-U)).indexOf("#")&&(X=X.split(":")),3==X.length?(O=X[0],f.x+=parseInt(X[1]),f.y+=parseInt(X[2])):O=W[0].substr(U+1,W[0].length-U),v=!0}else{if(-1!=e.toUpperCase().indexOf("TEXT")&&-1==e.toUpperCase().indexOf("INPUTTEXT")){var W=[];if(-1!=e.toUpperCase().indexOf("{FCOLOR=")){var Y=e.toUpperCase().split("{FCOLOR=");(W=Y[0].split(":")).push(Y[1].slice(0,Y[1].indexOf("}"))),W[4]&&(x=-1!=(x=W[4]).indexOf("$")?"#"+b.Get3RGB(x.substr(2,6)):b.Get2RGB(x),i=!1)}else W=e.split(":");if(W.length>3){if((Z=new s("makenpclabel")).layer=r.Enum.UI_2D,Z.addComponent(d),Z.getComponent(d).string="",Z.getComponent(a).anchorX=0,Z.getComponent(a).anchorY=1,Z.getComponent(d).fontSize=y.g_npcTxtSize,Z.getComponent(d).lineHeight=Z.getComponent(d).fontSize,Z.getComponent(d).updateRenderData(!0),W[4])Z.getComponent(d).color.set(C(x));else if(-1!=e.toUpperCase().indexOf("AUTOCOLOR")){var V,$;if((V=e.toUpperCase().split("{AUTOCOLOR="))[1])-1!=V[1].indexOf("}")&&(V[1]=V[1].replace("}","")),""==($=V[1].split(","))[$.length-1]&&$.pop(),N=!0;N&&$&&(Z.m_ColorList=[],Z.m_ColorList=$,Z.m_nColorIndex=0,Z.getComponent(d).color.set(C(b.Get2RGB(Z.m_ColorList[0]))),this.m_AutoColor_List.push(Z))}else Z.getComponent(d).color.set(C("#ffffff"));Z.getComponent(d).string=W[1],Z.getComponent(d).updateRenderData(!0);var j=parseInt(W[2]),J=0;""!=W[3]&&(J=parseInt(W[3])),Z.setPosition(f.x+j,f.y+J);var K=R.LayaPointToCocosPoint(Z.position,t.getComponent(a).width,t.getComponent(a).height);Z.setPosition(K),t.addChild(Z),f.x+=Z.getComponent(a).width+E.getSpWidth(Z.getComponent(d).string)}return I=!0,f}if(-1!=e.toUpperCase().indexOf("PLAYIMGEX"))f=this.LineText_PLAYIMGEX(e,f,t,null),I=!0;else if(-1!=e.toUpperCase().indexOf("IMGEX"))f=this.LineText_IMGEX(e,f,t),I=!0;else if(-1!=e.toUpperCase().indexOf("IMGNUM"))f=this.LineText_IMGNUM(e,f,t),I=!0;else if(-1!=e.toUpperCase().indexOf("INPUTTEXT")||-1!=e.toUpperCase().indexOf("INPUTNUM")){var Q="";-1!=e.toUpperCase().indexOf("INPUTTEXT")?Q="string":-1!=e.toUpperCase().indexOf("INPUTNUM")&&(Q="num"),f=this.LineText_INPUTTEXT(e,f,t,Q),I=!0}else-1!=e.toUpperCase().indexOf("PROGRESSBAR")?(f=this.LineText_progressBar(e,f,t),I=!0):-1!=e.toUpperCase().indexOf("PLAYIMG")?(f=this.LineText_PLAYIMG(e,f,t,null),I=!0):-1!=e.toUpperCase().indexOf("ITEMSHOW")?(f=this.LineText_ITEMSHOW(e,f,t),I=!0):-1!=e.toUpperCase().indexOf("ITEMBOX")?(this.LineText_ITEMBOX(e,f,t),I=!0):-1!=e.toUpperCase().indexOf("GIMG")?(f=this.LineText_GIMG(e,f,t),I=!0):-1!=e.toUpperCase().indexOf("IMG")&&(f=this.LineText_IMG(e,f,t,null),I=!0)}if(-1!=e.toUpperCase().indexOf("FONT"))f=this.LineText_FONT(e,f,t,S),I=!0;else-1!=(U=e.indexOf("|"))?(c=e.substr(0,U),O=e.substr(U+1,e.length-U),e.constructor==Array&&""!=e[1]&&-1!=e[1].indexOf("@")&&(O+="/"+e[1]),v=!0):c=e}if(""!=c||I){if(I)return f;var Z;(Z=new s("makenpclabel")).layer=r.Enum.UI_2D,Z.addComponent(d),Z.getComponent(d).string="",Z.getComponent(d).fontSize=h,Z.getComponent(d).lineHeight=Z.getComponent(d).fontSize,Z.getComponent(d).updateRenderData(!0);var q,ee=new s("makenpclabelimg");if(ee.layer=r.Enum.UI_2D,ee.addComponent(g),ee.getComponent(a).anchorX=0,ee.getComponent(a).anchorY=1,this.saveLoadPath("gameres/ui/lb_bg_img.png"),w.handleLoad("gameres/ui/lb_bg_img.png",(function(e){e&&ee&&ee.isValid&&(ee.getComponent(g).spriteFrame=e)})),N&&$?(Z.m_ColorList=[],Z.m_ColorList=$,Z.m_nColorIndex=0,Z.getComponent(d).color.set(C(b.Get2RGB(Z.m_ColorList[0]))),this.m_AutoColor_List.push(Z)):Z.getComponent(d).color.set(C(x)),_&&!L&&Z.getComponent(d).color.set(C("#e1f408")),T&&(Z.getComponent(d).isUnderline=!0),v)Z.sHitText=O,Z.getComponent(p)&&(Z.getComponent(p).enabled=!1),Z.on(s.EventType.TOUCH_START,this.onHitTextClick,Z),Z.BoIsOpen=""!=u,v=!1;else if(""!=u){Z.addComponent(p);Z.on(s.EventType.TOUCH_START,(function(){m.onCmdClick(u)}))}if(i&&Z.getComponent(d).color.set(C("#f40d0d")),-1!=c.toUpperCase().indexOf("TEXT:")){var te=c.split(":");if(null==te[2]&&null==te[3]){var ne=e[0].split(":");te[2]=ne[2],te[3]=ne[3]}te[1]&&(c=te[1]),te[2]&&te[3]?Z.setPosition(f.x+parseInt(te[2]),f.y+parseInt(te[3])):Z.setPosition(f.x,f.y),q=!0}else Number.isNaN(f.x)?Z.setPosition(16,30):Z.setPosition(f.x,f.y);if(Z.getComponent(d).string=c,Z.getComponent(d).updateRenderData(!0),f.x+=E.newcount(Z)+E.getSpWidth(Z.getComponent(d).string),e[1]&&-1!=e[1].indexOf("@")){var oe=R.LayaPointToCocosPoint(Z.position,t.getComponent(a).width,t.getComponent(a).height);Z.setPosition(oe),t.addChild(Z),this.fontsizeToBigOnClick(Z,Z,q)}else{var ie=R.LayaPointToCocosPoint(Z.position,t.getComponent(a).width,t.getComponent(a).height);Z.setPosition(ie),t.addChild(Z)}}return""==c&&(f.x-=1),f},o.ShowAllNPCTxT=function(e,t){y.g_TempNPCLabe&&(y.g_TempNPCLabe=!1),this.m_AutoColor_List=[];var n=e.split("\\"),o=-1,i=(y.g_npcTxtSize,20),a=16,s=!1,r=[];for(y.sNewNpcStr=e;!((o+=1)>=n.length);)if(""!=n[o]){n[o]=this.GetStringA(n[o]);for(var p=this.CheckTagCMD(n[o]);""!=p&&-1!=n[o].indexOf(p[0])&&-1!=n[o].indexOf(p[1]);){var l="";if(n[o].split("")[0]!=p[0]){var d=n[o].indexOf(p[0]),m=n[o].split(p[0]);n[o]=n[o].substr(d,n[o].length),""!=m[0]&&(l=m[0],i=(r=this.MakeNpcLabel(l,t,i,a,s)).x,a=r.y)}d=n[o].indexOf(p[0]);var C=n[o].indexOf(p[1]);if(-1!=d&&-1!=C){s=!0;var f=n[o].substr(d+1,C-d-1);n[o]=n[o].substr(C+1,n[o].length);var h=this.QRCodeHandle(f,t,i,a);h?r=h:("{}"!=p&&""!=f&&-1!=f.indexOf("/")&&((f=f.split("/"))[0],f[1].split(""),s=!1),r=this.MakeNpcLabel(f,t,i,a,s)),s=!1,r&&(i=r.x,a=r.y)}else i=(r=this.MakeNpcLabel(n[o],t,i,a,s)).x,a=r.y}i=(r=this.MakeNpcLabel(n[o],t,i,a,s)).x,a=r.y,a+=16,i=20}this.m_AutoColor_List.length>0?(this.unschedule(this.TextColor),this.schedule(this.TextColor,.6)):this.unschedule(this.TextColor),t.parent.getComponent(g).spriteFrame&&!t.active&&(t.active=!0)},o.QRCodeHandle=function(e,t,n,o){if(e.toUpperCase().indexOf("IMGQR")>-1){for(var i=e.split("|")[0].split(":"),a="",s=5;s<i.length;s++)a+=i[s];var r={linkStr:a,lengthNum:Math.abs(parseInt(i[2])),xPos:n+parseInt(i[3]),yPos:o+parseInt(i[4])};return R.parseQRCodeByLink(r,t),{x:n,y:o}}},o.TextColor=function(){for(var e=0;e<this.m_AutoColor_List.length;e++){var t=this.m_AutoColor_List[e];t&&t.isValid&&(t.m_nColorIndex>=t.m_ColorList.length&&(t.m_nColorIndex=0),t.m_nColorIndex<t.m_ColorList.length&&(t.getComponent(d).color=C(b.Get2RGB(t.m_ColorList[t.m_nColorIndex])),t.m_nColorIndex+=1))}},o.onCmdMouseOver=function(e){v.raiseEvent(O.SHOW_REMARK,e)},o.onCmdMouseOut=function(){v.raiseEvent(O.CLOSE_REMARK)},o.onCmdClick=function(e){var t=this,n=T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").getChildByName("floatInfoNode");if(n&&n.destroy(),R.playMusicFormat(y.S_BUTTON_3),"string"==typeof e&&-1!=e.toUpperCase().indexOf("@EXIT")){y.g_NpcCan_buy=!1,y.g_NpcCan_sell=!1,y.g_NpcCan_repair=!1,y.g_NpcCan_s_repair=!1,this.cleanNpcDiyRes();var o=T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin");if(o){var i=o.getComponent(G);return i.close&&i.close(),o.removeFromParent(),void(y.npc_img_name="gameres/png/npc_di.png")}}if("@"!=e[0]||"@"!=e[1]||-1!=e.indexOf("@@dealybme")){if("@原地复活"==e||"@安全复活"==e)return y.g_NpcCan_buy=!1,y.g_NpcCan_sell=!1,y.g_NpcCan_repair=!1,y.g_NpcCan_s_repair=!1,this.cleanNpcDiyRes(),T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").destroy(),T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").removeFromParent(),console.log("222onCmdClick"),P.SendNpcCMD(e,y.G_NPC_ID,0),void(y.g_TempNPCLabe=!0);-1==e.toUpperCase().indexOf("@@INPUTSTRING")&&-1==e.toUpperCase().indexOf("@@INPUTINTEGER")&&P.SendNpcCMD(e,y.G_NPC_ID,0),y.g_TempNPCLabe=!0,"@删除0"==e?y.g_deleteStr="0":"@删除1"==e&&(y.g_deleteStr="1")}else{var a="";if(-1!=e.indexOf("@@buildguildnow"))a="请输入行会名称";else{var s=e.indexOf("(")+1,r=e.indexOf(")"),p=e.substr(s,r-s);a=""!=p?p:"输入信息"}if(-1!=e.toUpperCase().indexOf("@@INPUTSTRING")||-1!=e.toUpperCase().indexOf("@@INPUTINTEGER")){var g=e.split("(");e=g[0]}var l={type:4,content:a,sF:function(n){console.log("发消息："+e+n),t.sendnpccmd(e,n)}};M.handlerAlert(l)}},o.onItemBoxClick=function(e){var t;if(e&&(y.g_npc_opt_boxid=e.target.BoxId),e.target&&e.target.children[0]&&e.target.children[0].itemImg){var n=e.target.children[0];if(n){if(n.getComponent(g).spriteFrame=null,e.target.children[1])e.target.children[1].getComponent(d).string="";t=!0}}if(y.g_boxItemArr[y.g_npc_opt_boxid]){if(!t)if(e.target&&e.target.children[0])if(e.target.children[0].getComponent(g).spriteFrame=null,e.target.children[1])e.target.children[1].getComponent(d).string="";var o=y.g_boxItemArr[y.g_npc_opt_boxid];o&&P.NpcDlgOptions(o.s.Name,y.g_npc_opt_boxid,o.MakeIndex,1),y.g_boxItemArr[y.g_npc_opt_boxid]=null,R.addItemNewBag(o)}else"npc_dlg_options"==y.g_Show_Bag_Type&&(y.g_OpenIdx=7,E.showScreen(!0,e.target.BoxType,3));R.playMusicFormat(y.S_BUTTON_3)},o.LoadIngimage=function(e,t,n){var o=0,i=e.split("\\");for(y.g_ItemImg=[],this.inputText=!1,this.aniLayer=1;o<i.length;){var a="";if(""!=i[o]&&(0!=o&&1!=o||(a=i[o].split("\r")).length>1&&""!=a[0]&&(i[o]=a[1]),-1!=i[o].indexOf("<")))for(var s=i[o].split("<"),r=0;r<s.length;r++)if(""!=s[r])for(var p=s[r].split(">"),g=0;g<p.length;g++)if(""!=p[g]){var l=p[g].toUpperCase();if(-1!=l.indexOf("ITEMBOX")){var d=l.split(":"),m=parseInt(d[2]),C=parseInt(d[3]);parseInt(d[4]),parseInt(d[5]),parseInt(d[6]),parseInt(d[7]);if(-1!=m&&m<y.g_pak_list.length){var f="data/"+(O=y.g_pak_list[m])+"/"+("000000"+C).slice(-6);y.g_ItemImg.push(f)}}else if(-1!=l.indexOf("PROGRESSBAR")){var h=l.replace("<",""),c=(h=h.replace(">","")).split(":"),u=c[3],x=c[4],T=c[5];if(c.length>1)if((k=parseInt(u))>=0&&k<y.g_pak_list.length){if((O=y.g_pak_list[k])&&(O=O.toLocaleLowerCase()),""!=x){var _="data/"+O+"/"+("000000"+(M=parseInt(x))).slice(-6);y.g_ItemImg.push(_)}if(""!=T){_="data/"+O+"/"+("000000"+(M=parseInt(T))).slice(-6);y.g_ItemImg.push(_)}}}else if(-1!=l.indexOf("PLAYIMGEX")){d=l.split(":");var I=parseInt(d[1]),v=(C=parseInt(d[2]),parseInt(d[3]));d[4],d[5],d[6],d[7],d[8]&&d[8],d[9],d[10];if(-1!=I&&I<y.g_pak_list.length)for(var O=y.g_pak_list[I],N=0;N<v;N++){f="data/"+O+"/"+("000000"+C).slice(-6)+N;y.g_ItemImg.push(f)}}else if(-1!=l.indexOf("PLAYIMG")){d=l.split(":"),I=parseInt(d[1]),C=parseInt(d[2]),v=parseInt(d[3]),d[4],d[5],d[6],d[7],d[8];if(-1!=I&&I<y.g_pak_list.length)for(O=y.g_pak_list[I],N=0;N<v;N++){f="data/"+O+"/"+("000000"+C).slice(-6);y.g_ItemImg.push(f)}}else if(-1!=l.indexOf("ITEMSHOW")){if((U=l.split(":")).length>4&&y.g_Showitem[U[1]]){var L=y.g_Showitem[U[1]].s.Looks;y.g_Showitem[U[1]].s.DBName&&""!=y.g_Showitem[U[1]].s.DBName||P.sendREQUESTSTDITEM(U[1]);var S=L,w="";L>=1e4&&(w=Math.floor(L/1e4),S=L%1e4);_="data/items"+w+"/"+("000000"+S).slice(-6);y.g_ItemImg.push(_)}}else if(-1!=l.indexOf("IMGEX")){if((U=l.split(":")).length>5)if((k=parseInt(U[1]))>=0&&k<y.g_pak_list.length){var M=parseInt(U[2]);_="data/"+(O=y.g_pak_list[k])+"/"+("000000"+M).slice(-6);y.g_ItemImg.push(_)}}else if(-1!=l.indexOf("IMG")){var U,k;if((U=l.split(":")).length>1)if((k=parseInt(U[2]))>=0&&k<y.g_pak_list.length){M=parseInt(U[1]);(O=y.g_pak_list[k])&&(O=O.toLocaleLowerCase());_="data/"+O+"/"+("000000"+M).slice(-6);y.g_ItemImg.push(_)}}}o+=1}n||this.LoadIngimageEx(e,t)},o.CheckTagCMD=function(e){for(var t=["<>","{}"],n=0;n<t.length;n++)if(-1!=e.indexOf(t[n][0]))return t[n];return""},o.LoadIngimageEx=function(e,t){var n=this;if(y.g_ItemImg.length>0){y.g_ItemImg.push("data/items/000000");R.loadImgEx(y.g_ItemImg,(function(){if(t){var o=t;if(o.children&&o.children.length&&o.children.length>0&&(o.destroyAllChildren(),o.removeAllChildren()),e=e.replace(//g,"\r\n"),!t||!t.isValid)return;n.ShowAllNPCTxT(e,t),y.g_Hit_Text=t}}))}else if(t){var o=t;o.children&&o.children.length&&o.children.length>0&&(o.destroyAllChildren(),o.removeAllChildren()),this.ShowAllNPCTxT(e,t),y.g_Hit_Text=t}},o.onHitTextClick=function(e){var t=e.target.sHitText;if(t){var n=T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").getChildByName("floatInfoNode");n&&n.destroy();var o=3,i=0,p=new s("onHitTextClick");p.layer=r.Enum.UI_2D,y.g_main_npcdialog=p,y.g_main_npcdialogopen=!0,p.active=!0,p.name="floatInfoNode";var l="gameres/ui/buffkuang.png";-1===y.npcDiyRes.indexOf(l)&&y.npcDiyRes.push(l),w.handleLoad("gameres/ui/buffkuang.png",(function(n){p.getComponent(g)?p.getComponent(g).spriteFrame=n:p.addComponent(g).spriteFrame=n,p.getComponent(a).width=100,p.getComponent(a).height=100,p.getComponent(a).anchorX=0,p.getComponent(a).anchorY=1,p.getComponent(g).type=g.Type.SLICED,p.getComponent(g).sizeMode=g.SizeMode.TRIMMED,p.getComponent(g).spriteFrame.insetBottom=4,p.getComponent(g).spriteFrame.insetLeft=4,p.getComponent(g).spriteFrame.insetRight=4,p.getComponent(g).spriteFrame.insetTop=4,p.getComponent(x)||p.addComponent(x),p.getComponent(x).type=x.Type.VERTICAL,p.getComponent(x).resizeMode=x.ResizeMode.CONTAINER,p.getComponent(x).paddingBottom=7,p.getComponent(x).paddingTop=7,p.getComponent(x).updateLayout(!0);var l=T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").getComponent(a).convertToNodeSpaceAR(new _(e.getUILocation().x,e.getUILocation().y,0));p.setPosition(l.x,l.y);var f=R.LayaPointToCocosPoint(p.position,y.CurScene.node.getComponent(a).width,y.CurScene.node.getComponent(a).height);p.setPosition(f),T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").addChild(p);var h="";if(t&&-1!=t.indexOf("/@")){var c=t.split("/@"),u=c[0].split("^");if(e.target.BoIsOpen){if(-1!=c[1].indexOf("@")){-1==c[1].toUpperCase().indexOf("INPUTSTRING")&&-1==c[1].toUpperCase().indexOf("INPUTTEXT")&&-1==c[1].toUpperCase().indexOf("INPUTINTEGER")||(h=-1!=c[1].indexOf("(")&&-1!=c[1].indexOf(")")?(h=c[1]).substring(h.indexOf("(")+1,h.indexOf(")")):"输入信息:"),M.handlerAlert({type:4,content:h,sF:function(e){P.SendNpcCMD("@"+c[1]+"\r"+e,y.G_NPC_ID,99)}})}else if(e.target.inputText){e.target.imgEx&&(p.active=!1);var I=T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin"),v=(h="@"+c[1],"");if(I)for(var O=I.getChildByName("Show_gb").children,N=0;N<O.length;N++)if("editBoxItem"==O[N].name){var L=O[N].getComponent(D).text;v=v+"\r"+O[N].getComponent(D).editBoxId+":"+L}P.SendNpcCMD(h+v,y.G_NPC_ID,0)}else P.SendNpcCMD("@"+c[1],y.G_NPC_ID,0),"原地复活"!=c[1]&&"安全复活"!=c[1]||(y.g_NpcCan_buy=!1,y.g_NpcCan_sell=!1,y.g_NpcCan_repair=!1,y.g_NpcCan_s_repair=!1,T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").destroy(),T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").removeFromParent());R.playMusicFormat(y.S_BUTTON_3)}}else{u=null;u=t instanceof Array?t:t.split("^")}for(var S=null,w=0;w<u.length;w++){if(""!=u[w]){if(-1!=u[w].indexOf("#")){var U=u[w].split("#"),k=U[0].split("|"),B=null==k[1]?b.Get2RGB(k[0]):b.Get2RGB(k[1]);if(-1!=(S=U[1]).indexOf("|")){var A=S.split("|");S=A[0]}-1!=S.indexOf("{")&&(S=S.replace("{",""))}else S=u[w];if(-1!=S.indexOf("{")&&-1!=S.indexOf("}")){for(var E=S.match(/\{(.+?)\}/g),G=0;G<E.length;G++)if(E[G]=E[G].replace("{",""),E[G]=E[G].replace("}",""),-1!=E[G].indexOf("|")){var H=E[G].split("|");S=S.replace(E[G],H[0])}if(-1!=(S=(S=S.replaceAll("{","")).replaceAll("}","")).indexOf("^")){var z=S.split("^");S=z[0]}}if(-1!=S.indexOf(":")){var F=S.split(":");S=F[0]}if(-1!=S.indexOf("^")){var X=S.split("^");S=X[0]}var W={name:"onhittext",text:S,x:3,y:o,fontSize:y.g_npcTxtSize,color:B,underline:null,outline:null,HAlign:null};if(W.name)var Y=new s(W.name);else Y=new s("onHitTextClick:labelNode");Y.addComponent(d),Y.getComponent(d).fontSize=W.fontSize?W.fontSize:17,Y.getComponent(d).string=W.text,Y.getComponent(d).lineHeight=Y.getComponent(d).fontSize,W.color&&Y.getComponent(d).color.set(C(W.color)),W.underline&&(Y.getComponent(d).isUnderline=!0),W.outline&&(Y.addComponent(m).width=W.outline),Y.getComponent(a).anchorX=0,Y.getComponent(a).anchorY=1,Y.layer=r.Enum.UI_2D,Y.getComponent(d).updateRenderData(!0);var V=Y;V.getComponent(a).width+7>i&&(i=V.getComponent(a).width+14),p.addChild(V),V.setPosition(7,0)}o+=16}if(e.target.BoIsOpen=!0,T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")){l=T.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").getComponent(a).convertToNodeSpaceAR(new _(e.getUILocation().x,e.getUILocation().y,0));p.setPosition(l.x,l.y),p.getComponent(a).width=i,p.getComponent(a).height=20*u.length}}))}},o.onShowItemClick=function(e){-1!=e&&e<y.g_Showitem.length&&null!=y.g_Showitem[e]&&(y.g_OpenIdx=5,y.g_MoveItems.Items=y.g_Showitem[e],R.newShowItemsInf(y.g_MoveItems.Items))},o.CheckSameTaskByID=function(e){for(var t=0;t<y.g_newTaskNodeList.length;t++)if(y.g_newTaskNodeList[t].name==e+"")return t;return-1},o.GetSameTaskByID=function(e){for(var t=0;t<y.g_newTaskNodeList.length;t++)if(y.g_newTaskNodeList[t].name==e+"")return y.g_newTaskNodeList[t];return null},o.ReflashTaskShow=function(){for(var e=0,t=[],n=0;n<y.g_newTaskNodeList.length;n++)0!=y.g_newTaskNodeList[n].isValid&&t.push(y.g_newTaskNodeList[n]);for(n=0;n<t.length;n++)if(0==n)t[n].setPosition(t[n].position.x,y.g_taskPanel.getComponent(a).height/2-t[n].getComponent(a).height/2),e=y.g_taskPanel.getComponent(a).height/2-t[n].getComponent(a).height/2;else{if(0==t[n].isValid)continue;e-=t[n].getComponent(a).height,t[n].setPosition(t[n].position.x,e)}},o.ReplaceNewTaskVar=function(e,t){var n=-1;return e.replace(/%s/gi,(function(){return++n<t.length?t[n]:""}))},o.DelNewTaskShow=function(e){var t=y.CurScene.panel_task.getChildByName(e+"");t&&(t.destroy(),t.removeFromParent())},o.AddNewTaskShow=function(e,t,n){var o=this.FindNewTaskByID(e);if(o&&""!=o)if(-1==o[1].indexOf("<font>")){if(o&&t){var i=y.g_newTaskNodeList;n||(n=[]);var s=1,r=null,p=null;if(o[1]){var g=o[1];r=JSON.parse(g)}if(o[4]&&3==t){var d=o[4];p=JSON.parse(d)}else if(o[3]&&2==t){d=o[3];p=JSON.parse(d);var m=this.ReplaceNewTaskVar(p.content.taskContent,n);p.content.taskContent=m}else if(o[2]&&1==t){d=o[2];p=JSON.parse(d)}var C=y.CurScene.panel_task.getChildByName(e+"");if(null==C){var f=y.CurScene.newTaskItem;C=l(f),y.CurScene.panel_task.addChild(C),s=-1}else s=1;if(-1==s)y.CurScene.panel_task,C.getComponent(k).showTask(e,r,p),C.getComponent(a).height=C.getChildByName("Node").getComponent(a).height>65?C.getChildByName("Node").getComponent(a).height+5:65,C.order=o[6],this.taskReorder(),C.name=e+"",console.log(i),this.NewTaskAddEffect(o,C,t);else{var h=C;h&&r&&(h.getComponent(k).showTask(e,r,p),h.getComponent(a).height=h.getChildByName("Node").getComponent(a).height>65?h.getChildByName("Node").getComponent(a).height+5:65,this.NewTaskAddEffect(o,h,t),this.taskReorder())}}}else M.handlerAlert({type:1,content:"任务脚本类型错误，请配置正确的任务脚本"});else M.handlerAlert({type:1,content:"任务id不存在，请配置正确的任务id"})},o.taskReorder=function(){if(0!=y.CurScene.panel_task.children.length){for(var e=[],t=0;t<y.CurScene.panel_task.children.length;t++)e.push(y.CurScene.panel_task.children[t]);for(var n=0;n<e.length;n++)e[n].setParent(null);e.sort(w.objectCompare("order"));for(var o=0;o<e.length;o++)e[o]&&y.CurScene.panel_task.addChild(e[o]);e=[]}},o.NewTaskAddEffect=function(e,t,n){if(!t.getChildByName("AniPrefab")){var o=0;switch(n){case 1:case 2:case 3:o=e[5][n-1]}if(t&&0!=o){var i=72,s=i+11;switch(o){case 2:s=(i=84)+11;break;case 3:s=(i=96)+11}for(var r=1;r<=3;r++){var p=t.getChildByName("taskeffcet"+r);if(p&&r!=n&&p.removeSelf(),p&&r==n)return void p.scale(200/185,t.getComponent(a).height/62)}var g=L.playframe(!1,t,"Animation/task/",i,s,100,!0,!1);g&&(g.node.setScale(200/185,t.getComponent(a).height/62),g.name="taskeffcet"+o)}}},o.newTaskHandle=function(e,t){if(e)switch(e.record){case 1:case 3:this.AddNewTaskShow(e.param,e.record,null);break;case 2:var n=t.split("|");this.AddNewTaskShow(e.param,e.record,n);break;case 4:this.DelNewTaskShow(e.param);break;case 5:t=t.split("");var o=Number(t[1]),i=Number(t[2]);isNaN(o)&&(o=0),isNaN(i)&&(i=0),y.g_newTaskNpcIcon={map:t[0].toLowerCase(),x:e.param,y:e.tag,type:e.series,offsetx:o,offsety:i},this.SetNewTaskNpc(y.g_newTaskNpcIcon);break;case 6:y.g_newTaskNpcIcon=null,this.DelNewTaskNpc(null)}},o.SetNewTaskNpc=function(e){for(var t=0;t<U.object_list.length;t++){var n=U.object_list[t];if(n&&2==n.type){var o=L.getAni(n.node,"tasknpc");o&&L.removeAni(o),this.SetNewTaskNpcIcon(n,e)}}},o.DelNewTaskNpc=function(e){for(var t=0;t<U.object_list.length;t++){var n=U.object_list[t];if(n&&2==n.type){var o=L.getAni(n.node,"tasknpc");o&&L.removeAni(o)}}},o.SetNewTaskNpcIcon=function(e,t){if(e&&t&&S.cur_id==t.map&&e.grid.x==t.x&&e.grid.y==t.y){var n=f(t.offsetx,100+t.offsety),o=0,i=7;2==t.type&&(o=8,i=15),L.playframe(!1,e.node,"Animation/tasknpc/",o,i,120,!0,!1,n).name="tasknpc"}},o.getUrl=function(e,t){var n="",o=t;t>=1e4&&(n=Math.floor(t/1e4),o=t%1e4);var i="data/"+e+n+"/"+("000000"+o).slice(-6);return i=R.getImageSetNameByPath(i).replace(".plist",".png")},o.getUrls=function(e,t){var n="",o=t;t>=1e4&&(n=Math.floor(t/1e4),o=t%1e4);var i=("000000"+o).slice(-6),a="data/"+e+n+"/"+i,s=R.getImageSetNameByPath(a);return{sNewPak:s.replace(".plist",".png"),plistPath:s,imgName:i}},o.findImg=function(e){for(var t=0;t<y.itemShowPlist.length;t++)if(e.plistPath==y.itemShowPlist[t].name)return y.itemShowPlist[t].spriteFrames[e.imgName+""]},o.saveLoadPath=function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)-1===y.npcDiyRes.indexOf(e[t])&&y.npcDiyRes.push(e[t]);else-1===y.npcDiyRes.indexOf(e)&&y.npcDiyRes.push(e)},o.saveAniList=function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)-1===y.npcAni.indexOf(e[t])&&y.npcAni.push(e[t]);else-1===y.npcAni.indexOf(e)&&y.npcAni.push(e)},o.cleanNpcDiyRes=function(){for(var e=[],t=0;t<y.npcDiyRes.length;t++)-1==y.npcDiyRes[t].indexOf("item")&&e.push(y.npcDiyRes[t]);var n=L.onReleaseAsset(e),o=[];if(n.length>0)for(var i=0;i<e.length;i++){-1==n.indexOf(e[i])&&o.push(e[i])}else o=e;w.resClean(o),y.npcDiyRes=[],y.npcAni=[]},n}(I));H._instance=null;e("gameMission",H.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts"],(function(o){"use strict";var t,e,n,i,r,a,u,c,s,l,d;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,u=o.AudioSource,c=o.assert,s=o.game,l=o.Component},function(o){d=o.audioManager}],execute:function(){var p,h,f,g,v;r._RF.push({},"903614IrNhNqLnpBjFnubuC","GameRoot",void 0);var y=a.ccclass,m=a.property;o("GameRoot",(p=y("GameRoot"),h=m(u),p((v=t((g=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=o.call.apply(o,[this].concat(r))||this,n(t,"_audioSource",v,i(t)),t}e(t,o);var r=t.prototype;return r.onLoad=function(){var o=this.getComponent(u);c(o),this._audioSource=o,s.addPersistRootNode(this.node),d.instance.init(this._audioSource)},r.start=function(){this.node.on(u.EventType.STARTED,this.onAudioStarted,this)},r.onAudioStarted=function(){console.log("播放开始3.wav")},t}(l)).prototype,"_audioSource",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./InitGame.ts","./Struct.ts","./GameDefine.ts","./AnimationModule.ts","./FightModule.ts","./GameConfig.ts","./ItemMgr.ts","./MapData.ts","./MoveModule.ts","./ResourcesMgr.ts","./SkillModule.ts","./UIcontrol.ts","./DoubleRocker.ts","./SingleRocker.ts","./CBlood.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./DragItem.ts","./List.ts","./GameApi.ts","./GameUtil.ts","./audioManager.ts","./DropItemMgr.ts","./FrameMgr.ts","./NodeMgr.ts","./external.ts","./MainSkill.ts","./ParticleMgr.ts","./MainScene.ts","./GameSocket.ts","./RoleSocket.ts","./LoginSceneProgressBar.ts","./NativeMsgHandle.ts","./BagWin.ts","./MainSocialize.ts"],(function(exports){"use strict";var _applyDecoratedDescriptor,_inheritsLoose,_initializerDefineProperty,_assertThisInitialized,cclegacy,_decorator,macro,dynamicAtlasManager,Node,Prefab,Button,Sprite,Label,instantiate,Toggle,game,Game,director,NodePool,NodeEventType,sys,Widget,Vec3,v3,tween,easing,resources,Tween,KeyCode,UITransform,color,EventMouse,View,Vec2,v2,Camera,Layers,Color,find,Component,EventMgr,Config,PARALYSISACTIVE_Type,HEROSUMMON_Type,EventCustom,InitGame,Struct,mainMiniMapData,Animationmodule,Fightmodule,gameConfig,ItemMgr,Mapdata,Movemodule,resourcesMgr,Skillmodule,uiControl,DoubleRocker,SingleRocker,CBlood,Objectcontrol,ObjectManage,sendmessage,Sendmessage,e_DragItem_Type,DragItem,List,GameApi,GameUtil,audioManager,dropItemMgr,frameMgr,nodeMgr,external,MainSkill,particleMgr,MainScene,gameSocket,roleSocket,LoginSceneProgressBar,NativeMsgHandle,BagWin,MainSocialize;return{setters:[function(e){_applyDecoratedDescriptor=e.applyDecoratedDescriptor,_inheritsLoose=e.inheritsLoose,_initializerDefineProperty=e.initializerDefineProperty,_assertThisInitialized=e.assertThisInitialized},function(e){cclegacy=e.cclegacy,_decorator=e._decorator,macro=e.macro,dynamicAtlasManager=e.dynamicAtlasManager,Node=e.Node,Prefab=e.Prefab,Button=e.Button,Sprite=e.Sprite,Label=e.Label,instantiate=e.instantiate,Toggle=e.Toggle,game=e.game,Game=e.Game,director=e.director,NodePool=e.NodePool,NodeEventType=e.NodeEventType,sys=e.sys,Widget=e.Widget,Vec3=e.Vec3,v3=e.v3,tween=e.tween,easing=e.easing,resources=e.resources,Tween=e.Tween,KeyCode=e.KeyCode,UITransform=e.UITransform,color=e.color,EventMouse=e.EventMouse,View=e.View,Vec2=e.Vec2,v2=e.v2,Camera=e.Camera,Layers=e.Layers,Color=e.Color,find=e.find,Component=e.Component},function(e){EventMgr=e.EventMgr},function(e){Config=e.Config},function(e){PARALYSISACTIVE_Type=e.PARALYSISACTIVE_Type,HEROSUMMON_Type=e.HEROSUMMON_Type},function(e){EventCustom=e.default},function(e){InitGame=e.InitGame},function(e){Struct=e.Struct},function(e){mainMiniMapData=e.mainMiniMapData},function(e){Animationmodule=e.Animationmodule},function(e){Fightmodule=e.Fightmodule},function(e){gameConfig=e.gameConfig},function(e){ItemMgr=e.ItemMgr},function(e){Mapdata=e.Mapdata},function(e){Movemodule=e.Movemodule},function(e){resourcesMgr=e.resourcesMgr},function(e){Skillmodule=e.Skillmodule},function(e){uiControl=e.uiControl},function(e){DoubleRocker=e.DoubleRocker},function(e){SingleRocker=e.SingleRocker},function(e){CBlood=e.CBlood},function(e){Objectcontrol=e.Objectcontrol},function(e){ObjectManage=e.ObjectManage},function(e){sendmessage=e.sendmessage,Sendmessage=e.Sendmessage},function(e){e_DragItem_Type=e.e_DragItem_Type,DragItem=e.DragItem},function(e){List=e.default},function(e){GameApi=e.GameApi},function(e){GameUtil=e.GameUtil},function(e){audioManager=e.audioManager},function(e){dropItemMgr=e.dropItemMgr},function(e){frameMgr=e.frameMgr},function(e){nodeMgr=e.nodeMgr},function(e){external=e.external},function(e){MainSkill=e.MainSkill},function(e){particleMgr=e.particleMgr},function(e){MainScene=e.default},function(e){gameSocket=e.gameSocket},function(e){roleSocket=e.roleSocket},function(e){LoginSceneProgressBar=e.LoginSceneProgressBar},function(e){NativeMsgHandle=e.NativeMsgHandle},function(e){BagWin=e.BagWin},function(e){MainSocialize=e.MainSocialize}],execute:function(){var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_dec13,_dec14,_dec15,_dec16,_dec17,_dec18,_dec19,_dec20,_dec21,_dec22,_dec23,_dec24,_dec25,_dec26,_dec27,_dec28,_dec29,_dec30,_dec31,_dec32,_dec33,_dec34,_dec35,_dec36,_dec37,_dec38,_dec39,_dec40,_dec41,_dec42,_dec43,_dec44,_dec45,_dec46,_dec47,_dec48,_dec49,_dec50,_dec51,_dec52,_dec53,_dec54,_dec55,_dec56,_dec57,_dec58,_dec59,_dec60,_dec61,_dec62,_dec63,_dec64,_dec65,_dec66,_dec67,_dec68,_dec69,_dec70,_dec71,_dec72,_dec73,_dec74,_dec75,_dec76,_dec77,_dec78,_dec79,_dec80,_dec81,_dec82,_dec83,_dec84,_dec85,_dec86,_dec87,_dec88,_dec89,_dec90,_dec91,_dec92,_dec93,_dec94,_dec95,_dec96,_dec97,_dec98,_dec99,_dec100,_dec101,_dec102,_dec103,_dec104,_dec105,_dec106,_dec107,_dec108,_dec109,_dec110,_dec111,_dec112,_dec113,_dec114,_dec115,_dec116,_dec117,_dec118,_dec119,_dec120,_dec121,_dec122,_dec123,_dec124,_dec125,_dec126,_dec127,_class,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,_descriptor15,_descriptor16,_descriptor17,_descriptor18,_descriptor19,_descriptor20,_descriptor21,_descriptor22,_descriptor23,_descriptor24,_descriptor25,_descriptor26,_descriptor27,_descriptor28,_descriptor29,_descriptor30,_descriptor31,_descriptor32,_descriptor33,_descriptor34,_descriptor35,_descriptor36,_descriptor37,_descriptor38,_descriptor39,_descriptor40,_descriptor41,_descriptor42,_descriptor43,_descriptor44,_descriptor45,_descriptor46,_descriptor47,_descriptor48,_descriptor49,_descriptor50,_descriptor51,_descriptor52,_descriptor53,_descriptor54,_descriptor55,_descriptor56,_descriptor57,_descriptor58,_descriptor59,_descriptor60,_descriptor61,_descriptor62,_descriptor63,_descriptor64,_descriptor65,_descriptor66,_descriptor67,_descriptor68,_descriptor69,_descriptor70,_descriptor71,_descriptor72,_descriptor73,_descriptor74,_descriptor75,_descriptor76,_descriptor77,_descriptor78,_descriptor79,_descriptor80,_descriptor81,_descriptor82,_descriptor83,_descriptor84,_descriptor85,_descriptor86,_descriptor87,_descriptor88,_descriptor89,_descriptor90,_descriptor91,_descriptor92,_descriptor93,_descriptor94,_descriptor95,_descriptor96,_descriptor97,_descriptor98,_descriptor99,_descriptor100,_descriptor101,_descriptor102,_descriptor103,_descriptor104,_descriptor105,_descriptor106,_descriptor107,_descriptor108,_descriptor109,_descriptor110,_descriptor111,_descriptor112,_descriptor113,_descriptor114,_descriptor115,_descriptor116,_descriptor117,_descriptor118,_descriptor119,_descriptor120,_descriptor121,_descriptor122,_descriptor123,_descriptor124,_descriptor125,_descriptor126;cclegacy._RF.push({},"96bb2hMAG9Bn6tMGY0sO9Ss","GameScene",void 0);var ccclass=_decorator.ccclass,property=_decorator.property;macro.CLEANUP_IMAGE_CACHE=!1,dynamicAtlasManager.enabled=!0;var GameScene=exports("GameScene",(_dec=ccclass("GameScene"),_dec2=property(Node),_dec3=property(Prefab),_dec4=property(Prefab),_dec5=property(Node),_dec6=property(Node),_dec7=property(Node),_dec8=property(Node),_dec9=property(Node),_dec10=property(Button),_dec11=property(Button),_dec12=property(Button),_dec13=property(Node),_dec14=property(Sprite),_dec15=property(Label),_dec16=property(Label),_dec17=property(Sprite),_dec18=property(Label),_dec19=property(Label),_dec20=property(Node),_dec21=property(Sprite),_dec22=property(Sprite),_dec23=property(Label),_dec24=property(Label),_dec25=property(Label),_dec26=property(Node),_dec27=property(Label),_dec28=property(Label),_dec29=property(Sprite),_dec30=property(Node),_dec31=property(List),_dec32=property(Label),_dec33=property(Label),_dec34=property(Label),_dec35=property(Label),_dec36=property(Sprite),_dec37=property(Sprite),_dec38=property(Sprite),_dec39=property(Label),_dec40=property(Node),_dec41=property(Button),_dec42=property(Button),_dec43=property(Node),_dec44=property(Node),_dec45=property(Node),_dec46=property(Sprite),_dec47=property(Node),_dec48=property(Node),_dec49=property(Button),_dec50=property(Button),_dec51=property(Node),_dec52=property(Node),_dec53=property(Node),_dec54=property(Node),_dec55=property(Node),_dec56=property(Node),_dec57=property(Node),_dec58=property(Node),_dec59=property(Node),_dec60=property(Node),_dec61=property(Node),_dec62=property(Node),_dec63=property(Node),_dec64=property(Node),_dec65=property(Node),_dec66=property(Node),_dec67=property(Node),_dec68=property(Node),_dec69=property(Node),_dec70=property(Node),_dec71=property(Node),_dec72=property(Node),_dec73=property(Label),_dec74=property(Sprite),_dec75=property(Label),_dec76=property(Sprite),_dec77=property(Sprite),_dec78=property(Node),_dec79=property(Node),_dec80=property(Node),_dec81=property(Node),_dec82=property(Node),_dec83=property(Node),_dec84=property(Node),_dec85=property(Node),_dec86=property(Node),_dec87=property(Node),_dec88=property(Node),_dec89=property(Node),_dec90=property(Node),_dec91=property(Node),_dec92=property(Node),_dec93=property(Node),_dec94=property(Node),_dec95=property(Node),_dec96=property(Node),_dec97=property(Node),_dec98=property(Node),_dec99=property(Node),_dec100=property(Node),_dec101=property(Node),_dec102=property(Node),_dec103=property(Node),_dec104=property(Node),_dec105=property(Node),_dec106=property(Node),_dec107=property(Node),_dec108=property(Node),_dec109=property(Node),_dec110=property(Node),_dec111=property(Prefab),_dec112=property(Prefab),_dec113=property(Prefab),_dec114=property(Node),_dec115=property(Prefab),_dec116=property(Prefab),_dec117=property(Prefab),_dec118=property(Prefab),_dec119=property(Node),_dec120=property(Node),_dec121=property(Sprite),_dec122=property(Prefab),_dec123=property(Prefab),_dec124=property(Prefab),_dec125=property(Node),_dec126=property(Label),_dec127=property(Label),_dec((_class2=function(_Component){function GameScene(){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=_Component.call.apply(_Component,[this].concat(i))||this,_initializerDefineProperty(e,"maplayer",_descriptor,_assertThisInitialized(e)),_initializerDefineProperty(e,"objectRole",_descriptor2,_assertThisInitialized(e)),_initializerDefineProperty(e,"aniPrefab",_descriptor3,_assertThisInitialized(e)),_initializerDefineProperty(e,"UIMain",_descriptor4,_assertThisInitialized(e)),_initializerDefineProperty(e,"UIBox",_descriptor5,_assertThisInitialized(e)),_initializerDefineProperty(e,"lay_GameLog",_descriptor6,_assertThisInitialized(e)),_initializerDefineProperty(e,"markBtnList",_descriptor7,_assertThisInitialized(e)),_initializerDefineProperty(e,"markMainSKill",_descriptor8,_assertThisInitialized(e)),_initializerDefineProperty(e,"headinfo_img",_descriptor9,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_bag0",_descriptor10,_assertThisInitialized(e)),_initializerDefineProperty(e,"bnt_role",_descriptor11,_assertThisInitialized(e)),_initializerDefineProperty(e,"hint_bg",_descriptor12,_assertThisInitialized(e)),_initializerDefineProperty(e,"img_showgold",_descriptor13,_assertThisInitialized(e)),_initializerDefineProperty(e,"txt_showgoldname",_descriptor14,_assertThisInitialized(e)),_initializerDefineProperty(e,"txt_showgold",_descriptor15,_assertThisInitialized(e)),_initializerDefineProperty(e,"img_showgold1",_descriptor16,_assertThisInitialized(e)),_initializerDefineProperty(e,"txt_showgoldname1",_descriptor17,_assertThisInitialized(e)),_initializerDefineProperty(e,"txt_showgold1",_descriptor18,_assertThisInitialized(e)),_initializerDefineProperty(e,"targethead_bg",_descriptor19,_assertThisInitialized(e)),_initializerDefineProperty(e,"target_hpBar",_descriptor20,_assertThisInitialized(e)),_initializerDefineProperty(e,"target_job",_descriptor21,_assertThisInitialized(e)),_initializerDefineProperty(e,"target_hpNum",_descriptor22,_assertThisInitialized(e)),_initializerDefineProperty(e,"target_name",_descriptor23,_assertThisInitialized(e)),_initializerDefineProperty(e,"target_level",_descriptor24,_assertThisInitialized(e)),_initializerDefineProperty(e,"target_menu",_descriptor25,_assertThisInitialized(e)),_initializerDefineProperty(e,"target_menu_name",_descriptor26,_assertThisInitialized(e)),_initializerDefineProperty(e,"hiter_name",_descriptor27,_assertThisInitialized(e)),_initializerDefineProperty(e,"hiterBG",_descriptor28,_assertThisInitialized(e)),_initializerDefineProperty(e,"bg_buff",_descriptor29,_assertThisInitialized(e)),_initializerDefineProperty(e,"list_buffinfo",_descriptor30,_assertThisInitialized(e)),_initializerDefineProperty(e,"lbl_level",_descriptor31,_assertThisInitialized(e)),_initializerDefineProperty(e,"lbl_hp",_descriptor32,_assertThisInitialized(e)),_initializerDefineProperty(e,"lbl_mp",_descriptor33,_assertThisInitialized(e)),_initializerDefineProperty(e,"lbl_exp",_descriptor34,_assertThisInitialized(e)),_initializerDefineProperty(e,"img_hp",_descriptor35,_assertThisInitialized(e)),_initializerDefineProperty(e,"img_mp",_descriptor36,_assertThisInitialized(e)),_initializerDefineProperty(e,"img_exp",_descriptor37,_assertThisInitialized(e)),_initializerDefineProperty(e,"delayLab",_descriptor38,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_list",_descriptor39,_assertThisInitialized(e)),_initializerDefineProperty(e,"auto_pick",_descriptor40,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_lock",_descriptor41,_assertThisInitialized(e)),_initializerDefineProperty(e,"Drug_bg",_descriptor42,_assertThisInitialized(e)),_initializerDefineProperty(e,"SimpleScreen",_descriptor43,_assertThisInitialized(e)),_initializerDefineProperty(e,"panel_task",_descriptor44,_assertThisInitialized(e)),_initializerDefineProperty(e,"lbl_att_type",_descriptor45,_assertThisInitialized(e)),_initializerDefineProperty(e,"panel_att_type",_descriptor46,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_autohook",_descriptor47,_assertThisInitialized(e)),_initializerDefineProperty(e,"menu_shield",_descriptor48,_assertThisInitialized(e)),_initializerDefineProperty(e,"herostate_btn",_descriptor49,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_vip",_descriptor50,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_rank_list",_descriptor51,_assertThisInitialized(e)),_initializerDefineProperty(e,"bnt_shop",_descriptor52,_assertThisInitialized(e)),_initializerDefineProperty(e,"bnt_chongzi",_descriptor53,_assertThisInitialized(e)),_initializerDefineProperty(e,"bnt_bysc",_descriptor54,_assertThisInitialized(e)),_initializerDefineProperty(e,"bnt_game_fl",_descriptor55,_assertThisInitialized(e)),_initializerDefineProperty(e,"bnt_game_hd",_descriptor56,_assertThisInitialized(e)),_initializerDefineProperty(e,"bnt_new_user",_descriptor57,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_recharge_reward",_descriptor58,_assertThisInitialized(e)),_initializerDefineProperty(e,"onLine",_descriptor59,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_other1",_descriptor60,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_other2",_descriptor61,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_other3",_descriptor62,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_other4",_descriptor63,_assertThisInitialized(e)),_initializerDefineProperty(e,"btn_other5",_descriptor64,_assertThisInitialized(e)),_initializerDefineProperty(e,"hintTXT",_descriptor65,_assertThisInitialized(e)),_initializerDefineProperty(e,"hintTXT1",_descriptor66,_assertThisInitialized(e)),_initializerDefineProperty(e,"typeH5",_descriptor67,_assertThisInitialized(e)),_initializerDefineProperty(e,"typePC",_descriptor68,_assertThisInitialized(e)),_initializerDefineProperty(e,"MainSkill",_descriptor69,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_skill",_descriptor70,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_btnBag",_descriptor71,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_lbl_level",_descriptor72,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_img_exp",_descriptor73,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_lbl_exp",_descriptor74,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_img_hp",_descriptor75,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_img_mp",_descriptor76,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_hook",_descriptor77,_assertThisInitialized(e)),_initializerDefineProperty(e,"ping",_descriptor78,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_drug_array",_descriptor79,_assertThisInitialized(e)),_initializerDefineProperty(e,"gamemain_hp_red",_descriptor80,_assertThisInitialized(e)),_initializerDefineProperty(e,"gamemain_mp_blue",_descriptor81,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_hp_info",_descriptor82,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_mp_info",_descriptor83,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_baitan",_descriptor84,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_jiaoyi",_descriptor85,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_rank_list",_descriptor86,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_social",_descriptor87,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_hanghui",_descriptor88,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_char",_descriptor89,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_bag",_descriptor90,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_skill_show",_descriptor91,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_mail",_descriptor92,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_auction",_descriptor93,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_set",_descriptor94,_assertThisInitialized(e)),_initializerDefineProperty(e,"pc_shop",_descriptor95,_assertThisInitialized(e)),_initializerDefineProperty(e,"baitan_info",_descriptor96,_assertThisInitialized(e)),_initializerDefineProperty(e,"jiaoyi_info",_descriptor97,_assertThisInitialized(e)),_initializerDefineProperty(e,"rank_info",_descriptor98,_assertThisInitialized(e)),_initializerDefineProperty(e,"social_info",_descriptor99,_assertThisInitialized(e)),_initializerDefineProperty(e,"guild_info",_descriptor100,_assertThisInitialized(e)),_initializerDefineProperty(e,"char_info",_descriptor101,_assertThisInitialized(e)),_initializerDefineProperty(e,"bag_info",_descriptor102,_assertThisInitialized(e)),_initializerDefineProperty(e,"skill_info",_descriptor103,_assertThisInitialized(e)),_initializerDefineProperty(e,"mail_info",_descriptor104,_assertThisInitialized(e)),_initializerDefineProperty(e,"auction_info",_descriptor105,_assertThisInitialized(e)),_initializerDefineProperty(e,"set_info",_descriptor106,_assertThisInitialized(e)),_initializerDefineProperty(e,"shop_info",_descriptor107,_assertThisInitialized(e)),_initializerDefineProperty(e,"dangerMask",_descriptor108,_assertThisInitialized(e)),_initializerDefineProperty(e,"dragLayer",_descriptor109,_assertThisInitialized(e)),_initializerDefineProperty(e,"pref_MainSocialize",_descriptor110,_assertThisInitialized(e)),_initializerDefineProperty(e,"pref_Auxilary",_descriptor111,_assertThisInitialized(e)),_initializerDefineProperty(e,"pref_NewHero",_descriptor112,_assertThisInitialized(e)),_initializerDefineProperty(e,"disconnection",_descriptor113,_assertThisInitialized(e)),_initializerDefineProperty(e,"newTaskItem",_descriptor114,_assertThisInitialized(e)),_initializerDefineProperty(e,"dragItemPre",_descriptor115,_assertThisInitialized(e)),_initializerDefineProperty(e,"myShop",_descriptor116,_assertThisInitialized(e)),_initializerDefineProperty(e,"setShopItemPrice",_descriptor117,_assertThisInitialized(e)),_initializerDefineProperty(e,"lbl_fightPower",_descriptor118,_assertThisInitialized(e)),_initializerDefineProperty(e,"profession",_descriptor119,_assertThisInitialized(e)),_initializerDefineProperty(e,"cleanUIBtn",_descriptor120,_assertThisInitialized(e)),_initializerDefineProperty(e,"msgLabelNode",_descriptor121,_assertThisInitialized(e)),_initializerDefineProperty(e,"itemBoxItem",_descriptor122,_assertThisInitialized(e)),_initializerDefineProperty(e,"qrnode",_descriptor123,_assertThisInitialized(e)),_initializerDefineProperty(e,"nativeTsetNode",_descriptor124,_assertThisInitialized(e)),_initializerDefineProperty(e,"nativeTsetLabel",_descriptor125,_assertThisInitialized(e)),_initializerDefineProperty(e,"bottomTime",_descriptor126,_assertThisInitialized(e)),e._mainSocialize=null,e._openTime=0,e._showBtnList=!0,e._setSkill=null,e.self_object=null,e._mail=null,e._auxilary=null,e._newHero=null,e._targetBox=null,e._poolGameLog=null,e.lastClickAnim=null,e.clickTime=0,e.isCanStart=!0,e.lastx=0,e.lasty=0,e.canpick=!1,e.showGold1={},e.showGold2={},e.buffList=[],e.lastDrugTime=0,e.drugItemTime=0,e.lastClickTime=0,e.isOnShift=!1,e._hideTime=0,e.guajitime=-1,e.hintTxtList=[],e._isShowSkill=!0,e.location=void 0,e.moveType=0,e.autoGetNewHero=!0,e._getTime=2,e.is_cls=!0,e.disconnectionAni=null,e}_inheritsLoose(GameScene,_Component);var _proto=GameScene.prototype;return _proto.onLoad=function(){this.setGameTypeUi(),Config.CurScene=this,GameUtil.loadResLocal("public/img_mask.png",this.disconnection.getComponent(Sprite)),this.disconnectionAni=Animationmodule.playframe(!1,Config.CurScene.disconnection,"Animation/disconnection/",1,8,100,!0,!1,null,null,null,null,null,null,null,null);var e=JSON.parse(GameUtil.getSaveData(Config.g_relogname+Config.g_playerName+"role_set_cfglist"));e&&(audioManager.instance.setSoundVolume(parseFloat((.01*e.gameVoice).toFixed(1))),audioManager.instance.setVolume(parseFloat((.01*e.gameVoice).toFixed(1))),console.log(e.gameVoice)),this.transitionHandler()},_proto.transitionHandler=function(){var e=this;this.node.getChildByName("mask").getComponent(Sprite).spriteFrame=resourcesMgr.getRes("LoginScene/gxx/login2.png"),resourcesMgr.handleLoad("prefab/loading/LoginSceneProgressBar.prefab",(function(t){if(t){var i=instantiate(t);i.getComponent(LoginSceneProgressBar).loadRes(),e.node.addChild(i);var n=.1;e.schedule((function t(){n=.01+n,i.getComponent(LoginSceneProgressBar).handleProgress("游戏加载中",n),n>=1&&(e.unschedule(t),i.destroy(),e.node.getChildByName("mask").active=!1,resourcesMgr.resClean("LoginScene/gxx/login2.png"))}),.05)}}))},_proto.loadResByLocal=function(){GameUtil.loadResLocal("GameScene/xshd1.png",this.btn_other1.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/zchb1.png",this.btn_other2.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/cz1.png",this.btn_other3.getComponent(Sprite)),GameUtil.loadResLocal("targetBox/zhl1.png",this.btn_other5.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_vip.png",this.btn_vip.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_recherage.png",this.bnt_chongzi.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_shop.png",this.bnt_bysc.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_fuli.png",this.bnt_game_fl.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_active.png",this.bnt_game_hd.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/btn_online.png",this.onLine.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_shagnc.png",this.bnt_shop.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_new.png",this.btn_rank_list.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/gxx/btn_recharge_first.png",this.btn_recharge_reward.getComponent(Sprite)),GameUtil.loadResLocal("GameScene/btn_new_user.png",this.bnt_new_user.getComponent(Sprite));var e=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/funBtn"),t=e.getChildByName("btn_autohook").getComponent(Sprite),i=e.getChildByName("btn_lock").getComponent(Sprite),n=e.getChildByName("petState_btn").getComponent(Sprite),o=e.getChildByName("pet_lock").getComponent(Sprite),a=e.getChildByName("btn_bag0").getComponent(Sprite),r=a.node.children[0].getComponent(Sprite);GameUtil.loadResLocal("public/hd.png",r);var s=e.getChildByName("bnt_role").getComponent(Sprite),l=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/funBtn/LayoutNode"),c=l.getChildByName("btn_get_item").getComponent(Sprite),p=l.getChildByName("newHero").getComponent(Sprite);p.node.active=Config.isJava;var _=l.getChildByName("newHeroTreasure").getComponent(Sprite);GameUtil.loadResLocal("GameScene/btn_lock.png",i),GameUtil.loadResLocal("GameScene/btn_petstate.png",n),GameUtil.loadResLocal("GameScene/herolock_btn.png",o),GameUtil.loadResLocal("GameScene/gxx/btn_bag.png",a),GameUtil.loadResLocal("GameScene/humma.png",c),GameUtil.loadResLocal("GameScene/btn_newhero.png",p),GameUtil.loadResLocal("HeroTreasureWin/icon.png",_),GameUtil.loadResLocal("GameScene/gxx/btn_juese.png",s),GameUtil.loadResLocal("GameScene/gxx/guaji.png",t);var d=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/markBtnList/btn_btnList"),g=d.getChildByName("btn_social").getComponent(Sprite),m=d.getChildByName("btn_jiaoyi").getComponent(Sprite),u=d.getChildByName("btn_hanghui").getComponent(Sprite),f=d.getChildByName("btn_set").getComponent(Sprite),h=d.getChildByName("btn_baitan").getComponent(Sprite),y=d.getChildByName("btn_mail").getComponent(Sprite);GameUtil.loadResLocal("GameScene/gxx/btn_shejiao.png",g),GameUtil.loadResLocal("GameScene/gxx/btn_jiaoyi.png",m),GameUtil.loadResLocal("GameScene/gxx/btn_hanghui.png",u),GameUtil.loadResLocal("GameScene/gxx/btn_set.png",f),GameUtil.loadResLocal("GameScene/gxx/btn_baitan.png",h),GameUtil.loadResLocal("GameScene/gxx/btn_mail.png",y);var b=GameUtil.findNodeByRes("Canvas/UIMain/panel_node/Drug_bg"),v=b.getChildByName("Drug_0").getComponent(Sprite),C=b.getChildByName("Drug_1").getComponent(Sprite),S=b.getChildByName("Drug_2").getComponent(Sprite),M=b.getChildByName("Drug_3").getComponent(Sprite),D=b.getChildByName("Drug_4").getComponent(Sprite),I=b.getChildByName("Drug_5").getComponent(Sprite);GameUtil.loadResLocal("GameScene/gxx/drug_kuang.png",v),GameUtil.loadResLocal("GameScene/gxx/drug_kuang.png",C),GameUtil.loadResLocal("GameScene/gxx/drug_kuang.png",S),GameUtil.loadResLocal("GameScene/gxx/drug_kuang.png",M),GameUtil.loadResLocal("GameScene/gxx/drug_kuang.png",D),GameUtil.loadResLocal("GameScene/gxx/drug_kuang.png",I);var E=GameUtil.findNodeByRes("Canvas/UIMain/panel_node"),T=E.getChildByName("btn_target_box").getComponent(Sprite);GameUtil.loadResLocal("targetBox/mb1.png",T);var k=E.getChildByName("bnt_show").getComponent(Sprite);GameUtil.loadResLocal("GameScene/gxx/map_showbtn1.png",k);var N=GameUtil.findNodeByRes("Canvas/UIMain/role_head/Sprite").getComponent(Sprite),G=GameUtil.findNodeByRes("Canvas/UIMain/role_head/Sprite/btn_selfbuff").getComponent(Sprite);GameUtil.loadResLocal("GameScene/img_main_goldbg.png",N),GameUtil.loadResLocal("GameScene/btn_buff.png",G);var L=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup1/btn_task").getComponent(Toggle),U=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup1/btn_task/Checkmark").getComponent(Sprite),z=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup1/btn_hum").getComponent(Toggle),B=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup1/btn_hum/Checkmark").getComponent(Sprite),w=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup2/btn_circum").getComponent(Toggle),x=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup2/btn_circum/Checkmark").getComponent(Sprite),P=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup2/btn_item").getComponent(Toggle),A=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/ToggleGroup2/btn_item/Checkmark").getComponent(Sprite),R=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/btn_change").getComponent(Button),H=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/btn_hide").getComponent(Sprite),O=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/btn_show").getComponent(Sprite);GameUtil.loadResLocalToggle("GameScene/gxx/btn_ss_task.png","GameScene/gxx/btn_ss_task (2).png",L,U),GameUtil.loadResLocalToggle("GameScene/gxx/btn_ss_hum.png","GameScene/gxx/btn_ss_hum (2).png",z,B),GameUtil.loadResLocalToggle("GameScene/gxx/btn_ss_monster.png","GameScene/gxx/btn_ss_monster (2).png",w,x),GameUtil.loadResLocalToggle("GameScene/gxx/btn_ss_item.png","GameScene/gxx/btn_ss_item (2).png",P,A),GameUtil.loadResLocalButton("GameScene/gxx/btn_ss_change.png","GameScene/gxx/btn_ss_change (3).png",R),GameUtil.loadResLocal("GameScene/gxx/btn_ss_hide.png",H),GameUtil.loadResLocal("GameScene/gxx/btn_ss_show.png",O);var j=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/Sprite-001").getComponent(Sprite),F=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/gamemain_hp_red").getComponent(Sprite),K=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/gamemain_hp_red/img_hp").getComponent(Sprite),V=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/gamemain_mp_blue").getComponent(Sprite),W=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/gamemain_mp_blue/img_mp").getComponent(Sprite),Y=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/gamemain_hum_blood_bg").getComponent(Sprite),X=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/img_heroattack").getComponent(Sprite),q=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/heroatt_btn").getComponent(Sprite),J=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/img_fightPower").getComponent(Sprite),Q=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/img_charlevel").getComponent(Sprite),Z=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/Sprite-002").getComponent(Sprite),$=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/Sprite").getComponent(Sprite),ee=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node/Sprite-002/img_exp").getComponent(Sprite),te=GameUtil.findNodeByRes("Canvas/UIMain/lbl_att_type").getComponent(Sprite);GameUtil.loadResLocal("GameScene/gxx/img_bottombg.png",j),GameUtil.loadResLocal("GameScene/gxx/gamemain_hp_red.png",F),GameUtil.loadResLocal("GameScene/000000.png",K),GameUtil.loadResLocal("GameScene/gxx/gamemain_mp_blue.png",V),GameUtil.loadResLocal("GameScene/000000.png",W),GameUtil.loadResLocal("GameScene/gxx/gamemain_hum_blood_bg.png",Y),GameUtil.loadResLocal("GameScene/gxx/img_heroattack.png",X),GameUtil.loadResLocal("GameScene/btn_heroheji.png",q),GameUtil.loadResLocal("GameScene/gxx/zl.png",J),GameUtil.loadResLocal("GameScene/gxx/img_charlevel.png",Q),GameUtil.loadResLocal("GameScene/gxx/gamemain_chat_bg.png",Z),GameUtil.loadResLocal("GameScene/gxx/img_bottombg.png",$),GameUtil.loadResLocal("GameScene/gxx/pro_base.png",ee),GameUtil.loadResLocal("GameScene/gxx/atttype_peace 1.png",te);var ie=GameUtil.findNodeByRes("Canvas/UIMain/panel_node/herocall_btn").getComponent(Sprite),ne=GameUtil.findNodeByRes("Canvas/UIMain/panel_node/bg_buff").getComponent(Sprite),oe=GameUtil.findNodeByRes("Canvas/UIMain/panel_node/bg_buff/btn_closebuff").getComponent(Sprite);GameUtil.loadResLocal("GameScene/auctionTip_bg.png",ne),GameUtil.loadResLocal("resources/public/btn_close (2).png",oe),GameUtil.loadResLocal("newHero/icon_herocall.png",ie);var ae=GameUtil.findNodeByRes("Canvas/UIMain/role_head/targethead_bg/target_hpBar").getComponent(Sprite),re=GameUtil.findNodeByRes("Canvas/UIMain/role_head/targethead_bg/target_head").getComponent(Sprite),se=GameUtil.findNodeByRes("Canvas/UIMain/role_head/targethead_bg/btn_tarbuff").getComponent(Sprite);GameUtil.loadResLocal("GameScene/target_blood.png",ae),GameUtil.loadResLocal("GameScene/gxx/target_head.png",re),GameUtil.loadResLocal("GameScene/gxx/btn_buff.png",se);var le=GameUtil.findNodeByRes("Canvas/UIMain/role_head/target_menu").getComponent(Sprite),ce=GameUtil.findNodeByRes("Canvas/UIMain/role_head/target_menu/menu_info").getComponent(Sprite),pe=GameUtil.findNodeByRes("Canvas/UIMain/role_head/target_menu/menu_chat").getComponent(Sprite),_e=GameUtil.findNodeByRes("Canvas/UIMain/role_head/target_menu/menu_friend").getComponent(Sprite),de=GameUtil.findNodeByRes("Canvas/UIMain/role_head/target_menu/menu_shield").getComponent(Sprite),ge=GameUtil.findNodeByRes("Canvas/UIMain/role_head/target_menu/menu_team").getComponent(Sprite),me=GameUtil.findNodeByRes("Canvas/UIMain/role_head/target_menu/menu_guild").getComponent(Sprite);GameUtil.loadResLocal("GameScene/target_menu.png",le),GameUtil.loadResLocal("public/btn_ok.png",ce),GameUtil.loadResLocal("public/btn_ok.png",pe),GameUtil.loadResLocal("public/btn_ok.png",_e),GameUtil.loadResLocal("public/btn_ok.png",de),GameUtil.loadResLocal("public/btn_ok.png",ge),GameUtil.loadResLocal("public/btn_ok.png",me);var ue=GameUtil.findNodeByRes("Canvas/UIMain/panel_att_type/atttype_all").getComponent(Sprite),fe=GameUtil.findNodeByRes("Canvas/UIMain/panel_att_type/atttype_couple").getComponent(Sprite),he=GameUtil.findNodeByRes("Canvas/UIMain/panel_att_type/atttype_guild").getComponent(Sprite),ye=GameUtil.findNodeByRes("Canvas/UIMain/panel_att_type/atttype_mentor").getComponent(Sprite),be=GameUtil.findNodeByRes("Canvas/UIMain/panel_att_type/atttype_peace").getComponent(Sprite),ve=GameUtil.findNodeByRes("Canvas/UIMain/panel_att_type/atttype_red").getComponent(Sprite),Ce=GameUtil.findNodeByRes("Canvas/UIMain/panel_att_type/atttype_team").getComponent(Sprite);GameUtil.loadResLocal("GameScene/gxx/atttype_all.png",ue),GameUtil.loadResLocal("GameScene/gxx/atttype_couple.png",fe),GameUtil.loadResLocal("GameScene/gxx/atttype_guild.png",he),GameUtil.loadResLocal("GameScene/gxx/atttype_mentor.png",ye),GameUtil.loadResLocal("GameScene/gxx/atttype_peace 1.png",be),GameUtil.loadResLocal("GameScene/gxx/atttype_red.png",ve),GameUtil.loadResLocal("GameScene/gxx/atttype_team.png",Ce);var Se=GameUtil.findNodeByRes("Canvas/UIMain/RankButton").getComponent(Sprite);GameUtil.loadResLocal("GameScene/main_rank.png",Se);var Me=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/img_screen/box0").getComponent(Sprite),De=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/img_screen/box1").getComponent(Sprite),Ie=GameUtil.findNodeByRes("Canvas/UIMain/simpleScreen/bg/img_screen/box2").getComponent(Sprite);GameUtil.loadResLocal("GameScene/chat_chat.png",Me),GameUtil.loadResLocal("GameScene/chat_chat.png",De),GameUtil.loadResLocal("GameScene/chat_chat.png",Ie),GameUtil.loadResLocal("GameScene/head_hide.png",this.cleanUIBtn)},_proto.start=function(){var e=this;this.loadResByLocal(),this.getNewHeroListHandle(),audioManager.instance.stopAll(),gameConfig.init(),game.on(Game.EVENT_SHOW,(function(){if(console.log("前台"),Config.isForeground=!0,Config.sandBoxAPP?Config.sandBoxForeground?audioManager.instance.isStop=!1:audioManager.instance.isStop=!0:audioManager.instance.isStop=!1,"GameScene"==director.getScene().name)if(Config.readyRelogin&&!gameSocket.isConnected())uiControl.deleteToast(),GameUtil.reLogin();else if(!gameSocket.isConnected()){if(gameSocket.activeCloseHandle)return;e.scheduleOnce((function(){gameSocket.reConnect()}),1)}}),this),game.on(Game.EVENT_HIDE,(function(){console.log("后台"),Config.isForeground=!1,audioManager.instance.isStop=!0}),this),game.on(Game.EVENT_RESTART,(function(){alert("gameScene-start")}),this),this._poolGameLog=new NodePool,this.registeEventListener(),this.getDataForRoleScene(),null==this.maplayer.getComponent(Sprite)&&this.maplayer.addComponent(Sprite),gameConfig.timerManager(),Skillmodule.init(),Objectcontrol.init(),ObjectManage.init(),dropItemMgr.init(),nodeMgr.init(),this.schedule((function(){e.updatemini()}),1),this.setMoneyShow(),this.getEventBtn(),this.getOtherBtn(),this.getFunBtn(),this.auto_pick.active=Config.g_autopick,this.changeView(),this.node.on(NodeEventType.SIZE_CHANGED,this.changeView,this),this.dragLayer&&(this.dragLayer.on(NodeEventType.TOUCH_START,(function(e){e.preventSwallow=!0}),this),this.dragLayer.on(NodeEventType.TOUCH_MOVE,(function(e){e.preventSwallow=!0}),this),this.dragLayer.on(NodeEventType.TOUCH_END,(function(e){e.preventSwallow=!0}),this),this.dragLayer.on(NodeEventType.TOUCH_CANCEL,(function(e){EventMgr.raiseEvent(EventCustom.ONDRAGEND)}),this),this.schedule((function(){e.show_time()}),1)),setTimeout((function(){Config.sandBoxAPP&&7==Config.cur_game_type&&(console.log("GameSdk && Config.cur_game_type == 7"),GameSdk.loadingComplete())}),20),this.lbl_fightPower.getComponent(Label).string="0",sys.isNative&&Config.sandBoxNative&&(this.nativeTsetNode.active=!1),Config.g_CurrentRecallGamePetIndex=-1},_proto.show_time=function(){var e=(new Date).getHours(),t=(new Date).getMinutes(),i=(new Date).getSeconds();this.bottomTime.string=(e<10?"0"+e:e)+":"+(t<10?"0"+t:t)+":"+(i<10?"0"+i:i)},_proto.nativeTestExit=function(){director.getScene().getComponentInChildren(NativeMsgHandle).exitGame(),game.end()},_proto.nativeTestRefresh=function(){director.getScene().getComponentInChildren(NativeMsgHandle).refreshGame(),game.restart()},_proto.nativeTestGetBattery=function(){this.nativeTsetLabel.string=director.getScene().getComponentInChildren(NativeMsgHandle).getBattery()},_proto.nativeTestGetSignal=function(){this.nativeTsetLabel.string=director.getScene().getComponentInChildren(NativeMsgHandle).getSignal()},_proto.changeView=function(){this.typeH5.getChildByName("mark1").getComponent(Widget).updateAlignment(),this.typeH5.getChildByName("mark2").getComponent(Widget).updateAlignment(),this.typeH5.getChildByName("mark3").getComponent(Widget).updateAlignment(),this.typeH5.getChildByName("mark4").getComponent(Widget).updateAlignment(),console.log("窗口大小发生改变---\x3e>");var e=this.typeH5.getChildByName("mark1").position,t=this.typeH5.getChildByName("mark2").position,i=this.typeH5.getChildByName("mark3").position,n=this.typeH5.getChildByName("mark4").position;this._isShowSkill?(this.markMainSKill.setPosition(e),this.markBtnList.setPosition(i)):(this.markMainSKill.setPosition(t),this.markBtnList.setPosition(n))},_proto.onDestroy=function(){Objectcontrol.resetData(),ObjectManage.resetData(),Animationmodule.resetData(),Fightmodule.resetData(),Movemodule.resetData(),Skillmodule.resetData(),resourcesMgr.resetData()},_proto.getDataForRoleScene=function(){Config.GAME_PORT=parseInt(Config.dataFromRoleScene.port);var e=Config.dataFromRoleScene.ip;console.log("请求游戏网关"),roleSocket.activeClose((function(){console.log("角色网关关闭成功"),roleSocket._socket=null,sendmessage.clsocket=null,gameSocket.createSocket(e,Config.GAME_PORT)}))},_proto.onMsgFromSvr=function(e){},_proto.onSvrConnect=function(){var e=Config.dataFromRoleScene.uid,t=Config.dataFromRoleScene.code,i=Config.dataFromRoleScene.name;Sendmessage.getInstance().sendRunLogin(e,i,t)},_proto.setGameTypeUi=function(){1==Config.g_isOnWindows?(GameUtil.findNodeByRes("Canvas").setScale(new Vec3(.7,.7,1)),this.typeH5.active=!1,this.typePC.active=!0,this.lbl_att_type.node.setPosition(v3(-264,-273)),this.panel_att_type.setPosition(v3(-264,-122)),this.Drug_bg.setPosition(v3(0,-161)),this.hint_bg.setPosition(v3(-135,-114))):(this.typeH5.active=!0,this.typePC.active=!1,this.lbl_att_type.node.setPosition(v3(-209,-266)),this.panel_att_type.setPosition(v3(-209,-119)),this.Drug_bg.setPosition(v3(0,-165)),this.hint_bg.setPosition(v3(-135,-118)))},_proto.onBtnSocial=function(e,t){var i=(new Date).getTime();i-this._openTime>=500&&(null==this._mainSocialize?(this._mainSocialize=instantiate(this.pref_MainSocialize),this._mainSocialize.setParent(this.UIBox),this._mainSocialize.active=!0):this._mainSocialize.active=!this._mainSocialize.active,this._mainSocialize.setPosition(0,0),this._mainSocialize.getComponent(MainSocialize).setTabShowByConfig(),null!=t&&this._mainSocialize.getComponent("MainSocialize").changeView(t),this._openTime=i)},_proto.onBtnDeal=function(){Sendmessage.getInstance().StartTrade()},_proto.onBtnGuild=function(){Config.MainScene.openGuild?Config.MainScene.closeWindow("GuildWin"):sendmessage.sendOpenGuildDlg()},_proto.onBtnSet=function(){var e=(new Date).getTime();e-this._openTime>=500&&(null==this._auxilary?(this._auxilary=instantiate(this.pref_Auxilary),this._auxilary.setParent(this.UIBox),this._auxilary.active=!0):this._auxilary.active=!this._auxilary.active,this._auxilary.setPosition(0,0),this._openTime=e)},_proto.onBtnStall=function(){Config.g_ClientConfig.boUseHeroM2Shop?Config.player_stalls?uiControl.MyShopHandler(this.node,this.myShop):this.OpenMyShop():sendmessage.QueryUserShops(0,0,"")},_proto.OpenMyShop=function(){GameUtil.showNewBag(!0,!0),uiControl.MyShopHandler(GameUtil.publicLayoutNode(),this.myShop)},_proto.onBtnMail=function(){var e=this,t=(new Date).getTime();t-this._openTime>=500&&(null==this._mail?resourcesMgr.handleLoad("prefab/socialize/Mail.prefab",(function(t){e._mail=instantiate(t),e._mail.setParent(e.UIBox),Config.g_mailList=[],Sendmessage.getInstance().sendGetMail()})):(this._mail.active=!this._mail.active,this._mail.active&&(this._mail.setPosition(v3(0,0)),this._mail.getComponent("Mail").updateView())),this._openTime=t)},_proto.onClickBtnOtherHandle=function(e){var t=e.target.name;Sendmessage.getInstance().SendGameMainBtnMsg(Config.g_GameMainOtherBtns[t])},_proto.onClickBtnTargetHandle=function(){var e=this,t=(new Date).getTime();t-this._openTime>=500&&(this._targetBox?this._targetBox.active=!this._targetBox.active:resourcesMgr.resLoad("prefab/targetBox/TargetBox.prefab",(function(t){t&&(e._targetBox=instantiate(t),e._targetBox.setParent(e.UIBox),e._targetBox.getComponent("TargetBox").showView())})),this._openTime=t)},_proto.onTouchFunctionHandler=function(){var e=this;this.typeH5.getChildByName("mark1").getComponent(Widget).updateAlignment(),this.typeH5.getChildByName("mark2").getComponent(Widget).updateAlignment(),this.typeH5.getChildByName("mark3").getComponent(Widget).updateAlignment(),this.typeH5.getChildByName("mark4").getComponent(Widget).updateAlignment();var t=this.typeH5.getChildByName("mark1").position,i=this.typeH5.getChildByName("mark2").position,n=this.typeH5.getChildByName("mark3").position,o=this.typeH5.getChildByName("mark4").position;this.isCanStart&&(this.isCanStart=!1,this._showBtnList?(tween(this.markBtnList).to(.5,{position:v3(o.x,o.y)},{easing:easing.quartOut,onComplete:function(){e.isCanStart=!0,e._isShowSkill=!1}}).start(),tween(this.markMainSKill).to(.5,{position:v3(i.x,i.y)},{easing:easing.quartOut}).start()):(tween(this.markBtnList).to(.5,{position:v3(n.x,n.y)},{easing:easing.quartOut,onComplete:function(){e.isCanStart=!0,e._isShowSkill=!0}}).start(),tween(this.markMainSKill).to(.5,{position:v3(t.x,t.y)},{easing:easing.quartOut}).start()),this._showBtnList=!this._showBtnList)},_proto.evtMgrRedHintCheck=function(e){var t=this;if("red"==e){var i=this.hint_bg.getChildByName("img_red_hint");i.active=!0;var n=Animationmodule.playframe(!1,i,"Animation/mainhint/",30,39,100,!0,!1);n&&n.name&&n.node&&(n.name="RedPacket",i.once(NodeEventType.TOUCH_END,(function(){t.onBtnSocial(null,0),i.active=!1,Animationmodule.removeAniname("RedPacket")})))}else if("friend"==e){var o=this.hint_bg.getChildByName("img_friend_hint");o.active=!0;var a=Animationmodule.playframe(!1,o,"Animation/mainhint/",10,19,100,!0,!1);a&&a.name&&a.node&&(a.name="friendAni",o.once(NodeEventType.TOUCH_END,(function(){t.onBtnSocial(null,1),o.active=!1,Animationmodule.removeAniname("friendAni"),EventMgr.raiseEvent(EventCustom.FRIEND_APPLY)})))}else if("team"==e){var r=this.hint_bg.getChildByName("img_friend_hint");r.active=!0;var s=Animationmodule.playframe(!1,r,"Animation/mainhint/",40,49,100,!0,!1);s&&s.name&&s.node&&(s.name="teamAni",r.once(NodeEventType.TOUCH_END,(function(){t.onBtnSocial(null,2),r.active=!1,Animationmodule.removeAniname("teamAni"),EventMgr.raiseEvent(EventCustom.SHOW_APPLY_TEAM_TIP)})))}else if("guild"==e){var l=this.hint_bg.getChildByName("img_guild_hint");l.active=!0;var c=Animationmodule.playframe(!1,l,"Animation/mainhint/",20,29,100,!0,!1);c&&c.name&&c.node&&(c.name="guildAni",l.once(NodeEventType.TOUCH_END,(function(){l.active=!1,Animationmodule.removeAniname("guildAni"),EventMgr.raiseEvent(EventCustom.GAME_DLG_CMD,{id:"show_hanghui"})})))}},_proto.eventMgrAddSetSkillPrefHandler=function(){var e=this;null==this._setSkill?resources.load("prefab/SetSkill/SetSkill",Prefab,(function(t,i){t?console.log(t):(e._setSkill=instantiate(i),e._setSkill.setParent(e.UIBox),e._setSkill.getComponent("SetSkill").updateView())})):(this._setSkill.active=!this._setSkill.active,this._setSkill.setPosition(v3(0,0)),this._setSkill.getComponent("SetSkill").updateView(),this._setSkill.setSiblingIndex(999))},_proto.eventMgrGameDlgCmd=function(e){switch(e.id){case"show_youjian":this.onBtnMail();break;case"actor_att":this.onActorAtt(e);break;case"exit_to_role":this.exitgame()}},_proto.exitgame=function(){var e=this;this.initgamedata();var t="";switch(Math.floor(100*Math.random()%3)){case 0:t="LoginScene/bj_ds.png";break;case 1:t="LoginScene/bj_fs.png";break;case 2:t="LoginScene/bj_zs.png"}Config.g_serverconfig.nJobmode&&0==Config.g_serverconfig.nJobmode&&(t="LoginScene/bj_zs.png"),Config.g_backToRole=!0;resourcesMgr.resClean(["RoleScene/z.png","RoleScene/f.png","RoleScene/d.png"]),resourcesMgr.handleLoad(t,(function(t){e.profession.getChildByName("Sprite").getComponent(Sprite).spriteFrame=t,e.profession.active=!0,e.profession.setSiblingIndex(999),gameSocket.activeClose((function(){director.loadScene("LoginScene",(function(){InitGame.getInstance().init()}))}))}))},_proto.initgamedata=function(){Config.g_superMsg=[],Config.G_RollMsg=[],Config.playerID=0,Config.BagDataIsInit=!1,frameMgr.clear(),Sendmessage.getInstance().SendExitToLogin(),Tween.stopAllByTag(1),EventMgr.raiseEvent(EventCustom.NPC_LOG_CLOSE),EventMgr.raiseEvent(EventCustom.CLOSETIMER_SIMPLESCREEN),ObjectManage.delobject(),Animationmodule.removeAniname("autohook");for(var e=0;e<Config.g_SetupMagicList.length;e++)Animationmodule.removeAniname("mouse_click1"+e),Animationmodule.removeAniname("mouse_click2"+e);gameConfig.unscheduleAllCallbacks(),this.unscheduleAllCallbacks(),this._mail&&this._mail.getComponent("Mail").unRegisterEvents(),ObjectManage.delobject(Config.playerID),this.markMainSKill.getChildByName("MainSkill")&&this.markMainSKill.getChildByName("MainSkill").getComponent("MainSkill").unscheduleAllCallbacks(),this._poolGameLog.clear(),Config.resetConfig(),GameApi.showMyShopMsg(!1),GameApi.showMyShop(!1),GameApi.showLookHum(!1),GameApi.showskillwin(!1),GameApi.showNewNpcShop(!1),GameApi.showDrug(!1),GameApi.showScreen(!1),GameUtil.showNewStore(!1),GameUtil.showNewLogo(!1),GameUtil.showNewBag(!1),GameUtil.newShowItemsClose(),GameApi.LookHumShop(!1),Config.G_Team_Grop_List=[],Config.G_Friend_List=[],Config.G_Friend_Target_List=[],particleMgr.removePartical(),ItemMgr.getInstance().ClearItem(),Animationmodule.clearAniCacheAssets(!0),Config.g_buffAniCache=[],Config.cdTimerStart=void 0,Config.doubleFirePosIndex=void 0,EventMgr.resetEventMgr()},_proto.evtMgrNewMailNoticeHandler=function(e){Animationmodule.removeAniname("mailflash");var t=this.hint_bg.getChildByName("img_mail_Logo");if(e>0){console.log("有未领取邮件"),t.active=!0;var i=Animationmodule.playframe(!1,t,"Animation/mainhint/",0,9,120,!0,!1);i&&i.name&&i.node&&(i.name="mailflash",t.once(NodeEventType.TOUCH_END,this.mailHint,this))}else t.active=!1},_proto.evtMgrAddNewMailHandler=function(){this.evtMgrNewMailNoticeHandler(1)},_proto.mailHint=function(){var e=this.hint_bg.getChildByName("img_mail_Logo");this.onBtnMail(),Animationmodule.removeAniname("mailflash"),e.active=!1},_proto.registeEventListener=function(){var e=this;EventMgr.addEventListener(EventCustom.ADD_SETSKILL_PREF,this.eventMgrAddSetSkillPrefHandler,this),EventMgr.addEventListener(EventCustom.GAME_DLG_CMD,this.eventMgrGameDlgCmd,this),EventMgr.addEventListener(EventCustom.SHOW_LOG,this.showGameLog,this),EventMgr.addEventListener("show_log",this.showGameLog,this),EventMgr.addEventListener(EventCustom.REDHINTCHECK,this.evtMgrRedHintCheck,this),EventMgr.addEventListener(EventCustom.ROLE_DIE,this.roledie,this),EventMgr.addEventListener("LocationLoad",this.LocationLoad,this),EventMgr.addEventListener("ROLE_ALIVE",this.rolealive,this),EventMgr.addEventListener(EventCustom.UPDATE_BAG,this.updateShowGold,this),EventMgr.addEventListener(EventCustom.NEW_MAIL_NOTICE,this.evtMgrNewMailNoticeHandler,this),EventMgr.addEventListener(EventCustom.ADD_NEW_MAIL,this.evtMgrAddNewMailHandler,this),EventMgr.addEventListener("show_target_head",this.showTargetHead,this),EventMgr.addEventListener("updateTargetHp",this.updateTargetHp,this),EventMgr.addEventListener("close_target_menu",this.closeTargetMenu,this),EventMgr.addEventListener(EventCustom.UPDATEBUFFINFO,this.updateBuffInfo,this),EventMgr.addEventListener(EventCustom.BUFFCOUNTDOWN,this.buffCountDown,this),EventMgr.addEventListener(EventCustom.CREATE_PLAYER,this.createplayer,this),EventMgr.addEventListener(EventCustom.UPDATA_MAP,this.updatamap,this),EventMgr.addEventListener(EventCustom.UPDATEPOS,this.updatepos,this),EventMgr.addEventListener(EventCustom.SWITCH_ROCKER,this.switchSingleOrDoubleRocker,this),EventMgr.addEventListener(EventCustom.UPDATE_ROLE_INFO,this.UpdateHeadInfo,this),EventMgr.addEventListener("item_hint",this.item_hint,this),EventMgr.addEventListener(EventCustom.SHOWDRUG_ITEMS,this.ShowDrug_Items,this),EventMgr.addEventListener("removeDrugByIndex",this.removeDrugByIndex,this),EventMgr.addEventListener(EventCustom.UPDATE_ATT_MODE,this.UpdateAttMode,this),EventMgr.addEventListener(EventCustom.ONHOOK,this.onhook,this),EventMgr.addEventListener("stopHook",this.stopHook,this),EventMgr.addEventListener(EventCustom.TOPEFFECT,this.showTopEffect,this),EventMgr.addEventListener(EventCustom.OTHERBTNHANDLER,this.otherBtnHandler,this),EventMgr.addEventListener(EventCustom.DELAY_TIME,this.updateDelayTime,this),EventMgr.addEventListener("dragItemHandle",this.dragItemHandle,this),EventMgr.addEventListener(EventCustom.GET_HERO_LIST,this.evtMgrGetHeroListHandle,this),EventMgr.addEventListener(EventCustom.HERO_FIGHT_ONOFF,this.evtMgrHeroFightOnOffHandle,this),EventMgr.addEventListener(EventCustom.HERO_CREATE,this.evtMgrHeroCreateHandle,this),EventMgr.addEventListener(EventCustom.DELAY_SHOW,this.showPing,this),EventMgr.addEventListener(EventCustom.UPDATE_POWERNUM,this.evtMgrUpdatePowerNum,this),EventMgr.addEventListener(EventCustom.PLAYMAPMUSIC,this.playMapMusic,this),EventMgr.addEventListener(EventCustom.UPDATE_CALL_INFO,this.updateCallInfo,this),EventMgr.addEventListener("show_petBtn",this.show_petBtn,this),EventMgr.addEventListener(EventCustom.CLOSE_PETBTN,this.close_petBtn,this),EventMgr.addEventListener(EventCustom.SHOW_BAG_HINT,this.updateBagHint,this),EventMgr.addEventListener(EventCustom.LOAD_MAINSKILL_PREF,this.evtMgrLoadMainskillPrefHandle,this),EventMgr.addEventListener(EventCustom.UPDATE_HITERNAME,this.updateHiter,this),this.maplayer.on(NodeEventType.MOUSE_MOVE,this.onMouseMove,this),Config.g_isOnWindows?(this.maplayer.on(NodeEventType.MOUSE_DOWN,this.onMousePC,this),this.maplayer.on(NodeEventType.MOUSE_UP,this.onMouseUp,this),this.gamemain_hp_red.on(NodeEventType.MOUSE_ENTER,(function(){0==e.pc_hp_info.active&&(e.pc_hp_info.active=!0,e.pc_hp_info.getChildByName("Label").getComponent(Label).string="HP("+e.lbl_hp.string+")")})),this.gamemain_hp_red.on(NodeEventType.MOUSE_LEAVE,(function(){e.pc_hp_info.active=!1})),this.gamemain_mp_blue.on(NodeEventType.MOUSE_ENTER,(function(){0==e.pc_mp_info.active&&(e.pc_mp_info.active=!0,e.pc_mp_info.getChildByName("Label").getComponent(Label).string="MP("+e.lbl_mp.string+")")})),this.gamemain_mp_blue.on(NodeEventType.MOUSE_LEAVE,(function(){e.pc_mp_info.active=!1})),this.pc_baitan.on(NodeEventType.MOUSE_ENTER,(function(){0==e.baitan_info.active&&(e.baitan_info.active=!0)})),this.pc_baitan.on(NodeEventType.MOUSE_LEAVE,(function(){e.baitan_info.active=!1})),this.pc_jiaoyi.on(NodeEventType.MOUSE_ENTER,(function(){0==e.jiaoyi_info.active&&(e.jiaoyi_info.active=!0)})),this.pc_jiaoyi.on(NodeEventType.MOUSE_LEAVE,(function(){e.jiaoyi_info.active=!1})),this.pc_rank_list.on(NodeEventType.MOUSE_ENTER,(function(){0==e.rank_info.active&&(e.rank_info.active=!0)})),this.pc_rank_list.on(NodeEventType.MOUSE_LEAVE,(function(){e.rank_info.active=!1})),this.pc_social.on(NodeEventType.MOUSE_ENTER,(function(){0==e.social_info.active&&(e.social_info.active=!0)})),this.pc_social.on(NodeEventType.MOUSE_LEAVE,(function(){e.social_info.active=!1})),this.pc_hanghui.on(NodeEventType.MOUSE_ENTER,(function(){0==e.guild_info.active&&(e.guild_info.active=!0)})),this.pc_hanghui.on(NodeEventType.MOUSE_LEAVE,(function(){e.guild_info.active=!1})),this.pc_char.on(NodeEventType.MOUSE_ENTER,(function(){0==e.char_info.active&&(e.char_info.active=!0)})),this.pc_char.on(NodeEventType.MOUSE_LEAVE,(function(){e.char_info.active=!1})),this.pc_bag.on(NodeEventType.MOUSE_ENTER,(function(){0==e.bag_info.active&&(e.bag_info.active=!0)})),this.pc_bag.on(NodeEventType.MOUSE_LEAVE,(function(){e.bag_info.active=!1})),this.pc_skill_show.on(NodeEventType.MOUSE_ENTER,(function(){0==e.skill_info.active&&(e.skill_info.active=!0)})),this.pc_skill_show.on(NodeEventType.MOUSE_LEAVE,(function(){e.skill_info.active=!1})),this.pc_mail.on(NodeEventType.MOUSE_ENTER,(function(){0==e.mail_info.active&&(e.mail_info.active=!0)})),this.pc_mail.on(NodeEventType.MOUSE_LEAVE,(function(){e.mail_info.active=!1})),this.pc_auction.on(NodeEventType.MOUSE_ENTER,(function(){0==e.auction_info.active&&(e.auction_info.active=!0)})),this.pc_auction.on(NodeEventType.MOUSE_LEAVE,(function(){e.auction_info.active=!1})),this.pc_set.on(NodeEventType.MOUSE_ENTER,(function(){0==e.set_info.active&&(e.set_info.active=!0)})),this.pc_set.on(NodeEventType.MOUSE_LEAVE,(function(){e.set_info.active=!1})),this.pc_shop.on(NodeEventType.MOUSE_ENTER,(function(){0==e.shop_info.active&&(e.shop_info.active=!0)})),this.pc_shop.on(NodeEventType.MOUSE_LEAVE,(function(){e.shop_info.active=!1}))):this.maplayer.on(NodeEventType.TOUCH_START,this.onMousedown,this)},_proto.showPing=function(){this.ping.active=!1},_proto.closeTargetMenu=function(){this.target_menu.active=!1},_proto.show_petBtn=function(){var e=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/funBtn"),t=e.getChildByName("petState_btn");e.getChildByName("pet_lock");t.active=!0},_proto.close_petBtn=function(){var e=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/funBtn"),t=e.getChildByName("petState_btn");e.getChildByName("pet_lock");t.active=!1},_proto.petStateBtnCallBack=function(){sendmessage.sendSay("@rest")},_proto.petLockCallBack=function(){if(Config.lockingID){var e=ObjectManage.findobject(Config.lockingID);sendmessage.sendPetLock(e)}},_proto.keyboardUp=function(e){var t=e.keyCode,i=this.MainSkill.getComponent(MainSkill),n=GameUtil.findNodeByRes("Canvas").getComponent(MainScene);switch(t){case KeyCode.DIGIT_1:this.noDrug_Click(0,null);break;case KeyCode.DIGIT_2:this.noDrug_Click(1,null);break;case KeyCode.DIGIT_3:this.noDrug_Click(2,null);break;case KeyCode.DIGIT_4:this.noDrug_Click(3,null);break;case KeyCode.DIGIT_5:this.noDrug_Click(4,null);break;case KeyCode.DIGIT_6:this.noDrug_Click(5,null);break;case KeyCode.F1:null!=Config.g_SetupMagicList[0]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn1"));break;case KeyCode.F2:null!=Config.g_SetupMagicList[1]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn2"));break;case KeyCode.F3:null!=Config.g_SetupMagicList[2]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn3"));break;case KeyCode.F4:null!=Config.g_SetupMagicList[3]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn4"));break;case KeyCode.F5:null!=Config.g_SetupMagicList[4]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn5"));break;case KeyCode.F6:null!=Config.g_SetupMagicList[5]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn6"));break;case KeyCode.F7:null!=Config.g_SetupMagicList[6]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn7"));break;case KeyCode.F8:null!=Config.g_SetupMagicList[7]&&i.onClickSkillItemHandler(null,this.pc_skill.getChildByName("Btn8"));break;case KeyCode.KEY_L:this.onBtnStall();break;case KeyCode.KEY_T:this.onBtnDeal();break;case KeyCode.KEY_R:EventMgr.raiseEvent(EventCustom.OPENUIRANKWIN);break;case KeyCode.KEY_O:this.onBtnSocial(null,0);break;case KeyCode.KEY_G:this.onBtnGuild();break;case KeyCode.KEY_C:n.onClickRole();break;case KeyCode.KEY_B:GameUtil.showNewBag(!0);break;case KeyCode.KEY_S:this.onPcSkill();break;case KeyCode.KEY_M:this.onBtnMail();break;case KeyCode.KEY_A:this.onPcAuction();break;case KeyCode.KEY_I:this.onBtnSet();break;case KeyCode.KEY_P:n.onClicShopBtn();break;case KeyCode.ENTER:case KeyCode.NUM_ENTER:break;case KeyCode.SHIFT_LEFT:case KeyCode.SHIFT_RIGHT:this.isOnShift=!1}},_proto.keyboardDown=function(e){var t=e.keyCode;t!=KeyCode.SHIFT_LEFT&&t!=KeyCode.SHIFT_RIGHT||(this.isOnShift=!0)},_proto.UpdateHeadInfo=function(e){if(this.checkBaseAttrTip(e),external.isWebForYYY()&&Config.g_RoleLevelUp&&Config.g_RoleLevelUp--,this.lbl_level.string!=e.Level+""&&0!=Config.cur_game_type)if(3==Config.cur_game_type&&0!=Config.E_NewPlayerID&&e.Level)external.MRGameRoleUpate(Config.g_RoleName,e.Level,3);else if(4==Config.cur_game_type&&0!=Config.E_NewPlayerID&&e.Level)external.MRGameH5RoleUpate(e.Level,3);else if(7==Config.cur_game_type&&0!=Config.E_NewPlayerID&&e.Level){var t,i,n=ObjectManage.findobject(Config.playerID);if(n&&n.data){switch(t=Struct.getInstance().THumFeature(n.data.fea.buffer).btJob){case 0:t="战士";break;case 1:t="法师";break;case 2:t="道士"}i=n.skin_feature?n.skin_feature.btGender:void 0}sys.isNative&&Config.sandBoxNative?director.getScene().getComponentInChildren(NativeMsgHandle).uploadRoleInfo(Config.g_RoleName,e.Level,3,t,i):external.upLoadRoleInfoInShahe(Config.g_RoleName,e.Level,3,t,i)}else external.quicksdkuploadrole(Config.E_NewPlayerID,Config.g_RoleName,e.Level,Config.g_Server_Name);this.lbl_level.string=e.Level,this.pc_lbl_level.string=e.Level;var o=e.Exp/e.MaxExp;o<0?o=0:o>1&&(o=1);var a=370*o;this.img_exp.getComponent(UITransform).width=a,this.pc_img_exp.getComponent(UITransform).width=72*o;var r=this.lbl_exp.string.split("/")[0];(r=e.Exp-r)>0&&this.item_hint(["exp",r,1,null]);var s=e.HP/e.MaxHP;s>=1&&(s=0),s<=0&&(s=1),0==e.HP&&(s=0),this.img_hp.getComponent(UITransform).height=80*(1-s),this.pc_img_hp.getComponent(UITransform).height=80*(1-s),this.lbl_hp.string=GameUtil.makeBigNum(e.HP),this.lbl_exp.string=e.Exp+"/"+e.MaxExp,this.pc_lbl_exp.string=parseInt((e.Exp/e.MaxExp*100).toString())+"%";var l=e.MP/e.MaxMP;l>=1&&(l=0),l<=0&&(l=1),0==e.MP&&(l=0),this.img_mp.getComponent(UITransform).height=80*(1-l),this.pc_img_mp.getComponent(UITransform).height=80*(1-l),this.lbl_mp.string=GameUtil.makeBigNum(e.MP)},_proto.checkBaseAttrTip=function(e){var t,i=null==(t=Objectcontrol.self_obj)?void 0:t.m_Abil;if(e&&i){var n=e.MaxHP-i.MaxHP,o=e.MaxMP-i.MaxMP,a=e.MaxDC-i.MaxDC,r=e.MaxMC-i.MaxMC,s=e.MaxSC-i.MaxSC,l=e.MaxAC-i.MaxAC,c=e.MaxMAC-i.MaxMAC,p=e.DC-i.DC,_=e.MC-i.MC,d=e.SC-i.SC,g=e.AC-i.AC,m=e.MAC-i.MAC;this.addBaseAttrTip(n,"生命值",null),this.addBaseAttrTip(o,"魔法值",null),this.addBaseAttrTip(a,"攻击",p),this.addBaseAttrTip(r,"魔法",_),this.addBaseAttrTip(s,"道术",d),this.addBaseAttrTip(l,"防御",g),this.addBaseAttrTip(c,"魔防",m)}},_proto.addBaseAttrTip=function(e,t,i){e>0?this.item_hint([t,e,4,i>0?i:0]):i>0&&this.item_hint([t,0,4,i])},_proto.item_hint=function(e){var t=e[0],i=e[1],n=e[2],o=e[3];if(t){if(1==n){if(!Config.G_SHOW_EXP)return;var a="获得经验 "+Math.abs(i),r="#00FF00"}else if(2==n)a="技能 "+t+" 增加熟练度 "+Math.abs(i),r="#00FF00";else if(3==n)a="获得新技能; "+t,r="#00FF00";else if(4==n){var s=!0;if("生命值"==t||"魔法值"==t)a=t+"：+ "+i;else a=t+"：+ "+o+"-"+i;r="#00FF00"}else if(i>0)a="获得物品："+t.s.Name+" x"+Math.abs(i),r="#00FF00";else a="消耗物品："+t.s.Name+" *"+Math.abs(i),r="#FF0000";if(-1!=a.indexOf("<")){for(var l=a.split("<"),c="",p=0;p<l.length;p++){if(-1!=l[p].indexOf(">"))c+=l[p].split(">")[1];else c=l[p]}a=c}var _={name:null,text:a,x:0,y:0,fontSize:16,color:r,underline:null,outline:1,HAlign:null,paddingLetf:!0},d=GameUtil.addLabel(_);d.attrMode=s,this.hintTxtList.push(d),this.hintTxtList.length>7&&this.hintTxtList.shift(),this.hintTxtList.length<2&&this.makeHintRoll()}},_proto.makeHintRoll=function(){var e=this;if(this.hintTxtList.length>0){var t=this.hintTxtList[0];this.hintTXT.addChild(t),t.attrMode&&this.hintTXT1.addChild(t),tween(t).to(1.5,{position:new Vec3(0,100)}).call((function(){t.destroy()})).start(),setTimeout((function(){e.hintTxtList&&0!=e.hintTxtList.length&&(e.hintTxtList.shift(),e.makeHintRoll())}),400)}},_proto.onNewHeroCall=function(){},_proto.showTargetHead=function(e){var t=this;if(this.targethead_bg.active=e,this.hiter_name.node.parent.active=!1,e&&Config.lockingID){this.target_menu.active&&(this.target_menu.active=!1);var i=ObjectManage.findobject(Config.lockingID);if(i&&i.txt_name){var n=i.txt_name.cur_name.toLowerCase();if(i.txt_name.text)if(-1!=i.txt_name.text.indexOf("\n")){var o=i.txt_name.text.split("\n");this.target_name.string=o[o.length-1]}else this.target_name.string=i.txt_name.text;else n&&(0==n.indexOf("centerwall")?this.target_name.string="中间城墙":0==n.indexOf("leftwall")?this.target_name.string="左城墙":0==n.indexOf("maindoor")?this.target_name.string="城门":0==n.indexOf("rightwall")&&(this.target_name.string="右城墙"));var a,r="GameScene/target_mon.png";if(3==i.type){var s=Struct.getInstance().THumFeature(i.data.fea.buffer);s&&(0==s.btJob?r="GameScene/target_zs.png":1==s.btJob?r="GameScene/target_fs.png":2==s.btJob&&(r="GameScene/target_ds.png"))}resourcesMgr.resLoad(r,(function(e){t.target_job.spriteFrame=e})),i.data.level?this.target_level.string=i.data.level:this.target_level.string="???",null!=i.Blood&&null!=i.Blood.maxBlood?(this.target_hpNum.string=i.Blood?parseInt((i.Blood.curBlood/i.Blood.maxBlood*100).toString())+"%":"100%",a=i.Blood.curBlood/i.Blood.maxBlood):(this.target_hpNum.string="100%",a=1),this.target_hpBar.node.setScale(a,1)}}},_proto.updateTargetHp=function(e){var t=e[0],i=e[1];e[2];if(Config.lockingID){var n,o=ObjectManage.findobject(Config.lockingID);if(o)o.data.level&&(this.target_level.string=o.data.level),null!=i?(this.target_hpNum.string=Math.ceil(t/i*100)+"%",n=Number((t/i).toFixed(2))):(this.target_hpNum.string="100%",n=1),this.target_hpBar.node.setScale(n,1),EventMgr.raiseEvent(EventCustom.REFRESH_TARGET_HP,n)}},_proto.onBtnLock=function(){GameUtil.delhalo(Config.lockingID),ObjectManage.resetLockID(),GameUtil.resetBackupLockID(),Config.g_boMagicGood=!1},_proto.onBtnShow=function(){this.btn_list.active=!this.btn_list.active},_proto.update=function(e){if(resourcesMgr.update(),ObjectManage.update(e),frameMgr.update(e),this.self_object&&this.self_object.node){var t=this.self_object.node.getPosition();GameUtil.getMapCamera().setPosition(v3(t.x*this.maplayer.scale.x,t.y*this.maplayer.scale.y)),GameUtil.getMiniMapCamera().setPosition(v3(t.x*this.maplayer.scale.x,t.y*this.maplayer.scale.y))}},_proto.createplayer=function(e){this.self_object=ObjectManage.newobject(e),Objectcontrol.bindobj(this.self_object,this.maplayer,e.param,e.tag),ObjectManage.isStartHB=!0},_proto.onTargetMenu=function(){var e=ObjectManage.findobject(Config.lockingID);e&&e.txt_name&&Sendmessage.getInstance().sendQueryState(Config.lockingID,e.grid.x,e.grid.y)},_proto.onMenuChat=function(){var e=ObjectManage.findobject(Config.lockingID);e&&e.txt_name&&EventMgr.raiseEvent(EventCustom.SHOW_CHAT_DLG,{name:"/"+GameUtil.getPureName(e)+" ",is:!0})},_proto.onMenuFriend=function(){var e=ObjectManage.findobject(Config.lockingID);e&&e.txt_name&&Sendmessage.getInstance().FriendOpition(1,GameUtil.getPureName(e))},_proto.onMenuGuild=function(){var e=ObjectManage.findobject(Config.lockingID);e&&e.txt_name&&Sendmessage.getInstance().GuildOperate(10,GameUtil.getPureName(e))},_proto.onMenuTeam=function(){var e=ObjectManage.findobject(Config.lockingID);e&&e.txt_name&&(Config.G_Team_Grop_List.length>1?Sendmessage.getInstance().sendAddGroupMember(GameUtil.getPureName(e)):Sendmessage.getInstance().sendCreateGroup(GameUtil.getPureName(e)))},_proto.onMenuShield=function(){var e=ObjectManage.findobject(Config.lockingID);if(e&&e.txt_name){for(var t=null,i=0;i<Config.G_PRIVATE_CHAT_list.length;i++)Config.G_PRIVATE_CHAT_list[i]==GameUtil.getPureName(e)&&(t=i);null==t?Config.G_PRIVATE_CHAT_list.push(GameUtil.getPureName(e)):Config.G_PRIVATE_CHAT_list.splice(t,1)}},_proto.updatemini=function(){this.self_object&&this.self_object.grid&&EventMgr.raiseEvent(EventCustom.UPDATE_MAIN_MINI_MAP_INFO,[this.self_object.grid.x,this.self_object.grid.y]),Config.g_tick_check&&Config.g_tick_rate++},_proto.updateShowGold=function(){if(this.showGold1){var e=Number(this.showGold1.value);if(null==e)return;e>99999999?(e/=1e8,this.txt_showgold.string=parseInt(e.toString())+"亿"):e>9999?(e/=1e4,this.txt_showgold.string=parseInt(e.toString())+"万"):this.txt_showgold.string=parseInt(e.toString())}if(this.showGold2){var t=this.showGold2.value;if(null==t)return;t>99999999?(t/=1e8,this.txt_showgold1.string=parseInt(t.toString())+"亿"):t>9999?(t/=1e4,this.txt_showgold1.string=parseInt(t.toString())+"万"):this.txt_showgold1.string=parseInt(t.toString())}},_proto.setMoneyShow=function setMoneyShow(){for(var moneyObj=Config.g_GameConfigWEB.h5DIYGolds,show1=!0,i=0;i<moneyObj.length;i++){var gold=moneyObj[i];if(gold&&1==gold.topDsp){if(!show1){GameUtil.loadResLocal(gold.showUI,this.img_showgold1),this.txt_showgoldname1.string=gold.goldName+":",this.showGold2=eval("Config."+gold.varName);break}GameUtil.loadResLocal(gold.showUI,this.img_showgold),this.txt_showgoldname.string=gold.goldName+":",this.showGold1=eval("Config."+gold.varName),show1=!1}}this.updateShowGold()},_proto.updatamap=function(e){var t=e[0],i=e[1],n=e[2],o=e[3];GameUtil.g_getAtlas={},frameMgr.clear(),this.updateWindow(),Tween.stopAllByTag(1),particleMgr.removePartical(),resourcesMgr.cleanLoadList(),GameUtil.getMapLayerScript().getComponent(Sprite).spriteFrame=null,GameUtil.getMapLayerScript().clearMapImage(),GameUtil.getMapLayerScript().clearMapEveEff(),Config.open_minimap=!1,sendmessage.sendOpenMinimap(),Movemodule.stopmove(),this.self_object&&(this.self_object.is_moveing=!1),Movemodule.end_point&&(Movemodule.end_point=null),EventMgr.raiseEvent(EventCustom.DELETE_MAP_ITEMS,[1]),ItemMgr.getInstance().DelItemFromMap(),Config.attackerID=0,Config.Actionlock=!0,Config.rockerlock=!0,Config.chaseing=!1,Config.rockerfirst=!1,Config.lockingID&&GameUtil.delhalo(Config.lockingID),Config.g_cannotPick=[],Fightmodule.path_list=[];var a=this.typeH5.getChildByName("SingleRocker").getComponent(SingleRocker);a&&(a.isMove=!1,a.leaverocker());var r=this.typeH5.getChildByName("DoubleRocker").getComponent(DoubleRocker);r&&(r.isMoving=!1),GameUtil.setNodeGray(this.maplayer,!1),ObjectManage.delobject(),Objectcontrol.clearData(),Animationmodule.clearAniCacheAssets(),GameUtil.clearMapItemCacheAssets(),GameUtil.getMapLayerScript().enterMap(t,i,n,o),Config.g_loadmap=!0,this.self_object&&(this.self_object.cur_state=1,this.self_object.grid.x=i,this.self_object.grid.y=n,this.self_object.target_pos.x=i,this.self_object.target_pos.y=n,this.self_object.updateskin(null,this.self_object.cur_dir,!0)),this.updatepos()},_proto.LocationLoad=function(e){var t=e[0],i=e[1];Objectcontrol.updatepos(t,i)},_proto.updateWindow=function(){},_proto.onAutoPick=function(){Config.autohookstate||(Config.autopickstate=!0)},_proto.updateBuffInfo=function(e){if(Config.g_buffOnwerId!=e)var t=ObjectManage.findobject(Config.g_buffOnwerId);var i=ObjectManage.findobject(e);if(i&&1==i.isNewBuff){t&&(t.isNewBuff=!0),Config.g_buffOnwerId=e;var n=i.buff_list,o=Config.g_customItemAttr.GameBuff;this.buffList=[];for(var a=0;a<n.length;a++){var r=n[a],s=Math.ceil((Date.now()-i.buff_time)/1e3),l=r[1]-s;if(l>0&&o[a]){var c=o[a],p="#2aff2f";l<60&&(p="#ff2a2a");var _=parseInt((l/60).toString())+"分"+l%60+"秒";c.time=l,c.sTime=_,c.sColor=p,c.index=r[2],c.Describe=c.Describe.replace(/\%s/,r[0]),this.buffList.push(c)}}i.isNewBuff=!1,this.list_buffinfo.numItems=this.buffList.length}},_proto.buffListRender=function(e,t){var i=e.getChildByName("Node"),n=i.getChildByName("buff_ani"),o=i.getChildByName("buff_info"),a=i.getChildByName("buff_name"),r=i.getChildByName("buff_time"),s=i.getChildByName("Sprite"),l=this.buffList[t],c="data/"+Config.g_pak_list[l.FileIndex]+"/"+("000000"+l.StartIndex).slice(-6)+".png";resourcesMgr.resLoad(c,(function(e){e&&(n.getComponent(Sprite).spriteFrame=e)})),o.getComponent(Label).string=l.Describe,a.getComponent(Label).string=l.Name,r.getComponent(Label).string=l.sTime,r.time=l.time,r.getComponent(Label).color=color(l.sColor),GameUtil.loadResLocal("GameScene/auction_line.png",s.getComponent(Sprite))},_proto.buffCountDown=function(){for(var e=0;e<this.buffList.length;e++){var t=this.list_buffinfo.getItemByListId(e);if(t){var i=t.getChildByName("Node").getChildByName("buff_time");i&&i.time&&i.time>0&&(i.time--,i.getComponent(Label).string=parseInt((i.time/60).toString())+"分"+i.time%60+"秒")}}},_proto.showBuffInfo=function(e){if(e&&e.target&&e.target.name){if("btn_selfbuff"==e.target.name)var t=Config.playerID;if("btn_tarbuff"==e.target.name)t=Config.lockingID}null!=t&&(this.bg_buff.active=!0,this.updateBuffInfo(t))},_proto.closeBuff=function(){var e=ObjectManage.findobject(Config.g_buffOnwerId);e&&(e.isNewBuff=!0),this.bg_buff.active=!1,Config.g_buffOnwerId=0},_proto.updatepos=function(){if(this.self_object){var e=this.self_object.node.position,t=Math.floor(e.x/48),i=Math.floor(-e.y/32);if(t==this.lastx&&i==this.lasty||(this.canpick=!0),!this.self_object.is_die)for(var n=ItemMgr.getInstance().DropItemList,o=0;o<n.length;o++){var a=n[o].x,r=n[o].y;if(a==t&&r==i){var s=n[o].Name;if(s){for(var l=!0,c=0;c<Config.g_BagItemsList.length;c++)null==Config.g_BagItemsList[c]&&(l=!1);if(l){this.canpick&&(EventMgr.raiseEvent("show_log",[{txt:"背包已满",color:"#ff0000"}]),this.lastx=t,this.lasty=i,this.canpick=!1);break}if(this.canpick&&GameUtil.maxWeight(!0)){this.canpick=!1;break}if(gameConfig.itemCheck(s,1)&&!Config.autohookstate)n[o].show=!1,sendmessage.ClickMapItem(t,i);else if(Config.autohookstate&&gameConfig.itemCheck(s,1)){n[o].show=!1,sendmessage.ClickMapItem(t,i);var p=Date.now(),_=n[o].id;Config.g_cannotPick[_]=p}}}}var d=new mainMiniMapData;if(d.mapName=Mapdata.cur_name,d.posX=this.self_object.grid.x,d.posY=this.self_object.grid.y,ObjectManage.is_in_safezone(this.self_object.grid)?(d.isSafe=!0,EventMgr.raiseEvent(EventCustom.UPDATEPOS_SAFE,d)):(d.isSafe=!1,EventMgr.raiseEvent(EventCustom.UPDATEPOS_SAFE,d)),Movemodule.move_list&&Movemodule.move_list.length>0&&null!=Movemodule.end_point){var g=Movemodule.move_list,m=g.length,u=Movemodule.move_index;if(u<m){var f=u-Movemodule.last_move_index;Movemodule.last_move_index=u;for(c=0;c<f;c++){if(Movemodule.xunlu_list.length>0){var h=Movemodule.xunlu_list.shift();nodeMgr.putNode(h,"xunluPoint")}var y=u+15+c;if(y<m){var b=g[y].x,v=g[y].y;Movemodule.drawXunluPoint(b,v)}}}}}},_proto.onMousePC=function(e){var t=Date.now();this.location=e.getLocation();var i=e.getButton();if(i==EventMouse.BUTTON_RIGHT)this.moveType=2;else if(i==EventMouse.BUTTON_LEFT){if(this.isOnShift){Movemodule.stopmove();var n=this.getMousePointDir(),o=Objectcontrol.self_obj;return o&&o.cur_dir!=n&&(o.changestate(null,1,n,!0),Sendmessage.getInstance().ChangDir(o.grid.x,o.grid.y,n),o.cur_dir=n),void Objectcontrol.storm()}if(ObjectManage.clickNPC(1,this.location))return t-this.lastClickTime<200&&this.doubleClick(e.getUILocation()),void(this.lastClickTime=t);this.moveType=1}this.schedule(this.onMouseControl,.01),this.closeTargetMenu()},_proto.getMousePointDir=function(){var e=View.instance.getCanvasSize(),t=new Vec2(e.width/2,e.height/2),i=Math.atan2(t.y-this.location.y,this.location.x-t.x);return GameUtil.getMoveDirNumberByAngle(GameUtil.getAngleByRadian(i))},_proto.onMouseMove=function(e){this.location=e.getLocation()},_proto.onMouseUp=function(){this.unschedule(this.onMouseControl)},_proto.onMouseControl=function(){var e=this.getMousePointDir();Objectcontrol.objectmove({dir:e,state:this.moveType}),Fightmodule.leavefight(),Movemodule.stopmove(),Movemodule.end_point=null},_proto.onMousedown=function(e){var t=Date.now(),i=e.getLocation(),n=e.getUILocation();this.check_click(i,n,t)},_proto.check_click=function(e,t,i){var n=this,o=Date.now();o-i>600||o-i<200&&(this.clickTime++,setTimeout((function(){1==n.clickTime?n.click(e):2==n.clickTime&&n.doubleClick(t),n.clickTime=0}),200))},_proto.doubleClick=function(e){Config.activate_ok||(Vec2.distance(e,v2(GameUtil.getGameSize().width,0))<215||ObjectManage.clickNPC(2,e))},_proto.click=function(e){if(Config.autopickstate&&(Config.autopickstate=!1),!(Vec2.distance(e,v2(GameUtil.getGameSize().width,0))<215)){var t=GameUtil.getMapCamera().getComponent(Camera).screenToWorld(v3(e.x,e.y,0)),i=GameUtil.getGameSize(),n=v3(t.x-i.x/2,t.y-i.y/2,0),o=GameUtil.findNodeByRes("Canvas");n.x=n.x/(o.scale.x*this.maplayer.scale.x),n.y=n.y/(o.scale.y*this.maplayer.scale.y);var a=v2(Math.round(n.x/48),-Math.round(n.y/32)),r=ObjectManage.findobject(Config.playerID),s=GameUtil.getMapLayerNode().getChildByName("openimage");if(s&&s.destroy(),Config.activate_ok&&r)GameUtil.judgeMagicMp(Config.activate_ok,r)?(Config.activate_skilluse=Config.activate_ok.Def.btEffect,Config.activate_skilltype=Config.activate_ok.Def.wMagicId,Config.activate_skillpos=a,Objectcontrol.useskill(Config.activate_ok.Def.btEffect,Config.activate_ok.Def.wMagicId,a,Config.activate_ok.Level)):EventMgr.raiseEvent("show_log",[{txt:"魔法不足",color:"#ff0000"}]);else if(Config.g_myHero&&Config.g_HeroGuardOn)sendmessage.heroGuard(a),Config.g_HeroGuardOn=!1,Animationmodule.playframe(!1,GameUtil.getMapLayerNode(1),"Animation/mouse_click/",1,9,100,!1,!0,n);else if(!ObjectManage.clickNPC(1,e,n)){if(EventMgr.raiseEvent("close_target_menu"),Config.Actionlock)return;if(r&&1==r.paralysis_state){var l=GameUtil.checkParalysisM2(PARALYSISACTIVE_Type.WALK),c=GameUtil.checkParalysisM2(PARALYSISACTIVE_Type.RUN);if(0==l||0==c)return}if(null!=this.lastClickAnim&&Animationmodule.removeAni(this.lastClickAnim),Animationmodule.removeAniname("mousefloor"),this.lastClickAnim=Animationmodule.playframe(!1,GameUtil.getMapLayerNode(1),"Animation/mouse_click/",1,9,100,!1,!0,n),this.lastClickAnim&&(this.lastClickAnim.name="mousefloor"),dropItemMgr.is_has_item){if(Config.g_boCobWeb){Config.g_Move_Type=1;var p=GameUtil.getorientation(r.grid,a);Objectcontrol.objectmove({dir:p,state:Config.g_Move_Type})}else Objectcontrol.self_obj.lastMoveTarget=dropItemMgr.pos,Objectcontrol.objectmove(null,dropItemMgr.pos);dropItemMgr.is_has_item=!1}else if(!Config.GlobalCfglist.banCkilcMove)if(Config.g_boCobWeb){Config.g_Move_Type=1;p=GameUtil.getorientation(r.grid,a);Objectcontrol.objectmove({dir:p,state:Config.g_Move_Type})}else Objectcontrol.self_obj.lastMoveTarget=a,Objectcontrol.objectmove(null,a)}}},_proto.onActorAtt=function(e){if(Fightmodule.leavefight(),Movemodule.stopmove(),Objectcontrol.fight(),1==e.type){var t=Date.now();0==Config.attack_lock_time?Config.attack_lock_time=t:t-Config.attack_lock_time<300?(Config.attack_lock_time=t,Config.attack_lock_state=!0):t-Config.attack_lock_time>1e3&&(Config.attack_lock_time=t,Config.attack_lock_state=!1)}else{var i=ObjectManage.findobject(Config.playerID),n=Config.g_SetupMagicList[12];if(n&&i)if(GameUtil.israngeskill(n.Def.btEffect))if(Config.activate_ok&&Config.activate_ok.Def.btEffect==n.Def.btEffect&&Config.activate_ok.Def.wMagicId==n.Def.wMagicId)Config.activate_ok=null,EventMgr.raiseEvent("show_log",[{txt:"技能已取消！",color:"#ff0000"}]),Animationmodule.removeAniname("skilllockani");else EventMgr.raiseEvent("show_log",[{txt:"点击选择释放的区域！",color:"#ff0000"}]),Config.activate_ok=n,Animationmodule.removeAniname("skilllockani"),Animationmodule.playframe(!1,e.target,"Animation/mouse_click/",41,52,100,!0,!1,v3(-12,-15)).name="skilllockani";else i.m_Abil.MP>=n.Def.wSpell+n.Def.btDefSpell?(Objectcontrol.useskill(n.Def.btEffect,n.Def.wMagicId),Config.activate_skilluse=n.Def.btEffect,Config.activate_skilltype=n.Def.wMagicId):EventMgr.raiseEvent("show_log",[{txt:"魔法不足",color:"#ff0000"}])}},_proto.roledie=function(){this.self_object.obj_blood.getComponent(CBlood).hideDangerMask(),GameUtil.setNodeGray(this.maplayer,!0),0!=Config.lockingID&&GameUtil.delhalo(Config.lockingID),Config.roledielock=!0},_proto.rolealive=function(){GameUtil.setNodeGray(this.maplayer,!1),Config.roledielock=!1},_proto.showGameLog=function(e){var t=this;if(this.lay_GameLog.setSiblingIndex(Config.CurScene.node.children.length-2),0!=Config.g_GameInitFinish){var i=null;this._poolGameLog.size()>0?i=this._poolGameLog.get():((i=new Node("Lab")).layer=Layers.Enum.UI_2D,i.addComponent(Label).string=e[0].txt),null==e[0].color&&(e[0].color="#00ff00"),i.getComponent(Label).string=e[0].txt,i.getComponent(Label).color=new Color(e[0].color),i.getComponent(Label).fontSize=18,i.getComponent(Label).lineHeight=18,i.setParent(this.lay_GameLog),setTimeout((function(){t._poolGameLog.put(i)}),1e3)}},_proto.switchSingleOrDoubleRocker=function(e,t){var i=this.typeH5.getChildByName("SingleRocker"),n=this.typeH5.getChildByName("DoubleRocker");i.active=e?!Config.GlobalCfglist.doubleRocker:!Config.GlobalCfglist.doubleRockerLoaction,n.active=!i.active,n.active&&EventMgr.raiseEvent(EventCustom.UPDATEROCKER)},_proto.onClickHint=function(){},_proto.onAutoFight=function(){this.onhook("3")},_proto.updateCallInfo=function(){GameUtil.findNodeByRes("Canvas/UIMain/panel_node/Mask").active=!0,this.schedule(this.showSummonHeroCDHandle,.05)},_proto.showSummonHeroCDHandle=function(){var e=GameUtil.findNodeByRes("Canvas/UIMain/panel_node/Mask");e.getChildByName("bg").getComponent(Sprite).fillRange-=.025,this._getTime-=.05,e.getChildByName("Label").getComponent(Label).string=this._getTime.toFixed(1),e.getChildByName("bg").getComponent(Sprite).fillRange<=0&&(this._getTime=2,e.active=!1,e.getChildByName("bg").getComponent(Sprite).fillRange=1,e.getChildByName("Label").getComponent(Label).string="2",this.unschedule(this.showSummonHeroCDHandle))},_proto.ShowDrug_Items=function(){for(var e=0;e<this.Drug_bg.children.length;e++){var t=this.Drug_bg.children[e],i=parseInt(t.name.substr(-1));if(i<Config.g_DrugItemsList.length){if(null!=Config.g_DrugItemsList[i]&&this.GetTypeCount(Config.g_DrugItemsList[i])<=0){Config.g_DrugItemsList[i]=null;continue}this.createDragItemNode(t,i)}}},_proto.showDrugInfo=function(e){var t=e.target.parent;if(t){var i=parseInt(t.name.substr(-1));Config.g_DrugItemsList[i]&&(Config.g_pcMousePoint=e.getUILocation()),EventMgr.raiseEvent(EventCustom.OPEN_NEW_ITEM_INFO,[Config.g_DrugItemsList[i]])}},_proto.createDragItemNode=function(e,t){var i={itemsData:Config.g_DrugItemsList,selectIndex:void 0,hasBgFrame:!1,maxUnlockCount:void 0,itemType:e_DragItem_Type.shortcutBar},n=e.children[0];n||(DragItem.dragItemType=e_DragItem_Type.shortcutBar,n=instantiate(this.dragItemPre),e.addChild(n),n.on(NodeEventType.TOUCH_END,this.noDrug_Click.bind(this,t),this),Config.g_isOnWindows&&(n.on(NodeEventType.MOUSE_ENTER,this.showDrugInfo,this),n.on(NodeEventType.MOUSE_LEAVE,(function(){EventMgr.raiseEvent(EventCustom.CLOSE_NEW_ITEM_INFO)}),this)),n.setPosition(0,0)),n.getComponent(DragItem).showItemUI(i,t)},_proto.GetTypeCount=function(e){for(var t=0,i=0;i<Config.g_BagItemsList.length;i++){var n=Config.g_BagItemsList[i];null!=n&&n.s.StdMode==e.s.StdMode&&n.s.AniCount==e.s.AniCount&&n.s.Shape==e.s.Shape&&n.s.AC==e.s.AC&&n.s.MAC==e.s.MAC&&(0==e.s.StdMode&&5==e.s.Source&&e.DuraMax>0?t+=Config.g_BagItemsList[i].Dura:2!=e.s.StdMode||5!=e.s.Shape&&3!=e.s.Shape?t+=1:t+=Math.ceil(Config.g_BagItemsList[i].Dura/1e3))}return t},_proto.noDrug_Click=function(e,t){if(!(Date.now()-this.lastDrugTime<1e3)&&(this.lastDrugTime=Date.now(),e<Config.g_DrugItemsList.length))if(null!=Config.g_DrugItemsList[e]){var i=Date.now();Config.CanUserItem&&i-this.drugItemTime>=1e3&&(Config.g_setDrugNumber=e,GameUtil.delBagItemByName(Config.g_DrugItemsList[e].s.Name),this.drugItemTime=i,Config.CanUserItem=!1)}else Config.g_setDrugNumber=e,GameApi.showScreen(!0,0,2)},_proto.removeDrugByIndex=function(e){this.Drug_bg&&this.Drug_bg._childs[e]&&this.Drug_bg.removeChildAt(e)},_proto.onChangeAttMode=function(e){var t=e.target.name;this.panel_att_type.active=!1;var i=-1;switch(t){case"atttype_all":i=0;break;case"atttype_peace":i=1;break;case"atttype_couple":i=2;break;case"atttype_mentor":i=3;break;case"atttype_team":i=4;break;case"atttype_guild":i=5;break;case"atttype_red":i=6}i>=0&&Sendmessage.getInstance().SendChageAttackMode(i)},_proto.onShowAttMode=function(){sendmessage.changeAttackMode()},_proto.UpdateAttMode=function(e){var t=this,i="";switch(e){case 0:i="GameScene/gxx/atttype_all.png",Config.G_att_type="[全体攻击]";break;case 1:i="GameScene/gxx/atttype_peace 1.png",Config.G_att_type="[和平攻击]";break;case 2:i="GameScene/gxx/atttype_couple.png",Config.G_att_type="[夫妻攻击]";break;case 3:i="GameScene/gxx/atttype_mentor.png",Config.G_att_type="[师徒攻击]";break;case 4:i="GameScene/gxx/atttype_team.png",Config.G_att_type="[组队攻击]";break;case 5:i="GameScene/gxx/atttype_guild.png",Config.G_att_type="[行会攻击]";break;case 6:i="GameScene/gxx/atttype_red.png",Config.G_att_type="[红名攻击]"}""!=i&&resourcesMgr.resLoad(i,(function(e){t.lbl_att_type&&(t.lbl_att_type.spriteFrame=e)}))},_proto.onhook=function(e){var t=Date.now();if((!Config.roledielock||Config.autohookstate)&&e&&t-this.guajitime>300)if(this.guajitime=t,GameUtil.delhalo(Config.lockingID),Movemodule.stopmove(),Config.autohookstate="3"==e?!Config.autohookstate:"1"==e,Config.autohookstate)Objectcontrol.self_obj&&Objectcontrol.self_obj.obj_hores.active&&Sendmessage.getInstance().sendSay("@下马"),Movemodule.end_point&&(Movemodule.end_point=null),"3"==e&&EventMgr.raiseEvent(EventCustom.ONHOOK,"1"),this.hookAniControl(1);else{Config.chaseing=!1,Fightmodule.path_list=[],"3"==e&&EventMgr.raiseEvent(EventCustom.ONHOOK,"0");var i=Animationmodule.getAni(this.UIBox,"autohook");i&&(i.node.active=!1);var n=Animationmodule.getAni(this.btn_autohook,"autohook_btn");n&&(n.node.active=!1);var o=Animationmodule.getAni(this.pc_hook,"autohook_btnpc");o&&(o.node.active=!1)}},_proto.stopHook=function(){this.hookAniControl(0)},_proto.hookAniControl=function(e){if(0==e){var t=Animationmodule.getAni(this.UIBox,"autohook");t&&(t.ani.stop(),t.node.active=!1);var i=Animationmodule.getAni(this.btn_autohook,"autohook_btn");i&&(i.ani.stop(),i.node.active=!1);var n=Animationmodule.getAni(this.pc_hook,"autohook_btnpc");n&&(n.ani.stop(),n.node.active=!1)}else{var o=Animationmodule.getAni(this.UIBox,"autohook");null==o?(o=Animationmodule.playframe(!1,this.UIBox,"Animation/autohook/",1,10,100,!0,!1,v3(0,-115))).name="autohook":(o.node.active=!0,o.ani.play());var a=Animationmodule.getAni(this.btn_autohook,"autohook_btn");null==a?(a=Animationmodule.playframe(!1,this.btn_autohook,"Animation/autohook/",12,21,100,!0,!1)).name="autohook_btn":(a.node.active=!0,a.ani.play());var r=Animationmodule.getAni(this.pc_hook,"autohook_btnpc");null==r?(r=Animationmodule.playframe(!1,this.pc_hook,"Animation/autohook/",12,21,100,!0,!1)).name="autohook_btnpc":(r.node.active=!0,r.ani.play())}},_proto.showTargetMenu=function(){if(Config.lockingID){var e=ObjectManage.findobject(Config.lockingID);if(e&&3==e.type&&e.txt_name){var t=e.txt_name.text;if(-1!=e.txt_name.text.indexOf("\n")){var i=e.txt_name.text.split("\n");t=i[i.length-1]}e.txt_name.text&&(this.target_menu_name.string=t),this.menu_shield.getComponentInChildren(Label).string="屏敝发言";for(var n=0;n<Config.G_PRIVATE_CHAT_list.length;n++)Config.G_PRIVATE_CHAT_list[n]==this.target_menu_name.string&&(this.menu_shield.getComponentInChildren(Label).string="解除发言");this.target_menu.active=!0}}},_proto.heroGuard=function(){Config.g_myHero&&(uiControl.handlerAlert({type:1,content:"点击选择英雄守护的区域！"}),Config.g_HeroGuardOn=!0)},_proto.heroLock=function(){if(Config.lockingID&&Config.g_myHero){var e=ObjectManage.findobject(Config.lockingID);Sendmessage.getInstance().HeroLock(Config.lockingID,e.grid,Config.g_HeroLockType),Config.g_HeroLockType?Config.g_HeroLockType=0:Config.g_HeroLockType=1}},_proto.restHero=function(){Sendmessage.getInstance().sendSay("@RestHero")},_proto.onPcSkill=function(){EventMgr.raiseEvent(EventCustom.ADD_SETSKILL_PREF)},_proto.onPcAuction=function(){var e=this.UIBox.getChildByName("AuctionhouseWin");e?e&&1==e.active&&EventMgr.raiseEvent(EventCustom.CLOSEAUCTIONHOUSEWIN):EventMgr.raiseEvent(EventCustom.OPENAUCTIONWIN)},_proto.getEventBtn=function(){var e=[this.btn_vip,this.bnt_game_fl,this.bnt_bysc,this.bnt_game_hd,this.bnt_shop,this.btn_rank_list,this.bnt_chongzi,this.bnt_new_user,this.btn_recharge_reward,this.onLine];e.forEach((function(e,t){e.active=!1})),e[4].active=!0;for(var t=0;t<Config.g_eventBtn.length;t++)0===Config.g_eventBtn[t]?e[t].active=!1:e[t].active=!0},_proto.getOtherBtn=function(){this.btn_other1.active=!1,this.btn_other2.active=!1,this.btn_other3.active=!1,this.btn_other4.active=!1,this.btn_other5.active=!1},_proto.getFunBtn=function(){var e=Config.g_GameConfigWEB.funActivity.fun,t=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/markBtnList/btn_btnList/btn_jiaoyi"),i=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/markBtnList/btn_btnList/btn_hanghui"),n=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/markBtnList/btn_btnList/btn_set"),o=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/markBtnList/btn_btnList/btn_baitan"),a=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/markBtnList/btn_btnList/btn_mail");t.active=e.jiaoYi,i.active=e.hangHui,n.active=e.sheZhi,o.active=e.baiTan,a.active=e.zhaoMu;var r=a.parent;GameUtil.findNodeByRes("Canvas/UIMain/typeH5/funBtn/LayoutNode/btn_get_item").active=!0,a.active=!1;for(var s=function(){if(0==(c=Config.g_GameConfigWEB.h5NEWButtons[l]).dsp)return"continue";var e=new Node;r.addChild(e),e.layer=Layers.Enum.UI_2D;var t=e.addComponent(Button);t.transition=Button.Transition.SCALE,t.zoomScale=.9,t.duration=.1;var i=e.getComponent(UITransform);i.width=53,i.height=53;var n=e.addComponent(Sprite);n.sizeMode=Sprite.SizeMode.CUSTOM,GameUtil.loadResLocal(c.picPath,n);var o=c.cmd;e.on(Node.EventType.TOUCH_END,(function(){sendmessage.SendQFCMD(o)}))},l=0;l<Config.g_GameConfigWEB.h5NEWButtons.length;l++){var c;s()}var p=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/funBtn/LayoutNode/btn_get_item");p&&(p.active=e.qiMa)},_proto.horseRiding=function(){var e=ObjectManage.findobject(Config.playerID);e&&!Config.autohookstate&&(e.obj_hores.active?sendmessage.sendSay("@下马"):sendmessage.sendSay("@骑马"))},_proto.otherBtnHandler=function(e){var t=[e[0],e[1],e[2]],i=t[1],n=t[2],o=t[0]-10,a=[this.btn_other1,this.btn_other2,this.btn_other3,this.btn_other4,this.btn_other5][o];if(a)if(0==n){var r,s=Animationmodule.getAni(a,a.name);if(i&&!s){switch(o){case 0:r="otherActivity";break;case 1:r="otherRedPack";break;case 2:r="otherChongzhi";break;case 3:r="otherBoss";break;case 4:r="otherSummon"}(s="otherBoss"==r?Animationmodule.playframe(!1,a,"Animation/halo/"+r+"/",0,8,100,!0,!1):Animationmodule.playframe(!1,a,"Animation/"+r+"/",0,8,100,!0,!1,null,this,(function(){}))).node.name="btn_halo"}else!i&&s&&Animationmodule.removeAni(s)}else 1==n&&(a.active=1==i)},_proto.showTopEffect=function(e){var t=e[0],i=e[1],n=e[2],o=[this.btn_vip,this.bnt_game_fl,this.bnt_bysc,this.bnt_game_hd,this.bnt_shop,this.btn_rank_list,this.bnt_chongzi,this.bnt_new_user,this.btn_recharge_reward,this.onLine];if(o[t]){if(0==n){var a=Animationmodule.getAni(o[t],o[t].name);i&&!a?((a=Animationmodule.playframe(!1,o[t],"Animation/halo/",0,7,100,!0,!1)).name=o[t].name,a.ani.play()):!i&&a&&(a.ani.stop(),Animationmodule.removeAni(a))}else 1==n&&(o[t].active=1==i);for(var r=0;r<o.length;r++)o[r]&&o[r].visible}},_proto.onFunBtn=function(e){var t=e.target.name.toString();Sendmessage.getInstance().SendGameMainBtnMsg(Config.g_GameMainBtnResList[t])},_proto.onClickBtnNewHeroHandle=function(){var e=(new Date).getTime();e-this._openTime>=500&&(console.log("请求英雄列表"),Sendmessage.getInstance().sendHeroList(),this._openTime=e)},_proto.evtMgrGetHeroListHandle=function(e){if(this.autoGetNewHero){for(var t=0;t<e.length;t++){if(1==e[t].battleStatus){console.log("有上阵武将"),Config.isSummon=HEROSUMMON_Type.NOSTAGE;break}console.log("没上阵武将"),Config.isSummon=HEROSUMMON_Type.NOHERO}this.autoGetNewHero=!1}else null==this._newHero?(this._newHero=instantiate(this.pref_NewHero),this._newHero.setParent(this.UIBox),this._newHero.active=!0,this._newHero.getComponent("NewHero").registerEvents()):(this._newHero.active=!0,this._newHero.setPosition(v3(-100,0))),this._newHero.active&&this._newHero.getComponent("NewHero").updateView(e)},_proto.getNewHeroListHandle=function(){this.scheduleOnce((function(){console.log("获取武将列表"),Sendmessage.getInstance().sendHeroList()}),1)},_proto.evtMgrHeroFightOnOffHandle=function(e){var t=Config.CurScene.UIMain.getChildByName("panel_node").getChildByName("herocall_btn").getChildByName("Label");Config.isSummon==HEROSUMMON_Type.ONSTAGE?(t.getComponent(Label).string="召唤",Config.isSummon=HEROSUMMON_Type.NOSTAGE):Config.isSummon==HEROSUMMON_Type.NOSTAGE&&(t.getComponent(Label).string="召回",Config.isSummon=HEROSUMMON_Type.ONSTAGE)},_proto.evtMgrHeroCreateHandle=function(){this.getNewHeroListHandle()},_proto.evtMgrUpdatePowerNum=function(e){null==e&&null==e||(this.lbl_fightPower.getComponent(Label).string=e+"")},_proto.updateDelayTime=function(e){null!=this.delayLab&&(e<200&&(this.delayLab.color=Color.GREEN),e>=200&&e<500&&(this.delayLab.color=Color.YELLOW),e>500&&(this.delayLab.color=Color.RED),this.delayLab.string=e+"ms")},_proto.dragItemHandle=function(e){if(Config.g_canReceiveDrag=!1,this.dragLayer){Config.g_dragItemData=e,this.dragLayer.active=!0;var t=this.dragLayer.children[0];t.active=!0,Config.MainScene.touchStartSetIndex(this.dragLayer),t&&(t.setPosition(e.itemPos.x,e.itemPos.y),t.getComponent(Sprite).spriteFrame=e.skinRes);var i=Config.g_dragItemData.itemData.length>0?Config.g_dragItemData.itemData[e.indexInList]:Config.g_dragItemData.itemData;GameUtil.loadImg(i.s.Looks,"items",(function(e){t.getComponent(Sprite).spriteFrame=e.imgUrl})),Config.cur_use_app?(this.dragLayer.on(NodeEventType.TOUCH_MOVE,this.dragItemMoveHandle,this),this.dragLayer.on(NodeEventType.TOUCH_END,this.clearDragItem,this)):(this.dragLayer.on(NodeEventType.MOUSE_MOVE,this.dragItemMoveHandle,this),this.dragLayer.on(NodeEventType.MOUSE_UP,this.clearDragItem,this))}},_proto.dragItemMoveHandle=function(e){if(this.dragLayer){var t=this.dragLayer.children[0];if(t&&"dragItem"==t.name){var i=Config.g_isOnWindows?e.getUILocation().multiplyScalar(10/7):e.getUILocation();t.setPosition(i.x,i.y)}}},_proto.playMapMusic=function(){setTimeout((function(){if(audioManager.instance.stopAll(),null!=Mapdata&&""!=Mapdata.cur_music&&null!=Mapdata.cur_music){var e=Mapdata.cur_music;audioManager.instance.playMusic(e)}Config.selfPlayerTransfer&&(Config.selfPlayerTransfer=null,GameUtil.playMusicFormat("wav/110.wav"))}),20)},_proto.clearDragItem=function(e){Config.g_canReceiveDrag=!0,Config.cur_use_app?(this.dragLayer.off(NodeEventType.TOUCH_MOVE,this.dragItemMoveHandle,this),this.dragLayer.off(NodeEventType.TOUCH_END,this.clearDragItem,this)):(this.dragLayer.off(NodeEventType.MOUSE_MOVE,this.dragItemMoveHandle,this),this.dragLayer.off(NodeEventType.MOUSE_UP,this.clearDragItem,this)),this.dragLayer.children[0].getComponent(Sprite).spriteFrame=null,Config.g_dragOnItem=!1;var t=e.getUILocation();if(Config.g_dragItemData&&(Config.cur_use_app||2==Config.g_Termial)){var i=Config.g_dragItemData.dragItemType;null!=i&&null!=i&&EventMgr.raiseEvent(DragItem.getListeningNameByItemType(i),t);for(var n=0;n<9;n++)i!=n&&EventMgr.raiseEvent(DragItem.getListeningNameByItemType(n),t)}this.checkDropItemHandler(t)},_proto.checkDropItemHandler=function(e){if(Config.g_dragItemData)switch(Config.g_dragItemData.dragItemType){case e_DragItem_Type.bagItem:var t=find("Canvas/UIBox/BagWin");if(t)if(GameUtil.hitArea(e,t))GameUtil.hitArea(e,t.getComponent(BagWin).itemsLayout)||this.dragRestore();else if(this.checkHitOtherView(e));else{Config.g_canReceiveDrag=!1,EventMgr.raiseEvent(EventCustom.CLOSE_NEW_ITEM_INFO);var i={type:2,content:"你确定要丢弃物品吗？",sF:function(){EventMgr.raiseEvent("throwOnTheGround",Config.g_dragItemData.itemData),Config.g_OpenBag&&EventMgr.raiseEvent("showItemExceptBgFrame",!0)},cF:function(){Config.g_OpenBag&&EventMgr.raiseEvent("showItemExceptBgFrame")}};uiControl.handlerAlert(i)}}else this.dragRestore()},_proto.dragRestore=function(){Config.g_canReceiveDrag=!1,EventMgr.raiseEvent("showItemExceptBgFrame")},_proto.checkHitOtherView=function(e){var t=!1,i=find("Canvas/UIBox/HumWin");if(i&&(t=GameUtil.hitArea(e,i)),!t){var n=find("Canvas/UIBox/warehouseBg");n&&(t=GameUtil.hitArea(e,n))}if(!t){var o=find("Canvas/UIBox/MakeDeal");o&&(t=GameUtil.hitArea(e,o))}if(t||(t=GameUtil.hitArea(e,this.Drug_bg)),!t){var a=find("Canvas/UIBox/publicLayoutNode/NewNpcWin");a&&(t=GameUtil.hitArea(e,a))}if(!t){var r=find("Canvas/UIBox/ShouShiWin");r&&(t=GameUtil.hitArea(e,r))}if(!t){var s=find("Canvas/UIBox/ShousWin");s&&(t=GameUtil.hitArea(e,s))}return t},_proto.onClickCleanUI=function(){var e=this;this.is_cls=!this.is_cls,this.is_cls?(resourcesMgr.handleLoad("GameScene/head_hide.png",(function(t){t&&e.cleanUIBtn&&(e.cleanUIBtn.spriteFrame=t)})),EventMgr.raiseEvent(EventCustom.HEAD_SHOW)):resourcesMgr.handleLoad("GameScene/head_show.png",(function(t){t&&e.cleanUIBtn&&(e.cleanUIBtn.spriteFrame=t)}));var t=GameUtil.findNodeByRes("Canvas/UIMain/role_head"),i=GameUtil.findNodeByRes("Canvas/UIMain/panel_node"),n=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/chat_node"),o=GameUtil.findNodeByRes("Canvas/UIMain/MainTopMiniMap"),a=GameUtil.findNodeByRes("Canvas/UIMain/MainHeroItem"),r=GameUtil.findNodeByRes("Canvas/UIMain/typeH5/funBtn"),s=GameUtil.findNodeByRes("Canvas/UIMain/RankButton");t.active=this.is_cls,i.active=this.is_cls,n.active=this.is_cls,o.active=this.is_cls,r.active=this.is_cls,this.lbl_att_type.node.active=this.is_cls,a.active=this.is_cls,s.active=this.is_cls},_proto.disconnectionAniCrl=function(e){1==e?(this.disconnection.active=!0,this.disconnectionAni.ani.play()):(this.disconnectionAni.ani.stop(),this.disconnection.active=!1)},_proto.updateBagHint=function(){var e=Config.g_BagItemsList;if(e){var t,i=e.length;if(t=!0,null==e[i-1]||null==e[i-1])t=!1;else for(var n=0;n<i;n++)if(null==e[n]||null==e[n]){t=!1;break}var o=this.btn_bag0.node.children[0];o&&(o.active=t)}},_proto.onClickHeroattBtn=function(){if(Config.g_myHero&&Config.lockingID){var e=GameUtil.findNodeByRes("Canvas/UIMain/MainHeroItem/OpenNode/herohead_bg/LayoutNode/PowerProgressBar");Animationmodule.getAni(e,"poweMax")&&this.heroLock(),sendmessage.sendHeroAtk()}},_proto.updateHiter=function(e){var t=e[0],i=e[1];if(""!=i){var n=ObjectManage.findobject(t);n&&this.target_name.string==n.txt_name.text?(this.hiter_name.node.parent.active=!0,this.hiter_name.string!="归属("+i+")"&&(this.hiter_name.string="归属("+i+")",this.hiter_name.updateRenderData(!0),this.hiterBG.getComponent(UITransform).width=this.hiter_name.node.getComponent(UITransform).width+5)):this.hiter_name.node.parent.active=!1}else this.hiter_name.node.parent.active=!1},_proto.evtMgrLoadMainskillPrefHandle=function(){var e=this;console.log("通知可以加载技能快捷键预制体了");this.markMainSKill.getChildByName("MainSkill")||resourcesMgr.handleLoad("prefab/SetSkill/MainSkill.prefab",(function(t){if(t){var i=instantiate(t);i.setParent(e.markMainSKill),i.setPosition(v3(-180)),e.changeView()}}))},GameScene}(Component),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"maplayer",[_dec2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"objectRole",[_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"aniPrefab",[_dec4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4=_applyDecoratedDescriptor(_class2.prototype,"UIMain",[_dec5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5=_applyDecoratedDescriptor(_class2.prototype,"UIBox",[_dec6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6=_applyDecoratedDescriptor(_class2.prototype,"lay_GameLog",[_dec7],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor7=_applyDecoratedDescriptor(_class2.prototype,"markBtnList",[_dec8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor8=_applyDecoratedDescriptor(_class2.prototype,"markMainSKill",[_dec9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor9=_applyDecoratedDescriptor(_class2.prototype,"headinfo_img",[_dec10],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor10=_applyDecoratedDescriptor(_class2.prototype,"btn_bag0",[_dec11],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor11=_applyDecoratedDescriptor(_class2.prototype,"bnt_role",[_dec12],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor12=_applyDecoratedDescriptor(_class2.prototype,"hint_bg",[_dec13],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor13=_applyDecoratedDescriptor(_class2.prototype,"img_showgold",[_dec14],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor14=_applyDecoratedDescriptor(_class2.prototype,"txt_showgoldname",[_dec15],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor15=_applyDecoratedDescriptor(_class2.prototype,"txt_showgold",[_dec16],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor16=_applyDecoratedDescriptor(_class2.prototype,"img_showgold1",[_dec17],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor17=_applyDecoratedDescriptor(_class2.prototype,"txt_showgoldname1",[_dec18],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor18=_applyDecoratedDescriptor(_class2.prototype,"txt_showgold1",[_dec19],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor19=_applyDecoratedDescriptor(_class2.prototype,"targethead_bg",[_dec20],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor20=_applyDecoratedDescriptor(_class2.prototype,"target_hpBar",[_dec21],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor21=_applyDecoratedDescriptor(_class2.prototype,"target_job",[_dec22],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor22=_applyDecoratedDescriptor(_class2.prototype,"target_hpNum",[_dec23],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor23=_applyDecoratedDescriptor(_class2.prototype,"target_name",[_dec24],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor24=_applyDecoratedDescriptor(_class2.prototype,"target_level",[_dec25],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor25=_applyDecoratedDescriptor(_class2.prototype,"target_menu",[_dec26],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor26=_applyDecoratedDescriptor(_class2.prototype,"target_menu_name",[_dec27],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor27=_applyDecoratedDescriptor(_class2.prototype,"hiter_name",[_dec28],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor28=_applyDecoratedDescriptor(_class2.prototype,"hiterBG",[_dec29],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor29=_applyDecoratedDescriptor(_class2.prototype,"bg_buff",[_dec30],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor30=_applyDecoratedDescriptor(_class2.prototype,"list_buffinfo",[_dec31],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor31=_applyDecoratedDescriptor(_class2.prototype,"lbl_level",[_dec32],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor32=_applyDecoratedDescriptor(_class2.prototype,"lbl_hp",[_dec33],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor33=_applyDecoratedDescriptor(_class2.prototype,"lbl_mp",[_dec34],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor34=_applyDecoratedDescriptor(_class2.prototype,"lbl_exp",[_dec35],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor35=_applyDecoratedDescriptor(_class2.prototype,"img_hp",[_dec36],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor36=_applyDecoratedDescriptor(_class2.prototype,"img_mp",[_dec37],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor37=_applyDecoratedDescriptor(_class2.prototype,"img_exp",[_dec38],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor38=_applyDecoratedDescriptor(_class2.prototype,"delayLab",[_dec39],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor39=_applyDecoratedDescriptor(_class2.prototype,"btn_list",[_dec40],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor40=_applyDecoratedDescriptor(_class2.prototype,"auto_pick",[_dec41],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor41=_applyDecoratedDescriptor(_class2.prototype,"btn_lock",[_dec42],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor42=_applyDecoratedDescriptor(_class2.prototype,"Drug_bg",[_dec43],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor43=_applyDecoratedDescriptor(_class2.prototype,"SimpleScreen",[_dec44],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor44=_applyDecoratedDescriptor(_class2.prototype,"panel_task",[_dec45],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor45=_applyDecoratedDescriptor(_class2.prototype,"lbl_att_type",[_dec46],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor46=_applyDecoratedDescriptor(_class2.prototype,"panel_att_type",[_dec47],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor47=_applyDecoratedDescriptor(_class2.prototype,"btn_autohook",[_dec48],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor48=_applyDecoratedDescriptor(_class2.prototype,"menu_shield",[_dec49],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor49=_applyDecoratedDescriptor(_class2.prototype,"herostate_btn",[_dec50],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor50=_applyDecoratedDescriptor(_class2.prototype,"btn_vip",[_dec51],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor51=_applyDecoratedDescriptor(_class2.prototype,"btn_rank_list",[_dec52],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor52=_applyDecoratedDescriptor(_class2.prototype,"bnt_shop",[_dec53],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor53=_applyDecoratedDescriptor(_class2.prototype,"bnt_chongzi",[_dec54],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor54=_applyDecoratedDescriptor(_class2.prototype,"bnt_bysc",[_dec55],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor55=_applyDecoratedDescriptor(_class2.prototype,"bnt_game_fl",[_dec56],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor56=_applyDecoratedDescriptor(_class2.prototype,"bnt_game_hd",[_dec57],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor57=_applyDecoratedDescriptor(_class2.prototype,"bnt_new_user",[_dec58],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor58=_applyDecoratedDescriptor(_class2.prototype,"btn_recharge_reward",[_dec59],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor59=_applyDecoratedDescriptor(_class2.prototype,"onLine",[_dec60],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor60=_applyDecoratedDescriptor(_class2.prototype,"btn_other1",[_dec61],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor61=_applyDecoratedDescriptor(_class2.prototype,"btn_other2",[_dec62],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor62=_applyDecoratedDescriptor(_class2.prototype,"btn_other3",[_dec63],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor63=_applyDecoratedDescriptor(_class2.prototype,"btn_other4",[_dec64],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor64=_applyDecoratedDescriptor(_class2.prototype,"btn_other5",[_dec65],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor65=_applyDecoratedDescriptor(_class2.prototype,"hintTXT",[_dec66],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor66=_applyDecoratedDescriptor(_class2.prototype,"hintTXT1",[_dec67],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor67=_applyDecoratedDescriptor(_class2.prototype,"typeH5",[_dec68],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor68=_applyDecoratedDescriptor(_class2.prototype,"typePC",[_dec69],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor69=_applyDecoratedDescriptor(_class2.prototype,"MainSkill",[_dec70],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor70=_applyDecoratedDescriptor(_class2.prototype,"pc_skill",[_dec71],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor71=_applyDecoratedDescriptor(_class2.prototype,"pc_btnBag",[_dec72],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor72=_applyDecoratedDescriptor(_class2.prototype,"pc_lbl_level",[_dec73],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor73=_applyDecoratedDescriptor(_class2.prototype,"pc_img_exp",[_dec74],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor74=_applyDecoratedDescriptor(_class2.prototype,"pc_lbl_exp",[_dec75],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor75=_applyDecoratedDescriptor(_class2.prototype,"pc_img_hp",[_dec76],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor76=_applyDecoratedDescriptor(_class2.prototype,"pc_img_mp",[_dec77],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor77=_applyDecoratedDescriptor(_class2.prototype,"pc_hook",[_dec78],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor78=_applyDecoratedDescriptor(_class2.prototype,"ping",[_dec79],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor79=_applyDecoratedDescriptor(_class2.prototype,"pc_drug_array",[_dec80],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_descriptor80=_applyDecoratedDescriptor(_class2.prototype,"gamemain_hp_red",[_dec81],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor81=_applyDecoratedDescriptor(_class2.prototype,"gamemain_mp_blue",[_dec82],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor82=_applyDecoratedDescriptor(_class2.prototype,"pc_hp_info",[_dec83],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor83=_applyDecoratedDescriptor(_class2.prototype,"pc_mp_info",[_dec84],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor84=_applyDecoratedDescriptor(_class2.prototype,"pc_baitan",[_dec85],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor85=_applyDecoratedDescriptor(_class2.prototype,"pc_jiaoyi",[_dec86],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor86=_applyDecoratedDescriptor(_class2.prototype,"pc_rank_list",[_dec87],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor87=_applyDecoratedDescriptor(_class2.prototype,"pc_social",[_dec88],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor88=_applyDecoratedDescriptor(_class2.prototype,"pc_hanghui",[_dec89],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor89=_applyDecoratedDescriptor(_class2.prototype,"pc_char",[_dec90],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor90=_applyDecoratedDescriptor(_class2.prototype,"pc_bag",[_dec91],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor91=_applyDecoratedDescriptor(_class2.prototype,"pc_skill_show",[_dec92],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor92=_applyDecoratedDescriptor(_class2.prototype,"pc_mail",[_dec93],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor93=_applyDecoratedDescriptor(_class2.prototype,"pc_auction",[_dec94],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor94=_applyDecoratedDescriptor(_class2.prototype,"pc_set",[_dec95],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor95=_applyDecoratedDescriptor(_class2.prototype,"pc_shop",[_dec96],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor96=_applyDecoratedDescriptor(_class2.prototype,"baitan_info",[_dec97],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor97=_applyDecoratedDescriptor(_class2.prototype,"jiaoyi_info",[_dec98],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor98=_applyDecoratedDescriptor(_class2.prototype,"rank_info",[_dec99],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor99=_applyDecoratedDescriptor(_class2.prototype,"social_info",[_dec100],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor100=_applyDecoratedDescriptor(_class2.prototype,"guild_info",[_dec101],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor101=_applyDecoratedDescriptor(_class2.prototype,"char_info",[_dec102],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor102=_applyDecoratedDescriptor(_class2.prototype,"bag_info",[_dec103],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor103=_applyDecoratedDescriptor(_class2.prototype,"skill_info",[_dec104],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor104=_applyDecoratedDescriptor(_class2.prototype,"mail_info",[_dec105],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor105=_applyDecoratedDescriptor(_class2.prototype,"auction_info",[_dec106],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor106=_applyDecoratedDescriptor(_class2.prototype,"set_info",[_dec107],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor107=_applyDecoratedDescriptor(_class2.prototype,"shop_info",[_dec108],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor108=_applyDecoratedDescriptor(_class2.prototype,"dangerMask",[_dec109],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor109=_applyDecoratedDescriptor(_class2.prototype,"dragLayer",[_dec110],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor110=_applyDecoratedDescriptor(_class2.prototype,"pref_MainSocialize",[_dec111],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor111=_applyDecoratedDescriptor(_class2.prototype,"pref_Auxilary",[_dec112],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor112=_applyDecoratedDescriptor(_class2.prototype,"pref_NewHero",[_dec113],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor113=_applyDecoratedDescriptor(_class2.prototype,"disconnection",[_dec114],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor114=_applyDecoratedDescriptor(_class2.prototype,"newTaskItem",[_dec115],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor115=_applyDecoratedDescriptor(_class2.prototype,"dragItemPre",[_dec116],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor116=_applyDecoratedDescriptor(_class2.prototype,"myShop",[_dec117],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor117=_applyDecoratedDescriptor(_class2.prototype,"setShopItemPrice",[_dec118],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor118=_applyDecoratedDescriptor(_class2.prototype,"lbl_fightPower",[_dec119],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor119=_applyDecoratedDescriptor(_class2.prototype,"profession",[_dec120],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor120=_applyDecoratedDescriptor(_class2.prototype,"cleanUIBtn",[_dec121],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor121=_applyDecoratedDescriptor(_class2.prototype,"msgLabelNode",[_dec122],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor122=_applyDecoratedDescriptor(_class2.prototype,"itemBoxItem",[_dec123],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor123=_applyDecoratedDescriptor(_class2.prototype,"qrnode",[_dec124],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor124=_applyDecoratedDescriptor(_class2.prototype,"nativeTsetNode",[_dec125],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor125=_applyDecoratedDescriptor(_class2.prototype,"nativeTsetLabel",[_dec126],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor126=_applyDecoratedDescriptor(_class2.prototype,"bottomTime",[_dec127],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class=_class2))||_class));cclegacy._RF.pop()}}}));

System.register("chunks:///_virtual/GameSceneProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,r,n,o,i,a,s,p,l,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Sprite,p=e.ProgressBar,l=e.Label,c=e.Component},function(e){u=e.GameUtil}],execute:function(){var m,g,b,f,h,d,y,S,B;i._RF.push({},"973254fy4lLyL3w+uGslZda","GameSceneProgressBar",void 0);var C=a.ccclass,L=a.property;e("GameSceneProgressBar",(m=C("GameSceneProgressBar"),g=L(s),b=L(p),f=L(l),m((y=t((d=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"bg",y,o(t)),n(t,"pb",S,o(t)),n(t,"pLabel",B,o(t)),t.progressT=0,t.cbF=null,t}r(t,e);var i=t.prototype;return i.start=function(){},i.handleProgress=function(e,t){var r=this;u.loadResLocal("GameSceneProgressBar/00950.png",this.pb.node.getComponent(s),(function(){r.formatSp(r.pb.node,0,0,12,12)})),u.loadResLocal("GameSceneProgressBar/00950$bar.png",this.pb.node.getChildByName("Bar").getComponent(s),(function(){r.formatSp(r.pb.node.getChildByName("Bar"),0,0,12,12)})),t.param>=100?this.node.destroy():(this.pLabel.string=t.param+"%",this.pb.progress=t.param/100)},i.formatSp=function(e,t,r,n,o){e.getComponent(s).type=s.Type.SLICED,e.getComponent(s).sizeMode=s.SizeMode.CUSTOM,e.getComponent(s).spriteFrame.insetBottom=r,e.getComponent(s).spriteFrame.insetLeft=n,e.getComponent(s).spriteFrame.insetRight=o,e.getComponent(s).spriteFrame.insetTop=t},i.onDestroy=function(){this.cbF&&this.unschedule(this.cbF)},t}(c)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(d.prototype,"pb",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(d.prototype,"pLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameSocket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIcontrol.ts","./Sendmessage.ts","./GameScene.ts","./Config.ts","./Struct.ts","./Enums.ts","./encrypt.ts","./UnitDes.ts","./GameMessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,s,n,o,i,c,r,l,a,h,u,f,g,k,S;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy,n=e.director,o=e.sys,i=e.Component},function(e){c=e.uiControl},function(e){r=e.sendmessage},function(e){l=e.GameScene},function(e){a=e.Config},function(e){h=e.Struct_ins},function(e){u=e.CGM_Type},function(e){f=e.Encrypt},function(e){g=e.UnitDes},function(e){k=e.GameMessage},function(e){S=e.GameUtil}],execute:function(){s._RF.push({},"f4f5e98TcNFkoEY8vJWpXQc","GameSocket",void 0);var C=e("GameSocket",function(e){function s(){for(var t,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).receiveBuf=[],t.SocStr="",t.SOCKETHEADERSIZE=20,t.isReconnect=!1,t.endian=void 0,t.connected=!1,t._stamp=NaN,t._socket=null,t._addInputPosition=0,t._input=null,t._output=null,t.host="",t.port=null,t.activeCloseHandle=!1,t.closeCallBack=null,t.url=null,t.tryCount=0,t.lastSocket=null,t.lastClose=!1,t.timeStamp=0,t.timeout=0,t.objectEncoding=0,t.disableInput=!1,t._byteClass=null,t._protocols=[],t}t(s,e),s.getInstance=function(){return null==this._instance&&(this._instance=new s),this._instance};var i=s.prototype;return i.createSocket=function(e,t){var s=this;if(e&&t>0&&t<65535){var n="ws://"+e+":"+t;n="https:"==window.location.protocol?"wss://"+e+":"+t:"ws://"+e+":"+t,this.isConnected()&&this.url==n||(this.lastSocket&&(console.log("关闭上一次成功连接的gamesocket"+this.lastSocket.id),this.lastSocket.readyState==WebSocket.OPEN&&(this.lastClose=!0,this.lastSocket.close()),this.lastSocket=null),this.host=e,this.port=t,this.url=n,console.log("创建socket连接："+n),S.setDevicesValue(),this._socket=new WebSocket(n),this._socket.binaryType="arraybuffer",this._socket.onopen=function(e){return s._onOpen(e)},this._socket.onmessage=function(e){s._onMessage(e.data)},this._socket.onclose=function(e){return s._onClose(e)},this._socket.onerror=function(e){return s._onError(e)},this._socket.id=(new Date).getTime())}else console.error("port error")},i._onOpen=function(e){a.overServer=0,this.lastClose=!1,this.lastSocket=this._socket,console.log("gameSocket连接成功"),this.activeCloseHandle=!1,this.tryCount=0,r.connectKey="game_gate",r.clsocket=d,this.isReconnect&&(r.connectKey="game_gate_relink",r.Refreshviewrange(0)),this.isReconnect=!1,this.unschedule(this.reConnect),n.getScene().getChildByName("Canvas").getComponent(l).onSvrConnect(),this.connectInit()},i.connectInit=function(){a.relogin=!1,a.readyRelogin=!1},i._onMessage=function(e){if(this.timeStampForSandBox(),e.byteLength>0){var t=new Uint8Array(e);if(this.receiveBuf.push.apply(this.receiveBuf,t),this.receiveBuf.length>this.SOCKETHEADERSIZE)for(;;){var s=h.TSocketHeader(this.receiveBuf);if(s.dwCode1==a.RUNGATECODE&&s.dwCode2==a.RUNGATECODEX){if(s.nLength+this.SOCKETHEADERSIZE>this.receiveBuf.length)break;var n;if(n=this.receiveBuf.slice(this.SOCKETHEADERSIZE+24,s.nLength+this.SOCKETHEADERSIZE+24),s.wIdent==u.COMPDATA&&s.dwCrc!=f.Crc32(n,n.length)){if(this.receiveBuf.shift(),this.receiveBuf.length<this.SOCKETHEADERSIZE)break;continue}this.receiveBuf.splice(0,this.SOCKETHEADERSIZE+s.nLength);var o=s.header;k.getInstance().onMsgFromSvr(o.msg,n)}else this.receiveBuf.shift();if(this.receiveBuf.length<this.SOCKETHEADERSIZE)break}else console.log("message+++++",e)}},i.ExecBuffers=function(e,t,s){switch(e.wIdent){case u.DATA:this.SocStr+=g.byteArray2String(t,s);break;case u.COMPDATA:var n=new Zlib.Inflate(t).decompress();this.SocStr+=g.byteArray2String(n,n.length);break;case u.ACTIVE:this._socket.send("*")}},i.activeClose=function(e){console.log("调用主动断开game socket"),this.activeCloseHandle=!0,this.closeCallBack=e||null,this.isConnected()?this._socket.close():e&&e()},i._onClose=function(e){if(this.lastClose)this.lastClose=!1;else if(console.log("Game socket连接关闭"+e),a.g_tick_rate=0,a.g_tick_ct=0,this.activeCloseHandle)this.unschedule(this.heartBeat),console.log("gameSocket主动关闭连接成功"),this.closeCallBack&&this.closeCallBack();else{if(console.log("被动断开执行重连"),this.unschedule(this.heartBeat),a.relogin)return;this.scheduleOnce(this.reConnect,1)}},i.reConnect=function(){var e=this;if(!this.isConnected()&&!a.relogin)if(this.tryCount++,console.log("tryCount:"+this.tryCount),this.tryCount>5){this.tryCount=0;console.log("创建提示窗"),c.handlerAlert({type:1,content:"网络中断请点击【确定】重连",sF:function(){e.scheduleOnce(e.reConnect,1)},nodeName:"reLogin"})}else this.isReconnect=!0,this.createSocket(this.host,this.port)},i._onError=function(e){a.relogin||this.activeCloseHandle||(this.scheduleOnce(this.reConnect,1),console.log("game socket创建连接错误"+e))},i.send=function(e){this.isConnected()?this._socket&&this._socket.readyState!=WebSocket.CONNECTING&&this._socket.send(e):console.log("game socket连接中断")},i.heartBeat=function(){if(console.log("心跳发送》〉》〉》〉"),r.sendHeartBeat(),a.DELAY_TIMEe=(new Date).getTime(),a.sandBoxAPP||o.browserType==o.BrowserType.SAFARI){var e=(performance.now()-this.timeStamp)/1e3;console.log("间隔时长："+e),e>10&&this.isConnected()&&(this._socket.close(),this.scheduleOnce(this.reConnect,1))}},i.cleanSocket=function(){try{this._socket.close()}catch(e){}this._socket&&(this.connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null)},i.close=function(){if(null!=this._socket)try{this._socket.close()}catch(e){}},i.isConnected=function(){return!!this._socket&&(this._socket.readyState==WebSocket.CONNECTING||this._socket.readyState==WebSocket.OPEN)},i.timeStampForSandBox=function(){(a.sandBoxAPP||o.browserType==o.BrowserType.SAFARI)&&(this.timeStamp=performance.now())},s}(i));C._instance=null;var d=e("gameSocket",C.getInstance());s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTypeConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Electron.ts","./ResourcesMgr.ts","./SaveResToDevice.ts","./external.ts","./SceneCanvas.ts"],(function(e){"use strict";var n,t,o,i,s,a,r,l,c,u,g,f,p,_,h,C,d,m;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.assetManager,s=e.game,a=e.Game,r=e.sys,l=e.view,c=e.macro,u=e.native,g=e.director,f=e.Component},function(e){p=e.Config},function(e){_=e.el},function(e){h=e.resourcesMgr},function(e){C=e.saveResToDevice},function(e){d=e.external},function(e){m=e.SceneCanvas}],execute:function(){var v,y;t._RF.push({},"68cb0aHyRdLYZxSiOdwdBgY","GameTypeConfig",void 0);var O=o.ccclass,S=(o.property,e("GameTypeConfig",O("GameTypeConfig")(((y=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).localFileDir="",n}n(t,e),t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var o=t.prototype;return o.init=function(){i.downloader.maxRetryCount=1,s.on(a.EVENT_LOW_MEMORY,(function(){alert("《〈《内存不足》〉》")})),s.on(a.EVENT_GAME_INITED,(function(){console.log("引擎启动")})),d.init(),d.getisSimulator(),s.frameRate=59,console.log=function(){},console.warn=function(){},this.setReleaseChannel(),this.packagePlatform(),h.handleLoad(p.S_SELECTROLE,(function(e){e&&console.log("预加载声音成功")})),console.log("localFileDir:"+this.localFileDir)},o.getLasturl=function(e){if(null!==e||""!==e){var n=e.split("http://"),t=n[1].indexOf("/")+1;return n[1].substring(t)}return null},o.setReleaseChannel=function(){p.releaseChannel="无",GameSdk.init()&&(p.releaseChannel="sandBox",r.isBrowser&&(p.cur_game_type=7,p.sandBoxAPP=!0,l.setOrientation(c.ORIENTATION_AUTO))),r.isNative&&p.sandBoxNative&&(p.cur_game_type=7),console.log("发布渠道设置："+p.releaseChannel)},o.packagePlatform=function(){_.isElectron(),r.isNative&&!r.isBrowser?(r.os!=r.OS.WINDOWS&&(p.cur_use_app=!0),p.g_isOnWindows=!1,this.localFileDir=u.fileUtils.getWritablePath(),C.isCocosLoad=!1,p.isElectron=!1):p.isElectron?(p.g_isOnWindows=!0,_.init(),C.isCocosLoad=!1,this.localFileDir=_.elcListener.sendSync("getWritablePath",h.httpUrl)):r.os==r.OS.ANDROID||r.os==r.OS.IOS||r.os==r.OS.LINUX?(r.isBrowser&&(p.cur_use_app=!0),console.log("Config.cur_use_app:"+p.cur_use_app)):this.localFileDir="",g.getScene().getChildByName("Canvas").getComponent(m).setConfig()},t}(f))._instance=null,v=y))||v));e("gameTypeConfig",S.getInstance());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./MsgCM.ts","./MsgSM.ts","./Struct.ts","./GameDefine.ts","./MapLayer.ts","./AnimationModule.ts","./audioManager.ts","./FightModule.ts","./NodeMgr.ts","./OffsetModule.ts","./ResourcesMgr.ts","./SkillModule.ts","./UIcontrol.ts","./objectcontrol.ts","./objectmanage.ts","./GameScene.ts","./ReconnectionLogic.ts","./Sendmessage.ts","./RGBCode.ts","./BagWin.ts","./HumEquipItem.ts","./HumWin.ts","./WarehouseWin.ts","./Astart.ts","./CodeUtil.ts","./GameApi.ts","./GameMission.ts","./QRNode.ts","./UcsByGbk.ts","./Int64.ts"],(function(e){"use strict";var t,a,s,r,n,i,o,u,f,c,l,g,h,d,m,p,_,S,v,b,C,M,I,A,k,N,L,y,x,D,w,E,O,H,B,R,G,P,T,U,F,W,V,j,Y,q,J,X,K,z,Q,Z,$,ee,te,ae,se,re,ne,ie,oe,ue,fe,ce,le,ge,he,de,me,pe,_e,Se,ve,be,Ce,Me;return{setters:[function(e){t=e.inheritsLoose,a=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,r=e._decorator,n=e.dragonBones,i=e.UITransform,o=e.view,u=e.Vec3,f=e.tween,c=e.v3,l=e.UIOpacity,g=e.AudioClip,h=e.Vec2,d=e.v2,m=e.sys,p=e.AudioSource,_=e.resources,S=e.Label,v=e.find,b=e.director,C=e.Prefab,M=e.instantiate,I=e.Node,A=e.Layers,k=e.Sprite,N=e.Color,L=e.HorizontalTextAlignment,y=e.LabelOutline,x=e.color,D=e.ScrollView,w=e.Layout,E=e.Button,O=e.native,H=e.Component},function(e){B=e.EventMgr},function(e){R=e.Config},function(e){G=e.U_Type,P=e.DIR_Type,T=e.PARALYSISACTIVE_Type,U=e.TMonsterClientActionType,F=e.MUSICFORMAT_Type},function(e){W=e.default},function(e){V=e.default},function(e){j=e.default},function(e){Y=e.Struct_ins},function(e){q=e.HUM_WIN_POS_SHENG_DA,J=e.HUM_WIN_POS,X=e.OPEN_ITEMINFO_WIN_TYPE,K=e.imageData,z=e.EquipData},function(e){Q=e.MapLayer},function(e){Z=e.Animationmodule},function(e){$=e.audioManager},function(e){ee=e.Fightmodule},function(e){te=e.nodeMgr},function(e){ae=e.Offsetmodule},function(e){se=e.resourcesMgr},function(e){re=e.Skillmodule},function(e){ne=e.uiControl},function(e){ie=e.Objectcontrol},function(e){oe=e.ObjectManage},function(e){ue=e.GameScene},null,function(e){fe=e.sendmessage,ce=e.Sendmessage},function(e){le=e.rgbCode},function(e){ge=e.BagWin},function(e){he=e.default},function(e){de=e.default},function(e){me=e.WarehouseWin},function(e){pe=e.AStart},function(e){_e=e.codeUtil},function(e){Se=e.GameApi},function(e){ve=e.gameMission},function(e){be=e.default},function(e){Ce=e.gbkByteArr2UcsStr},function(e){Me=e.Int64}],execute:function(){s._RF.push({},"ee049F7JGhBc4rXyAnLB4en","GameUtil",void 0);r.ccclass,r.property,r.menu,n.Point;var Ie=e("GameUtil",function(e){function s(){return e.apply(this,arguments)||this}return t(s,e),s.getItemType=function(e){var t=-1;if(!e)return t;switch(e.StdMode){case 5:case 6:case 95:t=G.WEAPON;break;case 10:case 11:t=G.DRESS;break;case 15:t=G.HELMET;break;case 19:case 20:case 21:t=G.NECKLACE;break;case 22:case 23:t=e.Expand1>=1&&e.Expand1<=12&&e.OverLap>=4&&e.OverLap<=7?G.GODBLESS1+e.Expand1-1:G.RINGL;break;case 24:case 26:t=G.ARMRINGR;break;case 29:case 30:t=G.RIGHTHAND;break;case 70:case 71:case 72:case 73:case 74:t=G.ICON;break;case 25:case 51:case 96:t=G.BUJUK;break;case 52:case 62:t=G.BOOTS;break;case 7:case 53:case 63:t=G.CHARM;break;case 27:case 54:case 64:t=G.BELT;break;case 16:t=G.HAT;break;case 12:t=G.SHIELD;break;case 65:t=G.DRUM;break;case 66:case 67:t=G.FASHIONDRESS;break;case 68:case 69:t=G.FASHIONWEAPON;break;case 178:t=G.FASHIONHELMET;break;case 75:case 76:case 77:t=G.FASHIONNECKLACE;break;case 79:case 80:t=G.FASHIONARMRINGR;break;case 81:case 82:t=G.FASHIONRINGL;break;case 83:t=G.FASHIONRIGHTHAND;break;case 84:case 85:t=G.FASHIONBELT;break;case 86:case 87:t=G.FASHIONBOOTS;break;case 88:case 89:t=G.FASHIONCHARM;break;case 28:t=G.HORSE;break;case 90:t=G.JADE}return t!=G.RINGL&&t!=G.ARMRINGR&&t!=G.HELMET&&t!=G.NECKLACE||(4==e.OverLap?t=G.GODBLESS1:6==e.OverLap?t=G.JEWELRYGODBLESSANYPOS:7==e.OverLap?t=G.ANYPOS:2==e.OverLap&&(e.Expand1>=1&&e.Expand1<=6?t=G.JEWELRY1+e.Expand1-1:0!=e.Expand1&&7!=e.Expand1||(t=G.JEWELRYRandom))),t},s.userInFriendHMD=function(e){for(var t=0,a=R.G_Friend_HMD_List.length;t<a;t++){if(R.G_Friend_HMD_List[t].split(":")[0]==e)return!0}return!1},s.instanceOfMem=function(e){},s.reverse8dis=function(e){switch(e){case 0:return 4;case 1:return 5;case 2:return 6;case 3:return 7;case 4:return 0;case 5:return 1;case 6:return 2;case 7:return 3}},s.equalcoordinate=function(e,t,a,s){var r,n={x:0,y:0};return r=(t.x-e.x)/a,n.x=e.x+s*r,n.y=(e.y*(t.x-e.x)+(n.x-e.x)*(t.y-e.y))/(t.x-e.x),n},s.getPointDir=function(e,t,a){if(e.x==t.x&&e.y==t.y)return 0;var s=new h(t.x-e.x,t.y-e.y),r=Math.sqrt(1/(s.x*s.x+s.y*s.y))*a,n=r*s.x,i=r*s.y;return new h(n,i)},s.getMovePoint=function(e,t,a){var s=new h;switch(t){case P.UP:s.x=e.x,s.y=e.y-a;break;case P.RIGHT_UP:s.x=e.x+a,s.y=e.y-a;break;case P.RIGHT:s.x=e.x+a,s.y=e.y;break;case P.RIGHT_DOWN:s.x=e.x+a,s.y=e.y+a;break;case P.DOWN:s.x=e.x,s.y=e.y+a;break;case P.LEFT_DOWN:s.x=e.x-a,s.y=e.y+a;break;case P.LEFT:s.x=e.x-a,s.y=e.y;break;case P.LEFT_UP:s.x=e.x-a,s.y=e.y-a}return s.x<0&&(s.x=0),s.y<0&&(s.y=0),s},s.getAngle=function(e,t){var a=Math.atan2(e.y-t.y,e.x-t.x);return a=a>0?180*a/Math.PI:180*(2*Math.PI+a)/Math.PI},s.getorientation16=function(e){var t=22.4;return e>22.5-t&&e<=44.9?13:e>22.6&&e<=67.4?14:e>45.1&&e<=89.9?15:e>67.6&&e<=112.4?0:e>90.1&&e<=134.9?1:e>112.6&&e<=157.4?2:e>135.1&&e<=179.9?3:e>157.6&&e<=202.4?4:e>180.1&&e<=224.9?5:e>202.6&&e<=247.4?6:e>225.1&&e<=269.9?7:e>247.6&&e<=292.4?8:e>270.1&&e<=314.9?9:e>292.6&&e<=337.4?10:e>315.1&&e<=359.9?11:12},s.get8orientation=function(e){return e>22.6&&e<=67.4?7:e>67.6&&e<=112.4?0:e>112.6&&e<=157.4?1:e>157.6&&e<=202.4?2:e>202.6&&e<=247.4?3:e>247.6&&e<=292.4?4:e>292.6&&e<=337.4?5:6},s.getorientation=function(e,t){var a=0,s=1;return a=e.x<t.x?1:e.x==t.x?0:-1,Math.abs(e.y-t.y)>2&&e.x>=t.x-1&&e.x<=t.x+1&&(a=0),s=e.y<t.y?1:e.y==t.y?0:-1,Math.abs(e.x-t.x)>2&&e.y>=t.y-1&&e.y<=t.y+1&&(s=0),0==a&&-1==s?P.UP:1==a&&-1==s?P.RIGHT_UP:1==a&&0==s?P.RIGHT:1==a&&1==s?P.RIGHT_DOWN:0==a&&1==s?P.DOWN:-1==a&&1==s?P.LEFT_DOWN:-1==a&&0==s?P.LEFT:-1==a&&-1==s?P.LEFT_UP:void 0},s.setBodyColor=function(e,t,a){if(null!=t)if(0!=(67108864&t)?(e.setbodycolor(3),a==R.playerID&&(e.paralysis_state=!0,R.Actionlock=!1)):0!=(1073741824&t)?(e.setbodycolor(1),this.playerActionLockReset(a,e)):0!=(2147483648&t)?(e.setbodycolor(2),this.playerActionLockReset(a,e)):0!=(536870912&t)?(e.setbodycolor(4),this.playerActionLockReset(a,e)):0!=(134217728&t)?(e.setbodycolor(5),this.playerActionLockReset(a,e)):0!=(524288&t)?(e.setbodycolor(6),this.playerActionLockReset(a,e)):(e.setbodycolor(0),a==R.playerID&&(R.Actionlock=!1,e.paralysis_state=!1)),e.setInvisable(0!=(8388608&t)),0!=(1048576&t)&&0==(67108864&t)){var s=Y.THumFeature(e.data.fea.buffer);if(s)2==s.btJob?re.EQsecure(29,e,58):re.EQsecure(29,e,31)}else a&&re.closeEQsecure(a)},s.checkParalysisM2=function(e){switch(e){case T.WALK:return 1==R.g_ClientConfig.boParalyCanWalk;case T.RUN:return 1==R.g_ClientConfig.boParalyCanRun;case T.MAGIC:return 1==R.g_ClientConfig.boParalyCanSpell;case T.ATTACK:return 1==R.g_ClientConfig.boParalyCanHit}return!1},s.playerActionLockReset=function(e,t){e==R.playerID&&(R.Actionlock=!1,t.paralysis_state=!1)},s.getJobName=function(e){switch(e){case 0:return"战士";case 1:return"法师";case 2:return"道士"}},s.delhalo=function(e){var t=oe.findobject(e);t&&(t.is_halo=!1,Z.removeAniname("halo"),R.CurScene.btn_lock.active=!1,this.resetBackupLockID(),R.backupLockID=void 0,R.lockingList=[],R.lockingID=0,R.attackerID=0,R.chaseing=!1,ee.path_list=[],ie.use_attack=!1,B.raiseEvent("show_target_head",!1),!0===R.GlobalCfglist.nameshow3&&!0===R.GlobalCfglist.ShowName&&3==t.type&&(t.txt_name.text=this.getPureName(t)))},s.loseLockIdCountdown=function(){},s.clearResByUrl=function(e){null!=e&&(e instanceof Array||0==e.indexOf("Animation")||e.indexOf(".plist")==e.length-6||0==e.indexOf("map/")||(e=this.getImageSetNameByPath(e)),se.resClean(e))},s.addhalo=function(e){var t;if(!e.isBB&&(e.is_halo=!0,this.delhalo(R.lockingID),R.g_magicId=-1,R.g_magicType=0,R.g_boMagicGood=!1,e.data)){var a=c(0,10);1==e.type?t=Z.playframe(!0,e.node,"Animation/halo/",550,555,100,!0,!1,a):3==e.type&&(t=Z.playframe(!0,e.node,"Animation/halo/",556,561,100,!0,!1,a)),t&&(t.name="halo"),3==e.type&&1==R.GlobalCfglist.nameshow3&&!0===R.GlobalCfglist.ShowName&&(e.txt_name.node.active=!0,e.txt_name.updateName(e.txt_name.cur_name,null,e)),R.lockingID=e.data.record,R.backupLockID=R.lockingID,R.lockingList.push(e.data.record),R.CurScene.btn_lock.active=!0,B.raiseEvent("show_target_head",!0)}},s.resetBackupLockID=function(){R.backupLockID=void 0},s.onLa_CLICK=function(e){B.raiseEvent("UPDATETASK",[""])},s.getMissGloba=function(e,t,a){for(var s=!1,r=t,n=0;n<R.g_GlobalList.length;n++)if(R.g_GlobalList[n].sName==e){0==a?r=R.g_GlobalList[n].nCount:(R.g_GlobalList[n].nCount=t,""!=R.sNewNpcStr&&parseInt(t)>0&&B.raiseEvent("Show_NewNpc",[R.sNewNpcStr])),s=!0;break}if(!s){var i=Y.TaskGloba();i.sName=e,i.nCount=t,R.g_GlobalList.push(i)}return r},s.movestep=function(e,t,a,s){var r=new h;switch(e){case 0:a.y<0?r.y=32*t.y+a.y:r.y=32*(t.y-s)+a.y;break;case 1:a.x>0?r.x=48*t.x+a.x:r.x=48*(t.x+s)+a.x,a.y<0?r.y=32*t.y+a.y:r.y=32*(t.y-s)+a.y;break;case 2:a.x>0?r.x=48*t.x+a.x:r.x=48*(t.x+s)+a.x;break;case 3:a.x>0?r.x=48*t.x+a.x:r.x=48*(t.x+s)+a.x,a.y>0?r.y=32*t.y+a.y:r.y=32*(t.y+s)+a.y;break;case 4:a.y>0?r.y=32*t.y+a.y:r.y=32*(t.y+s)+a.y;break;case 5:a.x<0?r.x=48*t.x+a.x:r.x=48*(t.x-s)+a.x,a.y>0?r.y=32*t.y+a.y:r.y=32*(t.y+s)+a.y;break;case 6:a.x<0?r.x=48*t.x+a.x:r.x=48*(t.x-s)+a.x;break;case 7:a.x<0?r.x=48*t.x+a.x:r.x=48*(t.x-s)+a.x,a.y<0?r.y=32*t.y+a.y:r.y=32*(t.y-s)+a.y}return r},s.moverule=function(e,t,a){var r,n=this.getMapLayerScript().CanMove(e,t,a);if(2==a||3==a){r=oe.hasobstacle(e,t,a);var i=oe.hasobstacle(e,t,1);if(i&&r)r=!0;else if(i||r){if(!i&&r)r=!1;else if(i&&!r)return[s.getMovePoint(e,t,1),!0]}else r=!1}else r=oe.hasobstacle(e,t,a);return!(!n||!r)&&this.getMovePoint(e,t,a)},s.moveshift=function(e,t,a,s,r,n){var i=0,o=0,u=0,f=48*t,c=32*t;a>s&&(a=s);Math.round((s-a-1)/s);switch(e){case 0:o=0,u=Math.round((s-a)/s-1e-5)*t==t?-Math.round(c/s*a):Math.round(c/s*(s-a));break;case 1:i=s>=6?2:0,Math.round((s-a+i)/s-1e-5)*t==t?(o=Math.round(f/s*a),u=-Math.round(c/s*a)):(o=-Math.round(f/s*(s-a)),u=Math.round(c/s*(s-a)));break;case 2:o=Math.round((s-a)/s-1e-5)*t==t?Math.round(f/s*a):-Math.round(f/s*(s-a)),u=0;break;case 3:i=s>=6?2:0,Math.round((s-a-i)/s-1e-5)*t==t?(o=Math.round(f/s*a),u=Math.round(c/s*a)):(o=-Math.round(f/s*(s-a)),u=-Math.round(c/s*(s-a)));break;case 4:i=s>=6?1:0,o=0,u=Math.round((s-a-i)/s-1e-5)*t==t?Math.round(c/s*a):-Math.round(c/s*(s-a));break;case 5:i=s>=6?2:0,Math.round((s-a-i)/s-1e-5)*t==t?(o=-Math.round(f/s*a),u=Math.round(c/s*a)):(o=Math.round(f/s*(s-a)),u=-Math.round(c/s*(s-a)));break;case 6:o=Math.round((s-a)/s-1e-5)*t==t?-Math.round(f/s*a):Math.round(f/s*(s-a)),u=0;break;case 7:i=s>=6?2:0,Math.round((s-a+i)/s-1e-5)*t==t?(o=-Math.round(f/s*a),u=-Math.round(c/s*a)):(o=Math.round(f/s*(s-a)),u=Math.round(c/s*(s-a)))}return new h(o,u)},s.getDiyNpcData=function(e){return R.g_DiyNPCList[e]},s.rulebymon=function(e,t,a,s,r){var n,i,o,u=this.getActonModel(e,t),f=0,c=0,l=0;if(50==e){var g,h,d,m=this.getDiyNpcData(t);if(null!=m){if(0==m.Actions[s].Enabled)for(var p=0;p<m.Actions.length;p++){m.Actions[p].Enabled>0&&(s=p);break}if(m.Actions[s]){var _,S,v,b=[],C=[];o=R.g_pak_list[m.BaseConfig.KeepPlayFile],_=m.BaseConfig.KeepPlayTime,S=m.BaseConfig.KeepPlayIndex,v=m.BaseConfig.KeepPlayCount,g=m.Actions[s].Std_Count,h=m.Actions[s].Std_Index,d=R.g_pak_list[m.Actions[s].Std_File];for(var M=S;M<S+v;M++)b.push(this.getprefixname(M,6));for(var I=h;I<h+g;I++)C.push(this.getprefixname(I,6));var A=[];return A.file=o,A.ftime=_,A.frames=b,-1!=d&&(A.sub_file=d),A.sub_frames=C,A.sub2_frames=[],A}}else n=this.loadNpcSurface(e,t),i=this.getNpcOffSet(t),o="npc",n>0&&(o="npc"+n),c=s%3,273==t&&(o="newopui",c=0),n=0}else n=parseInt((t/10).toString())+1,i=this.getMonsterOffSet(t),c=s,t>=1e3?o="mon":950<=t&&t<960?(o="mon-kulou",n=0):o="mon";if(83!=e||904!=t&&800!=t||(o="dragon",i=0,n=0,7==a&&(a=3)),R.obj_config){var k,N=0==n?"":n,L=new Array,y=this.getstatenamebymon(a),x=R.obj_config[u][y].frame,D=R.obj_config[u][y].frame,w=R.obj_config[u][y].skip,E=R.obj_config[u][y].start;50==e&&45==t?(y="ActStand",c=0,x=R.obj_config[u][y].frame,E=0):34==e&&131==t||34==e&&141==t||43==e&&41==t||33==e&&140==t?c=0:50==e&&34==t?(c=0,y="ActStand",x=4,l=2130):83!=e||904!=t&&800!=t?23==e&&37==t&&"ActDeath"==y||49==e&&63==t&&"ActDeath"==y?c=0:13!=e||10!=t||"ActDeath"!=y&&"ActStand"!=y?100==e&&173==t&&"ActDie"==y?x=6:50!=e||78!=t&&83!=t&&84!=t&&85!=t&&86!=t&&87!=t?50!=e||67!=t&&68!=t&&69!=t&&70!=t&&71!=t&&72!=t?50!=e||64!=t&&65!=t&&66!=t&&82!=t?50!=e||60!=t&&61!=t?19==e&&1005==t&&"ActDie"==y?x=5:78==e&&221==t&&"ActDie"==y?(x=10,c/=2):156==e&&242==t?"ActAttack"==y||"ActStand"==y?(i=1090,x=4):"ActWalk"==y?i=1090:"ActDie"==y?(i=1090,x=10):"ActStruck"==y&&(i=1090):50==e&&89==t?(x=1,c=0,y="ActStand",l=12,f=9,E=0):160==e&&324==t?(c=0,"ActDie"==y&&(i=2370)):109==e&&325==t||109==e&&326==t?c=0:161==e&&327==t?(c=0,"ActDie"==y&&(i=3040,x=18)):112==e&&336==t||112==e&&337==t?c=0:162==e&&370==t?"ActAttack"==y?i=90:"ActStand"==y?i=170:"ActDie"==y?i=90:"ActDeath"==y?(y="ActWalk",i=-80,x=9):"ActStruck"==y&&(i=90):165==e&&3712==t?10==a?(i=6370,y="ActAttack",x=8,D=8,w=2,E=0):11==a?(i=6290,y="ActAttack",x=8,D=8,w=2,E=0):12==a?(i=6450,y="ActAttack",x=8,D=8,w=2,E=0):"ActDie"==y&&(i=6130,x=16,D=16,w=4,E=0):165==e&&3713==t?10==a?(i=7180,y="ActAttack",x=8,D=8,w=2,E=0):11==a?(i=7100,y="ActAttack",x=10,D=10,w=0,E=0):"ActDie"==y&&(i=6940,x=14,D=14,w=6,E=0):19==e&&290==t?("ActWalk"==y&&(i=440),"ActDie"==y&&(D=10,w=0,E=260)):19==e&&291==t?("ActWalk"==y?(i=440,E=0):"ActStand"==y&&(i=360),"ActStruck"==y&&(i=600,D=2,w=0,E=0),"ActDie"==y&&(i=620,D=10,w=0,E=0)):19==e&&292==t?("ActWalk"==y?(i=800,E=0):"ActStand"==y&&(i=720),"ActDie"==y&&(i=980,D=10,w=0,E=0),"ActStruck"==y&&(i=960,D=2,w=0,E=0)):99==e&&900==t?(o="effect",c=0,N="","ActStand"==y?(x=0,L.push("000080")):"ActStruck"==y?(x=4,i=80):"ActDie"==y&&(x=10,i=80,E=24)):98==e&&901==t?(o="effect",c=0,N="","ActDie"==y?(x=5,i=168,E=0):(x=0,null==r&&(r=0),L.push("000"+(168+r)))):98==e&&902==t?(o="effect",c=0,N="","ActDie"==y?(x=5,i=184,E=0):(x=0,null==r&&(r=0),L.push("000"+(184+r)))):98==e&&903==t?(o="effect",c=0,N="","ActDie"==y?(x=5,i=200,E=0):(x=0,null==r&&(r=0),L.push("000"+(200+r)))):(50!=e||308!=t&&312!=t&&313!=t&&314!=t&&315!=t&&316!=t&&317!=t)&&(50!=e||318!=t&&319!=t&&320!=t&&324!=t&&325!=t&&326!=t&&327!=t&&328!=t&&329!=t&&300!=t)&&(50!=e||88!=t&&321!=t&&322!=t&&323!=t)?50==e&&310==t?(x=4,E=0,y="ActStand",l=0,f=0):50==e&&311==t?"ActAttack"==y&&(x=15,i=770,E=0,c=0):50==e&&46==t&&(x=4,c=0,E=0,y="ActStand",l=0,f=0):(x=1,c=0,E=0,y="ActStand",l=0,f=0):(c=1,y="ActStand",x=4,E=0):(c=0,y="ActStand",x=4,E=0):(c=0,y="ActStand",x=4,l=4,E=0):(c=0,y="ActStand",x=10,E=0):(c=0,"ActDeath"==y&&(i=10,E=0,x=8)):c=0;for(var O=0;O<x;O++){var H=c*(D+w);k=""+this.getprefixname(i+E+O+H,6),L.push(k)}var B=new Array;if(0!=l)if(l>1e3)for(var G=0;G<10;G++)B.push(this.getprefixname(l+f+G,6));else for(var P=1;P<=l;P++)B.push(this.getprefixname(parseInt(k)+f+P,6));var T=[];return T.file=o+N,T.ftime=R.obj_config[u][y].ftime,T.frames=L,T.sub_frames=B,T.sub2_frames=[],T}},s.ruleByDiyMon=function(e,t){1==e.cur_state&&oe.setDiyMonState(U.matStand);for(var a=[],s=t.Actions[R.g_diyMonState],r=[],n=s.StartIndex,i=s.PlayCount,o=s.EmptyCount,u=0;u<i;u++){var f=e.cur_dir*(i+o),c=""+this.getprefixname(n+u+f,6);r.push(c)}for(var l=[],g=s.EffectIndex,h=s.PlayCount,d=s.EmptyCount,m=0;m<h;m++){var p=e.cur_dir*(h+d),_=""+this.getprefixname(g+m+p,6);l.push(_)}for(var S=[],v=s.EffectIndex2,b=s.PlayCount,C=s.EmptyCount,M=0;M<b;M++){var I=e.cur_dir*(b+C),A=""+this.getprefixname(v+M+I,6);S.push(A)}return a.file=R.g_pak_list[s.ActionFile],a.sub_file=R.g_pak_list[s.EffectFile],a.sub2_file=R.g_pak_list[s.EffectFile2],a.ftime=s.PlayTime,a.frames=r,a.sub_frames=l,a.sub2_frames=S,a},s.diyMonSpecilHit=function(e,t,a,r){var n=oe.findobject(r);if(null!=n){var i=e.ClientMonMagicInfo,o=i.btFlyMaigcType[a];if(1==o||2==o){var l=i.EffFileIdxArr[a],g=i.AttMaigcEffInfo[a].ActionArr[0],d=i.AttMaigcEffInfo[a].ActionArr[1],m=i.AttMaigcEffInfo[a].ActionArr[2],p=(i.AttMaigcEffInfo[a].ActionArr[3],this.getAngle(t.grid,n.grid)),_=this.getorientation16(p),S="data/"+R.g_pak_list[l-1]+"/",v=g+_*(d+m),b=v+d-1,C=i.BowFileIdxArr[a],M=i.AttBowMagic[a].ActionArr[0],I=i.AttBowMagic[a].ActionArr[1],A=(i.AttBowMagic[a].ActionArr[2],i.AttBowMagic[a].ActionArr[3],"data/"+R.g_pak_list[C-1]+"/"),k=M,N=k+I-1,L=new h(t.grid.x,t.grid.y),y=Z.playframe(!0,s.getMapLayerNode(),S,v,b,100,!0,!1,c(48*L.x,32*-L.y));if(y){var x=60*h.distance(n.grid,L)/1e3;f(y.node).to(x,{position:new u(48*n.grid.x,32*-n.grid.y)}).call((function(){Z.removeAni(y),Z.playframe(!0,n.node,A,k,N,100,!1,!0)})).start()}}else{var D=i.EffFileIdxArr[a],w=i.AttMaigcEffInfo[a].ActionArr[0],E=i.AttMaigcEffInfo[a].ActionArr[1],O=(i.AttMaigcEffInfo[a].ActionArr[2],i.AttMaigcEffInfo[a].ActionArr[3],"data/"+R.g_pak_list[D-1]+"/"),H=w,B=H+E-1;Z.playframe(!0,n.node,O,H,B,100,!1,!0)}}},s.GXX_diyMonSpecilHit=function(e,t,a,r,n){var o,u,l,g,m,p=e.AttackConfigs[n];p.Self_File>-1&&(o="data/"+R.g_pak_list[p.Self_File]+"/",g=(l=p.Self_StartIndex)+p.Self_PlayCount-1,m=p.Self_PlayTime,Z.playframe(!0,t.node,o,l,g,m,!1,!0)),p.SelfKeep_File>-1&&(o="data/"+R.g_pak_list[p.SelfKeep_File]+"/",g=(l=p.SelfKeep_StartIndex)+p.SelfKeep_PlayCount-1,m=p.SelfKeep_PlayTime,Z.playframe(!0,t.node,o,l,g,m,!1,!0));var _=oe.findobject(r);if(null!=_){if(p.Fly_File>-1){var S=this.getAngle(t.grid,_.grid);if(u=this.getorientation16(S)*(p.Fly_PlayCount+p.Fly_EmptyCount),o="data/"+R.g_pak_list[p.Fly_File]+"/",g=(l=p.Fly_StartIndex+u)+p.Fly_PlayCount-1,m=p.Fly_PlayTime,p.Explosion_File>-1)var v="data/"+R.g_pak_list[p.Explosion_File]+"/",b=p.Explosion_StartIndex,C=b+p.Explosion_PlayCount-1,M=p.Explosion_PlayTime;var I=d(t.grid.x,t.grid.y),A=t.sp.getComponent(i).height/2,k=Z.playframe(!0,s.getMapLayerNode(),o,l,g,m,!0,!1,c(48*I.x,32*-I.y+A));if(k){var N=60*h.distance(_.grid,I)/1e3;k.node.setPosition(48*I.x,32*-I.y+A),f(k.node).to(N,{position:c(48*_.grid.x,32*-_.grid.y+A)}).call((function(){Z.removeAni(k),null!=v&&Z.playframe(!0,_.node,v,b,C,M,!1,!0)})).start()}}p.Target_File>-1&&(o="data/"+R.g_pak_list[p.Target_File]+"/",g=(l=p.Target_StartIndex)+p.Target_PlayCount-1,m=p.Target_PlayTime,Z.playframe(!0,_.node,o,l,g,m,!1,!0))}},s.getstatenamebymon=function(e){var t="ActStand";switch(e){case 0:case 1:t="ActStand";break;case 2:t="ActWalk";break;case 3:t="ActAttack";break;case 4:t="ActCritical";break;case 5:t="ActStruck";break;case 6:t="ActDie";break;case 7:t="ActDeath";break;case 8:t="ActAttack2";break;case 9:t="ActWalk";break;case 10:case 11:case 12:t="ActAttack"}return t},s.getJSDateTimeFromDelphi8Bytes=function(e){for(var t=new ArrayBuffer(8),a=new Uint8Array(t),s=0;s<8;s++)a[s]=e[s];var r=new Float64Array(t),n=new Date(parseInt(864e5*(r[0]-25569)-288e5+"")),i=n.getFullYear(),o=n.getMonth()+1,u=o<10?"0"+o:o,f=n.getDate(),c=f<10?"0"+f:f,l=n.getHours(),g=l<10?"0"+l:l,h=n.getMinutes(),d=h<10?"0"+h:h,m=n.getSeconds();return i+"-"+u+"-"+c+" "+g+":"+d+":"+(m<10?"0"+m:m)},s.getformattimestamp=function(e){var t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1,r=s<10?"0"+s:s,n=t.getDate(),i=n<10?"0"+n:n,o=t.getHours(),u=o<10?"0"+o:o,f=t.getMinutes(),c=t.getSeconds();return a+"-"+r+"-"+i+" "+u+":"+(f<10?"0"+f:f)+":"+(c<10?"0"+c:c)},s.humBodyEffect=function(e){if(e.wing_frames=[],e.obj_wing&&(e.obj_wing.active=!1),!Z.hasAni(e.node,"HumBodyEffect")){var t=Z.playframe(!1,e.node,"data/effect/",352,371,280,!0,!1);t&&(t.name="HumBodyEffect")}},s.dreesEffect=function(e,t,a,s,r){var n="",i=-1;if(e>6e4&&(e-=65536),e>=0&&e<R.g_pak_list.length?(n=R.g_pak_list[e],i=t):-9==e&&(n="humeffect",i=1200*t),""!=n&&i>=0){var o=new Array,u=this.getstatenamebyplayer(s);if(R.obj_config)for(var f=0;f<R.obj_config.HA[u].frame;f++){var c=r*(R.obj_config.HA[u].frame+R.obj_config.HA[u].skip),l=""+this.getprefixname(i+R.obj_config.HA[u].start+f+c,6);o.push(l)}var g=[];return g.ftime=R.obj_config.HA[u].ftime,g.frames=o,g.file=n,g}},s.loadNpcSurface=function(e,t){var a=0;return 50==e&&(a=t<200?0:t<226?2:t<246?3:t<300?4:10),a},s.getNpcOffSet=function(e){return e>=48&&e<=52&&(e-=4),e>=54&&e<=58&&(e+=29),59==e&&(e=88),e>=60&&e<=68&&(e-=5),e>=70&&e<=77&&(e-=3),e>=78&&e<=80&&(e+=1),e>=81&&e<=84&&(e-=6),e>=90&&e<=92&&(e-=26),e>=94&&e<=98&&(e-=11),99==e&&(e=82),100==e&&(e=89),e>=200&&e<=207&&(e+=100),e>=208&&e<=225&&(e+=101),e<=23?60*e:24==e||25==e?60*(e-24)+1470:26==e||28==e||29==e||30==e||31==e||e>=33&&e<=41?60*(e-26)+1620:27==e||32==e?60*(e-26)+1620-30:e>=42&&e<=47?2580+60*(e-42):48==e?2960:49==e||50==e?3040:e>=51&&e<=54?e-51+3041:e>=55&&e<=62?3060+60*(e-55):63==e?3600:e>=64&&e<=72?3750+10*(e-64):e>=73&&e<=75?3840+60*(e-73):76==e?3980:77==e?4e3:78==e?4030:79==e?4060:80==e?4120:81==e?4180:82==e?4240:e>=83&&e<=88?4490+10*(e-83):89==e?4560:90==e?4600:e>=91&&e<=100?4630+10*(e-91):101==e?4770:102==e?4810:e>=226&&e<236?40*(e-226):e>=236&&e<244?400+70*(e-236):244==e?950:245==e?1010:e>=246&&e<253?90*(e-246):e>=253&&e<259?710+90*(e-253):e>=259&&e<264?1330+90*(e-259):264==e?1860:e>=265&&e<269?2030+90*(e-265):269==e?2390:270==e?2560:271==e?2730:272==e?2820:273==e?1200:e>=300&&e<=310?70*(e-300):311==e?740:e>=312&&e<=317?810+10*(e-312):e>=318&&e<=320?870+30*(e-318):e>=321&&e<=323?970+10*(e-321):324==e?1020:325==e?1030:326==e?1060:327==e?1061:328==e?1062:e>=500&&e<=699?60*(e-500):e>=700&&e<=900?70*(e-700):e>=1e3&&e<=1999?60*(e-1e3):e>=2e3&&e<=3e3?60*(e-2e3):e>=3e3&&e<=4e3?60*(e-3e3):e>=1e3?60*(e-1e3):e>200?70*(e-200):60*(e-200)},s.getNextPoint=function(e,t,a){var s=e,r=t;return 0==a&&(r+=1),4==a&&(r-=1),6==a&&(s+=1),2==a&&(s-=1),7==a&&(s+=1,r+=1),1==a&&(s-=1,r-=1),5==a&&(s+=1,r-=1),3==a&&(s-=1,r-=1),{x:s,y:r}},s.getActonModel=function(e,t){switch(e){case 9:return"MA9";case 10:return"MA10";case 11:return"MA11";case 12:return"MA12";case 13:return"MA13";case 14:return"MA14";case 15:return"MA15";case 16:return"MA16";case 17:case 18:return"MA14";case 19:switch(t){case 258:return"MA258";case 264:return"MA264";default:return"MA19"}case 20:case 21:return"MA19";case 22:return"MA15";case 23:return"MA14";case 24:return"MA12";case 30:case 31:return"MA17";case 32:return"MA24";case 33:return"MA25";case 34:return"MA30";case 35:return"MA31";case 36:return"MA32";case 37:case 40:return"MA19";case 41:case 42:return"MA20";case 43:return"MA21";case 45:return"MA19";case 47:return"MA22";case 48:case 49:return"MA23";case 50:switch(t){case 23:return"MA36";case 24:case 25:return"MA37";case 26:return"MA35";case 27:return"MA37";case 28:case 29:case 30:case 31:return"MA35";case 32:return"MA37";case 33:case 34:return"MA35";case 35:case 36:case 37:case 38:case 39:case 40:case 41:return"MA41";case 42:case 43:return"MA46";case 44:case 45:case 46:return"MA36";case 48:case 49:case 50:return"MA41";case 51:return"MA35";case 52:case 53:return"MA41";case 71:return"MA50";case 76:return"MA35";case 99:return"MA60";case 100:return"MA1";case 101:return"MA101";case 102:case 304:case 305:case 306:case 309:return"MA60";case 310:return"MA210";default:return"MA35"}case 52:case 53:return"MA19";case 54:return"MA28";case 55:return"MA29";case 56:return"MA56";case 60:case 61:case 62:return"MA33";case 63:return"MA34";case 64:case 65:case 66:case 67:case 68:case 69:return"MA19";case 70:case 71:case 72:return"MA33";case 73:case 74:return"MA19";case 75:return"MA39";case 76:return"MA38";case 77:return"MA39";case 78:return"MA40";case 79:return"MA19";case 80:return"MA42";case 81:return"MA43";case 83:return"MA44";case 84:case 85:case 86:case 87:case 88:case 89:return"MA45";case 90:return"MA30";case 98:return"MA27";case 99:return"MA26";case 100:case 101:return"MA19";case 102:return"MA102";case 103:return"MA103";case 104:return"MA104";case 105:return"MA33";case 106:return"MA106";case 107:return"MA107";case 108:return"MA108";case 109:return"MA109";case 110:return"MA110";case 151:return"MA151";case 111:return"MA19";case 112:return"MA112";case 113:return"MA113";case 114:return"MA114";case 115:return"MA115";case 116:return"MA33";case 155:return"MA155a";case 92:case 27:case 29:case 150:return"MA92";default:return"MA19"}},s.getMonsterOffSet=function(e){var t;if(e>1e3)return 360*(t=e%10);if(!(e<=1e3))return 0;switch(t=e%10,parseInt((e/10).toString())){case 0:return 280*t;case 1:return 230*t;case 4:return 1==t?600:360*t;case 5:return 430*t;case 6:return 440*t;case 13:switch(t){case 2:return 440;case 3:return 550;default:return 360*t}case 15:return t>=1&&t<=3?360*t:0;case 17:switch(t){case 2:return 920;case 3:return 1280;default:return 350*t}case 18:switch(t){case 1:return 520;case 2:return 950;case 3:return 1574;case 4:return 1934;case 5:return 2294;case 6:return 2654;case 7:return 3014;default:return 0}case 19:switch(t){case 1:return 370;case 2:return 810;case 3:return 1250;case 4:return 1630;case 5:return 2010;case 6:return 2390;default:return 0}case 20:switch(t){case 1:return 360;case 2:return 720;case 3:return 1080;case 4:return 1440;case 5:return 1800;case 6:return 2350;case 7:return 3060;default:return 0}case 21:switch(t){case 1:return 460;case 2:return 820;case 3:return 1180;case 4:return 1540;case 5:return 1900;case 6:return 2440;case 7:return 2570;case 8:return 2700;default:return 0}case 22:switch(t){case 1:return 430;case 2:return 1290;case 3:return 1810;default:return 0}case 23:switch(t){case 1:return 340;case 2:return 680;case 3:return 1180;case 4:return 1770;case 5:return 2610;case 6:return 2950;case 7:return 3290;case 8:return 3750;case 9:return 4460;default:return 0}case 24:switch(t){case 1:return 510;case 2:return 1020;case 3:return 1030;case 4:return 1090;default:return 0}case 25:switch(t){case 1:return 510;case 2:return 1020;case 3:return 1370;case 4:return 1720;case 5:return 2070;case 6:return 2740;case 7:return 3780;case 8:return 3820;case 9:return 4170;default:return 0}case 26:switch(t){case 1:return 340;case 2:return 680;case 3:return 1190;case 4:return 2100;case 5:return 2440;case 6:return 2540;case 7:return 3570;default:return 0}case 27:switch(t){case 1:return 350;case 2:return 780;case 3:return 1130;case 4:return 1560;case 5:return 1910;default:return 0}case 28:return t>=0&&t<=8?360*t:0;case 29:case 32:switch(t){case 1:return 440;case 2:return 820;case 3:return 1360;case 4:return 2650;case 5:return 2680;case 6:return 2790;case 7:return 2900;case 8:return 3500;case 9:return 3930;default:return 0}case 33:switch(t){case 1:return 720;case 2:return 1160;case 3:return 1840;case 4:return 2540;case 5:return 2900;case 6:return 3250;case 7:return 3310;default:return 20}case 34:switch(t){case 1:return 680;case 2:return 1030;default:return 0}case 37:switch(t){case 1:return 610;case 2:return 1050;case 3:return 1420;case 4:return 1860;case 5:return 2230;case 6:return 2670;case 7:return 3190;case 8:return 3710;case 9:return 4390;case 10:return 4750;case 11:return 5270;case 12:return 5870;case 13:return 6680;default:return 0}case 44:switch(t){case 1:return 340;case 2:return 690;case 3:return 1060;case 4:return 1420;case 5:return 1880;case 6:return 2810;case 7:return 3830;case 8:return 4760;case 9:return 5860;default:return 0}case 45:switch(t){case 1:return 1030;case 2:return 3610;case 3:return 4100;case 4:return 4610;case 5:return 5190;case 6:return 6010;case 7:return 6600;case 8:return 7100;case 9:return 7610;default:return 0}case 52:switch(t){case 1:return 520;case 2:return 1040;case 3:return 1560;case 4:return 2170;case 5:return 3240;case 6:return 4e3;case 7:return 4560;case 8:return 5560;case 9:return 5980;default:return 0}case 80:switch(t){case 1:return 80;case 2:return 300;case 3:return 301;case 4:return 302;case 5:return 320;case 6:return 321;case 7:return 322;case 8:return 321;default:return 0}case 90:switch(t){case 1:return 168;case 2:return 184;case 3:return 200;case 4:return 1770;case 5:return 1780;case 6:return 1790;default:return 0}default:return 360*t}},s.getMagicJob=function(e){return 0==e?"战士秘籍":1==e?"法师秘籍":2==e?"道士秘籍":3==e?"刺客秘籍":98==e?"合击秘籍":"通用秘籍"},s.getDuraStr=function(e,t,a){1==R.g_ItemInfoFromShop&&(e=t);return this.BoNoDisplayMaxDura?Math.round(e/a)+"/"+Math.round(t/a):Math.round(e/a)+""},s.showItemValue=function(e,t){return e},s.getColor=function(e){return e>0?"#00ff00":"#ffffff"},s.getColorString=function(e){return 0==e?"":"(+"+e+")"},s.getTakeOnPosition=function(e,t,a,s){e||(e=-1),a||(a=-1),s||(s=-1);var r=-1;if(5==e||6==e||95==e?r=G.WEAPON:10==e||11==e?r=G.DRESS:15==e?r=G.HELMET:19==e||20==e||21==e?r=G.NECKLACE:22==e?(a>=1&&a<=12&&s>=4&&s<=7&&(r=G.GODBLESS1+a-1),r=G.RINGL):23==e?r=G.RINGL:24==e||26==e?r=G.ARMRINGR:30==e||29==e?r=G.RIGHTHAND:e>=70&&e<=74?r=G.ICON:25==e||51==e||96==e?r=G.BUJUK:52==e||62==e||28==e?r=G.BOOTS:7==e||53==e||63==e?r=G.CHARM:54==e||27==e||64==e?r=G.BELT:16==e?r=G.HAT:48==e?r=G.SHIELD:65==e?r=G.DRUM:66==e||67==e?r=G.FASHIONDRESS:68==e||69==e?r=G.FASHIONWEAPON:178==e?r=G.FASHIONHELMET:e>=75&&e<=77?r=G.FASHIONNECKLACE:79==e||80==e?r=G.FASHIONARMRINGR:81==e||82==e?r=G.FASHIONRINGL:83==e?r=G.FASHIONRIGHTHAND:84==e||85==e?r=G.FASHIONBELT:86==e||87==e?r=G.FASHIONBOOTS:88==e||89==e?r=G.FASHIONCHARM:78==e&&(r=G.HORSE),r==G.RINGL||r==G.ARMRINGR||r==G.HELMET||r==G.NECKLACE)switch(s){case 4:r=G.GODBLESS1;case 6:r=G.JEWELRYGODBLESSANYPOS;case 7:r=G.ANYPOS;case 2:switch(a){case 1:case 2:case 3:case 4:case 5:case 6:r=G.JEWELRY1+a-1;break;case 0:case 7:r=G.JEWELRYRandom}return r}return r},s.getGemInfo=function(e,t){var a="",s=0,r=0,n=0,i=0;if(1==t?(s=e.StdMode,r=e.Shape,n=e.AniCount,i=e.MAC2):(s=e.s.StdMode,r=e.s.Shape,n=e.s.AniCount,i=e.s.MAC2),46==s&&3==r&&0!=i)switch(n){case 1:a="防御:+"+i;break;case 2:a="魔御:+"+i;break;case 3:a="攻击力:+"+i;break;case 4:a="魔法力:+"+i;break;case 5:a="道术力:+"+i;break;case 6:a="生命值:+"+i;break;case 7:a="魔法值:+"+i;break;case 8:a="准确:+"+i;break;case 9:a="敏捷:+"+i;break;case 10:a="幸运:+"+i;break;case 11:i>=1&&i<=10?a="攻击速度:+"+i+"0%":i>10&&(a="攻击速度:+100%");break;case 12:i>=1&&i<=10?a="魔法躲避:+"+i+"0%":i>10&&(a="魔法躲避:+100%");break;case 13:i>=1&&i<=10?a="毒物躲避:+"+i+"0%":i>10&&(a="毒物躲避:+100%");break;case 14:i>=1&&i<=10?a="中毒恢复:+"+i+"0%":i>10&&(a="中毒恢复:+100%");break;case 15:i>=1&&i<=10?a="体力恢复:+"+i+"0%":i>10&&(a="体力恢复:+100%");break;case 16:i>=1&&i<=10?a="魔法恢复:+"+i+"0%":i>10&&(a="魔法恢复:+100%");break;case 17:a="负重(穿戴):+"+i;break;case 18:a="负重(背包):+"+i;break;case 19:a="防御下限:+"+i;break;case 20:a="魔御下限:+"+i;break;case 21:a="攻击力下限:+"+i;break;case 22:a="魔法力下限:+"+i;break;case 23:a="道术力下限:+"+i;break;case 24:a="诅咒:+"+i}return a},s.getGemInfoEX=function(e,t){var a,s="",r=0,n=0,i=0;if(1==t?(r=e.StdMode,n=e.Shape,i=e.AC1,a=e.AC2):(r=e.s.StdMode,n=e.s.Shape,i=e.s.AC1,a=e.s.AC2),46==r&&3==n)switch(i){case 1:s="暴击几率:+"+a+"%";break;case 2:s="攻击伤害:+"+a+"%";break;case 3:s="物伤减少:+"+a+"%";break;case 4:s="魔伤减少:+"+a+"%";break;case 5:s="忽视防御:+"+a+"%";break;case 6:s="伤害反弹:+"+a+"%";break;case 7:s="人物暴率:+"+a+"%";break;case 8:s="体力增加:+"+a;break;case 9:s="魔力增加:+"+a;break;case 10:s="怒气恢复:+"+a+"%";break;case 11:s="合击伤害:+"+a+"%";break;case 12:s="防止麻痹";break;case 13:s="防止护身";break;case 14:s="防止复活";break;case 15:s="麻痹";break;case 16:s="复活";break;case 17:s="护身";break;case 18:s="负重";break;case 19:s="虹魔吸血";break;case 20:s="技巧";break;case 21:s="探测";break;case 22:s="魔血";break;case 23:s="体力增加:+"+a+"%";break;case 24:s="魔力增加:+"+a+"%"}return s},s.getLegTZInfo=function(e,t,a){this.getTakeOnPosition(e.s.StdMode,e.s.Shape,null,null);var s=[];if(R.GomSuitOpen){if(R.Gomsuitlist.length<1)return;for(var r=0;r<R.Gomsuitlist.length;r++){var n=R.Gomsuitlist[r];if(!n.suitname||-1!=(n.suititem+"|").indexOf(e.s.Name+"|")){if(n.suitname&&null!=n.suitnum){var i=void 0,o=void 0;if(-1!=n.suitname.indexOf("/")){var u=n.suitname.split("/");o=u[0]?u[0]:250,i=u[1]}else o=250,i=n.suitname;var f=n.suitnum,c=Se.gomUseItemCnt(n.suititem,a);t.push(i+"("+c+"/"+f+")/*/"+le.Get2RGB(o))}if(n.suititem){var l=n.suititem.split("|"),g="",h=null,d=null;null==R.lookHumData?(h=R.g_UserItemList,d=R.g_GodBlessItems):(h=a?R.lookHumData.UseItems:R.g_UserItemList,d=a?R.lookHumData.GodBlessItems:R.g_GodBlessItems);for(var m=0;m<h.length;++m)null!=h[m]&&(g+="|"+h[m].s.Name+"|");for(var p=0;p<d.length;++p)null!=d[p]&&(g+="|"+d[p].s.Name+"|");for(var _=0;_<l.length;_++){var S=57;if(l[_]){var v=void 0;if(-1!=l[_].indexOf("/"))v=l[_].split("/")[1];else v=l[_];var b="|"+v+"|";if(-1!=g.indexOf(b)){if(S=150,-1!=l[_].indexOf("/")){var C=l[_].split("/");C&&null!=C[0]&&(S=C[0])}g=g.replace(b,"")}t.push(v+"/*/"+le.Get2RGB(S))}}}if(n.suitdesc){n.suitdesc.split("\\");t.push({name:"desc",str:n.suitdesc})}}}if(0!=s.length)for(var M=0;M<s.length;M++){for(var I=[],A=s[M].split("~@"),k=void 0,N=void 0,L=void 0,y=0;y<A.length;y++)-1!=A[y].indexOf("套装名")?k=A[y]:-1!=A[y].indexOf(e.s.DBName)?N=A[y]:-1!=A[y].indexOf("备注")&&(L=A[y]);var x=k.split("~&"),D=x[0].split("~#")[1],w=x[1].split("~#")[1],E=x[2].split("~#")[1],O=Se.getUseItemCnt(N,a,!0);t.push(D+"("+O+"/"+E+")/*/"+le.Get2RGB(w)),Se.getUseItemLJ(e.s.Name,e.tag,E,N,t,a,!0);for(var H=L.split("~&"),B=0;B<H.length-1;B++){var G=H[B].split("~#")[1];I.push(G)}for(var P=1;P<I.length;P+=2){var T=I[P],U=le.Get2RGB(I[P-1]);t.push(T+"/*/"+U)}}}else{if(R.Allsuitlist.length<1)return;for(var F=0;F<R.Allsuitlist.length;++F){var W=R.Allsuitlist[F],V=W.split("~@");if(-1!=W.indexOf(e.s.DBName)){for(var j=void 0,Y=0;Y<V.length;Y++){var q=V[Y];if(-1!=q.indexOf(e.s.DBName)){j=q;break}}for(var J=j.split("~&"),X=0;X<J.length;X++){if(J[X].split("~#")[1]==e.s.DBName){s.push(W);break}}}}if(0!=s.length)for(var K=0;K<s.length;K++){for(var z=s[K],Q=z.split("~@"),Z=void 0,$=0;$<Q.length;$++){var ee=Q[$];if(-1!=ee.indexOf(e.s.DBName)){Z=ee;break}}var te,ae=Z.split("~&"),se=ae.length-1;te=Se.getUseItemCnt(ae,a,!1),t.push("套装激活条件: "+te+" / "+se+"/*/"+R.clWhite),Se.getUseItemLJ(e.s.Name,e.tag,se,ae,t,a,!1),t.push("激活效果:/*/"+R.clWhite);var re="",ne=R.clGray;te>=se&&(ne=le.Get2RGB(254));for(var ie=0;ie<R.Suitelementlist.length;ie++)-1!=z.indexOf(R.Suitelementlist[ie])&&(re=this.suitvalue(R.Suitelementlist[ie],Q,re,ne,t,ie));""!=re&&t.push(re+"/*/"+ne)}}},s.wineInfos=function(e,t){var a=[];if(null==e)return a;switch(0!=t?(a.push("重量: "+e.s.Weight+"/*/#ffffff"),a.push("容量: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#00ff00"),a.push("品质: "+e.s.Rource+"/*/#ffffff"),a.push("酒精度: "+e.s.Reserved+"°/*/#00ff00")):a.push("重量: "+e.s.Weight+"/*/#ffffff"),t){case 1:a.push("白酒，酒体醇厚，口感绵长，多为豪侠所喜/*/#ffffff");break;case 2:a.push("白酒，略带甘甜，带有浓厚的乡土气息/*/#ffffff");break;case 3:a.push("白酒，带有高原的独特风情，口感醇和/*/#ffffff");break;case 4:a.push("白酒，以果味入酒，不经意间催人入醉乡/*/#ffffff");break;case 5:a.push("黄酒，酒性柔和，橙黄清亮，有暖胃之功效/*/#ffffff");break;case 6:a.push("黄酒，红曲作引，入口甘甜却无粘稠之感/*/#ffffff");break;case 7:a.push("黄酒，酒色红褐，盈盅不溢，多流传于民间/*/#ffffff");break;case 8:a.push("有强筋健骨之用，需酒量"+e.s.Need+"方可饮用/*/#ffffff");break;case 9:a.push("此酒可养心和血，需酒量"+e.s.Need+"方可饮用/*/#ffffff");break;case 10:a.push("可使人身手更为灵活，需酒量"+e.s.Need+"方可饮用/*/#ffffff");break;case 11:a.push("可坚筋骨，耐寒暑，需酒量"+e.s.Need+"方可饮用/*/#ffffff");break;case 12:a.push("可益气补肾，需酒量"+e.s.Need+"方可饮用/*/#ffffff")}return a},s.countItemInfos=function(e,t){var a=[];return a.push("重量: "+e.s.Weight+"/*/#ffffff"),e.Dura||e.DuraMax?((t<4||5==t)&&(6==t||99==t?(a.push("使用次数: "+this.getDuraStr(e.Dura,e.DuraMax,1)+" 次/*/#0040ff"),1==e.btValue[0]?(a.push("记录地图: "+e.s.DBName+"/*/"+R.clYellow),a.push("记录X坐标: "+e.s.AC1+"/*/"+R.clYellow),a.push("记录y坐标: "+e.s.MAC1+"/*/"+R.clYellow)):a.push("未记录地图坐标/*/#ffffff")):a.push("使用次数: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+" 次/*/#0040ff")),a):a},s.skillBookInfo1=function(e,t){var a=[];a.push("重量: "+e.s.Weight+"/*/#ffffff"),0==t?a.push("使用次数: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+" 次/*/#ffffff"):1==t&&e.DuraMax?a.push("HP: "+this.getDuraStr(e.Dura,e.DuraMax,1)+" 次/*/#ffffff"):2==t&&e.DuraMax?a.push("MP: "+this.getDuraStr(e.Dura,e.DuraMax,1)+" 次/*/#ffffff"):3==t&&e.Dura&&e.DuraMax&&a.push("HPMP: "+this.getDuraStr(e.Dura,e.DuraMax,1)+" 次/*/#ffffff");var s=oe.findobject(R.playerID);return 0==e.s.Need&&s.m_Abil.Level>=e.s.NeedLevel&&a.push("所需等级: "+e.s.NeedLevel+"/*/#ffffff"),a},s.skillBookInfo2=function(e,t){var a=[],s="#ff0000",r=oe.findobject(R.playerID);if(a.push("重量: "+e.s.Weight+"/*/#ffffff"),r==r&&e.s.Name.indexOf("英雄")>0)s="#ff0000";else if(r==r&&0==e.s.Name.indexOf("英雄"))s="#ff0000";else{switch(t){case 0:0==r.skin_feature.btJob&&r.m_Abil.Level>=e.s.DuraMax&&(s="#00ff00");break;case 1:1==r.skin_feature.btJob&&r.m_Abil.Level>=e.s.DuraMax&&(s="#00ff00");break;case 2:2==r.skin_feature.btJob&&r.m_Abil.Level>=e.s.DuraMax&&(s="#00ff00");break;case 3:3==r.skin_feature.btJob&&r.m_Abil.Level>=e.s.DuraMax&&(s="#00ff00");break;default:r.m_Abil.Level>=e.s.DuraMax&&(s="#00ff00")}a.push("所需职业: "+this.getMagicJob(e.s.Shape)+"/*/"+s),a.push("所需等级: "+e.s.DuraMax+"/*/"+s)}return a},s.weaponInfos=function(e){var t=[];if(t.push("重量: "+e.s.Weight+"/*/#ffffff"),e.DuraMax>0&&(e.Dura/1e3<3?t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ff0000"):t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ffffff")),e.btValue){if(0!=e.s.DC2||0!=e.s.DC1){var a="攻击: "+e.s.DC1+"-"+e.s.DC2,s=this.showItemValue(a,e.btValue[0]);t.push(s+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0]))}if(0!=e.s.MC2||0!=e.s.MC1){var r="魔法: "+e.s.MC1+"-"+e.s.MC2,n=this.showItemValue(r,e.btValue[1]);t.push(n+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1]))}if(0!=e.s.SC2||0!=e.s.SC1){var i="道术: "+e.s.SC1+"-"+e.s.SC2,o=this.showItemValue(i,e.btValue[2]);t.push(o+this.getColorString(e.btValue[2])+"/*/"+this.getColor(e.btValue[2]))}if(e.s.Source<=-1&&e.s.Source>=-50){var u="神圣: +"+-e.s.Source,f=this.showItemValue(u,e.btValue[7]);t.push(f+this.getColorString(e.btValue[7])+"/*/"+this.getColor(e.btValue[7]))}if(e.s.Source<=-51&&e.s.Source>=-100){var c="神圣: -"+(-e.s.Source-50);t.push(c+this.getColorString(e.btValue[7])+"/*/"+this.getColor(e.btValue[7]))}}else{if(0!=e.s.DC2||0!=e.s.DC1){var l="攻击: "+e.s.DC1+"-"+e.s.DC2;t.push(l+"/*/#ffffff")}if(0!=e.s.MC2||0!=e.s.MC1){var g="魔法: "+e.s.MC1+"-"+e.s.MC2;t.push(g+"/*/#ffffff")}if(0!=e.s.SC2||0!=e.s.SC1){var h="道术: "+e.s.SC1+"-"+e.s.SC2;t.push(h+"/*/#ffffff")}if(e.s.Source<=-1&&e.s.Source>=-50){var d="神圣: +"+-e.s.Source;t.push(d+"/*/#ffffff")}if(e.s.Source<=-51&&e.s.Source>=-100){var m="神圣: -"+(-e.s.Source-50);t.push(m+"/*/#ffffff")}}if(48==e.s.StdMode){if(0!=e.s.AC2||0!=e.s.AC1){var p="防御: "+e.s.AC1+"-"+e.s.AC2;if(e.btValue){var _=this.showItemValue(p,e.btValue[3]);t.push(_+this.getColorString(e.btValue[3])+"/*/"+this.getColor(e.btValue[3]))}else t.push(p+"/*/#ffffff");if(0!=e.s.MAC2||0!=e.s.MAC1){var S="魔防: "+e.s.MAC1+"-"+e.s.MAC2;if(e.btValue){var v=this.showItemValue(S,e.btValue[4]);t.push(v+this.getColorString(e.btValue[4])+"/*/"+this.getColor(e.btValue[4]))}else t.push(S+"/*/#ffffff")}}}else{if(e.s.AC2>0){var b="准确: +"+e.s.AC2;e.btValue?t.push(b+this.getColorString(e.btValue[5])+"/*/"+this.getColor(e.btValue[5])):t.push(b+"/*/#ffffff")}if(e.s.MAC2>0){var C="";C=e.s.MAC2>10?"攻击速度: +"+(e.s.MAC2-10):e.s.MAC2>0&&e.s.MAC2<=10?"攻击速度: -"+e.s.MAC2:"攻击速度: "+e.s.MAC2,e.btValue?t.push(C+this.getColorString(e.btValue[6])+"/*/"+this.getColor(e.btValue[6])):t.push(C+"/*/#ffffff")}if(e.s.AC1>0){var M="幸运: +"+e.s.AC1;e.btValue?t.push(M+this.getColorString(e.btValue[3])+"/*/"+this.getColor(e.btValue[3])):t.push(M+"/*/#ffffff")}if(e.s.MAC1>0){var I="诅咒: +"+e.s.MAC1;e.btValue?t.push(I+"/*/"+this.getColor(e.btValue[4])):t.push(I+"/*/#ffffff")}}e.s.HP>0&&t.push("体力值: +"+e.s.HP+"/*/#00ff00"),e.s.MP>0&&t.push("魔法值: +"+e.s.MP+"/*/#00ff00");var A=oe.findobject(R.playerID),k="#ff0000",N="";switch(e.s.Need){case 0:case 18:case 22:A.m_Abil.Level>=e.s.NeedLevel&&(k="#00ff00"),t.push("所需等级: "+e.s.NeedLevel+"/*/"+k);break;case 10:case 11:case 12:case 13:var L=A.skin_feature.btJob,y=_e._LOWORD(e.s.NeedLevel);L==y&&(k="#00ff00");var x="未知";switch(y){case 0:x="战士";break;case 1:x="法师";break;case 2:x="道士"}t.push("所需职业: "+x+"/*/"+k),10==e.s.Need&&(N="所需等级: ",A.m_Abil.Level>=_e._HIWORD(e.s.NeedLevel)&&(k="#00ff00")),11==e.s.Need&&(N="需要攻击: ",A.m_Abil.MaxDc>=_e._HIWORD(e.s.NeedLevel)&&(k="#00ff00")),12==e.s.Need&&(N="魔法所需: ",A.m_Abil.MC2>=_e._HIWORD(e.s.NeedLevel)&&(k="#00ff00")),13==e.s.Need&&(N="道术所需: ",A.m_Abil.MAXSC>=_e._HIWORD(e.s.NeedLevel)&&(k="#00ff00")),t.push(N+_e._HIWORD(e.s.NeedLevel)+"/*/"+k);break;case 1:case 19:case 23:A.m_Abil.DC2>=e.s.NeedLevel&&(k="#00ff00"),t.push("需要攻击: "+e.s.NeedLevel+"/*/"+k);break;case 2:case 20:case 24:A.m_Abil.MC2>=e.s.NeedLevel&&(k="#00ff00"),t.push("魔法所需: "+e.s.NeedLevel+"/*/"+k);break;case 3:case 21:case 25:A.m_Abil.MAXSC>=e.s.NeedLevel&&(k="#00ff00"),t.push("道术所需: "+e.s.NeedLevel+"/*/"+k);break;case 4:t.push("所需转生等级: "+e.s.NeedLevel+"/*/#ffffff");break;case 40:t.push("所需转生&等级: "+e.s.NeedLevel+"/*/#ffffff");break;case 41:t.push("所需转生&攻击: "+e.s.NeedLevel+"/*/#ffffff");break;case 42:t.push("所需转生&魔法: "+e.s.NeedLevel+"/*/#ffffff");break;case 43:t.push("所需转生&道术: "+e.s.NeedLevel+"/*/#ffffff");break;case 44:t.push("所需转生&声望: "+e.s.NeedLevel+"/*/#ffffff");break;case 5:t.push("所需声望: "+e.s.NeedLevel+"/*/#ffffff");break;case 6:t.push("行会成员专用/*/#ffffff");break;case 7:t.push("沙城成员专用/*/#ffffff");break;case 70:t.push("沙城城主专用/*/#ffffff");break;case 8:t.push("会员专用/*/#ffffff");break;case 81:case 82:t.push("会员类型: "+_e._LOWORD(e.s.NeedLevel)+"/*/#ffffff"),t.push("会员等级>="+_e._HIWORD(e.s.NeedLevel)+"/*/#ffffff")}return t},s.clothesTypeInfo=function(e){var t=[],a=e.s.StdMode;if(10==a||11==a||a>=65&&a<=67){t.push("重量: "+e.s.Weight+"/*/#ffffff"),e.DuraMax>0&&(e.Dura/1e3<3?t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ff0000"):t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ffffff")),e.btValue?(0==e.s.AC2&&0==e.s.AC1||t.push("防御: "+e.s.AC1+"-"+e.s.AC2+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])),0==e.s.MAC2&&0==e.s.MAC1||t.push("魔防: "+e.s.MAC1+"-"+e.s.MAC2+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1])),0==e.s.DC2&&0==e.s.DC1||t.push("攻击: "+e.s.DC1+"-"+e.s.DC2+this.getColorString(e.btValue[2])+"/*/"+this.getColor(e.btValue[2])),(0!=e.s.MC2||e.s.MC1)&&t.push("魔法: "+e.s.MC1+"-"+e.s.MC2+this.getColorString(e.btValue[3])+"/*/"+this.getColor(e.btValue[3])),0==e.s.SC2&&0==e.s.SC1||t.push("道术: "+e.s.SC1+"-"+e.s.SC2+this.getColorString(e.btValue[4])+"/*/"+this.getColor(e.btValue[4]))):(0==e.s.AC2&&0==e.s.AC1||t.push("防御: "+e.s.AC1+"-"+e.s.AC2+"/*/#ffffff"),0==e.s.MAC2&&0==e.s.MAC1||t.push("魔防: "+e.s.MAC1+"-/*/#ffffff"),0==e.s.DC2&&0==e.s.DC1||t.push("攻击: "+e.s.DC1+"-"+e.s.DC2+"/*/#ffffff"),(0!=e.s.MC2||e.s.MC1)&&t.push("魔法: "+e.s.MC1+"-"+e.s.MC2+"/*/#ffffff"),0==e.s.SC2&&0==e.s.SC1||t.push("道术: "+e.s.SC1+"-"+e.s.SC2+"/*/#ffffff")),e.s.HP>0&&t.push("体力值: +"+e.s.HP+"/*/#00ff00"),e.s.MP>0&&t.push("魔法值: +"+e.s.MP+"/*/#00ff00");var s="#ff0000",r=oe.findobject(R.playerID);switch(e.s.Need){case 0:case 18:case 22:r.m_Abil.Level>=e.s.NeedLevel&&(s="#00ff00"),t.push("所需等级: "+e.s.NeedLevel+"/*/"+s);break;case 10:case 11:case 12:case 13:var n=r.skin_feature.btJob,i=_e._LOWORD(e.s.NeedLevel);n==i&&(s="#00ff00");var o="未知";switch(i){case 0:o="战士";break;case 1:o="法师";break;case 2:o="道士"}t.push("所需职业: "+o+"/*/"+s);var u="";switch(e.s.Need){case 10:u="所需等级：",r.m_Abil.Level>=_e._HIWORD(e.s.NeedLevel)&&(s="#00ff00");break;case 11:u="需要攻击：",r.m_Abil.MaxDc>=_e._HIWORD(e.s.NeedLevel)&&(s="#00ff00");break;case 12:u="魔法所需：",r.m_Abil.MC2>=_e._HIWORD(e.s.NeedLevel)&&(s="#00ff00");break;case 13:u="道术所需：",r.m_Abil.MAXSC>=_e._HIWORD(e.s.NeedLevel)&&(s="#00ff00")}t.push(u+_e._HIWORD(e.s.NeedLevel)+"/*/"+s);break;case 1:case 19:case 23:r.m_Abil.DC2>=e.s.NeedLevel&&(s="#00ff00"),t.push("需要攻击: "+e.s.NeedLevel+"/*/"+s);break;case 2:case 20:case 24:r.m_Abil.MC2>=e.s.NeedLevel&&(s="#00ff00"),t.push("所需魔法: "+e.s.NeedLevel+"/*/"+s);break;case 3:case 21:case 25:r.m_Abil.MaxSc>=e.s.NeedLevel&&(s="#00ff00"),t.push("所需道术: "+e.s.NeedLevel+"/*/"+s);break;case 4:t.push("所需转生等级: "+e.s.NeedLevel+"/*/#ffffff");break;case 40:t.push("所需转生&等级: "+e.s.NeedLevel+"/*/#ffffff");break;case 41:t.push("所需转生&攻击: "+e.s.NeedLevel+"/*/#ffffff");break;case 42:t.push("所需转生&魔法: "+e.s.NeedLevel+"/*/#ffffff");break;case 43:t.push("所需转生&道术: "+e.s.NeedLevel+"/*/#ffffff");break;case 44:t.push("所需转生&声望: "+e.s.NeedLevel+"/*/#ffffff");break;case 5:t.push("所需声望: "+e.s.NeedLevel+"/*/#ffffff");break;case 6:t.push("行会成员专用/*/#ffffff");break;case 60:t.push("行会掌门专用/*/#ffffff");break;case 7:t.push("沙城成员专用/*/#ffffff");break;case 70:t.push("沙城城主专用/*/#ffffff");break;case 8:t.push("会员专用/*/#ffffff");break;case 81:case 82:t.push("会员类型: "+_e._LOWORD(e.s.NeedLevel)+"/*/#ffffff"),t.push("会员等级>="+_e._HIWORD(e.s.NeedLevel)+"/*/#ffffff")}}return t},s.equipmentInfos=function(e){var t=[],a=e.s.StdMode;if(15==a||16==a||a>=19&&a<=24||a>=26&&a<=30||a>=51&&a<=54||a>=62&&a<=64||a>=75&&a<=89||178==a){var s=oe.findobject(R.playerID),r=!1;if(15!=e.s.StdMode&&16!=e.s.StdMode&&22!=e.s.StdMode&&23!=e.s.StdMode&&24!=e.s.StdMode&&26!=e.s.StdMode||e.s.Shape>=130&&e.s.Shape<=132&&(r=!0),!r){switch(t.push("重量: "+e.s.Weight+"/*/#ffffff"),53==e.s.StdMode?1==e.s.AniCount&&e.DuraMax?t.push("HP: "+this.getDuraHPStoneStr(e.Dura,e.DuraMax)+"/*/#ffffff"):2==e.s.AniCount&&e.DuraMax?t.push("MP: "+this.getDuraHPStoneStr(e.Dura,e.DuraMax)+"/*/#ffffff"):3==e.s.AniCount&&e.DuraMax?t.push("HPMP: "+this.getDuraHPStoneStr(e.Dura,e.DuraMax)+"/*/#ffffff"):e.DuraMax>0&&(e.Dura/1e3<3?t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ff0000"):t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ffffff")):e.DuraMax>0&&(e.Dura/1e3<3?t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ff0000"):e.Dura&&e.DuraMax&&t.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ffffff")),e.s.StdMode){case 20:case 52:case 24:e.btValue?(0!=e.s.AC2&&t.push("准确: +"+e.s.AC2+"/*/"+this.getColor(e.btValue[0])),0!=e.s.MAC2&&t.push("敏捷: +"+e.s.MAC2+"/*/"+this.getColor(e.btValue[1]))):(0!=e.s.AC2&&t.push("准确: +"+e.s.AC2+"/*/#ffffff"),0!=e.s.MAC2&&t.push("敏捷: +"+e.s.MAC2+"/*/#ffffff"));break;case 19:e.btValue?(0!=e.s.AC2?t.push("魔法躲避: +"+e.s.AC2+"0%"+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])):e.s.MAC1>0&&t.push("诅咒: +"+e.s.MAC1),e.s.MAC2>0&&t.push("幸运: +"+e.s.MAC2+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1]))):(0!=e.s.AC2?t.push("魔法躲避: +"+e.s.AC2+"0%/*/#ffffff"):e.s.MAC1>0&&t.push("诅咒: +"+e.s.MAC1),e.s.MAC2>0&&t.push("幸运: +"+e.s.MAC2+"/*/#ffffff"));break;case 28:0!=e.s.AniCount&&(e.btValue?t.push("负重: "+_e._LOWORD(e.s.AniCount)+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])):t.push("负重: "+_e._LOWORD(e.s.AniCount)+"/*/#ffffff"));break;case 21:case 54:e.s.AC1>0?t.push("攻击速度: +"+e.s.AC1+"/*/#ffffff"):e.s.MAC1&&t.push("攻击速度: -"+e.s.MAC1+"/*/#ffffff"),e.btValue?(e.s.AC2>0&&t.push("体力恢复: +"+e.s.AC2+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])),e.s.MAC2>0&&t.push("魔法恢复: +"+e.s.MAC2+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1]))):(e.s.AC2>0&&t.push("体力恢复: +"+e.s.AC2+"/*/#ffffff"),e.s.MAC2>0&&t.push("魔法恢复: +"+e.s.MAC2+"/*/#ffffff"));break;case 23:e.s.AC1>0&&t.push("攻击速度: +"+e.s.AC1+"/*/#ffffff"),e.s.MAC1&&t.push("攻击速度: -"+e.s.MAC1+"/*/#ffffff"),e.btValue?(e.s.AC2>0&&t.push("毒物躲避: +"+e.s.AC2+"0% "+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])),e.s.MAC2>0&&t.push("中毒恢复: +"+e.s.MAC2+"0% "+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1]))):(e.s.AC2>0&&t.push("毒物躲避: +"+e.s.AC2+"0% /*/#ffffff"),e.s.MAC2>0&&t.push("中毒恢复: +"+e.s.MAC2+"0% /*/#ffffff"))}52!=e.s.StdMode&&19!=e.s.StdMode&&20!=e.s.StdMode&&21!=e.s.StdMode&&23!=e.s.StdMode&&24!=e.s.StdMode&&54!=e.s.StdMode&&(0==e.s.AC2&&0==e.s.AC1||(e.btValue?t.push("防御: "+e.s.AC1+"-"+e.s.AC2+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])):t.push("防御: "+e.s.AC1+"-"+e.s.AC2+"/*/#ffffff")),0==e.s.MAC2&&0==e.s.MAC1||(e.btValue?t.push("魔防: "+e.s.MAC1+"-"+e.s.MAC2+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1])):t.push("魔防: "+e.s.MAC1+"-"+e.s.MAC2+"/*/#ffffff"))),0==e.s.DC2&&0==e.s.DC1||(e.btValue?t.push("攻击: "+e.s.DC1+"-"+e.s.DC2+this.getColorString(e.btValue[2])+"/*/"+this.getColor(e.btValue[2])):t.push("攻击: "+e.s.DC1+"-"+e.s.DC2+"/*/#ffffff")),0==e.s.MC2&&0==e.s.MC1||(e.btValue?t.push("魔法: "+e.s.MC1+"-"+e.s.MC2+this.getColorString(e.btValue[3])+"/*/"+this.getColor(e.btValue[3])):t.push("魔法: "+e.s.MC1+"-"+e.s.MC2+"/*/#ffffff")),0==e.s.SC2&&0==e.s.SC1||(e.btValue?t.push("道术: "+e.s.SC1+"-"+e.s.SC2+this.getColorString(e.btValue[4])+"/*/"+this.getColor(e.btValue[4])):t.push("道术: "+e.s.SC1+"-"+e.s.SC2+"/*/#ffffff")),e.s.HP>0&&t.push("体力值: "+e.s.HP+"/*/#00ff00"),e.s.MP>0&&t.push("魔法值: "+e.s.MP+"/*/#00ff00");var n="#ff0000";switch(e.s.Need){case 0:case 18:case 22:s.m_Abil.Level>=e.s.NeedLevel&&(n="#00ff00"),t.push("所需等级: "+e.s.NeedLevel+"/*/"+n);break;case 10:case 11:case 12:case 13:var i=s.skin_feature.btJob,o=_e._LOWORD(e.s.NeedLevel);i==o&&(n="#00ff00");var u="未知";switch(o){case 0:u="战士";break;case 1:u="法师";break;case 2:u="道士"}t.push("所需职业: "+u+"/*/"+n);var f="";10==e.s.Need&&(f="所需等级: ",s.m_Abil.Level>=_e._HIWORD(e.s.NeedLevel)&&(n="#00ff00")),11==e.s.Need&&(f="需要攻击: ",s.m_Abil.MaxDc>=_e._HIWORD(e.s.NeedLevel)&&(n="#00ff00")),12==e.s.Need&&(f="魔法所需: ",s.m_Abil.MC2>=_e._HIWORD(e.s.NeedLevel)&&(n="#00ff00")),13==e.s.Need&&(f="道术所需: ",s.m_Abil.MAXSC>=_e._HIWORD(e.s.NeedLevel)&&(n="#00ff00")),t.push(f+_e._HIWORD(e.s.NeedLevel)+"/*/"+n);break;case 1:case 19:case 23:s.m_Abil.DC2>=e.s.NeedLevel?t.push("攻击所需: "+e.s.NeedLevel+"/*/#00ff00"):t.push("攻击所需: "+e.s.NeedLevel+"/*/#ff0000");break;case 2:case 20:case 24:s.m_Abil.DC2>=e.s.NeedLevel?t.push("所需魔法: "+e.s.NeedLevel+"/*/#00ff00"):t.push("所需魔法: "+e.s.NeedLevel+"/*/#ff0000");break;case 3:case 21:case 25:s.m_Abil.DC2>=e.s.NeedLevel?t.push("所需道术: "+e.s.NeedLevel+"/*/#00ff00"):t.push("所需道术: "+e.s.NeedLevel+"/*/#ff0000");break;case 4:t.push("所需转生等级: "+e.s.NeedLevel+"/*/#ffffff");break;case 40:t.push("所需转生&等级: "+e.s.NeedLevel+"/*/#ffffff");break;case 41:t.push("所需转生&攻击: "+e.s.NeedLevel+"/*/#ffffff");break;case 42:t.push("所需转生&魔法: "+e.s.NeedLevel+"/*/#ffffff");break;case 43:t.push("所需转生&道术: "+e.s.NeedLevel+"/*/#ffffff");break;case 44:t.push("所需转生&声望: "+e.s.NeedLevel+"/*/#ffffff");break;case 5:t.push("所需声望: "+e.s.NeedLevel+"/*/#ffffff");break;case 6:t.push("行会成员专用/*/#ffffff");break;case 60:t.push("行会掌门专用/*/#ffffff");break;case 7:t.push("沙城成员专用/*/#ffffff");break;case 70:t.push("沙城城主专用/*/#ffffff");break;case 8:t.push("会员专用/*/#ffffff");break;case 81:case 82:t.push("会员类型: "+_e._LOWORD(e.s.NeedLevel)+"/*/#ffffff"),t.push("会员等级>="+_e._HIWORD(e.s.NeedLevel)+"/*/#ffffff")}}}return t},s.equipmentSuitInfos=function(e){var t=e.s.StdMode,a=[];if(5==t||6==t||10==t||11==t||15==t||16==t||48==t||t>=18&&t<=30||t>=51&&t<=54||t>=62&&t<=69||t>=70&&t<=89||178==t){if(this.boShowBoundary&&a.push("-/*/#ffffff"),e.NewValue&&e.NewValue[0]>0&&a.push("暴击几率增加: "+e.NewValue[0]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[1]>0&&a.push("增加攻击伤害: "+e.NewValue[1]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[2]>0&&a.push("物理伤害减少: "+e.NewValue[2]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[3]>0&&a.push("魔法伤害减少: "+e.NewValue[3]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[4]>0&&a.push("忽视目标防御: "+e.NewValue[4]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[5]>0&&a.push("所有伤害反弹: "+e.NewValue[5]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue&&e.NewValue[6]>0&&a.push("人物体质增加: "+e.NewValue[6]+"/*/"+R.clAqua),e.NewValue&&e.NewValue[7]>0&&a.push("装备附加经验: "+e.NewValue[7]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[8]>0&&a.push("怒气恢复增加: "+e.NewValue[8]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[9]>0&&a.push("合击攻击增加: "+e.NewValue[9]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[10]>0&&a.push("增加目标暴率: "+e.NewValue[10]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[11]>0){var s=this.FindMagicFromStatic(e.NewValue[11]);e.NewValue[12]>0&&null!=s&&a.push("增加["+s+"]技能威力"+e.NewValue[12]+"%/*/"+R.clAqua)}e.NewValue&&e.NewValue[13]>0&&a.push("人物魔力增加: "+e.NewValue[13]+"/*/"+R.clAqua),e.NewValue&&e.NewValue[14]>0&&a.push("人物体力增加: "+e.NewValue[14]+"%/*/"+R.clAqua),e.NewValue&&e.NewValue[15]>0&&a.push("人物魔力增加: "+e.NewValue[15]+"%/*/"+R.clAqua)}return a},s.FindMagicFromStatic=function(e){for(var t=0;t<re.skill_data.length;t++)if(re.skill_data[t].id==e)return re.skill_data[t].name;return null},s.titleInfos=function(e){var t=[];if(e.s.StdMode>=70&&e.s.StdMode<=74){if(e.DuraMax>0)if(e.s.NeedLevel>=3600){var a=parseInt((e.s.NeedLevel/3600).toString()),s=parseInt((e.s.NeedLevel%3600/60).toString()),r=a+" 小时 ",n=s>0?s+" 分":"";t.push("剩余时间: "+r+n)}else t.push("剩余时间: "+parseInt((e.s.NeedLevel/60).toString())+" 分");else t.push("[永久称号]");73==e.s.StdMode&&(0==e.s.AC2&&0==e.s.AC1||t.push("防御: "+e.s.AC1+"-"+e.s.AC2+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])),0==e.s.MAC2&&0==e.s.MAC1||t.push("魔防: "+e.s.MAC1+"-"+e.s.MAC2+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1]))),0==e.s.DC2&&0==e.s.DC1||t.push("攻击: "+e.s.DC1+"-"+e.s.DC2+this.getColorString(e.btValue[2])+"/*/"+this.getColor(e.btValue[2])),0==e.s.MC2&&0==e.s.MC1||t.push("魔法: "+e.s.MC1+"-"+e.s.MC2+this.getColorString(e.btValue[3])+"/*/"+this.getColor(e.btValue[3])),0==e.s.SC2&&0==e.s.SC1||t.push("道术: "+e.s.SC1+"-"+e.s.SC2+this.getColorString(e.btValue[4])+"/*/"+this.getColor(e.btValue[4])),e.s.HP>0&&t.push("体力值: "+e.s.HP+"/*/#00ff00"),e.s.MP>0&&t.push("魔法值: "+e.s.MP+"/*/#00ff00"),70==e.s.StdMode&&(0!=e.s.AC2&&t.push("魔法躲避: +"+e.s.AC2+"0%"+this.getColorString(e.btValue[0])+"/*/"+this.getColor(e.btValue[0])),e.s.MAC1>0&&t.push("诅咒: +"+e.s.MAC1),e.s.MAC2>0&&t.push("幸运: +"+e.s.MAC2+this.getColorString(e.btValue[1])+"/*/"+this.getColor(e.btValue[1]))),71==e.s.StdMode&&(0!=e.s.AC2&&t.push("准确: +"+e.s.AC2+"/*/"+this.getColor(e.btValue[0])),0!=e.s.MAC2&&t.push("敏捷: +"+e.s.MAC2+"/*/"+this.getColor(e.btValue[1]))),72==e.s.StdMode&&(0!=e.s.AC1&&t.push("攻击速度: +"+e.s.AC1+"/*/"+this.getColor(e.btValue[0])),0!=e.s.MAC1&&t.push("攻击速度: -"+e.s.MAC1+"/*/"+this.getColor(e.btValue[1])),0!=e.s.AC2&&t.push("体力恢复: +"+e.s.AC2+"0%/*/"+this.getColor(e.btValue[0])),0!=e.s.MAC2&&t.push("魔法恢复: +"+e.s.MAC2+"0%/*/"+this.getColor(e.btValue[1]))),74==e.s.StdMode&&(0!=e.s.AC1&&t.push("攻击速度: +"+e.s.AC1+"/*/"+this.getColor(e.btValue[0])),0!=e.s.AC2&&t.push("毒物躲避: +"+e.s.AC2+"0%/*/"+this.getColor(e.btValue[1])),0!=e.s.MAC2&&t.push("中毒恢复: +"+e.s.MAC2+"0%/*/"+this.getColor(e.btValue[0])))}return t},s.paperPoisonInfos=function(e){console.log("item=",e);var t=[];return 25==e.s.StdMode&&(t.push("重量: "+e.s.Weight+"/*/#ffffff"),3==e.s.Shape?t.push("数量: "+e.Dura+"/"+e.DuraMax+"/*/#00ff00"):0==e.s.Shape||1==e.s.Shape||2==e.s.Shape||5==e.s.Shape?8==e.s.Source?t.push("数量: "+this.getDuraStr(e.Dura,100*e.s.MAC1,100)+"/*/#00ff00"):t.push("数量: "+this.getDuraStr(e.Dura,e.DuraMax,R.g_ClientConfig.nMagicItemRate)+"/*/#00ff00"):8==e.s.Shape?t.push("容量: "+parseInt((e.Dura/100).toString())+"/"+parseInt(e.DuraMax)+"/*/#00ff00"):6==e.s.Shape?t.push("次数: "+parseInt((e.Dura/100).toString())+"/"+parseInt((e.DuraMax/100).toString())+"/*/#00ff00"):9==e.s.Shape?t.push("容量: "+parseInt(e.Dura)+"/"+parseInt(e.DuraMax)+"/*/#ffffff"):10==e.s.Shape&&t.push("容量: "+parseInt((e.Dura/100).toString())+"/"+parseInt(e.DuraMax)+"/*/#ffffff"),0==e.s.Source&&(0!=e.s.AC2&&t.push("防御: "+e.s.AC1+"-"+e.s.AC2+"/*/"+this.getColor(e.btValue[0])),0!=e.s.MAC2&&t.push("魔防: "+e.s.MAC1+"-"+e.s.MAC2+"/*/"+this.getColor(e.btValue[1])),0!=e.s.DC2&&t.push("攻击: "+e.s.DC1+"-"+e.s.DC2+"/*/"+this.getColor(e.btValue[1])),0!=e.s.MC2&&t.push("魔法: "+e.s.MC1+"-"+e.s.MC2+"/*/"+this.getColor(e.btValue[1])),0!=e.s.SC2&&t.push("道术: "+e.s.SC1+"-"+e.s.SC2+"/*/"+this.getColor(e.btValue[1])))),t},s.strengthenEquip=function(e){var t=[];if(e.s.StdMode>=55&&e.s.StdMode<=59){if(t.push("重量: "+e.s.Weight+"/*/#ffffff"),59==e.s.StdMode||(58==e.s.StdMode&&t.push("随机增加: "+e.s.Source+"属性点/*/#00ff00"),e.s.AniCount>0&&t.push("+"+e.s.AniCount+"以下装备/*/#00ff00")),t.push("成功机率"+e.s.DuraMax+"%/*/#ff0000"),55!=e.s.StdMode&&57!=e.s.StdMode||(57==e.s.StdMode&&2==e.s.Shape||(e.s.AC2>0&&t.push("防御+"+e.s.AC2+"/*/#ffffff"),e.s.MAC2&&t.push("魔御+"+e.s.MAC2+"/*/#ffffff")),57==e.s.StdMode&&1==e.s.Shape||(e.s.DC2>0&&t.push("攻击+"+e.s.DC2+"/*/#ffffff"),e.s.MC2>0&&t.push("魔法+"+e.s.MC2+"/*/#ffffff"),e.s.SC2>0&&t.push("道术+"+e.s.SC2+"/*/#ffffff"))),56==e.s.StdMode&&e.s.NeedLevel>=1&&e.s.NeedLevel<=100&&t.push("失败后减去相关属性:几率"+e.s.NeedLevel+"%/*/#ffffff"),58==e.s.StdMode){var a="",s=0;e.s.Need>=1&&e.s.Need<=100?(a="清零",s=e.s.Need):e.s.Need>=101&&e.s.Need<=200?(a="消失",s=e.s.Need-100):(a="不变",s=100),s>0?t.push("失败后属性["+a+"']:几率"+s+"%/*/#ffffff"):(s=-1,e.s.Need>=1&&e.s.Need<=100?(a="清零",s=e.s.Need):e.s.Need>=101&&e.s.Need<=200?(a="消失",s=e.s.Need-100):e.s.Need>=201&&e.s.Need<=300&&(a="不变",s=e.s.Need-200),s>0&&t.push("失败后属性["+a+"']:几率"+s+"%/*/#ffffff"))}t.push("用于["+this.getUpgradeItemName(e.s.Shape)+"]/*/#ffffff")}return t},s.setGemstones=function(e){var t=[];switch(e.s.StdMode){case 66:case 67:case 68:case 69:case 75:case 76:case 77:case 178:case 79:case 80:case 81:case 82:case 83:case 84:case 86:case 88:case 5:case 6:case 10:case 11:case 15:case 16:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 51:case 52:case 53:case 54:case 62:case 64:case 30:case 48:case 201:if(e.nFlutCount>0){this.boShowBoundary&&t.push("-/*/#ffffff");for(var a=0,s=0;s<e.nFlutCount&&!(e.nFlutCount>8);s++)if(""!=e.GemItem[s].Name&&e.nGemCount>a){var r=this.getGemInfo(e.GemItem[s],!0);r=""!=r?r+" "+this.getGemInfoEX(e.GemItem[s],!0):this.getGemInfoEX(e.GemItem[s],!0),t.push(e.GemItem[s].Name+":"+r+"/*/"+le.Get2RGB(e.GemItem[s].w26)),a++}else t.push("未镶嵌宝石/*/"+R.clGray)}}return t},s.itemDescs=function(e){var t=[],a=JSON.parse(m.localStorage.getItem("g_ItemDesc"));if(a){for(var s,r,n,i,o,u=0;u<a.length;u++)s=a[u].indexOf("="),r=a[u].indexOf("＝"),n=s>-1?s:r,i=a[u].substring(0,n).trim(),o=a[u].substring(n+1),i&&i==e.s.DBName&&o&&t.push({name:"desc",str:o});a=null}return t},s.getItemInfo=function(e,t){var a,s,r=[];if(e){if(a=e.s.StdMode,s=e.s.Shape,""!=e.s.Name){var n=e.s.Name;if(n=this.trimSpecialUnicode(n),e.s.IsBind&&(n+=" 已绑定"),r.push(n+"/*/"+le.Get2RGB(e.s.Color)),(15==a||a>=19&&a<=26)&&s>=130&&s<=132)r.push("????/*/#ffffff");else if(this.getTakeOnPosition(a,s,null,null)>=0&&e.btUpgradeCount>0){for(var i=parseInt((e.btUpgradeCount/10).toString()),o=e.btUpgradeCount%10,u="",f=0;f<i;f++)u+="★";for(var c=0;c<o;c++)u+="●";for(var l=0;l<u.length;l+=10)r.push(u.substr(l,10))}}switch(a){case 0:r.push("重量: "+e.s.Weight+"/*/#ffffff"),e.s.AC1>0&&r.push("HP: +"+e.s.AC1+"/*/#00ff00"),e.s.MAC1>0&&r.push("MP: "+e.s.MAC1+"/*/#00ff00");break;case 1:(0!=s&&s<3||s>4&&s<8)&&r.push("持续使用: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+" 小时/*/#ffffff"),(e.s.Shape>2&&e.s.Shape<5||e.s.Shape>7&&e.s.Shape<11)&&r.push("累积使用: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+" 小时/*/#ffffff"),r.push("重量: "+e.s.Weight+"/*/#ffffff");break;case 2:var g=this.countItemInfos(e,s);r=r.concat(g);break;case 3:r.push("重量: "+e.s.Weight+"/*/#ffffff");break;case 7:var h=this.skillBookInfo1(e,s);r=r.concat(h);case 9:case 41:case 13:case 14:case 44:case 211:r.push("重量: "+e.s.Weight+"/*/#ffffff");break;case 8:r.push("品质: "+e.s.AC1+"/*/#ffffff");break;case 60:var d=this.wineInfos(e,s);0!=d.length&&(r=r.concat(d));break;case 4:var m=this.skillBookInfo2(e,s);0!=m.length&&(r=r.concat(m));break;case 5:case 6:case 12:case 68:case 69:case 90:var p=this.weaponInfos(e);0!=p.length&&(r=r.concat(p));break;case 25:var _=this.titleInfos(e);0!=_.length&&(r=r.concat(_));break;case 95:(e.s.AC1>0||e.s.AC2)&&r.push("钓力: "+e.s.AC1+"-"+e.s.AC2+"/*/#ffffff"),e.DuraMax>0&&(e.Dura/1e3<3?r.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ff0000"):r.push("持久: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ffffff")),r.push("重量: "+e.s.Weight+"/*/#ffffff");break;case 96:(e.s.AC1>0||e.s.AC2>0)&&r.push("上钩几率增加: "+e.s.AC1+"-"+e.s.AC2+"/*/#ffffff"),r.push("数量: "+e.Dura+"-"+e.DuraMax+"/*/#ffffff"),r.push("重量: "+e.s.Weight+"/*/#ffffff");break;case 40:r.push("重量: "+e.s.Weight+"/*/#ffffff"),0==e.s.Shape&&r.push("品质: "+this.getDuraStr(e.Dura,e.DuraMax,1e3)+"/*/#ffffff");break;case 42:r.push("重量: "+e.s.Weight+"/*/#ffffff");break;case 43:r.push("重量: "+e.s.Weight+"/*/#ffffff"),r.push("纯度: "+Math.round(e.Dura/1e3)+"/*/#ffffff");break;case 49:var S=0==e.s.AniCount?R.g_GameGoldNum.key:R.g_GameCionNum.key,v=e.s.Need;r.push("重量: "+e.s.Weight+"/*/#ffffff"),e.Dura>=e.DuraMax&&4!=R.g_OpenIdx?(r.push("经验值容量("+e.DuraMax+")万  /*/#ffffff"),r.push("可消耗"+v+S+"释放/*/#ffffff")):(4==R.g_OpenIdx&&(e.Dura=0),r.push("累积经验"+e.Dura+"/"+e.DuraMax+"万 /*/#ffffff"));break;case 31:0==e.s.AniCount||0!=e.s.Shape&&3!=e.s.Shape||1!=e.s.Source||r.push("使用次数: "+this.getDuraStr(e.Dura,e.DuraMax,1)+"/*/#ffffff"),r.push("重量: "+e.s.Weight+"/*/#ffffff");break;case 149:r.push("重量: "+e.s.Weight+"/*/#ffffff"),r.push("开启宝箱钥匙，移动到宝箱内既可/*/#ffffff")}var b=this.clothesTypeInfo(e);0!=b.length&&(r=r.concat(b));var C=this.equipmentInfos(e);0!=C.length&&(r=r.concat(C));var M=this.titleInfos(e);0!=M.length&&(r=r.concat(M));var I=this.paperPoisonInfos(e);0!=I.length&&(r=r.concat(I));var A=this.strengthenEquip(e);0!=A.length&&(r=r.concat(A));var k=this.equipmentSuitInfos(e);0!=k.length&&(r=r.concat(k));var N=this.getGemInfo(e,null);""!=N&&r.push(N+"/*/"+R.clLime);var L=this.getGemInfoEX(e,null);if(""!=L&&r.push(L+"/*/"+R.clLime),(101==e.s.Need||102==e.s.Need||103==e.s.Need||104==e.s.Need)&&e.ItemFrom){var y=new Date(e.ItemFrom.DateTime).getTime();if(y>0){var x=this.getformattimestamp(y+60*e.s.NeedLevel*1e3);r.push("限时装备: "+x+"到期/*/"+R.clLime)}}var D=this.setGemstones(e);if(0!=D.length&&(r=r.concat(D)),e.btFluteCount>0){var w=0;e.Flutes.forEach((function(e,t){if(e.GemIndex>0&&e.GemCount>0){w++;var a=R.g_Showitem[e.GemIndex-1];if(a){var s=a.s.Name,n=le.Get2RGB(a.s.Color);r.push("已镶嵌["+s+"]/*/"+n)}}})),0==w&&r.push("未镶嵌的古灵套币孔/*/#ffffff")}e.TUserItemAdd&&e.TUserItemAdd.nMakeIndex&&r.push({name:"custom",obj:e.TUserItemAdd}),this.getLegTZInfo(e,r,t);var E=e.s.StdMode;if((5==E||6==E||10==E||11==E||15==E||16==E||E>=19&&E<=24||25==E||E>=26&&E<=30||48==E||53==E||E>=62&&E<=69||78==E||75==E||76==E||77==E||E>=79&&E<=89||178==E)&&R.g_ItemScoreRecord&&R.g_ItemScoreRecord.BoOpen&&R.g_ItemScoreRecord.boOpenShowItemScore){var O=Se.getItemScore(e);r.push("装备评分: "+O+"/*/#ffffff")}var H=this.itemDescs(e);0!=H.length&&(r=r.concat(H));for(var B=le.Get2RGB(254),G=le.Get2RGB(146),P=!1,T=0;T<e.s.Elements.length;T++)if(e.s.Elements[T]>0)switch(P||(r.push("[元素属性]/*/"+G),P=!0),T){case 0:r.push("暴击几率: +"+e.s.Elements[T]+"%/*/"+B);break;case 1:r.push("攻击伤害: +"+e.s.Elements[T]+"%/*/"+B);break;case 2:r.push("伤害吸收: +"+e.s.Elements[T]+"%/*/"+B);break;case 3:r.push("魔法防御: +"+e.s.Elements[T]+"%/*/"+B);break;case 4:r.push("忽视防御: +"+e.s.Elements[T]+"%/*/"+B);break;case 5:r.push("伤害反弹: +"+e.s.Elements[T]+"%/*/"+B);break;case 6:r.push("人物暴率: +"+e.s.Elements[T]+"%/*/"+B);break;case 7:r.push("体力增加: +"+e.s.Elements[T]+"%/*/"+B);break;case 8:r.push("魔力增加: +"+e.s.Elements[T]+"%/*/"+B);break;case 9:r.push("怒气恢复: +"+e.s.Elements[T]+"%/*/"+B);break;case 10:r.push("合击伤害: +"+e.s.Elements[T]+"%/*/"+B);break;case 11:r.push("怪物暴率: +"+e.s.Elements[T]+"%/*/"+B);break;case 12:r.push("防暴几率: +"+e.s.Elements[T]+"%/*/"+B);break;case 13:r.push("防止麻痹: +"+e.s.Elements[T]+"%/*/"+B);break;case 14:r.push("防止护身: +"+e.s.Elements[T]+"%/*/"+B);break;case 15:r.push("防止复活: +"+e.s.Elements[T]+"%/*/"+B);break;case 16:r.push("防止全毒: +"+e.s.Elements[T]+"%/*/"+B);break;case 17:r.push("防止诱惑: +"+e.s.Elements[T]+"%/*/"+B);break;case 18:r.push("防止火墙: +"+e.s.Elements[T]+"%/*/"+B);break;case 19:r.push("防止冰冻: +"+e.s.Elements[T]+"%/*/"+B);break;case 20:r.push("防止蛛网: +"+e.s.Elements[T]+"%/*/"+B);break;case 21:r.push("致命一击几率: +"+e.s.Elements[T]+"%/*/"+B);break;case 22:r.push("致命一击伤害增加: +"+e.s.Elements[T]+"%/*/"+B);break;case 23:r.push("致命一击防御: +"+e.s.Elements[T]+"%/*/"+B);break;case 24:r.push("暴击抗性: +"+e.s.Elements[T]+"%/*/"+B)}return null!=e.ItemFrom?this.itemsMakeInf(e.ItemFrom,r):r}},s.itemsMakeInf=function(e,t){if(e.ItemForm>0&&e.ItemForm<51){switch(t.push(" /*/"+R.clYellow),t.push("[物品来源]/*/#a2b5cd"),e.ItemForm){case 1:t.push("物品来源: GM制造/*/"+R.clYellow),t.push("制造者: "+e.sMakerName+"/*/"+R.clYellow);break;case 2:t.push("物品来源: NPC制造/*/"+R.clYellow),t.push("获取人: "+e.sMakerName+"/*/"+R.clYellow),e.sMonName&&t.push("NPC: "+e.sMonName+"/*/"+R.clYellow);break;case 3:case 13:t.push("物品来源: 商店购买/*/"+R.clYellow),t.push("购买人: "+e.sMakerName+"/*/"+R.clYellow);break;case 4:t.push("物品来源: 杀怪掉落/*/"+R.clYellow),t.push("地图: "+e.sMapName+"/*/"+R.clYellow),t.push("怪物: "+e.sMonName+"/*/"+R.clYellow),t.push("击杀者: "+e.sMakerName+"/*/"+R.clYellow);break;case 15:t.push("物品来源: 新人赠送/*/"+R.clYellow),t.push("赠送人: "+e.sMakerName+"/*/"+R.clYellow);break;case 5:case 7:t.push("物品来源: 系统给予/*/"+R.clYellow),t.push("经手人: "+e.sMakerName+"/*/"+R.clYellow);break;case 6:t.push("物品来源: 挖矿获取/*/"+R.clYellow),t.push("地图: "+e.sMapName+"/*/"+R.clYellow),t.push("经手人: "+e.sMakerName+"/*/"+R.clYellow);break;case 8:t.push("物品来源: 宝箱获取/*/"+R.clYellow),t.push("开箱人: "+e.sMakerName+"/*/"+R.clYellow),t.push("宝箱: "+e.sMonName+"/*/"+R.clYellow);break;case 9:t.push("物品来源: 挖肉获取/*/"+R.clYellow),t.push("地图: "+e.sMapName+"/*/"+R.clYellow),t.push("经手人: "+e.sMakerName+"/*/"+R.clYellow),t.push("怪物: "+e.sMonName+"/*/"+R.clYellow)}t.push("时间: "+e.DateTime+"/*/"+R.clYellow)}return t},s.getUpgradeItemName=function(e){if(e>=19&&e>=21)return"项链";var t="";switch(e){case 10:case 11:t="衣服";break;case 5:case 6:t="武器";break;case 15:t="头盔";break;case 22:case 23:t="戒指";break;case 24:case 26:t="手镯";break;case 52:case 62:case 28:t="鞋";break;case 7:case 53:case 63:t="宝石";break;case 54:case 64:case 27:t="腰带";break;case 16:t="斗笠";break;case 65:t="军鼓";break;default:t="所有装备"}return t},s.getDuraHPStoneStr=function(e,t){if(R.g_HPStoneDec)return Math.round(e/1e3)+"万/"+Math.round(t/1e3)+"万"},s.getDuraMPStoneStr=function(e,t){if(R.g_MPStoneDec)return Math.round(e/1e3)+"万/"+Math.round(t/1e3)+"万"},s.parseNameFormat=function(e){var t="",a=0,s=e;e>=1e4&&(a=Math.floor(e/1e4),s=e%1e4);for(var r=(s+="").length;r<5;r++)t+="0";return e>=1e4&&0!=a?"data/items"+a+"/"+t+s+".png":"data/items/"+t+e+".png"},s.parseNameFormatSkill=function(e){var t,a=this.getprefixname(e,6);e>=1e4?(t=Math.floor(e/1e4),e-=1e4):t="";var s=this.getImageSetNameByPath("data/magicon"+t+"/"+a);return s=s.replace(".atlas","/"+a+".png")},s.parseMagicNameFormat=function(e){for(var t="",a=e.toString().length;a<5;a++)t+="0";return"data/magicion/"+t+e+".png"},s.parseMagicResName=function(e){for(var t="",a=e.toString().length;a<5;a++)t+="0";return"SkillIcon/"+t+e+".png"},s.weaponAttackSound=function(e,t,a,s){var r;switch(e){case j.THROW:case j.HIT:case j.HIT+1:case j.HIT+2:case j.POWERHIT:case j.HIT43:case j.LONGHIT:case j.WIDEHIT:case j.FIREHIT:case j.CRSHIT:case j.TWNHIT:case j.HIT66:switch(Math.floor(t/2)){case 6:case 20:r=R.s_hit_short;break;case 1:r=R.s_hit_wooden;break;case 2:case 13:case 9:case 5:case 14:case 22:r=R.s_hit_sword;break;case 4:case 17:case 10:case 15:case 16:case 23:r=R.s_hit_do;break;case 3:case 7:case 11:r=R.s_hit_axe;break;case 24:r=R.s_hit_club;break;case 8:case 12:case 18:case 21:r=R.s_hit_long;break;default:r=R.s_hit_fist}break;case j.HIT101:r=0==a?R.s_cboZs1_start_m:R.s_cboZs1_start_w;break;case j.HIT100:r=R.s_cboZs2_start;break;case j.HIT102:r=0==a?R.s_cboZs3_start_m:R.s_cboZs3_start_w;break;case j.HIT103:r=R.s_cboZs4_start;break;case j.HIT60:r=R.s_60HIT;break;case j.HIT61:case j.HIT62:r=R.s_61HIT;break;case j.SWORDHIT:r=0==a?R.s_hit_ZRJF_M:R.s_hit_ZRJF_W;break;case j.STRUCK:var n=Math.floor(t/2);if(3==Math.floor(s/2))switch(n){case 6:r=R.s_struck_armor_sword;break;case 1:case 2:case 4:case 5:case 9:case 10:case 13:case 14:case 15:case 16:case 17:r=R.s_struck_armor_sword;break;case 3:case 7:case 11:r=R.s_struck_armor_axe;break;case 8:case 12:case 18:r=R.s_struck_armor_longstick;break;default:r=R.s_struck_armor_fist}else switch(n){case 6:r=R.s_struck_body_sword;break;case 1:case 2:case 4:case 5:case 9:case 10:case 13:case 14:case 15:case 16:case 17:r=R.s_struck_body_sword;break;case 3:case 7:case 11:r=R.s_struck_body_axe;break;case 8:case 12:case 18:r=R.s_struck_body_longstick;break;default:r=R.s_struck_body_fist}}this.playMusicFormat(r)},s.skillStartSound=function(e,t){return this.playSound(e,t)},s.skillExplosionSound=function(e){return this.playSound(e)},s.playSound=function(e,t){e=null!=t?1e4+10*e+t:1e4+10*e+2;for(var a=0;a<R.soundReUse.length;a++)if(R.soundReUse[a].id==e)return"wav/"+R.soundReUse[a].type;if(this.sound_json.length){for(var s=0;s<this.sound_json.length;++s)if(this.sound_json[s].id==e&&this.sound_json[s].type)return R.soundReUse.push(this.sound_json[s]),"wav/"+this.sound_json[s].type}else this.sound_json=JSON.parse(m.localStorage.getItem("sound_json"))},s.clickSound=function(e){switch(e.s.StdMode){case 0:this.playMusicFormat(R.s_click_drug);break;case 31:this.playMusicFormat(R.s_itmclick);break;case 5:case 6:this.playMusicFormat(R.s_click_weapon);break;case 10:case 11:this.playMusicFormat(R.s_click_armor);break;case 22:case 23:this.playMusicFormat(R.s_click_ring);break;case 24:case 26:this.playMusicFormat(R.s_click_armring);break;case 19:case 20:case 21:this.playMusicFormat(R.s_click_necklace);break;case 15:this.playMusicFormat(R.s_click_helmet);break;default:this.playMusicFormat(R.s_itmclick)}},s.getAudioRource=function(){return new p},s.playMusicFormat=function(e){if(void 0===e&&(e=""),e)if(1!=R.s_temp_play){var t="",a=e,s=e.split("."),r=e.split("/");s[1];""!=s[0]&&(0!=r.length&&(t=r[r.length-1]),""!=R.S_LIMIT_FORMAT?(a=s[0]+"."+R.S_LIMIT_FORMAT,$.instance.playSound(a)):(this.currLoadMusic={},null==R.SOUND_PLAY[t]?this.checkIsHaveMusic(s[0]+".ogg",F.OGG):$.instance.playSound(R.SOUND_PLAY[t])))}else $.instance.playSound(e)},s.runingPlayCall=function(){var e="";if(null!=this.currLoadMusic.ogg?e=this.currLoadMusic.ogg.url:null!=this.currLoadMusic.mp3?e=this.currLoadMusic.mp3.url:null!=this.currLoadMusic.wav&&(e=this.currLoadMusic.wav.url),""!=e){var t="",a=e.split("/");0!=a.length&&(t=a[a.length-1]),R.SOUND_PLAY[t]=e,$.instance.playSound(e)}this.currLoadMusic={}},s.checkIsHaveMusic=function(e,t){var a=this;_.load(e,g,(function(e){switch(t){case F.OGG:a.currLoadMusic.ogg=e;break;case F.MP3:a.currLoadMusic.mp3=e;break;case F.WAV:a.currLoadMusic.wav=e}Object.keys(a.currLoadMusic).length>=1&&a.runingPlayCall()}))},s.hasmining=function(e,t){return!1},s.timetosec=function(e){var t,a=Math.floor(e/3600),s=Math.floor(e/60)%60,r=e%60;return t=a<10?"0"+a+":":a+":",s<10&&(t+="0"),t+=s+":",r<10&&(t+="0"),t+=r},s.slice=function(e,t,a){for(var s=0,r=new Uint8Array(a-t),n=t;n<a;n++,s++)r[s]=e[n];return r},s.sliceUint32Array=function(e,t,a){for(var s=0,r=new Uint32Array(a-t),n=t;n<a;n++,s++)r[s]=e[n];return r},s.israngeskill=function(e){return 20==e||11==e||12==e||14==e||27==e||38==e||119==e||121==e||17==e||this.checkManualSkill(e,R.GlobalCfglist.manualHurricaneSkill,47)||this.checkManualSkill(e,R.GlobalCfglist.manualIceRoar,31)||this.checkManualSkill(e,R.GlobalCfglist.manualBombFire,21)||this.checkManualSkill(e,R.GlobalCfglist.manualIncendiaryShower,51)||99==e||85==e||40==e||46==e},s.checkManualSkill=function(e,t,a){return!!t&&e==a},s.checkFastLightLockRelease=function(e){return 8!=e||(!!R.autohookstate||!R.GlobalCfglist.manualFastLight)},s.isselfskill=function(e){return 29==e||19==e||2==e||2==e||15==e||16==e||28==e||5==e||13==e||24==e||25==e||26==e},s.showvaule=function(e,t,a,r){if(null!=a&&2!=a.type){var n,o=0,c=new u(25,-a.sp.getComponent(i).height/2);switch(t){case j.STRUCK_BLAST:case j.HEROGROUPATTACK:o=150;break;case j.REBOUND:o=170;break;case j.NPCHSPELLCHANGED:o=e>0?190:210;break;case V.E_ROLE_CHANGE_HP:o=210;break;case V.E_ROLE_CHANGE_MP:o=230;break;case V.E_ROLE_POISONING_RED:(n=Z.playframe(!1,a.node,"Animation/goneWord/",360,364,200,!1,!0,c))&&(n.name="hongdu");break;case V.E_ROLE_POISONING_GRE:(n=Z.playframe(!1,a.node,"Animation/goneWord/",370,374,200,!1,!0,c))&&(n.name="lvdu");break;case V.E_ROLE_ALIVE:Z.playframe(!1,a.node,"Animation/goneWord/",380,384,200,!1,!0,c);break;case V.E_ROLE_LULL:(n=Z.playframe(!1,a.node,"Animation/goneWord/",390,394,80,!1,!0,c))&&(n.name="mabi");break;default:o=130}if(o>0){var g=s.getMapLayerScript().getValuePrefab(o),h=te.getNode(g,a.node,g.name);h.layer=R.canvas_19,null==h.getComponent(l)&&h.addComponent(l);var d=a.sp.getComponent(i).height;d>100&&(d=100),h.getComponent(l).opacity=50,h.setPosition(0,d),h.setScale(.8,.8),h.getComponent(S).string=(r?":":";")+(e>0?e:-e),f(h).to(.3,{scale:new u(1,1),position:new u(0,d+60)}).to(.4,{scale:new u(.8,.8)}).start().tag(1),f(h.getComponent(l)).to(.3,{opacity:255},{easing:"cubicInOut"}).to(.41,{opacity:0},{easing:"quartIn"}).call((function(){te.putNode(h,h.name)})).start().tag(1)}}},s.showNewBag=function(e,t){var a=this;console.log("showNewBag");var r=v("Canvas/UIBox/BagWin");if(e){if(r&&r.active){var n=v("Canvas/UIBox/warehouseBg");return void s.setWarehouseAndBagLayouy(!!n,r,n)}if(t&&b.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&b.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("BagWin"))return;_.load("prefab/Bag/BagWin",C,(function(e,r){if(e)console.log(e);else{var n;if(n=t?a.publicLayoutNode():v("Canvas/UIBox"),v("Canvas/UIBox/BagWin"))return;var i=M(r);if(n){i.setParent(n),i.setSiblingIndex(n.children.length-1);var o=v("Canvas/UIBox/warehouseBg");s.setWarehouseAndBagLayouy(!!o,i,o)}}}))}else r&&r.getComponent(ge).closeView()},s.showNewTeamGroup=function(e){},s.showNewHeroBag=function(e){},s.intBagList=function(){R.g_BagItemsList=[];for(var e=0;e<this.maxBagItems();e++)R.g_BagItemsList.push(null)},s.intHeroBagList=function(){R.g_HeroBagItemsList=[];for(var e=0;e<46;e++)R.g_HeroBagItemsList.push(null)},s.loadBagItemIcon=function(e,t){var a=[];if(null!=e)for(var s=0;s<e.length;s++)if(null!=e[s]){var r=this.parseNameFormat(e[s].s.Looks);if(""!=r){var n=r.replace(".png","");""!=(r=this.getImageSetNameByPath(n))&&a.push(r)}}0!=a.length&&se.resLoad(a,(function(){0==t?B.raiseEvent(W.SHOWDRUG_ITEMS):1==t&&B.raiseEvent("Update_Npc_Items2")}))},s.loadBagItemIcon2=function(e){if(null!=e){this.trimSpecialUnicode(e.s.DBName);for(var t=!0,a=0;a<R.g_BagItemsList.length;a++){var s=R.g_BagItemsList[a];if(s&&s.MakeIndex==e.MakeIndex){t=!1;break}}t&&(this.checkItemCanBreakUp(e)?0==e.s.StdMode?B.raiseEvent("item_hint",[e,e.Dura]):B.raiseEvent("item_hint",[e,e.Dura+1]):B.raiseEvent("item_hint",[e,1])),this.addItemNewBag(e)}},s.getItemNewBag=function(e,t){null!=e&&""!=e.s.Name&&this.selfAddItem(e,t)},s.selfAddItem=function(e,t){for(var a=this.maxBagItems(),s=0,r=0;r<a;r++)if(null==R.g_BagItemsList[r]){for(var n=!0,i=0;i<R.g_boxItemArr.length;i++)if(R.g_boxItemArr[i]&&R.g_boxItemArr[i].MakeIndex==e.MakeIndex){n=!1;break}for(var o=0;o<R.g_BagItemsList.length;o++){var u=R.g_BagItemsList[o];if(u&&u.MakeIndex==e.MakeIndex){s=o,n=!1;break}}n&&(s=r,R.g_BagItemsList[r]=e);break}R.g_OpenBag&&B.raiseEvent("updateItemByIndex",s),B.raiseEvent(W.SCREEN_REFRESH_SEARCHITEMS),t||(B.raiseEvent(W.SHOWDRUG_ITEMS),"盟重回城石"==e.s.Name&&setTimeout((function(){B.raiseEvent("setToCtiyStone_labContent")}),400),"随机传送石"==e.s.Name&&setTimeout((function(){B.raiseEvent("setRandomStone_labContent")}),500)),B.raiseEvent(W.SHOW_BAG_HINT)},s.heroAddItem=function(e){if(null!=e&&""!=e.s.Name){for(var t=0;t<R.g_HeroBagItemsList.length;t++)if(null==R.g_HeroBagItemsList[t]){R.g_HeroBagItemsList[t]=e;break}R.g_OpenHeroBag&&B.raiseEvent("Show_HeroBag_Item_ico"),B.raiseEvent(W.SCREEN_REFRESH_SEARCHITEMS)}},s.addItemNewBag=function(e){null!=e&&""!=e.s.Name&&this.selfAddItem(e)},s.getBagItemByDBName=function(e){if(e)for(var t=0;t<R.g_BagItemsList.length;t++)if(null!=R.g_BagItemsList[t]&&R.g_BagItemsList[t].s.DBName==e)return R.g_BagItemsList[t]},s.getBagItemByStdmodeAndShape=function(e,t){if(e&&t)for(var a=0;a<R.g_BagItemsList.length;a++)if(null!=R.g_BagItemsList[a]&&R.g_BagItemsList[a].s.Shape==t&&R.g_BagItemsList[a].s.StdMode==e)return R.g_BagItemsList[a]},s.delBagItems=function(e){var t=!1;if(-1!=e){for(var a,s=0;s<R.g_BagItemsList.length;s++)if(null!=R.g_BagItemsList[s]&&R.g_BagItemsList[s].MakeIndex==e){R.g_BagItemsList[s]=null,a=s,t=!0;break}return B.raiseEvent("updateItemByIndex",a),B.raiseEvent(W.SHOWDRUG_ITEMS),R.MainScene.openScreen&&B.raiseEvent(W.SCREEN_REFRESH_SEARCHITEMS),t}},s.delBagItemByName=function(e,t){var a=!1;if(""!=e){for(var s,r=0;r<R.g_BagItemsList.length;r++)if(null!=R.g_BagItemsList[r]&&R.g_BagItemsList[r].s.Name==e){R.g_WaitItems.Items=R.g_BagItemsList[r],fe.sendEat(0,R.g_BagItemsList[r].MakeIndex,R.g_BagItemsList[r].s.Name),s=r,!t&&(R.g_BagItemsList[r]=null),a=!0;break}return B.raiseEvent("updateItemByIndex",s),B.raiseEvent(W.SCREEN_REFRESH_SEARCHITEMS),a}},s.delHeroBagItems=function(e){if(-1!=e){for(var t=0;t<R.g_HeroBagItemsList.length;t++)if(null!=R.g_HeroBagItemsList[t]&&R.g_HeroBagItemsList[t].MakeIndex==e){R.g_HeroBagItemsList[t]=null;break}B.raiseEvent("Show_HeroBag_Item_ico"),B.raiseEvent(W.SCREEN_REFRESH_SEARCHITEMS)}},s.intUserItems=function(e){R.g_UserItemList=[];for(var t=0;t<e;t++)R.g_UserItemList.push(null)},s.intHeroItems=function(e){R.g_HeroItemList=[];for(var t=0;t<e;t++)R.g_HeroItemList.push(null)},s.getUserItems=function(e){if(-1!=e)for(var t=0;t<R.g_UserItemList.length;t++)if(null!=R.g_UserItemList[t]&&R.g_UserItemList[t].MakeIndex==e)return R.g_UserItemList[t]},s.getBagItems=function(e){if(-1!=e)for(var t=0;t<R.g_BagItemsList.length;t++)if(null!=R.g_BagItemsList[t]&&R.g_BagItemsList[t].MakeIndex==e)return R.g_BagItemsList[t]},s.delUserItems=function(e){var t=!1;if(-1!=e){for(var a=0;a<R.g_UserItemList.length;a++)if(null!=R.g_UserItemList[a]&&R.g_UserItemList[a].MakeIndex==e){R.g_UserItemList[a];R.g_UserItemList[a]=null,R.GlobalCfglist.d_autoskill_3,t=!0,B.raiseEvent("Show_Item_ico",-1);break}return t}},s.delHeroItems=function(e){if(-1!=e){for(var t=0;t<R.g_HeroItemList.length;t++)if(null!=R.g_HeroItemList[t]&&R.g_HeroItemList[t].MakeIndex==e){R.g_HeroItemList[t];R.g_HeroItemList[t]=null;break}B.raiseEvent("Show_HeroItem_ico",-1)}},s.updateHeroItems=function(e){for(var t=!1,a=-1,s=0;s<R.g_HeroBagItemsList.length;s++)if(null!=R.g_HeroBagItemsList[s]&&R.g_HeroBagItemsList[s].MakeIndex==e.MakeIndex){a=e.Dura-R.g_HeroBagItemsList[s].Dura,R.g_HeroBagItemsList[s]=e,B.raiseEvent("Show_HeroBag_Item_ico",-1),t=!0;break}if(!t)for(var r=0;r<R.g_HeroItemList.length;r++)if(R.g_HeroItemList[r]&&R.g_HeroItemList[r].MakeIndex==e.MakeIndex){a=Math.abs(e.Dura-R.g_HeroItemList[r].Dura),R.g_HeroItemList[r]=e;break}return a},s.updateItems=function(e,t){for(var a=!1,s=-1,r=0;r<R.g_BagItemsList.length;r++)if(null!=R.g_BagItemsList[r]&&R.g_BagItemsList[r].MakeIndex==e.MakeIndex){if(s=e.Dura-R.g_BagItemsList[r].Dura,-1==this.checkHaveGlobalList(R.g_BagItemsList,e)&&-1!=this.checkHaveGlobalList(R.g_StoreItemList,e))continue;R.g_BagItemsList[r]=e,t?B.raiseEvent(W.SHOW_BAG_ITEM_ICO):B.raiseEvent("updateItemByIndex",r),a=!0,this.checkItemCanBreakUp(e)&&0!=s&&B.raiseEvent("item_hint",[e,s]);break}if(!a){for(var n=!1,i=0;i<R.g_UserItemList.length;i++)if(R.g_UserItemList[i]&&R.g_UserItemList[i].MakeIndex==e.MakeIndex){s=Math.abs(e.Dura-R.g_UserItemList[i].Dura),R.g_UserItemList[i]=e,n=!0,B.raiseEvent("showDuraHum");break}if(!n&&e){if(-1==this.checkHaveGlobalList(R.g_BagItemsList,e))return B.raiseEvent(W.SHOWDRUG_ITEMS),s;this.addItemNewBag(e)}}return B.raiseEvent(W.SHOWDRUG_ITEMS),s},s.checkHaveGlobalList=function(e,t){for(var a=0;a<e.length;a++)if(null!=e[a]&&e[a].MakeIndex==t.MakeIndex)return a;return-1},s.updateUserItemsForIdx=function(e,t,a){e<R.g_UserItemList.length&&null!=R.g_UserItemList[e]&&(R.g_UserItemList[e].Dura=t,R.g_UserItemList[e].DuraMax=a)},s.showNewLogo=function(e,t,a,s){this.skillListType=t,this.SkillRockeNum=a;var r=R.MainScene.instanceOfMem("HumWin"),n=null;r&&(n=r.getComponent(de)),e?(n?n&&0==n.node.active?(n.node.active=!0,_.load("gameres/png/00029_new.png",(function(e){}))):null!=s&&n.showTab(Number(s)):(R.MainScene.openHumTab=Number(s),R.MainScene.onClickRole()),1==t&&n.onState_skill(),n&&n.ShowItemico()):n&&(n.node.active=!1)},s.showHeroWin=function(e,t,a,s){this.skillListType=t,this.SkillRockeNum=a;var r=null,n=null,i={target:{name:s}};e&&(null!=s&&(null!=(n=r._childs[0].getChildByName(s))?i.target=n:i.target.name=s.toString(),r.ontab1_Click(i)),1==t&&r.onState_skill(),r.showItemico(-1))},s.newShowItemsClose=function(){R.MainScene.openNewItemInfo&&R.MainScene.closeWindow("NewItemInfoWin")},s.newShowItemsInf=function(e,t,a,s){e&&B.raiseEvent(W.OPEN_NEW_ITEM_INFO,[e,t,a,s])},s.newShowMagicInf=function(){if(1!=this.skillListType){var e=Se.getMagicDes(R.g_MoveSkill.Def.sMagicName),t=[];if(null!=R.g_MoveSkill){t.push(R.g_MoveSkill.Def.sMagicName+"/*/#ffffff");var a="";this.getJobName(R.g_MoveSkill.Def.btJob)&&(a=this.getJobName(R.g_MoveSkill.Def.btJob)),t.push("适用职业: "+a+"/*/#ffffff"),e&&t.push(e+"/*/#ffffff");var s=R.g_MoveSkill.Def.btEffect;38==R.g_MoveSkill.Def.wMagicId&&(s=4),46==R.g_MoveSkill.Def.wMagicId&&(s=42),39==R.g_MoveSkill.Def.wMagicId&&(s=0);this.parseNameFormatSkill(2*s);if(R.g_MoveSkill.Def.wMagicId>=1e3&&R.g_MoveSkill.Def.wMagicId<=1500){var r=re.findCustomSkill(R.g_MoveSkill.Def.wMagicId,R.g_MoveSkill.Level);r&&ve.getUrl(R.g_pak_list[r.iconFileIndex],r.wIconImageIndex)}return R.g_MoveItems.Items=null,t}}else this.addSkill(this.SkillRockeNum)},s.addSkill=function(e){if(null!=R.g_MoveSkill){if("基本剑术"==R.g_MoveSkill.Def.sMagicName||"攻杀剑术"==R.g_MoveSkill.Def.sMagicName||"精神力战法"==R.g_MoveSkill.Def.sMagicName||"护体神盾"==R.g_MoveSkill.Def.sMagicName)return void B.raiseEvent("show_log",[{txt:"被动技能无法主动布置",color:"#ff0000"}]);for(var t=0;t<R.g_SetupMagicList.length;t++)if(null!=R.g_SetupMagicList[t]&&R.g_MoveSkill.Def.wMagicId==R.g_SetupMagicList[t].Def.wMagicId){Se.setSkillKey(R.g_SetupMagicList[t].Def.wMagicId,0),B.raiseEvent("remove_magic",t),R.g_SetupMagicList[t]=null;break}null==R.g_SetupMagicList[e]?(R.g_SetupMagicList[e]=R.g_MoveSkill,Se.setSkillKey(R.g_SetupMagicList[e].Def.wMagicId,e+49)):(Se.setSkillKey(R.g_SetupMagicList[e].Def.wMagicId,0),B.raiseEvent("remove_magic",e),R.g_SetupMagicList[e]=R.g_MoveSkill,Se.setSkillKey(R.g_SetupMagicList[e].Def.wMagicId,e+49)),null==R.g_SetupMagicList[12]?B.raiseEvent("add_magic_attack"):B.raiseEvent("add_magic_attack",[R.g_SetupMagicList[12]]),B.raiseEvent("Magic_Refresh"),B.raiseEvent("update_icon",e)}},s.showItemeffect=function(e,t,a){if(null!=t||null!=t){var s=t.s.BagEffect.FileIndex,r=t.s.BagEffect.ImageStart,n=t.s.BagEffect.ImageCount,i=t.s.BagEffect.Time,o=this.cutoffset(R.g_pak_list[s]),u=Z.getAni(e,"effect"+e.uuid);if(!u||65535!=s&&0!=s){if(65535!=s&&0!=s)if(u){if(u.makeIndex!=t.MakeIndex){Z.removeAni(u);var f=Z.playframe(!t.s.BagEffect.IsDrawNoBlend,e,"data/"+R.g_pak_list[s]+"/",r,r+n-1,i,!0,!1,null,null,null,null,"data/"+R.g_pak_list[s]+"/",!o);f&&(f.name="effect"+e.uuid,f.is_use_offest=!1,f.makeIndex=t.MakeIndex)}}else{var c=Z.playframe(!t.s.BagEffect.IsDrawNoBlend,e,"data/"+R.g_pak_list[s]+"/",r,r+n-1,i,!0,!1,null,null,null,null,"data/"+R.g_pak_list[s]+"/",!o);c&&(c.name="effect"+e.uuid,c.is_use_offest=!1,c.makeIndex=t.MakeIndex)}}else Z.removeAni(u)}},s.showItemeffectEx=function(e,t,a,s,r){if(null!=a){var n=a.s.BodyEffect.FileIndex,i="",o=null,f=a.s.BodyEffect.ImageStart,c=a.s.BodyEffect.ImageCount,g=a.s.BodyEffect.Time,h=a.s.BodyEffect.OffsetX,d=a.s.BodyEffect.OffsetY;if(n>0&&n<R.g_pak_list.length){i=R.g_pak_list[n],null==s&&(s=this.cutoffset(i));var m=Z.getAni(t,"bodyeffect"+t.uuid);if(!m||65535!=n&&0!=n){if(65535!=n&&0!=n){var p,_=!0;if(s)switch(r){case G.WEAPON:p=new u(-25+h,-40-d);break;case G.DRESS:p=new u(-76+h,27-d);break;case G.HELMET:p=new u(h,-d);break;case G.HAT:p=new u(13+h,-10-d);break;case G.FASHIONDRESS:p=new u(-75+h,25-d);break;case G.FASHIONWEAPON:p=new u(-32+h,-40-d);break;case G.FASHIONHELMET:p=new u(0,0);break;case G.SHIELD:p=new u(h,-d)}else 0==h&&0==d||(p=new u(-20+h,20-d)),_=!1;if("stateitem"==i&&(o="data/stateitem/"),m){if(m.makeIndex!=a.MakeIndex){Z.removeAni(m);var S=Z.playframe(!a.s.BodyEffect.IsDrawNoBlend,t,"data/"+i+"/",f,f+c-1,g,!0,!1,p,null,null,null,o,!s);S&&(S.makeIndex=a.MakeIndex,S.name="bodyeffect"+t.uuid,S.is_use_offest=_,r==G.HAT&&(S.getComponent(l).opacity=255))}}else{var v=Z.playframe(!a.s.BodyEffect.IsDrawNoBlend,t,"data/"+i+"/",f,f+c-1,g,!0,!1,p,null,null,null,o,!s);v&&(v.makeIndex=a.makeIndex,v.name="bodyeffect"+t.uuid,v.is_use_offest=_,r==G.HAT&&(v.getComponent(l).opacity=255))}}}else Z.removeAni(m)}else{var b=Z.getAni(t,"bodyeffect"+t.uuid);!b||65535!=n&&0!=n||Z.removeAni(b)}}},s.showNewStore=function(e,t){var a=v("Canvas/UIBox/warehouseBg");if(e){if(a&&a.active){var r=v("Canvas/UIBox/BagWin");return s.setWarehouseAndBagLayouy(!!r,r,a),void a.getComponent(me).showWarehouseInfo("",t)}_.load("prefab/warehouse/warehouseBg",C,(function(e,a){if(e)console.log(e);else{var r=v("Canvas/UIBox");if(r)if(!v("Canvas/UIBox/warehouseBg")){var n=M(a);n.setParent(r),n.setSiblingIndex(r.children.length-1),null!=t&&null!=t&&n.getComponent(me).showWarehouseInfo("",t);var i=v("Canvas/UIBox/BagWin");s.setWarehouseAndBagLayouy(!!i,i,n)}}}))}else a&&a.getComponent(me).closeView()},s.setWarehouseAndBagLayouy=function(e,t,a){if(e){if(t){var s=t.getComponent(i);t.setPosition(s.width/2,0)}if(a){var r=a.getComponent(i);a.setPosition(-r.width/2,0)}}else t&&t.setPosition(0,0),a&&a.setPosition(0,0)},s.delStoreItems=function(e){if(-1!=e)for(var t=0;t<R.g_StoreItemList.length;t++)if(null!=R.g_StoreItemList[t]&&R.g_StoreItemList[t].MakeIndex==e){R.g_StoreItemList[t]=null;for(var a=0,s=0;s<R.g_StoreItemList.length;s++)R.g_StoreItemList[s]&&a++;R.g_StoreCount=a,B.raiseEvent(W.SHOW_STORE_ITEM_ICO,R.g_StoreLimitCount);break}},s.addStoreItems=function(e,t){if(void 0===t&&(t=void 0),null!=t&&t>=0){R.g_StoreItemList[t]=e;for(var a=0,s=0;s<R.g_StoreItemList.length;s++)R.g_StoreItemList[s]&&a++;return R.g_StoreCount=a,void B.raiseEvent(W.SHOW_STORE_ITEM_ICO,[R.g_StoreLimitCount])}if(null!=e){for(var r=!1,n=0;n<R.g_StoreItemList.length;n++)if(null==R.g_StoreItemList[n]){R.g_StoreItemList[n]=e,B.raiseEvent(W.SHOW_STORE_ITEM_ICO,[R.g_StoreLimitCount]),r=!0;break}r||(R.g_StoreItemList.push(e),B.raiseEvent(W.SHOW_STORE_ITEM_ICO,[R.g_StoreLimitCount]))}},s.checkUseCiSha=function(){return R.GlobalCfglist.z_autoskill_1&&this.hasCiShaSkill},s.isCiShaSkill=function(e){return!(!e||!e.Def)&&(13==e.Def.btEffect&&12==e.Def.wMagicId)},s.addMagic=function(e){null!=e&&(B.raiseEvent("item_hint",[e.Def.sMagicName,"skill",3]),this.isCiShaSkill(e)&&(this.hasCiShaSkill=!0),R.g_UserMagicList.push(e),B.raiseEvent(W.MAGIC_REFRESH))},s.addHeroMagic=function(e){null!=e&&(R.g_HeroMagicList.push(e),B.raiseEvent("HeroMagic_Refresh"))},s.delMagic=function(e){for(var t=0;t<R.g_UserMagicList.length;t++)if(null!=R.g_UserMagicList[t]&&R.g_UserMagicList[t].Def.wMagicId==e){R.g_SetupMagicList[R.g_UserMagicList[t].Key-49]=null,this.isCiShaSkill(R.g_UserMagicList[t])&&(this.hasCiShaSkill=!1),R.g_UserMagicList.splice(t,1),B.raiseEvent(W.MAGIC_REFRESH),B.raiseEvent(W.UPDATE_ICON);break}},s.updateMagicLvExp=function(e,t,a,s){for(var r=0;r<R.g_UserMagicList.length;r++)if(null!=R.g_UserMagicList[r]&&R.g_UserMagicList[r].Def.wMagicId==e){var n=a-R.g_UserMagicList[r].CurTrain;n>0&&B.raiseEvent("item_hint",[R.g_UserMagicList[r].Def.sMagicName,n,2]),R.g_UserMagicList[r].Level=t,R.g_UserMagicList[r].CurTrain=a,R.g_UserMagicList[r].btStrengLevel=s;break}},s.updateHeroMagicLvExp=function(e,t,a,s){for(var r=0;r<R.g_HeroMagicList.length;r++)if(null!=R.g_HeroMagicList[r]&&R.g_HeroMagicList[r].Def.wMagicId==e){R.g_HeroMagicList[r].Level=t,R.g_HeroMagicList[r].CurTrain=a,B.raiseEvent("HeroMagic_Refresh");break}},s.countMoveDown=function(e){return 7==e?e=0:e++,e},s.countMoveUp=function(e){return 0==e?e=7:e--,e},s.escapedir=function(e){var t=[];return 0==e?(t.push(4),t.push(5),t.push(6),t.push(7),t.push(0),t.push(1),t.push(2),t.push(3)):1==e?(t.push(5),t.push(6),t.push(7),t.push(0),t.push(1),t.push(2),t.push(3),t.push(4)):2==e?(t.push(6),t.push(7),t.push(0),t.push(1),t.push(2),t.push(3),t.push(4),t.push(5)):3==e?(t.push(7),t.push(0),t.push(1),t.push(2),t.push(3),t.push(4),t.push(5),t.push(6)):4==e?(t.push(0),t.push(1),t.push(2),t.push(3),t.push(4),t.push(5),t.push(6),t.push(7)):5==e?(t.push(1),t.push(2),t.push(3),t.push(4),t.push(5),t.push(6),t.push(7),t.push(0)):6==e?(t.push(2),t.push(3),t.push(4),t.push(5),t.push(6),t.push(7),t.push(0),t.push(1)):7==e&&(t.push(3),t.push(4),t.push(5),t.push(6),t.push(7),t.push(0),t.push(1),t.push(2)),t},s.createSpriteNode=function(e,t,a,s,r){var n=new I("Sprite");n.layer=A.Enum.UI_2D;var o=n.addComponent(k);if(n.addComponent(i),a&&(n.name=a),e&&se.handleLoad(e,(function(e){e&&e.imgUrl&&(o.spriteFrame=e.imgUrl)})),s||r){var u=n.getComponent(i);u&&(s&&(u.width=s),r&&(u.height=r))}return t&&t.addChild(n),n},s.createLabelNode=function(e,t,a,s){void 0===e&&(e=null),void 0===t&&(t=""),void 0===a&&(a=0),void 0===s&&(s=0);var r=new I("Label");r.getComponent(S);if(a||s){var n=r.getComponent(i);a&&(n.width=a),s&&(n.height=s)}return t&&(r.name=t),e&&e.addChild(r),r},s.getNodeTransForm=function(e){if(e)return e.getComponent(i)},s.getNodeWidth=function(e){if(e)return e.getComponent(i).width},s.getNodeHeigth=function(e){if(e)return e.getComponent(i).height},s.getGameSize=function(){return o.getVisibleSize()},s.getGameSchedule=function(){return b.getScheduler()},s.rollMsg=function(e,t){var a=e[0];if(a)this.createSpriteNode("gameres/ui/img_roll.png",t,"roll_img",this.getGameSize().width,25);else;},s.prototype.superMsg=function(e,t,a){if(oe.findobject(R.playerID)&&!(e.length<1)){var s=e[0];if(s&&s.isValid){R.CurScene.node.addChild(s),s.name="superTxt";s.getComponent(i).height;var r=o.getVisibleSize().height/2-t;s.setPosition(new u(0,r)),setTimeout((function(){g()}),2e3);var n=0,g=function a(){var s=oe.findobject(R.playerID);if(s&&!(e.length<=0)){var r=e[n],g=r.position,h=r.getComponent(i).height,d=(Math.abs(g.y),!1);f().target(r).to(.5,{position:c(g.x,g.y+h/2)}).delay(.5).to(1.5,{position:c(g.x,g.y+2*h)},{onUpdate:function(i,f){var c=255-255*f;if(r.getComponent(l).opacity=c,f>.75&&0==d)if(d=!0,s&&n<e.length-1){n++,console.log("开始播报第"+n+++"条"),R.CurScene.node.addChild(e[n]),e[n].name="superTxt";var g=o.getVisibleSize().height/2-t;e[n].setPosition(new u(0,g)),a()}else console.log("播报完毕")},onComplete:function(){r.destroy()}}).start()}}}}},s.msgSetColor=function(e,t,a,s){var r=new I;if(this.getNodeTransForm(r).width=0,-1!=e.indexOf("{")&&-1!=e.indexOf("}")&&(e=(e=e.replace(/{/g,"<")).replace(/}/g,">")),-1!=e.indexOf("<")&&-1!=e.indexOf(">")&&(-1!=e.toUpperCase().indexOf("/FCOLOR")||-1!=e.indexOf("|"))){for(var n=[];-1!=e.indexOf("<")&&-1!=e.indexOf(">");){if(0!=e.indexOf("<")){var i=e.indexOf("<");n.push(e.substring(0,i)),e=e.substring(i)}var o=e.indexOf("<"),f=e.indexOf(">");-1!=o&&-1!=f?(n.push(e.substring(o+1,f)),e=e.substring(f+1)):n.push(e)}""!=e&&n.push(e);for(var c=0;c<n.length;c++){var l=this.createLabelNode(r),g=l.getComponent(S);if(g.fontSize=s,-1!=n[c].toUpperCase().indexOf("/FCOLOR=")){var h=n[c].toUpperCase().split("/FCOLOR=");h[0]&&(g.string=h[0]),h[1]&&(g.color=new N(le.Get2RGB(parseInt(h[1]))))}else if(-1!=n[c].indexOf("|")){var d=n[c].split("|");if(g.string=d[0],-1!=d[1].indexOf(":")){var m=d[1].split(":");3==m.length&&(g.color=new N(le.Get2RGB(m[0])),m[2])}}else g.string=n[c],g.color=new N(le.Get2RGB(t));g.horizontalAlign=L.CENTER,l.setPosition(this.getNodeWidth(r),1),this.getNodeTransForm(r).width+=R.cur_use_app?this.getNodeWidth(l)+3:this.getNodeWidth(l),r.addChild(l)}return r}var p=this.createLabelNode(),_=p.getComponent(S);if(_.fontSize=s,_.string=e,_.horizontalAlign=L.CENTER,p.setPosition(new u(0,5)),t&&p&&(_.color=t),a&&p)return p},s.newLineMsg=function(e,t){var a=this;if(null.removeFromParent(),e[0]){var s=e[0];s.nTime&&(1==s.nMode?(s.alpha=.1,s.y+=s.y):this.getGameSchedule().schedule((function(){a.getGameSchedule().unscheduleAllForTarget(s),s.removeFromParent(),e.shift(),e[0]&&a.newLineMsg(e,t)}),s,s.nTime))}},s.countDownMsg=function(){for(var e=this,t=0;t<R.G_countDownMsg.length;t++)R.G_countDownMsg[t].y=500-18*(R.G_countDownMsg.length-t);for(var a=function(t){var s=t[0],r=(t[1],t[2]);s.time--,r&&r[1]?s.text=r[0]+o(s.time)+r[1]:r&&r[0]&&(s.text=r[0]+o(s.time));for(var n=0;n<R.G_countDownMsg.length;n++)R.G_countDownMsg[n].y=500-18*(R.G_countDownMsg.length-n),R.G_countDownMsg[n].time<0&&(R.G_countDownMsg[n].removeSelf(),R.G_countDownMsg.splice(n,1));0==R.G_countDownMsg.length&&e.getGameSchedule().unschedule(a,s)},s=0;s<R.G_countDownMsg.length;s++){var r=R.G_countDownMsg[s],n=void 0;if(r){-1!=r.text.indexOf("%d")?(n=r.text.split("%d"),r.text=r.text.replace("%d",o(r.time))):-1!=r.text.indexOf("%s")&&(n=r.text.split("%s"),r.text=r.text.replace("%s",o(r.time)));var i=[r,s,n];e.getGameSchedule().schedule(a.bind(this,i),r,1)}}function o(e){var t=e%60;return e<60?t+"秒":~~(e/60)+"分"+t+"秒"}},s.delUserIcon=function(e){if(-1!=e)for(var t=0;t<R.g_IconCList.length;t++)if(null!=R.g_IconCList[t]&&R.g_IconCList[t].MakeIndex==e){R.g_IconCList[t];R.g_UserItemList[G.ICON]&&R.g_UserItemList[G.ICON].MakeIndex==e&&(R.g_UserItemList[G.ICON]=null),R.g_IconCList.splice(t,1),B.raiseEvent("Show_Item_ico",-1);break}},s.suitvalue=function(e,t,a,s,r,n){for(var i,o=0;o<t.length;o++)if(-1!=t[o].indexOf(e)){if((i=t[o].split("~!"))[0]!=e)return a;break}if(""!=a){n>=15&&n<=20?i[1]=i[1]+"0%":(n>=24&&n<=34||n>=46)&&(i[1]+="%"),a=a+"  "+("护身"==e||"复活"==e||"麻痹"==e||"防止护身"==e||"防止复活"==e||"防止麻痹"==e||"技巧"==e||"探测"==e||"负重"==e?e:e+"+"+i[1]),r.push(a+"/*/"+s);var u=new I("Label"),f=u.getComponent(S);f.string=a,f.updateRenderData(!0),this.getNodeWidth(u)>180&&r.push("/*/"+s),a="",""}else n>=15&&n<=20?i[1]=i[1]+"0%":(n>=24&&n<=34||n>=46)&&(i[1]+="%"),a="护身"==e||"复活"==e||"麻痹"==e||"防止护身"==e||"防止复活"==e||"防止麻痹"==e||"技巧"==e||"探测"==e||"负重"==e?e:e+"+"+i[1];return a},s.showPersonalStore=function(e){},s.showStore=function(e){},s.showMyShop=function(e){},s.showItemNum=function(e,t,a,r){s.loadImg(e.s.Looks,"items",(function(n){var i,o;!t||t.children&&t.children[0]?((i=t.children[0]).active=!0,n&&n.imgUrl&&(i.getComponent(k).spriteFrame=n.imgUrl)):(i=s.createSpriteNode(null,t,"",a,r),n&&n.imgUrl&&(i.getComponent(k).spriteFrame=n.imgUrl));s.showItemeffect(i,e),t&&t.children&&t.children[1]&&(o=t.children[1]);s.checkMaterialItemCanBeStacked(e)?o&&(o.active=!0,o.getComponent(S).string="x"+(e.Dura+1)):s.checkItemCanBreakUp(e)?o&&(o.active=!0,o.getComponent(S).string="x"+e.Dura):o&&(o.active=!1)}))},s.showMoneyType=function(e){var t="";switch(e){case 0:t=R.g_GameGoldNum.key;break;case 1:t=R.g_GamePointNum.key;break;case 2:t=R.g_GameCionNum.key;break;case 3:t=R.g_nGameDiamond.key;break;case 4:t=R.g_nGameGird.key}return t},s.showbtItemType=function(e){var t="";switch(e){case 0:t="装饰";break;case 1:t="补给";break;case 2:t="强化";break;case 3:t="好友";break;case 4:t="限量";break;case 5:t="奇珍"}return t},s.showSelectedIdx=function(e){var t=0;switch(e){case R.g_GameGoldNum.key:t=0;break;case R.g_GamePointNum.key:t=1;break;case R.g_GameCionNum.key:t=2;break;case R.g_nGameDiamond.key:t=3;break;case R.g_nGameGird.key:t=4;break;default:t=0}return t},s.applyDoorState=function(e,t,a){if(pe.cur_matx&&pe.cur_matx[0]&&e<pe.cur_matx.length&&t<pe.cur_matx[0].length){pe.cur_matx[t-2][e]=!1,pe.cur_matx[t-1][e+1]=!1,pe.cur_matx[t-2][e+1]=!1;var s=a==R.dsClose;pe.cur_matx[t][e]=s,pe.cur_matx[t-1][e]=s,pe.cur_matx[t-2][e]=s,pe.cur_matx[t-1][e+1]=s,pe.cur_matx[t-2][e+1]=s,pe.cur_matx[t-1][e-1]=s,pe.cur_matx[t][e-1]=s,pe.cur_matx[t+1][e-1]=s,pe.cur_matx[t][e-2]=s,a==R.dsOpen&&(pe.cur_matx[t-2][e]=!0,pe.cur_matx[t-1][e+1]=!0,pe.cur_matx[t-2][e+1]=!0)}},s.judgeMagicMp=function(e,t){if(e&&t&&e.Def&&null!=e.Level&&t.m_Abil){var a=e.Def.wSpell/(e.Def.btTrainLv+1)*(e.Level+1),s=Math.round(a),r=Math.floor(a);return r%2==0&&a-r==.5&&(s=r),s+=e.Def.wDefSpell,t.m_Abil.MP>=s}return!1},s.ifOpenBlend=function(e,t){var a=R.IsBlendFileName;if(a){var s="",r=[];s=-1!=e.indexOf("/")?(r=e.split("/"))[r.length-2]:e;a.length;for(var n=0;n<a.length;n++){var i=a[n].split(","),o=i[0],u=i[1],f=i[2];if(s&&o&&o==s){if(-1==t)return!0;if(t>=u&&t<=f)return!0}}}return!1},s.getItemTypeEx=function(e){var t=-1;return null==e||(5==e.StdMode||6==e.StdMode||95==e.StdMode?t=G.WEAPON:10==e.StdMode||11==e.StdMode?t=G.DRESS:15==e.StdMode?t=G.HELMET:19==e.StdMode||20==e.StdMode||21==e.StdMode?t=G.NECKLACE:22==e.StdMode||23==e.StdMode?(t=G.RINGL,e.Expand1>=1&&e.Expand1<=12&&e.OverLap>=4&&e.OverLap<=7&&(t=G.GODBLESS1+e.Expand1-1),t=t):24==e.StdMode||26==e.StdMode?t=G.ARMRINGR:29==e.StdMode||30==e.StdMode?t=G.RIGHTHAND:e.StdMode>=70&&e.StdMode<=74?t=G.ICON:25==e.StdMode||51==e.StdMode||96==e.StdMode?t=G.BUJUK:52==e.StdMode||62==e.StdMode||28==e.StdMode?t=G.BOOTS:7==e.StdMode||53==e.StdMode||63==e.StdMode?t=G.CHARM:54==e.StdMode||64==e.StdMode||27==e.StdMode?t=G.BELT:16==e.StdMode?t=G.HAT:48==e.StdMode?t=G.SHIELD:65==e.StdMode?t=G.DRUM:66==e.StdMode||67==e.StdMode?t=G.FASHIONDRESS:68==e.StdMode||69==e.StdMode?t=G.FASHIONWEAPON:178==e.StdMode?t=G.FASHIONHELMET:75==e.StdMode||76==e.StdMode||77==e.StdMode?t=G.FASHIONNECKLACE:79==e.StdMode||80==e.StdMode?t=G.FASHIONARMRINGR:81==e.StdMode||82==e.StdMode?t=G.FASHIONRINGL:83==e.StdMode?t=G.FASHIONRIGHTHAND:84==e.StdMode||85==e.StdMode?t=G.FASHIONBELT:86==e.StdMode||87==e.StdMode?t=G.FASHIONBOOTS:88==e.StdMode||89==e.StdMode?t=G.FASHIONCHARM:78==e.StdMode&&(t=G.HORSE)),t},s.gxxScoreComparison=function(e){if(!(e&&R.g_ClientConfig&&R.g_ClientConfig.boItemCompare))return!1;var t=oe.findobject(R.playerID),a=Y.THumFeature(t.data.fea.buffer).btJob,s=this.getItemType(e.s),r=R.g_UserItemList[s];switch(R.g_ClientConfig.btBagFastItemCompareMode){case 0:if(0==a)return!r||e.s.DC1==r.s.DC1&&e.s.DC2>r.s.DC2||e.s.DC2==r.s.DC2&&e.s.DC1>r.s.DC1||e.s.DC1>r.s.DC1&&e.s.DC2>r.s.DC2||e.s.DC2>r.s.DC2||e.s.DC2==r.s.DC2&&e.s.DC1==r.s.DC1&&(e.s.AC1==r.s.AC1&&e.s.AC2>r.s.AC2||e.s.AC1>r.s.AC1&&e.s.AC2==r.s.AC2||e.s.AC1>r.s.AC1&&e.s.AC2>r.s.AC2);if(1==a)return!r||e.s.MC1==r.s.MC1&&e.s.MC2>r.s.MC2||e.s.MC2==r.s.MC2&&e.s.MC1>r.s.MC1||e.s.MC1>r.s.MC1&&e.s.MC2>r.s.MC2||e.s.MC2>r.s.MC2||e.s.MC2==r.s.MC2&&e.s.MC1==r.s.MC1||e.s.AC1==r.s.AC1&&e.s.AC2>r.s.AC2||e.s.AC1>r.s.AC1&&e.s.AC2==r.s.AC2||e.s.AC1>r.s.AC1&&e.s.AC2>r.s.AC2;if(2==a)return!r||e.s.SC1==r.s.SC1&&e.s.SC2>r.s.SC2||e.s.SC2==r.s.SC2&&e.s.SC1>r.s.SC1||e.s.SC1>r.s.SC1&&e.s.SC2>r.s.SC2||e.s.SC2>r.s.SC2||e.s.SC2==r.s.SC2&&e.s.SC1==r.s.SC1||e.s.AC1==r.s.AC1&&e.s.AC2>r.s.AC2||e.s.AC1>r.s.AC1&&e.s.AC2==r.s.AC2||e.s.AC1>r.s.AC1&&e.s.AC2>r.s.AC2;break;case 1:return r.s.NeedLevel>e.s.NeedLevel;case 2:return r.s.Weight>e.s.Weight}},s.scoreComparison=function(e){if(e&&R.g_ItemScoreRecord&&R.g_ItemScoreRecord.BoOpen){var t=this.getItemType(e.s);if(e.s.StdMode>=19&&e.s.StdMode<=24||26==e.s.StdMode||15==e.s._childsStdMode){if(2==e.s.OverLap||3==e.s.OverLap){if(0==e.s.Expand1||7==e.s.Expand1||null==e.s.Expand1){for(var a=30;a<36;a++)if(this.isShowArrow(a,e))return!0;return!1}return this.isShowArrow(29+e.s.Expand1,e)}if(4==e.s.OverLap||5==e.s.OverLap){if(0==e.s.Expand1||13==e.s.Expand1||null==e.s.Expand1){for(var s=40;s<52;s++)if(this.isShowArrow(s,e))return!0;return!1}return this.isShowArrow(39+e.s.Expand1,e)}if(6==e.s.OverLap||7==e.s.OverLap){if(0==e.s.Expand1){for(var r=30;r<52;r++){if(this.isShowArrow(r,e))return!0;35==r&&(r=39)}return!1}if(7==e.s.Expand1){if(this.isShowArrow(47,e))return!0;for(var n=30;n<36;n++)if(this.isShowArrow(n,e))return!0;return!1}if(13==e.s.Expand1){for(var i=40;i<52;i++)if(this.isShowArrow(i,e))return!0;return!1}if(e.s.Expand1>=1&&e.s.Expand1<=6)return this.isShowArrow(29+e.s.Expand1,e)||this.isShowArrow(39+e.s.Expand1,e);if(e.s.Expand1>=8&&e.s.Expand1<=12)return this.isShowArrow(39+e.s.Expand1,e)}}return t==G.ARMRINGR?this.isShowArrow(5,e)||this.isShowArrow(6,e):t==G.RINGL?this.isShowArrow(7,e)||this.isShowArrow(8,e):this.isShowArrow(t,e)}return!1},s.isShowArrow=function(e,t){if(R.g_ItemScoreRecord.boJobShowItemScore){var a=oe.findobject(R.playerID),s=0;a&&a.skin_feature&&(s=a.skin_feature.btGender);var r=Y.THumFeature(a.data.fea.buffer).btJob,n=t.s.StdMode;if((10==t.s.Need||11==t.s.Need||12==t.s.Need||13==t.s.Need)&&r!=_e._LOWORD(t.s.NeedLevel))return!1;if((10==n||66==n)&&0!=s)return!1;if((11==n||67==n)&&1!=s)return!1;if(R.g_UserItemList[e]){if(1==r){var i=t.s.MC2,o=R.g_UserItemList[e].s.MC2;if(i>o)return!0;if(i<o)return!1}if(2==r){var u=t.s.SC2,f=R.g_UserItemList[e].s.SC2;if(u>f)return!0;if(u<f)return!1}var c=t.s.DC2,l=R.g_UserItemList[e].s.DC2;if(c>l)return!0;if(c<l)return!1;var g=Se.getItemScore(t),h=Se.getItemScore(R.g_UserItemList[e]);if(!h&&0!=h)return!0;if(g>h)return!0;if(g<h)return!1;if(0==n){if(t.s.NeedLevel>R.g_UserItemList[e].s.NeedLevel)return!0;if(t.s.NeedLevel<R.g_UserItemList[e].s.NeedLevel)return!1}if(10==n){if(_e._HIWORD(t.s.NeedLevel)>_e._HIWORD(R.g_UserItemList[e].s.NeedLevel))return!0;if(_e._HIWORD(t.s.NeedLevel)<_e._HIWORD(R.g_UserItemList[e].s.NeedLevel))return!1}return t.s.Weight>R.g_UserItemList[e].s.Weight||(t.s.Weight,R.g_UserItemList[e].s.Weight,!1)}return!0}var d,m=Se.getItemScore(t);return R.g_UserItemList[e]&&(d=Se.getItemScore(R.g_UserItemList[e])),m!=d&&(!d&&0!=d||m>d)},s.check_showItem=function(e){for(var t=0;t<e.length;t++){var a=e[t];if(a){for(var s=[];-1!=a.indexOf("<")&&-1!=a.indexOf("\\")&&-1!=a.indexOf(">");){if(0!=a.indexOf("<")){var r=a.indexOf("<");s.push(a.substring(0,r)),a=a.substring(r)}var n=a.indexOf("<"),i=a.indexOf(">");-1!=n&&-1!=i?(s.push(a.substring(0,i+1)),a=a.substring(i+1)):s.push(a)}if(""!=a&&s.push(a),s.length>1){for(var o=[],u=0;u<e.length;u++)if(u==t)for(var f=0;f<s.length;f++)o.push(s[f]);else o.push(e[u]);e=o}}}return e},s.makeLable=function(e,t,a,s,r,n){},s.resetGraphicsTxtAttr=function(e){},s.makeBigNum=function(e){return parseInt(e)>=1e5&&parseInt(e)<1e8?e=parseInt((e/1e4).toString())+"万":parseInt(e)>=1e8&&(e=parseInt((e/1e8).toString())+"亿"),e},s.extractRemarkInfoNPC=function(e){var t,a="",s=0;if("string"!=typeof e)return"";if(-1==e.indexOf("|"))return"";for(t=e.split("|")[1];":"!=t[s]&&!(s>=t.length);)a+=t[s],s++;return a},s.clearRemarkInfoNPC=function(e){return"string"!=typeof e?"":-1==e.indexOf("|")?e:e.split("|")[0]},s.dismantlingItemDescText=function(e){for(var t=e.length,a=0,s="",r=[];null!=e[a]&&a<t;)s+=e[a],"\n"==e[a]&&(r.push(s),s=""),a++;m.localStorage.setItem("g_ItemDesc",JSON.stringify(r))},s.valueLimit=function(e,t,a){return void 0===a&&(a=0),null!=t&&null!=t&&e>t?t:null!=a&&null!=a&&e<a?a:e},s.getWearItemWeight=function(e){for(var t=0,a=0;a<R.g_UserItemList.length;a++)if(a!=e&&1!=a&&2!=a){var s=R.g_UserItemList[a];s&&(t+=s.s.Weight)}return t},s.checkEquipItem=function(e,t){var a=oe.findobject(R.playerID);if(!a)return!1;if(t<0&&!a&&!e)return!1;if(null==a.m_Abil)return!1;if((10==e.s.StdMode||3==R.g_ClientConfig.btShowItemType&&66==e.s.StdMode)&&0!=a.skin_feature.btGender)return!1;if((11==e.s.StdMode||3==R.g_ClientConfig.btShowItemType&&67==e.s.StdMode)&&1!=a.skin_feature.btGender)return!1;if(16==e.s.StdMode&&2==e.s.AniCount)return!1;if(t==G.WEAPON||t==G.RIGHTHAND){if(e.s.Weight>a.m_Abil.MaxHandWeight)return!1}else if(e.s.Weight+this.getWearItemWeight(t)>a.m_Abil.MaxWearWeight)return!1;switch(e.s.Need){case 0:case 18:case 22:if((0===R.g_rolelevel?a.m_Abil.Level:R.g_rolelevel)>=e.s.NeedLevel)return!0;break;case 10:case 11:case 12:case 13:if(a.skin_feature.btJob==_e._LOWORD(e.s.NeedLevel))switch(e.s.Need){case 10:if((0===R.g_rolelevel?a.m_Abil.Level:R.g_rolelevel)>=_e._HIWORD(e.s.NeedLevel))return!0;break;case 11:if(a.m_Abil.MaxDc>=_e._HIWORD(e.s.NeedLevel))return!0;break;case 12:if(a.m_Abil.MC2>=_e._HIWORD(e.s.NeedLevel))return!0;break;case 13:if(a.m_Abil.SC2>=_e._HIWORD(e.s.NeedLevel))return!0}break;case 1:case 19:case 23:if(a.m_Abil.DC2>=e.s.NeedLevel)return!0;break;case 2:case 20:case 24:if(a.m_Abil.MC2>=e.s.NeedLevel)return!0;break;case 3:case 21:case 25:if(a.m_Abil.SC2>=e.s.NeedLevel)return!0;break;case 4:if(R.g_relevel>=e.s.NeedLevel)return!0;break;case 40:case 41:case 42:case 43:case 44:if(R.g_relevel>=_e._LOWORD(e.s.NeedLevel))switch(e.s.Need){case 40:if((0===R.g_rolelevel?a.m_Abil.Level:R.g_rolelevel)>=_e._HIWORD(e.s.NeedLevel))return!0;break;case 41:if(a.m_Abil.DC2>=_e._HIWORD(e.s.NeedLevel))return!0;break;case 42:if(a.m_Abil.MC2>=_e._HIWORD(e.s.NeedLevel))return!0;break;case 43:if(a.m_Abil.SC2>=_e._HIWORD(e.s.NeedLevel))return!0;break;case 44:if(R.g_gamePopNum.value>=_e._HIWORD(e.s.NeedLevel))return!0}break;case 5:if(R.g_gamePopNum.value>=e.s.NeedLevel)return!0;break;case 6:if(""!=R.G_Guild_Name&&-1===R.G_Guild_Name.indexOf("[掌门人]"))return!0;break;case 60:if(""!=R.G_Guild_Name&&-1!=R.G_Guild_Name.indexOf("[掌门人]"))return!0;break;case 7:if(G.WEAPON==a.skin_feature.btCaseltGuild)return!0;break;case 70:if(G.RIGHTHAND==a.skin_feature.btCaseltGuild)return!0;break;case 8:case 81:case 82:break;case 101:case 102:case 103:case 104:return!0}return!1},s.getEquipPosRL=function(e,t){if(t==G.RINGL||t==G.FASHIONRINGL){R.g_UserItemList[t+1],R.g_UserItemList[t];if(e<=0&&e<=0||e>0&&e<=0)return t+1;if(e<0&&e>0)return t}if(t==G.ARMRINGR||t==G.FASHIONARMRINGR){R.g_UserItemList[t-1],R.g_UserItemList[t];if(e<=0&&e<=0||e>0&&e<=0)return t-1;if(e<0&&e>=0)return t}return t},s.checkAutoItemList=function(e){var t=!0;if(e)for(var a=0;a<R.g_autoEquipItemList.length;a++){if(R.g_autoEquipItemList[a][0].MakeIndex==e.MakeIndex){t=!1;break}}return t},s.addAutoItemList=function(e,t){if(e&&this.checkAutoItemList(e)&&(R.g_autoEquipItemList.push([e,t]),1===R.g_autoEquipItemList.length)){var a=R.g_autoEquipItemList[0][0],s=R.g_autoEquipItemList[0][1];R.g_WaitItems.Items=a,R.g_WaitItems.Index=s,this.delBagItems(a.MakeIndex),ce.getInstance().sendTakeOnItem(s,a.MakeIndex,a.s.Name)}},s.sendAutoItemList=function(e){for(var t=0,a=0;a<R.g_autoEquipItemList.length;a++){var s=R.g_autoEquipItemList[a][0];if(s&&s.MakeIndex==e){t=a;break}}if(R.g_autoEquipItemList.splice(t,1),R.g_autoEquipItemList.length>0){var r=R.g_autoEquipItemList[0][0],n=R.g_autoEquipItemList[0][1],i=Se.getItemScore(r);if(i>0){n=this.getEquipPosRL(i,n),R.g_autoEquipItemList[0][1]=n;var o=R.g_UserItemList[n],u=Se.getItemScore(o);!o||o&&u<i?(R.g_WaitItems.Items=r,R.g_WaitItems.Index=n,this.delBagItems(r.MakeIndex),fe.sendTakeOnItem(n,r.MakeIndex,r.s.Name)):this.sendAutoItemList(r.MakeIndex)}else this.sendAutoItemList(r.MakeIndex)}},s.playerAutoHandleItem=function(e,t){if(e&&0==t){var a=Se.getItemScore(e);if(a>0){var r=this.getItemType(e.s);if(r<0)return;if(!this.checkEquipItem(e,r))return;r=this.getEquipPosRL(a,r);R.g_UserItemList[r];if(this.gxxScoreComparison(e)&&R.GlobalCfglist.autoWear){var n={item:e,score:a,pos:r};_.load("prefab/autoItem/AutoItem",C,(function(e,t){if(e)console.log(e);else{var a=M(t);s.loadImg(n.item.s.Looks,"items",(function(e){a&&a.isValid&&(a.setParent(v("Canvas")),a.setSiblingIndex(R.CurScene.node.children.length-2),a.getComponent("AutoItem").updateView(n,e))}))}}))}}}},s.autoSetDrugItem=function(e){if(null!=e&&e.s.StdMode<=3&&"修复神水"!=e.s.Name){for(var t=!0,a=0;a<R.g_DrugItemsList.length;a++)null!=R.g_DrugItemsList[a]&&e.s.Name==R.g_DrugItemsList[a].s.Name&&(t=!1);if(t){for(var r=0;r<R.g_DrugItemsList.length;r++)if(null==R.g_DrugItemsList[r]){R.g_DrugItemsList[r]=e,B.raiseEvent(W.SHOWDRUG_ITEMS),B.raiseEvent("Drug_Item_ico"),B.raiseEvent("Drug_Set_Items",[r]);break}s.recordDrugBarSetting()}}},s.setCanAddTxtStroke=function(e){var t=e.getComponent(y)?e.getComponent(y):e.addComponent(y);t.width=2,t.color=x("#030303")},s.setTxtFixedPos=function(e,t,a,r,n){if(e.children.length>0){var i=e.children[0],o=isNaN(r)?e.getPosition().x:r,u=isNaN(n)?e.getPosition().y:n,f=-o+t-s.getNodeWidth(i)-3,c=-u+(a||t)-s.getNodeHeigth(i)-3;i.setPosition(f,c)}},s.getSpaceTime=function(e){var t;return R.g_initTimes?(t=Date.now()-R.g_initTimes,R.g_initTimes=Date.now(),e?console.log(e+"间隔时间为"+t+"毫秒！！"):console.log("间隔时间为"+t+"毫秒！！")):(console.log("开始计算间隔值"),console.log("初始化时间间隔值"),R.g_initTimes=Date.now()),t},s.clearMapItemCacheAssets=function(){for(var e in R.g_item_clearlist)e&&(this.clearResByUrl(e),delete R.g_item_clearlist[e])},s.getMapCamera=function(){return v("Canvas").getChildByName("Camera_Map")},s.getMiniMapCamera=function(){return v("Canvas").getChildByName("Camera_MiniMap")},s.getGameScene=function(){return v("Canvas").getComponent(ue)},s.getUIMainNode=function(){return this.getGameScene().UIMain},s.getUIBoxNode=function(){return this.getGameScene().UIBox},s.getMapLayerNode=function(e){var t="";return t=1==e?"groundBottomLayer":"groundTopLayer",R.CurScene&&R.CurScene.maplayer.getChildByName(t)},s.getMapLayerScript=function(){return R.CurScene&&R.CurScene.maplayer&&R.CurScene.maplayer.getComponent(Q)},s.getAngleByRadian=function(e){return e>0?180*e/Math.PI:180*(2*Math.PI+e)/Math.PI},s.getMoveDirNumberByAngle=function(e){return e>247.5&&e<=292.5?0:e>292.5&&e<=337.5?1:e>22.5&&e<=67.5?3:e>67.5&&e<=112.5?4:e>112.5&&e<=157.5?5:e>157.5&&e<=202.5?6:e>202.5&&e<=247.5?7:2},s.updateNeiGuanHair=function(e,t,a){e.removeComponent(k);var s=this.getNeiGuanHairResNum(t,a);this.loadImg(s,"prguse",(function(t,a){var s=ae.getoffsetfromatlas(a.atlas,a.img);r.createSpriteNode(t,e).setPosition(new u(-82+s.x,8+s.y))}),null),e.setPosition(e.getPosition().x,1==R.g_GameType?35:39);var r=this},s.getNeiGuanHairResNum=function(e,t){switch(e){case 0:return 0===t?440:441;case 1:return 0===t?442:443;case 2:return 0===t?444:445;case 3:return 0===t?446:447}},s.imgPath=function(e,t,a,s,r){var n,i=e;e>=1e4?(n=Math.floor(e/1e4),i=e%1e4):n="";var o="data/"+t+n+"/"+(i=("000000"+i).slice(-6)),u=this.getImageSetNameByPath(o),f=u.replace(".plist","/"+i+".png");return""!=u&&""!=f?u:(console.log("图集路径不匹配"),!1)},s.loadImg=function(e,t,a,s,r){var n,i=e;e>=1e4?(n=Math.floor(e/1e4),i=e%1e4):n="";var o="data/"+t+n+"/"+(i=("000000"+i).slice(-6)),u=this.getImageSetNameByPath(o),f=u.replace(".plist","/"+i+".png"),c={atlas:u,img:i};""!=u&&""!=f?se.handleLoad(u,(function(e){if(!e)return console.log("npc背景图不存在"),void(s&&s("npc背景图不存在"));var t=u.replace(".plist",".png");e&&r&&-1===R.npcDiyRes.indexOf(u)&&R.npcDiyRes.push(u);var n={data:e,imgUrl:e?e.getSpriteFrame(i):null,nOffset:c,path:t};a(n)})):s?(s("图集路径不匹配"),a()):a(null)},s.loadImgData=function(e,t){var a,r=e;e>=1e4?(a=Math.floor(e/1e4),r=e%1e4):a="";var n="data/"+t+a+"/"+(r=("000000"+r).slice(-6)),i=s.getImageSetNameByPath(n),o=new K;return o.img=""+r,o.plist=i,o},s.loadImageEx=function(e,t,a,s,r,n,i,o){t&&t.isValid&&!t.active&&(t.active=!0);var u=n;if(a){var f=this.loadImgData(e,r);se.handleLoad(f.plist,(function(e){if(e&&e.getSpriteFrame(f.img)&&t&&""!=t.name){var a=null;if(!t.isValid)return;var r=(a=t.getComponent(k).spriteFrame=e.getSpriteFrame(f.img)).offset.x,n=a.offset.y;switch(s){case R.U_WEAPON:1==R.g_GameType?t.setPosition(c(q.EQUIP_WEAPON_POSX+r,q.EQUIP_WEAPON_POSY-n)):t.setPosition(c(J.EQUIP_WEAPON_POSX+r,J.EQUIP_WEAPON_POSY-n));break;case R.U_DRESS:1==R.g_GameType?t.setPosition(c(q.EQUIP_CLOTHES_POSX+r,q.EQUIP_CLOTHES_POSY-n)):t.setPosition(c(J.EQUIP_CLOTHES_POSX+r,J.EQUIP_CLOTHES_POSY-n));break;case R.U_HELMET:case R.U_HAT:1==R.g_GameType?t.setPosition(c(q.EQUIP_HAT_POSX+r,q.EQUIP_HAT_POSY-n)):t.setPosition(c(J.EQUIP_HAT_POSX+r,J.EQUIP_HAT_POSY-n));break;case R.U_SHIELD:1==R.g_GameType?t.setPosition(c(q.EQUIP_SHIELD_POSX+r,q.EQUIP_SHIELD_POSY-n)):t.setPosition(c(J.EQUIP_SHIELD_POSX+r,J.EQUIP_SHIELD_POSY-n));break;case R.U_FASHIONWEAPON:1==R.g_GameType?t.setPosition(c(q.FASHION_WEAPON_POSX+r,q.FASHION_WEAPON_POSY-n)):t.setPosition(c(J.FASHION_WEAPON_POSX+r,J.FASHION_WEAPON_POSY-n));break;case R.U_FASHIONDRESS:1==R.g_GameType?t.setPosition(c(q.FASHION_CLOTHES_POSX+r,q.FASHION_CLOTHES_POSY-n)):t.setPosition(c(J.FASHION_CLOTHES_POSX+r,J.FASHION_CLOTHES_POSY-n));break;case R.U_FASHIONHELMET:1==R.g_GameType?t.setPosition(c(q.FASHION_HAT_POSX+r,q.FASHION_HAT_POSY-n)):t.setPosition(c(J.FASHION_HAT_POSX+r,J.FASHION_HAT_POSY-n))}}})),R.g_GameType}else{var l=this.loadImgData(e,r),g=new z;g.type=s,g.res=l,u.HumItems?g.data=u.HumItems[s]:u.HeroItems&&(g.data=u.HeroItems[s]);var h,d=!1;if(i?(g.win_type=X.LOOKHUMWIN,s>=G.JEWELRY1&&s<=G.JEWELRY10?g.data=u.HumItems[s-G.JEWELRY1]:s>=G.GODBLESS1&&s<=G.GODBLESS12&&(d=!0,g.data=u.HumItems[s-G.GODBLESS1])):s>=G.JEWELRY1&&s<=G.JEWELRY10?(g.win_type=X.SHOUSHIWIN,g.data=R.g_JewelryBoxItems[s-G.JEWELRY1]):s>=G.GODBLESS1&&s<=G.GODBLESS12?(g.win_type=X.SHOUSWIN,d=!0,g.data=R.g_GodBlessItems[s-G.GODBLESS1]):g.win_type=o||X.HUMWIN,t&&(d&&s>=G.GODBLESS1&&(s-=G.GODBLESS1),h=t.getChildByName(""+s)),h){var m=h.getComponent(he);m.initNewData(g,!1,d),n.humEquipItems&&n.humEquipItems.push(m)}else if(u.itemPrefab){var p=M(u.itemPrefab);t.addChild(p),p.setSiblingIndex(p.parent.children.length-1);var _=p.getComponent(he);_.initNewData(g,!1,d),p.name=""+s,n.humEquipItems&&n.humEquipItems.push(_)}else console.log("app=",u)}},s.loadImgEx=function(e,t){for(var a=[],s=[],r=0;r<e.length;r++){var n=e[r].split("/"),i=this.getImageSetNameByPath(e[r]);if(""!=i&&a.push(i),n[2]){var o=i.replace(".plist","/"+n[2]+".png");s.push(o)}}for(var u=[],f=0;f<a.length;f++)-1===u.indexOf(a[f])&&u.push(a[f]);for(var c=0;c<u.length;c++)-1===R.npcDiyRes.indexOf(u[c])&&R.npcDiyRes.push(u[c]);se.handleLoad(u,(function(e){if(e instanceof Array)for(var a=0;a<e.length;a++)e[a]||(ne.handlerAlert({type:1,content:"该功能自定义NPC资源缺失，请向GM反馈"}),console.log("npc图片缺失："),console.log(u));else if(!e){return ne.handlerAlert({type:2,content:"该功能自定义NPC资源缺失，请向GM反馈\r\n点击【确定】可关闭当前窗口",sF:function(){ne.checkAndDestroyNewNpcWin()}}),console.log("npc图片缺失："),void console.log(u)}for(var r=0;r<e.length;r++)if(0==R.itemShowPlist.length)R.itemShowPlist.push(e[r]);else{for(var n=!1,i=0;i<R.itemShowPlist.length;i++)R.itemShowPlist[i].name==e[r].name&&(n=!0);n||R.itemShowPlist.push(e[r])}t(s)}))},s.getFile=function(e){return""},s.convertSecondToMinutes=function(e,t){void 0===t&&(t=0);var a=e/60;return 0==t?Math.round(a):parseFloat(a.toFixed(t))},s.maxBagItems=function(){return R.MAXBAGITEM+R.g_extendBagItemCount},s.limitMaxBagItems=function(){return R.g_ClientConfig.boExtendDB?R.MAXBAGITEM+R.g_ClientConfig.maxExtendItemCount:R.MAXBAGITEM},s.updateExtendBagItemCount=function(){},s.intervalFrameDeal=function(e,t,a){if(1==R.g_intervalDeal)setTimeout(a,e);else{for(var s=arguments.length,r=new Array(s>3?s-3:0),n=3;n<s;n++)r[n-3]=arguments[n];a.apply(t,r)}},s.FindSoundByID=function(e){},s.onShowTip=function(e,t,a,s){void 0===t&&(t=1);var r={type:t,content:e,sF:a,cF:s};ne.handlerAlert(r)},s.replacePlaceholder=function(e,t){return e.replace("|",t)},s.openWin=function(e,t,a,s){return e||(e=new a,t.addChild(e),e.x=(t.width-e.width)/2,e.y=(t.height-e.height)/2,e.visible=!1),e.visible=!s||!e.visible,e},s.trimSpecialUnicode=function(e){for(var t="",a=0;a<e.length;a++)59299!=e[a].charCodeAt(0).toString(10)?t+=e[a]:t+=" ";return t},s.getPureName=function(e){if(!e||!e.txt_name)return"";var t="";if(-1!=e.txt_name.text.indexOf("\n")){var a=e.txt_name.text.split("\n");t=a[a.length-1]}else t=e.txt_name.text;return t},s.showOperationBtnsSort=function(e,t){for(var a,s=[],r=t.length,n=0;n<r;n++)a=t[n],e.length<r&&e.push({x:a.x,y:a.y}),a.visible&&s.push(a);for(var i=0;i<s.length;i++)s[i].x=e[i].x,s[i].y=e[i].y;return s.length},s.getCurrencyByGoldType=function(e){switch(e){case 1:return R.g_GameCionNum?R.g_GameCionNum.key:"金币";case 2:return R.g_bindCionNum?R.g_bindCionNum.key:"绑定金币";case 3:return R.g_GameGoldNum?R.g_GameGoldNum.key:"元宝";case 4:return R.g_bindGoldNum?R.g_bindGoldNum.key:"绑定元宝";case 5:return R.g_GamePointNum?R.g_GamePointNum.key:"游戏点";case 6:return R.g_nGameDiamond?R.g_nGameDiamond.key:"金刚石";case 7:return R.g_nGameGird?R.g_nGameGird.key:"灵符";case 8:return R.g_gameGlory?R.g_gameGlory.key:"荣誉点";case 9:return R.g_gamePopNum?R.g_gamePopNum.key:"声望点"}},s.setCurrencyKey=function(e){!e||e.length<1||(R.g_GameCionNum.key=e[0],R.g_bindCionNum.key=e[1],R.g_GameGoldNum.key=e[2],R.g_bindGoldNum.key=e[3],R.g_GamePointNum.key=e[4],R.g_nGameDiamond.key=e[5],R.g_nGameGird.key=e[6],R.g_gameGlory.key=e[7],R.g_gamePopNum.key=e[8])},s.checkPosPointIsTrue=function(e,t){return this.calculationDis(e,t)<2},s.calculationDis=function(e,t){var a=e.x-t.x;return Math.sqrt(a*a)},s.checkOpenAuctionHouseHandle=function(e,t){if(!(ie.self_obj.m_Abil.Level<e||R.g_relevel<t))return!0;var a={type:1,content:"上架条件为等级不小于"+e+"级,转生等级不小于"+t+"级",sF:function(){},cF:function(){}};ne.handlerAlert(a)},s.getCurrencyNumByGoldType=function(e){switch(e){case 1:return R.g_GameCionNum?R.g_GameCionNum.value:0;case 2:return R.g_bindCionNum?R.g_bindCionNum.value:0;case 3:return R.g_GameGoldNum?R.g_GameGoldNum.value:0;case 4:return R.g_bindGoldNum?R.g_bindGoldNum.value:0;case 5:return R.g_GamePointNum?R.g_GamePointNum.value:0;case 6:return R.g_nGameDiamond?R.g_nGameDiamond.value:0;case 7:return R.g_nGameGird?R.g_nGameGird.value:0;case 8:return R.g_gameGlory?R.g_gameGlory.value:0;case 9:return R.g_gamePopNum?R.g_gamePopNum.value:0}},s.getCurrencyIconSkinByGoldType=function(e){if(!R.g_GameConfigWEB.h5DIYGolds)return"";var t;switch(e){case 1:t="g_GameCionNum";break;case 2:t="g_bindCionNum";break;case 3:t="g_GameGoldNum";break;case 4:t="g_bindGoldNum";break;case 5:t="g_GamePointNum";break;case 6:t="g_nGameDiamond";break;case 7:t="g_nGameGird";break;case 8:t="g_gameGlory";break;case 9:t="g_gamePopNum"}for(var a=0,s=R.g_GameConfigWEB.h5DIYGolds.length;a<s;a++){var r=R.g_GameConfigWEB.h5DIYGolds[a];if(r.varName==t)return r.showUI}return""},s.getItemTypeNameByStdMode=function(e,t){switch(e){case 4:return 0==t?"战士":1==t?"法师":"道士";case 5:case 6:return"武器";case 10:return"男性衣服";case 11:return"女性衣服";case 15:return"头盔";case 16:return"斗笠";case 19:case 20:case 21:return"项链";case 22:case 23:return"戒指";case 24:case 26:return"手镯";case 29:case 30:return"勋章";case 78:return"马牌";case 48:return"盾牌";case 49:return"聚灵珠";case 53:case 63:return"宝石";case 62:case 28:return"鞋子";case 27:case 64:return"腰带";case 65:return"军鼓";case 66:case 67:case 68:case 69:case 75:case 76:case 77:case 178:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:return"时装"}},s.getStdModeByName=function(e){switch(e){case"武器":return[5,6];case"男性衣服":return[10];case"女性衣服":return[11];case"头盔":return[15];case"斗笠":return[16];case"项链":return[19,20,21];case"戒指":return[22,23];case"手镯":return[24,26];case"勋章":return[29,30];case"马牌":return[78];case"盾牌":return[48];case"聚灵珠":return[49];case"宝石":return[53,63];case"鞋子":return[62,28];case"腰带":return[64,27];case"军鼓":return[65];case"时装":return[178,66,67,68,69,75,76,77,79,80,81,82,83,84,85,86,87,88,89];case"道士":return{stdmode:4,job:2};case"法师":return{stdmode:4,job:1};case"战士":return{stdmode:4,job:0}}},s.getDateTimeFromDelphi8Bytes=function(e){for(var t=new ArrayBuffer(8),a=new Uint8Array(t),s=0;s<8;s++)a[s]=e[s];return 864e5*(new Float64Array(t)[0]-25569)-288e5},s.auctionLastTime=function(e){var t,a,s,r,n;return n=R.g_serverRunixTime&&R.g_serverRunixTime>0?R.g_serverRunixTime:Date.now(),(r=Math.floor((n-e)/1e3))<R.g_customItemAttr.AuctionShelvesTimeLimited?(r=R.g_customItemAttr.AuctionShelvesTimeLimited-r,((t=Math.floor(r/3600))<10?"0"+t:t)+":"+((a=Math.floor(r%3600/60))<10?"0"+a:a)+":"+((s=r%60)<10?"0"+s:s)):"00:00:00"},s.aucitonMoneyParse=function(e){if(e>=1e8)return(e/1e8).toFixed(1)+"亿";if(e>=1e4){var t=parseInt((e/1e4).toFixed(1));return t>=1e4&&(t=9999),t+"万"}return e+""},s.auctionCountDownHandle=function(e){var t,a,s,r=e.split(":");return t=parseInt(r[0]),a=parseInt(r[1]),(s=parseInt(r[2]))>0?(t<10?"0"+t:t)+":"+(a<10?"0"+a:a)+":"+((s-=1)<10?"0"+s:s):(s=59,a>0?(t<10?"0"+t:t)+":"+((a-=1)<10?"0"+a:a)+":"+(s<10?"0"+s:s):(a=59,t>0?((t-=1)<10?"0"+t:t)+":"+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s):"00:00:00"))},s.checkMaterialItemCanBeStacked=function(e,t){return 1==e.s.OverLap||2==e.s.OverLap},s.checkDrugItemCanBeStacked=function(e,t){return 1==e.s.OverLap||2==e.s.OverLap},s.checkItemCanBreakUp=function(e){return this.checkMaterialItemCanBeStacked(e)||this.checkDrugItemCanBeStacked(e)},s.setDevicesValue=function(){window&&window.conch?R.g_Termial=3:this.isBoxEnvironment()?R.g_Termial=4:R.g_Termial=1},s.isBoxEnvironment=function(){if(window.location&&window.location.href){var e=window.location.href;if(""!=e)return e.indexOf("box=true")>-1}},s.isSameDir=function(e,t){switch(e){case 0:return[7,0,1].indexOf(t)>-1;case 1:return[0,1,2].indexOf(t)>-1;case 2:return[1,2,3].indexOf(t)>-1;case 3:return[2,3,4].indexOf(t)>-1;case 4:return[3,4,5].indexOf(t)>-1;case 5:return[4,5,6].indexOf(t)>-1;case 6:return[5,6,7].indexOf(t)>-1;case 7:return[6,7,0].indexOf(t)>-1}return!1},s.getPureGuildName=function(e){return e&&e.grildname?e.grildname.split("/")[0]:""},s.cutoffset=function(e){for(var t=!1,a=0;a<R.g_cutoffset.length;a++)if("data\\"+e==R.g_cutoffset[a]){t=!0;break}return t},s.checkObjDirContrary=function(e,t){return!isNaN(e)&&!isNaN(t)&&4==Math.abs(e-t)},s.checkAttackDirObjOnRange=function(e,t,a,s){var r=t.x,n=a.x,i=t.y,o=a.y;switch(e){case 0:return r==n&&i-s<=o&&o<i;case 1:return r<n&&n<=r+s&&i-s<=o&&o<i;case 2:return i==o&&r<n&&n<=r+s;case 3:return r<n&&n<=r+s&&i<o&&o<=i+s;case 4:return r==n&&i<o&&o<=i+s;case 5:return n<r&&n>=r-s&&i<o&&o<=i+s;case 6:return i==o&&n<r&&n>=r-s;case 7:return n<r&&n>=r-s&&i-s<=o&&o<i}return!1},s.drawerEffect=function(e,t,a){},s.reLogin=function(){if("LoginScene"!=b.getScene().name){var e=R.CurScene;e&&(e.mouseEnabled=!1);t=function(){b.loadScene("LoginScene")};ne.handlerAlert({type:1,content:"与服务器连接断开",sF:t})}else{b.getScene().getChildByName("Canvas").getChildByName("mask").getChildByName("AniPrefab")&&R.CurScene.loadAnimControl(0);var t=function(){b.loadScene("LoginScene")};ne.handlerAlert({type:1,content:"连接已中断请重连",sF:t})}},s.getTypeCount=function(e){for(var t=0,a=0,s=R.g_BagItemsList.length;a<s;a++){var r=R.g_BagItemsList[a];null!=r&&r.s.StdMode==e.s.StdMode&&r.s.AniCount==e.s.AniCount&&r.s.Shape==e.s.Shape&&r.s.AC1==e.s.AC1&&r.s.MAC1==e.s.MAC1&&(0==e.s.StdMode&&5==e.s.Source&&e.DuraMax>0?t+=r.Dura:2!=e.s.StdMode||1!=e.s.Shape&&2!=e.s.Shape?t+=1:t+=Math.ceil(r.Dura/1e3))}return t},s.getHeroUpgradeTypeCount=function(e){for(var t=0,a=0,s=R.g_BagItemsList.length;a<s;a++){var r=R.g_BagItemsList[a];null!=r&&r.s.StdMode==e.s.StdMode&&r.s.AniCount==e.s.AniCount&&r.s.Shape==e.s.Shape&&r.s.AC1==e.s.AC1&&r.s.MAC1==e.s.MAC1&&r.s.Name==e.s.Name&&(t+=r.Dura,t+=1)}return t},s.parseQRCodeByLink=function(e,t){var a=M(R.CurScene.qrnode);t.addChild(a),a.setPosition(e.xPos,e.yPos);var s=this.LayaPointToCocosPoint(a.position,t.getComponent(i).width,t.getComponent(i).height);a.setPosition(s),a.getComponent(i).width=a.getComponent(i).height=e.lengthNum,a.getComponent(be).createQR(e.linkStr),a.setPosition(a.position.x+a.getComponent(i).width/2,a.position.y-a.getComponent(i).height/2)},s.isConsumableItem=function(e){if(null!=e&&null!=e&&!(e.s.StdMode>3)&&"修复神水"!=e.s.Name)return!0},s.getSaveData=function(e){return m.localStorage.getItem(e)},s.setSaveData=function(e,t){return null!=t&&m.localStorage.setItem(e.toString(),t.toString())},s.recordDrugBarSetting=function(){for(var e=new Array,t=0;t<R.g_DrugItemsList.length;++t){var a=R.g_DrugItemsList[t];null!=a?e.push({looks:a.s.Looks,mode:a.s.StdMode}):e.push({looks:null,mode:null})}var r=JSON.stringify(e);s.setSaveData("druglist",r)},s.rulebydress=function(e,t,a,s){var r=0,n="hum";if(e>=2e3)n="graphics/human/"+Math.floor(e/2);else if(e>=200){var i=Math.floor(e/100);n="hum"+i,r=e-100*i}else n="hum",r=e;r*=600;var o=[],u=R.obj_config;if(u)for(var f=this.getstatenamebyplayer(a),c=0;c<u.HA[f].frame;c++){var l=s*(u.HA[f].frame+u.HA[f].skip),g=""+this.getprefixname(r+u.HA[f].start+c+l,6);o.push(g)}return{xid:r,ftime:u.HA[f].ftime,frames:o,file:n}},s.getstatenamebyplayer=function(e){var t="ActStand";switch(e){case 1:t="ActStand";break;case 2:t="ActWalk";break;case 3:t="ActRun";break;case 4:t="ActRushLeft";break;case 5:t="ActRushRight";break;case 6:t="ActWarMode";break;case 7:t="ActHit";break;case 8:t="ActHeavyHit";break;case 9:t="ActBigHit";break;case 10:t="ActFireHitReady";break;case 11:t="ActSpell";break;case 12:t="ActSitdown";break;case 13:t="ActStruck";break;case 14:t="ActDie"}return t},s.getprefixname=function(e,t){return(Array(t).join("0")+e).slice(-t)},s.getImageSetNameByPath=function(e){return null==this.pre?(this.pre=JSON.parse(m.localStorage.getItem("g_atlasRule")),this.getImageSetNameByPath1(e)):this.getImageSetNameByPath1(e)},s.getImageSetNameByPath1=function(e){var t=e,a="";if(this.g_getAtlas[t])return this.g_getAtlas[t];var s=e.split("/"),r=s.length;if(r<2)return a;for(var n=this.pre,i=0;i<r-1;){if(void 0===n[s[i]])return a;n=n[s[i]],i++}var o=s[r-1],u=parseInt(o);for(var f in n){var c=f.indexOf("-"),l=parseInt(f.substr(0,c)),g=parseInt(f.substr(c+1,f.length));if(u>=l&&u<=g){var h=n[f],d=("000000"+(Math.floor((u-l)/h)*h+l).toString()).slice(-6);a=e.replace(o,d)+".plist";break}}return this.g_getAtlas[t]=a,n=null,a},s.rulebyhair=function(e,t,a,s,r){var n=0,i="hair";if(e<6)if(e<4)switch(t){case 0:n=2*e*600;break;case 1:n=600*(e+2)}else switch(e){case 4:n=3600;break;case 5:n=4800;break;default:n=-1}else e>=50&&e<=59?n=600*(e-50)*2+600*t:e>=60&&e<=69?n=600*(e-60)*2+600*t:e>=100&&e<=107?(n=3600+600*(e-100)*2+600*t,i="hair2"):e>=108&&e<=119?(n=3600+600*(e-108)*2+600*t,i="hair3"):e>=120&&e<=129?(n=3600+600*(e-120)*2+600*t,i="hair4"):e>=130&&e<=139?(n=3600+600*(e-130)*2+600*t,i="hair5"):e>=140&&e<=149&&(n=3600+600*(e-140)*2+600*t,i="hair6");a>0&&(n=600*(t+2*e));var o=new Array;if(R.obj_config)for(var u=this.getstatenamebyplayer(s),f=0;f<R.obj_config.HA[u].frame;f++){var c=r*(R.obj_config.HA[u].frame+R.obj_config.HA[u].skip),l=""+this.getprefixname(n+R.obj_config.HA[u].start+f+c,6);o.push(l)}return{ftime:R.obj_config.HA[u].ftime,frames:o,file:a>0?"l-hairhorse":i}},s.rulebyWeapon=function(e,t,a,s){var r="weapon",n=0;if(e>=2e3)r="graphics/weapon/"+Math.floor(e/2);else if(e>=200){var i=Math.floor(e/100);r="weapon"+i,n=e-100*i}else r="weapon",n=e;n*=600;var o=new Array;if(R.obj_config)for(var u=this.getstatenamebyplayer(a),f=0;f<R.obj_config.HA[u].frame;f++){var c=s*(R.obj_config.HA[u].frame+R.obj_config.HA[u].skip),l=""+this.getprefixname(n+R.obj_config.HA[u].start+f+c,6);o.push(l)}return{ftime:R.obj_config.HA[u].ftime,frames:o,file:r}},s.DreesEffect=function(e,t,a,s,r){var n="",i=-1;if(e>6e4&&(e-=65536),e>=0&&e<R.g_pak_list.length?(n=R.g_pak_list[e],i=t):-9==e&&(n="humeffect",i=1200*t),""!=n&&i>=0){var o=new Array;if(R.obj_config)for(var u=this.getstatenamebyplayer(s),f=0;f<R.obj_config.HA[u].frame;f++){var c=r*(R.obj_config.HA[u].frame+R.obj_config.HA[u].skip),l=""+this.getprefixname(i+R.obj_config.HA[u].start+f+c,6);o.push(l)}return{ftime:R.obj_config.HA[u].ftime,frames:o,file:n}}},s.getresfilename=function(e,t,a,s){var r="",n=s?"":"data/";switch(t){case 1:case 2:case 3:r=n+e.file+"/";break;case 4:r=e.use_hores?n+"l-hairhorse/":n+e.hair_file+"/";break;case 5:r=n+e.weapon_file+"/";break;case 6:r=n+e.hores_file+"/";break;case 7:r=n+e.wing_file+"/";break;case 8:r=n+e.wapeff_file+"/";break;case 11:r=n+e.shield_file+"/";break;case 12:r=n+e.shdeff_file+"/";break;case 13:case 14:r=n+a+"/"}return r},s.rulebyShield=function(e,t,a,s){var r=new Array;if(e>=0){var n=600*e;if(R.obj_config)for(var i=this.getstatenamebyplayer(a),o=0;o<R.obj_config.HA[i].frame;o++){var u=s*(R.obj_config.HA[i].frame+R.obj_config.HA[i].skip),f=""+this.getprefixname(n+R.obj_config.HA[i].start+o+u,6);r.push(f)}return{ftime:R.obj_config.HA[i].ftime,frames:r,file:"shield"}}},s.rulebyhores=function(e,t,a,s){var r=0,n="";e>=20&&e<=28?(r=600*(e-20),n="l-horse"):e>=29&&e<=49?(r=600*(e-29),n="l-horse1"):e>=50&&e<=99&&(r=600*(e-50),n="l-horse2");var i=new Array;if(R.obj_config)for(var o=this.getstatenamebyplayer(a),u=0;u<R.obj_config.HA[o].frame;u++){var f=s*(R.obj_config.HA[o].frame+R.obj_config.HA[o].skip),c=""+this.getprefixname(r+R.obj_config.HA[o].start+u+f,6);i.push(c)}return{ftime:R.obj_config.HA[o].ftime,frames:i,file:n}},s.rulebydressforhores=function(e,t,a,s,r){var n=0,i=0,o=0;0==a?(i=t,o=2):(i=0,o=1),e>=0&&e<=49?n=600*(i+e*o):e>=50&&e<=99?n=600*(i+(e-50)*o):e>=100&&e<=149?n=600*(i+(e-100)*o):e>=150&&e<=199?n=600*(i+(e-150)*o):e>=200&&e<=249?n=600*(i+(e-200)*o):e>=250&&e<=299?n=600*(i+(e-250)*o):e>=300&&e<=349&&(n=600*(i+(e-300)*o));var u=new Array;if(R.obj_config)for(var f=this.getstatenamebyplayer(s),c=0;c<R.obj_config.HA[f].frame;c++){var l=r*(R.obj_config.HA[f].frame+R.obj_config.HA[f].skip),g=""+this.getprefixname(n+R.obj_config.HA[f].start+c+l,6);u.push(g)}return{file:"l-humhorse",ftime:R.obj_config.HA[f].ftime,frames:u}},s.getMyObject=function(){return oe.findobject(R.playerID)},s.rulebywing=function(e,t,a,s){var r=0,n="effect";switch(e){case 50:r=352,n="effect";break;case 242:r=2400+600*t,n="humeffect2";break;case 243:r=3600+600*t,n="humeffect2";break;case 244:r=4800+600*t,n="humeffect2";break;case 245:r=7200+600*t,n="humeffect2";break;default:r=600*(e-1),n="humeffect"}var i=new Array;if(R.obj_config)for(var o=this.getstatenamebyplayer(a),u=0;u<R.obj_config.HA[o].frame;u++){var f=s*(R.obj_config.HA[o].frame+R.obj_config.HA[o].skip),c=""+this.getprefixname(r+R.obj_config.HA[o].start+u+f,6);i.push(c)}return{ftime:R.obj_config.HA[o].ftime,frames:i,file:n}},s.rulebyweaponeeffect=function(e,t,a,s,r){if(0==R.g_pak_list.length)return null;var n=0,i="";if(e>=0){if(e>=240&&e<=247){switch(e){case 240:n=0+600*a;break;case 241:n=1200+600*a;break;case 242:n=6e3+600*a;break;case 243:n=8400+600*a;break;case 244:n=9600+600*a;break;case 245:n=10800+600*a;break;case 246:n=12600+600*a;break;case 247:n=13200+600*a}i="humeffect2"}else e>=0&&e<R.g_pak_list.length&&(n=t+600*a,i=R.g_pak_list[e]);var o=new Array;if(R.obj_config)for(var u=this.getstatenamebyplayer(s),f=0;f<R.obj_config.HA[u].frame;f++){var c=r*(R.obj_config.HA[u].frame+R.obj_config.HA[u].skip),l=""+this.getprefixname(n+R.obj_config.HA[u].start+f+c,6);o.push(l)}return{ftime:R.obj_config.HA[u].ftime,frames:o,file:i}}},s.rulebyhat=function(e,t,a,s){var r;r=t<8?3600+2*t*600+600*e:2*(t-8)*600+600*e;var n=new Array;if(R.obj_config)for(var i=this.getstatenamebyplayer(a),o=0;o<R.obj_config.HA[i].frame;o++){var u=s*(R.obj_config.HA[i].frame+R.obj_config.HA[i].skip),f=""+this.getprefixname(r+R.obj_config.HA[i].start+o+u,6);n.push(f)}return{ftime:R.obj_config.HA[i].ftime,frames:n,file:t<8?"hair2":"hair3"}},s.rulebyShieldEffect=function(e,t,a,s,r){var n="",i=-1;if(e>6e4&&(e-=65536),e>=0&&e<R.g_pak_list.length?(n=R.g_pak_list[e],i=t):-9==e&&(n="humeffect",i=1200*t),""!=n&&i>=0){var o=new Array;if(R.obj_config)for(var u=this.getstatenamebyplayer(s),f=0;f<R.obj_config.HA[u].frame;f++){var c=r*(R.obj_config.HA[u].frame+R.obj_config.HA[u].skip),l=""+this.getprefixname(i+R.obj_config.HA[u].start+f+c,6);o.push(l)}return{ftime:R.obj_config.HA[u].ftime,frames:o,file:n}}},s.notWarehouseFull=function(){return R.g_StoreCount>=0&&R.g_StoreCount<R.g_StoreMaxCount},s.loadTool=function(e,t,a){e&&t&&a&&_.load(e,(function(e,s){t[a]=s}))},s.formatData=function(e){var t=e.Def.btEffect,a=e.Def.wMagicId;return 38===a?t=4:39===a?t=0:46===a&&(t=42),this.parseMagicResName(2*t)},s.getCocosOffset=function(e,t,a){return new h(e.x+(t>>1),-(e.y+(a>>1)))},s.getFinalMoneyType=function(e){var t;switch(e){case 0:t=3;break;case 1:t=1;break;case 2:t=5;break;case 3:t=6;break;case 4:t=7;break;case 5:t=8}return t},s.getColorBy16=function(e){return new N(e)},s.DelHeroBagItems=function(e){if(-1!=e){for(var t=0;t<R.g_HeroBagItemsList.length;t++)if(null!=R.g_HeroBagItemsList[t]&&R.g_HeroBagItemsList[t].MakeIndex==e){R.g_HeroBagItemsList[t]=null;break}B.raiseEvent("Show_HeroBag_Item_ico"),B.raiseEvent(W.SCREEN_REFRESH_SEARCHITEMS)}},s.LayaPointToCocosPoint=function(e,t,a){return new u(e.x-t/2,-(e.y-a/2))},s.getName=function(e,t,a){if(2==e)return a[0];if(-1!=t.indexOf("\n")){var s=t.split("\n");t=s[s.length-1]}return t||void 0},s.setNodeGray=function(e,t){for(var a=e.getComponentsInChildren(k),s=0;s<a.length;s++)a[s].grayscale=t},s.addLabel=function(e){var t=M(R.CurScene.msgLabelNode);return e.name?t.name=e.name:t.name="MsgLabelNode",(e.outline||e.outlineColor)&&(t.getComponent(y).width=e.outline?e.outline:2,e.outlineColor?(3==e.outlineColor.toString().length&&(e.outlineColor=le.Get2RGB(e.outlineColor)),t.getComponent(y).color=x(e.outlineColor)):t.getComponent(y).color=x("#000000")),t.getComponent(S).fontSize=e.fontSize?e.fontSize:17,t.getComponent(S).lineHeight=t.getComponent(S).fontSize,e.color&&(3==e.color.toString().length&&(e.color=le.Get2RGB(e.color)),t.getComponent(S).color.set(x(e.color))),e.HAlign&&(t.getComponent(S).horizontalAlign=e.HAlign),e.underline&&(t.getComponent(S).isUnderline=!0),(e.x||e.y)&&t.setPosition(e.x,e.y),e.paddingLetf?(t.getComponent(i).anchorX=0,t.getComponent(i).anchorY=1):e.paddingRight?(t.getComponent(i).anchorX=1,t.getComponent(i).anchorY=1):(t.getComponent(i).anchorX=.5,t.getComponent(i).anchorY=.5),t.getComponent(S).string=e.text,t},s.addimg=function(e,t){var a=new I;a.addComponent(k),a.getComponent(k).sizeMode=k.SizeMode.TRIMMED,se.resLoad(e.path,(function(s){a.getComponent(k).spriteFrame=s,e.x&&e.y&&a.setPosition(e.x,e.y),e.sHitText&&(a.sHitText=e.sHitText),e.BoIsOpen&&(a.BoIsOpen=e.BoIsOpen),e.BoxId&&(a.BoxId=e.BoxId),e.BoxType&&(a.BoxType=e.BoxType),a.layer=A.Enum.UI_2D,t(a)}))},s.arrayHasElement=function(e,t){for(var s,r=a(e);!(s=r()).done;){var n=s.value;if(n.length===t.length)for(var i in n){var o=Number(i);if(n[o]!==t[o])break;if(o==n.length-1)return!0}}return!1},s.GetJob=function(e){return 0==e?"战士":1==e?"法师":"道士"},s.GetSex=function(e){return 0==e?"男":"女"},s.getOffLineTime=function(e){e=new Date(e);var t=new Date,a=0;return t>e&&(a=parseInt(Math.abs(t.getTime()-e.getTime())/1e3/60/60/24)),a},s.infoTimeStr=function(e){if(e){this.getOffLineTime(e);return e.split(" ")[0]+""}},s.removeItemAni=function(e,t){var a=Z.getAni(e,t+e.uuid);a&&Z.removeAni(a)},s.canScrollUp=function(e){var t=e.getComponent(D).getContentPosition(),a=new u(0,0,0);return Math.abs(a.x-t.x)<.001&&Math.abs(a.y-t.y)<.001},s.canScrolDown=function(e){var t=e.getComponent(D).getContentPosition(),a=new u(0,0,0);return Math.abs(a.x-t.x)<.001&&Math.abs(a.y-t.y)<.001},s.calculateHeroQuality=function(e){var t="";switch(e){case 1:t="EED";break;case 2:t="ED";break;case 3:t="D";break;case 4:t="A";break;case 5:t="B";break;case 6:default:t="C"}return t},s.returnJobHandle=function(e){var t="";switch(e){case 0:t="战士";break;case 1:t="法师";break;case 2:t="道士"}return t},s.loadResLocal=function(e,t,a){var s=se.getRes(e);t?s&&t&&t.isValid?(t.spriteFrame=s,a&&a()):se.handleLoad(e,(function(e){e&&t&&t.isValid&&(t.spriteFrame=e,a&&a())})):console.error("Sprite组件不存在,资源: "+e)},s.loadResLocalAtlas=function(e,t){var a=se.getRes(e);a?t.imageAtlas=a:se.handleLoad(e,(function(e){e&&t&&(t.imageAtlas=e)}))},s.loadResLocalAtlasIMG=function(e,t,a){var s=se.getRes(e);s?t.spriteFrame=s.getSpriteFrame(a):se.handleLoad(e,(function(e){e&&t&&(t.spriteFrame=e.getSpriteFrame(a))}))},s.loadResLocalToggle=function(e,t,a,s,r){void 0===r&&(r=!0);var n=se.getRes(e);n&&a.node?(a.normalSprite=n,a.node&&a.node.getComponent(k)&&(a.node.getComponent(k).spriteFrame=n)):se.handleLoad(e,(function(e){e&&a.node&&(a.normalSprite=e,a.node&&a.node.getComponent(k)&&(a.node.getComponent(k).spriteFrame=e))}));var i=se.getRes(t);i&&a.node?(a.pressedSprite=i,a.hoverSprite=r?i:null,s&&(s.spriteFrame=i)):se.handleLoad(t,(function(e){e&&a.node&&(a.pressedSprite=e,a.hoverSprite=r?e:null,s&&(s.spriteFrame=e))}))},s.loadResLocalButton=function(e,t,a,s){var r=se.getRes(e);r&&a.node?(a.normalSprite=r,a.node.getComponent(k).spriteFrame=r):se.handleLoad(e,(function(e){e&&a.node&&(a.normalSprite=e,a.node.getComponent(k).spriteFrame=e)}));var n=se.getRes(t);if(n&&a.node?(a.pressedSprite=n,a.hoverSprite=n):se.handleLoad(t,(function(e){e&&a.node&&(a.pressedSprite=e,a.hoverSprite=e)})),s){var i=se.getRes(s);i&&a.node?a.disabledSprite=i:se.handleLoad(s,(function(e){e&&a.node&&(a.disabledSprite=e)}))}},s.publicLayoutNode=function(){var e=b.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode");if(e){var t=b.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("BagWin");return t&&e.setSiblingIndex(t.getSiblingIndex()+1),e}var a=new I("publicLayoutNode"),s=a.addComponent(w);return s.type=w.Type.HORIZONTAL,s.resizeMode=w.ResizeMode.CONTAINER,s.enabled=!1,b.getScene().getChildByName("Canvas").getChildByName("UIBox").addChild(a),a},s.setBtnSprite=function(e,t,a,s){if(e){var r=e.getComponent(E);r&&(t&&(r.normalSprite=se.getRes(t)),a&&(r.pressedSprite=se.getRes(a)),s&&(r.hoverSprite=t==s?r.normalSprite:se.getRes(s)))}},s.clickItemInit=function(e,t){e.res?se.handleLoad(e.res.plist,(function(a){a&&a.getSpriteFrame(e.res.img)&&t&&(t.spriteFrame=a.getSpriteFrame(e.res.img))})):t.spriteFrame=null,e.data?e.data.s.BagEffect.FileIndex&&s.showItemeffect(t.node,e.data):s.removeItemAni(t.node,"effect")},s.isOpenItemInfo=function(){return null!=R.MainScene.draglayer.getChildByName("comparison")},s.setStageVolumeAndShow=function(){R.sandBoxForeground=!0,$.instance.isStop=!1,R.CurScene.node.getComponent(l).opacity=255,console.log("沙盒切回来的"),s.getMapLayerScript().drawmap(ie.self_obj.grid.x,ie.self_obj.grid.y)},s.setStageVolumeAndHide=function(){console.log("沙盒切换到后台"),R.sandBoxForeground=!1,$.instance.isStop=!0,R.CurScene.node.getComponent(l).opacity=1},s.sendHttp=function(e,t){return new Promise((function(a,s){var r=new XMLHttpRequest;r.open(t,e),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){if(4===r.readyState)if(r.status>=200&&r.status<300){var e=JSON.parse(r.responseText);console.log("---------------------request success---------------------"),a(e)}else R.CurScene.loadAnimControl(0),s("---------------------request fail---------------------");else r.responseText&&console.log("readyState:"+r.readyState+"请求异常："+r.responseText)},r.send()}))},s.findNodeByRes=function(e){var t=v(e);if(t)return t;console.error("未找到路径为",e,"的节点")},s.objectCompare=function(e){return function(t,a){var s=t[e],r=a[e];return isNaN(Number(s))||isNaN(Number(r))||(s=Number(s),r=Number(r)),s<r?-1:s>r?1:0}},s.randAccount=function(){var e=this.randNum(),t=this.randLetter()+e,a=!0;if(R.g_register)for(var s=0;s<R.g_register.length;s++){var r=R.g_register[s];if(""!=R.g_register[s]&&-1!=t.indexOf(r)){a=!1;break}}return a?t:this.randAccount()},s.randNum=function(){for(var e="",t=0;t<4;t++){e+=Math.round(9*Math.random())}return e},s.randLetter=function(){for(var e="",t=0;t<4;t++){var a=Math.round(25*Math.random());e+=String.fromCharCode(a+97)}return e},s.checkBirthday=function(e){if(-1!=e.indexOf("/")){var t=e.split("/");if(3==t.length){var a=parseInt(t[0]),s=parseInt(t[1]),r=parseInt(t[2]);if(a>1890&&a<=2101&&s>0&&s<13&&r>0&&r<32)return!0}}return!1},s.whiteListCheck=function(e,t){if(e){var a=R.g_serverconfigtxt;if(a&&a.AllserverStates)switch(a.AllserverStates){case 1:case"1":R.g_canLogin=!0;break;case 0:case"0":if(a.AccountSettings){var s=a.AccountSettings.split(",");R.g_canLogin=s.indexOf(e)>-1}else R.g_canLogin=!1;break;default:var r=a.AllserverStates.split(",");a.AccountSettings&&(s=a.AccountSettings.split(",")),r&&r.length>0&&r.indexOf(t)>-1&&(s?s.indexOf(e)>-1?R.g_canLogin=!0:R.g_canLogin=!1:R.g_canLogin=!0)}}},s.checkStrYuanBao=function(e){for(var t=[],a=0;a<e.length;a++){var s=e[a];if(-1!=s.indexOf("{")&&-1!=s.indexOf("}")&&-1!=s.indexOf("|")){var r=void 0;-1!=(r=s.substring(s.indexOf("|")+1,s.indexOf("}"))).indexOf(":")&&(r=r.split(":"));var n=le.Get2RGB(parseInt(r[0]));if(0==t.length)t.push(n);else{for(var i=!1,o=0;o<t.length;o++)if(t[o]==n){i=!0;break}i||t.push(n)}}}if(t.length<2)return e;for(var u=0;u<e.length;u++){var f=e[u],c=f.substring(f.indexOf("{")+1,f.indexOf("|"));e[u]=c}return e},s.copyTextToClipboard=function(e){if(m.isNative)return O.copyTextToClipboard(e),!0;var t=e,a=document.createElement("textarea");a.id="textarea",a.value=t,a.setAttribute("readonly",""),a.style.contain="strict",a.style.position="absolute",a.style.left="-9999px",a.style.fontSize="12pt";var s=getSelection(),r=!1;s.rangeCount>0&&(r=s.getRangeAt(0)),document.body.appendChild(a),a.select(),a.selectionStart=0,a.selectionEnd=t.length;var n=!1;try{n=document.execCommand("copy")}catch(e){}return document.body.removeChild(a),r&&(s.removeAllRanges(),s.addRange(r)),n?console.log("复制"+e+"成功"):console.log("复制"+e+"失败"),n},s.readBuff=function(e,t,a){var s=null;switch(a){case 1:s=e[t.i++]>>>0;break;case 2:s=e[t.i++]+(e[t.i++]<<8)>>>0;break;case 4:s=e[t.i++]+(e[t.i++]<<8)+(e[t.i++]<<16)+(e[t.i++]<<24)>>>0;break;case 8:var r=e[t.i++]+(e[t.i++]<<8)+(e[t.i++]<<16)+(e[t.i++]<<24),n=e[t.i++]+(e[t.i++]<<8)+(e[t.i++]<<16)+(e[t.i++]<<24);s=new Me(n,r).toNumber(!1)}return t.i||console.error("obj.i为空"),s},s.readConstomLength=function(e,t,a){var r;return r=Ce(s.slice(e,t.i+1,t.i+1+e[t.i])),t.i+=a+1,r},s.getDataOfPickUpType=function(e){if(0==e)return R.g_filterItemList;var t={},a=R.g_filterItemList;for(var s in a)a[s].type==e&&(t[s]=a[s]);return t},s.changeValueByPickType=function(e,t,a){var s;for(var r in e)(s=e[r])&&0==t&&(s.show=a)},s.delBags=function(){for(var e=0;e<R.g_BagItemsList.length;e++)R.g_BagItemsList[e]=null;B.raiseEvent(W.SHOW_BAG_ITEM_ICO),B.raiseEvent(W.SHOWDRUG_ITEMS),R.MainScene.openScreen&&B.raiseEvent(W.SCREEN_REFRESH_SEARCHITEMS)},s.delHeros=function(){for(var e=0;e<R.g_HeroItemList.length;e++)R.g_HeroItemList[e]=null;B.raiseEvent(W.SHOW_HEROITEM_ICO)},s.hitArea=function(e,t){if(e&&t){var a=t.getComponent(i),s=a.width,r=a.height;return t.worldPosition.x-a.anchorX*s<=e.x&&e.x<=t.worldPosition.x+(1-a.anchorX)*s&&t.worldPosition.y-a.anchorY*r<=e.y&&e.y<=t.worldPosition.y+(1-a.anchorY)*r}},s.LineText_PLAYIMG=function(e,t,a,r,n,o){var u="";if(Array.isArray(e)){var f=e[0].split(":");u=e[1]}else f=e.split(":");var g=parseInt(f[1]),h=parseInt(f[2]),d=parseInt(f[3]),m=parseInt(f[4]),p=t.x+parseInt(f[5]),_=t.y+parseInt(f[6]),S=parseInt(f[7]),v=!1;if(v=!(!S||0==S),f[8])var b=f[8].indexOf("|")?parseInt(f[8].split("|")[0]):parseInt(f[8]);if(-1!=g&&g<R.g_pak_list.length){var C=R.g_pak_list[g],M=((Array(5).join("0")+(0+h)).slice(-5),new I(u));M.layer=A.Enum.UI_2D,M.addComponent(k),M.getComponent(k).sizeMode=k.SizeMode.TRIMMED;var N,L=ve.getUrls(C,h),y=se.getRes(L.plistPath);y?M.getComponent(k).spriteFrame=y.getSpriteFrame(L.imgName):console.error("未从缓存中读取到资源路径为:",L.plistPath,"的资源");var x=c(p,_),D=s.LayaPointToCocosPoint(x,a.getComponent(i).width,a.getComponent(i).height);return D=c(D.x-a.getComponent(i).width/2,-t.y+1.5*M.getComponent(i).height),b&&0!=b?b>0&&(N=Z.playframe(v,a,"data/"+C+"/",h,h+d-1,m,!1,!0,D,this,(function e(){if(--b>0){var t=c(p,_),r=s.LayaPointToCocosPoint(t,a.getComponent(i).width,a.getComponent(i).height),n=Z.playframe(!0,a,"data/"+C+"/",h,h+d-1,100,!1,!0,r,this,e);n&&(n.name="peteffect"+a.uuid)}}))):N=Z.playframe(v,a,"data/"+C+"/",h,h+d-1,m,!0,!1,D),N&&(N.name="peteffect"+a.uuid,N.is_use_offest=null==n||n,o&&N.node.setPosition(c(t.x-1.5*M.getComponent(i).width+5,-t.y-M.getComponent(i).height/2)),N.getComponent(l).opacity=255),t.x+=M.getComponent(i).width,r&&M.getComponent(i).height>20&&(t.y=M.getComponent(i).height),o&&M.getComponent(i).height>40?M.getComponent(i).height+20:M.getComponent(i).height}},s.New_LineText_PLAYIMG=function(e,t,a,s){var r="";if(Array.isArray(e)){var n=e[0].split(":");r=e[1]}else n=e.split(":");var o=parseInt(n[1]),u=parseInt(n[2]),f=parseInt(n[3]),l=parseInt(n[4]),g=t.x+parseInt(n[5]),h=t.y+parseInt(n[6]),d=parseInt(n[7]),m=!1;if(m=!(!d||0==d),n[8])var p=n[8].indexOf("|")?parseInt(n[8].split("|")[0]):parseInt(n[8]);if(-1!=o&&o<R.g_pak_list.length){var _=R.g_pak_list[o],S=((Array(5).join("0")+(0+u)).slice(-5),new I(r));S.layer=A.Enum.UI_2D,S.addComponent(k),S.getComponent(k).sizeMode=k.SizeMode.TRIMMED;var v=ve.getUrls(_,u),b=(v.imgName,ve.findImg(v));S.getComponent(k).spriteFrame=b;var C=c(g,-h);p&&0!=p?p>0&&Z.playframe(m,a,"data/"+_+"/",u,u+f-1,l,!1,!0,C,this):Z.playframe(m,a,"data/"+_+"/",u,u+f-1,l,!0,!1,C),t.x+=S.getComponent(i).width,s&&S.getComponent(i).height>20&&(t.y=S.getComponent(i).height)}},s.isEquip=function(e){if(null!=e&&null!=e){return[5,6,10,11,12,15,16,19,20,21,22,23,24,26,29,62,64,65].indexOf(e)>-1}},s.maxBag=function(e){for(var t=0;t<R.g_BagItemsList.length;t++)if(!R.g_BagItemsList[t])return!1;return e&&B.raiseEvent("show_log",[{txt:"背包已满",color:"#ff0000"}]),!0},s.maxWeight=function(e){var t=ie.self_obj.m_Abil;return!(t.Weight<t.MaxWeight)&&(e&&B.raiseEvent("show_log",[{txt:"负重已满",color:"#ff0000"}]),!0)},s}(H));Ie.skillListType=0,Ie.SkillRockeNum=void 0,Ie.boShowBoundary=!1,Ie.currLoadMusic={},Ie.grid_x=48,Ie.grid_y=32,Ie.m_nShiftX=0,Ie.m_nShiftY=0,Ie.m_nRx=0,Ie.m_nRy=0,Ie.BoNoDisplayMaxDura=!0,Ie.hasCiShaSkill=void 0,Ie.loseLockIdCount=void 0,Ie.isIOSAndQSY=void 0,Ie.pre=null,Ie.g_getAtlas={},Ie.sound_json=[],Ie.canUseYeMan=function(e,t,a){var s=this.getMapLayerScript().CanMove(e,t,a),r=oe.hasobstacleID(e,t);if(s){if(!r)return Ie.getMovePoint(e,t,a);if(r&&(1==r.type||3==r.type))return Ie.getMovePoint(e,t,a)}return!1},Ie.getAudioClipByUrl=function(e){return new g(e)};e("superMsg",Ie.prototype.superMsg);s._RF.pop()}}}));

System.register("chunks:///_virtual/General.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./audioManager.ts","./objectmanage.ts","./GameUtil.ts"],(function(e){"use strict";var l,t,i,o,a,n,s,r,h,b,g,c,C,u,_,p,m,f,d,w,H,k,N;return{setters:[function(e){l=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,s=e.Node,r=e.NodeEventType,h=e.Button,b=e.Toggle,g=e.Sprite,c=e.Slider,C=e.Label,u=e.tween,_=e.find,p=e.v3,m=e.Component},function(e){f=e.EventMgr},function(e){d=e.Config},function(e){w=e.default},function(e){H=e.audioManager},function(e){k=e.ObjectManage},function(e){N=e.GameUtil}],execute:function(){var S,T,y,E,O,G,B,D,v,V,U,M,R,x,L,j,z,P,A,W,I,F,K,q,$,Y,X,J,Q,Z,ee,le,te,ie,oe,ae,ne,se,re,he,be,ge,ce,Ce,ue,_e,pe,me,fe,de,we,He,ke,Ne,Se,Te,ye,Ee,Oe;a._RF.push({},"22943jUFKRCsoGpGqNV7wLt","General",void 0);var Ge=n.ccclass,Be=n.property;e("General",(S=Ge("General"),T=Be(s),y=Be(s),E=Be(s),O=Be(s),G=Be(s),B=Be(s),D=Be(s),v=Be(s),V=Be(s),U=Be(s),M=Be(s),R=Be(s),x=Be(s),L=Be(s),j=Be(s),z=Be(s),P=Be(s),A=Be(s),W=Be(s),I=Be(s),F=Be(s),K=Be(s),q=Be(s),$=Be(s),Y=Be(s),X=Be(s),J=Be(s),Q=Be(s),S((le=l((ee=function(e){function l(){for(var l,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return l=e.call.apply(e,[this].concat(a))||this,i(l,"content",le,o(l)),i(l,"lab_ShowName",te,o(l)),i(l,"lab_ShowTitle",ie,o(l)),i(l,"lab_Unpack",oe,o(l)),i(l,"lab_NameShow3",ae,o(l)),i(l,"lab_ShowHP",ne,o(l)),i(l,"lab_NameShow1",se,o(l)),i(l,"lab_ShowExp",re,o(l)),i(l,"lab_BackMusic",he,o(l)),i(l,"lab_NameShow2",be,o(l)),i(l,"lab_HidePlayer",ge,o(l)),i(l,"lab_NameShow4",ce,o(l)),i(l,"lab_Smooth",Ce,o(l)),i(l,"lab_DelayShow",ue,o(l)),i(l,"lab_DoubleRocker",_e,o(l)),i(l,"lab_ShowBlue",pe,o(l)),i(l,"lab_NotLock",me,o(l)),i(l,"lab_Clear",fe,o(l)),i(l,"lab_BanCkilcMove",de,o(l)),i(l,"lab_AutoWear",we,o(l)),i(l,"lab_HideMonster",He,o(l)),i(l,"lab_MonSimple",ke,o(l)),i(l,"lab_HumSimple",Ne,o(l)),i(l,"lab_WeaponSimple",Se,o(l)),i(l,"sli_GameVoice",Te,o(l)),i(l,"sli_ViewControl",ye,o(l)),i(l,"lab_VoiceValue",Ee,o(l)),i(l,"lab_ViewValue",Oe,o(l)),l}t(l,e);var a=l.prototype;return a.onLoad=function(){var e=this;this.node.on(r.ACTIVE_IN_HIERARCHY_CHANGED,(function(l){l.active?e.registerEvents():e.unRegisterEvents()}),this)},a.start=function(){N.loadResLocalButton("Auxiliary/gxx/seting_switchPlayer.png","Auxiliary/gxx/seting_switchPlayer (2).png",this.node.getChildByName("btn_SwitchPlayer").getComponent(h));for(var e=this.content.children.length,l=0;l<e;l++){var t=this.content.children[l].getChildByName("tog").getComponent(b);N.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",t,t.checkMark,!1)}N.loadResLocal("Auxiliary/gxx/seting_musicBg.png",this.sli_GameVoice.getComponent(g)),N.loadResLocalButton("Auxiliary/gxx/seting_musicBg$bar.png","Auxiliary/gxx/seting_musicBg$bar (3).png",this.sli_GameVoice.getChildByName("Handle").getComponent(h)),N.loadResLocal("Auxiliary/gxx/seting_musicBg.png",this.sli_ViewControl.getComponent(g)),N.loadResLocalButton("Auxiliary/gxx/seting_musicBg$bar.png","Auxiliary/gxx/seting_musicBg$bar (3).png",this.sli_ViewControl.getChildByName("Handle").getComponent(h))},a.updateView=function(){this.lab_ShowName.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.ShowName,this.scheduleOnce((function(){k.ShowName()}),.3),this.lab_ShowTitle.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.ShowTitle,this.scheduleOnce((function(){k.ShowTitle()}),.3),this.lab_Unpack.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.unpack,this.lab_BackMusic.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.backmusic,this.lab_Clear.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.clear,this.lab_NameShow1.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.nameshow1,k.ReObjectVisible(1),this.lab_NameShow2.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.nameshow2,k.ReObjectVisible(2),this.lab_NameShow3.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.nameshow3,k.ReObjectVisible(3),this.lab_NameShow4.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.nameshow4,k.ReObjectVisible(4),this.lab_ShowHP.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.showhp,d.G_SHOW_ROLE_HP=d.GlobalCfglist.showhp,k.ReObjHpvisible(d.GlobalCfglist.showhp),this.sli_GameVoice.getComponent(c).progress=.01*d.GlobalCfglist.gameVoice,this.lab_ShowExp.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.showExp,this.lab_BanCkilcMove.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.banCkilcMove,this.lab_NotLock.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.notLock,this.lab_HidePlayer.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.hidePlayer,this.hideObj(),this.lab_HideMonster.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.hideMonster,this.hideObj(),this.lab_Smooth.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.smooth,this.lab_ShowBlue.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.showBlue;for(var e=0;e<k.object_list.length;e++){var l=k.object_list[e];l&&3==l.type&&l.Blood&&l.Blood.showBlueBar(l)}this.lab_AutoWear.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.autoWear,this.lab_DelayShow.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.delayShow;var t,i=d.GlobalCfglist.delayShow;f.raiseEvent(w.DELAY_SHOW,i),this.lab_HumSimple.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.humsimple,this.lab_MonSimple.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.monsimple,this.lab_WeaponSimple.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.weaponsimple,this.lab_DoubleRocker.parent.getChildByName("tog").getComponent(b).isChecked=d.GlobalCfglist.doubleRocker,f.raiseEvent(w.MOVE_POSITION),d.GlobalCfglist.doubleRockerLoaction=this.lab_DoubleRocker.parent.getChildByName("tog").getComponent(b).isChecked,f.raiseEvent(w.SWITCH_ROCKER),d.GlobalCfglist.doubleRocker||f.raiseEvent(w.HIDE_SINGLE_ROKER,!0),this.lab_VoiceValue.getComponent(C).string=d.GlobalCfglist.gameVoice+"",100==d.GlobalCfglist.viewScale?t=0:125==d.GlobalCfglist.viewScale?t=.5:150==d.GlobalCfglist.viewScale&&(t=1),this.sli_ViewControl.getComponent(c).progress=t,this.lab_ViewValue.getComponent(C).string=d.GlobalCfglist.viewScale+"%"},a.onClickToggleHandler=function(e){var l=this,t=!e.target.parent.getChildByName("tog").getComponent(b).isChecked;switch(e.target.parent.getChildByName("tog").getComponent(b).isChecked=t,e.target.name){case"lab_ShowName":d.GlobalCfglist.ShowName=t,this.scheduleOnce((function(){k.ShowName()}),.3);break;case"lab_ShowTitle":d.GlobalCfglist.ShowTitle=t,this.scheduleOnce((function(){k.ShowTitle()}),.3);break;case"lab_Unpack":d.GlobalCfglist.unpack=t;break;case"lab_NameShow3":d.GlobalCfglist.nameshow3=t,this.scheduleOnce((function(){k.ReObjectVisible(3)}),.3);break;case"lab_ShowHP":d.GlobalCfglist.showhp=t,d.G_SHOW_ROLE_HP=d.GlobalCfglist.showhp,this.scheduleOnce((function(){k.ReObjHpvisible(d.GlobalCfglist.showhp)}),.3);break;case"lab_NameShow1":d.GlobalCfglist.nameshow1=t,this.scheduleOnce((function(){k.ReObjectVisible(1)}),.3);break;case"lab_ShowExp":d.G_SHOW_EXP=t;break;case"lab_BackMusic":d.GlobalCfglist.backmusic=t;break;case"lab_NameShow2":d.GlobalCfglist.nameshow2=t,this.scheduleOnce((function(){k.ReObjectVisible(2)}),.3);break;case"lab_HidePlayer":d.GlobalCfglist.hidePlayer=t,this.scheduleOnce((function(){l.hideObj()}),.3);break;case"lab_NameShow4":d.GlobalCfglist.nameshow4=t,this.scheduleOnce((function(){k.ReObjectVisible(4)}),.3);break;case"lab_Smooth":d.GlobalCfglist.smooth=t;break;case"lab_DelayShow":d.GlobalCfglist.delayShow=t;var i=d.GlobalCfglist.delayShow;f.raiseEvent(w.DELAY_SHOW,i);break;case"lab_DoubleRocker":f.raiseEvent(w.MOVE_POSITION),d.GlobalCfglist.doubleRockerLoaction=t,f.raiseEvent(w.SWITCH_ROCKER),d.GlobalCfglist.doubleRocker||f.raiseEvent(w.HIDE_SINGLE_ROKER,!0);break;case"lab_ShowBlue":d.GlobalCfglist.showBlue=t;for(var o=0;o<k.object_list.length;o++){var a=k.object_list[o];a&&3==a.type&&a.Blood&&a.Blood.showBlueBar(a)}break;case"lab_NotLock":d.GlobalCfglist.notLock=t;break;case"lab_Clear":d.GlobalCfglist.clear=t;break;case"lab_BanCkilcMove":d.GlobalCfglist.banCkilcMove=t;break;case"lab_AutoWear":d.GlobalCfglist.autoWear=t;break;case"lab_HideMonster":d.GlobalCfglist.hideMonster=t,this.hideObj();break;case"lab_MonSimple":this.monsimpleHandle(t);break;case"lab_HumSimple":this.humsimpleHandle(t);break;case"lab_WeaponSimple":this.weaponsimpleHandle(t)}},a.humsimpleHandle=function(e){d.GlobalCfglist.humsimple=e;for(var l=0;l<k.object_list.length;l++){var t=k.object_list[l];t&&3==t.type&&t.updateskin()}},a.monsimpleHandle=function(e){d.GlobalCfglist.monsimple=e;for(var l=0;l<k.object_list.length;l++){var t=k.object_list[l];t&&1==t.type&&t.updateskin()}},a.weaponsimpleHandle=function(e){d.GlobalCfglist.weaponsimple=e;for(var l=0;l<k.object_list.length;l++){var t=k.object_list[l];t&&3==t.type&&t.updateskin()}},a.hideObj=function(){for(var e=0;e<k.object_list.length;e++){var l=k.object_list[e];l&&(3==l.type&&l.data.record!=d.playerID&&l.updateHidePlayer(!d.GlobalCfglist.hidePlayer),1==l.type&&(l.sp.active=!d.GlobalCfglist.hideMonster))}},a.onClickGameVoiceHandler=function(e){this.lab_VoiceValue.getComponent(C).string=(100*e.progress).toFixed(0),H.instance.setSoundVolume(parseFloat(e.progress.toFixed(1))),H.instance.setVolume(parseFloat(e.progress.toFixed(1))),d.GlobalCfglist.gameVoice=Number((100*e.progress).toFixed(0))},a.onClickViewControlBtnHandler=function(){var e=this.sli_ViewControl.getComponent(c).progress;e<.3?(u(this.sli_ViewControl.getComponent(c)).to(.5,{progress:0},{easing:"quartOut"}).start(),this.lab_ViewValue.getComponent(C).string="100%",d.GlobalCfglist.viewScale=100,_("Canvas").getChildByName("MapLayer").setScale(p(1,1,1))):e>=.3&&e<=.7?(u(this.sli_ViewControl.getComponent(c)).to(.5,{progress:.5},{easing:"quartOut"}).start(),this.lab_ViewValue.getComponent(C).string="125%",d.GlobalCfglist.viewScale=125,_("Canvas").getChildByName("MapLayer").setScale(p(1.25,1.25,1.25))):(u(this.sli_ViewControl.getComponent(c)).to(.5,{progress:1},{easing:"quartOut"}).start(),this.lab_ViewValue.getComponent(C).string="150%",d.GlobalCfglist.viewScale=150,_("Canvas").getChildByName("MapLayer").setScale(p(1.5,1.5,1.5)))},a.onClickBtnSwitchPlayerHandler=function(){f.raiseEvent(w.GAME_DLG_CMD,{id:"exit_to_role"})},a.evtMgrSetSimpleHandler=function(){},a.registerEvents=function(){console.log("注册General相关事件"),f.addEventListener(w.SET_SIMPLE,this.evtMgrSetSimpleHandler,this),this.lab_ShowName.on(r.TOUCH_END,this.onClickToggleHandler,this),this.lab_ShowTitle.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Unpack.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow3.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ShowHP.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow1.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ShowExp.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_BackMusic.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow2.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_HidePlayer.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow4.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Smooth.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DelayShow.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DoubleRocker.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ShowBlue.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NotLock.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Clear.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_BanCkilcMove.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_AutoWear.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_HideMonster.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_MonSimple.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_HumSimple.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_WeaponSimple.on(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.sli_ViewControl.on(r.TOUCH_END,this.onClickViewControlBtnHandler,this),this.sli_ViewControl.getChildByName("Handle").on(r.TOUCH_END,this.onClickViewControlBtnHandler,this),this.sli_ViewControl.getChildByName("Handle").on(r.TOUCH_CANCEL,this.onClickViewControlBtnHandler,this)},a.unRegisterEvents=function(){console.log("注销General相关事件"),this.lab_ShowName.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ShowTitle.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Unpack.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow3.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ShowHP.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow1.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ShowExp.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_BackMusic.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow2.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_HidePlayer.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NameShow4.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Smooth.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DelayShow.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DoubleRocker.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ShowBlue.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_NotLock.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Clear.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_BanCkilcMove.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_AutoWear.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_HideMonster.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_MonSimple.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_HumSimple.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_WeaponSimple.off(r.TOUCH_END,this.onClickToggleHandler,this,!0),this.sli_ViewControl.on(r.TOUCH_END,this.onClickViewControlBtnHandler,this),this.sli_ViewControl.getChildByName("Handle").off(r.TOUCH_END,this.onClickViewControlBtnHandler,this),this.sli_ViewControl.getChildByName("Handle").off(r.TOUCH_CANCEL,this.onClickViewControlBtnHandler,this)},l}(m)).prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=l(ee.prototype,"lab_ShowName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=l(ee.prototype,"lab_ShowTitle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=l(ee.prototype,"lab_Unpack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=l(ee.prototype,"lab_NameShow3",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=l(ee.prototype,"lab_ShowHP",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=l(ee.prototype,"lab_NameShow1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=l(ee.prototype,"lab_ShowExp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=l(ee.prototype,"lab_BackMusic",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=l(ee.prototype,"lab_NameShow2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=l(ee.prototype,"lab_HidePlayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=l(ee.prototype,"lab_NameShow4",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=l(ee.prototype,"lab_Smooth",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=l(ee.prototype,"lab_DelayShow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=l(ee.prototype,"lab_DoubleRocker",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=l(ee.prototype,"lab_ShowBlue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=l(ee.prototype,"lab_NotLock",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=l(ee.prototype,"lab_Clear",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=l(ee.prototype,"lab_BanCkilcMove",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=l(ee.prototype,"lab_AutoWear",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=l(ee.prototype,"lab_HideMonster",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=l(ee.prototype,"lab_MonSimple",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=l(ee.prototype,"lab_HumSimple",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=l(ee.prototype,"lab_WeaponSimple",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=l(ee.prototype,"sli_GameVoice",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=l(ee.prototype,"sli_ViewControl",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=l(ee.prototype,"lab_VoiceValue",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=l(ee.prototype,"lab_ViewValue",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=ee))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/GiveRedPacket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./RelationManager.ts","./GameUtil.ts","./Sendmessage.ts","./UIcontrol.ts","./ComBoBox.ts"],(function(e){"use strict";var n,t,i,o,a,r,l,c,s,u,g,d,m,p,f,_,b,h,C,y,B;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Sprite,c=e.Button,s=e.Label,u=e.EditBox,g=e.Prefab,d=e.instantiate,m=e.Vec3,p=e.UITransform,f=e.Component},function(e){_=e.Config},function(e){b=e.RelationManager},function(e){h=e.GameUtil},function(e){C=e.Sendmessage},function(e){y=e.uiControl},function(e){B=e.ComBoBox}],execute:function(){var k,G,P,v,R,w,x,S,z,F,A,M,L,N,D,I,T,V,U,E,H,J,j,K,O,q,Q,W,X;a._RF.push({},"15040P/zhJEa42mKA5God8J","GiveRedPacket",void 0);var Y=r.ccclass,Z=r.property;e("GiveRedPacket",(k=Y("GiveRedPacket"),G=Z(l),P=Z(c),v=Z(c),R=Z(c),w=Z(l),x=Z(s),S=Z(c),z=Z(c),F=Z(c),A=Z(u),M=Z(u),L=Z(u),N=Z(g),k((T=n((I=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,i(n,"Bg",T,o(n)),i(n,"Btn_Close",V,o(n)),i(n,"Btn_Comfirm",U,o(n)),i(n,"Btn_Cancel",E,o(n)),i(n,"sp_ping",H,o(n)),i(n,"lab_FriendChoose",J,o(n)),i(n,"btn_MoneyType",j,o(n)),i(n,"btn_Area",K,o(n)),i(n,"btn_FriendChoose",O,o(n)),i(n,"edit_TotalAmount",q,o(n)),i(n,"edit_RedPacketAcount",Q,o(n)),i(n,"edit_Greeting",W,o(n)),i(n,"pref_ComBoBox",X,o(n)),n.comBoBox=null,n._setStr=[],n}t(n,e);var a=n.prototype;return a.start=function(){h.loadResLocal("Socialize/playInfo_bg.png",this.Bg),h.loadResLocalButton("public/btn_close (2).png","public/btn_close1.png",this.Btn_Close),h.loadResLocalButton("Socialize/redpak_combobox.png","Socialize/redpak_combobox (3).png",this.btn_MoneyType),h.loadResLocalButton("Socialize/redpak_combobox.png","Socialize/redpak_combobox (3).png",this.btn_Area),h.loadResLocalButton("Socialize/FriendInfoBtn/f_sure.png","Socialize/FriendInfoBtn/f_sure (2).png",this.Btn_Comfirm),h.loadResLocalButton("Socialize/exitSendRedPack .png","Socialize/exitSendRedPack  (2).png",this.Btn_Cancel),h.loadResLocal("Socialize/pinIcon.png",this.sp_ping);var e=_.g_ClientConfig.btRedPackGameUsesOptions;if(e){for(var n=e.toString(2),t=(n=h.getprefixname(n,6)).length-1;t>=0;t--)if("1"==n[t])switch(t){case 5:this._setStr.push(_.g_GameCionNum.key);break;case 4:this._setStr.push(_.g_GameGoldNum.key);break;case 3:this._setStr.push(_.g_GamePointNum.key);break;case 2:this._setStr.push(_.g_nGameDiamond.key);break;case 1:this._setStr.push(_.g_nGameGird.key);break;case 0:this._setStr.push(_.g_gameGlory.key)}this.btn_MoneyType.node.getChildByName("Label").getComponent(s).string=this._setStr[0]}},a.onClickPullDownSelecteHandler=function(e){var n=this;this.edit_RedPacketAcount.enabled=!0;var t=e.target;if(this.comBoBox=d(this.pref_ComBoBox),this.comBoBox.setParent(t),this.comBoBox.setPosition(new m(0,-t.getComponent(p).height/2)),"Btn_MoneyType"==t.name){var i={items:this._setStr,width:t.getComponent(p).width};this.comBoBox.getComponent(B).upDataView(i,(function(e){n.btn_MoneyType.node.getChildByName("Label").getComponent(s).string=e}))}else if("Btn_Area"==t.name){var o={items:["行会","队伍","国家","全服","好友"],width:t.getComponent(p).width};this.comBoBox.getComponent(B).upDataView(o,(function(e,t){n.btn_Area.node.getChildByName("Label").getComponent(s).string=e,n.lab_FriendChoose.node.active=n.btn_FriendChoose.node.active="好友"==e,console.log(t)}),!0)}else if("Btn_FriendChoose"==t.name){var a=b.getInstance().f_friendList,r={items:["全部"],width:t.getComponent(p).width};a.forEach((function(e){e.online&&r.items.push(e.name)})),this.btn_FriendChoose.data=r,this.comBoBox.getComponent(B).upDataView(r,(function(e){n.btn_FriendChoose.node.getChildByName("Label").getComponent(s).string=e,"全部"!=e&&(n.edit_RedPacketAcount.enabled=!1)}))}},a.onCloseView=function(){this.node.removeFromParent(),this.node.destroy()},a.onConfirm=function(){var e=this,n=parseInt(this.edit_TotalAmount.string),t=parseInt(this.edit_RedPacketAcount.string),i=this.btn_MoneyType.node.getChildByName("Label").getComponent(s).string,o=-1,a=this.btn_Area.node.getChildByName("Label").getComponent(s).string,r=null;switch(a){case"行会":r=0;break;case"队伍":r=1;break;case"国家":r=2;break;case"全服":r=3;break;case"好友":r=4}var l=this.edit_Greeting.string,c=0,u=0,g=0;if(l.length>15){y.handlerAlert({type:1,content:"祝福语长度超过15个字！",sF:function(){},cF:function(){}})}else{switch(i){case _.g_GameCionNum.key:o=1,c=_.g_GameCionNum.value,u=_.g_ClientConfig.nRedPackGoldMax,g=_.g_ClientConfig.nRedPackGoldMin;break;case _.g_GameGoldNum.key:o=0,c=_.g_GameGoldNum.value,u=_.g_ClientConfig.nRedPackGameGoldMax,g=_.g_ClientConfig.nRedPackGameGoldMin;break;case _.g_GamePointNum.key:o=2,c=_.g_GamePointNum.value,u=_.g_ClientConfig.nRedPackGamePointMax,g=_.g_ClientConfig.nRedPackGamePointMin;break;case _.g_nGameDiamond.key:o=3,c=_.g_nGameDiamond.value,u=_.g_ClientConfig.nRedPackGameDiamondMax,g=_.g_ClientConfig.nRedPackGameDiamondMin;break;case _.g_nGameGird.key:o=4,c=_.g_nGameGird.value,u=_.g_ClientConfig.nRedPackGameGirdMax,g=_.g_ClientConfig.nRedPackGameGirdMin;break;case _.g_gameGlory.key:o=5,c=_.g_gameGlory.value,u=_.g_ClientConfig.nRedPackGameGirdMax,g=_.g_ClientConfig.nRedPackGameGloryMin}if(n>c){var d={type:1,content:"你没有足够的"+i+"！",sF:function(){},cF:function(){}};y.handlerAlert(d)}else if(n<g||n>u||t>50||t<1){var m={type:1,content:i+"数量最小："+g+"最大："+u+" \r\n红包数量最小：1 个,最大：50个",sF:function(){},cF:function(){}};y.handlerAlert(m)}else{var p=this.btn_Area.node.getChildByName("Label").getComponent(s).string,f={type:2,content:"您确定要发放红包吗？ \r\n"+t+" 个红包，共计："+n+" 个"+i+",发放范围："+p+"\r\n祝福内容："+l,sF:function(){var i="",a=0;if(4==r){if("全部"==e.btn_FriendChoose.node.getChildByName("Label").getComponent(s).string){for(var c=b.getInstance().f_friendList,u=0;u<c.length;u++){var g=c[u];g&&""!=g.name&&g.online&&(a+=1,i=i+g.name+"\\")}if(a<1){return void y.handlerAlert({type:1,content:"未有好友在线，发送失败！",sF:function(){},cF:function(){}})}}else i=e.btn_FriendChoose.node.getChildByName("Label").getComponent(s).string+"\\";i=i+"|"+l}else i=l;C.getInstance().sendRedPack(n,o,t,r,i),e.onCloseView()},cF:function(){}};y.handlerAlert(f)}}},n}(f)).prototype,"Bg",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(I.prototype,"Btn_Close",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(I.prototype,"Btn_Comfirm",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(I.prototype,"Btn_Cancel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(I.prototype,"sp_ping",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(I.prototype,"lab_FriendChoose",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(I.prototype,"btn_MoneyType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(I.prototype,"btn_Area",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(I.prototype,"btn_FriendChoose",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(I.prototype,"edit_TotalAmount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(I.prototype,"edit_RedPacketAcount",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(I.prototype,"edit_Greeting",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(I.prototype,"pref_ComBoBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=I))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuideWorldItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Sendmessage.ts","./GameUtil.ts"],(function(t){"use strict";var n,e,i,o,l,u,a,r,c,s,d,p,g,h,m,N;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,u=t._decorator,a=t.Label,r=t.Node,c=t.Sprite,s=t.Button,d=t.Component},function(t){p=t.EventMgr},function(t){g=t.Config},function(t){h=t.default},function(t){m=t.sendmessage},function(t){N=t.GameUtil}],execute:function(){var f,b,B,y,v,_,C,E,A,G,J,L,R,k,j,w,z,I,S,W,D,M;l._RF.push({},"b3b01mrN4FBm6QVf6TEXW2P","GuideWorldItem",void 0);var O=u.ccclass,P=u.property,T=u.menu;t("default",(f=O("GuideWorldItem"),b=T("实例模块/GuideWorldItem"),B=P(a),y=P(a),v=P(a),_=P(a),C=P(r),E=P(r),A=P(r),G=P(r),J=P(c),f(L=b((k=n((R=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),u=0;u<e;u++)l[u]=arguments[u];return n=t.call.apply(t,[this].concat(l))||this,i(n,"guildName",k,o(n)),i(n,"presidentName",j,o(n)),i(n,"peopleNum",w,o(n)),i(n,"joincondition",z,o(n)),i(n,"applyingNode",I,o(n)),i(n,"joinButtonNode",S,o(n)),i(n,"applyButtonNode",W,o(n)),i(n,"cancelButtonNode",D,o(n)),i(n,"checkBtn",M,o(n)),n.onItemClick=null,n.index=0,n}e(n,t);var l=n.prototype;return l.start=function(){N.loadResLocalButton("SplitResource/Btns/btn_joinhanghui.png","SplitResource/Btns/btn_joinhanghui (2).png",this.joinButtonNode.getComponent(s)),N.loadResLocalButton("SplitResource/Btns/btn_applyhanghui.png","SplitResource/Btns/btn_applyhanghui (2).png",this.applyButtonNode.getComponent(s)),N.loadResLocal("SplitResource/Btns/rank_checkBtn.png",this.checkBtn),N.loadResLocalButton("SplitResource/Btns/btn_guild_cancel.png","SplitResource/Btns/btn_guild_cancel (2).png",this.cancelButtonNode.getComponent(s)),p.addEventListener(h.UPDATE_JOIN_NAME,this.updateJoin,this),p.addEventListener(h.CLEAN_JOIN_NAME,this.cancelJoin,this)},l.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},l.initData=function(t){if(t){if(this.applyingNode.active=!1,this.applyButtonNode.active=!1,this.joinButtonNode.active=!1,this.guildName.string=t.guildName,this.presidentName.string=t.presidentName,this.peopleNum.string=t.memberNum+"/"+t.memberMaxNum,this.joincondition.string=t.joinCondition,g.sWantAddGuild==t.guildName)return void(this.cancelButtonNode.active=!0);this.applyButtonNode.active=!0}},l.onClickJoin=function(){m.NewGuildOpt(this.guildName.string)},l.onClickCancel=function(){m.sendGuildCancelJoinTo(g.sWantAddGuild)},l.onClickDetail=function(){m.sendGuildOpenJoinCondition(this.guildName.string)},l.updateJoin=function(){this.guildName.string==g.sWantAddGuild&&(this.cancelButtonNode.active=!0,this.applyButtonNode.active=!1)},l.cancelJoin=function(){this.guildName.string==g.sWantAddGuild&&(this.cancelButtonNode.active=!1,this.applyButtonNode.active=!0,g.sWantAddGuild="")},l.destroySelf=function(){this.node.destroy()},l.onDestroy=function(){p.removeEventListener(h.UPDATE_JOIN_NAME,this.updateJoin,this),p.removeEventListener(h.CLEAN_JOIN_NAME,this.cancelJoin,this)},n}(d)).prototype,"guildName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(R.prototype,"presidentName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(R.prototype,"peopleNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(R.prototype,"joincondition",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(R.prototype,"applyingNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(R.prototype,"joinButtonNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(R.prototype,"applyButtonNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(R.prototype,"cancelButtonNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(R.prototype,"checkBtn",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=R))||L)||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuildApplyListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,i,n,l,r,o,u,a,s,c,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,u=e.Label,a=e.Node,s=e.Sprite,c=e.color,p=e.Component},function(e){f=e.GameUtil}],execute:function(){var b,m,d,y,h,g,v,w,z,N,L,G,I,A,C,_,j,k;r._RF.push({},"0c7ebU7wk9DsKxeC+A6rpop","GuildApplyListItem",void 0);var D=o.ccclass,S=o.property,x=o.menu;e("default",(b=D("GuildApplyListItem"),m=x("实例模块/GuildApplyListItem"),d=S(u),y=S(u),h=S(u),g=S(u),v=S(u),w=S(u),z=S(a),b(N=m((G=t((L=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"applyName",G,l(t)),n(t,"job",I,l(t)),n(t,"level",A,l(t)),n(t,"time",C,l(t)),n(t,"purpose",_,l(t)),n(t,"online",j,l(t)),n(t,"selectNode",k,l(t)),t.onItemClick=null,t.index=0,t}i(t,e);var r=t.prototype;return r.start=function(){this.selectNode.active=!1,f.loadResLocal("GuildWin/bg_guild_choose.png",this.selectNode.getComponent(s))},r.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},r.initData=function(e){e&&(this.applyName.string=e.name,this.online.string=e.online,this.level.string=e.level.toString(),this.purpose.string=e.purpose,this.job.string=e.job,this.time.string=e.time,"在线"==e.online?this.online.color=c(216,211,207):this.online.color=c(119,107,93))},r.setSelected=function(e){this.selectNode.active=e},r.destroySelf=function(){this.node.destroy()},t}(p)).prototype,"applyName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(L.prototype,"job",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(L.prototype,"level",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(L.prototype,"time",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(L.prototype,"purpose",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(L.prototype,"online",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(L.prototype,"selectNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=L))||N)||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildApplyListView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./GameDefine.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./GuildApplyListItem.ts"],(function(e){"use strict";var i,t,n,s,l,o,a,r,c,d,u,p,h,g,f,y,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Node,r=e.EditBox,c=e.Toggle,d=e.Button,u=e.Component},function(e){p=e.Config},function(e){h=e.GuildApplyData},function(e){g=e.sendmessage},function(e){f=e.default},function(e){y=e.GameUtil},function(e){b=e.default}],execute:function(){var k,C,m,T,v,z,N,L,w,A,x,D,G,I,S,B,M,_,R,U,V,j,E,J,F,H;l._RF.push({},"7efd0lW/udOOpM1s2YMvhix","GuildApplyListView",void 0);var O=o.ccclass,P=o.property,W=o.menu;e("default",(k=O("GuildApplyListView"),C=W("弹窗模块/GuildApplyListView"),m=P(a),T=P(f),v=P(r),z=P(r),N=P(c),L=P(c),w=P(c),A=P(a),x=P(a),D=P(a),G=P(d),k(I=C((B=i((S=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,n(i,"applyContentNode",B,s(i)),n(i,"list",M,s(i)),n(i,"applyInfo",_,s(i)),n(i,"applyLevel",R,s(i)),n(i,"zsToggle",U,s(i)),n(i,"fsToggle",V,s(i)),n(i,"dsToggle",j,s(i)),n(i,"maskNode",E,s(i)),n(i,"editNode",J,s(i)),n(i,"applyNode",F,s(i)),n(i,"editBtn",H,s(i)),i.applyData=[],i.index=-1,i}t(i,e);var l=i.prototype;return l.start=function(){this.updateAdmin()},l.initList=function(){this.list.numItems=this.applyData.length},l.RenderItemHandler=function(e,i){var t=this.applyData[i];if(t){var n=e.getComponent(b);n.index=i,n.onItemClick=this.onItemClicked.bind(this),n.initData(t),this.index!=i?n.setSelected(!1):n.setSelected(!0)}},l.updateApplyList=function(e){if(console.log("更新申请列表"),!e||""==e)return this.applyData=[],void this.initList();this.applyData=[],this.index=-1;for(var i=0;i<e.length;i++){var t=new h;t.name=e[i].sUserName,t.job=y.GetJob(e[i].btJob),t.level=e[i].nLevel,t.time=e[i].dtLastLogin,this.applyData.push(t)}this.initList()},l.onItemClicked=function(e){var i=this;this.applyContentNode.children.forEach((function(t,n){var s=t.getComponent(b);s.index==e?(i.index=s.index,s.setSelected(!0)):s.setSelected(!1)}))},l.onClickAgree=function(){if(this.index>-1){var e=this.applyData[this.index].name;g.SendManagerAdd(0,e)}},l.onClickRefuse=function(){if(this.index>-1){var e=this.applyData[this.index].name;g.SendManagerAdd(1,e)}},l.onClickClean=function(){g.sendGuildMemberList(2)},l.updateApplyInfo=function(e){switch(console.log("data = ",e),this.applyInfo.string=e.info,this.applyLevel.string=e.level,e.job){case 0:this.zsToggle.isChecked=!1,this.fsToggle.isChecked=!1,this.dsToggle.isChecked=!1;break;case 1:this.zsToggle.isChecked=!0,this.fsToggle.isChecked=!1,this.dsToggle.isChecked=!1;break;case 2:this.zsToggle.isChecked=!1,this.fsToggle.isChecked=!0,this.dsToggle.isChecked=!1;break;case 3:this.zsToggle.isChecked=!0,this.fsToggle.isChecked=!0,this.dsToggle.isChecked=!1;break;case 4:this.zsToggle.isChecked=!1,this.fsToggle.isChecked=!1,this.dsToggle.isChecked=!0;break;case 5:this.zsToggle.isChecked=!0,this.fsToggle.isChecked=!1,this.dsToggle.isChecked=!0;break;case 6:this.zsToggle.isChecked=!1,this.fsToggle.isChecked=!0,this.dsToggle.isChecked=!0;break;case 7:this.zsToggle.isChecked=!0,this.fsToggle.isChecked=!0,this.dsToggle.isChecked=!0}},l.onClickSave=function(){g.sendGuildUpdateJoinCondition(this.zsToggle.isChecked,this.fsToggle.isChecked,this.dsToggle.isChecked,Number(this.applyLevel.string),this.applyInfo.string),this.maskNode.active=!0,this.applyNode.active=!0,this.editNode.active=!1},l.onClickCancel=function(){this.maskNode.active=!0,this.applyNode.active=!0,this.editNode.active=!1},l.onClickEdit=function(){this.maskNode.active=!1,this.editNode.active=!0,this.applyNode.active=!1},l.updateAdmin=function(){this.editBtn.interactable=p.G_Guald_Admin>0},i}(u)).prototype,"applyContentNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(S.prototype,"list",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(S.prototype,"applyInfo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(S.prototype,"applyLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(S.prototype,"zsToggle",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(S.prototype,"fsToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(S.prototype,"dsToggle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(S.prototype,"maskNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(S.prototype,"editNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(S.prototype,"applyNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(S.prototype,"editBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I)||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuildChatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,i,a,o,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Label,u=t.Component}],execute:function(){var l,s,p,f,h,d;a._RF.push({},"b89ef7vpONKbYKUNODe6EhZ","GuildChatItem",void 0);var y=o.ccclass,m=o.property,v=o.menu;t("default",(l=y("GuildChatItem"),s=v("实例模块/GuildChatItem"),p=m(c),l(f=s((d=e((h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"chatInfo",d,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){},a.initData=function(t){t&&(this.chatInfo.string=t)},e}(u)).prototype,"chatInfo",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildDonateButtonItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,r,a,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Label,l=t.Component}],execute:function(){var c,s,p,f,d,h;r._RF.push({},"6a542FcaZFIhqvUOzhmPyXt","GuildDonateButtonItem",void 0);var m=a.ccclass,b=a.property,y=a.menu;t("default",(c=m("GuildDonateButtonItem"),s=y("实例模块/GuildDonateButtonItem"),p=b(u),c(f=s((h=n((d=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"btnLabel",h,i(n)),n.donate_num=0,n}e(n,t);var r=n.prototype;return r.start=function(){},r.initData=function(t){t&&(this.donate_num=t,this.btnLabel.string="捐赠*"+t+"个")},r.onClickButton=function(){console.log("捐赠",this.donate_num)},n}(l)).prototype,"btnLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f)||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./Sendmessage.ts","./GameUtil.ts","./GuildChatItem.ts","./GuildDonateButtonItem.ts","./GuildLevelLimitItem.ts"],(function(e){"use strict";var i,t,n,l,a,r,o,u,d,s,c,m,f,g,h,p,v,b,_,N,G,I,C,L,w,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,o=e.Label,u=e.Node,d=e.Prefab,s=e.Toggle,c=e.EditBox,m=e.Sprite,f=e.Button,g=e.instantiate,h=e.Component},function(e){p=e.EventMgr},function(e){v=e.Config},function(e){b=e.default},function(e){_=e.OPEN_ITEMINFO_WIN_TYPE,N=e.GuildRecordData,G=e.EquipData},function(e){I=e.sendmessage},function(e){C=e.GameUtil},function(e){L=e.default},function(e){w=e.default},function(e){y=e.default}],execute:function(){var k,D,z,S,E,O,B,W,M,P,x,U,A,V,j,H,T,F,R,K,q,J,Y,Z,Q,X,$,ee,ie,te,ne,le,ae,re,oe,ue,de,se,ce,me,fe,ge,he,pe,ve,be,_e,Ne,Ge,Ie;a._RF.push({},"9cf12uObUFJxLzR8HW1ZDS4","GuildInfoView",void 0);var Ce=r.ccclass,Le=r.property,we=r.menu;e("default",(k=Ce("GuildInfoView"),D=we("弹窗模块/GuildInfoView"),z=Le(o),S=Le(o),E=Le(o),O=Le(o),B=Le(u),W=Le(d),M=Le(u),P=Le(d),x=Le(u),U=Le(d),A=Le(u),V=Le(u),j=Le(o),H=Le(s),T=Le(u),F=Le(o),R=Le(c),K=Le(u),q=Le(m),J=Le(o),Y=Le(u),Z=Le(d),Q=Le(o),k(X=D((ee=i(($=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"guildName",ee,l(i)),n(i,"presidentName",ie,l(i)),n(i,"memberNum",te,l(i)),n(i,"guildNotic",ne,l(i)),n(i,"editeNode",le,l(i)),n(i,"GuildWorldWin",ae,l(i)),n(i,"chatContentNode",re,l(i)),n(i,"chatItemPrefab",oe,l(i)),n(i,"levelLimitContentNode",ue,l(i)),n(i,"levelLimitPrefab",de,l(i)),n(i,"levelLimitUpNode",se,l(i)),n(i,"levelLimitDownNode",ce,l(i)),n(i,"levelLimit",me,l(i)),n(i,"onlyOl",fe,l(i)),n(i,"adminButtons",ge,l(i)),n(i,"editeGuildName",he,l(i)),n(i,"editeGuildNotice",pe,l(i)),n(i,"guildDonateView",ve,l(i)),n(i,"chipSprite",be,l(i)),n(i,"chipNum",_e,l(i)),n(i,"donateBtnContent",Ne,l(i)),n(i,"denateBtnPrefab",Ge,l(i)),n(i,"guildLevel",Ie,l(i)),i.levelItems=[],i.level_limit_index=-1,i.isInitDonate=!1,i.chip_data=null,i}t(i,e);var a=i.prototype;return a.onLoad=function(){},a.start=function(){this.initInfo()},a.SetHangHuiBaseInfo=function(){if(v.G_Guild_Name){this.guildName.string=v.G_Guild_Name,this.presidentName.string=v.G_Guald_Admin_Name,this.memberNum.string=v.G_Guald_OnlineCount+" / "+v.G_Guald_NowCount;for(var e="",i=v.G_Guald_Notice_List,t=0;t<i.length;t++)e+=i[t];e=e.replace("\r\n",""),i=null;this.guildLevel.string="3    0.03998",this.guildNotic.string=e,this.setMasterBtn()}},a.setMasterBtn=function(){this.adminButtons.forEach((function(e,i){e.getComponent(f).interactable=v.G_Guald_Admin>0,e.getComponent(m).grayscale=!(v.G_Guald_Admin>0)}))},a.updateGuildChat=function(){var e=this.makeGuildInfoStr();this.chatContentNode.removeAllChildren();for(var i=e.length-1;i>0;i--){var t=e[i],n=g(this.chatItemPrefab),l=t;n.getComponent(L).initData(l),this.chatContentNode.addChild(n)}},a.makeGuildInfoStr=function(){var e=[],i=[],t=v.g_guildEventInfo;t.forEach((function(e,t){var n=new N;n.time=e[4],n.data=e,i.push(n)})),t=null,i.sort((function(e,i){return Date.parse(e.time)-Date.parse(i.time)}));for(var n=0;n<i.length;n++){var l=i[n].data,a="",r=C.infoTimeStr(l[4]);switch(l[0]){case 1:a=r+" 会长「"+l[1]+"」创建了行会";break;case 2:a=r+" 会长「"+l[1]+"」批准「"+l[2]+"」加入行会";break;case 3:a=r+" 会长「"+l[1]+"」邀请「"+l[2]+"」加入行会";break;case 4:a=r+" 会长「"+l[1]+"」将「"+l[2]+"」踢出行会";break;case 5:a=r+" 成员「"+l[1]+"」退出行会";break;case 6:a=r+" 会长「"+l[1]+"」将「"+l[2]+"」"+l[3];break;case 7:a=r+" 会长「"+l[1]+"」转让会长职务给「"+l[2]+"」";break;case 8:a=r+" 会长「"+l[1]+"」与「"+l[2]+"」进行了联盟";break;case 9:a=r+" 会长「"+l[1]+"」与「"+l[2]+"」取消了联盟";break;case 10:a=r+" 会长「"+l[1]+"」将「"+l[2]+"」设置成敌对";break;case 11:a=r+" 会长「"+l[1]+"」对「"+l[2]+"」进行了关注";break;case 12:a=r+" 会长「"+l[1]+"」对「"+l[2]+"」取消了关注"}e.push(a)}return e},a.initInfo=function(){this.guildName.string=v.G_Guild_Name,this.presidentName.string=v.G_Guald_Admin_Name,this.memberNum.string=v.G_Guald_OnlineCount+" / "+v.G_Guald_NowCount;for(var e="",i=v.G_Guald_Notice_List,t=0;t<i.length;t++)e+=i[t];i=null,this.guildNotic.string=e},a.onClickEidte=function(){this.editeNode.active=!0,this.editeGuildName.string=v.G_Guild_Name,this.levelLimitContentNode.removeAllChildren(),this.levelItems=[];for(var e=0;e<5;e++){var i=g(this.levelLimitPrefab),t=i.getComponent(y);t.initData(40+20*e+"级以上"),t.index=e,this.levelItems.push(t),t.onItemClick=this.onLevelLimitItemClicked.bind(this),this.levelLimitContentNode.addChild(i)}var n=this.guildNotic.string;this.editeGuildNotice.string=n;var l=localStorage.getItem("guild_join_guild_name");if(!l||l==v.G_Guild_Name){var a=localStorage.getItem("guild_join_autoAgree");if(a)if("0"==a){this.onlyOl.isChecked=!1;for(var r=localStorage.getItem("guild_join_limitLevel"),o=0;o<this.levelItems.length;o++){var u=this.levelItems[o].getLevelLimit();if(u==r+"级以上"){this.levelLimit.string=u,this.level_limit_index=o;break}}}else if("1"==a)this.onlyOl.isChecked=!0;else if("2"==a){this.onlyOl.isChecked=!0;for(var d=localStorage.getItem("guild_join_limitLevel"),s=0;s<this.levelItems.length;s++){var c=this.levelItems[s].getLevelLimit();if(c==d+"级以上"){this.levelLimit.string=c,this.level_limit_index=s;break}}}}},a.onLevelLimitItemClicked=function(e){var i=this;this.levelItems.forEach((function(t,n){if(n==e){i.level_limit_index=n;var l=t.getLevelLimit();i.levelLimit.string=l,i.levelLimitDownNode.active=!0,i.levelLimitUpNode.active=!1}}))},a.onCloseEidte=function(){this.editeNode.active=!1},a.onEditGuildInfo=function(){this.editeNode.active=!1;var e=this.editeGuildNotice.string,i=0,t="1";this.onlyOl.isChecked&&-1==this.level_limit_index?i=1:this.onlyOl.isChecked&&-1!=this.level_limit_index&&(i=2,t=(40+20*this.level_limit_index).toString()),0==i&&I.GuildManagereCruit2(1,"0"),1!=i&&2!=i||I.GuildManagereCruit2(1,"1"),I.GuildManagereCruit2(2,t+""),I.guildEditorNotice(e),localStorage.setItem("guild_join_limitLevel",t),localStorage.setItem("guild_join_autoAgree",i.toString()),localStorage.setItem("guild_join_guild_name",v.G_Guild_Name)},a.onClickUp=function(){this.levelLimitDownNode.active=!0,this.levelLimitUpNode.active=!1},a.onClickDowm=function(){this.levelLimitDownNode.active=!1,this.levelLimitUpNode.active=!0},a.onClickWorldGuildList=function(){if(v.MainScene.openWordlGuild)v.MainScene.closeWindow("GuildWorldWin");else{var e=g(this.GuildWorldWin);v.MainScene.openWindow(e)}},a.onClickGuildDonate=function(){if(this.guildDonateView.active=!this.guildDonateView.active,this.guildDonateView.active&&!this.isInitDonate){var e;if(e=v.g_BagItemsList[0]){this.isInitDonate=!0;var i=C.loadImgData(e.s.Looks,"items"),t=new G;t.type=1,t.res=i,t.data=e,t.win_type=_.LOOKHUMWIN,C.clickItemInit(t,this.chipSprite),this.chip_data=t}}this.chipNum.string=999..toString();var n=[100,1e3,1e4];this.donateBtnContent.destroyAllChildren();for(var l=0;l<n.length;l++){var a=g(this.denateBtnPrefab);this.donateBtnContent.addChild(a),a.getComponent(w).initData(n[l])}},a.onClickChipIcon=function(){this.chip_data&&(v.g_MoveItems.Items=this.chip_data.data,v.g_OpenIdx=_.LOOKHUMWIN,p.raiseEvent(b.OPEN_NEW_ITEM_INFO,[this.chip_data.data]))},i}(h)).prototype,"guildName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i($.prototype,"presidentName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i($.prototype,"memberNum",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i($.prototype,"guildNotic",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i($.prototype,"editeNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i($.prototype,"GuildWorldWin",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i($.prototype,"chatContentNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i($.prototype,"chatItemPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i($.prototype,"levelLimitContentNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i($.prototype,"levelLimitPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i($.prototype,"levelLimitUpNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i($.prototype,"levelLimitDownNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i($.prototype,"levelLimit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i($.prototype,"onlyOl",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i($.prototype,"adminButtons",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=i($.prototype,"editeGuildName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i($.prototype,"editeGuildNotice",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i($.prototype,"guildDonateView",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i($.prototype,"chipSprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i($.prototype,"chipNum",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i($.prototype,"donateBtnContent",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=i($.prototype,"denateBtnPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=i($.prototype,"guildLevel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=$))||X)||X));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildLevelLimitItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,l,r,o,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,u=t.Label,c=t.Component}],execute:function(){var a,s,m,p,v,L;r._RF.push({},"1869dhSxUFBConXRh9Q9weX","GuildLevelLimitItem",void 0);var f=o.ccclass,h=o.property,d=o.menu;t("default",(a=f("GuildLevelLimitItem"),s=d("实例模块/GuildLevelLimitItem"),m=h(u),a(p=s((L=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"levelLimit",L,l(e)),e.index=0,e.onItemClick=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.initData=function(t){t&&(this.levelLimit.string=t)},r.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},r.getLevelLimit=function(){return this.levelLimit.string},e}(c)).prototype,"levelLimit",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p)||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildMemberItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,r,l,o,a,u,c,s,p,m,b,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,u=e.Node,c=e.Sprite,s=e.color,p=e.UITransform,m=e.Component},function(e){b=e.EventMgr},function(e){f=e.default},function(e){d=e.GameUtil}],execute:function(){var h,g,v,y,I,E,_,x,z,S,T,w,N,C,G,M,L,R,k,D;l._RF.push({},"9f4b3RVy7VIDokF8Ur910/1","GuildMemberItem",void 0);var j=o.ccclass,U=o.property,F=o.menu;e("default",(h=j("GuildMemberItem"),g=F("实例模块/GuildMemberItem"),v=U(a),y=U(a),I=U(a),E=U(a),_=U(a),x=U(a),z=U(u),S=U(c),h(T=g((N=t((w=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"memberName",N,r(t)),n(t,"job",C,r(t)),n(t,"level",G,r(t)),n(t,"sex",M,r(t)),n(t,"title",L,r(t)),n(t,"online",R,r(t)),n(t,"selectNode",k,r(t)),n(t,"onlineSprite",D,r(t)),t.onItemClick=null,t.index=0,t}i(t,e);var l=t.prototype;return l.start=function(){this.selectNode.active=!1,d.loadResLocal("GuildWin/bg_guild_choose.png",this.selectNode.getComponent(c))},l.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},l.initData=function(e){e&&(this.memberName.string=e.name,this.online.string=e.time,"在线"==e.time?this.online.color=s(216,211,207):this.online.color=s(119,107,93),this.sex.string=e.sex,this.job.string=e.job,this.title.string=e.title.name,this.onlineSprite.grayscale=!e.online)},l.setSelected=function(e){this.selectNode.active=e},l.setTitle=function(){b.raiseEvent(f.GUILD_SET_TITLE,this.index)},l.onClickOnline=function(){var e=this.node.getComponent(p).convertToWorldSpaceAR(this.onlineSprite.node.position);b.raiseEvent(f.SET_TITLE_OR_REMOVE,{index:this.index,pos:e})},t}(m)).prototype,"memberName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"job",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(w.prototype,"level",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"sex",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(w.prototype,"title",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(w.prototype,"online",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"selectNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"onlineSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T)||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuildMemberListView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./GuildMemberItem.ts","./GuildSetTitleItem.ts","./GuildTitleItem.ts"],(function(e){"use strict";var t,i,n,l,r,o,a,s,u,d,m,c,f,b,h,g,T,p,N,v,_,w,S,G,M,I,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Node,s=e.EditBox,u=e.Label,d=e.Prefab,m=e.Button,c=e.instantiate,f=e.Sprite,b=e.UITransform,h=e.v3,g=e.Component},function(e){T=e.EventMgr},function(e){p=e.Config},function(e){N=e.default},function(e){v=e.GUILD_EDITOR_TITLE_TYPE,_=e.GuildMemberData},function(e){w=e.sendmessage},function(e){S=e.default},function(e){G=e.GameUtil},function(e){M=e.default},function(e){I=e.default},function(e){D=e.default}],execute:function(){var C,x,y,k,L,E,A,z,R,P,U,B,K,F,J,O,V,q,H,W,Q,j,X,Y,Z,$,ee,te,ie,ne,le,re,oe,ae,se,ue,de,me,ce,fe,be,he,ge,Te,pe,Ne,ve,_e,we,Se,Ge,Me,Ie,De,Ce,xe,ye,ke,Le,Ee,Ae,ze,Re,Pe,Ue,Be,Ke,Fe,Je,Oe,Ve,qe,He,We,Qe,je,Xe,Ye,Ze,$e;r._RF.push({},"56b4dFMiENEvJRXVCInUgUI","GuildMemberListView",void 0);var et=o.ccclass,tt=o.property,it=o.menu;e("default",(C=et("GuildMemberListView"),x=it("弹窗模块/GuildMemberListView"),y=tt(a),k=tt(a),L=tt(a),E=tt(a),A=tt(a),z=tt(a),R=tt(a),P=tt(a),U=tt(a),B=tt(s),K=tt(s),F=tt(u),J=tt(u),O=tt(u),V=tt(u),q=tt(d),H=tt(a),W=tt(a),Q=tt(a),j=tt(d),X=tt(u),Y=tt(a),Z=tt(a),$=tt(a),ee=tt(a),te=tt(S),ie=tt(a),ne=tt(u),le=tt(u),re=tt(u),oe=tt(u),ae=tt(u),se=tt(u),ue=tt(u),de=tt(m),me=tt(m),ce=tt(m),fe=tt(a),C(be=x((ge=t((he=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"memberContentNode",ge,l(t)),n(t,"memberInfoNode",Te,l(t)),n(t,"setTitleNode",pe,l(t)),n(t,"setPresidentNode",Ne,l(t)),n(t,"titleDelNode",ve,l(t)),n(t,"memberKickNode",_e,l(t)),n(t,"editTitleNode",we,l(t)),n(t,"addTitleNode",Se,l(t)),n(t,"quitGuildNode",Ge,l(t)),n(t,"addTitleName",Me,l(t)),n(t,"editTitleName",Ie,l(t)),n(t,"memberInfoName",De,l(t)),n(t,"setPresidentName",Ce,l(t)),n(t,"deleteTitleName",xe,l(t)),n(t,"memberKickName",ye,l(t)),n(t,"titleItemPrefab",ke,l(t)),n(t,"titleContentNode",Le,l(t)),n(t,"delTitle",Ee,l(t)),n(t,"setTitleContentNode",Ae,l(t)),n(t,"setTitlePrefab",ze,l(t)),n(t,"setTitleLabel",Re,l(t)),n(t,"setTitleUpNode",Pe,l(t)),n(t,"setTitleDownNode",Ue,l(t)),n(t,"editButtonNode",Be,l(t)),n(t,"memberInfoSetTitleNode",Ke,l(t)),n(t,"list",Fe,l(t)),n(t,"newMemberInfoNode",Je,l(t)),n(t,"infoState",Oe,l(t)),n(t,"infoSex",Ve,l(t)),n(t,"infoJob",qe,l(t)),n(t,"infoLevel",He,l(t)),n(t,"infoTitle",We,l(t)),n(t,"infoRank",Qe,l(t)),n(t,"infoLastLogin",je,l(t)),n(t,"changeMasterBtn",Xe,l(t)),n(t,"unMasterBtn",Ye,l(t)),n(t,"addMemberFaceBtn",Ze,l(t)),n(t,"setTitleAndRemove",$e,l(t)),t.guildMemberItems=[],t.guildMemberData=[],t.guildTitleItems=[],t.guildTitleData=[],t.guildSetTitleData=[],t.guildSetTitleItems=[],t.member_index=-1,t.title_index=0,t.to_Rank_num=-1,t.set_title_index=-1,t.titleSelectName="所有成员",t.memberSelectName="",t}i(t,e);var r=t.prototype;return r.start=function(){this.updateAdmin()},r.initTitle=function(){var e=this;console.log("this.guildTitleData=",this.guildTitleData),this.titleContentNode.destroyAllChildren(),this.guildSetTitleData=[],this.guildTitleItems=[],this.guildTitleData.forEach((function(t,i){var n=c(e.titleItemPrefab),l=n.getComponent(D);l.initData(t.name,i),e.guildSetTitleData.push(t),l.onItemClick=e.onTitleItemClicked.bind(e),i==e.title_index&&l.isSelect(!0),e.guildTitleItems.push(l),e.titleContentNode.addChild(n)})),this.initSetTitle()},r.initSetTitle=function(){var e=this;this.setTitleLabel.string="",this.setTitleContentNode.removeAllChildren(),this.guildSetTitleItems=[],this.guildSetTitleData.forEach((function(t,i){var n=c(e.setTitlePrefab),l=n.getComponent(I);l.index=i,l.initData(t),l.onItemClick=e.onSetTitleItemClicked.bind(e),e.guildSetTitleItems.push(l),e.setTitleContentNode.addChild(n)}))},r.onMemberItemClicked=function(e){var t=this;this.memberContentNode.children.forEach((function(i,n){var l=i.getComponent(M);l.index==e?(t.member_index=l.index,t.memberSelectName=t.guildMemberData[l.index].name,console.log("当前点击的成员index=",t.member_index),t.onClickMemberInfo(t.guildMemberData[l.index]),console.log("当前点击的成员名字=",t.guildMemberData[l.index].name),l.setSelected(!0)):l.setSelected(!1)}))},r.onAddMemberFace=function(){w.sendGuildAddMemEx()},r.onTitleItemClicked=function(e){var t=this;this.guildTitleItems.forEach((function(i,n){n==e?(t.title_index=n,t.titleSelectName=t.guildTitleData[t.title_index].name,t.onTitleSelect(t.title_index),i.isSelect(!0)):i.isSelect(!1)}))},r.onTitleSelect=function(e){console.log("点击封号",this.title_index),this.guildTitleData[e]&&this.guildTitleData[e]&&(this.titleSelectName=this.guildTitleData[e].name,console.log("Config.G_Guald_Admin",p.G_Guald_Admin),0!=p.G_Guald_Admin&&(this.delTitle.getComponent(m).interactable=!(0==e||1==e),this.delTitle.getComponent(f).grayscale=0==e||1==e)),this.member_index=-1,this.updateMemberList()},r.showMemberInfo=function(e){e&&(this.newMemberInfoNode.active=!0,e.nLevel&&(this.infoLevel.string=e.nLevel.toString()),null!=e.btJob&&(this.infoJob.string=G.getJobName(e.btJob)),e.boOnline?(this.infoLastLogin.string="在线",this.infoState.string="在线"):(this.infoLastLogin.string=e.dtLastLogin,this.infoState.string="离线"),null!=e.btSex&&(this.infoSex.string=e.btSex?"女":"男"),e.nRankName&&(this.infoTitle.string=e.nRankName),e.boMaster?this.infoRank.string="掌门人":this.infoRank.string="")},r.onCloseNewMemberInfo=function(){this.newMemberInfoNode.active=!1},r.updateMemberList=function(){this.guildMemberData=[],this.memberContentNode.removeAllChildren(),this.member_index=-1,this.memberSelectName="";var e=[],t=p.G_Guald_User_List;e.push(t[this.title_index]),t=null;for(var i=p.G_Guald_Title_List,n=0;n<e.length;n++){var l=e[n];if(l)for(var r=0;r<l.length;r++){var o=l[r];if(o){o=o.split("\t");var a=new _;a.name=o[0],a.online=0!=o[1],a.title=i[this.title_index],this.guildMemberData.push(a)}}}this.initMember()},r.initMember=function(){this.list.numItems=this.guildMemberData.length},r.RenderItemHandler=function(e,t){var i=this.guildMemberData[t];if(i){var n=e.getComponent(M);n.index=t,n.onItemClick=this.onMemberItemClicked.bind(this),n.initData(i),this.member_index!=t?n.setSelected(!1):n.setSelected(!0)}},r.updateMemberTitle=function(){console.log("更新成员封号列表"),this.guildTitleData=[],0!=p.G_Guald_Admin&&(this.delTitle.getComponent(m).interactable=!(0==this.title_index||1==this.title_index||2==this.title_index),this.delTitle.getComponent(f).grayscale=0==this.title_index||1==this.title_index||2==this.title_index);for(var e=p.G_Guald_Title_List,t=0;t<e.length;t++)this.guildTitleData.push(e[t]);e=null,this.initTitle()},r.onClickAddTitle=function(){this.addTitleNode.active=!this.addTitleNode.active},r.onAddTitle=function(){if(""==this.addTitleName.string)T.raiseEvent("show_log",[{txt:"封号名不能为空！",color:"#ff0000"}]);else if(""!=this.addTitleName.string){for(var e=this.guildTitleData,t=!1,i=0;i<e.length;i++)if(this.addTitleName.string==e[i].name){T.raiseEvent("show_log",[{txt:"封号名称已经存在！",color:"#ff0000"}]),t=!0;break}if(!t){var n=this.getEditorString(v.ADD,this.addTitleName.string);w.GuildManagerEditor(n,e.length),this.addTitleNode.active=!1,this.addTitleName.string=""}}},r.getEditorString=function(e,t,i){var n="",l=this.guildTitleData;switch(e){case v.ADD:for(var r=this.getAllUser(),o=0;o<l.length;o++){n=n+"#"+l[o].id+"<"+l[o].name+">\r\n";for(var a="",s=0;s<r.length;s++)l[o].name==r[s].title.name&&(a+=r[s].name+"\r\n");n+=a+"\r\n"}n=n+"#"+l.length.toString()+"<"+t+">\r\n";break;case v.EDITE:for(var u=this.getAllUser(),d=0;d<l.length;d++){var m=l[this.title_index],c="";c=l[d]==m?t:l[d].name,n=n+"#"+l[d].id+"<"+c+">\r\n";for(var f="",b=0;b<u.length;b++)l[d].name==u[b].title.name&&(f+=u[b].name+"\r\n");n+=f+"\r\n"}break;case v.DELETE:for(var h=this.setDeleteUser(),g=0;g<l.length;g++)if(l[g].name!=t){n=n+"#"+l[g].id+"<"+l[g].name+">\r\n";for(var T="",p=0;p<h.length;p++)l[g].name==h[p].title.name&&(T+=h[p].name+"\r\n");n+=T+"\r\n"}}return n},r.setDeleteUser=function(){for(var e=[],t=p.G_Guald_User_List,i=p.G_Guald_Title_List,n=0;n<t.length;n++){var l=t[n];if(n==this.title_index&&l)for(var r=0;r<l.length;r++){if(a=l[r]){a=a.split("\t");var o=new _;o.name=a[0],o.title=i[1],e.push(o)}}else if(l)for(r=0;r<l.length;r++){var a;if(a=l[r]){a=a.split("\t");var s=new _;s.name=a[0],s.title=i[n],e.push(s)}}}return e},r.getAllUser=function(){for(var e=[],t=p.G_Guald_User_List,i=p.G_Guald_Title_List,n=0;n<t.length;n++){var l=t[n];if(l)for(var r=0;r<l.length;r++){var o=l[r];if(o){o=o.split("\t");var a=new _;a.name=o[0],a.title=i[n],e.push(a)}}}return e},r.onClickQuit=function(){this.quitGuildNode.active=!this.quitGuildNode.active},r.onQuit=function(){p.G_Guald_Admin>0?T.raiseEvent("show_log",[{txt:"会长请在转让会长头衔之后再退出行会。",color:"#ff0000"}]):(w.sendGuildDelSelf(),p.MainScene.closeWindow("GuildWin")),this.quitGuildNode.active=!1},r.onClickEdite=function(){this.title_index>=0?(this.editTitleNode.active=!this.editTitleNode.active,this.editTitleName.string=this.guildTitleData[this.title_index].name):T.raiseEvent("show_log",[{txt:"请选择一个封号",color:"#ff0000"}])},r.onEdite=function(){if(""==this.editTitleName.string)T.raiseEvent("show_log",[{txt:"封号名不能为空",color:"#ff0000"}]);else if(""!=this.editTitleName.string){var e=this.getEditorString(v.EDITE,this.editTitleName.string);w.GuildManagerEditor(e,this.title_index-1),this.editTitleNode.active=!1,this.editTitleName.string=""}},r.onClickMemberKick=function(){this.memberKickNode.active=!this.memberKickNode.active,this.memberKickName.string=this.guildMemberData[this.member_index].name,this.setTitleAndRemove.active=!1},r.onMemberKick=function(){this.memberKickNode.active=!this.memberKickNode.active,this.newMemberInfoNode.active=!1,""!=this.memberKickName.string&&w.sendGuildDelMemberEx(this.memberKickName.string)},r.onClickDeleteTitle=function(){-1!=this.title_index?(this.titleDelNode.active=!this.titleDelNode.active,this.deleteTitleName.string=this.guildTitleData[this.title_index].name):T.raiseEvent("show_log",[{txt:"请选择一个封号",color:"#ff0000"}])},r.onDeleteTitle=function(){if(""!=this.deleteTitleName.string){var e=this.getEditorString(v.DELETE,this.deleteTitleName.string);w.GuildManagerEditor(e,this.title_index-1),this.titleDelNode.active=!1,this.title_index=-1}},r.onClickSetPresident=function(){this.setPresidentNode.active=!this.setPresidentNode.active,this.setPresidentName.string=this.guildMemberData[this.member_index].name,this.newMemberInfoNode.active=!1},r.onSetPresident=function(){this.setPresidentNode.active=!this.setPresidentNode.active,""!=this.setPresidentName.string&&w.sendGuildSetMaster1(this.setPresidentName.string),this.setPresidentName.string=""},r.onAddFriend=function(){""!=this.memberInfoName.string&&w.FriendOpition(1,this.memberInfoName.string)},r.onJoinTema=function(){""!=this.memberInfoName.string&&(p.G_Team_Grop_List.length>0?w.sendAddGroupMember(this.memberInfoName.string):w.sendCreateGroup(this.memberInfoName.string))},r.onChat=function(){""!=this.memberInfoName.string&&T.raiseEvent(N.SHOW_CHAT_DLG,{name:"/"+this.memberInfoName.string+" ",is:!0})},r.onClickSetTitle=function(e){this.setTitleNode.active=!this.setTitleNode.active,this.memberInfoNode.active=!1,this.setTitleAndRemove.active=!1},r.onSetTitle=function(){this.setTitleNode.active=!1,""!=this.setTitleLabel.string&&w.guildMemberMoveToRank(this.memberSelectName,this.to_Rank_num,this.set_title_index),w.sendGuildMemberList(1)},r.onCloseSetTitle=function(){this.setTitleNode.active=!1},r.onSetTitleItemClicked=function(e){var t=this;this.guildSetTitleItems.forEach((function(i,n){if(n==e){t.to_Rank_num=i.id,t.set_title_index=n;var l=i.getTitleName();t.setTitleLabel.string=l,t.setTitleDownNode.active=!0,t.setTitleUpNode.active=!1}}))},r.onOpenSetTitleList=function(){this.setTitleUpNode.active=!0,this.setTitleDownNode.active=!1},r.onCloseSetTitleList=function(){this.setTitleUpNode.active=!1,this.setTitleDownNode.active=!0},r.onClickMemberInfo=function(e){0!=p.G_Guald_Admin&&(this.memberInfoName.string=e.name,this.memberInfoSetTitleNode.getComponent(m).interactable=!(this.memberSelectName==p.G_Guald_Admin_Name),this.memberInfoSetTitleNode.getComponent(f).grayscale=this.memberSelectName==p.G_Guald_Admin_Name,w.sendGuildViewMemberInfo(e.name))},r.onCloseMemberInfo=function(){this.memberInfoNode.active=!1},r.onClickUnMaster=function(){w.sendUnMasterSelf()},r.updateAdmin=function(){this.unMasterBtn.node.active=p.G_Guald_Admin>0,this.changeMasterBtn.node.active=2==p.G_Guald_Admin,this.addMemberFaceBtn.node.active=2==p.G_Guald_Admin},r.onCloseSetTitleAndRemove=function(){this.setTitleAndRemove.active=!1},r.onOpenSetTitleAndRemove=function(e){var t=this.setTitleAndRemove.parent.getComponent(b).convertToNodeSpaceAR(e.pos);this.setTitleAndRemove.setPosition(h(t.x-this.setTitleAndRemove.getComponent(b).width,t.y)),this.member_index=e.index,this.memberSelectName=this.guildMemberData[this.member_index].name,this.setTitleAndRemove.active=!0},t}(g)).prototype,"memberContentNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(he.prototype,"memberInfoNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(he.prototype,"setTitleNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(he.prototype,"setPresidentNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(he.prototype,"titleDelNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(he.prototype,"memberKickNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(he.prototype,"editTitleNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(he.prototype,"addTitleNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(he.prototype,"quitGuildNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(he.prototype,"addTitleName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(he.prototype,"editTitleName",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(he.prototype,"memberInfoName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(he.prototype,"setPresidentName",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(he.prototype,"deleteTitleName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(he.prototype,"memberKickName",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(he.prototype,"titleItemPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(he.prototype,"titleContentNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(he.prototype,"delTitle",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(he.prototype,"setTitleContentNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(he.prototype,"setTitlePrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(he.prototype,"setTitleLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(he.prototype,"setTitleUpNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(he.prototype,"setTitleDownNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(he.prototype,"editButtonNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(he.prototype,"memberInfoSetTitleNode",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(he.prototype,"list",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(he.prototype,"newMemberInfoNode",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(he.prototype,"infoState",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(he.prototype,"infoSex",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(he.prototype,"infoJob",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(he.prototype,"infoLevel",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(he.prototype,"infoTitle",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(he.prototype,"infoRank",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(he.prototype,"infoLastLogin",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(he.prototype,"changeMasterBtn",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(he.prototype,"unMasterBtn",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(he.prototype,"addMemberFaceBtn",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(he.prototype,"setTitleAndRemove",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=he))||be)||be));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildNameItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,l,o,a,u,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,a=t.Label,u=t.Color,c=t.color,s=t.Component}],execute:function(){var d,p,m,f,h,g;l._RF.push({},"327bb/swX9FQqbCkK6dNjBH","GuildNameItem",void 0);var y=o.ccclass,v=o.property,N=o.menu;t("default",(d=y("GuildNameItem"),p=N("实例模块/GuildNameItem"),m=v(a),d(f=p((g=e((h=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,n(e,"guildName",g,r(e)),e.index=0,e.type=void 0,e.onItemClick=null,e}i(e,t);var l=e.prototype;return l.start=function(){},l.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},l.initData=function(t,e){t&&(this.guildName.string=t),this.index=e},l.isSelect=function(t){this.guildName.color=t?u.YELLOW:c("#EB00FF")},e}(s)).prototype,"guildName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f)||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuildRelationItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,r,a,l,o,s,u,c,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,s=e.Node,u=e.Sprite,c=e.Component},function(e){m=e.RELATION_TYPE},function(e){p=e.GameUtil}],execute:function(){var b,f,d,g,h,N,y,L,R,v,w,I,A,k,z,C;a._RF.push({},"e7e2bwX/eRPapf/SnbhtOJw","GuildRelationItem",void 0);var G=l.ccclass,_=l.property,S=l.menu;e("default",(b=G("GuildRelationItem"),f=S("实例模块/GuildRelationItem"),d=_(o),g=_(o),h=_(o),N=_(o),y=_(o),L=_(s),b(R=f((w=t((v=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"num",w,r(t)),n(t,"guildName",I,r(t)),n(t,"presidentName",A,r(t)),n(t,"memberNum",k,r(t)),n(t,"steate",z,r(t)),n(t,"selectNode",C,r(t)),t.onItemClick=null,t.index=0,t}i(t,e);var a=t.prototype;return a.start=function(){this.selectNode.active=!1,p.loadResLocal("GuildWin/bg_guild_choose.png",this.selectNode.getComponent(u))},a.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},a.initData=function(e){e&&(this.num.string=e.num.toString(),this.guildName.string=e.name,this.presidentName.string=e.presidentName,this.memberNum.string=e.peopleCur+"/"+e.peopleMax,this.setState(e.state))},a.setState=function(e){switch(e){case m.NEUTRAL:this.steate.string="中立";break;case m.FOLLOW:this.steate.string="关注";break;case m.WAR:this.steate.string="宣战";break;case m.ALLIANCE:this.steate.string="联盟";break;case m.APPLY_ALLIACE:this.steate.string="申请联盟"}},a.setSelected=function(e){this.selectNode.active=e},t}(c)).prototype,"num",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(v.prototype,"guildName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"presidentName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"memberNum",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"steate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"selectNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=v))||R)||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildRelationView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./GameDefine.ts","./Sendmessage.ts","./GuildNameItem.ts"],(function(e){"use strict";var t,i,n,l,a,o,s,r,u,c,d,m,h,f,g,L,p,b,N,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Toggle,r=e.Label,u=e.Sprite,c=e.Material,d=e.EditBox,m=e.Node,h=e.Prefab,f=e.instantiate,g=e.Component},function(e){L=e.Config},function(e){p=e.GUILD_NAME_EDIT_TYPE,b=e.RELATION_TYPE,N=e.GUILD_ITEM_SELECT_TYPE},function(e){y=e.sendmessage},function(e){w=e.default}],execute:function(){var A,I,C,_,v,S,E,G,k,B,x,R,z,D,M,W,P,F,O,T,U,q,V,Q,Y,j,H,K,J,X,Z,$,ee,te,ie,ne,le,ae;a._RF.push({},"23e30hcbmVLN5V8jKviULyd","GuildRelationView",void 0);var oe=o.ccclass,se=o.property,re=o.menu;e("default",(A=oe("GuildRelationView"),I=re("弹窗模块/GuildRelationView"),C=se(s),_=se(r),v=se(u),S=se(c),E=se(d),G=se(m),k=se(h),B=se(m),x=se(m),R=se(m),z=se(m),D=se(m),M=se(r),W=se(m),P=se(m),F=se(m),O=se(m),A(T=I((q=t((U=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"allowAlliance",q,l(t)),n(t,"allowAllianceLabel",V,l(t)),n(t,"allowAllianceSprite",Q,l(t)),n(t,"grayMaterial",Y,l(t)),n(t,"guildNameEditBox",j,l(t)),n(t,"editBoxNode",H,l(t)),n(t,"guildNamePrefab",K,l(t)),n(t,"followListNode",J,l(t)),n(t,"warListNode",X,l(t)),n(t,"applyListNode",Z,l(t)),n(t,"allianceListNode",$,l(t)),n(t,"itemSelectLNode",ee,l(t)),n(t,"itemSelectLabel",te,l(t)),n(t,"followBtnList",ie,l(t)),n(t,"requestBtnList",ne,l(t)),n(t,"warBtnList",le,l(t)),n(t,"allianceBtnList",ae,l(t)),t.relationData=[],t.relationItems=[],t.index=-1,t.scearchItems=[],t.guild_name_type=void 0,t.nameItems=[],t.select_guild_name="",t}i(t,e);var a=t.prototype;return a.start=function(){0==L.G_Guald_Can_Lianmeng?(this.allowAlliance.isChecked=!1,this.allowAllianceLabel.customMaterial=this.grayMaterial,this.allowAllianceSprite.customMaterial=this.grayMaterial):(this.allowAlliance.isChecked=!0,this.allowAllianceLabel.customMaterial=null,this.allowAllianceSprite.customMaterial=null)},a.initGuildList=function(){},a.onClickAgree=function(){y.sendGuildAcceptAlly(this.select_guild_name),this.itemSelectLNode.active=!1},a.onClickRefuse=function(){y.sendGuildRefusalAlly(this.select_guild_name),this.itemSelectLNode.active=!1},a.onClickFollow=function(){this.editBoxNode.active=!0,this.guild_name_type=p.FOLLOW},a.onCancelFollow=function(){this.itemSelectLNode.active=!1,y.sendGuildDelAttention(this.select_guild_name)},a.onClickWar=function(){this.editBoxNode.active=!0,this.guild_name_type=p.WAR},a.onClickFollowWarBtn=function(){y.sendGuildAddGuildWar(this.select_guild_name),this.itemSelectLNode.active=!1},a.onCancelWar=function(){this.relationData[this.index].state=b.NEUTRAL,this.relationItems[this.index].setState(this.relationData[this.index].state)},a.onClickAlliance=function(){this.editBoxNode.active=!0,this.guild_name_type=p.ALLIANCE},a.onCancelAlliance=function(){y.sendGuildUnAlly(this.select_guild_name),this.itemSelectLNode.active=!1},a.sendGuildRequestAlly=function(){y.sendGuildRequestAlly(this.select_guild_name),this.itemSelectLNode.active=!1},a.onAllowAlliance=function(){this.changeally();var e=0!=L.G_Guald_Can_Lianmeng;y.sendGuildChangeAlly(e)},a.changeally=function(){1==L.G_Guald_Can_Lianmeng?(L.G_Guald_Can_Lianmeng=0,this.allowAllianceLabel.customMaterial=this.grayMaterial,this.allowAllianceSprite.customMaterial=this.grayMaterial):(L.G_Guald_Can_Lianmeng=1,this.allowAllianceLabel.customMaterial=null,this.allowAllianceSprite.customMaterial=null)},a.onClickSubmit=function(){this.editBoxNode.active=!1,""!=this.guildNameEditBox.string&&(this.guild_name_type==p.ALLIANCE?y.sendGuildRequestAlly(this.guildNameEditBox.string):this.guild_name_type==p.WAR?y.sendGuildAddGuildWar(this.guildNameEditBox.string):this.guild_name_type==p.FOLLOW&&y.sendGuildAddAttention(this.guildNameEditBox.string))},a.onClickAllianceFollow=function(){y.sendGuildAddAttention(this.select_guild_name),this.itemSelectLNode.active=!1},a.onNameItemClicked=function(e){var t=this;this.nameItems.forEach((function(i,n){if(n==e){if(t.index=n,i.isSelect(!0),i.type==N.WAR)return;t.itemSelectLNode.active=!0,t.select_guild_name=i.guildName.string,t.initItemSelect(i.type)}else i.node&&-1!=i.index&&i.isSelect(!1)}))},a.initItemSelect=function(e){switch(this.followBtnList.active=!1,this.followBtnList.active=!1,this.warBtnList.active=!1,this.allianceBtnList.active=!1,e){case N.FOLLOW:this.itemSelectLabel.string="你可以解除关注或发起宣战...",this.followBtnList.active=!0;break;case N.REQUEST:this.itemSelectLabel.string="你可以接受或拒绝联盟...",this.requestBtnList.active=!0;break;case N.WAR:this.itemSelectLabel.string="你可以...",this.warBtnList.active=!0;break;case N.ALLIANCE:this.itemSelectLabel.string="你可以取消联盟或添加关注...",this.allianceBtnList.active=!0}},a.closeItemShow=function(){this.itemSelectLNode.active=!1},a.newInit=function(e){var t=this,i=e[0],n=e[1],l=e[2],a=e[3];this.nameItems=[];var o=0;this.warListNode.destroyAllChildren(),this.applyListNode.destroyAllChildren(),this.followListNode.destroyAllChildren(),this.allianceListNode.destroyAllChildren(),i.length>0&&i.forEach((function(e,i){var n=f(t.guildNamePrefab),l=n.getComponent(w);l.onItemClick=t.onNameItemClicked.bind(t),l.initData(e,o),o++,l.type=N.WAR,t.nameItems.push(l),t.warListNode.addChild(n)})),n.length>0&&n.forEach((function(e,i){var n=f(t.guildNamePrefab),l=n.getComponent(w);l.onItemClick=t.onNameItemClicked.bind(t),l.initData(e,o),o++,l.type=N.ALLIANCE,t.nameItems.push(l),t.allianceListNode.addChild(n)})),l.length>0&&l.forEach((function(e,i){var n=f(t.guildNamePrefab),l=n.getComponent(w);l.onItemClick=t.onNameItemClicked.bind(t),l.initData(e,o),o++,l.type=N.FOLLOW,t.nameItems.push(l),t.followListNode.addChild(n)})),a.length>0&&a.forEach((function(e,i){var n=f(t.guildNamePrefab),l=n.getComponent(w);l.onItemClick=t.onNameItemClicked.bind(t),l.type=N.REQUEST,l.initData(e,o),o++,t.nameItems.push(l),t.applyListNode.addChild(n)}))},a.updateWarList=function(e){var t=f(this.guildNamePrefab),i=t.getComponent(w);i.onItemClick=this.onNameItemClicked.bind(this),i.initData(e,this.nameItems.length),i.type=N.WAR,this.nameItems.push(i),this.warListNode.addChild(t)},a.updateFollwList=function(e){var t=f(this.guildNamePrefab),i=t.getComponent(w);i.onItemClick=this.onNameItemClicked.bind(this),i.initData(e,this.nameItems.length),i.type=N.FOLLOW,this.nameItems.push(i),this.followListNode.addChild(t)},a.updateAlliance=function(e){this.refusalAllianceList(e);var t=f(this.guildNamePrefab),i=t.getComponent(w);i.onItemClick=this.onNameItemClicked.bind(this),i.initData(e,this.nameItems.length),i.type=N.ALLIANCE,this.nameItems.push(i),this.allianceListNode.addChild(t)},a.deleteAllianceList=function(e){for(var t=0;t<this.nameItems.length;t++)if(this.nameItems[t].node&&this.nameItems[t].guildName.string==e&&this.nameItems[t].type==N.ALLIANCE){this.nameItems[t].node.destroy(),this.nameItems[t].index=-1;break}},a.refusalAllianceList=function(e){for(var t=0;t<this.nameItems.length;t++)if(this.nameItems[t].node&&this.nameItems[t].guildName.string==e&&this.nameItems[t].type==N.REQUEST){this.nameItems[t].node.destroy(),this.nameItems[t].index=-1;break}},a.deleteFollwList=function(e){for(var t=0;t<this.nameItems.length;t++)if(this.nameItems[t].node&&this.nameItems[t].guildName.string==e&&this.nameItems[t].type==N.FOLLOW){this.nameItems[t].node.destroy(),this.nameItems[t].index=-1;break}},t}(g)).prototype,"allowAlliance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(U.prototype,"allowAllianceLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(U.prototype,"allowAllianceSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"grayMaterial",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"guildNameEditBox",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(U.prototype,"editBoxNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(U.prototype,"guildNamePrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"followListNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(U.prototype,"warListNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(U.prototype,"applyListNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(U.prototype,"allianceListNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(U.prototype,"itemSelectLNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(U.prototype,"itemSelectLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(U.prototype,"followBtnList",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(U.prototype,"requestBtnList",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(U.prototype,"warBtnList",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(U.prototype,"allianceBtnList",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=U))||T)||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildScreachNameItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,a,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,l=e.Label,u=e.Component}],execute:function(){var o,s,d,m,p,h;a._RF.push({},"aa5c2dpXvJJc6WwFTOdE6Y0","GuildScreachNameItem",void 0);var f=c.ccclass,g=c.property,v=c.menu;e("default",(o=f("GuildScreachNameItem"),s=v("实例模块/GuildScreachNameItem"),d=g(l),o(m=s((h=t((p=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,n(t,"guildName",h,r(t)),t.index=0,t.onItemClick=null,t}i(t,e);var a=t.prototype;return a.start=function(){},a.initData=function(e){e&&(this.guildName.string=e)},a.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},a.getGuildName=function(){return this.guildName.string},t}(u)).prototype,"guildName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=p))||m)||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/GuildSetTitleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,l,a,o,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,o=t.Label,u=t.Component}],execute:function(){var c,s,p,m,d,f;l._RF.push({},"e95a2h7e9lM56AYzxlurprh","GuildSetTitleItem",void 0);var h=a.ccclass,y=a.property,g=a.menu;t("default",(c=h("GuildSetTitleItem"),s=g("实例模块/GuildSetTitleItem"),p=y(o),c(m=s((f=e((d=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,n(e,"titleName",f,r(e)),e.index=0,e.id=-1,e.onItemClick=null,e}i(e,t);var l=e.prototype;return l.start=function(){},l.initData=function(t){t&&(this.titleName.string=t.name,this.id=t.id)},l.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},l.getTitleName=function(){return this.titleName.string},e}(u)).prototype,"titleName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=d))||m)||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/GuildTitleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,i,n,l,o,r,c,u,a,s,p,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.Label,u=t.Node,a=t.Button,s=t.Color,p=t.color,d=t.Component},function(t){f=t.GameUtil}],execute:function(){var m,h,g,b,y,v,N,I;o._RF.push({},"982afIXbkFPiKc969Jcss0e","GuildTitleItem",void 0);var _=r.ccclass,G=r.property,B=r.menu;t("default",(m=_("GuildTitleItem"),h=B("实例模块/GuildTitleItem"),g=G(c),b=G(u),m(y=h((N=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"titleName",N,l(e)),n(e,"selectNode",I,l(e)),e.index=0,e.onItemClick=null,e}i(e,t);var o=e.prototype;return o.start=function(){f.loadResLocalButton("SplitResource/Btns/btn_guild_title.png","SplitResource/Btns/btn_guild_title (2).png",this.node.getComponent(a))},o.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},o.initData=function(t,e){t&&(this.titleName.string=t),this.index=e},o.isSelect=function(t){this.selectNode.active=t,this.titleName.color=t?s.GREEN:p("#ede1ae")},e}(d)).prototype,"titleName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(v.prototype,"selectNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildWarehouseItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,a,s,r,o,u,c,d,l,h,E,p,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,o=e.Sprite,u=e.Label,c=e.Component},function(e){d=e.EventMgr},function(e){l=e.Config},function(e){h=e.default},function(e){E=e.NEW_INFO_TYPE,p=e.EquipData},function(e){m=e.resourcesMgr},function(e){v=e.GameUtil}],execute:function(){var _,f,R,I,C,g,D,L;s._RF.push({},"da336MbDnRDZp1uKMPRtkSl","GuildWarehouseItem",void 0);var y=r.ccclass,O=r.property,N=r.menu;e("default",(_=y("GuildWarehouseItem"),f=N("实例模块/GuildWarehouseItem"),R=O(o),I=O(u),_(C=f((D=t((g=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"icon",D,a(t)),n(t,"itemNum",L,a(t)),t.equip_data=null,t.isRecovery=!1,t}i(t,e);var s=t.prototype;return s.start=function(){d.addEventListener(h.GUILD_WAREHOUSE_OPEN_RECOVERY,this.updateRecovery,this),d.addEventListener(h.GUILD_WAREHOUSE_CLEAN_RECOVERY,this.updateDate,this),d.addEventListener(h.GUILD_WAREHOUSE_CANCLE_RECOVERY,this.updateIcon,this)},s.init=function(e,t){var i,n=this;(this.isRecovery=t,e.res?(this.icon.node.active=!0,m.handleLoad(e.res.plist,(function(t){t&&t.getSpriteFrame(e.res.img)&&n.icon&&(n.icon.spriteFrame=t.getSpriteFrame(e.res.img))}))):(this.icon.getComponent(o).spriteFrame=null,this.itemNum.node.active=!1),e.data)?(this.equip_data=e,e.data.s.BagEffect.FileIndex&&v.showItemeffect(this.icon.node,e.data),this.itemNum&&(this.itemNum.node.active=!0,v.checkMaterialItemCanBeStacked(e.data,!0)?i="x"+(e.data.Dura+1):v.checkDrugItemCanBeStacked(e.data)&&(i="x"+e.data.Dura),this.itemNum.string=i)):(this.equip_data=null,v.removeItemAni(this.icon.node,"effect"))},s.onClickItem=function(){this.isRecovery?this.isRecovery&&this.icon.node.active&&null!=this.equip_data&&(this.icon.node.active=!1,d.raiseEvent(h.GUILD_WAREHOUSE_PUT_RECOVERY,this.equip_data)):this.equip_data&&(l.g_MoveItems.Items=this.equip_data.data,d.raiseEvent(h.OPEN_NEW_ITEM_INFO,[this.equip_data.data,null,null,null,E.EXCHANGE]))},s.updateRecovery=function(e){this.isRecovery=e,e||(this.icon.node.active=!0)},s.updateDate=function(){if(!this.icon.node.active){var e=new p;this.equip_data=e,this.init(this.equip_data,this.isRecovery)}},s.updateIcon=function(e){},s.onDestroy=function(){d.removeEventListener(h.GUILD_WAREHOUSE_OPEN_RECOVERY,this.updateRecovery,this),d.removeEventListener(h.GUILD_WAREHOUSE_CLEAN_RECOVERY,this.updateDate,this),d.removeEventListener(h.GUILD_WAREHOUSE_CANCLE_RECOVERY,this.updateIcon,this)},t}(c)).prototype,"icon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(g.prototype,"itemNum",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=g))||C)||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/GuildWarehousePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts","./GuildWarehouseItem.ts"],(function(e){"use strict";var t,n,i,r,o,a,u,l,c,s,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,l=e.Prefab,c=e.instantiate,s=e.Component},function(e){f=e.EquipData},function(e){h=e.default}],execute:function(){var d,p,g,b,v,y,P,m;o._RF.push({},"aeba6fhEjtMH6IMOBZ42u/r","GuildWarehousePageView",void 0);var w=a.ccclass,W=a.property,D=a.menu;e("default",(d=w("GuildWarehousePageView"),p=D("实例模块/GuildWarehousePageView"),g=W(u),b=W(l),d(v=p((P=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"contentNode",P,r(t)),i(t,"WarehousePreafb",m,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.initData=function(e,t,n){if(this.contentNode.children.length)for(var i=0;i<72;i++){var r=new f,o=72*t+i;e[o]&&(r=e[o]),this.contentNode.children[i].getComponent(h).init(r,n)}else for(var a=72*t;a<72*t+72;a++){var u=new f,l=c(this.WarehousePreafb);if(this.contentNode.addChild(l),e[a])u=e[a],l.getComponent(h).init(u,n)}},t}(s)).prototype,"contentNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(y.prototype,"WarehousePreafb",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildWarehouseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./UIcontrol.ts","./List.ts","./GameUtil.ts","./GuildWarehousePageView.ts","./RecoveryView.ts"],(function(e){"use strict";var t,a,i,n,s,r,o,h,c,u,l,g,d,v,p,E,m,f,_,N,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,o=e.Node,h=e.Button,c=e.Label,u=e.Sprite,l=e.Component},function(e){g=e.EventMgr},function(e){d=e.Config},function(e){v=e.default},function(e){p=e.OPEN_ITEMINFO_WIN_TYPE,E=e.EquipData},function(e){m=e.uiControl},function(e){f=e.default},function(e){_=e.GameUtil},function(e){N=e.default},function(e){P=e.default}],execute:function(){var L,y,D,C,W,b,R,x,I,B,S,U,O,A,G,H,w,M;s._RF.push({},"5bd18klRxBA37IDbmZT/yy4","GuildWarehouseView",void 0);var V=r.ccclass,k=r.property,T=r.menu;e("default",(L=V("GuildWarehouseView"),y=T("弹窗模块/GuildWarehouseView"),D=k(o),C=k(f),W=k(h),b=k(h),R=k(c),x=k(h),I=k(o),L(B=y((U=t((S=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"recoveryNode",U,n(t)),i(t,"pageList",O,n(t)),i(t,"lastBtn",A,n(t)),i(t,"nextBtn",G,n(t)),i(t,"pageNum",H,n(t)),i(t,"cleanBtn",w,n(t)),i(t,"saveNode",M,n(t)),t.pageWarehouseData=[],t.curPage=1,t.maxPage=3,t.sort_cd_time=5,t.cd_time=0,t}a(t,e);var s=t.prototype;return s.start=function(){this.initWareHouse(),this.initMgr()},s.initMgr=function(){g.addEventListener(v.GUILD_WAREHOUSE_CLEAN_RECOVERY,this.updatePageDateArr,this),g.addEventListener(v.GUILD_WAREHOUSE_PUT_RECOVERY,this.updatePageDate,this),g.addEventListener(v.GUILD_WAREHOUSE_CANCLE_RECOVERY,this.cancleRecovery,this),g.addEventListener(v.SAVE_ITEM_TO_GUILDWAREHOUSE,this.updateSave,this),g.addEventListener(v.EXCHANGE_ITEM_OUT_GUILDWAREHOUSE,this.exchangeSave,this)},s.initWareHouse=function(){var e=this;this.pageWarehouseData=[];var t=d.g_BagItemsList,a=[];t.forEach((function(e,t){e&&a.push(e)})),a.sort((function(e,t){return e.s.Need!==t.s.Need?e.s.Need>t.s.Need?-1:1:e.s.NeedLevel!==t.s.NeedLevel?e.s.NeedLevel>t.s.NeedLevel?-1:1:e.s.StdMode!==t.s.StdMode?e.s.StdMode<t.s.StdMode?-1:1:void 0}));var i=Math.ceil(a.length/72);i>this.maxPage?this.maxPage=i:this.maxPage=3,a.forEach((function(t,a){if(t){var i=new E,n=t.s.Looks;i.data=t;var s=_.loadImgData(n,"items");i.type=1,i.res=s,i.win_type=p.LOOKHUMWIN,e.pageWarehouseData.push(i)}})),this.pageList.numItems=this.maxPage,this.pageNum.string=this.curPage+"/"+this.maxPage,this.onPageChange(this.curPage-1),0==d.G_Guald_Admin?this.cleanBtn.interactable=!1:this.cleanBtn.interactable=!0},s.pageRenderItemHandler=function(e,t){e.getComponent(N).initData(this.pageWarehouseData,t,this.recoveryNode.active)},s.onPageChange=function(e){var t=null==e?this.pageList.curPageNum:e;this.curPage=t+1,console.log("当前页码：",this.curPage),1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(u).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(u).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(u).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(u).grayscale=!0),this.pageNum.string=this.curPage+"/"+this.maxPage},s.onClickLastPage=function(){this.curPage>1&&(this.curPage-=1,1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(u).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(u).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(u).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(u).grayscale=!0),this.pageList.prePage(.5),this.pageNum.string=this.curPage+"/"+this.maxPage)},s.onClickNextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.curPage==this.maxPage?(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(u).grayscale=!0):(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(u).grayscale=!1),this.curPage>1?(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(u).grayscale=!1):(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(u).grayscale=!0)),this.pageList.nextPage(.5),this.pageNum.string=this.curPage+"/"+this.maxPage},s.onClickRecovery=function(){this.recoveryNode.active=!this.recoveryNode.active,this.saveNode.active&&(this.saveNode.active=!1),g.raiseEvent(v.GUILD_WAREHOUSE_OPEN_RECOVERY,this.recoveryNode.active)},s.onClickCloseRecovery=function(){this.recoveryNode.active=!1,g.raiseEvent(v.GUILD_WAREHOUSE_OPEN_RECOVERY,this.recoveryNode.active)},s.onClickSaveEquip=function(){this.saveNode.active=!this.saveNode.active,this.recoveryNode.active&&(this.recoveryNode.active=!1),g.raiseEvent(v.GUILD_WAREHOUSE_CHANGE_SAVE_ACTIVE,this.recoveryNode.active)},s.onClickCloseSaveEquip=function(){this.saveNode.active=!1,g.raiseEvent(v.GUILD_WAREHOUSE_CHANGE_SAVE_ACTIVE,this.recoveryNode.active)},s.onClickSortEquip=function(){var e=this;if(this.recoveryNode.active&&this.recoveryNode.getComponent(P).checkClean())m.handlerAlert({type:1,content:"请关闭回收站或者清空回收站内的物品后再点击整理！"});else{if(this.cd_time>0)return void g.raiseEvent("show_log",[{txt:"不能重复整理，请"+this.cd_time+"秒后再试！",color:"#ff0000"}]);this.schedule((function(){e.cd_time--}),1,this.sort_cd_time),this.cd_time=this.sort_cd_time;for(var t=this.pageWarehouseData.length-1;t>-1;t--)null==this.pageWarehouseData[t].data&&this.pageWarehouseData.splice(t,1);this.pageWarehouseData.sort((function(e,t){return e.data.s.Need!==t.data.s.Need?e.data.s.Need>t.data.s.Need?-1:1:e.data.s.NeedLevel!==t.data.s.NeedLevel?e.data.s.NeedLevel>t.data.s.NeedLevel?-1:1:e.data.s.StdMode!==t.data.s.StdMode?e.data.s.StdMode<t.data.s.StdMode?-1:1:void 0})),this.pageWarehouseData.length>0&&(this.pageList.numItems=this.maxPage)}},s.updatePageDateArr=function(e){var t=e;this.pageWarehouseData.forEach((function(e,a){for(var i=0;i<t.length;i++)if(e==t[i]){var n=new E;n.data=null,e=n;break}}))},s.cancleRecovery=function(e){for(var t=e,a=0;a<this.pageWarehouseData.length;a++)if(this.pageWarehouseData[a]&&null==this.pageWarehouseData[a].data){this.pageWarehouseData[a]=t;break}this.pageList.numItems=this.maxPage},s.updateSave=function(e){var t=new E,a=e.s.Looks;t.data=e;var i=_.loadImgData(a,"items");t.type=1,t.res=i,t.win_type=p.LOOKHUMWIN;for(var n=!1,s=0;s<this.pageWarehouseData.length;s++)if(null==this.pageWarehouseData[s].data){n=!0,this.pageWarehouseData[s]=t,this.pageList.numItems=this.maxPage;var r=Math.ceil(s/72);this.pageList.skipPage(r-1,0);break}if(!n){this.pageWarehouseData.push(t);var o=Math.ceil(this.pageWarehouseData.length/72);this.pageList.numItems=this.maxPage,this.pageList.skipPage(o-1,0)}},s.exchangeSave=function(e){for(var t=0;t<this.pageWarehouseData.length;t++)if(this.pageWarehouseData[t].data==e){var a=new E;a.data=null,this.pageWarehouseData[t]=a,this.pageList.numItems=this.maxPage;break}},s.updatePageDate=function(e){for(var t=e,a=0;a<this.pageWarehouseData.length;a++)if(this.pageWarehouseData[a]==t){var i=new E;i.data=null,this.pageWarehouseData[a]=i;break}},s.onDestroy=function(){g.removeEventListener(v.GUILD_WAREHOUSE_CLEAN_RECOVERY,this.updatePageDateArr,this),g.removeEventListener(v.GUILD_WAREHOUSE_PUT_RECOVERY,this.updatePageDate,this),g.removeEventListener(v.GUILD_WAREHOUSE_CANCLE_RECOVERY,this.cancleRecovery,this),g.removeEventListener(v.SAVE_ITEM_TO_GUILDWAREHOUSE,this.updateSave,this)},s.onDisable=function(){this.recoveryNode.active=!1,this.saveNode.active=!1,g.raiseEvent(v.GUILD_WAREHOUSE_OPEN_RECOVERY,this.recoveryNode.active)},t}(l)).prototype,"recoveryNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(S.prototype,"pageList",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"lastBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(S.prototype,"nextBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(S.prototype,"pageNum",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(S.prototype,"cleanBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(S.prototype,"saveNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=S))||B)||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/GuildWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Sendmessage.ts","./GuildApplyListView.ts","./GuildInfoView.ts","./GuildMemberListView.ts","./GuildRelationView.ts"],(function(e){"use strict";var t,i,n,s,o,a,l,r,u,L,d,h,p,c,A,E,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Toggle,r=e.Node,u=e.Component},function(e){L=e.EventMgr},function(e){d=e.Config},function(e){h=e.default},function(e){p=e.sendmessage},function(e){c=e.default},function(e){A=e.default},function(e){E=e.default},function(e){v=e.default}],execute:function(){var m,f,w,T,_,b,I,g,V,C,D,y,U,S,F,G,P,N,M,R,O,B;o._RF.push({},"75878O1ZwhBP5q1vNMGafGn","GuildWin",void 0);var H=a.ccclass,W=a.property,z=a.menu;e("default",(m=H("GuildWin"),f=z("弹窗模块/GuildWin"),w=W(l),T=W(r),_=W(r),b=W(r),I=W(r),g=W(r),V=W(r),C=W(r),D=W(r),m(y=f((S=t((U=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"tabBarButton",S,s(t)),n(t,"infoView",F,s(t)),n(t,"memberView",G,s(t)),n(t,"applyView",P,s(t)),n(t,"relationView",N,s(t)),n(t,"wardhouseView",M,s(t)),n(t,"recoveryNode",R,s(t)),n(t,"newFunctionNode",O,s(t)),n(t,"newLevelNode",B,s(t)),t}i(t,e);var o=t.prototype;return o.start=function(){d.MainScene.openGuild=!0,this.setAllActiviFalse(),this.infoView.active=!0,this.initMgr();var e=!1;this.newFunctionNode.active=e,this.newLevelNode.active=e,this.tabBarButton[this.tabBarButton.length-1].node.active=e},o.initMgr=function(){L.addEventListener(h.UPDATA_RELATIONLIST,this.updateRelationList,this),L.addEventListener(h.UPDATE_GUALD_USER,this.updateMemberList,this),L.addEventListener(h.UPDATE_GUALD_TITLE,this.updateMemberTitle,this),L.addEventListener(h.UPDATE_GUILD_INFO,this.SetHangHuiBaseInfo,this),L.addEventListener(h.UPDATE_GUILD_CHAT,this.updateGuildChat,this),L.addEventListener(h.UPDATE_APPLYLIST,this.updateApplyList,this),L.addEventListener(h.UPDATE_GUILD_RELATION,this.updateNewRelationList,this),L.addEventListener(h.UPDATE_FOLLOW_LIST,this.updateFollowList,this),L.addEventListener(h.DELETE_FOLLOW_LIST,this.deleteFollowList,this),L.addEventListener(h.SHOW_MEMBER_INFO,this.showMemberInfo,this),L.addEventListener(h.GUILD_SET_TITLE,this.setTitle,this),L.addEventListener(h.UPDATE_GUILD_WAR_LIST,this.updateWarList,this),L.addEventListener(h.UPDATE_APPLY_INFO,this.updateApplyInfo,this),L.addEventListener(h.UPDATE_ADMIN,this.updateAdmin,this),L.addEventListener(h.ACCEPT_ALLIANCE_LIST,this.updateAllianceList,this),L.addEventListener(h.DELETE_ALLIANCE_LIST,this.deleteAllianceList,this),L.addEventListener(h.REFUSAL_ALLIANCE_LIST,this.refusalAllianceList,this),L.addEventListener(h.CHANGEALLY_FALL,this.changeallyFail,this),L.addEventListener(h.SET_TITLE_OR_REMOVE,this.openSetTitleAndRemove,this)},o.showMemberInfo=function(e){this.memberView.getComponent(E).showMemberInfo(e)},o.updateNewRelationList=function(e){this.relationView.getComponent(v).newInit(e)},o.updateFollowList=function(e){this.relationView.getComponent(v).updateFollwList(e)},o.deleteFollowList=function(e){this.relationView.getComponent(v).deleteFollwList(e)},o.updateWarList=function(e){this.relationView.getComponent(v).updateWarList(e)},o.setAllActiviFalse=function(){this.infoView.active=!1,this.memberView.active=!1,this.applyView.active=!1,this.relationView.active=!1,this.wardhouseView.active=!1,this.recoveryNode.active=!1},o.tabbarButtonClick=function(e){switch(this.tabBarButton.indexOf(e)){case 0:if(this.infoView.active)return;this.setAllActiviFalse(),this.infoView.active=!0,p.sendGuildHome();break;case 1:if(this.memberView.active)return;this.setAllActiviFalse(),this.memberView.active=!0,p.guildMemberList();break;case 2:if(this.applyView.active)return;this.setAllActiviFalse(),this.applyView.active=!0,p.sendGuildGetJoinUserList(),this.applyView.getComponent(c).initList();break;case 3:if(this.relationView.active)return;this.setAllActiviFalse(),this.relationView.active=!0;break;case 4:if(this.wardhouseView.active)return;this.setAllActiviFalse(),this.wardhouseView.active=!0}},o.updateRelationList=function(){console.log("updateRelationList")},o.updateMemberList=function(){console.log("updateMemberList"),this.memberView.getComponent(E).updateMemberList()},o.updateMemberTitle=function(){console.log("updateMemberTitle"),this.memberView.getComponent(E).updateMemberTitle()},o.setTitle=function(e){this.memberView.getComponent(E).onClickSetTitle(e)},o.SetHangHuiBaseInfo=function(){console.log("SetHangHuiBaseInfo"),this.infoView.getComponent(A).SetHangHuiBaseInfo()},o.updateGuildChat=function(){console.log("updateGuildChat"),this.infoView.getComponent(A).updateGuildChat()},o.updateApplyList=function(e){console.log("updateApplyList,msg=",e),this.applyView.getComponent(c).updateApplyList(e)},o.updateApplyInfo=function(e){this.applyView.getComponent(c).updateApplyInfo(e)},o.updateAdmin=function(){this.infoView.getComponent(A).setMasterBtn(),this.memberView.getComponent(E).updateAdmin(),this.applyView.getComponent(c).updateAdmin()},o.updateAllianceList=function(e){this.relationView.getComponent(v).updateAlliance(e)},o.deleteAllianceList=function(e){this.relationView.getComponent(v).deleteAllianceList(e)},o.refusalAllianceList=function(e){this.relationView.getComponent(v).refusalAllianceList(e)},o.changeallyFail=function(){this.relationView.getComponent(v).changeally()},o.openSetTitleAndRemove=function(e){this.memberView.getComponent(E).onOpenSetTitleAndRemove(e)},o.closeView=function(){this.node.destroy()},o.onDestroy=function(){L.removeEventListener(h.UPDATA_RELATIONLIST,this.updateRelationList,this),L.removeEventListener(h.UPDATE_GUALD_USER,this.updateMemberList,this),L.removeEventListener(h.UPDATE_GUALD_TITLE,this.updateMemberTitle,this),L.removeEventListener(h.UPDATE_GUILD_INFO,this.SetHangHuiBaseInfo,this),L.removeEventListener(h.UPDATE_GUILD_CHAT,this.updateGuildChat,this),L.removeEventListener(h.UPDATE_APPLYLIST,this.updateApplyList,this),L.removeEventListener(h.UPDATE_GUILD_RELATION,this.updateNewRelationList,this),L.removeEventListener(h.UPDATE_FOLLOW_LIST,this.updateFollowList,this),L.removeEventListener(h.DELETE_FOLLOW_LIST,this.deleteFollowList,this),L.removeEventListener(h.SHOW_MEMBER_INFO,this.showMemberInfo,this),L.removeEventListener(h.GUILD_SET_TITLE,this.setTitle,this),L.removeEventListener(h.UPDATE_GUILD_WAR_LIST,this.updateWarList,this),L.removeEventListener(h.UPDATE_APPLY_INFO,this.updateApplyInfo,this),L.removeEventListener(h.UPDATE_ADMIN,this.updateAdmin,this),L.removeEventListener(h.ACCEPT_ALLIANCE_LIST,this.updateAllianceList,this),L.removeEventListener(h.DELETE_ALLIANCE_LIST,this.deleteAllianceList,this),L.removeEventListener(h.REFUSAL_ALLIANCE_LIST,this.refusalAllianceList,this),L.removeEventListener(h.CHANGEALLY_FALL,this.changeallyFail,this),L.removeEventListener(h.SET_TITLE_OR_REMOVE,this.openSetTitleAndRemove,this),d.MainScene.openGuild=!1},t}(u)).prototype,"tabBarButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(U.prototype,"infoView",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(U.prototype,"memberView",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(U.prototype,"applyView",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(U.prototype,"relationView",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(U.prototype,"wardhouseView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"recoveryNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(U.prototype,"newFunctionNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(U.prototype,"newLevelNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=U))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var i,t,n,l,r,o,a,u,c,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Sprite,u=e.Toggle,c=e.Component},function(e){b=e.GameUtil}],execute:function(){var s,p,g,d,f,B,m,_,h,R,w,y,L,z,G,S,k,C,x,M,D,T,W,E,A,j,v,q,I,F,U,J,N,P,Z,K,H,Q,V,O,X,Y,$,ee,ie,te,ne,le,re,oe,ae,ue,ce,be,se,pe,ge,de,fe,Be,me,_e,he,Re,we,ye,Le,ze,Ge,Se,ke,Ce,xe,Me,De,Te,We,Ee,Ae,je,ve,qe,Ie,Fe,Ue,Je,Ne,Pe,Ze,Ke,He,Qe,Ve,Oe,Xe,Ye,$e,ei,ii,ti,ni,li,ri,oi,ai,ui,ci,bi,si,pi,gi,di,fi,Bi,mi,_i,hi,Ri,wi,yi,Li,zi,Gi,Si,ki,Ci,xi,Mi,Di,Ti,Wi,Ei,Ai,ji,vi,qi,Ii,Fi,Ui,Ji,Ni,Pi,Zi,Ki,Hi,Qi,Vi,Oi,Xi,Yi,$i,et,it,tt,nt,lt,rt,ot,at,ut,ct,bt,st,pt,gt,dt,ft,Bt,mt,_t,ht,Rt,wt,yt,Lt,zt,Gt,St,kt,Ct,xt,Mt,Dt,Tt,Wt,Et,At,jt,vt,qt,It,Ft,Ut,Jt,Nt,Pt,Zt,Kt,Ht,Qt,Vt,Ot,Xt,Yt,$t,en,tn,nn,ln,rn,on,an,un,cn,bn,sn,pn,gn,dn,fn,Bn,mn,_n,hn,Rn,wn,yn,Ln;r._RF.push({},"674f7KLNLpJgKQffp0VayBv","GuildWinSprite",void 0);var zn=o.ccclass,Gn=o.property,Sn=o.menu;e("default",(s=zn("GuildWinSprite"),p=Sn("图片模块/GuildWinSprite"),g=Gn(a),d=Gn(a),f=Gn(a),B=Gn(a),m=Gn(a),_=Gn(u),h=Gn(a),R=Gn(u),w=Gn(a),y=Gn(u),L=Gn(a),z=Gn(u),G=Gn(a),S=Gn(a),k=Gn(a),C=Gn(a),x=Gn(a),M=Gn(a),D=Gn(a),T=Gn(a),W=Gn(u),E=Gn(a),A=Gn(a),j=Gn(a),v=Gn(a),q=Gn(a),I=Gn(a),F=Gn(a),U=Gn(a),J=Gn(a),N=Gn(a),P=Gn(a),Z=Gn(a),K=Gn(a),H=Gn(a),Q=Gn(a),V=Gn(a),O=Gn(a),X=Gn(a),Y=Gn(a),$=Gn(a),ee=Gn(a),ie=Gn(a),te=Gn(a),ne=Gn(a),le=Gn(a),re=Gn(a),oe=Gn(a),ae=Gn(a),ue=Gn(a),ce=Gn(a),be=Gn(a),se=Gn(a),pe=Gn(a),ge=Gn(a),de=Gn(a),fe=Gn(a),Be=Gn(a),me=Gn(a),_e=Gn(a),he=Gn(a),Re=Gn(a),we=Gn(a),ye=Gn(a),Le=Gn(a),ze=Gn(a),Ge=Gn(a),Se=Gn(a),ke=Gn(a),Ce=Gn(a),xe=Gn(a),Me=Gn(a),De=Gn(a),Te=Gn(a),We=Gn(a),Ee=Gn(a),Ae=Gn(u),je=Gn(a),ve=Gn(a),qe=Gn(a),Ie=Gn(a),Fe=Gn(a),Ue=Gn(a),Je=Gn(a),Ne=Gn(a),Pe=Gn(a),Ze=Gn(a),Ke=Gn(a),He=Gn(a),Qe=Gn(a),Ve=Gn(a),Oe=Gn(a),Xe=Gn(a),Ye=Gn(a),$e=Gn(a),ei=Gn(a),ii=Gn(a),ti=Gn(u),ni=Gn(a),li=Gn(u),ri=Gn(a),oi=Gn(u),ai=Gn(a),ui=Gn(a),ci=Gn(a),bi=Gn(a),si=Gn(a),pi=Gn(a),gi=Gn(a),di=Gn(a),fi=Gn(a),Bi=Gn(a),s(mi=p((hi=i((_i=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"guildWinCloseBtn",hi,l(i)),n(i,"infoBG",Ri,l(i)),n(i,"memberListBG",wi,l(i)),n(i,"applyListBG",yi,l(i)),n(i,"relationBG",Li,l(i)),n(i,"toggleInfo",zi,l(i)),n(i,"checkMarkInfo",Gi,l(i)),n(i,"toggleMember",Si,l(i)),n(i,"checkMarkMember",ki,l(i)),n(i,"toggleApply",Ci,l(i)),n(i,"checkMarkApply",xi,l(i)),n(i,"toggleAlliance",Mi,l(i)),n(i,"checkMarkAlliance",Di,l(i)),n(i,"noticeEditBtn",Ti,l(i)),n(i,"guildListBtn",Wi,l(i)),n(i,"infoEditBG",Ei,l(i)),n(i,"infoEditCloseBtn",Ai,l(i)),n(i,"combobox_up",ji,l(i)),n(i,"combobox_down",vi,l(i)),n(i,"CreatGuildBtn",qi,l(i)),n(i,"toggleEditJoin",Ii,l(i)),n(i,"checkMarkEditJoin",Fi,l(i)),n(i,"editNameBG",Ui,l(i)),n(i,"editNoticeBG",Ji,l(i)),n(i,"addTitleBtn",Ni,l(i)),n(i,"editTitleBtn",Pi,l(i)),n(i,"delTitleBtn",Zi,l(i)),n(i,"quitGuildBtn",Ki,l(i)),n(i,"memberinfoBG",Hi,l(i)),n(i,"memberinfoCloseBtn",Qi,l(i)),n(i,"jointeamBtn",Vi,l(i)),n(i,"addfriendBtn",Oi,l(i)),n(i,"chatBtn",Xi,l(i)),n(i,"memberkickBtn",Yi,l(i)),n(i,"changePresidentBtn",$i,l(i)),n(i,"setTitleBtn",et,l(i)),n(i,"setTitleBG",it,l(i)),n(i,"setTitleCloseBtn",tt,l(i)),n(i,"comboboxDown",nt,l(i)),n(i,"comboboxUp",lt,l(i)),n(i,"setTitleDefine",rt,l(i)),n(i,"setTitleCancel",ot,l(i)),n(i,"setpresidentBG",at,l(i)),n(i,"setpresidentCloseBtn",ut,l(i)),n(i,"setpresidentDefine",ct,l(i)),n(i,"setpresidentCancel",bt,l(i)),n(i,"titledelBG",st,l(i)),n(i,"titledelCloseBtn",pt,l(i)),n(i,"titledelDefine",gt,l(i)),n(i,"titledelCancel",dt,l(i)),n(i,"memberkickBG",ft,l(i)),n(i,"memberkickCloseBtn",Bt,l(i)),n(i,"memberkickDefine",mt,l(i)),n(i,"memberkickCancel",_t,l(i)),n(i,"edittitleBG",ht,l(i)),n(i,"edittitleEditBG",Rt,l(i)),n(i,"edittitleCloseBtn",wt,l(i)),n(i,"edittitleDefine",yt,l(i)),n(i,"edittitleCancel",Lt,l(i)),n(i,"addtitleBG",zt,l(i)),n(i,"addtitleEditBG",Gt,l(i)),n(i,"addtitleCloseBtn",St,l(i)),n(i,"addtitleDefine",kt,l(i)),n(i,"addtitleCancel",Ct,l(i)),n(i,"quitGuildBG",xt,l(i)),n(i,"quitGuildCloseBtn",Mt,l(i)),n(i,"quitGuildDefine",Dt,l(i)),n(i,"quitGuildCancel",Tt,l(i)),n(i,"cleanListBtn",Wt,l(i)),n(i,"aggreBtn",Et,l(i)),n(i,"refuseBtn",At,l(i)),n(i,"searchBtn",jt,l(i)),n(i,"manageBtn",vt,l(i)),n(i,"cancelallanceBtn",qt,l(i)),n(i,"cancelfollowBtn",It,l(i)),n(i,"cancelwarBtn",Ft,l(i)),n(i,"allowAlliance",Ut,l(i)),n(i,"checkMarkAllowAlliance",Jt,l(i)),n(i,"allianceBG",Nt,l(i)),n(i,"allianceCloseBtn",Pt,l(i)),n(i,"allianceDefine",Zt,l(i)),n(i,"allianceCancel",Kt,l(i)),n(i,"searchBG",Ht,l(i)),n(i,"searchComboboxDown",Qt,l(i)),n(i,"searchComboboxUp",Vt,l(i)),n(i,"searchDefine",Ot,l(i)),n(i,"searchCancel",Xt,l(i)),n(i,"manageBG",Yt,l(i)),n(i,"manageCloseBtn",$t,l(i)),n(i,"followBtn",en,l(i)),n(i,"warBtn",tn,l(i)),n(i,"allianceBtn",nn,l(i)),n(i,"unMasterBtn",ln,l(i)),n(i,"addUserExBtn",rn,l(i)),n(i,"editBtn",on,l(i)),n(i,"saveBtn",an,l(i)),n(i,"cancleBtn",un,l(i)),n(i,"jobZS",cn,l(i)),n(i,"checkMarkjobZS",bn,l(i)),n(i,"jobFS",sn,l(i)),n(i,"checkMarkjobFS",pn,l(i)),n(i,"jobDS",gn,l(i)),n(i,"checkMarkjobDS",dn,l(i)),n(i,"gxxFollowBtn",fn,l(i)),n(i,"gxxAllianceBtn",Bn,l(i)),n(i,"gxxWarButn",mn,l(i)),n(i,"addMemberInfoEditBox",_n,l(i)),n(i,"addMemberLevelEditBox",hn,l(i)),n(i,"ChangeMasterBtn",Rn,l(i)),n(i,"memberInfoClose",wn,l(i)),n(i,"gxxSetTitle",yn,l(i)),n(i,"gxxRemoveBtn",Ln,l(i)),i}return t(i,e),i.prototype.start=function(){b.loadResLocal("public/btn_close_new.png",this.guildWinCloseBtn),b.loadResLocal("GuildWin/bg_guildInfo.png",this.infoBG),b.loadResLocal("GuildWin/bg_guild_memberList.png",this.memberListBG),b.loadResLocal("GuildWin/bg_guild_applyList.png",this.applyListBG),b.loadResLocal("GuildWin/bg_guild_relation.png",this.relationBG),b.loadResLocalToggle("SplitResource/Btns/vbtn_guild_info.png","SplitResource/Btns/vbtn_guild_info (2).png",this.toggleInfo,this.checkMarkInfo),b.loadResLocalToggle("SplitResource/Btns/vbtn_guild_member.png","SplitResource/Btns/vbtn_guild_member (2).png",this.toggleMember,this.checkMarkMember),b.loadResLocalToggle("SplitResource/Btns/vbtn_guild_apply.png","SplitResource/Btns/vbtn_guild_apply (2).png",this.toggleApply,this.checkMarkApply),b.loadResLocalToggle("SplitResource/Btns/vbtn_guild_alliance.png","SplitResource/Btns/vbtn_guild_alliance (2).png",this.toggleAlliance,this.checkMarkAlliance),b.loadResLocal("SplitResource/Btns/btn_guild_editGuildInfo.png",this.noticeEditBtn),b.loadResLocal("SplitResource/Btns/btn_showGuildList.png",this.guildListBtn),b.loadResLocal("GuildWin/bg_editguild.png",this.infoEditBG),b.loadResLocal("GuildWin/logininput.png",this.editNameBG),b.loadResLocal("GuildWin/logininput.png",this.editNoticeBG),b.loadResLocal("public/btn_close_new.png",this.infoEditCloseBtn),b.loadResLocal("SplitResource/Btns/combobox (3).png",this.combobox_up),b.loadResLocal("SplitResource/Btns/combobox (2).png",this.combobox_down),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.CreatGuildBtn),b.loadResLocalToggle("SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png",this.toggleEditJoin,this.checkMarkEditJoin),b.loadResLocal("SplitResource/Btns/btn_guild_addTitle.png",this.addTitleBtn),b.loadResLocal("SplitResource/Btns/btn_guild_edittitle.png",this.editTitleBtn),b.loadResLocal("SplitResource/Btns/btn_guild_delTitle.png",this.delTitleBtn),b.loadResLocal("SplitResource/Btns/btn_guild_quitGuild.png",this.quitGuildBtn),b.loadResLocal("GuildWin/bg_guild_memberinfo.png",this.memberinfoBG),b.loadResLocal("public/btn_close_new.png",this.memberinfoCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_jointeam.png",this.jointeamBtn),b.loadResLocal("SplitResource/Btns/btn_guild_addfriend.png",this.addfriendBtn),b.loadResLocal("SplitResource/Btns/btn_guild_chat.png",this.chatBtn),b.loadResLocal("SplitResource/Btns/btn_guild_memberkick.png",this.memberkickBtn),b.loadResLocal("SplitResource/Btns/btn_guild_changePresident.png",this.changePresidentBtn),b.loadResLocal("SplitResource/Btns/btn_guild_setTitle.png",this.setTitleBtn),b.loadResLocal("GuildWin/bg_guild_settitle.png",this.setTitleBG),b.loadResLocal("public/btn_close_new.png",this.setTitleCloseBtn),b.loadResLocal("SplitResource/Btns/personalstore_combobox (2).png",this.comboboxDown),b.loadResLocal("SplitResource/Btns/personalstore_combobox (3).png",this.comboboxUp),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.setTitleDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.setTitleCancel),b.loadResLocal("GuildWin/bg_guild_memberdel.png",this.setpresidentBG),b.loadResLocal("public/btn_close_new.png",this.setpresidentCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.setpresidentDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.setpresidentCancel),b.loadResLocal("GuildWin/bg_guild_memberdel.png",this.titledelBG),b.loadResLocal("public/btn_close_new.png",this.titledelCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.titledelDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.titledelCancel),b.loadResLocal("GuildWin/bg_guild_memberdel.png",this.memberkickBG),b.loadResLocal("public/btn_close_new.png",this.memberkickCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.memberkickDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.memberkickCancel),b.loadResLocal("GuildWin/bg_guild_addtitle.png",this.edittitleBG),b.loadResLocal("GuildWin/logininput.png",this.edittitleEditBG),b.loadResLocal("public/btn_close_new.png",this.edittitleCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.edittitleDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.edittitleCancel),b.loadResLocal("GuildWin/bg_guild_addtitle.png",this.addtitleBG),b.loadResLocal("GuildWin/logininput.png",this.addtitleEditBG),b.loadResLocal("public/btn_close_new.png",this.addtitleCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.addtitleDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.addtitleCancel),b.loadResLocal("GuildWin/bg_guild_memberdel.png",this.quitGuildBG),b.loadResLocal("public/btn_close_new.png",this.quitGuildCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.quitGuildDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.quitGuildCancel),b.loadResLocal("SplitResource/Btns/btn_guild_cleanList.png",this.cleanListBtn),b.loadResLocal("SplitResource/Btns/btn_guild_ok.png",this.aggreBtn),b.loadResLocal("SplitResource/Btns/btn_guild_refuse.png",this.refuseBtn),b.loadResLocalToggle("SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png",this.allowAlliance,this.checkMarkAllowAlliance),b.loadResLocal("SplitResource/Btns/btn_guild_search.png",this.searchBtn),b.loadResLocal("SplitResource/Btns/btn_guild_relationMng.png",this.manageBtn),b.loadResLocal("SplitResource/Btns/btn_guild_cancelallance.png",this.cancelallanceBtn),b.loadResLocal("SplitResource/Btns/btn_guild_cancelfollow.png",this.cancelfollowBtn),b.loadResLocal("SplitResource/Btns/btn_guild_cancelwar.png",this.cancelwarBtn),b.loadResLocal("GuildWin/bg_guild_memberdel.png",this.allianceBG),b.loadResLocal("public/btn_close_new.png",this.allianceCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_ok.png",this.allianceDefine),b.loadResLocal("SplitResource/Btns/btn_guild_refuse.png",this.allianceCancel),b.loadResLocal("GuildWin/bg_guild_search.png",this.searchBG),b.loadResLocal("SplitResource/Btns/auxiliary_combobox.png",this.searchComboboxDown),b.loadResLocal("SplitResource/Btns/auxiliary_combobox (3).png",this.searchComboboxUp),b.loadResLocal("SplitResource/Btns/btn_guild_define.png",this.searchDefine),b.loadResLocal("SplitResource/Btns/btn_guild_cancel.png",this.searchCancel),b.loadResLocal("GuildWin/bg_guild_relation_manage.png",this.manageBG),b.loadResLocal("public/btn_close_new.png",this.manageCloseBtn),b.loadResLocal("SplitResource/Btns/btn_guild_follow.png",this.followBtn),b.loadResLocal("SplitResource/Btns/btn_guild_war.png",this.warBtn),b.loadResLocal("SplitResource/Btns/btn_guild_alliance.png",this.allianceBtn),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.unMasterBtn),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.addUserExBtn),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.editBtn),b.loadResLocalToggle("SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png",this.jobZS,this.checkMarkjobZS),b.loadResLocalToggle("SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png",this.jobFS,this.checkMarkjobFS),b.loadResLocalToggle("SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png",this.jobDS,this.checkMarkjobDS),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.gxxFollowBtn),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.gxxAllianceBtn),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.gxxWarButn),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.ChangeMasterBtn),b.loadResLocal("public/btn_close_new.png",this.memberInfoClose),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.gxxRemoveBtn),b.loadResLocal("SplitResource/Btns/btn_guild_title (2).png",this.gxxSetTitle),b.loadResLocal("GuildWin/logininput.png",this.addMemberInfoEditBox),b.loadResLocal("GuildWin/logininput.png",this.addMemberLevelEditBox)},i}(c)).prototype,"guildWinCloseBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ri=i(_i.prototype,"infoBG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wi=i(_i.prototype,"memberListBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yi=i(_i.prototype,"applyListBG",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Li=i(_i.prototype,"relationBG",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zi=i(_i.prototype,"toggleInfo",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gi=i(_i.prototype,"checkMarkInfo",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Si=i(_i.prototype,"toggleMember",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ki=i(_i.prototype,"checkMarkMember",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ci=i(_i.prototype,"toggleApply",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xi=i(_i.prototype,"checkMarkApply",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mi=i(_i.prototype,"toggleAlliance",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Di=i(_i.prototype,"checkMarkAlliance",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ti=i(_i.prototype,"noticeEditBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wi=i(_i.prototype,"guildListBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ei=i(_i.prototype,"infoEditBG",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ai=i(_i.prototype,"infoEditCloseBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ji=i(_i.prototype,"combobox_up",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vi=i(_i.prototype,"combobox_down",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qi=i(_i.prototype,"CreatGuildBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ii=i(_i.prototype,"toggleEditJoin",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fi=i(_i.prototype,"checkMarkEditJoin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ui=i(_i.prototype,"editNameBG",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ji=i(_i.prototype,"editNoticeBG",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ni=i(_i.prototype,"addTitleBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pi=i(_i.prototype,"editTitleBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zi=i(_i.prototype,"delTitleBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ki=i(_i.prototype,"quitGuildBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hi=i(_i.prototype,"memberinfoBG",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qi=i(_i.prototype,"memberinfoCloseBtn",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vi=i(_i.prototype,"jointeamBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oi=i(_i.prototype,"addfriendBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xi=i(_i.prototype,"chatBtn",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yi=i(_i.prototype,"memberkickBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$i=i(_i.prototype,"changePresidentBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(_i.prototype,"setTitleBtn",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(_i.prototype,"setTitleBG",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(_i.prototype,"setTitleCloseBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(_i.prototype,"comboboxDown",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(_i.prototype,"comboboxUp",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(_i.prototype,"setTitleDefine",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(_i.prototype,"setTitleCancel",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(_i.prototype,"setpresidentBG",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i(_i.prototype,"setpresidentCloseBtn",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(_i.prototype,"setpresidentDefine",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(_i.prototype,"setpresidentCancel",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(_i.prototype,"titledelBG",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(_i.prototype,"titledelCloseBtn",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(_i.prototype,"titledelDefine",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i(_i.prototype,"titledelCancel",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(_i.prototype,"memberkickBG",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=i(_i.prototype,"memberkickCloseBtn",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(_i.prototype,"memberkickDefine",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i(_i.prototype,"memberkickCancel",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(_i.prototype,"edittitleBG",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=i(_i.prototype,"edittitleEditBG",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=i(_i.prototype,"edittitleCloseBtn",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=i(_i.prototype,"edittitleDefine",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=i(_i.prototype,"edittitleCancel",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=i(_i.prototype,"addtitleBG",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=i(_i.prototype,"addtitleEditBG",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=i(_i.prototype,"addtitleCloseBtn",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=i(_i.prototype,"addtitleDefine",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(_i.prototype,"addtitleCancel",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=i(_i.prototype,"quitGuildBG",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=i(_i.prototype,"quitGuildCloseBtn",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=i(_i.prototype,"quitGuildDefine",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=i(_i.prototype,"quitGuildCancel",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=i(_i.prototype,"cleanListBtn",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=i(_i.prototype,"aggreBtn",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=i(_i.prototype,"refuseBtn",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=i(_i.prototype,"searchBtn",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=i(_i.prototype,"manageBtn",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=i(_i.prototype,"cancelallanceBtn",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=i(_i.prototype,"cancelfollowBtn",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=i(_i.prototype,"cancelwarBtn",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=i(_i.prototype,"allowAlliance",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=i(_i.prototype,"checkMarkAllowAlliance",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=i(_i.prototype,"allianceBG",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=i(_i.prototype,"allianceCloseBtn",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=i(_i.prototype,"allianceDefine",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=i(_i.prototype,"allianceCancel",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=i(_i.prototype,"searchBG",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=i(_i.prototype,"searchComboboxDown",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=i(_i.prototype,"searchComboboxUp",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=i(_i.prototype,"searchDefine",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=i(_i.prototype,"searchCancel",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=i(_i.prototype,"manageBG",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=i(_i.prototype,"manageCloseBtn",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=i(_i.prototype,"followBtn",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=i(_i.prototype,"warBtn",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=i(_i.prototype,"allianceBtn",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=i(_i.prototype,"unMasterBtn",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=i(_i.prototype,"addUserExBtn",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=i(_i.prototype,"editBtn",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=i(_i.prototype,"saveBtn",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=i(_i.prototype,"cancleBtn",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=i(_i.prototype,"jobZS",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bn=i(_i.prototype,"checkMarkjobZS",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sn=i(_i.prototype,"jobFS",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=i(_i.prototype,"checkMarkjobFS",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gn=i(_i.prototype,"jobDS",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dn=i(_i.prototype,"checkMarkjobDS",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=i(_i.prototype,"gxxFollowBtn",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bn=i(_i.prototype,"gxxAllianceBtn",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=i(_i.prototype,"gxxWarButn",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_n=i(_i.prototype,"addMemberInfoEditBox",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hn=i(_i.prototype,"addMemberLevelEditBox",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rn=i(_i.prototype,"ChangeMasterBtn",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wn=i(_i.prototype,"memberInfoClose",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=i(_i.prototype,"gxxSetTitle",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ln=i(_i.prototype,"gxxRemoveBtn",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=_i))||mi)||mi));r._RF.pop()}}}));

System.register("chunks:///_virtual/GuildWorldWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./UIcontrol.ts","./Sendmessage.ts","./List.ts","./GuideWorldItem.ts","./GuildLevelLimitItem.ts"],(function(e){"use strict";var t,i,n,l,o,r,a,s,u,c,d,h,f,m,b,g,p,v,L,N,y,C,I,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Node,s=e.EditBox,u=e.Prefab,c=e.Label,d=e.Toggle,h=e.Color,f=e.color,m=e.instantiate,b=e.Component},function(e){g=e.EventMgr},function(e){p=e.Config},function(e){v=e.default},function(e){L=e.GuildListData},function(e){N=e.uiControl},function(e){y=e.sendmessage},function(e){C=e.default},function(e){I=e.default},function(e){w=e.default}],execute:function(){var _,G,k,E,D,z,W,O,U,A,J,S,T,P,x,R,M,F,H,B,j,V,Z,q,K,Q,X,Y,$,ee,te,ie,ne,le,oe,re,ae,se,ue,ce,de,he;o._RF.push({},"19d2bFNyaJLIrVZSve2jbsR","GuildWorldWin",void 0);var fe=r.ccclass,me=r.property,be=r.menu;e("default",(_=fe("GuildWorldWin"),G=be("弹窗模块/GuildWorldWin"),k=me(a),E=me(s),D=me(s),z=me(a),W=me(u),O=me(a),U=me(a),A=me(c),J=me(c),S=me(c),T=me(d),P=me(d),x=me(c),R=me(C),M=me(a),F=me(c),H=me(c),B=me(c),j=me(c),_(V=G((q=t((Z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"createNode",q,l(t)),n(t,"guildNameEdit",K,l(t)),n(t,"guildNotice",Q,l(t)),n(t,"levelLimitContentNode",X,l(t)),n(t,"levelLimitPrefab",Y,l(t)),n(t,"levelLimitUpNode",$,l(t)),n(t,"levelLimitDownNode",ee,l(t)),n(t,"levelLimit",te,l(t)),n(t,"caratItemLabel",ie,l(t)),n(t,"creatGoldLabel",ne,l(t)),n(t,"checkAutoAgree",le,l(t)),n(t,"onlyOl",oe,l(t)),n(t,"onlineLabel",re,l(t)),n(t,"list",ae,l(t)),n(t,"infoNode",se,l(t)),n(t,"detailName",ue,l(t)),n(t,"detailNotice",ce,l(t)),n(t,"detailJob",de,l(t)),n(t,"detailLevle",he,l(t)),t.levelItems=[],t.level_limit_index=0,t.guild_data=[],t.creatGold=1e4,t.creatItem="",t}i(t,e);var o=t.prototype;return o.start=function(){p.MainScene.openWordlGuild=!0,this.initMgr(),this.onlyOl.isChecked=!1,this.UpdateWorld()},o.initMgr=function(){g.addEventListener(v.UPDATE_WORLD_LIST,this.UpdateWorld,this),g.addEventListener(v.UPDATE_CREATGUILD,this.updateCreate,this),g.addEventListener(v.SHOW_GUILD_INFO,this.showInfo,this)},o.onClickOnlineToggle=function(){var e=this;console.log("this.onlyOl.isChecked=",this.onlyOl.isChecked),this.scheduleOnce((function(){console.log("this.onlyOl.isChecked=",e.onlyOl.isChecked),e.onlyOl.isChecked?e.onlineLabel.color=h.GREEN:e.onlineLabel.color=f("#AAA59F"),e.UpdateWorld()}),.01)},o.UpdateWorld=function(){this.guild_data=[];for(var e=p.G_Guald_HangHui_World_List,t=0;t<e.length;t++){var i=e[t].split(":");if(!this.onlyOl.isChecked||0!=i[7]){var n=new L;n.guildName=i[0],n.memberNum=i[1],n.memberMaxNum=i[2],this.guild_data.push(n)}}e=null,this.list.numItems=this.guild_data.length},o.RenderItemHandler=function(e,t){var i=this.guild_data[t];i&&e.getComponent(I).initData(i)},o.updateCreate=function(e){if(e&&-1!=e.indexOf("|")){e=e.split("|"),this.creatGold=parseInt(e[0]),this.creatItem=e[1],this.creatGoldLabel.string="金币："+this.creatGold,this.caratItemLabel.string=this.creatItem;var t=0,i=p.g_BagItemsList;console.log("bagItems=",i);for(var n=0;n<i.length;n++)if(null!=i[n]&&i[n].s.Name==this.creatItem){t+=1;break}i=null,this.caratItemLabel.string=t.toString()}},o.onClickCreateGuild=function(){this.createNode.active=!this.createNode.active,this.createNode.active&&(this.guildNameEdit.string="",this.guildNotice.string="",y.sendOpenGuildNewCreate());for(var e=0;e<5;e++){var t=m(this.levelLimitPrefab),i=t.getComponent(w);i.initData(40+20*e+"级以上"),i.index=e,this.levelItems.push(i),i.onItemClick=this.onLevelLimitItemClicked.bind(this),this.levelLimitContentNode.addChild(t)}},o.onLevelLimitItemClicked=function(e){var t=this;this.levelItems.forEach((function(i,n){if(n==e){t.level_limit_index=n;var l=i.getLevelLimit();t.levelLimit.string=l,t.levelLimitDownNode.active=!0,t.levelLimitUpNode.active=!1}}))},o.onClickCloseCreateGuide=function(){this.createNode.active=!1},o.closeView=function(){this.node.destroy()},o.onClickUp=function(){this.levelLimitDownNode.active=!0,this.levelLimitUpNode.active=!1},o.onClickDowm=function(){this.levelLimitDownNode.active=!1,this.levelLimitUpNode.active=!0},o.onCreateGuild=function(){if(""==this.guildNameEdit.string)console.log("行会名不能为空！"),N.handlerAlert({type:1,content:"行会名不能为空！"});else if("0"==this.caratItemLabel.string)console.log("所需物品不足！"),N.handlerAlert({type:1,content:"所需物品不足！"});else if(p.g_GameCionNum.value<this.creatGold)console.log("所需金币不足！"),N.handlerAlert({type:1,content:"所需金币不足！"});else{var e=this.checkAutoAgree.isChecked?1:0,t=40+20*this.level_limit_index,i=this.guildNameEdit.string+""+this.guildNotice.string;y.sendGuildNewCreate(e,t,i),this.createNode.active=!1,this.guildNameEdit.string="",this.guildNotice.string="",this.level_limit_index=-1}},o.showInfo=function(e){var t=e[0],i=e[1],n=e[2];switch(this.infoNode.active=!0,this.detailName.string=t[0],this.detailNotice.string=t[1],i){case 0:this.detailJob.string="";break;case 1:this.detailJob.string="战士";break;case 2:this.detailJob.string="法师";break;case 3:this.detailJob.string="战士   法师";break;case 4:this.detailJob.string="道士";break;case 5:this.detailJob.string="战士   道士";break;case 6:this.detailJob.string="法师   道士";break;case 7:this.detailJob.string="战士   法师    道士"}this.detailLevle.string=n.toString()},o.closeInfo=function(){this.infoNode.active=!1},o.onClickJoin=function(){y.NewGuildOpt(this.detailName.string),this.infoNode.active=!1},o.onDestroy=function(){p.MainScene.openWordlGuild=!1,g.removeEventListener(v.UPDATE_WORLD_LIST,this.UpdateWorld,this),g.removeEventListener(v.UPDATE_CREATGUILD,this.updateCreate,this),g.removeEventListener(v.SHOW_GUILD_INFO,this.showInfo,this)},t}(b)).prototype,"createNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(Z.prototype,"guildNameEdit",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(Z.prototype,"guildNotice",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Z.prototype,"levelLimitContentNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(Z.prototype,"levelLimitPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Z.prototype,"levelLimitUpNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Z.prototype,"levelLimitDownNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Z.prototype,"levelLimit",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Z.prototype,"caratItemLabel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Z.prototype,"creatGoldLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Z.prototype,"checkAutoAgree",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Z.prototype,"onlyOl",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Z.prototype,"onlineLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Z.prototype,"list",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Z.prototype,"infoNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Z.prototype,"detailName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Z.prototype,"detailNotice",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(Z.prototype,"detailJob",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Z.prototype,"detailLevle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Z))||V)||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/GuildWorldWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var i,n,t,o,l,r,a,u,c,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.Sprite,u=e.Toggle,c=e.Component},function(e){p=e.GameUtil}],execute:function(){var s,b,g,f,d,h,B,m,y,R,_,w,G,z,L,S,W,k,x,C,E,M,v,J,O,j,A,T,D,P,F,H,I,U;l._RF.push({},"39127361oVPApKoHWd8fucy","GuildWorldWinSprite",void 0);var K=r.ccclass,V=r.property,q=r.menu;e("default",(s=K("GuildWorldWinSprite"),b=q("图片模块/GuildWorldWinSprite"),g=V(a),f=V(a),d=V(a),h=V(u),B=V(a),m=V(a),y=V(a),R=V(a),_=V(a),w=V(a),G=V(u),z=V(a),L=V(a),S=V(a),W=V(a),s(k=b((C=i((x=function(e){function i(){for(var i,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,t(i,"guildWinCloseBtn",C,o(i)),t(i,"infoBG",E,o(i)),t(i,"createBtn",M,o(i)),t(i,"toggleOnline",v,o(i)),t(i,"checkMarkOnline",J,o(i)),t(i,"infoEditBG",O,o(i)),t(i,"infoEditCloseBtn",j,o(i)),t(i,"combobox_up",A,o(i)),t(i,"combobox_down",T,o(i)),t(i,"CreatGuildBtn",D,o(i)),t(i,"toggleEditJoin",P,o(i)),t(i,"checkMarkEditJoin",F,o(i)),t(i,"infoBg",H,o(i)),t(i,"joinBtn",I,o(i)),t(i,"infoClose",U,o(i)),i}return n(i,e),i.prototype.start=function(){p.loadResLocal("public/btn_close_new.png",this.guildWinCloseBtn),p.loadResLocal("GuildWin/bg_hanghuilist.png",this.infoBG),p.loadResLocal("SplitResource/Btns/btn_creathanghui.png",this.createBtn),p.loadResLocal("GuildWin/bg_creatguild.png",this.infoEditBG),p.loadResLocal("public/btn_close_new.png",this.infoEditCloseBtn),p.loadResLocal("SplitResource/Btns/combobox (3).png",this.combobox_up),p.loadResLocal("SplitResource/Btns/combobox (2).png",this.combobox_down),p.loadResLocal("SplitResource/Btns/btn_creathanghui.png",this.CreatGuildBtn),p.loadResLocalToggle("SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png",this.toggleEditJoin,this.checkMarkEditJoin),p.loadResLocalToggle("SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png",this.toggleOnline,this.checkMarkOnline),p.loadResLocal("public/btn_close_new.png",this.infoClose),p.loadResLocalAtlasIMG("data/newopui1/001431.plist",this.infoBg,"001432"),p.loadResLocal("SplitResource/Btns/applyAdd.png",this.joinBtn)},i}(c)).prototype,"guildWinCloseBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(x.prototype,"infoBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(x.prototype,"createBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(x.prototype,"toggleOnline",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(x.prototype,"checkMarkOnline",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(x.prototype,"infoEditBG",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(x.prototype,"infoEditCloseBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(x.prototype,"combobox_up",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(x.prototype,"combobox_down",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(x.prototype,"CreatGuildBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(x.prototype,"toggleEditJoin",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(x.prototype,"checkMarkEditJoin",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(x.prototype,"infoBg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(x.prototype,"joinBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(x.prototype,"infoClose",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=x))||k)||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/gxxLogin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Https.ts","./UIcontrol.ts","./Config.ts","./GameUtil.ts","./ResourcesMgr.ts","./LoginScene.ts","./ServerDataHandle.ts"],(function(n){"use strict";var e,t,o,i,g,a,r,s,c,l,u,p,d,h,x,L,m,f,b,C,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){g=n.cclegacy,a=n._decorator,r=n.Node,s=n.EditBox,c=n.Label,l=n.ToggleContainer,u=n.Sprite,p=n.sys,d=n.director,h=n.Component},function(n){x=n.https},function(n){L=n.uiControl},function(n){m=n.Config},function(n){f=n.GameUtil},function(n){b=n.resourcesMgr},function(n){C=n.LoginScene},function(n){y=n.serverDataHandle}],execute:function(){var N,v,w,S,B,R,D,A,P,T,z,_,U,k,I,F,H,q,G,E,M,O,j,K,W,Y,J;g._RF.push({},"c3aeaOO3/BED5HHfF6OY0K0","gxxLogin",void 0);var Q=a.ccclass,V=a.property;n("gxxLogin",(N=Q("gxxLogin"),v=V(r),w=V(r),S=V(s),B=V(s),R=V(s),D=V(s),A=V(c),P=V(c),T=V(r),z=V(r),_=V(r),U=V(l),N((F=e((I=function(n){function e(){for(var e,t=arguments.length,g=new Array(t),a=0;a<t;a++)g[a]=arguments[a];return e=n.call.apply(n,[this].concat(g))||this,o(e,"accountLoginNode",F,i(e)),o(e,"codeLoginNode",H,i(e)),o(e,"phoneNum",q,i(e)),o(e,"phoneCode",G,i(e)),o(e,"account",E,i(e)),o(e,"passward",M,i(e)),o(e,"autoAccout",O,i(e)),o(e,"autoPassward",j,i(e)),o(e,"sendCode",K,i(e)),o(e,"countDown",W,i(e)),o(e,"autoRegister",Y,i(e)),o(e,"tNode",J,i(e)),e.forgetPwdUrl="http://uc.gxxm2.com/m/findPassword.html",e.registerUrl="http://uc.gxxm2.com/m/register.html",e}t(e,n);var g=e.prototype;return g.start=function(){},g.init=function(){var n=this.accountLoginNode.getComponent(u),e=this.codeLoginNode.getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/bg/accountLoginBg.png",n),f.loadResLocal("LoginScene/gxx/gxxLogin/bg/phoneLoginBg.png",e);var t=this.codeLoginNode.getChildByName("btnNode").getChildByName("loginBtn").getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/btn/loginBtn.png",t);var o=this.accountLoginNode.getChildByName("btnNode-001").getChildByName("loginBtn").getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/btn/loginBtn.png",o);var i=this.accountLoginNode.getChildByName("btnNode-001").getChildByName("autoRegisterBtn").getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/btn/autoRegisterBtn.png",i);var g=this.autoRegister.getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/bg/regResultBg.png",g);var a=this.autoRegister.getChildByName("btnNode").getChildByName("ennterBtn").getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/btn/enterBtn.png",a);var r=this.autoRegister.getChildByName("btnNode").getChildByName("copyBtn").getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/btn/copyBtn.png",r);var s=this.node.getChildByName("accountLogin").getChildByName("regType").getChildByName("ToggleGroup"),c=s.getChildByName("Toggle1").getComponent(u),l=s.getChildByName("Toggle1").getChildByName("Checkmark").getComponent(u),p=s.getChildByName("Toggle2").getComponent(u),d=s.getChildByName("Toggle2").getChildByName("Checkmark").getComponent(u);f.loadResLocal("LoginScene/gxx/gxxLogin/btn/phonedisable.png",c),f.loadResLocal("LoginScene/gxx/gxxLogin/btn/phone.png",l),f.loadResLocal("LoginScene/gxx/gxxLogin/btn/accountdisable.png",p),f.loadResLocal("LoginScene/gxx/gxxLogin/btn/accont.png",d);var h=this.accountLoginNode.parent.getChildByName("closeBtn").getComponent(u);f.loadResLocal("LoginScene/gxx/gxxServerList/closeBg.png",h),this.localLoginData()},g.localLoginData=function(){var n=f.getSaveData("username"),e=f.getSaveData("userpsw"),t=f.getSaveData("phoneNum");n&&e?(this.loginTypeSwitch(null,1),this.account.string=n,this.passward.string=e):t?(this.loginTypeSwitch(null,0),this.phoneNum.string=t):(this.account.string="",this.passward.string="",this.phoneNum.string="",this.phoneCode.string="",this.loginTypeSwitch(null,0))},g.requestCode=function(){var n=this;x.requestCellPhoneCode(this.phoneNum.string,(function(e){e&&(L.handlerAlert({type:3,content:"发送成功！"}),n.cntDownFuc(),x.codeToken=e.token)}))},g.cntDownFuc=function(){var n=this;this.sendCode.active=!1,this.countDown.active=!0;var e=59;this.countDown.getComponent(c).string=e+"秒后重试";this.schedule((function t(){--e<0&&(n.sendCode.active=!0,n.countDown.active=!1,n.unschedule(t)),n.countDown.getComponent(c).string=e+"秒后重试"}),1)},g.codeLogin=function(){var n=this,e=!1,t="";(""==this.phoneNum.string||this.phoneNum.string.length<11)&&(e=!0,t="请输入正确的手机号"),""==this.phoneCode.string&&(e=!0,t="请输入正确的验证码"),e?L.handlerAlert({type:1,content:t}):x.sendPhoneCode(this.phoneNum.string,this.phoneCode.string,(function(e){e&&(x.uid=e.uid,x.sid=e.sid,f.setSaveData("phoneNum",n.phoneNum.string),n.finishLogin())}))},g.passwardLogin=function(){var n=this,e=!1,t="";""==this.account.string&&(e=!0,t="请输入正确的账号"),""==this.passward.string&&(e=!0,t="请输入正确的密码"),e?L.handlerAlert({type:1,content:t}):x.sendPasswardLogin(this.account.string,this.passward.string,(function(e){e&&(x.uid=e.uid,x.sid=e.sid,m.g_relogname=n.account.string,m.g_relogpsw=n.passward.string,f.setSaveData("username",m.g_relogname),f.setSaveData("userpsw",m.g_relogpsw),n.finishLogin())}))},g.autoRegisterBtn=function(){var n=this;x.requestAutoAccount((function(e){e&&(n.autoAccout.string=e.un,n.autoPassward.string=e.pw,n.autoRegister.active=!0)}))},g.loginFromAutoLogin=function(){var n=this;x.sendPasswardLogin(this.autoAccout.string,this.autoPassward.string,(function(e){e&&(x.uid=e.uid,x.sid=e.sid,m.g_relogname=n.account.string,m.g_relogpsw=n.passward.string,f.setSaveData("username",m.g_relogname),f.setSaveData("userpsw",m.g_relogpsw),n.finishLogin())}))},g.copyAccountPwd=function(){var n="账号："+this.autoAccout.string+"  密码："+this.autoPassward.string,e="";e=f.copyTextToClipboard(n)?"复制成功":"复制失败",L.handlerAlert({type:1,content:e})},g.forgetPwdBtn=function(){p.openURL(this.forgetPwdUrl)},g.registerBtn=function(){p.openURL(this.registerUrl)},g.loginTypeSwitch=function(n,e){this.tNode.toggleItems[e].isChecked=!0,0==e?(this.codeLoginNode.active=!0,this.accountLoginNode.active=!1):1==e&&(this.codeLoginNode.active=!1,this.accountLoginNode.active=!0)},g.finishLogin=function(){var n=this;x.requestServerList((function(e){if(e)if(e.zoneAndSubAccountItems&&0!=e.zoneAndSubAccountItems.length){x.tempServerList=e;for(var t=e.zoneAndSubAccountItems,o={},i=[],g=0;g<t.length;g++)if(t[g].accounts.length>0)for(var a=0;a<t[g].accounts.length;a++)if(t[g].accounts[a].lastLoginTime>0){i.push(t[g].accounts[a].lastLoginTime);var r={displayName:t[g].gameDisplayName,gid:t[g].gameID,ga:t[g].accounts[a].accountName,url:"http://"+t[g].loginSrvIP+":"+t[g].loginSrvPort};o[t[g].accounts[a].lastLoginTime]=r}if(i.length>0){var s=o[i.sort((function(n,e){return n-e}))[i.length-1]];x.gid=s.gid,x.ga=s.ga,x.loginUrl=s.url,n.node.parent.getComponent(C).last_name.string=s.displayName,y.requestGameConfigWEB()}else n.node.parent.getComponent(C).clickChangeServer(),n.node.parent.getComponent(C).last_name.string="点击选择区服"}else L.handlerAlert({type:1,content:"暂时未开放任何区服"})})),this.node.active=!1},g.onCloseBtn=function(){d.loadScene("LoginScene")},g.onDestroy=function(){b.resClean(["LoginScene/gxx/gxxLogin/bg/accountLoginBg.png","LoginScene/gxx/gxxLogin/bg/phoneLoginBg.png","LoginScene/gxx/gxxLogin/btn/loginBtn.png","LoginScene/gxx/gxxLogin/btn/autoRegisterBtn.png","LoginScene/gxx/gxxLogin/bg/regResultBg.png","LoginScene/gxx/gxxLogin/btn/enterBtn.png","LoginScene/gxx/gxxLogin/btn/copyBtn.png","LoginScene/gxx/gxxLogin/btn/phonedisable.png","LoginScene/gxx/gxxLogin/btn/phone.png","LoginScene/gxx/gxxLogin/btn/accountdisable.png","LoginScene/gxx/gxxLogin/btn/accont.png"])},e}(h)).prototype,"accountLoginNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(I.prototype,"codeLoginNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(I.prototype,"phoneNum",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(I.prototype,"phoneCode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(I.prototype,"account",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"passward",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(I.prototype,"autoAccout",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(I.prototype,"autoPassward",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(I.prototype,"sendCode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(I.prototype,"countDown",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(I.prototype,"autoRegister",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(I.prototype,"tNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=I))||k));g._RF.pop()}}}));

System.register("chunks:///_virtual/gxxLoginServerList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Https.ts","./ServerListItem.ts"],(function(e){"use strict";var t,n,o,r,i,l,u,c,s,a,p,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,u=e.Prefab,c=e.ScrollView,s=e.Node,a=e.instantiate,p=e.Component},function(e){f=e.https},function(e){g=e.ServerListItem}],execute:function(){var h,m,b,d,v,z,I,S,y,L,w,C,x,A,D,N,_;i._RF.push({},"a15b3dCv9JEXYhHUj1Leuzd","gxxLoginServerList",void 0);var H=l.ccclass,P=l.property;e("gxxLoginServerList",(h=H("gxxLoginServerList"),m=P(u),b=P(u),d=P(c),v=P(c),z=P(s),I=P(c),S=P(u),h((w=t((L=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"zoneItem",w,r(t)),o(t,"serverItem",C,r(t)),o(t,"zoneScroll",x,r(t)),o(t,"serverScroll",A,r(t)),o(t,"accoountChooseNode",D,r(t)),o(t,"accoountsScroll",N,r(t)),o(t,"accountItem",_,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){var e=this;f.requestServerList((function(t){t&&e.init(t)}))},i.init=function(e){for(var t={},n=0;n<e.groupItems.length;n++){t[e.groupItems[n].id]=[];for(var o=0;o<e.zoneAndSubAccountItems.length;o++)e.groupItems[n].id==e.zoneAndSubAccountItems[o].groupID&&t[e.groupItems[n].id].push(e.zoneAndSubAccountItems[o])}this.showZoneList(e.groupItems,t)},i.showZoneList=function(e,t){for(var n=0;n<e.length;n++){var o=a(this.zoneItem);this.zoneScroll.content.addChild(o),o.zoneId=e[n].id,o.getComponent(g).init(e[n],t[e[n].id])}this.zoneScroll.content.children[0].getComponent(g).onBtn()},i.onClose=function(){this.node.destroy()},i.onCloseAccountsChoose=function(){this.accoountChooseNode.active=!1},t}(p)).prototype,"zoneItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(L.prototype,"serverItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(L.prototype,"zoneScroll",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(L.prototype,"serverScroll",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(L.prototype,"accoountChooseNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(L.prototype,"accoountsScroll",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(L.prototype,"accountItem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/HeroAttrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,n,i,a,o,u,c;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.Label,c=t.Component}],execute:function(){var l,s,p,f,m,y,h,b;a._RF.push({},"fd503sfDz5IW6d0e66pz7LU","HeroAttrItem",void 0);var d=o.ccclass,g=o.property,v=o.menu;t("default",(l=d("HeroAttrItem"),s=v("实例模块/HeroAttrItem"),p=g(u),f=g(u),l(m=s((h=r((y=function(t){function r(){for(var r,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a))||this,n(r,"attrName",h,i(r)),n(r,"attrData",b,i(r)),r}e(r,t);var a=r.prototype;return a.start=function(){},a.init=function(t,r){t&&(this.attrName.string=t),r&&(this.attrData.string=r)},r}(c)).prototype,"attrName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(y.prototype,"attrData",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m)||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/HeroBagWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./ResourcesMgr.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,o,r,s,a,l,c,g,u,m,p,f,d,h,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,l=e.Sprite,c=e.Label,g=e.UITransform,u=e.Component},function(e){m=e.EventMgr},function(e){p=e.Config},function(e){f=e.resourcesMgr},function(e){d=e.Sendmessage},function(e){h=e.default},function(e){B=e.GameUtil}],execute:function(){var _,I,S,b,v,w,H,y,L,C,R,M,W,k,x;r._RF.push({},"74c88r87hBHxLSqdhgc5wdt","HeroBagWin",void 0);var N=s.ccclass,D=s.menu,z=s.property,F=e("default",(_=N("HeroBagWin"),I=D("弹窗模块/HeroBagWin"),S=z(a),b=z(h),v=z(l),w=z(l),H=z(l),_(y=I(((x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"ContentNode",C,o(t)),i(t,"ScrollView",R,o(t)),i(t,"BGSprite",M,o(t)),i(t,"closeBtn",W,o(t)),i(t,"refreshBtn",k,o(t)),t.heroWinItems=[],t.index=0,t.isOpenWin=!1,t}n(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance};var r=t.prototype;return r.start=function(){B.loadResLocal("HeroWin/herobag_bg.png",this.BGSprite),B.loadResLocal("public/btn_ok.png",this.refreshBtn),B.loadResLocal("SplitResource/Btns/btn_close.png",this.closeBtn),O.isOpenWin=!0,m.addEventListener("Show_HeroBag_Item_ico",this.HeroBag_Refresh,this),this.ScrollView.numItems=48,d.getInstance().QueryHeroBagItems(),p.g_OpenHeroBag=!0},r.onRankItemClicked=function(e){var t=this;this.heroWinItems.forEach((function(n,i){i==e?(t.index=i,n.setSelected(!0)):n.setSelected(!1)}))},r.HeroBag_Refresh=function(){this.ScrollView&&this.ScrollView.updateAll()},r.itemRender=function(e,t){B.loadResLocal("BagWin/newItemFrame.png",e.getComponent(l));var n=e.getComponent(l),i=t>p.g_HeroBagNum-1,o=i?"resources/BagWin/lock_img.png":"resources/BagWin/img_bag_bg.png";f.handleLoad(o,(function(e){n.spriteFrame=e}));var r=p.g_HeroBagItemsList[t],s=e.getChildByName("itemSprite").getComponent(l),a=e.getChildByName("itemNum").getComponent(c);if(!i&&r&&r.s&&r.s.Looks){var u=B.loadImgData(r.s.Looks,"items");f.resLoad(u.plist,(function(e){var t=e.getSpriteFrames();for(var n in t){var i=t[n];i.name==u.img+".png"&&(s.spriteFrame=i)}(17==r.s.StdMode||18==r.s.StdMode||41==r.s.StdMode||40==r.s.StdMode||42==r.s.StdMode||31==r.s.StdMode&&-1!=r.s.Name.indexOf("经验卷轴"))&&r.s.Reserved>0&&r.Dura>0&&(a.string="x"+(r.Dura+1))}))}else s.spriteFrame=null;e.getComponent(g).anchorX=.5},r.itemClick=function(e,t,n,i){p.g_DrugButNumber=-1,p.g_nBagIdx=t,null!=p.g_HeroBagItemsList[t]?(p.g_OpenIdx=14,p.g_SelectIndex=B.getItemType(p.g_HeroBagItemsList[t].s),p.g_MoveItems.Items=p.g_HeroBagItemsList[t],p.g_MoveItems.Index=-1,B.newShowItemsInf(p.g_MoveItems.Items)):B.newShowItemsClose()},r.closeView=function(){m.removeEventListener("Show_HeroBag_Item_ico",this.HeroBag_Refresh,this),this.node.destroy()},r.onDestroy=function(){O.isOpenWin=!1,p.g_OpenHeroBag=!1},r.onClickRefresh=function(){console.log("onClickRefresh"),d.getInstance().QueryHeroBagItems()},t}(u))._instance=null,C=t((L=x).prototype,"ContentNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"ScrollView",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(L.prototype,"BGSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(L.prototype,"closeBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(L.prototype,"refreshBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y)||y)),O=e("heroBagWin",F.getInstance());r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./ResourcesMgr.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,r,a,l,o,s,g,m,u,h,p,C,c,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Node,s=t.ScrollView,g=t.Sprite,m=t.Label,u=t.Component},function(t){h=t.EventMgr},function(t){p=t.default},function(t){C=t.resourcesMgr},function(t){c=t.Sendmessage},function(t){b=t.default},function(t){d=t.GameUtil}],execute:function(){var y,_,f,B,N,A,v,M,H,x,L,D,S,w,k,z,E,R,T;a._RF.push({},"1c08avq6ZxBM4L3gFZBYqYG","HeroDetails",void 0);var q=l.ccclass,W=l.property;t("HeroDetails",(y=q("HeroDetails"),_=W(o),f=W(o),B=W(o),N=W(o),A=W(o),v=W(s),M=W(o),H=W(b),y((D=e((L=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"sp_hero",D,r(e)),n(e,"lab_name",S,r(e)),n(e,"sp_quality",w,r(e)),n(e,"lab_num",k,r(e)),n(e,"lab_status",z,r(e)),n(e,"scroll_heroAttri",E,r(e)),n(e,"attri",R,r(e)),n(e,"list_skill",T,r(e)),e._skillList=[],e}i(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){},a.updateView=function(t){this.registeEvents(),this.node.active=!0,c.getInstance().sendHeroArmyAttr(t.hero.aid),this.sp_hero.getChildByName("Sprite").getComponent(g).spriteFrame=t.appr,this.lab_name.getComponent(m).string=t.hero.name,this.sp_quality.getChildByName("Label").getComponent(m).string=d.calculateHeroQuality(t.hero.quality)},a.renderItemSkillHandle=function(t,e){var i=this._skillList[e];C.resLoad(d.formatData(i),(function(e){t.getChildByName("Sprite").getComponent(g).spriteFrame=e,t.getChildByName("Label").getComponent(m).string=i.Def.sMagicName}))},a.evtMgrArmyAttrHandle=function(t){if(this.node.active)if(this._skillList=t.skillArr,this.list_skill.numItems=this._skillList.length,t.attri){this.scroll_heroAttri.scrollToTop();var e=t.attri;this.attri.getChildByName("lab_name").getComponent(m).string="名称:    "+e.name,this.attri.getChildByName("lab_job").getComponent(m).string="职业:    "+d.returnJobHandle(e.job),this.attri.getChildByName("lab_level").getComponent(m).string="等级:    "+e.level,this.attri.getChildByName("lab_MaxHP").getComponent(m).string="生命:    "+e.maxHP,this.attri.getChildByName("lab_DC").getComponent(m).string="攻击:    "+e.DC+"-"+e.maxDC,this.attri.getChildByName("lab_MC").getComponent(m).string="魔法:    "+e.MC+"-"+e.maxMC,this.attri.getChildByName("lab_SC").getComponent(m).string="道术:    "+e.SC+"-"+e.maxSC,this.attri.getChildByName("lab_MaxHandWeight").getComponent(m).string="腕力:    "+e.maxHandWeight,this.attri.getChildByName("lab_MaxWeight").getComponent(m).string="负重:    "+e.maxWeight,this.attri.getChildByName("lab_AC").getComponent(m).string="物防:    "+e.AC+"-"+e.maxAC,this.attri.getChildByName("lab_MAC").getComponent(m).string="魔防:    "+e.MAC+"-"+e.maxMAC}else this.resetHeroAttri()},a.resetHeroAttri=function(){this.attri.getChildByName("lab_name").getComponent(m).string="名称:    ",this.attri.getChildByName("lab_job").getComponent(m).string="职业:    ",this.attri.getChildByName("lab_level").getComponent(m).string="等级:    ",this.attri.getChildByName("lab_MaxHP").getComponent(m).string="生命:    ",this.attri.getChildByName("lab_DC").getComponent(m).string="攻击:    ",this.attri.getChildByName("lab_MC").getComponent(m).string="魔法:    ",this.attri.getChildByName("lab_SC").getComponent(m).string="道术:    ",this.attri.getChildByName("lab_MaxHandWeight").getComponent(m).string="腕力:    ",this.attri.getChildByName("lab_MaxWeight").getComponent(m).string="负重:    ",this.attri.getChildByName("lab_AC").getComponent(m).string="物防:    ",this.attri.getChildByName("lab_MAC").getComponent(m).string="魔防:    "},a.registeEvents=function(){h.addEventListener(p.ARMY_ATTR,this.evtMgrArmyAttrHandle,this)},a.unRegisteEvents=function(){h.addEventListener(p.ARMY_ATTR,this.evtMgrArmyAttrHandle,this)},e}(u)).prototype,"sp_hero",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"lab_name",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(L.prototype,"sp_quality",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(L.prototype,"lab_num",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(L.prototype,"lab_status",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(L.prototype,"scroll_heroAttri",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(L.prototype,"attri",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(L.prototype,"list_skill",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=L))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/HeroEquipView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts","./HumEquipItem.ts","./ScreenWin.ts"],(function(e){"use strict";var t,i,n,r,a,o,s,u,l,m,p,c,h,f,I,g,S,d,E,b,H,_,v,w,y,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Sprite,u=e.Node,l=e.Prefab,m=e.Label,p=e.instantiate,c=e.resources,h=e.SpriteFrame,f=e.Component},function(e){I=e.EventMgr},function(e){g=e.Config},function(e){S=e.default},function(e){d=e.SHOW_SCREEN_TYPE,E=e.EquipData},function(e){b=e.Animationmodule},function(e){H=e.resourcesMgr},function(e){_=e.sendmessage},function(e){v=e.GameApi},function(e){w=e.GameUtil},function(e){y=e.default},function(e){D=e.default}],execute:function(){var q,M,P,L,N,x,U,W,k,T,C,A,z,F,O,R,G,V,B,Q,Z,j,Y,J;a._RF.push({},"f5c097hWIxOZZuVMQbzNQV2","HeroEquipView",void 0);var K=o.ccclass,X=o.property,$=o.menu;e("default",(q=K("HeroEquipView"),M=$("弹窗模块/HeroEquipView"),P=X(s),L=X(s),N=X(s),x=X(s),U=X(s),W=X(s),k=X(u),T=X(l),C=X(l),A=X(m),q(z=M((O=t((F=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"hum_img",O,r(t)),n(t,"weaponSprite",R,r(t)),n(t,"shieldSprite",G,r(t)),n(t,"clothesSprite",V,r(t)),n(t,"hairSprite",B,r(t)),n(t,"hatSprite",Q,r(t)),n(t,"equipItems",Z,r(t)),n(t,"itemPrefab",j,r(t)),n(t,"screenPrefab",Y,r(t)),n(t,"equipScore",J,r(t)),t.HeroItems=[],t.weaponData=null,t.clothesData=null,t.shieldData=null,t.hatData=null,t.clickTime=0,t}i(t,e);var a=t.prototype;return a.start=function(){this.initEquipData()},a.initEquipData=function(){var e=0;console.log("Config.g_HeroItemList=",g.g_HeroItemList),g.g_HeroItemList.forEach((function(t,i){null!=t&&(e+=v.getItemScore(t))})),this.equipScore&&(this.equipScore.string="装备评分："+e),this.HeroItems=g.g_HeroItemList,this.initPart(this.clothesSprite.node,g.U_DRESS),this.initPart(this.weaponSprite.node,g.U_WEAPON),this.initPart(this.shieldSprite.node,g.U_SHIELD),this.initPart(this.hatSprite.node,g.U_HELMET);for(var t=0;t<this.equipItems.length;t++){var i=Number(this.equipItems[t].name);if(null!=this.HeroItems[i]&&this.HeroItems[i].MakeIndex>0)this.initItems(this.equipItems[t],i);else{this.equipItems[t].removeAllChildren();var n=new E,r=p(this.itemPrefab),a=r.getComponent(y);n.type=Number(this.equipItems[t].name),n.win_type=15,a.initNewData(n,!1),this.equipItems[t].addChild(r)}}null!=g.ItemHeard&&g.ItemHeard,this.hatSprite.node.active=!1},a.initItems=function(e,t){var i=this.HeroItems[t].s.Looks;w.loadImageEx(i,e,!1,t,"stateitem",this,!1,15),w.showItemeffectEx(this,e,this.HeroItems[t])},a.initPart=function(e,t){if(e.getComponent(s).spriteFrame=null,null!=this.HeroItems[t]&&this.HeroItems[t].MakeIndex>0){var i=this.HeroItems[t].s.Looks;t==g.U_WEAPON||t==g.U_DRESS||t==g.U_HELMET?(this.HeroItems[t].tag=t,w.loadImageEx(i,e,!0,t,"stateitem",this,!1),w.showItemeffectEx(this,e.parent,this.HeroItems[t],!0,t)):t==g.U_SHIELD||t==g.U_HELMET?(w.loadImageEx(i,e,!0,t,"stateitem",this,!1),w.showItemeffectEx(this,e.parent,this.HeroItems[t],!0,t)):(w.loadImageEx(i,e,!1,t,"stateitem",this,!1),w.showItemeffectEx(this,e.parent,this.HeroItems[t]))}else{var n=b.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&b.removeAni(n);var r=this.getShowDuraHumNode(t);if(r){var a=b.getAni(r,"equip");a&&b.removeAni(a)}}},a.getShowDuraHumNode=function(e){var t=null;switch(e){case g.U_WEAPON:t=this.weaponSprite.node.parent;break;case g.U_DRESS:t=this.clothesSprite.node.parent;break;case g.U_HELMET:t=this.hatSprite.node.parent;break;case g.U_SHIELD:t=this.shieldSprite.node.parent}return t},a.onClickItems=function(e){var t=this,i=Number(e.target._name);this.clickTime++,setTimeout((function(){1==t.clickTime?(console.log("单击"),g.g_SelectIndex=i,t.HeroItems[i]?t.HeroItems[i].MakeIndex>0&&(g.g_MoveItems.Items=t.HeroItems[i],g.g_MoveItems.Index=i,g.g_OpenIdx=15,I.raiseEvent(S.OPEN_NEW_ITEM_INFO,[t.HeroItems[i]])):t.openScreenWin(i)):2==t.clickTime&&g.g_UserItemList[i]&&(console.log("双击"),g.g_WaitItems.Items=g.g_UserItemList[i],g.g_WaitItems.Index=i,_.TakeOffItem(g.g_WaitItems.Items,g.g_WaitItems.Index)),t.clickTime=0}),200)},a.openScreenWin=function(e){if(g.MainScene.openScreen)I.raiseEvent(S.UPDATE_SCREENWIN_ITEMS,[e,d.HERO]);else{var t=p(this.screenPrefab);t.getComponent(D).SearchItems(e,d.HERO),g.MainScene.openWindow(t)}},a.setBodySprite=function(e,t){var i=this,n=0==e?"HumWin/00376-1/spriteFrame":"HumWin/00377-1/spriteFrame";c.load(n,h,(function(e,t){i.hum_img&&t&&(i.hum_img.getComponent(s).spriteFrame=t)}));var r=w.getNeiGuanHairResNum(t,e),a=w.loadImgData(r,"prguse");H.resLoad(a.plist,(function(e){e&&i.hairSprite&&e.getSpriteFrame(a.img)&&(i.hairSprite.getComponent(s).spriteFrame=e.getSpriteFrame(a.img))}))},t}(f)).prototype,"hum_img",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(F.prototype,"weaponSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"shieldSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(F.prototype,"clothesSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(F.prototype,"hairSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"hatSprite",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"equipItems",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(F.prototype,"itemPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"screenPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"equipScore",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=F))||z)||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/HeroFashionView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./Sendmessage.ts","./GameUtil.ts","./HumEquipItem.ts","./ScreenWin.ts"],(function(e){"use strict";var t,i,n,r,o,s,a,u,l,m,c,h,p,f,I,g,S,E,d,H,b,_,v,w,x,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Sprite,u=e.Node,l=e.Prefab,m=e.Label,c=e.Toggle,h=e.Color,p=e.instantiate,f=e.resources,I=e.SpriteFrame,g=e.Component},function(e){S=e.EventMgr},function(e){E=e.Config},function(e){d=e.default},function(e){H=e.SHOW_SCREEN_TYPE,b=e.EquipData},function(e){_=e.Animationmodule},function(e){v=e.sendmessage},function(e){w=e.GameUtil},function(e){x=e.default},function(e){k=e.default}],execute:function(){var F,T,C,N,W,y,L,O,P,A,M,U,q,D,R,z,B,G,V,Y,j,J;o._RF.push({},"44048vQRfFJyZB0xToFsnxi","HeroFashionView",void 0);var Q=s.ccclass,Z=s.property,K=s.menu;e("default",(F=Q("HeroFashionView"),T=K("弹窗模块/HeroFashionView"),C=Z(a),N=Z(a),W=Z(a),y=Z(u),L=Z(l),O=Z(m),P=Z(c),A=Z(a),M=Z(l),F(U=T((D=t((q=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"weaponSprite",D,r(t)),n(t,"clothesSprite",R,r(t)),n(t,"hatSprite",z,r(t)),n(t,"equipItems",B,r(t)),n(t,"itemPrefab",G,r(t)),n(t,"fashionCheckBoxLabel",V,r(t)),n(t,"fashionToggle",Y,r(t)),n(t,"sexSprite",j,r(t)),n(t,"screenPrefab",J,r(t)),t.HeroItems=[],t.humEquipItems=[],t.clickTime=0,t.isStart=!0,t}i(t,e);var o=t.prototype;return o.start=function(){this.initEquipData()},o.setToggle=function(e){var t=this;this.fashionToggle.isChecked=e;var i=this.fashionToggle.isChecked;this.fashionCheckBoxLabel.color=i?h.YELLOW:h.GREEN,this.scheduleOnce((function(){t.isStart=!1}),.1)},o.initEquipData=function(){this.HeroItems=E.g_HeroItemList,console.log("时装"),this.initPart(this.clothesSprite.node,E.U_FASHIONDRESS),this.initPart(this.weaponSprite.node,E.U_FASHIONWEAPON),this.initPart(this.hatSprite.node,E.U_FASHIONHELMET);for(var e=0;e<this.equipItems.length;e++){var t=Number(this.equipItems[e].name);if(null!=this.HeroItems[t]&&this.HeroItems[t].MakeIndex>0)this.initItems(this.equipItems[e],t);else{this.equipItems[e].removeAllChildren();var i=new b,n=p(this.itemPrefab),r=n.getComponent(x);i.type=Number(this.equipItems[e].name),i.win_type=15,r.initNewData(i,!1),this.humEquipItems.push(r),this.equipItems[e].addChild(n)}}},o.initPart=function(e,t){if(e.getComponent(a).spriteFrame=null,null!=this.HeroItems[t]&&this.HeroItems[t].MakeIndex>0){var i=this.HeroItems[t].s.Looks;t==E.U_FASHIONDRESS||t==E.U_FASHIONWEAPON||t==E.U_FASHIONHELMET?(this.HeroItems[t].tag=t,w.loadImageEx(i,e,!0,t,"stateitem",this,!1),w.showItemeffectEx(this,e.parent,this.HeroItems[t],!0,t)):t==E.U_SHIELD||t==E.U_HELMET?(w.loadImageEx(i,e,!0,t,"stateitem",this,!1),w.showItemeffectEx(this,e.parent,this.HeroItems[t],!0,t)):(w.loadImageEx(i,e,!1,t,"stateitem",this,!1),w.showItemeffectEx(this,e.parent,this.HeroItems[t],!0,t))}else{var n=_.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&_.removeAni(n);var r=this.getShowDuraHumNode(t);if(r){var o=_.getAni(r,"equip");o&&_.removeAni(o)}}},o.getShowDuraHumNode=function(e){var t=null;switch(e){case E.U_WEAPON:t=this.weaponSprite.node.parent;break;case E.U_DRESS:t=this.clothesSprite.node.parent;break;case E.U_HELMET:t=this.hatSprite.node.parent}return t},o.initItems=function(e,t){var i=this.HeroItems[t].s.Looks;w.loadImageEx(i,e,!1,t,"stateitem",this,!1,15),w.showItemeffectEx(this,e,this.HeroItems[t])},o.setSexSprite=function(){var e=this,t=this.getHumSkin(0);f.load(t,I,(function(t,i){e.sexSprite.getComponent(a).spriteFrame=i}))},o.onClickWareFashion=function(){if(!this.isStart){var e=this.fashionToggle.isChecked;this.fashionCheckBoxLabel.color=e?h.YELLOW:h.GREEN,this.setSexSprite(),v.showfashion(this.fashionToggle.isChecked,!0)}},o.onClickItems=function(e){var t=this,i=Number(e.target._name);this.clickTime++,setTimeout((function(){1==t.clickTime?(console.log("单击"),E.g_SelectIndex=i,t.HeroItems[i]?t.HeroItems[i].MakeIndex>0&&(E.g_MoveItems.Items=t.HeroItems[i],E.g_MoveItems.Index=i,E.g_OpenIdx=15,S.raiseEvent(d.OPEN_NEW_ITEM_INFO,[t.HeroItems[i]])):t.openScreenWin(i)):2==t.clickTime&&E.g_UserItemList[i]&&(console.log("双击"),E.g_WaitItems.Items=E.g_UserItemList[i],E.g_WaitItems.Index=i,v.TakeOffItem(E.g_WaitItems.Items,E.g_WaitItems.Index)),t.clickTime=0}),200)},o.openScreenWin=function(e){if(E.MainScene.openScreen)S.raiseEvent(d.UPDATE_SCREENWIN_ITEMS,[e,H.HERO]);else{var t=p(this.screenPrefab);t.getComponent(k).SearchItems(e,H.HERO),E.MainScene.openWindow(t)}},o.getHumSkin=function(e){return this.fashionToggle.isChecked?0==e?"HumWin/00376-2/spriteFrame":"HumWin/00377-2/spriteFrame":0==e?"HumWin/00376-1/spriteFrame":"HumWin/00377-1/spriteFrame"},o.setBodySprite=function(e,t){var i=this,n=0==e?"HumWin/00376-1/spriteFrame":"HumWin/00377-1/spriteFrame";f.load(n,I,(function(e,t){i.sexSprite&&(i.sexSprite.getComponent(a).spriteFrame=t)}))},t}(g)).prototype,"weaponSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(q.prototype,"clothesSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(q.prototype,"hatSprite",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(q.prototype,"equipItems",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(q.prototype,"itemPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(q.prototype,"fashionCheckBoxLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(q.prototype,"fashionToggle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(q.prototype,"sexSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(q.prototype,"screenPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=q))||U)||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/HeroSkillItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ResourcesMgr.ts","./SkillModule.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var i,t,l,n,r,a,s,o,c,u,g,m,f,k,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,o=e.Sprite,c=e.Node,u=e.Component},function(e){g=e.Config},function(e){m=e.resourcesMgr},function(e){f=e.Skillmodule},function(e){k=e.sendmessage},function(e){d=e.GameUtil}],execute:function(){var p,b,h,v,N,y,I,M,_,w,D,S,L,H,x,P,z,C;r._RF.push({},"c38d9hwcsJIZZIraOZbEIsx","HeroSkillItem",void 0);var E=a.ccclass,F=a.property,K=a.menu;e("default",(p=E("HeroSkillItem"),b=K("实例模块/HeroSkillItem"),h=F(s),v=F(s),N=F(s),y=F(s),I=F(o),M=F(o),_=F(c),p(w=b((S=i((D=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,l(i,"skillName",S,n(i)),l(i,"skillLevel",L,n(i)),l(i,"skillEXP",H,n(i)),l(i,"skillQuickNum",x,n(i)),l(i,"skillPic",P,n(i)),l(i,"bgSprite",z,n(i)),l(i,"selectNode",C,n(i)),i.index=0,i.skill_data=null,i.onItemClick=null,i}t(i,e);var r=i.prototype;return r.start=function(){d.loadResLocal("HumWin/role_editor_skill_item_bg.png",this.bgSprite),d.loadResLocal("HumWin/role_editor_skill_item_bg2",this.selectNode.getComponent(o))},r.init=function(e){var i=this;if(e){this.skill_data=e,this.skillName.string=e.name,this.skillLevel.string=e.level+"级",e.level>=3?this.skillEXP.string="经验： -":this.skillEXP.string="经验：（"+e.nowExp+"/"+e.maxExp+"）",e.quickNum>0?(this.skillQuickNum.node.active=!0,this.skillQuickNum.string="NO."+e.quickNum):this.skillQuickNum.node.active=!1;var t=e.obj,l=0,n="";if(t.Def.wMagicId>=1e3&&t.Def.wMagicId<=1500){var r=f.findCustomSkill(t.Def.wMagicId,t.Level);r&&(n=g.g_HeroMagicList[r.iconFileIndex],l=r.wIconImageIndex)}else{var a=t.Def.btEffect;38==t.Def.wMagicId&&(a=4),46==t.Def.wMagicId&&(a=42),39==t.Def.wMagicId&&(a=0),n="magicon"+d.getFile(2*a),l=2*a}var s=d.loadImgData(l,n);m.resLoad(s.plist,(function(e){e&&i.skillPic&&e.getSpriteFrame(s.img)&&(i.skillPic.getComponent(o).spriteFrame=e.getSpriteFrame(s.img))})),this.skillName.string=112==t.Key?t.Def.sMagicName+"[已关闭]":t.Def.sMagicName}},r.onButtonClick=function(){var e=this.skill_data.obj;this.skillName.string=112==e.Key?e.Def.sMagicName+"[已关闭]":e.Def.sMagicName,112==this.skill_data.obj.Key?g.g_HeroMagicList[this.index].Key=0:g.g_HeroMagicList[this.index].Key=112,k.sendHeroMagicKeyChange(e.Def.wMagicId)},r.setSelected=function(e){this.selectNode.active=e},i}(u)).prototype,"skillName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(D.prototype,"skillLevel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(D.prototype,"skillEXP",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(D.prototype,"skillQuickNum",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(D.prototype,"skillPic",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(D.prototype,"bgSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(D.prototype,"selectNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroStateItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,a,n,i,o,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.Label,c=t.Component}],execute:function(){var u,l,p,f,m,y,b,h;i._RF.push({},"49a10L1b9VHcow3Kd48DPEY","HeroStateItem",void 0);var g=o.ccclass,d=o.property,v=o.menu;t("default",(u=g("HeroStateItem"),l=v("实例模块/HeroStateItem"),p=d(s),f=d(s),u(m=l((b=e((y=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"stateName",b,n(e)),a(e,"stateData",h,n(e)),e}r(e,t);var i=e.prototype;return i.start=function(){},i.init=function(t,e){t&&(this.stateName.string=t),e&&(this.stateData.string=e)},e}(c)).prototype,"stateName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(y.prototype,"stateData",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m)||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/HeroTreasureWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./FindPrizeItem.ts","./FindViewCostItem.ts","./FindViewItem.ts","./PageNumItem.ts","./TreasureScoreItem.ts","./WarehousePageView.ts"],(function(t){"use strict";var e,i,a,n,r,s,o,l,u,c,d,h,m,g,_,f,p,w,b,v,E,y,T,I,C,R,N,S,P,A,L,B,V,D,k,x,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,o=t.Node,l=t.Toggle,u=t.Button,c=t.Prefab,d=t.Label,h=t.Sprite,m=t.UIOpacity,g=t.tween,_=t.v3,f=t.instantiate,p=t.Component},function(t){w=t.EventMgr},function(t){b=t.Config},function(t){v=t.default},function(t){E=t.HeroTreasureActivityData,y=t.OPEN_ITEMINFO_WIN_TYPE,T=t.FIND_TREASURE_VIEW_TYPE,I=t.HeroTreasureFindAwardListData,C=t.EquipData,R=t.TreasureFindCostData,N=t.TreasureScoreData},function(t){S=t.resourcesMgr},function(t){P=t.sendmessage},function(t){A=t.default},function(t){L=t.GameUtil},function(t){B=t.default},function(t){V=t.default},function(t){D=t.default},function(t){k=t.default},function(t){x=t.default},function(t){O=t.default}],execute:function(){var H,U,W,F,z,G,M,K,Y,q,X,j,Q,Z,J,$,tt,et,it,at,nt,rt,st,ot,lt,ut,ct,dt,ht,mt,gt,_t,ft,pt,wt,bt,vt,Et,yt,Tt,It,Ct,Rt,Nt,St,Pt,At,Lt,Bt,Vt,Dt,kt,xt,Ot,Ht,Ut,Wt,Ft,zt,Gt,Mt,Kt,Yt,qt;r._RF.push({},"dd5e7GZGqVBP5MPq780sBvf","HeroTreasureWin",void 0);var Xt=s.ccclass,jt=s.property,Qt=s.menu;t("default",(H=Xt("HeroTreasureWin"),U=Qt("弹窗模块/HeroTreasureWin"),W=jt(o),F=jt(o),z=jt(o),G=jt(l),M=jt(l),K=jt(o),Y=jt(o),q=jt(u),X=jt(u),j=jt(A),Q=jt(A),Z=jt(o),J=jt(o),$=jt(c),tt=jt(A),et=jt(A),it=jt(c),at=jt(o),nt=jt(o),rt=jt(c),st=jt(d),ot=jt(d),lt=jt(h),ut=jt(d),ct=jt(h),dt=jt(d),ht=jt(d),mt=jt(h),gt=jt(h),_t=jt(h),H(ft=U((wt=e((pt=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"findView",wt,n(e)),a(e,"wardhouseView",bt,n(e)),a(e,"scoreView",vt,n(e)),a(e,"tabBarButton",Et,n(e)),a(e,"findTabBarButton",yt,n(e)),a(e,"myView",Tt,n(e)),a(e,"allView",It,n(e)),a(e,"lastBtn",Ct,n(e)),a(e,"nextBtn",Rt,n(e)),a(e,"myTreasureList",Nt,n(e)),a(e,"allTreasureList",St,n(e)),a(e,"leftContenNode",Pt,n(e)),a(e,"rightContenNode",At,n(e)),a(e,"FindPrizeItemPrefab",Lt,n(e)),a(e,"scoreAwardList",Bt,n(e)),a(e,"pageList",Vt,n(e)),a(e,"pageNumPrefab",Dt,n(e)),a(e,"pageNumContent",kt,n(e)),a(e,"costContentNode",xt,n(e)),a(e,"costPrefab",Ot,n(e)),a(e,"findViewScoreNum",Ht,n(e)),a(e,"findViewGoldNum",Ut,n(e)),a(e,"findViewGoldSprite",Wt,n(e)),a(e,"scoreViewScoreNum",Ft,n(e)),a(e,"findViewMiddleItemSprite",zt,n(e)),a(e,"costTipsLabel",Gt,n(e)),a(e,"awardTips",Mt,n(e)),a(e,"closeBtnSprite",Kt,n(e)),a(e,"myTreCheckMark",Yt,n(e)),a(e,"allTreCheckMark",qt,n(e)),e.myViewData=[],e.allViewData=[],e.curPage=1,e.maxPage=3,e.treasure_type=void 0,e.score_data=[],e.pageNums=[],e.pageWarehouseData=[],e.find_cost_item_data=null,e.middle_item_data=null,e.activity_data=new E,e.find_item_data=[],e.exchange_times=0,e.wardhouse_data=[],e.get_award_arr=[],e.isShowTips=!1,e.selectIndex=0,e}i(e,t);var r=e.prototype;return r.start=function(){L.loadResLocal("public/btn_close_new.png",this.closeBtnSprite),L.loadResLocalToggle("SplitResource/Btns/bag_btnBg.png","SplitResource/Btns/bag_btnBg (2).png",this.findTabBarButton[0],this.myTreCheckMark),L.loadResLocalToggle("SplitResource/Btns/bag_btnBg.png","SplitResource/Btns/bag_btnBg (2).png",this.findTabBarButton[1],this.allTreCheckMark),this.exchange_times=0,P.sendHeroTreasureFindExchange(this.exchange_times),this.initMgr()},r.initMgr=function(){w.addEventListener(v.UPDATE_FIND_EXCHANGE_DATA,this.updateFindExchange,this),w.addEventListener(v.GET_HERO_TREASURE_WAREHOUSE_LIST,this.getWarehouseData,this),w.addEventListener(v.GET_HERO_TREASURE_SCORE_LIST,this.getScoreData,this),w.addEventListener(v.GET_HERO_TREASURE_WAREHOUSE_GET,this.wardhouseGetCallBack,this),w.addEventListener(v.GET_HERO_TREASURE_WAREHOUSE_RECEIVE,this.wardhouseReceiveCallBack,this),w.addEventListener(v.GET_HERO_TREASURE_SCORE_EXCHANGE,this.scorerExchangeCallBack,this),w.addEventListener(v.HERO_TREASURE_WAREHOUSE_PAGE_CHANGE,this.updatePageNum,this)},r.tabbarButtonClick=function(t){switch(this.tabBarButton.indexOf(t)){case 0:if(this.findView.active)return;this.setAllActiviFalse(),this.findView.active=!0;break;case 1:if(this.wardhouseView.active)return;P.sendHeroTreasureWarehouseList();break;case 2:if(this.scoreView.active)return;P.sendHeroTreasureScoreList()}},r.getWarehouseData=function(t){this.setAllActiviFalse(),this.wardhouseView.active=!0,this.initWarehouse(t[0]),this.wardhouse_data=t[0]},r.getScoreData=function(t){this.setAllActiviFalse(),this.scoreView.active=!0,this.initScoreView(t)},r.updateFindExchange=function(t){var e=t[0],i=t[1];this.exchange_times=i,this.findViewGoldNum.string=e.diamond.toString(),this.findViewScoreNum.string=e.point.toString(),this.activity_data.score_num=e.point,this.activity_data.gold_num=e.diamond,w.raiseEvent(v.UPDATE_FIND_TICKET_DATA,e.ticketNum),this.myViewData=[],this.allViewData=[];for(var a=0;a<e.sysLog.length;a++){for(var n=null,r=0;r<this.find_item_data.length;r++)if(e.sysLog[a].itemId==this.find_item_data[r].s.nIdx){n=this.find_item_data[r];break}if(n){var s=new I,o=L.loadImgData(n.s.Looks,"items"),l=new C;l.type=1,l.res=o,l.data=n,l.name=n.s.DBName,l.win_type=y.LOOKHUMWIN,s.award_data=l,s.player_nmae=e.sysLog[a].playerName,s.time=e.sysLog[a].time,this.allViewData.push(s)}}for(var u=0;u<e.log.length;u++){for(var c=null,d=0;d<this.find_item_data.length;d++)if(e.log[u].itemId==this.find_item_data[d].s.nIdx){c=this.find_item_data[d];break}var h=new I,m=L.loadImgData(c.s.Looks,"items"),g=new C;g.type=1,g.res=m,g.data=c,g.name=c.s.DBName,g.win_type=y.LOOKHUMWIN,h.award_data=g,h.player_nmae=e.log[u].playerName,h.time=e.log[u].time,this.myViewData.push(h)}if(this.myViewData.length>0&&this.myViewData.sort((function(t,e){var i=t.time;return e.time-i})),this.allViewData.length>0&&this.allViewData.sort((function(t,e){var i=t.time;return e.time-i})),this.exchange_times>0){for(var _=0;_<this.exchange_times;_++)this.get_award_arr.push("获得"+this.myViewData[_].award_data.name);this.exchange_times=0,this.showTips()}this.onChangeTreasure(T.MY_TREASURE)},r.showTips=function(){var t=this;if(!this.isShowTips){console.log("this.get_award_arr.length=",this.get_award_arr.length),this.isShowTips=!0,this.awardTips.string=this.get_award_arr[this.get_award_arr.length-1],this.awardTips.node.active=!0,this.awardTips.node.getComponent(m).opacity=255;var e=this.awardTips.node.getPosition();g(this.awardTips.node).to(.8,{position:_(e.x,e.y+50)}).call((function(){g(t.awardTips.node.getComponent(m)).to(.2,{opacity:0}).call((function(){t.awardTips.node.active=!1,t.awardTips.node.setPosition(e),t.isShowTips=!1,t.get_award_arr.splice(t.get_award_arr.length-1,1),t.get_award_arr.length>0&&t.showTips()})).start()})).start()}},r.wardhouseGetCallBack=function(){P.sendHeroTreasureWarehouseList()},r.wardhouseReceiveCallBack=function(t){for(var e=t[0],i=this.wardhouse_data.length-1;i>-1;i--)e.s.nIdx==this.wardhouse_data[i].s.nIdx&&this.wardhouse_data.splice(i,1);this.initWarehouse(this.wardhouse_data)},r.scorerExchangeCallBack=function(t){var e=t[0];this.activity_data.score_num=e.point,this.scoreViewScoreNum.string="当前积分："+this.activity_data.score_num,w.raiseEvent(v.UPDATE_HERO_TREASURE_SCORE_DATA,[e])},r.setAllActiviFalse=function(){this.findView.active=!1,this.wardhouseView.active=!1,this.scoreView.active=!1},r.pageCallback=function(){},r.onPageChange=function(t){var e=null==t?this.pageList.curPageNum:t;this.curPage=e+1,console.log("当前页码：",this.curPage),this.initPageNum(this.curPage-1),1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(h).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(h).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(h).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(h).grayscale=!0)},r.findTabbarButtonClick=function(t){var e=this.findTabBarButton.indexOf(t);if(this.selectIndex!=e)switch(this.selectIndex=e,e){case 0:this.setFindAllActiviFalse(),this.myView.active=!0,this.onChangeTreasure(T.MY_TREASURE);break;case 1:this.setFindAllActiviFalse(),this.allView.active=!0,this.onChangeTreasure(T.ALL_TREASURE)}},r.setFindAllActiviFalse=function(){this.myView.active=!1,this.allView.active=!1},r.closeView=function(){L.removeItemAni(this.findViewMiddleItemSprite.node,"effect"),this.leftContenNode.children.forEach((function(t,e){L.removeItemAni(t,"effect")})),this.rightContenNode.children.forEach((function(t,e){L.removeItemAni(t,"effect")})),this.node.destroy()},r.RenderItemHandler=function(t,e){var i=t.getComponent(D);if(this.treasure_type==T.MY_TREASURE){var a=this.myViewData[e];i.init("",a.award_data,this.treasure_type)}else{var n=this.allViewData[e];i.init(n.player_nmae,n.award_data,this.treasure_type)}},r.initFindView=function(t,e){if(t){this.find_item_data=t,e&&(this.activity_data.big_award_id=e.bigId,this.activity_data.item_data=t,this.activity_data.ticket_id=e.ticketId,this.activity_data.ticket_num=e.ticketNum,this.activity_data.gold_num=e.diamond,this.activity_data.gold_id=e.diamondId,this.activity_data.score_num=e.point,this.activity_data.gold_cost=e.diamondCost,this.activity_data.ticket_cost=e.ticketCost);for(var i=null,a=null,n=null,r=[],s=0;s<t.length;s++){var o=t[s];this.activity_data.ticket_id==o.s.nIdx?a=o:this.activity_data.gold_id==o.s.nIdx&&(n=o)}for(var l=0;l<e.previewIds.length;l++)for(var u=0;u<t.length;u++){var c=t[u];if(this.activity_data.big_award_id==e.previewIds[l]){i=c;break}if(e.previewIds[l]==c.s.nIdx){r.push(c);break}}this.leftContenNode.destroyAllChildren();for(var d=0;d<r.length/2;d++){var h=r[d];if(h){var m=f(this.FindPrizeItemPrefab);this.leftContenNode.addChild(m);var g=L.loadImgData(h.s.Looks,"items"),_=new C;_.type=1,_.res=g,_.data=h,_.win_type=y.LOOKHUMWIN,m.getComponent(B).init(_)}}this.rightContenNode.destroyAllChildren();for(var p=r.length/2;p<r.length;p++){var w=r[p];if(w){var b=f(this.FindPrizeItemPrefab);this.rightContenNode.addChild(b);var v=L.loadImgData(w.s.Looks,"items"),E=new C;E.type=1,E.res=v,E.data=w,E.win_type=y.LOOKHUMWIN,b.getComponent(B).init(E)}}var T=new C;if(n){var I=L.loadImgData(n.s.Looks,"items");T.type=1,T.res=I,T.data=n,T.win_type=y.LOOKHUMWIN}var N=new C;if(a){var S=L.loadImgData(a.s.Looks,"items");N.type=1,N.res=S,N.data=a,N.win_type=y.LOOKHUMWIN}var P=new R;if(P.cost_material1_num=this.activity_data.gold_cost,P.cost_material2_num=this.activity_data.ticket_cost,P.self_material_num=this.activity_data.ticket_num,P.item1_data=T,P.item2_data=N,a&&n){var A=[1,10,20];this.costContentNode.destroyAllChildren();for(var D=0;D<A.length;D++){var k=new R;k.buy_num=A[D],k.cost_material1_num=P.cost_material1_num*A[D],k.cost_material2_num=P.cost_material2_num*A[D],k.self_material_num=P.self_material_num,k.item1_data=P.item1_data,k.item2_data=P.item2_data;var x=f(this.costPrefab);this.costContentNode.addChild(x),x.getComponent(V).init(k)}this.costTipsLabel.string="每花费"+P.cost_material1_num+"金刚石可购买1个经验丹，并赠送1次抽奖"}var O=this.activity_data.gold_num,H=this.activity_data.score_num;this.find_cost_item_data=T,this.findViewGoldNum.string=O.toString(),this.findViewScoreNum.string=H.toString(),this.clickItemInit(this.find_cost_item_data,this.findViewGoldSprite);var U=L.loadImgData(i.s.Looks,"items"),W=new C;W.type=1,W.res=U,W.data=i,W.win_type=y.LOOKHUMWIN,this.middle_item_data=W,this.clickItemInit(this.middle_item_data,this.findViewMiddleItemSprite)}},r.clickItemInit=function(t,e){t.res?S.handleLoad(t.res.plist,(function(i){i&&i.getSpriteFrame(t.res.img)&&e&&(e.spriteFrame=i.getSpriteFrame(t.res.img))})):e.spriteFrame=null,t.data?t.data.s.BagEffect.FileIndex&&L.showItemeffect(e.node,t.data):L.removeItemAni(e.node,"effect")},r.onChangeTreasure=function(t){this.treasure_type=t,t==T.MY_TREASURE?this.myViewData&&(this.myTreasureList.numItems=this.myViewData.length):this.allViewData&&(this.allTreasureList.numItems=this.allViewData.length)},r.initWarehouse=function(t){var e=this;this.pageNums=[],this.pageWarehouseData=[];var i=t,a=Math.ceil(i.length/65);a>this.maxPage?this.maxPage=a:this.maxPage=3,i.forEach((function(t,i){if(t){var a=new C,n=t.s.Looks;a.data=t;var r=L.loadImgData(n,"items");a.type=1,a.res=r,a.win_type=y.LOOKHUMWIN,e.pageWarehouseData.push(a)}})),this.pageList.numItems=this.maxPage,this.initPageNum(this.curPage-1),this.onPageChange(this.curPage-1)},r.initPageNum=function(t){if(0==this.pageNums.length){this.pageNumContent.destroyAllChildren();for(var e=0;e<this.maxPage;e++){var i=f(this.pageNumPrefab),a=i.getComponent(k);a.init(e,t),this.pageNumContent.addChild(i),this.pageNums.push(a)}}else this.pageNums.forEach((function(e,i){e.init(i,t)}))},r.updatePageNum=function(t){var e=t[0];this.pageList.skipPage(e,.5)},r.pageRenderItemHandler=function(t,e){t.getComponent(O).initData(this.pageWarehouseData,e)},r.initScoreView=function(t){var e=t[0],i=t[1];this.score_data=[];for(var a=0;a<e.length;a++){var n=new N,r=e[a],s=L.loadImgData(r.s.Looks,"items"),o=new C;o.type=1,o.res=s,o.data=r,o.name=r.s.DBName,o.win_type=y.LOOKHUMWIN,n.equip_data=o;for(var l=0;l<i.length;l++)if(i[l].itemId==r.s.nIdx){n.need_score=i[l].point,n.award_num=i[l].count,n.exchange_times=i[l].num;break}this.score_data.push(n)}this.scoreAwardList.numItems=this.score_data.length,this.scoreViewScoreNum.string="当前积分："+this.activity_data.score_num},r.scoreRenderItemHandler=function(t,e){var i=this.score_data[e];i&&t.getComponent(x).init(i)},r.onClickLastPage=function(){this.curPage>1&&(this.curPage-=1,1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(h).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(h).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(h).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(h).grayscale=!0),this.pageList.prePage(.5),this.initPageNum(this.curPage-1))},r.onClickNextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.curPage==this.maxPage?(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(h).grayscale=!0):(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(h).grayscale=!1),this.curPage>1?(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(h).grayscale=!1):(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(h).grayscale=!0)),this.pageList.nextPage(.5),this.initPageNum(this.curPage-1)},r.onClickItem1=function(){this.showItemInfoWin(this.find_cost_item_data)},r.showItemInfoWin=function(t){t&&(b.g_MoveItems.Items=t.data,b.g_OpenIdx=y.LOOKHUMWIN,w.raiseEvent(v.OPEN_NEW_ITEM_INFO,[t.data]))},r.onClickItem2=function(){this.showItemInfoWin(this.middle_item_data)},r.onClickOneKeyGet=function(){P.sendHeroTreasureWarehouseGet()},r.onClickOneKeyReceive=function(){P.sendQFCMD("@xunbaoRecycle")},r.onDestroy=function(){w.removeEventListener(v.UPDATE_FIND_EXCHANGE_DATA,this.updateFindExchange,this),w.removeEventListener(v.GET_HERO_TREASURE_WAREHOUSE_LIST,this.getWarehouseData,this),w.removeEventListener(v.GET_HERO_TREASURE_SCORE_LIST,this.getScoreData,this),w.removeEventListener(v.GET_HERO_TREASURE_WAREHOUSE_GET,this.wardhouseGetCallBack,this),w.removeEventListener(v.GET_HERO_TREASURE_WAREHOUSE_RECEIVE,this.wardhouseReceiveCallBack,this),w.removeEventListener(v.GET_HERO_TREASURE_SCORE_EXCHANGE,this.scorerExchangeCallBack,this),w.removeEventListener(v.HERO_TREASURE_WAREHOUSE_PAGE_CHANGE,this.updatePageNum,this)},e}(p)).prototype,"findView",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(pt.prototype,"wardhouseView",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(pt.prototype,"scoreView",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(pt.prototype,"tabBarButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yt=e(pt.prototype,"findTabBarButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=e(pt.prototype,"myView",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(pt.prototype,"allView",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(pt.prototype,"lastBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(pt.prototype,"nextBtn",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(pt.prototype,"myTreasureList",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(pt.prototype,"allTreasureList",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(pt.prototype,"leftContenNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(pt.prototype,"rightContenNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(pt.prototype,"FindPrizeItemPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(pt.prototype,"scoreAwardList",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(pt.prototype,"pageList",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(pt.prototype,"pageNumPrefab",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(pt.prototype,"pageNumContent",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(pt.prototype,"costContentNode",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(pt.prototype,"costPrefab",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(pt.prototype,"findViewScoreNum",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(pt.prototype,"findViewGoldNum",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(pt.prototype,"findViewGoldSprite",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(pt.prototype,"scoreViewScoreNum",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(pt.prototype,"findViewMiddleItemSprite",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(pt.prototype,"costTipsLabel",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(pt.prototype,"awardTips",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(pt.prototype,"closeBtnSprite",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(pt.prototype,"myTreCheckMark",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(pt.prototype,"allTreCheckMark",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=pt))||ft)||ft));r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./Sendmessage.ts","./GameUtil.ts","./Config.ts","./UIcontrol.ts"],(function(e){"use strict";var t,a,i,n,r,l,o,s,c,g,p,_,h,u,d,m,v,b,f,M,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Node,s=e.ProgressBar,c=e.Label,g=e.instantiate,p=e.v3,_=e.Sprite,h=e.color,u=e.LabelOutline,d=e.Component},function(e){m=e.EventMgr},function(e){v=e.default},function(e){b=e.Sendmessage},function(e){f=e.GameUtil},function(e){M=e.Config},function(e){y=e.uiControl}],execute:function(){var L,A,x,E,C,H,I,B,w,S,R,U,N,P,D,T,z,k,O,Y,G,V,F,j,Z,Q,W,q,J,K,X;r._RF.push({},"6613f7ePo5PjZcZAWk5h4fQ","HeroUpgrade",void 0);var $=l.ccclass,ee=l.property;e("HeroUpgrade",(L=$("HeroUpgrade"),A=ee(o),x=ee(o),E=ee(o),C=ee(o),H=ee(o),I=ee(o),B=ee(s),w=ee(o),S=ee(o),R=ee(o),U=ee(o),N=ee(o),P=ee(o),D=ee(o),L((k=t((z=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"cont_level",k,n(t)),i(t,"cont_get",O,n(t)),i(t,"lay_exp",Y,n(t)),i(t,"lab_cur_exp",G,n(t)),i(t,"lab_totol_exp",V,n(t)),i(t,"sp_max",F,n(t)),i(t,"ProgressBar",j,n(t)),i(t,"lay_materials",Z,n(t)),i(t,"btn_how_get",Q,n(t)),i(t,"lab_level",W,n(t)),i(t,"content",q,n(t)),i(t,"btn_go",J,n(t)),i(t,"btn_upgrade_one",K,n(t)),i(t,"btn_upgrade_ten",X,n(t)),t._heroData=null,t._needMaterialArr=[],t._clickMIdx=null,t._mapList=[],t._isHave=!1,t._isShow=!1,t}a(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){},r.updateView=function(e){this.registeEvents(),console.log("当前武将基础属性",e),this._heroData=e;var t=e.curExp/e.exp;this.ProgressBar.progress=t,this._heroData.maxLevel==this._heroData.level?(this.lay_exp.active=!1,this.sp_max.active=!0,this.ProgressBar.progress=1):(this.lay_exp.active=!0,this.sp_max.active=!1),this.lab_level.getComponent(c).string=e.level+"",this.lab_cur_exp.getComponent(c).string=e.curExp+"",this.lab_totol_exp.getComponent(c).string=e.exp+"",b.getInstance().sendHeroUpgradeMetarialList()},r.onClickBtnUpgradeHandle=function(e){this._clickMIdx=this.lay_materials.children.indexOf(e.target);Number(e.target.getChildByName("lab_num").getComponent(c).string);if(this._heroData.maxLevel==this._heroData.level)y.handlerAlert({type:1,content:"武将已达到满级"});else{var t=e.target.dataSource;console.log({aid:this._heroData.aid,itemName:t.s.Name},this._clickMIdx),b.getInstance().sendHeroUpgradeMetarialSpecial({aid:this._heroData.aid,itemName:t.s.Name})}},r.onClickBtnUpgradeOneHandle=function(){this._isShow&&this._heroData.maxLevel!=this._heroData.level&&b.getInstance().sendHeorUpgradeAppointLevel({aid:this._heroData.aid,upLevel:1})},r.onClickBtnUpgradeTenHandle=function(){this._isShow&&this._heroData.maxLevel!=this._heroData.level&&b.getInstance().sendHeorUpgradeAppointLevel({aid:this._heroData.aid,upLevel:10})},r.onClickBtnHowGetHandle=function(){this.cont_get.active=!0,this.cont_level.active=!1,this.content.destroyAllChildren();for(var e=[],t=this._mapList.length,a=0;a<t;a++){var i=this._mapList[a].name,n=this._mapList[a].mapInfo;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var l=n[r],o={};o.mapN=l,o.name=i,o.mapId=r,e.push(o)}}console.log(e);for(var s=0;s<e.length;s++){var _=e[s],h=g(this.btn_go);if(h.setParent(this.content),h.dataSource={mapN:_.mapN,mapId:_.mapId,name:_.name},h.active=!0,h.getChildByName("Label").getComponent(c).string=h.dataSource.mapN,1==e.length)h.setPosition(p(76.5,0));else{var u=s%2*153,d=48*-Math.floor(s/2);h.setPosition(p(u,d))}}},r.onClickBtnGoHandle=function(e){var t=e.target.dataSource.name,a=e.target.dataSource.mapId;if(console.log(t+"---\x3e>>"+a),"open_store"==a)m.raiseEvent(v.ARMY_MATERIAL_OPEN_STORE);else{var i={name:t,mapId:a};b.getInstance().sendHeroMaterialMapMove(i)}},r.onClickBtnCloseView=function(){1==this.cont_get.active?(this.cont_level.active=!0,this.cont_get.active=!1):(this.node.parent.active=!1,this.unRegisteEvents())},r.filterUpgradeMaterialInBagHandle=function(){var e=this.lay_materials.children.length;this._isShow=!1;for(var t=0;t<e;t++){var a=this.lay_materials.children[t].getChildByName("lab_num");a.getComponent(c).string="0",this._isHave=!1;for(var i=M.g_BagItemsList.length,n=0;n<i;n++){var r=M.g_BagItemsList[n];if(r&&r.s.Name==this._needMaterialArr[t]){var l=f.getHeroUpgradeTypeCount(r);a.getComponent(c).string=""+l,this._isHave=!0,this._isShow=!0}}this.lay_materials.children[t].active=!!this._isHave}this.btn_how_get.active=!this._isShow,this._isShow?(this.btn_upgrade_one.getComponent(_).grayscale=!1,this.btn_upgrade_ten.getComponent(_).grayscale=!1,this.btn_upgrade_one.getChildByName("Label").getComponent(c).color=h("#ffeebe"),this.btn_upgrade_one.getChildByName("Label").getComponent(u).color=h("#3e4c00")):(this.btn_upgrade_one.getComponent(_).grayscale=!0,this.btn_upgrade_ten.getComponent(_).grayscale=!0,this.btn_upgrade_one.getChildByName("Label").getComponent(c).color=h("#a1a1a1"),this.btn_upgrade_one.getChildByName("Label").getComponent(u).color=h("#2f2f2f"))},r.evtMgrArmyMaterialListHandle=function(e){var t=this;console.log(e);for(var a=e.items.length,i=function(i){var n=e.items[i];f.loadImg(n.s.Looks,"items",(function(e){t.lay_materials.children[i].dataSource=n,t._needMaterialArr[i]=n.s.Name,t.lay_materials.children[i].active=!0,t.lay_materials.children[i].getChildByName("Sprite").getComponent(_).spriteFrame=e.imgUrl,i+1>=a&&t.filterUpgradeMaterialInBagHandle()}))},n=0;n<a;n++)i(n);this.cont_get.active=!1,this.cont_level.active=!0,this._mapList=e.mapList},r.evtMgrArmyMaterialSpecialHandle=function(e){console.log("指定材料升级",e),this.lab_level.getComponent(c).string=e.level+"",this.lab_cur_exp.getComponent(c).string=e.curExp,this.lab_totol_exp.getComponent(c).string=e.exp;var t=e.curExp/e.exp;this.ProgressBar.progress=t;var a=Number(this.lay_materials.children[this._clickMIdx].getChildByName("lab_num").getComponent(c).string);a-1<=0?this.lay_materials.children[this._clickMIdx].active=!1:this.lay_materials.children[this._clickMIdx].getChildByName("lab_num").getComponent(c).string=a-1+"",m.raiseEvent(v.UPDATE_HERO_BASE_INFO,{level:e.level,curExp:e.curExp,exp:e.exp})},r.evtMgrArmyMaterialLevelHandle=function(e){console.log("通知武将升到多少级",e),this.lab_cur_exp.active=!0,this.lab_totol_exp.active=!0,this.sp_max.active=!1,this.lab_level.getComponent(c).string=e.level+"",this.lab_cur_exp.getComponent(c).string=e.curExp,this.lab_totol_exp.getComponent(c).string=e.exp;var t=e.curExp/e.exp;this.ProgressBar.progress=t,this.btn_upgrade_one.getComponent(_).grayscale=!1,this.btn_upgrade_ten.getComponent(_).grayscale=!1,this._heroData.maxLevel==e.level&&(this.lab_cur_exp.active=!1,this.lab_totol_exp.active=!1,this.sp_max.active=!0,this.ProgressBar.progress=1,this.btn_upgrade_one.getComponent(_).grayscale=!0,this.btn_upgrade_ten.getComponent(_).grayscale=!0),m.raiseEvent(v.UPDATE_HERO_BASE_INFO,{level:e.level,curExp:e.curExp,exp:e.exp}),this.scheduleOnce(this.filterUpgradeMaterialInBagHandle,.2)},r.evtMgrArmyMaterialMoveHandle=function(){console.log("通知传送材料地图"),this.cont_get.active=!1,this.cont_level.active=!0},r.evtMgrUpdataMaterialHandle=function(){this.filterUpgradeMaterialInBagHandle()},r.registeEvents=function(){m.addEventListener(v.ARMY_MATERIAL_LIST,this.evtMgrArmyMaterialListHandle,this),m.addEventListener(v.ARMY_MATERIAL_SPECIAL,this.evtMgrArmyMaterialSpecialHandle,this),m.addEventListener(v.ARMY_MATERIAL_LEVEL,this.evtMgrArmyMaterialLevelHandle,this),m.addEventListener(v.ARMY_MATERIAL_MOVE,this.evtMgrArmyMaterialMoveHandle,this),m.addEventListener(v.UPDATE_ARMY_BAG,this.evtMgrUpdataMaterialHandle,this)},r.unRegisteEvents=function(){m.removeEventListener(v.ARMY_MATERIAL_LIST,this.evtMgrArmyMaterialListHandle,this),m.removeEventListener(v.ARMY_MATERIAL_SPECIAL,this.evtMgrArmyMaterialSpecialHandle,this),m.removeEventListener(v.ARMY_MATERIAL_LEVEL,this.evtMgrArmyMaterialLevelHandle,this),m.removeEventListener(v.ARMY_MATERIAL_MOVE,this.evtMgrArmyMaterialMoveHandle,this),m.addEventListener(v.UPDATE_ARMY_BAG,this.evtMgrUpdataMaterialHandle,this)},t}(d)).prototype,"cont_level",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"cont_get",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(z.prototype,"lay_exp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"lab_cur_exp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"lab_totol_exp",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"sp_max",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"ProgressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(z.prototype,"lay_materials",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(z.prototype,"btn_how_get",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(z.prototype,"lab_level",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"content",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(z.prototype,"btn_go",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(z.prototype,"btn_upgrade_one",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(z.prototype,"btn_upgrade_ten",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=z))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HeroSkillItem.ts","./HeroAttrItem.ts","./GameDefine.ts","./HeroStateItem.ts","./Config.ts","./GameUtil.ts","./Struct.ts","./HeroFashionView.ts","./HeroEquipView.ts","./EventManager.ts","./EventCustom.ts","./objectmanage.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,s,u,h,c,m,f,g,b,p,w,v,d,H,_,A,C,V,E,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,s=e.ToggleContainer,u=e.Toggle,h=e.Node,c=e.Prefab,m=e.instantiate,f=e.Component},function(e){g=e.default},function(e){b=e.default},function(e){p=e.OPEN_ITEMINFO_WIN_TYPE,w=e.HeroSkillData},function(e){v=e.default},function(e){d=e.Config},function(e){H=e.GameUtil},function(e){_=e.Struct_ins},function(e){A=e.default},function(e){C=e.default},function(e){V=e.EventMgr},function(e){E=e.default},function(e){k=e.ObjectManage}],execute:function(){var y,M,S,N,I,F,L,D,R,T,x,O,P,z,W,G,q,B,U,j,K,J,Y,Q,X,Z,$,ee,te,ie,ne,re,ae,oe,le,se,ue;a._RF.push({},"c81b2YGz+FPO5b3/hJMx99f","HeroWin",void 0);var he=o.ccclass,ce=o.property,me=o.menu;e("default",(y=he("HeroWin"),M=me("弹窗模块/HeroWin"),S=ce(l),N=ce(s),I=ce(u),F=ce(h),L=ce(h),D=ce(h),R=ce(h),T=ce(h),x=ce(h),O=ce(c),P=ce(h),z=ce(h),W=ce(c),G=ce(h),q=ce(c),B=ce(C),U=ce(A),y(j=M((J=t((K=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"user_name",J,r(t)),n(t,"toggleContainer",Y,r(t)),n(t,"tabBarButton",Q,r(t)),n(t,"equipView",X,r(t)),n(t,"fashionView",Z,r(t)),n(t,"stateView",$,r(t)),n(t,"attrView",ee,r(t)),n(t,"skillView",te,r(t)),n(t,"skillContent",ie,r(t)),n(t,"skillItem",ne,r(t)),n(t,"attrContent",re,r(t)),n(t,"attrItem",ae,r(t)),n(t,"stateContent",oe,r(t)),n(t,"stateitem",le,r(t)),t.AttributeArr=[],t.AttributeNum=[],t.itemArr=[],t.itemNum=[],t.skillItems=[],n(t,"heroEquipView",se,r(t)),n(t,"heroFashionView",ue,r(t)),t}i(t,e);var a=t.prototype;return a.start=function(){this.setAllActiviFalse(),this.equipView.active=!0,this.ShowHeadItems(),this.initMgr(),d.g_OpenHeroState=!0},a.initMgr=function(){V.addEventListener(E.SHOW_HEROITEM_ICO,this.ShowItemico,this),V.addEventListener(E.HEROMAGIC_REFRESH,this.HeroMagic_Refresh,this),V.addEventListener(E.STATE_SKILL,this.onState_skill,this),V.addEventListener(E.UPDATEHERO,this.updateHero,this),V.addEventListener(E.UPDATEHERONEWDRESS,this.updateHeroNewDress,this)},a.ShowHeadItems=function(){if(d.g_myHero){this.user_name.string=d.g_myHero.m_Abil.name;var e=k.findobject(d.g_myHero.data.record);if(this.heroFashionView.setToggle(e.skin_feature.boShowFashion),1==d.g_myHero.skin_feature.btGender)var t=443;else t=442;this.heroEquipView.setBodySprite(d.g_myHero.skin_feature.btGender,t),this.heroFashionView.setBodySprite(d.g_myHero.skin_feature.btGender,t)}},a.ShowItemico=function(){console.log("ShowItemico"),this.heroEquipView.initEquipData()},a.HeroMagic_Refresh=function(){console.log("HeroMagic_Refresh"),this.initSkillView()},a.onState_skill=function(){console.log("onState_skill"),this.setAllActiviFalse(),this.skillView.active=!0,this.initSkillView()},a.updateHero=function(){this.getHumAbil(),this.attrContent.removeAllChildren();for(var e=0;e<this.AttributeArr.length;e++){var t=m(this.attrItem);t.getComponent(b).init(this.AttributeArr[e],this.AttributeNum[e]),this.attrContent.addChild(t)}this.stateContent.removeAllChildren();for(var i=0;i<this.itemArr.length;i++){this.itemNum.push(" ");var n=m(this.stateitem);n.getComponent(v).init(this.itemArr[i],this.itemNum[i]),this.stateContent.addChild(n)}},a.updateHeroNewDress=function(){console.log("updateHeroNewDress"),this.heroFashionView.initEquipData()},a.setAllActiviFalse=function(){this.equipView.active=!1,this.fashionView.active=!1,this.stateView.active=!1,this.attrView.active=!1,this.skillView.active=!1},a.tabbarButtonClick=function(e){switch(this.tabBarButton.indexOf(e)){case 0:if(this.equipView.active)return;this.setAllActiviFalse(),this.equipView.active=!0;break;case 1:if(this.fashionView.active)return;this.setAllActiviFalse(),this.fashionView.active=!0;break;case 2:if(this.stateView.active)return;this.setAllActiviFalse(),this.stateView.active=!0,this.updateHum();break;case 3:if(this.attrView.active)return;this.setAllActiviFalse(),this.attrView.active=!0,this.updateHum();break;case 4:if(this.skillView.active)return;this.setAllActiviFalse(),this.skillView.active=!0,this.initSkillView()}},a.initSkillView=function(){this.skillContent.removeAllChildren(),this.skillItems=[];for(var e=0;e<d.g_HeroMagicList.length;e++){var t=d.g_HeroMagicList[e];if(0==this.skillItems.length||!this.skillItems[e]||t.Def.sMagicName!=this.skillItems[e].name){var i=m(this.skillItem),n=i.getComponent(g);n.index=e,n.onItemClick=this.onSkillItemClicked.bind(this);var r=new w;r.name=t.Def.sMagicName,r.level=t.Level,r.nowExp=t.CurTrain,r.maxExp=t.Def.MaxTrain[t.Level],t.Key>=10&&(r.quickNum=t.Key-48),r.obj=t,n.init(r),this.skillItems.push(n),this.skillContent.addChild(i)}}},a.onSkillItemClicked=function(e){this.skillItems.forEach((function(t,i){i==e?(t.setSelected(!0),d.g_MoveSkill=d.g_UserMagicList[i],d.g_OpenIdx=p.SKILL,V.raiseEvent(E.OPEN_NEW_ITEM_INFO,[d.g_UserMagicList[i]])):t.setSelected(!1)}))},a.getHumAbil=function(){var e=d.g_myHero.m_Abil;if(d.g_myHero&&_.THumFeature(d.g_myHero.data.fea.buffer))var t=_.THumFeature(d.g_myHero.data.fea.buffer).btJob;if(this.itemArr=["职   业：    ","等   级：    ","当前经验：","升级经验：","生命值：    ","魔法值：    ","药力值：    ","酒量值：    ","酒量进度："],d.g_myHero&&_.THumFeature(d.g_myHero.data.fea.buffer))t=_.THumFeature(d.g_myHero.data.fea.buffer).btJob;this.itemNum=[H.getJobName(t),e.Level,e.Exp,e.MaxExp,H.makeBigNum(e.HP)+" / "+H.makeBigNum(e.MaxHP),H.makeBigNum(e.MP)+" / "+H.makeBigNum(e.MaxMP),"0","0","0",d.g_nGameDiamond.value,d.g_nGameGird.value,d.g_GamePointNum.value,d.g_GameGoldNum.value,e.CreditPoint,d.g_gameGlory.value],this.AttributeArr=["防   御：    ","魔   御：    ","攻   击：    ","魔   法：    ","道   术：    ","背包重量：","穿戴重量：","腕   力：    ","魔法躲避：","毒物躲避：","体力恢复：","魔法恢复：","攻击速度：","精确度：    ","敏捷度：    ","中毒回复："],this.AttributeNum=[e.AC+" - "+e.MaxAC,e.MAC+" - "+e.MaxMAC,e.DC+" - "+e.MaxDC,e.MC+" - "+e.MaxMC,e.SC+" - "+e.MaxSC,e.Weight+" / "+e.MaxWeight,e.WearWeight+" / "+e.MaxWearWeight,e.HandWeight+" / "+e.MaxHandWeight,10*d.g_nMyAntiMagic+"%",10*d.g_nMyAntiPoison+"%",10*d.g_nMyHealthRecover+"%",10*d.g_nMySpellRecover+"%",,d.g_nMyHitPoint,d.g_nMySpeedPoint,10*d.g_nMyPoisonRecover+"%",e.NewValue[0]+"%",e.NewValue[1]+"%",e.NewValue[2]+"%",e.NewValue[3]+"%",e.NewValue[4]+"%",e.NewValue[5]+"%",e.NewValue[6],e.NewValue[7]+"%",e.NewValue[8]+"%",e.NewValue[9]+"%",e.NewValue[10]+"%",e.NewValue[13],e.NewValue[14]+"%",e.NewValue[15]+"%"]},a.updateHum=function(){this.getHumAbil(),this.attrContent.removeAllChildren();for(var e=0;e<this.AttributeArr.length;e++){var t=m(this.attrItem);t.getComponent(b).init(this.AttributeArr[e],this.AttributeNum[e]),this.attrContent.addChild(t)}this.stateContent.removeAllChildren();for(var i=0;i<this.itemArr.length;i++){this.itemNum.push(" ");var n=m(this.stateitem);n.getComponent(v).init(this.itemArr[i],this.itemNum[i]),this.stateContent.addChild(n)}},a.onClickSetSkill=function(){},a.closeView=function(){d.g_OpenHeroState=!1,this.node.destroy()},a.onDestroy=function(){d.MainScene.openHero=!1,V.removeEventListener(E.SHOW_HEROITEM_ICO,this.ShowItemico,this),V.removeEventListener(E.HEROMAGIC_REFRESH,this.HeroMagic_Refresh,this),V.removeEventListener(E.STATE_SKILL,this.onState_skill,this),V.removeEventListener(E.UPDATEHERO,this.updateHero,this),V.removeEventListener(E.UPDATEHERONEWDRESS,this.updateHeroNewDress,this)},t}(f)).prototype,"user_name",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(K.prototype,"toggleContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(K.prototype,"tabBarButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(K.prototype,"equipView",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(K.prototype,"fashionView",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(K.prototype,"stateView",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(K.prototype,"attrView",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(K.prototype,"skillView",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(K.prototype,"skillContent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(K.prototype,"skillItem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(K.prototype,"attrContent",[P,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(K.prototype,"attrItem",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(K.prototype,"stateContent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(K.prototype,"stateitem",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(K.prototype,"heroEquipView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(K.prototype,"heroFashionView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=K))||j)||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginSceneProgressBar.ts","./SceneCanvas.ts"],(function(e){"use strict";var t,s,a,n,i,r,o,l,g,c,p,h,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,o=e.Node,l=e.director,g=e.native,c=e.game,p=e.sys,h=e.Component},function(e){u=e.LoginSceneProgressBar},function(e){d=e.SceneCanvas}],execute:function(){var _,f,b,E,C,M,v,A;i._RF.push({},"f5b21iGcPxMyZTKwQk5bNeb","HotUpdate",void 0);var R=r.ccclass,k=r.property,m=e("HotUpdate",(_=R("HotUpdate"),f=k(o),b=k(o),_(((A=function(e){function t(){for(var t,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,a(t,"panel",M,n(t)),a(t,"updateUI",v,n(t)),t._updating=!1,t._canRetry=!1,t._assetsManager=null,t._failCount=0,t.progressComp=null,t.callBack=null,t}s(t,e),t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var i=t.prototype;return i.init=function(e){this._updating=!1,this._canRetry=!1,this._assetsManager=null,this._failCount=0,this.progressComp=l.getScene().getComponentInChildren(u),this.callBack=e,this.handleUpdate()},i.checkCb=function(e){console.log("Code: "+e.getEventCode());var t=!1,s=!1;switch(e.getEventCode()){case g.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.progressComp.infoLabel.string="No local manifest file found, hot update skipped.";break;case g.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case g.EventAssetsManager.ERROR_PARSE_MANIFEST:this.progressComp.infoLabel.string="检查更新文件失败，跳过更新",s=!0;break;case g.EventAssetsManager.ALREADY_UP_TO_DATE:t=!0,this.progressComp.infoLabel.string="已经是最新版本";break;case g.EventAssetsManager.NEW_VERSION_FOUND:this.progressComp.infoLabel.string="发现新版本准备更新 ("+Math.ceil(this._assetsManager.getTotalBytes()/1024)+"kb)";break;default:return}t||s?this.callBack():(this._assetsManager.setEventCallback(null),this._updating=!1,console.log("checkCb回调执行完毕"),this.hotUpdate())},i.updateCb=function(e){console.log("更新回调执行执行");var t=!1,s=!1;switch(e.getEventCode()){case g.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.progressComp.infoLabel.string="No local manifest file found, hot update skipped.",s=!0;break;case g.EventAssetsManager.UPDATE_PROGRESSION:this.progressComp.handleProgress("加载更新",e.getDownloadedBytes()/e.getTotalBytes()),console.log(e.getDownloadedBytes()/e.getTotalBytes());var a=e.getMessage();a&&console.log("Updated file: "+a);break;case g.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case g.EventAssetsManager.ERROR_PARSE_MANIFEST:this.progressComp.infoLabel.string="Fail to download manifest file, hot update skipped.",s=!0;break;case g.EventAssetsManager.ALREADY_UP_TO_DATE:this.progressComp.infoLabel.string="已经是最新版本",s=!0;break;case g.EventAssetsManager.UPDATE_FINISHED:this.progressComp.infoLabel.string="更新完成 "+e.getMessage(),t=!0;break;case g.EventAssetsManager.UPDATE_FAILED:this.progressComp.infoLabel.string="更新失败 "+e.getMessage(),this._updating=!1,this._canRetry=!0;break;case g.EventAssetsManager.ERROR_UPDATING:this.progressComp.infoLabel.string="Asset update error: "+e.getAssetId()+", "+e.getMessage();break;case g.EventAssetsManager.ERROR_DECOMPRESS:this.progressComp.infoLabel.string=e.getMessage()}if(console.log(""),s&&(this._updating=!1,this.callBack(),this._assetsManager.setEventCallback(null)),t&&(this._assetsManager.setEventCallback(null),setTimeout((function(){c.restart()}),1e3)),this._canRetry){if(this._failCount++,this._failCount>2)return console.log("尝试更新失败，跳过更新进入游戏"),void this.callBack();this.retry()}},i.retry=function(){!this._updating&&this._canRetry&&(this._canRetry=!1,this.progressComp.infoLabel.string="重试更新失败资源...",this._assetsManager.downloadFailedAssets())},i.checkUpdate=function(){this._updating?this.progressComp.infoLabel.string="检查更新 ...":(this._assetsManager.setEventCallback(this.checkCb.bind(this)),this._assetsManager.checkUpdate(),this._updating=!0)},i.hotUpdate=function(){console.log("更新执行"),this._assetsManager&&!this._updating&&(this._assetsManager.setEventCallback(this.updateCb.bind(this)),this._failCount=0,this._assetsManager.update(),this._updating=!0)},i.show=function(){!1===this.updateUI.active&&(this.updateUI.active=!0)},i.handleUpdate=function(){var e=this;if(p.isNative){var t=g.fileUtils.getWritablePath();console.log("WritablePath",JSON.stringify(t));var s="project.manifest";this._assetsManager=new g.AssetsManager(s,t+"/hotupdate_storage"),this._assetsManager||console.log("本地无热更新文件！"),this.progressComp.infoLabel.string="版本: "+this._assetsManager.getLocalManifest().getVersion(),l.getScene().getComponentInChildren(d).version.string="版本: "+this._assetsManager.getLocalManifest().getVersion(),this._assetsManager.setVerifyCallback((function(t,s){var a=s.compressed,n=s.md5,i=s.path;s.size;return a?(e.progressComp.infoLabel.string="Verification passed : "+i,!0):(e.progressComp.infoLabel.string="Verification passed : "+i+" ("+n+")",!0)})),console.log("请求热更新配置地址文件：",t+"hotupdate_storage/"+s),this.checkUpdate()}},i.onDestroy=function(){this._assetsManager.setEventCallback(null)},t}(h))._instance=null,M=t((C=A).prototype,"panel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(C.prototype,"updateUI",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=C))||E));e("hotUpdate",m.getInstance());i._RF.pop()}}}));

System.register("chunks:///_virtual/Https.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIcontrol.ts","./Config.ts"],(function(t){"use strict";var e,n,i,s,c,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.director,c=t.Component},function(t){o=t.uiControl},function(t){u=t.Config}],execute:function(){var d,l;n._RF.push({},"e8b433Nv2VCW7Tl4w4CmJ+Y","Https",void 0);var r=i.ccclass,a=(i.property,t("Https",r("Https")(((l=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).tempServerList=null,e.loginUrl="",e.serverListUrl="",e.roleUrl="",e.rolePort=0,e.tc=0,e.cid=0,e.sid=null,e.uid=null,e.codeToken=null,e.gid=null,e.ga=null,e.roleName=null,e.sessionSerial=null,e}e(n,t),n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var i=n.prototype;return i.init=function(){u.g_backToRole||(this.tc=3,this.cid=0,this.sid=null,this.uid=null,this.codeToken=null,this.gid=null,this.ga=null,this.roleName=null)},i.requestCellPhoneCode=function(t,e){var n={cmd:1,tc:this.tc,cid:this.cid,mn:t};this.handleRequest(n,(function(t){e(t)}))},i.sendPhoneCode=function(t,e,n){var i={cmd:2,tc:this.tc,cid:this.cid,mn:t,vc:e,token:this.codeToken};this.handleRequest(i,(function(t){n(t)}))},i.sendPasswardLogin=function(t,e,n){var i={cmd:11,tc:this.tc,cid:this.cid,u:t,p:md5(e)};this.handleRequest(i,(function(t){n(t)}))},i.requestWeChatQRCode=function(t){var e={cmd:21,tc:this.tc,cid:this.cid};this.handleRequest(e,(function(e){t(e)}))},i.requestScanQRCodeResult=function(t,e){var n={cmd:22,tc:this.tc,cid:this.cid,token:t};this.handleRequest(n,(function(t){e(t)}))},i.requestAutoAccount=function(t){var e={cmd:10,tc:this.tc,cid:this.cid};this.handleRequest(e,(function(e){t(e)}))},i.requestServerList=function(t){var e={cmd:31,tc:this.tc,cid:this.cid,uid:this.uid,sid:this.sid};this.handleRequest(e,(function(e){t(e)}),!0)},i.requestCreateServerAccount=function(t){var e={cmd:33,tc:this.tc,cid:this.cid,uid:this.uid,sid:this.sid,gid:this.gid};this.handleRequest(e,(function(e){t(e)}))},i.requestRoleUrl=function(t){var e={cmd:34,tc:this.tc,cid:this.cid,uid:this.uid,sid:this.sid,gid:this.gid,ga:this.ga};this.handleRequest(e,(function(e){t(e)}))},i.updateRoleInfo=function(t,e,n){var i={cmd:35,tc:this.tc,cid:this.cid,uid:this.uid,sid:this.sid,gid:this.gid,ga:this.ga,act:t,roles:e};this.handleRequest(i,(function(t){n(t)}))},i.updateGameInfo=function(t){var e={cmd:36,tc:this.tc,cid:this.cid,uid:this.uid,sid:this.sid,gid:this.gid,ga:this.ga,rn:this.roleName};this.handleRequest(e,(function(e){t(e)}))},i.handleRequest=function(t,e,n){var i=this.loginUrl;n&&(i=this.serverListUrl),this.sendRequest(i,t,(function(t){if(100200!=t.code)return o.handlerAlert({type:1,content:t.message}),void e(!1);e(t)}))},i.sendRequest=function(t,e,n,i){"GameScene"!=s.getScene().name&&u.CurScene.loadAnimControl(1);var c=e?JSON.stringify(e):null,d=new XMLHttpRequest;d.timeout=1e4;d.addEventListener("error",(function(){"GameScene"!=s.getScene().name&&u.CurScene.loadAnimControl(0),o.handlerAlert({type:1,content:"请求失败"}),console.log("网络错误")})),d.ontimeout=function(){console.log("请求超时"),"GameScene"!=s.getScene().name&&u.CurScene.loadAnimControl(0),o.handlerAlert({type:1,content:"请求超时"})},d.open("POST",t),d.setRequestHeader("Content-type","application/json;charset=UTF-8"),d.onreadystatechange=function(){var t=d;if(4==t.readyState)if("GameScene"!=s.getScene().name&&u.CurScene.loadAnimControl(0),console.log("XMLHttpReq.status:"+t.status),console.log("XMLHttpReq.responseText:"+t.responseText),200==t.status){var e=JSON.parse(t.responseText.replace(/([\\"]+):(\d{16,})\b/g,"$1:$1$2$1"));null!=n&&n(e)}else console.log("请求失败："+t.status)},null==c?d.send():d.send(c)},n}(c))._instance=null,d=l))||d));t("https",a.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/HumAttrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./GameUtil.ts"],(function(t){"use strict";var e,r,n,i,a,u,o,l,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,u=t._decorator,o=t.Label,l=t.Sprite,c=t.Component},null,null,function(t){s=t.GameUtil}],execute:function(){var p,f,m,h,b,g,y,d,v,D;a._RF.push({},"cfbd6kBEehOULwA8juIR3z7","HumAttrItem",void 0);var A=u.ccclass,I=u.property,_=u.menu;t("default",(p=A("HumAttrItem"),f=_("实例模块/HumAttrItem"),m=I(o),h=I(o),b=I(l),p(g=f((d=e((y=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,n(e,"attrName",d,i(e)),n(e,"attrData",v,i(e)),n(e,"BG",D,i(e)),e.attr_info="",e}r(e,t);var a=e.prototype;return a.start=function(){s.loadResLocal("HumWin/hum_Attribute.png",this.BG)},a.init=function(t,e,r){t&&(this.attrName.string=t,r||(r="未获取到属性"),this.attr_info="【"+t+r+"】"),this.attrData.string=e||"0"},a.updateDate=function(t){t&&t!=this.attrData.string&&(this.attrData.string=t)},a.onClickItem=function(){},e}(c)).prototype,"attrName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"attrData",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(y.prototype,"BG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/HumEquipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,s,a,p,o,u,r,m,_,c,l,I,d,f,y,h,g,q;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,p=e._decorator,o=e.Sprite,u=e.Node,r=e.Component},function(e){m=e.EventMgr},function(e){_=e.Config},function(e){c=e.U_Type},function(e){l=e.default},function(e){I=e.SHOW_SCREEN_TYPE,d=e.OPEN_ITEMINFO_WIN_TYPE},function(e){f=e.Animationmodule},function(e){y=e.resourcesMgr},function(e){h=e.sendmessage},function(e){g=e.GameApi},function(e){q=e.GameUtil}],execute:function(){var E,T,w,W,v,N,O,M;a._RF.push({},"01ed781XY9Cr5YilxKVHKJz","HumEquipItem",void 0);var S=p.ccclass,x=p.property,H=p.menu;e("default",(E=S("HumEquipItem"),T=H("实例模块/HumEquipItem"),w=x(o),W=x(u),E(v=T((O=t((N=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),p=0;p<i;p++)a[p]=arguments[p];return t=e.call.apply(e,[this].concat(a))||this,n(t,"icon",O,s(t)),n(t,"aniNode",M,s(t)),t.equip_data=null,t.isRank=!1,t.equip_type=void 0,t.isPlay=!1,t.winType=void 0,t.clickTime=0,t.screen_type=I.HUM,t.onItemClick=null,t.isGodBless=!1,t}i(t,e);var a=t.prototype;return a.start=function(){},a.init=function(e,t,i){this.isRank=i,this.equip_data=e.data,t&&(this.icon.getComponent(o).spriteFrame=t),e&&(this.equip_type=e.type,this.winType=e.win_type)},a.initNewData=function(e,t,i){var n=this;e&&(this.isRank=t,e.res?y.handleLoad(e.res.plist,(function(t){t&&t.getSpriteFrame(e.res.img)&&n.icon&&(n.icon.spriteFrame=t.getSpriteFrame(e.res.img))})):this.icon.getComponent(o).spriteFrame=null,e.type&&(this.equip_type=e.type,this.equip_type>=c.JEWELRY1&&this.equip_type<=c.JEWELRY10?(this.screen_type=I.JEWELRY,q.showItemeffectEx(this,this.node,e.data)):this.screen_type=I.HUM),i&&(this.isGodBless=!0,this.screen_type=I.SHENS,q.showItemeffectEx(this,this.node,e.data)),e.data?this.equip_data=e.data:this.equip_data=null,e.win_type&&(this.winType=e.win_type,15==this.winType&&(this.screen_type=I.HERO)))},a.showDuraHum=function(){if(this.equip_data){var e=f.getAni(this.aniNode,"equip"),t=this.equip_data.Dura/1e3;if(t<3&&t>0){if(!e)f.playframe(!1,this.aniNode,"Animation/equip/",1,8,100,!0,!1).name="equip"}else if(t<=0){if(!e)f.playframe(!1,this.aniNode,"Animation/equip/",11,18,100,!0,!1).name="equip"}else t>=3&&e&&f.removeAni(e)}},a.showEquipInfo=function(){if(!_.g_isOnWindows||_.g_MoveItems.Items!=this.equip_data||_.g_MoveItems.Index!=this.equip_type||!q.isOpenItemInfo()){_.g_SelectIndex=this.equip_type,_.g_MoveItems.Items=this.equip_data,_.g_MoveItems.Index=this.equip_type,_.g_OpenIdx=this.winType,console.log("this.winType=",this.winType);var e=0;this.winType==d.LOOKHUMWIN&&(e=1),m.raiseEvent(l.OPEN_NEW_ITEM_INFO,[this.equip_data,e])}},a.onClickItem=function(){var e=this;this.clickTime++,setTimeout((function(){if(1==e.clickTime)if(console.log("单击"),_.g_SelectIndex=e.equip_type,e.equip_data){_.g_MoveItems.Items=e.equip_data,_.g_MoveItems.Index=e.equip_type,_.g_OpenIdx=e.winType,console.log("this.winType=",e.winType);var t=0;e.winType==d.LOOKHUMWIN&&(t=1),m.raiseEvent(l.OPEN_NEW_ITEM_INFO,[e.equip_data,t])}else console.log("点击item"),e.isRank||g.showScreen(!0,e.equip_type,e.screen_type);else if(2==e.clickTime){if(null==e.equip_data)return;console.log("双击",e.equip_data),e.winType!=d.HUMWIN&&e.winType!=d.SHOUSHIWIN&&e.winType!=d.SHOUSWIN||(e.isGodBless?(_.g_WaitItems.Items=_.g_GodBlessItems[e.equip_type-c.GODBLESS1],_.g_WaitItems.Index=_.g_WaitItems.Items.s.Expand1-1,h.SendTakeOffGodBless(_.g_WaitItems.Items,_.g_WaitItems.Index)):e.equip_type>=c.JEWELRY1&&e.equip_type<=c.JEWELRY10?(_.g_WaitItems.Items=e.equip_data,_.g_WaitItems.Index=e.equip_type-c.JEWELRY1,h.sendTakeOffJewelry(e.equip_data,_.g_WaitItems.Index)):(_.g_WaitItems.Items=_.g_UserItemList[e.equip_type],_.g_WaitItems.Index=e.equip_type,h.TakeOffItem(_.g_WaitItems.Items,_.g_WaitItems.Index)))}e.clickTime=0}),200)},t}(r)).prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"aniNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=N))||v)||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/HumEquipView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts","./DragItem.ts","./ScreenWin.ts","./HumEquipItem.ts","./ShouShiWin.ts","./ShousWin.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,u,m,l,p,c,f,h,I,S,g,d,b,E,_,v,H,w,y,N,x,M,W,q,D,P,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Prefab,u=e.Sprite,m=e.Node,l=e.Label,p=e.NodeEventType,c=e.UITransform,f=e.Vec3,h=e.instantiate,I=e.Component},function(e){S=e.EventMgr},function(e){g=e.Config},function(e){d=e.SNDACASKETSTATE_Type},function(e){b=e.default},function(e){E=e.OPEN_ITEMINFO_WIN_TYPE,_=e.SHOW_SCREEN_TYPE,v=e.EquipData},function(e){H=e.Animationmodule},function(e){w=e.resourcesMgr},function(e){y=e.sendmessage},function(e){N=e.GameApi},function(e){x=e.GameUtil},function(e){M=e.DragItem,W=e.e_DragItem_Type},function(e){q=e.default},function(e){D=e.default},function(e){P=e.default},function(e){U=e.default}],execute:function(){var A,T,C,k,O,L,z,F,B,R,G,V,Z,j,Y,J,K,Q,X,$,ee,te,ie,ne,re,oe,ae,se,ue,me,le,pe,ce,fe;o._RF.push({},"083fd+9ZNZCZI4gj4z9m8ko","HumEquipView",void 0);var he=a.ccclass,Ie=a.property,Se=a.menu;e("default",(A=he("HumEquipView"),T=Se("弹窗模块/HumEquipView"),C=Ie(s),k=Ie(s),O=Ie(u),L=Ie(u),z=Ie(u),F=Ie(u),B=Ie(u),R=Ie(m),G=Ie(s),V=Ie(l),Z=Ie(u),j=Ie(u),Y=Ie(s),J=Ie(u),K=Ie(m),A(Q=T(($=t((X=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"ShouShiPrefab",$,r(t)),n(t,"ShousWinPrefab",ee,r(t)),n(t,"weaponSprite",te,r(t)),n(t,"shieldSprite",ie,r(t)),n(t,"clothesSprite",ne,r(t)),n(t,"hairSprite",re,r(t)),n(t,"hatSprite",oe,r(t)),n(t,"equipItems",ae,r(t)),n(t,"itemPrefab",se,r(t)),n(t,"equipScore",ue,r(t)),n(t,"box1Sprite",me,r(t)),n(t,"box2Sprite",le,r(t)),n(t,"screenPrefab",pe,r(t)),n(t,"hum_img",ce,r(t)),n(t,"itemHatNode",fe,r(t)),t.HumItems=[],t.clickTime=0,t.humEquipItems=[],t}i(t,e);var o=t.prototype;return o.start=function(){M.dragItemType=W.HumanItem,this.initEquipData(),this.setSndacasketState()},o.initEquipData=function(){var e=this,t=0,i=g.g_UserItemList;console.log("itemList=",i),i.forEach((function(e,i){null!=e&&(t+=N.getItemScore(e))})),i=null,this.equipScore&&(this.equipScore.string="装备评分："+t),this.HumItems=g.g_UserItemList,this.initPart(this.clothesSprite.node,g.U_DRESS),this.initPart(this.weaponSprite.node,g.U_WEAPON),this.initPart(this.shieldSprite.node,g.U_SHIELD),this.initPart(this.hatSprite.node,g.U_HAT),this.humEquipItems=[];for(var n=function(t){var i=Number(e.equipItems[t].name);if(null!=e.HumItems[i]&&e.HumItems[i].MakeIndex>0)e.initItems(e.equipItems[t],i),e.initDragItem(e.equipItems[t],i,W.HumanItem);else{e.equipItems[t].destroyAllChildren();var n=new v,r=h(e.itemPrefab);r.name=""+i;var o=r.getComponent(D);e.initDragItem(r,i,W.HumanItem),n.type=Number(e.equipItems[t].name),n.win_type=E.HUMWIN,o.initNewData(n,!1),e.equipItems[t].addChild(r)}var a=e.equipItems[t].getChildByName(""+i);a&&g.g_isOnWindows&&(a.on(p.MOUSE_ENTER,(function(e){g.g_pcMousePoint=e.getUILocation(),a.getComponent(D).showEquipInfo()}),e),a.on(p.MOUSE_LEAVE,(function(){S.raiseEvent(b.CLOSE_NEW_ITEM_INFO)}),e))},r=0;r<this.equipItems.length;r++)n(r);null!=g.ItemHeard&&g.ItemHeard?this.hatSprite.node.parent.active=!1:this.itemHatNode.active=!1},o.initDragItem=function(e,t,i){var n;if(e&&e.parent&&(n=e.parent.getComponent(M)),e&&!n&&(n=e.getComponent(M)),e&&!n&&e.children[0]&&(n=e.children[0].getComponent(M)),n){var r={itemsData:g.g_UserItemList,selectIndex:void 0,hasBgFrame:!1,maxUnlockCount:void 0,itemType:i};n.setData(r,t)}},o.initItems=function(e,t){var i=this.HumItems[t].s.Looks;this.HumItems[t].s.BodyEffect.FileIndex&&x.showItemeffectEx(this,e,this.HumItems[t]),x.loadImageEx(i,e,!1,t,"stateitem",this,!1)},o.initPart=function(e,t){if(e&&g.g_isOnWindows){var i=e.parent;i.on(p.MOUSE_ENTER,this.showEquipInfo,this),i.on(p.MOUSE_LEAVE,(function(){S.raiseEvent(b.CLOSE_NEW_ITEM_INFO)}),this)}if(e.getComponent(u).spriteFrame=null,this.initDragItem(e,t,W.HumanItem),null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var n=this.HumItems[t].s.Looks;t==g.U_WEAPON||t==g.U_DRESS||t==g.U_HAT?(this.HumItems[t].tag=t,x.loadImageEx(n,e,!0,t,"stateitem",this,!1),x.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):t==g.U_SHIELD||t==g.U_HAT?(x.loadImageEx(n,e,!0,t,"stateitem",this,!1),x.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(x.loadImageEx(n,e,!1,t,"stateitem",this,!1),x.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{var r=H.getAni(e.parent,"bodyeffect"+e.parent.uuid);r&&H.removeAni(r);var o=this.getShowDuraHumNode(t);if(o){var a=H.getAni(o,"equip");a&&H.removeAni(a)}}},o.showDuraHum=function(){for(var e=g.g_UserItemList,t=0;t<e.length;t++){var i=e[t];if(i){var n=i.Dura/1e3,r=this.getShowDuraHumNode(t);if(!r)continue;var o=H.getAni(r,"equip"),a=r.getComponent(c).width,s=r.getComponent(c).height,u=new f(a-5,5-s);if(n<3&&n>0){if(r)if(!o)H.playframe(!1,r,"Animation/equip/",1,8,100,!0,!1,u).name="equip"}else if(n>=3)r&&o&&H.removeAni(o);else if(n<=0){if(r)if(!o)H.playframe(!1,r,"Animation/equip/",11,18,100,!0,!1,u).name="equip"}}}e=null,this.humEquipItems.forEach((function(e,t){e&&e.showDuraHum()}))},o.getShowDuraHumNode=function(e){var t=null;switch(e){case g.U_WEAPON:t=this.weaponSprite.node.parent;break;case g.U_DRESS:t=this.clothesSprite.node.parent;break;case g.U_HAT:t=this.hatSprite.node.parent;break;case g.U_SHIELD:t=this.shieldSprite.node.parent}return t},o.onClickItems=function(e){var t=this,i=Number(e.target._name);null!=i&&(this.clickTime++,setTimeout((function(){1==t.clickTime?(console.log("单击"),g.g_SelectIndex=i,t.HumItems[i]?t.HumItems[i].MakeIndex>0&&(g.g_MoveItems.Items=t.HumItems[i],g.g_MoveItems.Index=i,g.g_OpenIdx=E.HUMWIN,S.raiseEvent(b.OPEN_NEW_ITEM_INFO,[t.HumItems[i]])):t.openScreenWin(i)):2==t.clickTime&&g.g_UserItemList[i]&&(console.log("双击"),g.g_WaitItems.Items=g.g_UserItemList[i],g.g_WaitItems.Index=i,y.TakeOffItem(g.g_WaitItems.Items,g.g_WaitItems.Index)),t.clickTime=0}),200))},o.showEquipInfo=function(e){var t=Number(e.target._name);null!=t&&this.HumItems[t]&&this.HumItems[t].MakeIndex>0&&(g.g_pcMousePoint=e.getUILocation(),g.g_MoveItems.Items=this.HumItems[t],g.g_MoveItems.Index=t,g.g_OpenIdx=E.HUMWIN,S.raiseEvent(b.OPEN_NEW_ITEM_INFO,[this.HumItems[t]]))},o.openScreenWin=function(e){if(g.MainScene.openScreen)S.raiseEvent(b.UPDATE_SCREENWIN_ITEMS,[e,_.HUM]);else{var t=h(this.screenPrefab);t.getComponent(q).SearchItems(e,_.HUM),g.MainScene.openWindow(t)}},o.setSndacasketState=function(){switch(g.g_btSelfSndacasketState){case d.disabled:this.box1Sprite.node.active=!1;break;case d.active:this.box1Sprite.node.active=!0,this.box1Sprite.grayscale=!0;break;case d.show:this.box1Sprite.node.active=!0,this.box1Sprite.grayscale=!1;break;default:this.box1Sprite.node.active=!1}g.g_btSelfShowGodBless?this.box2Sprite.node.active=!0:this.box2Sprite.node.active=!1},o.onClickBox1=function(){if(this.box1Sprite.grayscale){y.SendQFCMD("@openSndacasket")}else if(g.MainScene.openShouShi)g.MainScene.closeWindow("ShouShiWin");else{var e=h(this.ShouShiPrefab);g.MainScene.openWindow(e),e.getComponent(P).initData(g.g_JewelryBoxItems)}},o.onClickBox2=function(){if(g.MainScene.openShouS)g.MainScene.closeWindow("ShousWin");else{var e=h(this.ShousWinPrefab);g.MainScene.openWindow(e);var t=e.getComponent(U),i=g.g_GodBlessItems;t.initData(i)}},o.setBody=function(e){this.setBodySprite(e.btGender,e.btHair)},o.setBodySprite=function(e,t){var i=this,n=0==e?"HumWin/00376-1.png":"HumWin/00377-1.png";w.resLoad(n,(function(e){i.hum_img&&e&&(i.hum_img.spriteFrame=e)}));var r=x.getNeiGuanHairResNum(t,e),o=x.loadImgData(r,"prguse");w.resLoad(o.plist,(function(e){if(e&&i.hairSprite&&e.getSpriteFrame(o.img)){var t=e.getSpriteFrame(o.img).offset.x,n=e.getSpriteFrame(o.img).offset.y;i.hairSprite.spriteFrame=e.getSpriteFrame(o.img),i.hairSprite.node.setPosition(-82+i.hairSprite.node.position.x+t,i.hairSprite.node.position.y-n)}}))},o.removeAni=function(){x.removeItemAni(this.clothesSprite.node.parent,"bodyeffect"),x.removeItemAni(this.weaponSprite.node.parent,"bodyeffect"),x.removeItemAni(this.shieldSprite.node.parent,"bodyeffect"),x.removeItemAni(this.hatSprite.node.parent,"bodyeffect"),this.equipItems.forEach((function(e,t){x.removeItemAni(e,"effect")}))},o.onClickPet=function(){S.raiseEvent(b.OPEN_PET_WIN)},t}(I)).prototype,"ShouShiPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(X.prototype,"ShousWinPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(X.prototype,"weaponSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(X.prototype,"shieldSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(X.prototype,"clothesSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(X.prototype,"hairSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(X.prototype,"hatSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(X.prototype,"equipItems",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(X.prototype,"itemPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(X.prototype,"equipScore",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(X.prototype,"box1Sprite",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(X.prototype,"box2Sprite",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(X.prototype,"screenPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(X.prototype,"hum_img",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(X.prototype,"itemHatNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=X))||Q)||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/HumFashionView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameUtil.ts","./DragItem.ts","./ScreenWin.ts","./HumEquipItem.ts"],(function(e){"use strict";var t,i,n,o,r,s,a,u,m,l,c,h,f,p,I,g,d,S,E,b,H,_,v,w,y,A,N,C,T,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Sprite,u=e.Node,m=e.Prefab,l=e.Toggle,c=e.Label,h=e.Color,f=e.instantiate,p=e.UITransform,I=e.Vec3,g=e.Component},function(e){d=e.EventMgr},function(e){S=e.Config},function(e){E=e.default},function(e){b=e.OPEN_ITEMINFO_WIN_TYPE,H=e.SHOW_SCREEN_TYPE,_=e.EquipData},function(e){v=e.Animationmodule},function(e){w=e.resourcesMgr},function(e){y=e.sendmessage},function(e){A=e.GameUtil},function(e){N=e.DragItem,C=e.e_DragItem_Type},function(e){T=e.default},function(e){D=e.default}],execute:function(){var F,k,U,q,x,L,O,W,M,P,z,R,B,G,V,Y,j,K,Z,J,Q,X,$,ee;r._RF.push({},"836e8FbZ4FGEbytDeqp6KeW","HumFashionView",void 0);var te=s.ccclass,ie=s.property,ne=s.menu;e("default",(F=te("HumFashionView"),k=ne("弹窗模块/HumFashionView"),U=ie(a),q=ie(a),x=ie(a),L=ie(u),O=ie(m),W=ie(l),M=ie(c),P=ie(m),z=ie(a),R=ie(a),F(B=k((V=t((G=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"weaponSprite",V,o(t)),n(t,"clothesSprite",Y,o(t)),n(t,"hatSprite",j,o(t)),n(t,"equipItems",K,o(t)),n(t,"itemPrefab",Z,o(t)),n(t,"fashionToggle",J,o(t)),n(t,"fashionCheckBoxLabel",Q,o(t)),n(t,"screenPrefab",X,o(t)),n(t,"hum_img",$,o(t)),n(t,"hairSprite",ee,o(t)),t.HumItems=[],t.humEquipItems=[],t.clickTime=0,t.isStart=!0,t}i(t,e);var r=t.prototype;return r.start=function(){N.dragItemType=C.fashion},r.setToggle=function(e){var t=this;this.fashionToggle.isChecked=e;var i=this.fashionToggle.isChecked;this.fashionCheckBoxLabel.color=i?h.YELLOW:h.GREEN,this.scheduleOnce((function(){t.isStart=!1}),.1)},r.initItems=function(e,t){var i=this.HumItems[t].s.Looks;A.loadImageEx(i,e,!1,t,"stateitem",this,!1),this.HumItems[t].s.BodyEffect.FileIndex&&A.showItemeffectEx(this,e,this.HumItems[t])},r.initPart=function(e,t){if(this.initDragItem(e,t,C.fashion),null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var i=this.HumItems[t].s.Looks;t==S.U_FASHIONDRESS||t==S.U_FASHIONWEAPON||t==S.U_FASHIONHELMET?(t==S.U_FASHIONDRESS&&(this.hum_img.node.active=!1),this.HumItems[t].tag=t,A.loadImageEx(i,e,!0,t,"stateitem",this,!1),A.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):t==S.U_SHIELD||t==S.U_HELMET?(A.loadImageEx(i,e,!0,t,"stateitem",this,!1),A.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(A.loadImageEx(i,e,!1,t,"stateitem",this,!1),A.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{t==S.U_FASHIONDRESS&&(this.hum_img.node.active=!0),e.getComponent(a).spriteFrame=null;var n=v.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&v.removeAni(n)}},r.initEquipData=function(){this.HumItems=S.g_UserItemList,console.log("时装"),this.initPart(this.clothesSprite.node,S.U_FASHIONDRESS),this.initPart(this.weaponSprite.node,S.U_FASHIONWEAPON),this.initPart(this.hatSprite.node,S.U_FASHIONHELMET),this.humEquipItems=[];for(var e=0;e<this.equipItems.length;e++){var t=Number(this.equipItems[e].name),i=v.getAni(this.equipItems[e],"effect"+this.equipItems[e].uuid);if(i&&v.removeAni(i),null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0)this.initItems(this.equipItems[e],t),this.initDragItem(this.equipItems[e],t,C.fashion);else{this.equipItems[e].destroyAllChildren();var n=new _,o=f(this.itemPrefab);o.name=""+t,this.initDragItem(o,t,C.fashion);var r=o.getComponent(D);if(n.type=Number(this.equipItems[e].name),r.initNewData(n,!1),this.equipItems[e].addChild(o),t>=26&&t<=29)continue;this.equipItems[e].active=!1}}},r.initDragItem=function(e,t,i){var n;if(e&&e.parent&&(n=e.parent.getComponent(N)),e&&!n&&(n=e.getComponent(N)),n){var o={itemsData:S.g_UserItemList,selectIndex:void 0,hasBgFrame:!1,maxUnlockCount:void 0,itemType:i};n.setData(o,t)}},r.showDuraHum=function(){for(var e=S.g_UserItemList,t=0;t<e.length;t++){var i=e[t];if(i){var n=i.Dura/1e3,o=this.getShowDuraHumNode(t);if(!o)continue;var r=v.getAni(o,"equip"),s=o.getComponent(p).width,a=o.getComponent(p).height,u=new I(s/2-5,-a/2-5);if(n<3&&n>0){if(o)if(!r)v.playframe(!1,o,"Animation/equip/",1,8,100,!0,!1,u).name="equip"}else if(n>=3)o&&r&&v.removeAni(r);else if(n<=0){if(o)if(!r)v.playframe(!1,o,"Animation/equip/",11,18,100,!0,!1,u).name="equip"}}}e=null,this.humEquipItems.forEach((function(e,t){e&&e.showDuraHum()}))},r.getShowDuraHumNode=function(e){var t=null;switch(e){case S.U_FASHIONWEAPON:t=this.weaponSprite.node.parent;break;case S.U_FASHIONDRESS:t=this.clothesSprite.node.parent;break;case S.U_FASHIONHELMET:t=this.hatSprite.node.parent}return t},r.onClickWareFashion=function(){if(!this.isStart){var e=this.fashionToggle.isChecked;this.fashionCheckBoxLabel.color=e?h.YELLOW:h.GREEN,y.showfashion(this.fashionToggle.isChecked,!1)}},r.getHumSkin=function(e){return 0==e?"HumWin/00376-2/spriteFrame":"HumWin/00377-2/spriteFrame"},r.onClickItems=function(e){var t=this,i=Number(e.target._name);this.clickTime++,setTimeout((function(){1==t.clickTime?(console.log("单击"),S.g_SelectIndex=i,t.HumItems[i]?t.HumItems[i].MakeIndex>0&&(S.g_MoveItems.Items=t.HumItems[i],S.g_MoveItems.Index=i,S.g_OpenIdx=b.HUMWIN,d.raiseEvent(E.OPEN_NEW_ITEM_INFO,[t.HumItems[i]])):t.openScreenWin(i)):2==t.clickTime&&S.g_UserItemList[i]&&(console.log("双击"),S.g_WaitItems.Items=S.g_UserItemList[i],S.g_WaitItems.Index=i,y.TakeOffItem(S.g_WaitItems.Items,S.g_WaitItems.Index)),t.clickTime=0}),200)},r.openScreenWin=function(e){if(S.MainScene.openScreen)d.raiseEvent(E.UPDATE_SCREENWIN_ITEMS,[e,H.HUM]);else{var t=f(this.screenPrefab);t.getComponent(T).SearchItems(e,H.HUM),S.MainScene.openWindow(t)}},r.setBody=function(e){this.setBodySprite(e.btGender,e.btHair)},r.setBodySprite=function(e,t){var i=this,n=0==e?"HumWin/00376-1.png":"HumWin/00377-1.png";w.resLoad(n,(function(e){i.hum_img&&e&&(i.hum_img.getComponent(a).spriteFrame=e)}))},r.removeAni=function(){A.removeItemAni(this.clothesSprite.node.parent,"bodyeffect"),A.removeItemAni(this.weaponSprite.node.parent,"bodyeffect"),A.removeItemAni(this.hatSprite.node.parent,"bodyeffect"),this.equipItems.forEach((function(e,t){A.removeItemAni(e,"effect")}))},r.onClickAllFashion=function(){y.customButtonClick(70)},t}(g)).prototype,"weaponSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(G.prototype,"clothesSprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"hatSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"equipItems",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(G.prototype,"itemPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(G.prototype,"fashionToggle",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(G.prototype,"fashionCheckBoxLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(G.prototype,"screenPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(G.prototype,"hum_img",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(G.prototype,"hairSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=G))||B)||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/HumNGComboView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,u,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,u=t.Prefab,s=t.Component},function(t){c=t.Config}],execute:function(){var f,p,b,g,m,h,y,C;o._RF.push({},"16667XgRhJMO519Uqfhg9Pl","HumNGComboView",void 0);var d=a.ccclass,v=a.property,w=a.menu;t("default",(f=d("HumNGComboView"),p=w("弹窗模块/HumNGComboView"),b=v(l),g=v(u),f(m=p((y=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"skill_rates",y,r(e)),n(e,"attrPrefab",C,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.initMgr=function(){},o.initDate=function(){var t=this;c.g_ClientConfig.SkillContinueOrderBlastRates.forEach((function(e,i){t.skill_rates[i].string="暴击\n+"+e+"%"}))},o.closeView=function(){this.node.destroy()},o.onDestroy=function(){},e}(s)).prototype,"skill_rates",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(h.prototype,"attrPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/HumNGMeridiansView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./objectcontrol.ts","./HumStateItem.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,l,u,c,f,b,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.Prefab,u=t.instantiate,c=t.Component},function(t){f=t.EventMgr},function(t){b=t.default},function(t){d=t.Objectcontrol},function(t){p=t.default}],execute:function(){var m,_,N,h,v,G,g,y;o._RF.push({},"b49540g/QlO64mzR28sztcD","HumNGMeridiansView",void 0);var A=a.ccclass,M=a.property,j=a.menu;t("default",(m=A("HumNGMeridiansView"),_=j("弹窗模块/HumNGMeridiansView"),N=M(s),h=M(l),m(v=_((g=e((G=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"attrContentNode",g,r(e)),i(e,"attrPrefab",y,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){},o.initMgr=function(){f.addEventListener(b.UPDATE_HUM_NG_ATTR,this.updateInfo,this)},o.updateInfo=function(){for(var t=["当前内功等级","当前内功经验","升级内功经验","内 力 值","内功恢复速度","内功伤害增加","内功伤害减免"],e=[d.self_obj.m_AbilNG.Level,d.self_obj.m_AbilNG.Exp,d.self_obj.m_AbilNG.MaxExp,d.self_obj.m_AbilNG.NH+"/"+d.self_obj.m_AbilNG.MaxNH,,d.self_obj.m_AbilNG.NGDamage,d.self_obj.m_AbilNG.UnNGDamage],n=0;n<t.length;n++){var i=u(this.attrPrefab);i.getComponent(p).init(t[n],e[n]),this.attrContentNode.addChild(i)}},o.closeView=function(){this.node.destroy()},o.onDestroy=function(){f.removeEventListener(b.UPDATE_HUM_NG_ATTR,this.updateInfo,this)},e}(c)).prototype,"attrContentNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(G.prototype,"attrPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=G))||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/HumNGSkillView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(t){"use strict";var e,i,n,r,o,l,a,u,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Label,u=t.Prefab,s=t.Component},function(t){c=t.Config}],execute:function(){var f,p,b,y,g,h,d,k;o._RF.push({},"bfa4bDoslVIEYyo3FWzaXvP","HumNGSkillView",void 0);var m=l.ccclass,v=l.property,w=l.menu;t("default",(f=m("HumNGSkillView"),p=w("弹窗模块/HumNGSkillView"),b=v(a),y=v(u),f(g=p((d=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"skill_rates",d,r(e)),n(e,"attrPrefab",k,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.initMgr=function(){},o.initDate=function(){var t=this;c.g_ClientConfig.SkillContinueOrderBlastRates.forEach((function(e,i){t.skill_rates[i].string="暴击\n+"+e+"%"}))},o.closeView=function(){this.node.destroy()},o.onDestroy=function(){},e}(s)).prototype,"skill_rates",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(h.prototype,"attrPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g)||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/HumNGStateView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./objectcontrol.ts","./HumStateItem.ts"],(function(t){"use strict";var e,n,i,o,a,r,l,s,u,f,c,_,b,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,s=t.Prefab,u=t.instantiate,f=t.Component},function(t){c=t.EventMgr},function(t){_=t.default},function(t){b=t.Objectcontrol},function(t){N=t.default}],execute:function(){var m,p,d,h,G,A,g,v;a._RF.push({},"d09e37AZVNHA6JQCQR3Le7A","HumNGStateView",void 0);var j=r.ccclass,H=r.property,y=r.menu;t("default",(m=j("HumNGStateView"),p=y("弹窗模块/HumNGStateView"),d=H(l),h=H(s),m(G=p((g=e((A=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"attrContentNode",g,o(e)),i(e,"attrPrefab",v,o(e)),e.state_attr=[],e}n(e,t);var a=e.prototype;return a.start=function(){this.initMgr()},a.initMgr=function(){c.addEventListener(_.UPDATE_HUM_NG_ATTR,this.updateInfo,this)},a.updateInfo=function(){if(0==this.attrContentNode.children.length)for(var t=["当前内功等级","当前内功经验","升级内功经验","内 力 值","内功恢复速度","内功伤害增加","内功伤害减免"],e=[b.self_obj.m_AbilNG.Level,b.self_obj.m_AbilNG.Exp,b.self_obj.m_AbilNG.MaxExp,b.self_obj.m_AbilNG.NH+"/"+b.self_obj.m_AbilNG.MaxNH,,b.self_obj.m_AbilNG.NGDamage,b.self_obj.m_AbilNG.UnNGDamage],n=0;n<t.length;n++){var i=u(this.attrPrefab),o=i.getComponent(N);o.init(t[n],e[n]),this.attrContentNode.addChild(i),this.state_attr.push(o)}else for(var a=[b.self_obj.m_AbilNG.Level,b.self_obj.m_AbilNG.Exp,b.self_obj.m_AbilNG.MaxExp,b.self_obj.m_AbilNG.NH+"/"+b.self_obj.m_AbilNG.MaxNH,,b.self_obj.m_AbilNG.NGDamage,b.self_obj.m_AbilNG.UnNGDamage],r=0;r<this.state_attr.length;r++){this.state_attr[r].updateDate(a[r])}},a.closeView=function(){this.node.destroy()},a.onDestroy=function(){c.removeEventListener(_.UPDATE_HUM_NG_ATTR,this.updateInfo,this)},e}(f)).prototype,"attrContentNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(A.prototype,"attrPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=A))||G)||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/HumSkillItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ResourcesMgr.ts","./SkillModule.ts","./GameUtil.ts"],(function(i){"use strict";var e,t,l,n,r,o,a,u,s,c,f,m,g,k;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,l=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,o=i._decorator,a=i.Label,u=i.Sprite,s=i.Node,c=i.Component},function(i){f=i.Config},function(i){m=i.resourcesMgr},function(i){g=i.Skillmodule},function(i){k=i.GameUtil}],execute:function(){var p,d,b,v,h,I,w,_,N,M,y,S,D,L,x,z,P,C;r._RF.push({},"a3f46Ot5ZdAxrFbMw/i63zx","HumSkillItem",void 0);var F=o.ccclass,E=o.property,H=o.menu;i("default",(p=F("HumSkillItem"),d=H("实例模块/HumSkillItem"),b=E(a),v=E(a),h=E(a),I=E(a),w=E(u),_=E(s),N=E(u),p(M=d((S=e((y=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,l(e,"skillName",S,n(e)),l(e,"skillLevel",D,n(e)),l(e,"skillEXP",L,n(e)),l(e,"skillQuickNum",x,n(e)),l(e,"skillPic",z,n(e)),l(e,"selectNode",P,n(e)),l(e,"BG",C,n(e)),e.index=0,e.skill_data=null,e.onItemClick=null,e}t(e,i);var r=e.prototype;return r.start=function(){this.selectNode.active=!1;var i=this.selectNode.getComponent(u);k.loadResLocal("HumWin/role_editor_skill_item_bg2.png",i),k.loadResLocal("HumWin/role_editor_skill_item_bg.png",this.BG)},r.init=function(i){var e=this;if(i){if(this.skill_data=i,this.skillName.string=i.name,this.skillLevel.string=i.level+"级",i.level>=3?this.skillEXP.string="经验： -":this.skillEXP.string="经验：（"+i.nowExp+"/"+i.maxExp+"）",i.quickNum>0){this.skillQuickNum.node.active=!1;for(var t=0;t<f.g_SetupMagicList.length;t++)if(f.g_SetupMagicList[t]&&f.g_SetupMagicList[t].Def.wMagicId==i.obj.Def.wMagicId){this.skillQuickNum.node.active=!0,this.skillQuickNum.string="NO."+i.quickNum;break}}else this.skillQuickNum.node.active=!1;var l=i.obj,n=0,r="";if(l.Def.wMagicId>=1e3&&l.Def.wMagicId<=1500){var o=g.findCustomSkill(l.Def.wMagicId,l.Level);o&&(r=f.g_pak_list[o.iconFileIndex],n=o.wIconImageIndex)}else{var a=l.Def.btEffect;38==l.Def.wMagicId&&(a=4),46==l.Def.wMagicId&&(a=42),39==l.Def.wMagicId&&(a=0),r="magicon"+k.getFile(2*a),n=2*a}var s=k.loadImgData(n,r);m.resLoad(s.plist,(function(i){i&&e.skillPic&&i.getSpriteFrame(s.img)&&(e.skillPic.getComponent(u).spriteFrame=i.getSpriteFrame(s.img))}))}},r.onButtonClick=function(){var i;null==(i=this.onItemClick)||i.call(this,this.index)},r.setSelected=function(i){this.selectNode.active=i},e}(c)).prototype,"skillName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(y.prototype,"skillLevel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(y.prototype,"skillEXP",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(y.prototype,"skillQuickNum",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(y.prototype,"skillPic",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(y.prototype,"selectNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"BG",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=y))||M)||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/HumStateItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,a,i,n,r,u,o,s,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,o=t.Label,s=t.Sprite,l=t.Component},function(t){c=t.GameUtil}],execute:function(){var p,m,f,h,b,g,y,D,d,v;r._RF.push({},"42a69canqJEG5FQDeuNi0zw","HumStateItem",void 0);var z=u.ccclass,G=u.property,H=u.menu;t("default",(p=z("HumStateItem"),m=H("实例模块/HumStateItem"),f=G(o),h=G(o),b=G(s),p(g=m((D=e((y=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,i(e,"stateName",D,n(e)),i(e,"stateData",d,n(e)),i(e,"BG",v,n(e)),e}a(e,t);var r=e.prototype;return r.start=function(){c.loadResLocal("HumWin/hum_Attribute.png",this.BG)},r.init=function(t,e){t&&(this.stateName.string=t),this.stateData.string=e||"0"},r.updateDate=function(t){t&&t!=this.stateData.string&&(this.stateData.string=t)},e}(l)).prototype,"stateName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"stateData",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"BG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/HumTitleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,r,l,o,a,c,s,u,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,c=e.Sprite,s=e.Node,u=e.Component},function(e){m=e.resourcesMgr},function(e){p=e.GameUtil}],execute:function(){var d,f,g,h,b,v,y,T,N,_,I,H;l._RF.push({},"a2e60hO6w5Nr7bvIAKMpJg2","HumTitleItem",void 0);var w=o.ccclass,z=o.property,L=o.menu;e("default",(d=w("HumTitleItem"),f=L("实例模块/HumTitleItem"),g=z(a),h=z(c),b=z(s),v=z(c),d(y=f((N=t((T=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"TitleName",N,r(t)),n(t,"TitlePic",_,r(t)),n(t,"seleceNode",I,r(t)),n(t,"BG",H,r(t)),t.index=0,t.onItemClick=null,t.title_data=void 0,t}i(t,e);var l=t.prototype;return l.start=function(){this.seleceNode.active=!1;var e=this.seleceNode.getComponent(c);p.loadResLocal("HumWin/title_item_s.png",e),p.loadResLocal("HumWin/title_item.png",this.BG)},l.init=function(e){var t=this;e&&(this.TitleName.string=e.name,e.res&&m.resLoad(e.res.plist,(function(i){i&&t.TitlePic&&i.getSpriteFrame(e.res.img)&&(t.TitlePic.spriteFrame=i.getSpriteFrame(e.res.img))})),e.data&&(this.title_data=e.data))},l.onButtonClcik=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},l.setSelected=function(e){this.seleceNode.active=e},l.destroySelf=function(){this.node.destroy()},t}(u)).prototype,"TitleName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"TitlePic",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"seleceNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"BG",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T))||y)||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/HumWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HumStateItem.ts","./HumAttrItem.ts","./HumSkillItem.ts","./HumTitleItem.ts","./GameDefine.ts","./EventManager.ts","./Config.ts","./GameUtil.ts","./objectmanage.ts","./Struct.ts","./EventCustom.ts","./RGBCode.ts","./HumEquipView.ts","./HumFashionView.ts","./ResourcesMgr.ts","./FrameMgr.ts","./HumNGStateView.ts","./HumNGSkillView.ts","./HumNGMeridiansView.ts","./HumNGComboView.ts"],(function(e){"use strict";var t,i,n,a,o,s,r,l,u,h,c,m,g,f,d,p,w,v,I,b,N,_,S,A,E,V,C,M,k,H,T,y,G,L,D,x,U,P,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Label,l=e.Toggle,u=e.Node,h=e.Prefab,c=e.Sprite,m=e.instantiate,g=e.color,f=e.v3,d=e.UITransform,p=e.Vec3,w=e.Component},function(e){v=e.default},function(e){I=e.default},function(e){b=e.default},function(e){N=e.default},function(e){_=e.OPEN_ITEMINFO_WIN_TYPE,S=e.HumSkillData,A=e.HumTitleData},function(e){E=e.EventMgr},function(e){V=e.Config},function(e){C=e.GameUtil},function(e){M=e.ObjectManage},function(e){k=e.Struct_ins},function(e){H=e.default},function(e){T=e.rgbCode},function(e){y=e.default},function(e){G=e.default},function(e){L=e.resourcesMgr},function(e){D=e.frameMgr},function(e){x=e.default},function(e){U=e.default},function(e){P=e.default},function(e){F=e.default}],execute:function(){var R,z,O,B,W,q,K,j,J,Q,Y,X,Z,$,ee,te,ie,ne,ae,oe,se,re,le,ue,he,ce,me,ge,fe,de,pe,we,ve,Ie,be,Ne,_e,Se,Ae,Ee,Ve,Ce,Me,ke,He,Te,ye,Ge,Le,De,xe,Ue,Pe,Fe,Re,ze,Oe,Be,We,qe,Ke,je;o._RF.push({},"ecafflqQvxMG6eLAcwP4mWv","HumWin",void 0);var Je=s.ccclass,Qe=s.property,Ye=s.menu;e("default",(R=Je("HumWin"),z=Ye("弹窗模块/HumWin"),O=Qe(r),B=Qe(r),W=Qe(l),q=Qe(u),K=Qe(u),j=Qe(u),J=Qe(u),Q=Qe(u),Y=Qe(u),X=Qe(u),Z=Qe(h),$=Qe(u),ee=Qe(h),te=Qe(u),ie=Qe(h),ne=Qe(u),ae=Qe(h),oe=Qe(c),se=Qe(y),re=Qe(G),le=Qe(u),ue=Qe(u),he=Qe(r),ce=Qe(u),me=Qe(u),ge=Qe(x),fe=Qe(U),de=Qe(F),pe=Qe(P),R(we=z((Ie=t((ve=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"userName",Ie,a(t)),n(t,"guildName",be,a(t)),n(t,"tabBarButton",Ne,a(t)),n(t,"equipView",_e,a(t)),n(t,"fashionView",Se,a(t)),n(t,"stateView",Ae,a(t)),n(t,"attrView",Ee,a(t)),n(t,"titleView",Ve,a(t)),n(t,"skillView",Ce,a(t)),n(t,"skillContent",Me,a(t)),n(t,"skillItem",ke,a(t)),n(t,"titleContent",He,a(t)),n(t,"titleItem",Te,a(t)),n(t,"attrContent",ye,a(t)),n(t,"attrItem",Ge,a(t)),n(t,"stateContent",Le,a(t)),n(t,"stateitem",De,a(t)),n(t,"titleShowSprite",xe,a(t)),n(t,"humEquipView",Ue,a(t)),n(t,"humFashionView",Pe,a(t)),n(t,"fight_num",Fe,a(t)),n(t,"attrInfoMaskNode",Re,a(t)),n(t,"attrInfo",ze,a(t)),n(t,"NGToggle",Oe,a(t)),n(t,"BasicToggle",Be,a(t)),n(t,"NGStateView",We,a(t)),n(t,"NGSkillView",qe,a(t)),n(t,"NGComboView",Ke,a(t)),n(t,"NGMeridiansView",je,a(t)),t.AttributeArr=[],t.AttributeNum=[],t.itemArr=[],t.itemNum=[],t.skillItems=[],t.titleItems=[],t.stateItems=[],t.attrItems=[],t.selectIndex=0,t}i(t,e);var o=t.prototype;return o.start=function(){console.log("HumWinOpen"),V.MainScene.openRole=!0,this.setAllActiviFalse(),this.equipView.active=!0,this.ShowHeadItems(),this.initMgr(),V.g_OpenState=!0,this.showTab(V.MainScene.openHumTab),this.evtMgrUpdatePowerNum(V.powerNum)},o.initMgr=function(){E.addEventListener(H.SHOW_ITEM_ICO,this.ShowItemico,this),E.addEventListener(H.MAGIC_REFRESH,this.Magic_Refresh,this),E.addEventListener(H.STATE_SKILL,this.onState_skill,this),E.addEventListener(H.UPDATEHUM,this.updateHum,this),E.addEventListener(H.UPDATE_NAME_COLOR,this.UpdateNameColor,this),E.addEventListener(H.UPDATEHUMICON,this.updateHumIcon,this),E.addEventListener(H.UPDATEHUMNEWDRESS,this.updateHumNewDress,this),E.addEventListener(H.SHOWDURAHUM,this.showDuraHum,this),E.addEventListener(H.UPDATE_NEIGUAN_HAIR,this.updateNeiGuanHair,this),E.addEventListener(H.UPDATE_SELFSNDACASKETSTATE,this.setSndacasketState,this),E.addEventListener(H.REMOEV_ANI,this.removeAni,this),E.addEventListener(H.UPDATE_HUMWIN_GUILDNAME,this.updateGuildName,this),E.addEventListener(H.UPDATE_POWERNUM,this.evtMgrUpdatePowerNum,this),E.addEventListener(H.CLICK_ATTR_INFO,this.showAttrInfo,this)},o.evtMgrUpdatePowerNum=function(e){null==e&&null==e||(this.fight_num.getComponent(r).string=""+e)},o.updateGuildName=function(e){var t=e.split("/");this.guildName.string=t[0]},o.updateNeiGuanHair=function(e,t){console.log("updateNeiGuanHair"),this.humEquipView.setBodySprite(t,e)},o.onState_skill=function(){console.log("onState_skill"),this.setAllActiviFalse(),this.skillView.active=!0,this.initSkillView()},o.ShowItemico=function(){console.log("ShowItemico"),this.equipView.active?this.humEquipView.initEquipData():this.titleView.active&&this.initTitleView()},o.Magic_Refresh=function(){console.log("Magic_Refresh"),this.initSkillView()},o.showDuraHum=function(){this.equipView.active?this.humEquipView.showDuraHum():this.fashionView.active&&this.humFashionView.showDuraHum()},o.updateHum=function(){if(this.getHumAbil(),0==this.attrContent.children.length)for(var e=0;e<this.AttributeArr.length;e++){var t=m(this.attrItem),i=t.getComponent(I);i.init(this.AttributeArr[e],this.AttributeNum[e]),this.attrItems.push(i),this.attrContent.addChild(t)}else for(var n=0;n<this.AttributeArr.length;n++){this.attrItems[n].updateDate(this.AttributeNum[n])}if(0==this.stateContent.children.length)for(var a=0;a<this.itemArr.length;a++){this.itemNum.push(" ");var o=m(this.stateitem),s=o.getComponent(v);s.init(this.itemArr[a],this.itemNum[a]),this.stateItems.push(s),this.stateContent.addChild(o)}else for(var r=0;r<this.itemArr.length;r++){this.stateItems[r].updateDate(this.itemNum[r])}},o.getHumAbil=function(){var e=M.findobject(V.playerID);if(e){var t=k.THumFeature(e.data.fea.buffer);if(t)var i=t.btJob}var n=M.GetAttr(V.playerID);e&&n&&n.NewValue&&n.NewValue.length>10&&(this.itemArr=["职       业:","等       级:","当前经验:","升级经验:","生  命  值:","魔  法  值:","药  力  值:","酒  量  值:","酒量进度:",V.g_nGameDiamond.key+":",V.g_nGameGird.key+":",V.g_GamePointNum.key+":",V.g_GameGoldNum.key+":",""!=V.g_gamePopNum.key?V.g_gamePopNum.key:"声望:",""!=V.g_gameGlory.key?V.g_gameGlory.key:"荣誉点:"],this.itemNum=[C.getJobName(i),n.Level,n.Exp,n.MaxExp,C.makeBigNum(n.HP)+" / "+C.makeBigNum(n.MaxHP),C.makeBigNum(n.MP)+" / "+C.makeBigNum(n.MaxMP),"0","0","0",V.g_nGameDiamond.value,V.g_nGameGird.value,V.g_GamePointNum.value,V.g_GameGoldNum.value,n.CreditPoint,V.g_gameGlory.value],this.AttributeArr=["防       御:","魔       御:","攻       击:","魔       法:","道       术:","背包重量:","穿戴重量:","腕       力:","魔法躲避:","毒物躲避:","体力恢复:","魔法恢复:","攻击速度:","精  确  度:","敏  捷  度:","中毒回复:","致命一击:","攻击伤害:","物伤减少:","魔伤减少:","忽视防御:","伤害反弹:","体质增加:","经验附加:","怒气恢复:","合击伤害:","目标暴率:","魔力增加:","人物血量:","人物魔力:"],this.AttributeNum=[n.AC+" - "+n.MaxAC,n.MAC+" - "+n.MaxMAC,n.DC+" - "+n.MaxDC,n.MC+" - "+n.MaxMC,n.SC+" - "+n.MaxSC,n.Weight+" / "+n.MaxWeight,n.WearWeight+" / "+n.MaxWearWeight,n.HandWeight+" / "+n.MaxHandWeight,10*V.g_nMyAntiMagic+"%",10*V.g_nMyAntiPoison+"%",10*V.g_nMyHealthRecover+"%",10*V.g_nMySpellRecover+"%",V.rolespeed,V.g_nMyHitPoint,V.g_nMySpeedPoint,10*V.g_nMyPoisonRecover+"%",n.NewValue[0]+"%",n.NewValue[1]+"%",n.NewValue[2]+"%",n.NewValue[3]+"%",n.NewValue[4]+"%",n.NewValue[5]+"%",n.NewValue[6],n.NewValue[7]+"%",n.NewValue[8]+"%",n.NewValue[9]+"%",n.NewValue[10]+"%",n.NewValue[13],n.NewValue[14]+"%",n.NewValue[15]+"%"])},o.UpdateNameColor=function(e){T.Get2RGB(e)&&(this.userName.color=g(T.Get2RGB(e)))},o.updateHumIcon=function(){console.log("updateHumIcon"),D.putTask("initTitle",this.initTitleView)},o.updateHumNewDress=function(){console.log("updateHumNewDress"),this.humFashionView.initEquipData()},o.setSndacasketState=function(){console.log("setSndacasketState"),this.humEquipView.setSndacasketState()},o.ShowHeadItems=function(){var e=M.findobject(V.playerID);if(e&&e.txt_name){this.humEquipView.setBody(e.skin_feature),this.humFashionView.setBody(e.skin_feature),this.humFashionView.setToggle(e.skin_feature.boShowFashion);var t="";if(e.txt_name.text)if(-1!=e.txt_name.text.indexOf("\n")){var i=e.txt_name.text.split("\n");t=i[i.length-1]}else t=e.txt_name.text;var n=t;if(""!=n&&(this.userName.string=n),e.grildname){var a=e.grildname.split("/");this.guildName.string=a[0]}else this.guildName.node.active=!1}},o.setAllActiviFalse=function(){this.humEquipView.removeAni(),this.humFashionView.removeAni(),this.equipView.active=!1,this.fashionView.active=!1,this.stateView.active=!1,this.attrView.active=!1,this.titleView.active=!1,this.skillView.active=!1},o.tabbarButtonClick=function(e){var t=this.tabBarButton.indexOf(e);if(this.selectIndex!=t)switch(this.selectIndex=t,console.log("index=",t),V.MainScene.openHumTab=Number(this.tabBarButton[t].node.name),t){case 0:this.setAllActiviFalse(),this.equipView.active=!0,this.humEquipView.initEquipData();break;case 1:this.setAllActiviFalse(),this.fashionView.active=!0,this.humFashionView.initEquipData();break;case 2:this.setAllActiviFalse(),this.stateView.active=!0,this.updateHum();break;case 3:this.setAllActiviFalse(),this.attrView.active=!0,this.updateHum();break;case 4:this.setAllActiviFalse(),this.titleView.active=!0,this.initTitleView();break;case 5:this.setAllActiviFalse(),this.skillView.active=!0,this.initSkillView();break;case 6:this.closeNGAllWin(),this.NGStateView.node.active=!0,this.NGStateView.updateInfo();break;case 7:case 8:case 9:this.closeNGAllWin()}},o.showTab=function(e){for(var t in this.tabBarButton){var i=this.tabBarButton[t];if(Number(i.node.name)==e){this.tabbarButtonClick(i),i.isChecked=!0;break}}},o.closeNGAllWin=function(){this.NGComboView.node.active=!1,this.NGSkillView.node.active=!1,this.NGStateView.node.active=!1,this.NGMeridiansView.node.active=!1},o.initSkillView=function(){if(this.skillContent){for(var e=V.g_UserMagicList,t=0;t<e.length;t++){var i=e[t];if(0==this.skillItems.length||!this.skillItems[t]||i.Def.sMagicName!=this.skillItems[t].skill_data.name){var n=m(this.skillItem),a=n.getComponent(b);a.index=t,a.onItemClick=this.onSkillItemClicked.bind(this);var o=new S;o.name=i.Def.sMagicName,o.level=i.Level,o.nowExp=i.CurTrain,o.maxExp=i.Def.MaxTrain[i.Level],i.Key>=10&&(o.quickNum=i.Key-48),o.obj=i,a.init(o),this.skillItems.push(a),this.skillContent.addChild(n)}}e=null}},o.onSkillItemClicked=function(e){this.skillItems.forEach((function(t,i){i==e?(t.setSelected(!0),V.g_MoveSkill=V.g_UserMagicList[i],V.g_OpenIdx=_.SKILL,E.raiseEvent(H.OPEN_NEW_ITEM_INFO,[V.g_UserMagicList[i]])):t.setSelected(!1)}))},o.initTitleView=function(){var e=this;if(this.titleContent){var t="";t=V.g_ClientConfig.nShowUserIcon>=0&&V.g_ClientConfig.nShowUserIcon<V.g_pak_list.length?V.g_pak_list[V.g_ClientConfig.nShowUserIcon]:"items";for(var i=V.g_IconCList,n=0;n<i.length;n++){var a=i[n];if(0!=this.titleItems.length&&this.titleItems[n]){if(this.titleItems[n].title_data.MakeIndex==a.MakeIndex){console.log("continue",n);continue}this.titleItems[n].destroySelf(),this.titleItems.splice(n,1),console.log("destroySelf",n)}var o=m(this.titleItem),s=o.getComponent(N);s.index=n;var r=new A;r.name=a.s.Name;var l=C.loadImgData(a.s.Looks,t);r.res=l,r.data=a,s.init(r),s.onItemClick=this.onTitleItemClicked.bind(this),this.titleItems.push(s),this.titleContent.addChild(o)}if(i=null,V.g_IconCList[V.g_ActiveFengHaoIndex]&&V.g_IconCList[V.g_ActiveFengHaoIndex].MakeIndex>0){var u=C.loadImgData(V.g_IconCList[V.g_ActiveFengHaoIndex].s.Looks,t);L.resLoad(u.plist,(function(t){t&&e.titleShowSprite&&(t.getSpriteFrame(u.img)?e.titleShowSprite.spriteFrame=t.getSpriteFrame(u.img):e.titleShowSprite.spriteFrame=null)}))}else this.titleShowSprite.spriteFrame=null}},o.onTitleItemClicked=function(e){var t=this;this.titleItems.forEach((function(i,n){n==e?(i.setSelected(!0),t.updateTitle(i,n)):i.setSelected(!1)}))},o.updateTitle=function(e,t){V.g_SelectIndex=C.getItemType(e.title_data.s),V.g_OpenIdx=_.TITLESELECT,V.g_MoveItems.Index=t,V.g_MoveItems.Items=e.title_data,C.newShowItemsInf(V.g_MoveItems.Items)},o.onClickShowTitle=function(){null!=V.g_IconCList[V.g_ActiveFengHaoIndex]&&V.g_IconCList[V.g_ActiveFengHaoIndex].MakeIndex>0&&(V.g_OpenIdx=_.TITLE,V.g_MoveItems.Items=V.g_IconCList[V.g_ActiveFengHaoIndex],C.newShowItemsInf(V.g_MoveItems.Items,1))},o.onClickSetSkill=function(){E.raiseEvent(H.ADD_SETSKILL_PREF)},o.showAttrInfo=function(e){this.attrInfoMaskNode.active=!0;var t=e[0],i=e[1];this.attrInfo.node.parent.setPosition(f(0,0)),console.log("attr_node.position=",t.position);var n=t.parent.getComponent(d).convertToWorldSpaceAR(t.position);console.log("globalPos=",n);var a=new p;a=this.attrInfo.node.parent.getComponent(d).convertToNodeSpaceAR(n),console.log("new_pos=",a),this.attrInfo.node.parent.setPosition(f(a.x,a.y-t.getComponent(d).height)),this.attrInfo.string=i},o.onClickCloseAttrInfo=function(){this.attrInfoMaskNode.active=!1},o.onClickNG=function(){this.NGToggle.active=!0,this.BasicToggle.active=!1,this.NGStateView.node.active?this.NGStateView.updateInfo():this.NGComboView.node.active&&this.NGComboView.initDate()},o.onClickBasic=function(){this.NGToggle.active=!1,this.BasicToggle.active=!0},o.closeView=function(){this.humEquipView.removeAni(),this.humFashionView.removeAni(),this.node.destroy(),V.g_OpenState=!1},o.onDestroy=function(){V.MainScene.openRole=!1,E.removeEventListener(H.SHOW_ITEM_ICO,this.ShowItemico,this),E.removeEventListener(H.MAGIC_REFRESH,this.Magic_Refresh,this),E.removeEventListener(H.STATE_SKILL,this.onState_skill,this),E.removeEventListener(H.UPDATEHUM,this.updateHum,this),E.removeEventListener(H.UPDATE_NAME_COLOR,this.UpdateNameColor,this),E.removeEventListener(H.UPDATEHUMICON,this.updateHumIcon,this),E.removeEventListener(H.UPDATEHUMNEWDRESS,this.updateHumNewDress,this),E.removeEventListener(H.SHOWDURAHUM,this.showDuraHum,this),E.removeEventListener(H.UPDATE_NEIGUAN_HAIR,this.updateNeiGuanHair,this),E.removeEventListener(H.UPDATE_SELFSNDACASKETSTATE,this.setSndacasketState,this),E.removeEventListener(H.REMOEV_ANI,this.removeAni,this),E.removeEventListener(H.UPDATE_HUMWIN_GUILDNAME,this.updateGuildName,this),E.removeEventListener(H.UPDATE_POWERNUM,this.evtMgrUpdatePowerNum,this),E.removeEventListener(H.CLICK_ATTR_INFO,this.showAttrInfo,this)},o.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(w)).prototype,"userName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ve.prototype,"guildName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ve.prototype,"tabBarButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=t(ve.prototype,"equipView",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ve.prototype,"fashionView",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ve.prototype,"stateView",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ve.prototype,"attrView",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ve.prototype,"titleView",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ve.prototype,"skillView",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ve.prototype,"skillContent",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ve.prototype,"skillItem",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ve.prototype,"titleContent",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ve.prototype,"titleItem",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ve.prototype,"attrContent",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ve.prototype,"attrItem",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ve.prototype,"stateContent",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ve.prototype,"stateitem",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ve.prototype,"titleShowSprite",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ve.prototype,"humEquipView",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ve.prototype,"humFashionView",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ve.prototype,"fight_num",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ve.prototype,"attrInfoMaskNode",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ve.prototype,"attrInfo",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ve.prototype,"NGToggle",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ve.prototype,"BasicToggle",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ve.prototype,"NGStateView",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ve.prototype,"NGSkillView",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(ve.prototype,"NGComboView",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ve.prototype,"NGMeridiansView",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=ve))||we)||we));o._RF.pop()}}}));

System.register("chunks:///_virtual/HumWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var i,t,n,l,r,o,a,u,c,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Sprite,u=e.Toggle,c=e.Component},function(e){s=e.GameUtil}],execute:function(){var g,m,p,b,h,f,_,k,d,y,R,w,z,L,S,H,W,M,B,F,T,C,A,G,q,v,E,D,P,I,K,U,j,x,Y,Z,J,N,O,Q,V,X,$,ee,ie,te,ne,le,re,oe,ae,ue,ce,se,ge,me,pe,be,he,fe,_e,ke,de,ye,Re,we,ze,Le,Se,He,We,Me,Be,Fe,Te,Ce,Ae,Ge;r._RF.push({},"b4e043YKItCGZ9KoSPGkT4h","HumWinSprite",void 0);var qe=o.ccclass,ve=o.property,Ee=o.menu;e("default",(g=qe("HeroWinSprite"),m=Ee("图片模块/HeroWinSprite"),p=ve(a),b=ve(u),h=ve(a),f=ve(u),_=ve(a),k=ve(u),d=ve(a),y=ve(u),R=ve(a),w=ve(u),z=ve(a),L=ve(a),S=ve(a),H=ve(a),W=ve(a),M=ve(a),B=ve(a),F=ve(a),T=ve(a),C=ve(a),A=ve(a),G=ve(a),q=ve(a),v=ve(a),E=ve(a),D=ve(a),P=ve(u),I=ve(a),K=ve(a),U=ve(a),j=ve(a),x=ve(a),Y=ve(a),Z=ve(a),J=ve(a),N=ve(a),O=ve(a),g(Q=m((X=i((V=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"BG",X,l(i)),n(i,"toggleEquip",$,l(i)),n(i,"checkMarkEquip",ee,l(i)),n(i,"toggleFashion",ie,l(i)),n(i,"checkMarkFashion",te,l(i)),n(i,"toggleState",ne,l(i)),n(i,"checkMarkState",le,l(i)),n(i,"toggleAttribute",re,l(i)),n(i,"checkMarkAttribute",oe,l(i)),n(i,"toggleSkill",ae,l(i)),n(i,"checkMarkSkill",ue,l(i)),n(i,"close",ce,l(i)),n(i,"item_hat",se,l(i)),n(i,"item_medal",ge,l(i)),n(i,"item_bracelet_left",me,l(i)),n(i,"item_ring_left",pe,l(i)),n(i,"item_amulet",be,l(i)),n(i,"item_belt",he,l(i)),n(i,"item_shoes",fe,l(i)),n(i,"item_drum",_e,l(i)),n(i,"item_stone",ke,l(i)),n(i,"item_ring_right",de,l(i)),n(i,"item_bracelet_right",ye,l(i)),n(i,"item_necklace",Re,l(i)),n(i,"item_horse",we,l(i)),n(i,"item_helmet",ze,l(i)),n(i,"toggleFashionCheck",Le,l(i)),n(i,"toggleMarkFashionCheck",Se,l(i)),n(i,"fashion_medal",He,l(i)),n(i,"fashion_bracelet_left",We,l(i)),n(i,"fashion_ring_left",Me,l(i)),n(i,"fashion_belt",Be,l(i)),n(i,"fashion_shoes",Fe,l(i)),n(i,"fashion_stone",Te,l(i)),n(i,"fashion_ring_right",Ce,l(i)),n(i,"fashion_bracelet_right",Ae,l(i)),n(i,"fashion_necklace",Ge,l(i)),i}return t(i,e),i.prototype.start=function(){s.loadResLocal("HumWin/00029_new.png",this.BG),s.loadResLocal("HumWin/item_hat.png",this.item_hat),s.loadResLocal("HumWin/item_medal.png",this.item_medal),s.loadResLocal("HumWin/item_bracelet.png",this.item_bracelet_left),s.loadResLocal("HumWin/item_ring.png",this.item_ring_left),s.loadResLocal("HumWin/item_amulet.png",this.item_amulet),s.loadResLocal("HumWin/item_belt.png",this.item_belt),s.loadResLocal("HumWin/item_shoes.png",this.item_shoes),s.loadResLocal("HumWin/item_drum.png",this.item_drum),s.loadResLocal("HumWin/item_stone.png",this.item_stone),s.loadResLocal("HumWin/item_ring.png",this.item_ring_right),s.loadResLocal("HumWin/item_bracelet.png",this.item_bracelet_right),s.loadResLocal("HumWin/item_necklace.png",this.item_necklace),s.loadResLocal("HumWin/item_horse.png",this.item_horse),s.loadResLocal("HumWin/item_helmet.png",this.item_helmet),s.loadResLocal("public/btn_close_new.png",this.close),s.loadResLocal("HumWin/item_medal.png",this.fashion_medal),s.loadResLocal("HumWin/item_bracelet.png",this.fashion_bracelet_left),s.loadResLocal("HumWin/item_bracelet.png",this.fashion_bracelet_right),s.loadResLocal("HumWin/item_ring.png",this.fashion_ring_left),s.loadResLocal("HumWin/item_belt.png",this.fashion_belt),s.loadResLocal("HumWin/item_shoes.png",this.fashion_shoes),s.loadResLocal("HumWin/item_stone.png",this.fashion_stone),s.loadResLocal("HumWin/item_ring.png",this.fashion_ring_right),s.loadResLocal("HumWin/item_necklace.png",this.fashion_necklace),s.loadResLocalToggle("SplitResource/Btns/00017.png","SplitResource/Btns/00017 (3).png",this.toggleFashionCheck,this.toggleMarkFashionCheck),s.loadResLocalToggle("SplitResource/Btns/00040.png","SplitResource/Btns/00040 (3).png",this.toggleEquip,this.checkMarkEquip),s.loadResLocalToggle("SplitResource/Btns/00039.png","SplitResource/Btns/00039 (3).png",this.toggleFashion,this.checkMarkFashion),s.loadResLocalToggle("SplitResource/Btns/00038.png","SplitResource/Btns/00038 (3).png",this.toggleState,this.checkMarkState),s.loadResLocalToggle("SplitResource/Btns/00037.png","SplitResource/Btns/00037 (3).png",this.toggleAttribute,this.checkMarkAttribute),s.loadResLocalToggle("SplitResource/Btns/00036.png","SplitResource/Btns/00036 (3).png",this.toggleSkill,this.checkMarkSkill)},i}(c)).prototype,"BG",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(V.prototype,"toggleEquip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(V.prototype,"checkMarkEquip",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(V.prototype,"toggleFashion",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(V.prototype,"checkMarkFashion",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(V.prototype,"toggleState",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(V.prototype,"checkMarkState",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(V.prototype,"toggleAttribute",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(V.prototype,"checkMarkAttribute",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(V.prototype,"toggleSkill",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(V.prototype,"checkMarkSkill",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(V.prototype,"close",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(V.prototype,"item_hat",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(V.prototype,"item_medal",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(V.prototype,"item_bracelet_left",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(V.prototype,"item_ring_left",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(V.prototype,"item_amulet",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(V.prototype,"item_belt",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(V.prototype,"item_shoes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(V.prototype,"item_drum",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=i(V.prototype,"item_stone",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(V.prototype,"item_ring_right",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(V.prototype,"item_bracelet_right",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(V.prototype,"item_necklace",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(V.prototype,"item_horse",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(V.prototype,"item_helmet",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(V.prototype,"toggleFashionCheck",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(V.prototype,"toggleMarkFashionCheck",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=i(V.prototype,"fashion_medal",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=i(V.prototype,"fashion_bracelet_left",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(V.prototype,"fashion_ring_left",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(V.prototype,"fashion_belt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=i(V.prototype,"fashion_shoes",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=i(V.prototype,"fashion_stone",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=i(V.prototype,"fashion_ring_right",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(V.prototype,"fashion_bracelet_right",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=i(V.prototype,"fashion_necklace",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=V))||Q)||Q));r._RF.pop()}}}));

System.register("chunks:///_virtual/HumWinSprite2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var i,t,n,l,r,o,a,u,c,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Sprite,u=e.Toggle,c=e.Component},function(e){s=e.GameUtil}],execute:function(){var p,g,b,m,h,f,_,d,k,R,y,w,z,L,S,B,H,W,M,T,G,F,x,C,A,q,v,E,I,j,N,D,O,U,P,V,X,J,K,Q,Y,Z,$,ee,ie,te,ne,le,re,oe,ae,ue,ce,se,pe,ge,be,me,he,fe,_e,de,ke,Re,ye,we,ze,Le,Se,Be,He,We,Me,Te,Ge,Fe,xe,Ce,Ae,qe,ve,Ee,Ie,je,Ne,De,Oe,Ue,Pe,Ve,Xe,Je,Ke,Qe,Ye,Ze,$e,ei,ii,ti,ni,li;r._RF.push({},"d30eaN4l55BjLMVRuX3UWst","HumWinSprite",void 0);var ri=o.ccclass,oi=o.property,ai=o.menu;e("default",(p=ri("HumWinSprite"),g=ai("图片模块/HumWinSprite"),b=oi(a),m=oi(a),h=oi(u),f=oi(a),_=oi(u),d=oi(a),k=oi(u),R=oi(a),y=oi(u),w=oi(a),z=oi(u),L=oi(a),S=oi(u),B=oi(a),H=oi(a),W=oi(a),M=oi(a),T=oi(a),G=oi(a),F=oi(a),x=oi(a),C=oi(a),A=oi(a),q=oi(a),v=oi(a),E=oi(a),I=oi(a),j=oi(a),N=oi(a),D=oi(a),O=oi(a),U=oi(a),P=oi(u),V=oi(a),X=oi(a),J=oi(a),K=oi(a),Q=oi(a),Y=oi(a),Z=oi(a),$=oi(a),ee=oi(a),ie=oi(a),te=oi(a),ne=oi(a),le=oi(a),re=oi(a),oe=oi(a),ae=oi(a),p(ue=g((se=i((ce=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"BG",se,l(i)),n(i,"BoxBG",pe,l(i)),n(i,"toggleEquip",ge,l(i)),n(i,"checkMarkEquip",be,l(i)),n(i,"toggleFashion",me,l(i)),n(i,"checkMarkFashion",he,l(i)),n(i,"toggleState",fe,l(i)),n(i,"checkMarkState",_e,l(i)),n(i,"toggleAttribute",de,l(i)),n(i,"checkMarkAttribute",ke,l(i)),n(i,"toggleTitle",Re,l(i)),n(i,"checkMarkTitle",ye,l(i)),n(i,"toggleSkill",we,l(i)),n(i,"checkMarkSkill",ze,l(i)),n(i,"close",Le,l(i)),n(i,"item_hat",Se,l(i)),n(i,"item_medal",Be,l(i)),n(i,"item_bracelet_left",He,l(i)),n(i,"item_ring_left",We,l(i)),n(i,"item_amulet",Me,l(i)),n(i,"item_belt",Te,l(i)),n(i,"item_shoes",Ge,l(i)),n(i,"item_drum",Fe,l(i)),n(i,"item_stone",xe,l(i)),n(i,"item_ring_right",Ce,l(i)),n(i,"item_bracelet_right",Ae,l(i)),n(i,"item_necklace",qe,l(i)),n(i,"item_horse",ve,l(i)),n(i,"item_helmet",Ee,l(i)),n(i,"item_jade",Ie,l(i)),n(i,"item_box1",je,l(i)),n(i,"item_box2",Ne,l(i)),n(i,"toggleFashionCheck",De,l(i)),n(i,"toggleMarkFashionCheck",Oe,l(i)),n(i,"fashion_medal",Ue,l(i)),n(i,"fashion_bracelet_left",Pe,l(i)),n(i,"fashion_ring_left",Ve,l(i)),n(i,"fashion_belt",Xe,l(i)),n(i,"fashion_shoes",Je,l(i)),n(i,"fashion_stone",Ke,l(i)),n(i,"fashion_ring_right",Qe,l(i)),n(i,"fashion_bracelet_right",Ye,l(i)),n(i,"fashion_necklace",Ze,l(i)),n(i,"TitleBG",$e,l(i)),n(i,"TitleICONBG",ei,l(i)),n(i,"SkillButton",ii,l(i)),n(i,"sp_fight",ti,l(i)),n(i,"pet_icon",ni,l(i)),n(i,"all_fashion_icon",li,l(i)),i}return t(i,e),i.prototype.start=function(){s.loadResLocal("GameScene/zlz.png",this.sp_fight),s.loadResLocal("HumWin/00029_new.png",this.BG),s.loadResLocal("HumWin/00029_new_1.png",this.BoxBG),s.loadResLocal("HumWin/item_hat.png",this.item_hat),s.loadResLocal("HumWin/item_medal.png",this.item_medal),s.loadResLocal("HumWin/item_bracelet.png",this.item_bracelet_left),s.loadResLocal("HumWin/item_ring.png",this.item_ring_left),s.loadResLocal("HumWin/item_amulet.png",this.item_amulet),s.loadResLocal("HumWin/item_belt.png",this.item_belt),s.loadResLocal("HumWin/item_shoes.png",this.item_shoes),s.loadResLocal("HumWin/item_drum.png",this.item_drum),s.loadResLocal("HumWin/item_stone.png",this.item_stone),s.loadResLocal("HumWin/item_ring.png",this.item_ring_right),s.loadResLocal("HumWin/item_bracelet.png",this.item_bracelet_right),s.loadResLocal("HumWin/item_necklace.png",this.item_necklace),s.loadResLocal("HumWin/item_horse.png",this.item_horse),s.loadResLocal("HumWin/item_helmet.png",this.item_helmet),s.loadResLocal("HumWin/item_helmet.png",this.item_jade),s.loadResLocal("public/btn_close_new.png",this.close),s.loadResLocal("SplitResource/Btns/item_box1.png",this.item_box1),s.loadResLocal("SplitResource/Btns/item_box2.png",this.item_box2),s.loadResLocalAtlasIMG("data/newopui/001014.plist",this.pet_icon,"001021"),s.loadResLocal("HumWin/item_medal.png",this.fashion_medal),s.loadResLocal("HumWin/item_bracelet.png",this.fashion_bracelet_left),s.loadResLocal("HumWin/item_bracelet.png",this.fashion_bracelet_right),s.loadResLocal("HumWin/item_ring.png",this.fashion_ring_left),s.loadResLocal("HumWin/item_belt.png",this.fashion_belt),s.loadResLocal("HumWin/item_shoes.png",this.fashion_shoes),s.loadResLocal("HumWin/item_stone.png",this.fashion_stone),s.loadResLocal("HumWin/item_ring.png",this.fashion_ring_right),s.loadResLocal("HumWin/item_necklace.png",this.fashion_necklace),s.loadResLocalToggle("SplitResource/Btns/00017.png","SplitResource/Btns/00017 (3).png",this.toggleFashionCheck,this.toggleMarkFashionCheck),s.loadResLocalAtlasIMG("data/newui1/000508.plist",this.all_fashion_icon,"000542"),s.loadResLocal("HumWin/title_bg.png",this.TitleBG),s.loadResLocal("HumWin/icon_k.png",this.TitleICONBG),s.loadResLocal("public/btn_ok.png",this.SkillButton),s.loadResLocalToggle("SplitResource/Btns/00040.png","SplitResource/Btns/00040 (3).png",this.toggleEquip,this.checkMarkEquip),s.loadResLocalToggle("SplitResource/Btns/00039.png","SplitResource/Btns/00039 (3).png",this.toggleFashion,this.checkMarkFashion),s.loadResLocalToggle("SplitResource/Btns/00038.png","SplitResource/Btns/00038 (3).png",this.toggleState,this.checkMarkState),s.loadResLocalToggle("SplitResource/Btns/00037.png","SplitResource/Btns/00037 (3).png",this.toggleAttribute,this.checkMarkAttribute),s.loadResLocalToggle("SplitResource/Btns/00041.png","SplitResource/Btns/00041 (3).png",this.toggleTitle,this.checkMarkTitle),s.loadResLocalToggle("SplitResource/Btns/00036.png","SplitResource/Btns/00036 (3).png",this.toggleSkill,this.checkMarkSkill)},i}(c)).prototype,"BG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(ce.prototype,"BoxBG",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(ce.prototype,"toggleEquip",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(ce.prototype,"checkMarkEquip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(ce.prototype,"toggleFashion",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(ce.prototype,"checkMarkFashion",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(ce.prototype,"toggleState",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(ce.prototype,"checkMarkState",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(ce.prototype,"toggleAttribute",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=i(ce.prototype,"checkMarkAttribute",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(ce.prototype,"toggleTitle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(ce.prototype,"checkMarkTitle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(ce.prototype,"toggleSkill",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(ce.prototype,"checkMarkSkill",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(ce.prototype,"close",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(ce.prototype,"item_hat",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(ce.prototype,"item_medal",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=i(ce.prototype,"item_bracelet_left",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=i(ce.prototype,"item_ring_left",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(ce.prototype,"item_amulet",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=i(ce.prototype,"item_belt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=i(ce.prototype,"item_shoes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=i(ce.prototype,"item_drum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(ce.prototype,"item_stone",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=i(ce.prototype,"item_ring_right",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(ce.prototype,"item_bracelet_right",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=i(ce.prototype,"item_necklace",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i(ce.prototype,"item_horse",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(ce.prototype,"item_helmet",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=i(ce.prototype,"item_jade",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=i(ce.prototype,"item_box1",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(ce.prototype,"item_box2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=i(ce.prototype,"toggleFashionCheck",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=i(ce.prototype,"toggleMarkFashionCheck",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=i(ce.prototype,"fashion_medal",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=i(ce.prototype,"fashion_bracelet_left",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=i(ce.prototype,"fashion_ring_left",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=i(ce.prototype,"fashion_belt",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=i(ce.prototype,"fashion_shoes",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=i(ce.prototype,"fashion_stone",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=i(ce.prototype,"fashion_ring_right",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=i(ce.prototype,"fashion_bracelet_right",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=i(ce.prototype,"fashion_necklace",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=i(ce.prototype,"TitleBG",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=i(ce.prototype,"TitleICONBG",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=i(ce.prototype,"SkillButton",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=i(ce.prototype,"sp_fight",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=i(ce.prototype,"pet_icon",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=i(ce.prototype,"all_fashion_icon",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=ce))||ue)||ue));r._RF.pop()}}}));

System.register("chunks:///_virtual/InitGame.ts",["cc","./Config.ts","./RelationManager.ts","./Sendmessage.ts"],(function(n){"use strict";var t,e,s,i;return{setters:[function(n){t=n.cclegacy},function(n){e=n.Configs},function(n){s=n.RelationManager},function(n){i=n.Sendmessage}],execute:function(){t._RF.push({},"fb6f9cExdxJm6yeGGdhlb9s","InitGame",void 0),n("InitGame",function(){function n(){}n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var t=n.prototype;return t.init=function(){console.log("---init----------------"),e.getInstance().init(),i.getInstance(),s.getInstance().init()},t.sendHttp=function(n,t,e){return new Promise((function(t,s){var i=new XMLHttpRequest;i.open(e,n),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300){var n=JSON.parse(i.responseText);console.log("---------------------request success---------------------"),t(n)}else s("---------------------request fail---------------------")},i.send()}))},n}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Int64.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"901786IXldC+7D062LIuoZ3","Int64",void 0);var f=t("Int64",function(){function t(t,r){this.buffer=void 0,this.offset=void 0,this._buildHex(),t instanceof Array?(this.buffer=t,this.offset=r||0):"[object Uint8Array]"==Object.prototype.toString.call(t)?(this.buffer=Array.apply([],t),this.offset=r||0):(this.buffer=this.buffer||[],this.offset=0,this.setValue.apply(this,arguments))}var r=t.prototype;return r._buildHex=function(){for(var r=0;r<256;r++)t._HEX[r]=(r>15?"":"0")+r.toString(16)},r._2scomp=function(){for(var t=this.buffer,r=this.offset,f=1,e=r+7;e>=r;e--){var i=(255^t[e])+f;t[e]=255&i,f=i>>8}},r.setValue=function(r,f){var e=!1;if(1==arguments.length)if("number"==typeof r){if(e=r<0,f=(r=Math.abs(r))%t.VAL32,(r/=t.VAL32)>t.VAL32)throw new RangeError(r+" is outside Int64 range");r|=0}else{if("string"!=typeof r)throw new Error(r+" must be a Number or String");f=(r=(r+"").replace(/^0x/,"")).substr(-8),r=r.length>8?r.substr(0,r.length-8):"",r=parseInt(r,16),f=parseInt(f,16)}for(var i=this.buffer,s=this.offset,o=7;o>=0;o--)i[s+o]=255&f,f=4==o?r:f>>>8;e&&this._2scomp()},r.toNumber=function(r){void 0===r&&(r=!1);for(var f=this.buffer,e=this.offset,i=128&f[e],s=0,o=1,n=7,u=1;n>=0;n--,u*=256){var h=f[e+n];i&&(o=(h=(255^h)+o)>>8,h&=255),s+=h*u}return!r&&s>=t.MAX_INT?i?-1/0:1/0:i?-s:s},r.valueOf=function(){return this.toNumber(!1)},r.toString=function(t){return void 0===t&&(t=10),this.valueOf().toString(t)},r.toOctetString=function(r){void 0===r&&(r="");for(var f=new Array(8),e=this.buffer,i=this.offset,s=0;s<8;s++)f[s]=t._HEX[e[i+s]];return f.join(r||"")},r.toBuffer=function(t){return void 0===t&&(t=!1),t&&0===this.offset?this.buffer:Array.call([],this.buffer)},r.compare=function(t){if((128&this.buffer[this.offset])!=(128&t.buffer[t.offset]))return t.buffer[t.offset]-this.buffer[this.offset];for(var r=0;r<8;r++)if(this.buffer[this.offset+r]!==t.buffer[t.offset+r])return this.buffer[this.offset+r]-t.buffer[t.offset+r];return 0},r.equals=function(t){return 0===this.compare(t)},r.inspect=function(){return"[Int64 value:"+this+" octets:"+this.toOctetString(" ")+"]"},t}());f.MASK31=2147483647,f.VAL31=2147483648,f.MASK32=4294967295,f.VAL32=4294967296,f.MAX_INT=Math.pow(2,53),f.MIN_INT=-Math.pow(2,53),f._HEX=new Array,r._RF.pop()}}}));

System.register("chunks:///_virtual/Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts"],(function(e){"use strict";var t,i,o,r,n,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,s=e.Toggle,u=e.Component},function(e){p=e.resourcesMgr}],execute:function(){var a,g,l,h,_,k,m;n._RF.push({},"126bd0DZupBoLWoo1iN+jkx","Item",void 0);var f=c.ccclass,b=c.property;e("Item",(a=f("Item"),g=b(s),l=b(s),a((k=t((_=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,o(t,"tog_ShowName",k,r(t)),o(t,"tog_AutoPick",m,r(t)),t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.tog_ShowName.normalSprite=p.getRes("public/seting_checkBox.png"),this.tog_ShowName.pressedSprite=p.getRes("public/seting_checkBox (2).png"),this.tog_ShowName.checkMark.spriteFrame=p.getRes("public/seting_checkBox (2).png"),this.tog_AutoPick.normalSprite=p.getRes("public/seting_checkBox.png"),this.tog_AutoPick.pressedSprite=p.getRes("public/seting_checkBox (2).png"),this.tog_AutoPick.checkMark.spriteFrame=p.getRes("public/seting_checkBox (2).png")},n.start=function(){},n.update=function(e){},t}(u)).prototype,"tog_ShowName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(_.prototype,"tog_AutoPick",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=_))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemMgr.ts",["cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./objectcontrol.ts","./Sendmessage.ts","./GameUtil.ts","./AnimationModule.ts","./UIcontrol.ts"],(function(t){"use strict";var e,i,s,n,a,o,I,r,h,m,l;return{setters:[function(t){e=t.cclegacy,i=t.Vec2,s=t.v2},function(t){n=t.EventMgr},function(t){a=t.Config},function(t){o=t.default},function(t){I=t.Objectcontrol},function(t){r=t.sendmessage},function(t){h=t.GameUtil},function(t){m=t.Animationmodule},function(t){l=t.uiControl}],execute:function(){e._RF.push({},"9eff0oa0opPiqABPcI/iYFI","ItemMgr",void 0);var u=t("ItemMgr",function(){function t(){this.InBagList=[],this.InBagMap={},this.UseItemList=[],this.UseItemMap={},this.DropItemList=[],this.DropItemMap={},this.InDepotRoomList=[],this.InDepotRoomMap={},this.LastRepairItemId=null,this.BuyItemRoomList=[],this.BuyItemInfoRoomList=[],this.TradeItemList=[],this.TradeOtherList=[],this.BaiTanList=[],this.LastTradeItem=null,this.LastUseItem=null,this.LastDragItem=null,this.LastDragFrom="",this.LastRepaceItem=null,this.LastBaiTanItem=null,this.LastBaiTanBuyItem=null,this.MainDlgUseList=[null,null,null,null,null,null],this.MainDlgUseMap={},this.ShopItemList=[],this.StrageList=[],this.LastShopItem=null,this.LastTakeOnPos=0,this.CurSelecItem=null,this.CanTakeOnItems=!1,this.SelectEquipNPos=-1,this.UseItemLock=!1}t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var e=t.prototype;return e.AddItemToBag=function(t,e){if(null==e&&(e=!0),null!=t&&null!=t.s){var i=this.FindItemFromDropList(t.MakeIndex);if(i&&this.DelItemFromMap(i.MakeIndex),0==e)return null==this.InBagMap[t.MakeIndex]&&this.InBagList.push(t),void(this.InBagMap[t.MakeIndex]=t);1!=this.IsAddItemToMainDlg(t)&&(this.InBagList.length>=h.maxBagItems()?n.raiseEvent("show_log",[{txt:"背包已满",color:"#00ff00"}]):(null==this.InBagMap[t.MakeIndex]&&this.InBagList.push(t),this.InBagMap[t.MakeIndex]=t))}},e.DeleteTradeItem=function(t){for(var e=0;e<this.TradeItemList.length;e++)this.TradeItemList[e].id==t&&this.TradeItemList.splice(e,1)},e.DeleteTradeOtherItem=function(t){for(var e=0;e<this.TradeOtherList.length;e++)this.TradeOtherList[e].id==t&&this.TradeOtherList.splice(e,1)},e.AddItemToRole=function(t){null!=t.s&&(null==this.UseItemMap[t.MakeIndex]&&this.UseItemList.push(t),this.UseItemMap[t.MakeIndex]=t)},e.FindItemFromDropList=function(t){for(var e=0;e<this.DropItemList.length;e++)if(this.DropItemList[e].MakeIndex==t)return this.DropItemList[e];return null},e.AddItemToMap=function(t){return null==this.DropItemMap[t.id]&&(this.DropItemList.push(t),this.DropItemMap[t.id]=t,n.raiseEvent(o.UPDATE_PICK_ITEM,t),I.autodrop(t),!0)},e.existThisItemInMap=function(t){return!(!t||!this.DropItemMap)&&!!this.DropItemMap[t.id]},e.AddItemToDepot=function(t){null!=t.s&&(null==this.InDepotRoomMap[t.MakeIndex]&&this.InDepotRoomList.push(t),this.InDepotRoomMap[t.MakeIndex]=t)},e.IsAddItemToMainDlg=function(t){if(this.getMainDlgItemLength()>=6)return!1;var e=this.getMainDlgItemPos();return t.s.StdMode<=3&&(this.MainDlgUseList[e]||(this.MainDlgUseList[e]=t),n.raiseEvent(o.UDPATE_MAINDLG_ITEMS),!0)},e.getMainDlgItemLength=function(){for(var t=0,e=0;e<this.MainDlgUseList.length;e++)null!=this.MainDlgUseList[e]&&t++;return t},e.getMainDlgItemPos=function(){for(var t=0;t<this.MainDlgUseList.length;t++)if(null==this.MainDlgUseList[t])return t;return 0},e.AddItemToMainDlg=function(t){if(null==this.MainDlgUseMap[t.MakeIndex])var e;e=this.getMainDlgItemPos(),this.MainDlgUseList[e]=t,this.MainDlgUseMap[t.MakeIndex]=t},e.RemoveItemFromMainDlg=function(t){for(var e=0;e<this.MainDlgUseList.length;e++)this.MainDlgUseList[e]&&this.MainDlgUseList[e].MakeIndex==t&&(this.MainDlgUseList[e]=null);this.MainDlgUseMap[t]&&delete this.MainDlgUseMap[t],n.raiseEvent(o.UDPATE_MAINDLG_ITEMS)},e.DelItemFromMap=function(t){null==t&&(this.DropItemList=[],this.DropItemMap={});for(var e=0;e<this.DropItemList.length;e++)if(this.DropItemList[e].id==t){this.DropItemList.splice(e,1),a.g_cannotPick[t]&&delete a.g_cannotPick[t];break}this.DropItemMap[t]&&delete this.DropItemMap[t],n.raiseEvent(o.DEL_PICK_ITEM,t)},e.clearItemAni=function(t,e){if(e.isDorp&&m.ani_list){for(var i,s=m.ani_list,n=0;n<s.length;n++)s[n].id==t&&(i=s[n]);m.removeAni(i)}},e.HasDropItemById=function(t){return!!this.DropItemMap[t]},e.DeleteItemFromDepot=function(t){for(var e=0;e<this.InDepotRoomList.length;e++)this.InDepotRoomList[e].MakeIndex!=t&&0!=this.InDepotRoomList[e]||this.InDepotRoomList.splice(e,1);this.InDepotRoomMap[t]&&delete this.InDepotRoomMap[t]},e.DeleteItem=function(t,e){if(null==e&&(e=!0),e){for(var i=0;i<this.InBagList.length;i++)this.InBagList[i].MakeIndex==t&&this.InBagList.splice(i,1);this.InBagMap[t]&&delete this.InBagMap[t],n.raiseEvent(o.SHOW_BAG_ITEMS)}else{for(var s=0;s<this.UseItemList.length;s++)this.UseItemList[s].MakeIndex==t&&this.UseItemList.splice(s,1);this.UseItemMap[t]&&delete this.UseItemMap[t],n.raiseEvent(o.UPDATE_ROLEEDITOR)}},e.FindItemFromInBagList=function(t){for(var e=0;e<this.InBagList.length;e++)if(this.InBagList[e].MakeIndex==t)return{tag:e,item:this.InBagList[e]};return null},e.FindItemShapeFromInBag=function(t,e){for(var i=0;i<a.g_BagItemsList.length;i++)if(a.g_BagItemsList[i]&&a.g_BagItemsList[i].s.StdMode==t&&a.g_BagItemsList[i].s.Shape==e)return{tag:i,item:a.g_BagItemsList[i]};return null},e.FindItemFromUseList=function(t){for(var e=0;e<this.UseItemList.length;e++)if(this.UseItemList[e].MakeIndex==t)return{tag:e,item:this.UseItemList[e]};return null},e.FindUseItemByType=function(t){for(var e=[],i=0;i<this.UseItemList.length;i++){h.getItemType(this.UseItemList[i].s)==t&&e.push(this.UseItemList[i])}return e},e.FindUseItemByNpos=function(t){for(var e=0;e<this.UseItemList.length;e++)if(this.UseItemList[e].tag==t)return this.UseItemList[e];return null},e.RepleaseUseItem=function(t,e){for(var i=0;i<this.UseItemList.length;i++)this.UseItemList[i].MakeIndex==t&&(this.UseItemList[i]=e,this.UseItemMap[t]=e)},e.UpdateItem=function(t){var e=this.FindItemFromInBagList(t.MakeIndex);e&&(this.InBagList[e.tag]=t,this.InBagMap[t.MakeIndex]=t,n.raiseEvent(o.SHOW_BAG_ITEMS));var i=this.FindItemFromUseList(t.MakeIndex);i&&(this.UseItemList[i.tag]=t,this.UseItemMap[t.s.MakeIndex]=t,n.raiseEvent(o.UPDATE_ROLEEDITOR))},e.AutoAddHP=function(){},e.AutoAddMP=function(){},e.UseItem=function(t){1!=this.UseItemLock?(this.UseItemLock=!0,this.LastUseItem=t,t&&r.SendUseItem(t.MakeIndex,t.s.Name),h.clickSound(t)):l.handlerAlert({type:1,content:"禁止连续使用物品",color:"#ff0000"})},e.GetItemListByName=function(t){for(var e=[],i=0;i<this.InBagList.length;i++)this.InBagList[i].s.DBName==t&&e.push(this.InBagList[i]);return e},e.GetItemListByType=function(t){for(var e=[],i=0;i<this.InBagList.length;i++){var s=h.getItemType(this.InBagList[i].s);s==t?e.push(this.InBagList[i]):5==t||6==t?5!=s&&6!=s||e.push(this.InBagList[i]):7!=t&&8!=t||8!=s&&7!=s||e.push(this.InBagList[i])}return e},e.RemoveShopRoomItem=function(t){for(var e=!1,i=0;i<this.BuyItemInfoRoomList.length;i++)t.MakeIndex==this.BuyItemInfoRoomList[i].MakeIndex&&(this.BuyItemInfoRoomList.splice(i,1),e=!0);for(var s=0;s<this.BuyItemRoomList.length;s++)t.MakeIndex==this.BuyItemRoomList[s].MakeIndex&&(e=!0,this.BuyItemRoomList.splice(s,1));return e},e.GetDropItemByActor=function(t){for(var e=new i(t.x,t.y),n=null,a=99999,o=0,I=0;I<this.DropItemList.length;I++)(o=i.distance(e,s(this.DropItemList[I].x,this.DropItemList[I].y)))<a&&(a=o,n=this.DropItemList[I]);return n},e.GetPotionItems=function(){for(var t=[],e=0;e<this.InBagList.length;e++)this.InBagList[e].s.StdMode<=3&&t.push(this.InBagList[e]);return t},e.GetUseItemCntByName=function(t){for(var e=0,i=0;i<this.UseItemList.length;i++)this.UseItemList[i].s.Name==t&&e++;return e},e.GetUseItemByName=function(t){for(var e=0;e<this.UseItemList.length;e++)if(this.UseItemList[e].s.Name==t)return this.UseItemList[e];return null},e.FindUseItemByPos=function(t){for(var e=0;e<a.g_UserItemList.length;e++)if(a.g_UserItemList[e]&&e==t)return a.g_UserItemList[e];return null},e.ClearItem=function(){this.InBagList=[],this.InBagMap={},this.UseItemList=[],this.UseItemMap={},this.DropItemList=[],this.DropItemMap={},this.InDepotRoomList=[],this.InDepotRoomMap={},this.BuyItemRoomList=[],this.BuyItemInfoRoomList=[],this.TradeItemList=[],this.TradeOtherList=[],this.LastTradeItem=null,this.LastUseItem=null,this.LastDragItem=null,this.LastDragFrom="",this.LastRepaceItem=null,this.MainDlgUseList=[null,null,null,null,null,null],this.MainDlgUseMap={}},e.AddItemToBaiTan=function(t){var e,i=null==(e=this.FindItemFromInBagList(t.id))?void 0:e.item;this.DeleteItem(i.MakeIndex,null);var s={item:i,price:t.num,type:t.type};this.BaiTanList.push(s),n.raiseEvent(o.SHOW_BAG_ITEMS)},e.AddBaiTanItemToBag=function(){for(var t=0;t<this.BaiTanList.length;t++){var e=this.BaiTanList[t].item;this.AddItemToBag(e,!1)}this.BaiTanList=[],n.raiseEvent(o.SHOW_BAG_ITEMS)},t}());u._instance=void 0;t("itemMgr",u.getInstance());e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemNotice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,o,n,c,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,c=t.Sprite,i=t.Component},function(t){r=t.GameUtil}],execute:function(){var s;o._RF.push({},"c9990uZbGxAzoJ/XbUmTrph","ItemNotice",void 0);var u=n.ccclass;n.property,t("ItemNotice",u("ItemNotice")(s=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.start=function(){r.loadResLocal("LoginScene/gxx/notice_tog_01.png",this.node.getComponent(c)),r.loadResLocal("LoginScene/gxx/notice_tog_02.png",this.node.getChildByName("sp_selected").getComponent(c))},n.update=function(t){},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemRedPacket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,a,r,o,l,c,u,s,p,d,b,g,f,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Sprite,c=e.Label,u=e.Button,s=e.Input,p=e.color,d=e.UIOpacity,b=e.Component},function(e){g=e.Config},function(e){f=e.Sendmessage},function(e){_=e.GameUtil}],execute:function(){var h,m,y,R,k,P,S,v,O,w,z,C,T,N,L,A,D,G,x,I,M;r._RF.push({},"36509hzJK5GKLel9vMWo6FB","ItemRedPacket",void 0);var U=o.ccclass,B=o.property;e("ItemRedPacket",(h=U("ItemRedPacket"),m=B(l),y=B(c),R=B(c),k=B(c),P=B(c),S=B(c),v=B(c),O=B(u),w=B(l),h((T=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"icon_RedP",T,a(t)),i(t,"lab_DeliveryTime",N,a(t)),i(t,"lab_Area",L,a(t)),i(t,"lab_Greeting",A,a(t)),i(t,"lab_OwnerName",D,a(t)),i(t,"lab_MoneyAmount",G,a(t)),i(t,"lab_Surplus",x,a(t)),i(t,"btn_Open",I,a(t)),i(t,"icon_RedState",M,a(t)),t._idx=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.btn_Open.node.on(s.EventType.TOUCH_START,(function(e){e.preventSwallow=!0}),this),this.btn_Open.node.on(s.EventType.TOUCH_END,this.onClickOpen,this)},r.start=function(){_.loadResLocal("Socialize/bg1.png",this.node.getComponent(l)),_.loadResLocal("Socialize/redPack_had.png",this.icon_RedState)},r.setData=function(e,t){this._idx=t,this.icon_RedState.node.active=!1,this.btn_Open.node.active=!0;var n=this.getHadNum(e.OpenRedPacket),i=e.bOpened?"Socialize/redpak_redbag1.png":"Socialize/redpak_redbag0.png";_.loadResLocal(i,this.icon_RedP),this.lab_DeliveryTime.string=e.nRedPacketTime,this.lab_DeliveryTime.color=e.bOpened?p("#e0dedb"):p("#f47c12"),this.lab_Area.string=this.getAreaName(e.nType),this.lab_Area.color=p(this.getAreaColor(e.nType)),this.lab_OwnerName.string=e.sUserName,this.lab_MoneyAmount.string=e.nGoldNum+_.getCurrencyByGoldType(_.getFinalMoneyType(e.nGoldType)),""!=e.sMsg&&(this.lab_Greeting.string=e.sMsg),this.lab_Surplus.string=this.getLastRedPackNum(e.nRedPacketCount,n,e.redPackNum),this.icon_RedState.node.active=0!=e.nRedPacketCount&&e.nRedPacketCount==n,this.icon_RedState.node.active?this.btn_Open.getComponent(d).opacity=1:this.btn_Open.getComponent(d).opacity=255},r.onShowBg=function(e){var t=0==e?"Socialize/bg1.png":"Socialize/bg2.png";_.loadResLocal(t,this.node.getComponent(l))},r.onClickOpen=function(e){e.preventSwallow=!0,g.g_RedPack_List[this._idx].bOpened=!0,g.selectedData=g.g_RedPack_List[this._idx],console.log("红包信息---\x3e>> ",g.selectedData),g.openRed=!0,this.onShowBg(1),g.g_RedPackOpen=g.g_RedPack_List[this._idx].nRedRecog,f.getInstance().sendOpenRedPack(g.g_RedPackOpen)},r.getAreaName=function(e){switch(e){case 0:return"[行会]";case 1:return"[队伍]";case 2:return"[国家]";case 3:return"[全服]";case 4:return"[好友]"}},r.getAreaColor=function(e){switch(e){case 0:return"#fffe03";case 1:case 2:return"#ffffff";case 3:return"#fb0404";case 4:return"#ffffff"}},r.getLastRedPackNum=function(e,t,n){return e>0?e-t+"":n||"0"},r.getHadNum=function(e,t,n){for(var i=0,a=0;a<100;a++)if(""!=e[a].sUserName&&(i++,t&&t.indexOf(e[a].sUserName)>-1))return-1;return i},t}(b)).prototype,"icon_RedP",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(C.prototype,"lab_DeliveryTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(C.prototype,"lab_Area",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"lab_Greeting",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"lab_OwnerName",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(C.prototype,"lab_MoneyAmount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"lab_Surplus",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(C.prototype,"btn_Open",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(C.prototype,"icon_RedState",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=C))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemRedPacketSend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./GameUtil.ts"],(function(e){"use strict";var t,a,i,n,r,l,o,s,c,u,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Sprite,s=e.Label,c=e.Component},function(e){u=e.Config},function(e){b=e.GameUtil}],execute:function(){var m,p,g,y,_,f,d,k,h,S,G,v,w,z,N;r._RF.push({},"91c324DPHRL/pb3/S5ASqs3","ItemRedPacketSend",void 0);var P=l.ccclass,R=l.property;e("ItemRedPacketSend",(m=P("ItemRedPacketSend"),p=R(o),g=R(s),y=R(s),_=R(s),f=R(s),d=R(s),m((S=t((h=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"Sp",S,n(t)),i(t,"lab_getUserName",G,n(t)),i(t,"lab_message",v,n(t)),i(t,"lab_money",w,n(t)),i(t,"lab_time",z,n(t)),i(t,"lab_lucky",N,n(t)),t._nSelType=0,t}a(t,e);var r=t.prototype;return r.start=function(){b.loadResLocal("Socialize/redpak_redbag0.png",this.Sp)},r.updateView=function(e){console.log(e);var t=" 金币";switch(this._nSelType){case 0:t=u.g_GameGoldNum.key;break;case 1:t=u.g_GameCionNum.key;break;case 2:t=u.g_GamePointNum.key;break;case 3:t=u.g_nGameDiamond.key;break;case 4:t=u.g_nGameGird.key;break;case 5:t=u.g_gameGlory.key}this.lab_getUserName.string=e.sUserName,this.lab_message.string="留言："+e.sNote,this.lab_money.string="获得 "+e.nGoldValue+t,this.lab_time.string=e.sTime,this.lab_lucky.node.active=e.boIsok},t}(c)).prototype,"Sp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(h.prototype,"lab_getUserName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"lab_message",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(h.prototype,"lab_money",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(h.prototype,"lab_time",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(h.prototype,"lab_lucky",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=h))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,o,n,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.Sprite,c=t.Component},function(t){i=t.GameUtil}],execute:function(){var s;o._RF.push({},"aaca9L6IAtDzJO4HpL44kQJ","ItemShow",void 0);var u=n.ccclass;n.property,t("ItemShow",u("ItemShow")(s=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.start=function(){i.loadResLocal("public/00018.png",this.node.getComponent(r))},o}(c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,i,n,l,o,r,c,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.Sprite,a=e.Label,s=e.Component},function(e){u=e.GameUtil}],execute:function(){var f,d,p,m,g,h,S,b,y;o._RF.push({},"4256bKh4/5Ebbal1GsTSX8P","ItemSkill",void 0);var D=r.ccclass,I=r.property;r.menu,e("ItemSkill",(f=D("ItemSkill"),d=I(c),p=I(a),m=I(c),f((S=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"icon",S,l(t)),n(t,"text",b,l(t)),n(t,"imgSelected",y,l(t)),t}i(t,e);var o=t.prototype;return o.start=function(){this.initView()},o.initView=function(){u.loadResLocal("SetSkill/setskill_chosen.png",this.imgSelected),this.hiddenSelectedImg()},o.setData=function(e){e.Def.btEffect;e.Def.wMagicId,e.Def.wMagicId,e.Def.wMagicId;var t=u.formatData(e);u.loadResLocal(t,this.icon.getComponent(c)),this.text.string=e.Def.sMagicName,this.node.magicData=e},o.onClickNodeHandler=function(e){},o.showSelectedImg=function(){this.imgSelected.node.active=!0},o.hiddenSelectedImg=function(){this.imgSelected.node.active=!1},t}(s)).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(h.prototype,"text",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"imgSelected",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemTargetBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,r,o,n,i,a,l,s,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Sprite,s=e.ProgressBar,p=e.Component},function(e){u=e.GameUtil}],execute:function(){var c,g,b,f,B,_,d,m,x,h,y,z,L,w,R;i._RF.push({},"d7a47LfW5lCIpqnHRe6QLWX","ItemTargetBox",void 0);var j=a.ccclass,v=a.property;e("ItemTargetBox",(c=j("ItemTargetBox"),g=v(l),b=v(l),f=v(l),B=v(l),_=v(s),d=v(l),c((h=t((x=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"sp_bg",h,n(t)),o(t,"sp_sz",y,n(t)),o(t,"sp_job0",z,n(t)),o(t,"sp_job1",L,n(t)),o(t,"ProgressBar",w,n(t)),o(t,"Bar",R,n(t)),t}r(t,e);var i=t.prototype;return i.start=function(){u.loadResLocal("targetBox/p.png",this.sp_bg),u.loadResLocal("targetBox/sz.png",this.sp_sz),u.loadResLocal("targetBox/gxx/rw-.png",this.sp_job0),u.loadResLocal("targetBox/gxx/gw-.png",this.sp_job1),u.loadResLocal("targetBox/kd.png",this.ProgressBar.node.getComponent(l)),u.loadResLocal("targetBox/h.png",this.Bar)},i.update=function(e){},t}(p)).prototype,"sp_bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(x.prototype,"sp_sz",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(x.prototype,"sp_job0",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(x.prototype,"sp_job1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(x.prototype,"ProgressBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(x.prototype,"Bar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=x))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/LabelOutLineForWindows.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,i,s,h,a,r,l,u,c,p;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy,i=t._decorator,s=t.Label,h=t.Node,a=t.LabelOutline,r=t.color,l=t.UIOpacity,u=t.UITransform,c=t.Color,p=t.Component}],execute:function(){var d;e._RF.push({},"70957uwoO9P+ap83Mxdij4D","LabelOutLineForWindows",void 0);var L=i.ccclass;i.property,t("LabelOutLineForWindows",L("LabelOutLineForWindows")(d=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._cacheMode=null,n._fontSize=null,n._font=null,n._opacity=null,n._string=null,n._color=null,n._enableWrapText=!0,n._outLineColor=c.BLACK,n._outLineWidth=2,n.nameLab=null,n.labList=[],n}n(e,t);var i=e.prototype;return i.start=function(){},i.update=function(t){},i.createOutLine=function(){if(!(this.node.children.length>0)){this.node.getComponent(s)&&(this.nameLab=this.node.getComponent(s));for(var t=0;t<5;t++){var n=new h("lab"+t);n.layer=524288,this.node.addChild(n),n.addComponent(s),this.node.getComponent(a)&&(n.addComponent(a),n.getComponent(a).width=this.node.getComponent(a).width,n.getComponent(a).color=r(this.node.getComponent(a).color),this._outLineColor=this.node.getComponent(a).color,this._outLineWidth=this.node.getComponent(a).width,4!=t&&(n.getComponent(s).color=r(this._outLineColor))),this.node.getComponent(l)&&(n.addComponent(l),n.getComponent(l).opacity=this.node.getComponent(l).opacity,this._opacity=this.node.getComponent(l).opacity),n.getComponent(s).useSystemFont=this.nameLab.useSystemFont,4==t&&(n.getComponent(s).color=r(this.nameLab.color)),n.getComponent(s).cacheMode=this.nameLab.cacheMode,n.getComponent(s).fontSize=this.nameLab.fontSize,n.getComponent(s).font=this.nameLab.font,n.getComponent(s).string=this.nameLab.string,n.getComponent(s).lineHeight=this.nameLab.node.getComponent(s).lineHeight,n.getComponent(u).anchorY=this.nameLab.node.getComponent(u).anchorY,n.getComponent(u).anchorX=this.nameLab.node.getComponent(u).anchorX,this.labList.push(n)}this.labList[0].setPosition(this._outLineWidth,0),this.labList[1].setPosition(0-this._outLineWidth,0),this.labList[2].setPosition(0,this._outLineWidth),this.labList[3].setPosition(0,0-this._outLineWidth),this.labList[4].setPosition(0,0),this.node.getComponent(s).enabled=!1}},i.onDestroy=function(){this._cacheMode=null,this._fontSize=null,this._font=null,this._opacity=null,this._string=null,this._color=null,this._outLineColor=null,this._outLineWidth=1,this.nameLab=null,this.labList=[],this.node.destroyAllChildren(),this.node.removeAllChildren()},o(e,[{key:"outLineWidth",get:function(){return this._outLineWidth},set:function(t){this._outLineWidth=t,this.labList[0].setPosition(this._outLineWidth,0),this.labList[1].setPosition(0-this._outLineWidth,0),this.labList[2].setPosition(0,this._outLineWidth),this.labList[3].setPosition(0,0-this._outLineWidth)}},{key:"position",get:function(){return this.node.position},set:function(t){this.node.setPosition(t)}},{key:"string",get:function(){return this._string},set:function(t){this._string=t;for(var n=0;n<5;n++)this.labList[n].getComponent(s).string=t,this.labList[n].getComponent(s).updateRenderData(!0)}},{key:"text",get:function(){return this._string},set:function(t){this._string=t;for(var n=0;n<5;n++)this.labList[n].getComponent(s).string=t,this.labList[n].getComponent(s).updateRenderData(!0)}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.labList[4].getComponent(s).color=r(t)}},{key:"outLineColor",get:function(){return this._outLineColor},set:function(t){this._outLineColor=t;for(var n=0;n<4;n++)this.labList[n].getComponent(s).color=r(this._outLineColor)}},{key:"opacity",get:function(){return this._opacity},set:function(t){this._opacity=t;for(var n=0;n<5;n++)this.labList[n].getComponent(l).opacity=t}},{key:"font",get:function(){return this._font},set:function(t){this._font=t;for(var n=0;n<5;n++)this.labList[n].getComponent(s).font=t}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize=t;for(var n=0;n<5;n++)this.labList[n].getComponent(s).fontSize=t}},{key:"cacheMode",get:function(){return this._cacheMode},set:function(t){this._cacheMode=t;for(var n=0;n<5;n++)this.labList[n].getComponent(s).cacheMode=t}},{key:"enableWrapText",get:function(){return this._enableWrapText},set:function(t){this._enableWrapText=t;for(var n=0;n<5;n++)this.labList[n].getComponent(s).enableWrapText=t}}]),e}(p))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderBossWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./ResourcesMgr.ts","./Sendmessage.ts","./List.ts","./GameMission.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,s,a,o,r,l,f,c,h,u,d,m,g,p,_,v,I,L,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,r=t.UITransform,l=t.Node,f=t.Button,c=t.Sprite,h=t.Layers,u=t.Label,d=t.color,m=t.Component},function(t){g=t.EventMgr},function(t){p=t.Config},function(t){_=t.resourcesMgr},function(t){v=t.sendmessage},function(t){I=t.default},function(t){L=t.gameMission},function(t){S=t.GameUtil}],execute:function(){var y,D,b,C,B,w,T,U;t("e_leader_attr_type",void 0),a._RF.push({},"1b424pYH+RAzI0MTgELhybX","LeaderBossWin",void 0);var x,F=o.ccclass,A=o.menu,R=o.property;!function(t){t[t.font=0]="font",t[t.image=1]="image"}(x||(x=t("e_leader_attr_type",{})));t("LeaderBossWin",(y=F("LeaderBossWin"),D=A("首领boss脚本界面/LeaderBossWin"),b=R(I),C=R(I),y(B=D((T=e((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"leftList",T,s(e)),n(e,"bottomList",U,s(e)),e._data=null,e._leftBtnBgSpr=null,e._leftSelectSpr=null,e._leftData=void 0,e._bottomData=void 0,e._leftSelectIndex=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){g.addEventListener("setLeaderBossData",this.setData,this)},a.start=function(){},a.update=function(t){},a.setData=function(t){if(this.node){if(!this.isSameLeftListData(t)){this._data=t;var e=this._data.LeftItems;this._leftData=e.font,this.setListBaseInfo(this.leftList.node,this._data.leftInfo,!0),this.setRes(e.bgID,e.bgFile,e,!1),this.setRes(e.selectID,e.selectFile,e,!0)}this._data=t,this.setListBaseInfo(this.bottomList.node,this._data.bottomInfo,!1);var i=this._data.bottomItems;this._bottomData=i.datas,this.bottomList.numItems=i.datas.length}},a.setRes=function(t,e,i,n){var s=this,a=L.getUrl(p.g_pak_list[t],e),o=_.getRes(a);o?n?this._leftSelectSpr=o:(this._leftBtnBgSpr=o,this._leftData=i.font,this.leftList.numItems=this._leftData.length):S.loadImg(e,p.g_pak_list[t],(function(t){n?s._leftSelectSpr=t.imgUrl:(s._leftBtnBgSpr=t.imgUrl,s._leftData=i.font,s.leftList.numItems=s._leftData.length)}))},a.setListBaseInfo=function(t,e,i){if(t){t.setPosition(e.x,e.y);var n=t.getComponent(r),s=t.children[0].getComponent(r),a=t.children[0].children[0].getComponent(r);n.width=s.width=a.width=e.w,n.height=s.height=a.height=e.h}},a.isSameLeftListData=function(t){return!!this._data&&JSON.stringify(this._data.LeftItems)===JSON.stringify(t.LeftItems)},a.getObjByType=function(t){switch(t){case x.font:var e=new l;return e.addComponent(u),e.layer=h.Enum.UI_2D,e;case x.image:var i=new l;return i.addComponent(f),i.addComponent(c),i.layer=h.Enum.UI_2D,i}},a.updateLeftItem=function(t,e){var i=this._leftData[e];i&&this.showBtnUI(t,e,i)},a.showBtnUI=function(t,e,i){t.inDiyList=!0;var n=t,s=t.children[0];if(this._leftBtnBgSpr){var a=n.getComponent(f),o=n.getComponent(c);a.normalSprite=o.spriteFrame=this._leftBtnBgSpr,n.getComponent(r).height=o.spriteFrame.rect.height,n.getComponent(r).width=o.spriteFrame.rect.width}var l=t.children[1].getComponent(u);i.text&&(l.string=i.text+""),i.fontSize&&(l.fontSize=i.fontSize),i.color&&(l.color=d(i.color)),i.value&&(t.hasValues=i.value);var h=s.getComponent(c);this._leftSelectSpr&&(h.spriteFrame=this._leftSelectSpr,s.active=-1!=this._leftSelectIndex&&e==this._leftSelectIndex)},a.leftClickItem=function(t,e){if(t.hasValues&&v.SendNpcCMD(t.hasValues,p.G_NPC_ID,0),this._leftSelectIndex=e,t.parent){var i=t.parent.children;for(var n in i){var s=i[n];s&&s.children[0]&&(s.children[0].active=!1)}}t.children[0].active=!0},a.updateBottomItem=function(t,e){var i=this._bottomData[e];i&&(t.inDiyList=!0,this.showBottomUI(t,e,i))},a.showBottomUI=function(t,e,i){i&&(this.setAttrHandler(i.font,x.font,t.children[0]),this.setAttrHandler(i.image,x.image,t.children[1]))},a.setAttrHandler=function(t,e,i){if(!t||t.length<=0)i.active=!1;else{i.active=!0;for(var n=0;n<t.length;n++){var s=t[n];if(s){var a=void 0;if(i.children[n]?(a=i.children[n]).hasValue&&a.off(l.EventType.TOUCH_START,this.onClickValue,this):(a=this.getObjByType(e),i.addChild(a)),a.inDiyList=!0,a.active=!(!s.visible||1!=parseInt(s.visible)),s.visible)switch(e){case x.font:this.setFontAttr(s,a);break;case x.image:this.setImageAttr(s,a)}}}}},a.setFontAttr=function(t,e){var i=e.getComponent(u);t.content&&(i.string=t.content),t.color&&(i.color=d(t.color)),t.fontSize&&(i.fontSize=t.fontSize),t.x&&(e.getPosition().x=t.x),t.y&&(e.getPosition().y=t.y),t.value&&1==parseInt(t.visible)&&(e.on(l.EventType.TOUCH_START,this.onClickValue.bind(this,[!0,t.value]),this),e.hasValue=!0)},a.setImageAttr=function(t,e){if(t.file&&t.imageID){var i=L.getUrl(p.g_pak_list[t.file],t.imageID),n=e.getComponent(c);n.spriteFrame=null;var s=_.getRes(i);s&&n?n.spriteFrame=s:S.loadImg(t.imageID,p.g_pak_list[t.file],(function(t){n&&(n.spriteFrame=t.imgUrl)}))}t.x&&(e.getPosition().x=t.x),t.y&&(e.getPosition().y=t.y),t.value&&1==parseInt(t.visible)&&(e.on(l.EventType.TOUCH_START,this.onClickValue.bind(this,[!0,t.value]),this),e.hasValue=!0)},a.onClickValue=function(t){t[0]?v.SendNpcCMD(t[1],p.G_NPC_ID,0):t&&t[1]&&S.newShowItemsInf(t[1])},a.closeView=function(){g.removeEventListener("setLeaderBossData",this.setData,this)},a.onDestroy=function(){this.closeView()},e}(m)).prototype,"leftList",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(w.prototype,"bottomList",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=w))||B)||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./ListItem.ts"],(function(t){"use strict";var e,i,s,o,n,a,l,r,c,h,_,d,u,m,p,g,f,v,I,y,T,S,w,z,D,N,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.ScrollView,c=t.Enum,h=t.Node,_=t.Prefab,d=t.CCFloat,u=t.EventHandler,m=t.CCBoolean,p=t.CCInteger,g=t.isValid,f=t.UITransform,v=t.Layout,I=t.instantiate,y=t.NodePool,T=t.Vec3,S=t.Size,w=t.Widget,z=t.tween,D=t.Component},function(t){N=t.DEV},function(t){b=t.default}],execute:function(){var E,P,L,G,C,O,R,A,U,B,k,M,x,V,H,F,X,Y,Z,W,j,q,J,K,Q,$,tt,et,it,st,ot,nt,at,lt,rt,ct,ht,_t,dt,ut,mt,pt,gt;a._RF.push({},"50ef4Y41eRFk4hHdjd4umJH","List",void 0);var ft,vt,It,yt=l.ccclass,Tt=l.property,St=l.disallowMultiple,wt=l.menu,zt=l.executionOrder,Dt=l.requireComponent;!function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"}(ft||(ft={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(vt||(vt={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(It||(It={}));t("default",(E=St(),P=wt("List"),L=Dt(r),G=zt(-5e3),C=Tt({type:c(ft),tooltip:N}),O=Tt({type:h,tooltip:N,visible:function(){return this.templateType==ft.NODE}}),R=Tt({type:_,tooltip:N,visible:function(){return this.templateType==ft.PREFAB}}),A=Tt({}),U=Tt({type:c(vt),tooltip:N}),B=Tt({type:d,range:[0,1,.1],tooltip:N,slide:!0,visible:function(){return this._slideMode==vt.PAGE}}),k=Tt({type:u,tooltip:N,visible:function(){return this._slideMode==vt.PAGE}}),M=Tt({}),x=Tt({type:m,tooltip:N}),V=Tt({tooltip:N,visible:function(){var t=this.slideMode==vt.NORMAL;return t||(this.cyclic=!1),t}}),H=Tt({tooltip:N,visible:function(){return this.virtual}}),F=Tt({tooltip:N,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}}),X=Tt({type:p}),Y=Tt({type:p,range:[0,6,1],tooltip:N,slide:!0}),Z=Tt({type:p,range:[0,12,1],tooltip:N,slide:!0}),W=Tt({type:u,tooltip:N}),j=Tt({type:c(It),tooltip:N}),q=Tt({type:u,tooltip:N,visible:function(){return this.selectedMode>It.NONE}}),J=Tt({tooltip:N,visible:function(){return this.selectedMode==It.SINGLE}}),K=Tt({serializable:!1}),yt(Q=E(Q=P(Q=L(Q=G((tt=e(($=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,s(e,"templateType",tt,o(e)),s(e,"tmpNode",et,o(e)),s(e,"tmpPrefab",it,o(e)),s(e,"_slideMode",st,o(e)),s(e,"pageDistance",ot,o(e)),s(e,"pageChangeEvent",nt,o(e)),s(e,"_virtual",at,o(e)),s(e,"cyclic",lt,o(e)),s(e,"lackCenter",rt,o(e)),s(e,"lackSlide",ct,o(e)),s(e,"_updateRate",ht,o(e)),s(e,"frameByFrameRenderNum",_t,o(e)),s(e,"renderEvent",dt,o(e)),s(e,"selectedMode",ut,o(e)),s(e,"selectedEvent",mt,o(e)),s(e,"repeatEventSingle",pt,o(e)),e._selectedId=-1,e._lastSelectedId=void 0,e.multSelected=void 0,e._forceUpdate=!1,e._align=void 0,e._horizontalDir=void 0,e._verticalDir=void 0,e._startAxis=void 0,e._alignCalcType=void 0,e.content=void 0,e._contentUt=void 0,e.firstListId=void 0,e.displayItemNum=void 0,e._updateDone=!0,e._updateCounter=void 0,e._actualNumItems=void 0,e._cyclicNum=void 0,e._cyclicPos1=void 0,e._cyclicPos2=void 0,s(e,"_numItems",gt,o(e)),e._inited=!1,e._scrollView=void 0,e._layout=void 0,e._resizeMode=void 0,e._topGap=void 0,e._rightGap=void 0,e._bottomGap=void 0,e._leftGap=void 0,e._columnGap=void 0,e._lineGap=void 0,e._colLineNum=void 0,e._lastDisplayData=void 0,e.displayData=void 0,e._pool=void 0,e._itemTmp=void 0,e._itemTmpUt=void 0,e._needUpdateWidget=!1,e._itemSize=void 0,e._sizeType=void 0,e._customSize=void 0,e.frameCount=void 0,e._aniDelRuning=!1,e._aniDelCB=void 0,e._aniDelItem=void 0,e._aniDelBeforePos=void 0,e._aniDelBeforeScale=void 0,e.viewTop=void 0,e.viewRight=void 0,e.viewBottom=void 0,e.viewLeft=void 0,e._doneAfterUpdate=!1,e.elasticTop=void 0,e.elasticRight=void 0,e.elasticBottom=void 0,e.elasticLeft=void 0,e.scrollToListId=void 0,e.adhering=!1,e._adheringBarrier=!1,e.nearestListId=void 0,e.curPageNum=0,e._beganPos=void 0,e._scrollPos=void 0,e._curScrollIsTouch=void 0,e._scrollToListId=void 0,e._scrollToEndTime=void 0,e._scrollToSo=void 0,e._lack=void 0,e._allItemSize=void 0,e._allItemSizeNoEdge=void 0,e._scrollItem=void 0,e._thisNodeUt=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this._init()},a.onDestroy=function(){var t=this;g(t._itemTmp)&&t._itemTmp.destroy(),g(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},a.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},a.onDisable=function(){this._unregisterEvent()},a._registerEvent=function(){var t=this;t.node.on(h.EventType.TOUCH_START,t._onTouchStart,t),t.node.on("touch-up",t._onTouchUp,t),t.node.on(h.EventType.TOUCH_CANCEL,t._onTouchCancelled,t),t.node.on("scroll-began",t._onScrollBegan,t),t.node.on("scroll-ended",t._onScrollEnded,t),t.node.on("scrolling",t._onScrolling,t),t.node.on(h.EventType.SIZE_CHANGED,t._onSizeChanged,t)},a._unregisterEvent=function(){var t=this;t.node.off(h.EventType.TOUCH_START,t._onTouchStart,t),t.node.off("touch-up",t._onTouchUp,t),t.node.off(h.EventType.TOUCH_CANCEL,t._onTouchCancelled,t),t.node.off("scroll-began",t._onScrollBegan,t),t.node.off("scroll-ended",t._onScrollEnded,t),t.node.off("scrolling",t._onScrolling,t),t.node.off(h.EventType.SIZE_CHANGED,t._onSizeChanged,t)},a._init=function(){var t=this;if(!t._inited)if(t._thisNodeUt=t.node.getComponent(f),t._scrollView=t.node.getComponent(r),t.content=t._scrollView.content,t._contentUt=t.content.getComponent(f),t.content){switch(t._layout=t.content.getComponent(v),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(I(t.templateType==ft.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=vt.ADHERING&&t._slideMode!=vt.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new y,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case v.Type.HORIZONTAL:switch(t._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case v.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case v.Type.VERTICAL:switch(t._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case v.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case v.Type.GRID:switch(t._startAxis){case v.AxisDirection.HORIZONTAL:switch(t._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case v.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case v.AxisDirection.VERTICAL:switch(t._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case v.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else console.error(t.node.name+"'s ScrollView unset content!")},a._processAutoScrolling=function(t){var e=1e-4,i=new T,s=this._scrollView,o=s._isNecessaryAutoScrollBrake(),n=o?.05:1;s._autoScrollAccumulatedTime+=t*(1/n);var a,l=Math.min(1,s._autoScrollAccumulatedTime/s._autoScrollTotalTime);s._autoScrollAttenuate&&(a=l,l=(a-=1)*a*a*a*a+1);var c=s._autoScrollTargetDelta.clone();c.multiplyScalar(l);var h=s._autoScrollStartPosition.clone();h.add(c);var _=Math.abs(l-1)<=e;if(Math.abs(l-1)<=s.getScrollEndedEventTiming()&&!s._isScrollEndedWithThresholdEventFired&&(s._dispatchEvent(r.EventType.SCROLL_ENG_WITH_THRESHOLD),s._isScrollEndedWithThresholdEventFired=!0),s.elastic){var d=h.clone();d.subtract(s._autoScrollBrakingStartPosition),o&&d.multiplyScalar(n),h.set(s._autoScrollBrakingStartPosition),h.add(d)}else{var u=h.clone();u.subtract(s._getContentPosition());var m=s._getHowMuchOutOfBoundary(u);m.equals(i,e)||(h.add(m),_=!0)}_&&(s._autoScrolling=!1);var p=new T(h);p.subtract(s._getContentPosition()),s._clampDelta(p),s._moveContent(p,_),s._dispatchEvent(r.EventType.SCROLLING),s._autoScrolling||(s._isBouncing=!1,s._scrolling=!1,s._dispatchEvent(r.EventType.SCROLL_ENDED))},a.setTemplateItem=function(t){if(t){var e=this;if(e._itemTmp=t,e._itemTmpUt=t.getComponent(f),e._resizeMode==v.ResizeMode.CHILDREN)e._itemSize=e._layout.cellSize;else{var i=t.getComponent(f);e._itemSize=new S(i.width,i.height)}var s=t.getComponent(b),o=!1;switch(s||(o=!0),o&&(e.selectedMode=It.NONE),(s=t.getComponent(w))&&s.enabled&&(e._needUpdateWidget=!0),e.selectedMode==It.MULT&&(e.multSelected=[]),e._align){case v.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case v.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case v.Type.GRID:switch(e._startAxis){case v.AxisDirection.HORIZONTAL:var n=e._contentUt.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((n+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case v.AxisDirection.VERTICAL:var a=e._contentUt.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((a+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},a.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&console.error("List initialization not completed!"),!1)},a._resizeContent=function(){var t,e=this;switch(e._align){case v.Type.HORIZONTAL:if(e._customSize){var i=e._getFixedSize(null);t=e._leftGap+i.val+e._itemSize.width*(e._numItems-i.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case v.Type.VERTICAL:if(e._customSize){var s=e._getFixedSize(null);t=e._topGap+s.val+e._itemSize.height*(e._numItems-s.count)+e._lineGap*(e._numItems-1)+e._bottomGap}else t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case v.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case v.AxisDirection.HORIZONTAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*o+e._lineGap*(o-1)+e._bottomGap;break;case v.AxisDirection.VERTICAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*n+e._columnGap*(n-1)+e._rightGap}}var a=e.content.getComponent(v);if(a&&(a.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var l=e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width;e._cyclicPos1=0,l-=e._cyclicPos1,e._cyclicNum=Math.ceil(l/e._allItemSizeNoEdge)+1;var r=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+r,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+r*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=r*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width);var c=e._lack&&e.lackCenter||!e.lackSlide?.1:0,h=e._lack?(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width)-c:e.cyclic?e._cyclicAllItemSize:e._allItemSize;h<0&&(h=0),e._sizeType?e._contentUt.height=h:e._contentUt.width=h},a._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var i=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),s=this._sizeType?new T(0,i,0):new T(i,0,0),o=this.content.getPosition();switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(o.set(-this._cyclicPos2,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s))):e<-this._cyclicPos2&&(o.set(-this._cyclicPos1,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)));break;case 2:e<this._cyclicPos1?(o.set(this._cyclicPos2,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(o.set(this._cyclicPos1,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s)));break;case 3:e<this._cyclicPos1?(o.set(o.x,this._cyclicPos2,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(o.set(o.x,this._cyclicPos1,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s)));break;case 4:e>-this._cyclicPos1?(o.set(o.x,-this._cyclicPos2,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s))):e<-this._cyclicPos2&&(o.set(o.x,-this._cyclicPos1,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)))}}var n,a,l,r;if(this._calcViewPos(),this._sizeType?(n=this.viewTop,l=this.viewBottom):(a=this.viewRight,r=this.viewLeft),this._virtual){var c;this.displayData=[];var h=0,_=this._numItems-1;if(this._customSize)for(var d=!1;h<=_&&!d;h++)switch(c=this._calcItemPos(h),this._align){case v.Type.HORIZONTAL:c.right>=r&&c.left<=a?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case v.Type.VERTICAL:c.bottom<=n&&c.top>=l?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case v.Type.GRID:switch(this._startAxis){case v.AxisDirection.HORIZONTAL:c.bottom<=n&&c.top>=l?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case v.AxisDirection.VERTICAL:c.right>=r&&c.left<=a?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0)}}else{var u=this._itemSize.width+this._columnGap,m=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:h=(r-this._leftGap)/u,_=(a-this._leftGap)/u;break;case 2:h=(-a-this._rightGap)/u,_=(-r-this._rightGap)/u;break;case 3:h=(-n-this._topGap)/m,_=(-l-this._topGap)/m;break;case 4:h=(l-this._bottomGap)/m,_=(n-this._bottomGap)/m}for(h=Math.floor(h)*this._colLineNum,_=Math.ceil(_)*this._colLineNum,h<0&&(h=0),--_>=this._numItems&&(_=this._numItems-1);h<=_;h++)this.displayData.push(this._calcItemPos(h))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var p=this._lastDisplayData.length,g=this.displayItemNum!=p;if(g&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort((function(t,e){return t-e})),g=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[p-1]),this._forceUpdate||g)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var f=0;f<this.displayItemNum;f++)this._createOrUpdateItem(this.displayData[f]);this._forceUpdate=!1}this._calcNearestItem()}}},a._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this._thisNodeUt.width,this.elasticRight=this.viewRight>this._contentUt.width?Math.abs(this.viewRight-this._contentUt.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this._thisNodeUt.width,this.elasticLeft=this.viewLeft<-this._contentUt.width?Math.abs(this.viewLeft+this._contentUt.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this._thisNodeUt.height,this.elasticBottom=this.viewBottom<-this._contentUt.height?Math.abs(this.viewBottom+this._contentUt.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this._thisNodeUt.height,this.elasticTop=this.viewTop>this._contentUt.height?Math.abs(this.viewTop-this._contentUt.height):0,this.viewTop-=this.elasticTop}},a._calcItemPos=function(t){var e,i,s,o,n,a,l,r;switch(this._align){case v.Type.HORIZONTAL:switch(this._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var c=this._getFixedSize(t);n=this._leftGap+(this._itemSize.width+this._columnGap)*(t-c.count)+(c.val+this._columnGap*c.count);var h=this._customSize[t];e=h>0?h:this._itemSize.width}else n=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter)n-=this._leftGap,n+=this._contentUt.width/2-this._allItemSizeNoEdge/2;return{id:t,left:n,right:a=n+e,x:n+this._itemTmpUt.anchorX*e,y:this._itemTmp.y};case v.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){var _=this._getFixedSize(t);a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-_.count)-(_.val+this._columnGap*_.count);var d=this._customSize[t];e=d>0?d:this._itemSize.width}else a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter)a+=this._rightGap,a-=this._contentUt.width/2-this._allItemSizeNoEdge/2;return{id:t,right:a,left:n=a-e,x:n+this._itemTmpUt.anchorX*e,y:this._itemTmp.y}}break;case v.Type.VERTICAL:switch(this._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){var u=this._getFixedSize(t);s=-this._topGap-(this._itemSize.height+this._lineGap)*(t-u.count)-(u.val+this._lineGap*u.count);var m=this._customSize[t];i=m>0?m:this._itemSize.height}else s=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter)s+=this._topGap,s-=this._contentUt.height/2-this._allItemSizeNoEdge/2;return{id:t,top:s,bottom:o=s-i,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i};case v.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){var p=this._getFixedSize(t);o=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-p.count)+(p.val+this._lineGap*p.count);var g=this._customSize[t];i=g>0?g:this._itemSize.height}else o=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter)o-=this._bottomGap,o+=this._contentUt.height/2-this._allItemSizeNoEdge/2;return{id:t,top:s=o+i,bottom:o,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i}}case v.Type.GRID:var f=Math.floor(t/this._colLineNum);switch(this._startAxis){case v.AxisDirection.HORIZONTAL:switch(this._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:r=(o=(s=-this._topGap-(this._itemSize.height+this._lineGap)*f)-this._itemSize.height)+this._itemTmpUt.anchorY*this._itemSize.height;break;case v.VerticalDirection.BOTTOM_TO_TOP:s=(o=this._bottomGap+(this._itemSize.height+this._lineGap)*f)+this._itemSize.height,r=o+this._itemTmpUt.anchorY*this._itemSize.height}switch(l=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:l+=this._itemTmpUt.anchorX*this._itemSize.width,l-=this._contentUt.anchorX*this._contentUt.width;break;case v.HorizontalDirection.RIGHT_TO_LEFT:l+=(1-this._itemTmpUt.anchorX)*this._itemSize.width,l-=(1-this._contentUt.anchorX)*this._contentUt.width,l*=-1}return{id:t,top:s,bottom:o,x:l,y:r};case v.AxisDirection.VERTICAL:switch(this._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:a=(n=this._leftGap+(this._itemSize.width+this._columnGap)*f)+this._itemSize.width,l=n+this._itemTmpUt.anchorX*this._itemSize.width,l-=this._contentUt.anchorX*this._contentUt.width;break;case v.HorizontalDirection.RIGHT_TO_LEFT:l=(n=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*f)-this._itemSize.width)+this._itemTmpUt.anchorX*this._itemSize.width,l+=(1-this._contentUt.anchorX)*this._contentUt.width}switch(r=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:r-=(1-this._itemTmpUt.anchorY)*this._itemSize.height,r+=(1-this._contentUt.anchorY)*this._contentUt.height;break;case v.VerticalDirection.BOTTOM_TO_TOP:r-=this._itemTmpUt.anchorY*this._itemSize.height,r+=this._contentUt.anchorY*this._contentUt.height,r*=-1}return{id:t,left:n,right:a,x:l,y:r}}}},a._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var i=e.getComponent(f),s=e.getPosition(),o={id:t,x:s.x,y:s.y};return this._sizeType?(o.top=s.y+i.height*(1-i.anchorY),o.bottom=s.y-i.height*i.anchorY):(o.left=s.x-i.width*i.anchorX,o.right=s.x+i.width*(1-i.anchorX)),o},a.getItemPos=function(t){return this._virtual||this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},a._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,i=0;for(var s in this._customSize)parseInt(s)<t&&(e+=this._customSize[s],i++);return{val:e,count:i}},a._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},a._onScrollEnded=function(){var t=this;if(t._curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&z(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=vt.ADHERING||t.adhering?t._slideMode==vt.PAGE&&(null!=t._beganPos&&t._curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},a._onTouchStart=function(t,e){if(!this._scrollView._hasNestedViewGroup(t,e)&&(this._curScrollIsTouch=!0,!(t.eventPhase===Event.AT_TARGET&&t.target===this.node))){for(var i=t.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:t.target}},a._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==vt.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==vt.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},a._onTouchCancelled=function(t,e){var i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==vt.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==vt.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},a._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},a._onItemAdaptive=function(t){var e=t.getComponent(f);if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});var i=this._sizeType?e.height:e.width;this._customSize[t._listId]!=i&&(this._customSize[t._listId]=i,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},a._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){var s=.5;switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(s):t.nextPage(s);break;case 2:case 3:t._beganPos<e?t.prePage(s):t.nextPage(s)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},a.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width);t.scrollTo(t.nearestListId,.7,e)}},a.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var i=this.displayData[e];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==vt.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var s=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,o=this._updateCounter;o<s;o++)this._createOrUpdateItem2(o);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==vt.PAGE&&(this.curPageNum=this.nearestListId)},a._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new T(t.x,t.y,0)),this._resetItemSize(e),this.renderEvent&&u.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var i=this._pool.size()>0;if(e=i?this._pool.get():I(this._itemTmp),i&&g(e)||(e=I(this._itemTmp),i=!1),e._listId!=t.id)e._listId=t.id,e.getComponent(f).setContentSize(this._itemSize);if(e.setPosition(new T(t.x,t.y,0)),this._resetItemSize(e),this.content.addChild(e),i&&this._needUpdateWidget){var s=e.getComponent(w);s&&s.updateAlignment()}e.setSiblingIndex(this.content.children.length-1);var o=e.getComponent(b);e.listItem=o,o&&(o.listId=t.id,o.list=this,o._registerEvent()),this.renderEvent&&u.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},a._createOrUpdateItem2=function(t){var e,i=this.content.children[t];i?this._forceUpdate&&this.renderEvent&&(i._listId=t,e&&(e.listId=t),this.renderEvent&&u.emitEvents([this.renderEvent],i,t%this._actualNumItems)):((i=I(this._itemTmp))._listId=t,this.content.addChild(i),e=i.getComponent(b),i.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&u.emitEvents([this.renderEvent],i,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},a._updateListItem=function(t){if(t&&this.selectedMode>It.NONE){var e=t.node;switch(this.selectedMode){case It.SINGLE:t.selected=this.selectedId==e._listId;break;case It.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},a._resetItemSize=function(t){},a._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),i=this.getItemPos(e._listId);e.setPosition(i.x,i.y)},a.setMultSelected=function(t,e){var i=this;if(i.checkInited()){var s,o;if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else if(e)for(var n=t.length-1;n>=0;n--)s=t[n],(o=i.multSelected.indexOf(s))<0&&i.multSelected.push(s);else for(var a=t.length-1;a>=0;a--)s=t[a],(o=i.multSelected.indexOf(s))>=0&&i.multSelected.splice(o,1);i._forceUpdate=!0,i._onScrolling()}},a.getMultSelected=function(){return this.multSelected},a.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},a.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var s=t[e],o=this.getItemByListId(s);o&&u.emitEvents([this.renderEvent],o,s%this._actualNumItems)}}},a.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},a.getItemByListId=function(t){if(this.content)for(var e=this.content.children.length-1;e>=0;e--){var i=this.content.children[e];if(i._listId==t)return i}},a._getOutsideItem=function(){for(var t,e=[],i=this.content.children.length-1;i>=0;i--)t=this.content.children[i],this.displayData.find((function(e){return e.id==t._listId}))||e.push(t);return e},a._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var i=t[e];if(!this._scrollItem||i._listId!=this._scrollItem._listId){i.isCached=!0,this._pool.put(i);for(var s=this._lastDisplayData.length-1;s>=0;s--)if(this._lastDisplayData[s]==i._listId){this._lastDisplayData.splice(s,1);break}}}else for(;this.content.children.length>this._numItems;)this._delSingleItem(this.content.children[this.content.children.length-1])},a._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},a.aniDelItem=function(t,e,i){var s=this;if(!s.checkInited()||s.cyclic||!s._virtual)return console.error("This function is not allowed to be called!");if(!e)return console.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(s._aniDelRuning)return console.warn("Please wait for the current deletion to finish!");var o,n=s.getItemByListId(t);if(n){o=n.getComponent(b),s._aniDelRuning=!0,s._aniDelCB=e,s._aniDelItem=n,s._aniDelBeforePos=n.position,s._aniDelBeforeScale=n.scale;var a=s.displayData[s.displayData.length-1].id,l=o.selected;o.showAni(i,(function(){var i;if(a<s._numItems-2&&(i=a+1),null!=i){var o=s._calcItemPos(i);s.displayData.push(o),s._virtual?s._createOrUpdateItem(o):s._createOrUpdateItem2(i)}else s._numItems--;if(s.selectedMode==It.SINGLE)l?s._selectedId=-1:s._selectedId-1>=0&&s._selectedId--;else if(s.selectedMode==It.MULT&&s.multSelected.length){var r=s.multSelected.indexOf(t);r>=0&&s.multSelected.splice(r,1);for(var c=s.multSelected.length-1;c>=0;c--){s.multSelected[c]>=t&&s.multSelected[c]--}}if(s._customSize){s._customSize[t]&&delete s._customSize[t];var h,_={};for(var d in s._customSize){h=s._customSize[d];var u=parseInt(d);_[u-(u>=t?1:0)]=h}s._customSize=_}for(var m,p,g=null!=i?i:a;g>=t+1;g--)if(n=s.getItemByListId(g)){var f=s._calcItemPos(g-1);m=z(n).to(.2333,{position:new T(f.x,f.y,0)}),g<=t+1&&(p=!0,m.call((function(){s._aniDelRuning=!1,e(t),delete s._aniDelCB}))),m.start()}p||(s._aniDelRuning=!1,e(t),s._aniDelCB=null)}),!0)}else e(t)},a.scrollTo=function(t,e,i,s){void 0===e&&(e=.5),void 0===i&&(i=null),void 0===s&&(s=!1);var o=this;if(o.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1),!o._virtual&&o._layout&&o._layout.enabled&&o._layout.updateLayout();var n,a,l=o.getItemPos(t);if(!l)return N;switch(o._alignCalcType){case 1:n=l.left,n-=null!=i?o._thisNodeUt.width*i:o._leftGap,l=new T(n,0,0);break;case 2:n=l.right-o._thisNodeUt.width,n+=null!=i?o._thisNodeUt.width*i:o._rightGap,l=new T(n+o._contentUt.width,0,0);break;case 3:a=l.top,a+=null!=i?o._thisNodeUt.height*i:o._topGap,l=new T(0,-a,0);break;case 4:a=l.bottom+o._thisNodeUt.height,a-=null!=i?o._thisNodeUt.height*i:o._bottomGap,l=new T(0,-a+o._contentUt.height,0)}var r=o.content.getPosition();r=Math.abs(o._sizeType?r.y:r.x);var c=o._sizeType?l.y:l.x;Math.abs((null!=o._scrollPos?o._scrollPos:r)-c)>.5&&(o._scrollView.scrollToOffset(l,e),o._scrollToListId=t,o._scrollToEndTime=(new Date).getTime()/1e3+e,o._scrollToSo=o.scheduleOnce((function(){if(o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),o._scrollPos=o._scrollToListId=o._scrollToEndTime=o._scrollToSo=null,s){var e=o.getItemByListId(t);e&&z(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}}),e+.1),e<=0&&o._onScrolling())}},a._calcNearestItem=function(){var t,e,i,s,o,n,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),i=a.viewTop,s=a.viewRight,o=a.viewBottom,n=a.viewLeft;for(var l=!1,r=0;r<a.content.children.length&&!l;r+=a._colLineNum)if(t=a._virtual?a.displayData[r]:a._calcExistItemPos(r))switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:t.right>=n&&(a.nearestListId=t.id,n>e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 2:t.left<=s&&(a.nearestListId=t.id,s<e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 3:t.bottom<=i&&(a.nearestListId=t.id,i<e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 4:t.top>=o&&(a.nearestListId=t.id,o>e&&(a.nearestListId+=a._colLineNum),l=!0)}if((t=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&t.id==a._numItems-1)switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:s>e&&(a.nearestListId=t.id);break;case 2:n<e&&(a.nearestListId=t.id);break;case 3:o<e&&(a.nearestListId=t.id);break;case 4:i>e&&(a.nearestListId=t.id)}},a.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},a.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},a.skipPage=function(t,e){var i=this;if(i.checkInited())return i._slideMode!=vt.PAGE?console.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&u.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e)))},a.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return console.error("Unset template item!");if(!e.renderEvent)return console.error("Unset Render-Event!");e._customSize={};var i=I(e._itemTmp),s=i.getComponent(f);e.content.addChild(i);for(var o=0;o<t;o++)u.emitEvents([e.renderEvent],i,o),s.height==e._itemSize.height&&s.width==e._itemSize.width||(e._customSize[o]=e._sizeType?s.height:s.width);return Object.keys(e._customSize).length||(e._customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e._customSize}},n(e,[{key:"slideMode",get:function(){return this._slideMode},set:function(t){this._slideMode=t}},{key:"virtual",get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},{key:"updateRate",get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},{key:"selectedId",get:function(){return this._selectedId},set:function(t){var e,i=this;switch(i.selectedMode){case It.SINGLE:if(e=i.getItemByListId(t),i._selectedId>=0?i._lastSelectedId=i._selectedId:i._lastSelectedId=null,i._selectedId=t,e&&(e.getComponent(b).selected=!0),i._lastSelectedId>=0&&i._lastSelectedId!=i._selectedId){var s=i.getItemByListId(i._lastSelectedId);s&&(s.getComponent(b).selected=!1)}i.selectedEvent&&u.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems);break;case It.MULT:if(!(e=i.getItemByListId(t)))return;var o=e.getComponent(b);i._selectedId>=0&&(i._lastSelectedId=i._selectedId),i._selectedId=t;var n=!o.selected;o.selected=n;var a=i.multSelected.indexOf(t);n&&a<0?i.multSelected.push(t):!n&&a>=0&&i.multSelected.splice(a,1),i.selectedEvent&&u.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems,n)}}},{key:"numItems",get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)console.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=vt.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var i=e.content.getComponent(v);if(i&&(i.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var s=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<s;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(var n=0;n<e._numItems;n++)e._createOrUpdateItem2(n);e.displayItemNum=e._numItems}}}},{key:"scrollView",get:function(){return this._scrollView}}]),e}(D)).prototype,"templateType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ft.NODE}}),et=e($.prototype,"tmpNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e($.prototype,"tmpPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e($.prototype,"_slideMode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vt.NORMAL}}),e($.prototype,"slideMode",[U],Object.getOwnPropertyDescriptor($.prototype,"slideMode"),$.prototype),ot=e($.prototype,"pageDistance",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),nt=e($.prototype,"pageChangeEvent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),at=e($.prototype,"_virtual",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e($.prototype,"virtual",[x],Object.getOwnPropertyDescriptor($.prototype,"virtual"),$.prototype),lt=e($.prototype,"cyclic",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rt=e($.prototype,"lackCenter",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ct=e($.prototype,"lackSlide",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=e($.prototype,"_updateRate",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e($.prototype,"updateRate",[Y],Object.getOwnPropertyDescriptor($.prototype,"updateRate"),$.prototype),_t=e($.prototype,"frameByFrameRenderNum",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dt=e($.prototype,"renderEvent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),ut=e($.prototype,"selectedMode",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return It.NONE}}),mt=e($.prototype,"selectedEvent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),pt=e($.prototype,"repeatEventSingle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gt=e($.prototype,"_numItems",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=$))||Q)||Q)||Q)||Q)||Q));a._RF.pop()}}}));

System.register("chunks:///_virtual/ListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){"use strict";var t,i,n,o,s,r,l,a,c,d,u,p,h,f,m,b,g,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,a=e.Sprite,c=e.Node,d=e.Enum,u=e.SpriteFrame,p=e.EventHandler,h=e.UITransform,f=e.tween,m=e.Vec3,b=e.Button,g=e.Component},function(e){v=e.DEV}],execute:function(){var y,C,_,w,S,E,I,F,z,N,T,k,D,L,G,H,M;r._RF.push({},"8bff52bd6VD0rbLCxIWPGJa","ListItem",void 0);var O,W=l.ccclass,A=l.property,R=l.disallowMultiple,V=l.menu,x=l.executionOrder;!function(e){e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH"}(O||(O={}));e("default",(y=R(),C=V("List Item"),_=x(-5001),w=A({type:a,tooltip:v}),S=A({type:c,tooltip:v}),E=A({type:d(O),tooltip:v}),I=A({type:c,tooltip:v,visible:function(){return this.selectedMode>O.NONE}}),F=A({type:u,tooltip:v,visible:function(){return this.selectedMode==O.SWITCH}}),z=A({tooltip:v}),W(N=y(N=C(N=_((k=t((T=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"icon",k,o(t)),n(t,"title",D,o(t)),n(t,"selectedMode",L,o(t)),n(t,"selectedFlag",G,o(t)),n(t,"selectedSpriteFrame",H,o(t)),t._unselectedSpriteFrame=null,n(t,"adaptiveSize",M,o(t)),t._selected=!1,t._btnCom=void 0,t.list=void 0,t._eventReg=!1,t.listId=void 0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){if(this.selectedMode==O.SWITCH){var e=this.selectedFlag.getComponent(a);this._unselectedSpriteFrame=e.spriteFrame}},r.onDestroy=function(){this.node.off(c.EventType.SIZE_CHANGED,this._onSizeChange,this)},r._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(c.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},r._onSizeChange=function(){this.list._onItemAdaptive(this.node)},r.createEvt=function(e,t,i){if(void 0===i&&(i=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new p;return n.target=i||e.node,n.component=e.comName,n.handler=t,n}},r.showAni=function(e,t,i){var n,o=this,s=o.node.getComponent(h);switch(e){case 0:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,2*s.height)});break;case 1:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(2*s.width,0)});break;case 2:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,-2*s.height)});break;case 3:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(-2*s.width,0)});break;default:n=f(o.node).to(.3,{scale:new m(.1,.1)})}(t||i)&&n.call((function(){if(i){o.list._delSingleItem(o.node);for(var e=o.list.displayData.length-1;e>=0;e--)if(o.list.displayData[e].id==o.listId){o.list.displayData.splice(e,1);break}}t()})),n.start()},r.onClickThis=function(){this.list.selectedId=this.listId},s(t,[{key:"selected",get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case O.TOGGLE:this.selectedFlag.active=e;break;case O.SWITCH:var t=this.selectedFlag.getComponent(a);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}}},{key:"btnCom",get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(b)),this._btnCom}}]),t}(g)).prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"title",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"selectedMode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.NONE}}),G=t(T.prototype,"selectedFlag",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"selectedSpriteFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"adaptiveSize",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=T))||N)||N)||N)||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/LogClientSocket.ts",["cc","./Config.ts","./MapData.ts","./objectcontrol.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,s,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Config},function(e){i=e.Mapdata},function(e){s=e.Objectcontrol},function(e){o=e.GameUtil}],execute:function(){t._RF.push({},"dc828AKOgVOBraKyCsLJrOM","LogClientSocket",void 0);var r=e("logClientSocket",function(){function e(){this._socket=void 0,this._m_SendMsg="",this._m_LogMessageList=[],this._nErrorCount=0,this._loopTimeId=void 0}e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance};var t=e.prototype;return t.OpenServer=function(e){var t=this;if(""!=e){var i=e.split("/");i.length>=3&&(n.g_Cai_GameID=parseInt(i[0]),n.g_Cai_ServerIP=i[1],n.g_Cai_ServerPort=parseInt(i[2]),n.g_Cai_nProductID=parseInt(i[3]),this._loopTimeId=setInterval((function(){t.loopSendLogMessage()}),3e3),console.log("采集服务器信息！",e))}},t.loopSendLogMessage=function(){this._nErrorCount>=10&&(clearInterval(this._loopTimeId),this._m_LogMessageList=[]),this._socket.connected?(this._m_SendMsg="",this._m_LogMessageList.length>0&&(this._m_SendMsg=this._m_LogMessageList[0],this._m_LogMessageList.splice(0,1)),""!=this._m_SendMsg&&this._socket.send(this._m_SendMsg)):(n.g_Cai_GameID>0&&""!=n.g_Cai_ServerIP&&n.g_Cai_ServerPort>0&&n.g_Cai_ServerPort<65535&&this.connect(n.g_Cai_ServerIP,n.g_Cai_ServerPort),this._nErrorCount+=1)},t.connect=function(e,t){this._socket.connect(e,t)},t.openHandler=function(){console.log("连接采集服务器成功！---------")},t.AddGameDataLog=function(e,t,r,a,_){var c={account:"LZ_H5_Client",password:"lz_H5_zhanji",MAC:"H5:BB:CC:DD:11:F1",AreaId:n.g_Cai_GameID,ProductID:n.g_Cai_nProductID,areaname:n.g_ServerName,LocalTime:o.getformattimestamp(new Date),id:e,mapno:i.cur_id,Channel:n.g_ChannelId,Terminal:n.g_Termial,x:null,y:null,charname:null,charlevel:null,itemname:t,itemid:r,reserved1:a,reserved2:_},l=s.self_obj;l?(c.x=l.grid.x,c.y=l.grid.y,c.charname=n.g_RoleName,l.m_Abil&&l.m_Abil.Level?c.charlevel=l.m_Abil.Level:c.charlevel=0):(c.x=0,c.y=0,c.charname="",c.charlevel=0),c.itemname=t,c.itemid=r,c.reserved1=a,c.reserved2=_;var g=JSON.stringify(c);this._m_LogMessageList.push(g)},t.closeHandler=function(e){this._socket.close()},t.errorHandler=function(e){this._socket.close()},e}());r._instance=void 0;e("LogClientSocket",r.getInstance());t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./MsgSM.ts","./Struct.ts","./ResourcesMgr.ts","./UIcontrol.ts","./Sendmessage.ts","./EnDecode.ts","./List.ts","./GameUtil.ts","./AnimationModule.ts","./LoginSocket.ts","./external.ts","./Notice.ts","./SceneCanvas.ts","./NativeMsgHandle.ts","./Https.ts"],(function(e){"use strict";var t,n,r,i,o,l,a,s,c,u,g,h,p,f,d,_,m,v,b,y,A,S,C,w,L,x,k,E,R,N,D,I,z,P,q,T,G,B,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Prefab,s=e.Node,c=e.Label,u=e.RichText,g=e.EditBox,h=e.ProgressBar,p=e.ScrollView,f=e.instantiate,d=e.sys,_=e.director,m=e.Sprite,v=e.Widget,b=e.Component},function(e){y=e.EventMgr},function(e){A=e.Config},function(e){S=e.default},function(e){C=e.default},function(e){w=e.TUserEntry,L=e.TUserEntryAdd},function(e){x=e.resourcesMgr},function(e){k=e.uiControl},function(e){E=e.Sendmessage,R=e.sendmessage},function(e){N=e.EnDecode},function(e){D=e.default},function(e){I=e.GameUtil},function(e){z=e.Animationmodule},function(e){P=e.loginSocket},function(e){q=e.external},function(e){T=e.Notice},function(e){G=e.SceneCanvas},function(e){B=e.NativeMsgHandle},function(e){M=e.https}],execute:function(){var H,O,U,F,V,W,Q,j,K,J,X,Y,$,Z,ee,te,ne,re,ie,oe,le,ae,se,ce,ue,ge,he,pe,fe,de,_e,me,ve,be,ye,Ae,Se,Ce,we,Le,xe,ke,Ee,Re,Ne,De,Ie,ze,Pe,qe,Te,Ge,Be,Me,He,Oe,Ue,Fe,Ve,We,Qe,je,Ke,Je,Xe,Ye,$e,Ze,et,tt,nt,rt,it,ot,lt,at,st,ct,ut,gt,ht,pt,ft,dt,_t,mt,vt,bt,yt,At,St,Ct;o._RF.push({},"c7cfaV7xElPSaphLAu8Rkzx","LoginScene",void 0);var wt=l.ccclass,Lt=l.property;e("LoginScene",(H=wt("LoginScene"),O=Lt(a),U=Lt(D),F=Lt(s),V=Lt(s),W=Lt(D),Q=Lt(s),j=Lt(c),K=Lt(u),J=Lt(s),X=Lt(u),Y=Lt(s),$=Lt(s),Z=Lt(s),ee=Lt(c),te=Lt(D),ne=Lt(c),re=Lt(s),ie=Lt(g),oe=Lt(g),le=Lt(g),ae=Lt(g),se=Lt(g),ce=Lt(g),ue=Lt(g),ge=Lt(g),he=Lt(g),pe=Lt(g),fe=Lt(s),de=Lt(c),_e=Lt(c),me=Lt(s),ve=Lt(s),be=Lt(s),ye=Lt(s),Ae=Lt(a),Se=Lt(s),Ce=Lt(s),we=Lt(s),Le=Lt(s),xe=Lt(s),ke=Lt(s),Ee=Lt(s),Re=Lt(s),Ne=Lt(h),H(((Ct=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).msgFromLogin=[],r(t,"gxxLoginServer",ze,i(t)),r(t,"serve_list",Pe,i(t)),r(t,"notice",qe,i(t)),r(t,"notice_bg",Te,i(t)),r(t,"notice_directory_list",Ge,i(t)),r(t,"notice_panel",Be,i(t)),r(t,"notice_title",Me,i(t)),r(t,"notice_content",He,i(t)),r(t,"agreement_bg",Oe,i(t)),r(t,"agreement_content",Ue,i(t)),r(t,"pref_login_server",Fe,i(t)),r(t,"img_account_list",Ve,i(t)),r(t,"img_select",We,i(t)),r(t,"txt_tip",Qe,i(t)),r(t,"account_list",je,i(t)),r(t,"last_name",Ke,i(t)),r(t,"imageLogin",Je,i(t)),r(t,"tex_name",Xe,i(t)),r(t,"tex_psw",Ye,i(t)),r(t,"username",$e,i(t)),r(t,"password",Ze,i(t)),r(t,"confirmpassword",et,i(t)),r(t,"reg_birthday",tt,i(t)),r(t,"reg_que1",nt,i(t)),r(t,"reg_ans1",rt,i(t)),r(t,"reg_que2",it,i(t)),r(t,"reg_ans2",ot,i(t)),r(t,"img_register",lt,i(t)),r(t,"register_name",at,i(t)),r(t,"register_psw",st,i(t)),r(t,"reg_bg",ct,i(t)),r(t,"loadRes_bg",ut,i(t)),r(t,"login",gt,i(t)),r(t,"role",ht,i(t)),r(t,"aniPrefab",pt,i(t)),r(t,"notice_scroll",ft,i(t)),r(t,"noticeU",dt,i(t)),r(t,"noticeD",_t,i(t)),r(t,"noticeContentD",mt,i(t)),r(t,"serverU",vt,i(t)),r(t,"serverD",bt,i(t)),r(t,"openDoor",yt,i(t)),r(t,"loadGameBg",At,i(t)),r(t,"loadGameBar",St,i(t)),t.nameKey="",t.clickNoticeShow1Copy=!1,t.noticeContentEmpty=!1,t.hasChooseServer=!1,t.group_list=[],t.lastClickAnim=null,t.reqservering=!0,t.use_qqweixin=!0,t.can_click=!0,t.serveArray=[],t.sectionArray=[],t.arerArrayQSY=[],t.currAreaCell=null,t.resetLoginIndex=0,t.isClickStart=!1,t.lastLoginIdxData="",t.last_select_index=-1,t.str_length=10,t.roleNetParam=[],t.loading=null,t.isClickLogin=!1,t.cb=null,t.serverInfoExsit=null,t.sceneCanvas=null,t.tq_notice=null,t._login_server=null,t._preBIdx=null,t.noticeListData={},t._agreementRes=null,t}n(t,e),t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var o=t.prototype;return o.onLoad=function(){this.sceneCanvas=A.CurScene.node.getComponent(G),A.isClickStart=!1},o.update=function(e){x.update()},o.start=function(){this.registerEvents(),console.log(y.getAllEventListeners())},o.setAgreementContentStrHandle=function(e){this.agreement_content&&(this.agreement_content.string=e)},o.onCloseServerList=function(){},o.onNoticOkClick=function(){this.notice_bg.active=!1},o.serverListScrollShow=function(){var e=this.serve_list.getComponent(p).getContentPosition(),t=this.serve_list.numItems,n=45*t+5*(t-1)-263;this.serverU.active=e.y>5,this.serverD.active=e.y<n-5},o.onShowNotice=function(){var e=this;A.g_backToRole?console.log("g_backToRole ---\x3e>> ",A.g_backToRole):A.isTianQiong?this.tq_notice?(this.tq_notice.active=!this.tq_notice.active,this.tq_notice.active&&this.tq_notice.getComponent(T).updateView(this.noticeListData)):x.handleLoad("prefab/loginScene/Notice.prefab",(function(t){t&&(e.tq_notice=f(t),e.tq_notice.setParent(e.notice),e.tq_notice.getComponent(T).updateView(e.noticeListData),e.tq_notice.active=!0)})):(this.notice_bg.active=!this.notice_bg.active,0==this.notice_bg.active&&0==this.serveArray.length&&this.onNoticOkClick())},o.onShowAgreement=function(){this.agreement_bg.active=!this.agreement_bg.active,this._agreementRes?this.agreement_content.string=this._agreementRes:this.agreement_content.string=""},o.onCloseAgreement=function(){this.agreement_bg.active=!1},o.chooseserver=function(e){},o.initConfig=function(){var e=this,t=A.g_serverconfigtxt.gamelist;console.log("正在请求区服列表："+t);var n=this.addGameListParam(A.g_serverconfigtxt.gamelist+"");this.sendHttp(n,"","GET").then((function(t){console.log("<------区服列表------\x3e"),console.log(t.data),t.returnCode&&200!=t.returnCode?k.handlerAlert({type:1,content:t.errorMessage?t.errorMessage:"服务器维护中，请稍后再试"}):(A.g_ServerList=t.data,e.compareServerToLast(t.data))}),(function(e){k.handlerAlert({type:1,content:"获取服务器失败，请重试",sF:function(){_.loadScene("LoginScene")}}),console.log(e)}))},o.addGameListParam=function(e){var t,n,r,i=window.location.href.indexOf("?")+1;i>-1&&(t=e.slice(i),n=e.slice(0,i),r=t.split("&"));var o=A.g_serverconfigtxt.gamelistParam;if(!o)return e;var l=o.split(",");if(!r.length)return e;if(!l.length)return e;for(var a=!1,s=0;s<r.length;s++)for(var c=0;c<l.length;c++)if(r[s].indexOf(l[c]+"=")>-1){a=!0,n+=r[s],s!=r.length-1&&(n+="&");break}return a?n:e},o.sendHttp=function(e,t,n){return new Promise((function(t,r){var i=new XMLHttpRequest;i.open(n,e),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300){var e=JSON.parse(i.responseText);console.log("---------------------request success---------------------"),t(e)}else A.CurScene.loadAnimControl(0),r("---------------------request fail---------------------")},i.send()}))},o.onMsgFromSvr=function(e){var t=this;if("!"===e[e.length-1]){var n=e.substring(0,e.length-1),r=n.substring(0,22),i=n.substring(22,n.length),o=N.DecodeMessage(r),l=N.DecodeString(i);switch(o.ident){case C.SERVER_VERSION:console.log(o),console.log("java服返回消息"),A.isJava=!0,"gdy"==A.releaseChannel||"sandBox"==A.releaseChannel||A.sandBoxNative?this.imageLogin.active=!1:this.imageLogin.active=!0;break;case C.GETSERVERLIST:console.log("获取服务器列表"),this.onGetServerList(l);break;case C.PASSWD_FAIL:this.onPasswordErrorResult(o.record);break;case C.NEWID_FAIL:console.log("注册失败"),this.onRegErrorResult(o.record);break;case C.NEWID_SUCCESS:console.log("注册成功"),this.onRegSuccess();break;case C.PASSOK_SELECTSERVER:console.log("登录成功获取服务器列表"),this.whiteListHander()&&this.onGetServerListResult(l,o.series);break;case C.SELECTSERVER_OK:console.log("选服成功"),this.onSelectSvrResult(l);break;case C.WEBH5VERSION:console.log("开启采集服务,Config.cur_game_type=",A.cur_game_type),this.sceneCanvas.loading.ani.stop();var a=o.record+"."+o.param+"."+o.tag;I.setSaveData("cl_version",a),A.user_version&&-1!=A.user_version.indexOf("sdkforyyy")||A.user_version&&-1!=A.user_version.indexOf("sdkforbaidu")||(0!=A.cur_game_type?3==A.cur_game_type||(4==A.cur_game_type&&0!=A.g_MRGameH5_userId?q.showAlert(A.g_MRGameH5_userId):7==A.cur_game_type?d.isNative&&A.sandBoxNative?_.getScene().getComponentInChildren(B).appLogin("请求登录"):(GameSdk.login(q.showAlert),GameSdk.loginBtnShow((function(){t.img_select.active=!0})),A.sandBoxAPP&&this.scheduleOnce((function(){GameSdk.login(q.showAlert)}),.5)):this.scheduleOnce((function(){q.quicksdklogin()}),.5)):"gdy"==A.releaseChannel||"sandBox"==A.releaseChannel||A.sandBoxNative?this.imageLogin.active=!1:this.imageLogin.active=!0),A.cur_use_app&&A.g_serverconfigtxt.qqweixin;break;case C.WECHATANDQQ:("gdy"==A.releaseChannel||"sandBox"==A.releaseChannel||A.sandBoxNative)&&this.onLogin(l),console.log("WECHATANDQQ");break;case C.GETH5CONFIG:console.log("三端配置器設置（列表服務器發送）");break;case C.RANDOMCODE:this.sceneCanvas.loadAnimControl(0),k.handlerAlert({type:1,content:"服务器开启了验证，无法登陆。"}),console.log("登录验证");break;case C.UPDATIDCARD:console.log("返回更新认证");break;case C.UPDATIDCARD_FAIL:console.log("实名认证错误无参数");break;case C.GETBACKPASSWD_SUCCESS:console.log("找回密码成功");break;case C.GETBACKPASSWD_FAIL:console.log("找回密码失败");break;case C.NEEDUPDATE_ACCOUNT:console.log("更新账号信息界面");break;case C.UPDATEID_SUCCESS:console.log("更新账号信息成功");break;case C.UPDATEID_FAIL:console.log("更新账号信息失败")}}},o.whiteListHander=function(){var e=this,t=this.tex_name.string;if(t&&I.whiteListCheck(t,this.currAreaCell.serverName),!A.g_canLogin){this.sceneCanvas.loading.ani.stop(),this.sceneCanvas.load_mask.active=!1;var n={type:1,content:"当前服务器维护中",sF:function(){e.onClickBtnLoginCloseHandle()},cF:function(){}};return k.handlerAlert(n),!1}return!0},o.onPasswordErrorResult=function(e){if(console.log("登录失败"),this.sceneCanvas.loading.ani.stop(),this.sceneCanvas.load_mask.active=!1,this.isClickLogin=!1,-1==e)k.handlerAlert({type:1,content:"密码错误！"});else if(-2==e)k.handlerAlert({type:1,content:"密码输入错误超过3次，此帐号已被暂时锁定，请稍候再登录！"});else if(-3==e)if("gdy"==A.releaseChannel||"sandBox"==A.releaseChannel||A.sandBoxNative){k.handlerAlert({type:1,content:"此帐号已经登录或被异常锁定，请稍候再登录，点击【确定】重试",sF:function(){var e=A.g_relogname,t=A.g_relogpsw;R.sendLogin(e.toLowerCase(),t)}})}else k.handlerAlert({type:1,content:"此帐号已经登录或被异常锁定，请稍候再登录！"});else-4==e?k.handlerAlert({type:1,content:"个人帐号访问失败！请使用其他帐号登录，或者申请付费注册。"}):-5==e?k.handlerAlert({type:1,content:"这个帐号被锁定！"}):100==e?k.handlerAlert({type:1,content:"用户中心操作失败！"}):101==e?k.handlerAlert({type:1,content:"服务器内部错误！！"}):102==e?k.handlerAlert({type:1,content:"用户游戏ID无效！"}):103==e?k.handlerAlert({type:1,content:"用户渠道无效！"}):104==e?k.handlerAlert({type:1,content:"用户终端无效！"}):105==e?k.handlerAlert({type:1,content:"用户Mac无效！"}):106==e?k.handlerAlert({type:1,content:"用户IP地址格式错误！"}):107==e?k.handlerAlert({type:1,content:"用户注册类型无效！"}):108==e?k.handlerAlert({type:1,content:"账号格式错误！"}):109==e?k.handlerAlert({type:1,content:"密码格式错误！"}):110==e?k.handlerAlert({type:1,content:"平台不存在此账号！"}):111==e?k.handlerAlert({type:1,content:"此账号无法登陆此分区,请联系管理员！"}):112==e?k.handlerAlert({type:1,content:"密码错误次数过多，已被永久锁定，解锁请联系管理员！"}):-1e3==e?k.handlerAlert({type:1,content:"帐号服务器未获取分区ID！"}):-1001==e?k.handlerAlert({type:1,content:"账号登录参数错误！"}):-1002==e?k.handlerAlert({type:1,content:"密码错误！！"}):-1003==e?k.handlerAlert({type:1,content:"当前账号不可登陆到此分区！"}):-1005==e?k.handlerAlert({type:1,content:"服务器内部错误！"}):-1999==e?k.handlerAlert({type:1,content:"连接超时请重新登录！"}):k.handlerAlert({type:1,content:"此帐号不存在或出现未知错误！！"})},o.onRegErrorResult=function(e){this.sceneCanvas.loadAnimControl(0),0==e?k.handlerAlert({type:1,content:"帐号已被注册！"}):-2==e?k.handlerAlert({type:1,content:"此帐号名已被注册或被禁止使用！"}):-3==e?k.handlerAlert({type:1,content:"账号和密码不能相同！"}):-4==e?k.handlerAlert({type:1,content:"密保问题和答案不能相同！"}):100==e?k.handlerAlert({type:1,content:"用户中心操作失败！"}):101==e?k.handlerAlert({type:1,content:"服务器内部错误！"}):102==e?k.handlerAlert({type:1,content:"用户游戏ID无效！"}):103==e?k.handlerAlert({type:1,content:"用户渠道无效！"}):104==e?k.handlerAlert({type:1,content:"用户终端无效！"}):105==e?k.handlerAlert({type:1,content:"用户Mac无效！"}):106==e?k.handlerAlert({type:1,content:"用户IP地址格式错误！"}):107==e?k.handlerAlert({type:1,content:"用户注册类型无效！"}):108==e?k.handlerAlert({type:1,content:"账号格式错误！"}):109==e?k.handlerAlert({type:1,content:"密码格式错误！"}):113==e?k.handlerAlert({type:1,content:"参数错误！"}):114==e?k.handlerAlert({type:1,content:"密码长度不能小于6位且应包含多种组合。"}):115==e||116==e?k.handlerAlert({type:1,content:"请重新填写问题一。"}):117==e||118==e?k.handlerAlert({type:1,content:"请重新填写回答二。"}):140==e?k.handlerAlert({type:1,content:"参数错误！"}):141==e?k.handlerAlert({type:1,content:"请重新填写问题一！"}):142==e?k.handlerAlert({type:1,content:"请重新填写回答一！"}):143==e?k.handlerAlert({type:1,content:"请重新填写问题二！"}):144==e?k.handlerAlert({type:1,content:"请重新填写回答一！"}):145==e?k.handlerAlert({type:1,content:"昵称格式错误！"}):146==e?k.handlerAlert({type:1,content:"用户IP地址格式错误！"}):147==e?k.handlerAlert({type:1,content:"账号含有屏蔽词！"}):148==e?k.handlerAlert({type:1,content:"该账号在平台上已被占用！"}):149==e?k.handlerAlert({type:1,content:"注册时异常！"}):150==e?k.handlerAlert({type:1,content:"创建权限异常，用户已被屏蔽！"}):151==e?k.handlerAlert({type:1,content:"创建权限失败，用户已被屏蔽！"}):-1e3==e?k.handlerAlert({type:1,content:"帐号服务器未获取分区ID！"}):-1001==e?k.handlerAlert({type:1,content:"帐号注册参数错误！"}):-1004==e?k.handlerAlert({type:1,content:"帐号已被注册！"}):-1005==e?k.handlerAlert({type:1,content:"服务器内部错误！"}):k.handlerAlert({type:1,content:"帐号创建失败，请确认帐号是否包括空格、及非法字符！"})},o.onRegSuccess=function(){this.sceneCanvas.loadAnimControl(0),this.reg_bg.active?(this.reg_bg.active=!1,this.tex_name.string=this.username.string,this.tex_psw.string=this.password.string,this.img_register.active=!0,this.register_name.string=this.username.string,this.register_psw.string=this.password.string,this.username.string="",this.password.string="",this.confirmpassword.string="",this.reg_birthday.string="",this.reg_que1.string="",this.reg_ans1.string="",this.reg_que2.string="",this.reg_ans2.string=""):(this.tex_name.string=this.register_name.string,this.tex_psw.string=this.register_psw.string,this.img_register.active=!0),this.imageLogin.active=!1},o.listInitShow=function(){k.gxxLoginServerCreate(this.node)},o.onClickUserAgreementHandle=function(e){var t=e.isChecked;d.localStorage.setItem("userAgreement",JSON.stringify(t))},o.showLastSelectServerHandle=function(){},o.isInList=function(e){for(var t=0;t<A.g_ServerList.length;t++){if(A.g_ServerList[t].serverName==e)return!0}return!1},o.clickChangeServer=function(){this.pref_login_server.active=!0,this.listInitShow()},o.onStartSelect=function(){this.requestRole()},o.evtMgrEnterGameHandle=function(e){this.currAreaCell=e;A.g_serverconfigtxt.brapp_id;this.img_select.active=!0,this.createLoginSocket()},o.createLoginSocket=function(){if(A.isClickStart){if(console.log("请求登陆网关创建login socket"),!A.GAME_IP)return k.handlerAlert({type:1,content:"请选择区服"}),void this.sceneCanvas.loadAnimControl(0);A.CurScene.loadAnimControl(1),P.createSocket("192.168.8.72",7010)}},o.onSvrConnect=function(){if(this.reqservering&&(this.reqservering=!1,E.getInstance().sendreqserver("")),A.isSocketConnected=!0,this.img_select.active=!1,this.txt_tip.node.active=!1,A.CurScene.loadAnimControl(0),A.user_version);else{var e=window.location.href;if(-1!=e.indexOf("token=")){A.releaseChannel="gdy";var t=e.split("token=")[1];R.sendLoginToken(t)}else{var n=I.getSaveData("username"),r=I.getSaveData("userpsw");null!=n&&(this.tex_name.string=n),null!=r&&(this.tex_psw.string=r)}}},o.groupServerListWEB=function(){var e=0;this.group_list=[];for(var t={};null!=this.serveArray[e]&&null!=this.serveArray[e];){var n=this.serveArray[e],r=""==n.groupName?"default":n.groupName;if(null==t[r]){var i={group_name:n.groupName,group_list:[]};""==n.groupName&&(i.group_name="默认分区"),i.group_list=i.group_list.concat(n),t[r]=i}else{t[r].group_list.push(n)}e++}for(var o in t)this.group_list.push(t[o])},o.checkBoRan=function(){return 3==A.cur_game_type||7==A.cur_game_type},o.onChangePasClick=function(){},o.onLogin=function(e){if(1!=this.isClickLogin){var t="";if("gdy"==A.releaseChannel){var n=e.split("/");this.tex_name.string=n[2],this.tex_psw.string=n[3]}else if("sandBox"==A.releaseChannel||A.sandBoxNative){n=e.split("/");A.g_Server_Name=n[0],console.log("g_Server_Name赋值："+A.g_Server_Name),A.g_RoleAccountId=n[2],this.tex_name.string=n[2],this.tex_psw.string=n[3]}else{if(""==this.tex_name.string)return t="请输入用户名",void k.handlerAlert({type:1,content:t});if(""==this.tex_psw.string)return t="请输入密码",void k.handlerAlert({type:1,content:t})}if(A.CurScene.loadAnimControl(1),this.img_register.active=!1,A.isSocketConnected){var r=this.tex_name.string,i=this.tex_psw.string;E.getInstance().sendLogin(r.toLowerCase(),i),A.g_relogname=r,A.g_relogpsw=i,q.LoginFunction(r,i)}}},o.onShowRegist=function(){this.reg_bg.active=!0},o.onRegistOk=function(){var e=this.username.string,t=this.password.string,n=this.confirmpassword.string,r=this.reg_que1.string,i=this.reg_ans1.string,o=this.reg_que2.string,l=this.reg_ans2.string,a=this.reg_birthday.string;if(""!=e)if(/^[\u4e00-\u9fa5]+$/.test(e))k.handlerAlert({type:1,content:"用户名不能包含中文"});else if(e.length<4)k.handlerAlert({type:1,content:"账号必须大于或等于4个字符"});else if(""!=t)if(t.indexOf(" ")>=0)k.handlerAlert({type:1,content:"密码不能包含空格字符"});else if(""!=n)if(t==n)if(t.length<4||n.length<4)k.handlerAlert({type:1,content:"密码长度必须大于等于4个字符"});else if(I.checkBirthday(this.reg_birthday.string))if(""!=this.reg_que1.string)if(""!=this.reg_que2.string)if(""!=this.reg_ans1.string)if(""!=this.reg_ans2.string)if(this.reg_que1.string!=this.reg_que2.string){var s=new w(e,"jauTec@chuanqi.com",t,r,i),c=new L(e,t,o,l,a);A.isSocketConnected&&E.getInstance().sendNewAccount(s.toArray(this.str_length),c.toArray(this.str_length))}else k.handlerAlert({type:1,content:"问题一和问题二不能相同"});else k.handlerAlert({type:1,content:"答案二不能为空"});else k.handlerAlert({type:1,content:"答案一不能为空"});else k.handlerAlert({type:1,content:"问题二不能为空"});else k.handlerAlert({type:1,content:"问题一不能为空"});else k.handlerAlert({type:1,content:"生日格式错误，请重新填写。"});else k.handlerAlert({type:1,content:"两次密码输入不一致！"});else k.handlerAlert({type:1,content:"确认密码不能为空"});else k.handlerAlert({type:1,content:"密码不能为空"});else k.handlerAlert({type:1,content:"登录名不能为空"})},o.onCloseRegist=function(){this.reg_bg.active=!1},o.onQuickRegist=function(){var e=this,t=I.randAccount(),n=I.randNum(),r=I.randLetter()+n;if(t&&r){this.register_name.string=t,this.register_psw.string=r;var i=new w(t,"jauTec@chuanqi.com",r,"3","4"),o=new L(t,r,"5","6","1990/01/01");A.isSocketConnected&&(this.sceneCanvas.loadAnimControl(1),this.scheduleOnce((function(){E.getInstance().sendNewAccount(i.toArray(e.str_length),o.toArray(e.str_length))}),2))}},o.onGetServerListResult=function(e,t){A.g_relogname&&I.setSaveData("username",A.g_relogname),A.g_relogpsw&&I.setSaveData("userpsw",A.g_relogpsw);var n=e.split("/");E.getInstance().sendSelectServer(n[0])},o.onSelectSvrResult=function(e){this.roleNetParam=e.split("/"),E.getInstance().roleNetParam=this.roleNetParam,A.MsgFromLogin=this.roleNetParam,console.log("在登陆场景获取查询角色时需要的登陆code："+this.roleNetParam),this.roleNetParam.push(this.tex_name.string),this.changeToRoleScene()},o.changeToRoleScene=function(){this.openDoor.active=!0;var e=z.playframe(!1,this.openDoor,"Animation/door/gxx/",22,31,100,!1,!0,null,this,(function(){}),null,null,null,null,null,(function(){A.CurScene.loadAnimControl(0)})).node;e.getComponent(m).sizeMode=m.SizeMode.CUSTOM,e.addComponent(v).isAlignTop=!0,e.getComponent(v).isAlignBottom=!0,e.getComponent(v).isAlignLeft=!0,e.getComponent(v).isAlignRight=!0,e.getComponent(v).top=0,e.getComponent(v).bottom=0,e.getComponent(v).left=0,e.getComponent(v).right=0},o.onQueryRoleResult=function(e){console.log("角色信息",e)},o.onGetServerList=function(e){A.g_serverconfigtxt.gamelist},o.compareServerToLast=function(e){},o.onClickBtnLoginCloseHandle=function(){this.sceneCanvas.loadAnimControl(1),P.activeClose((function(){_.loadScene("LoginScene")}))},o.evtMgrShowChangeServerBarHandle=function(){this.pref_login_server.active=!1,this.img_select.active=!0;var e=JSON.parse(d.localStorage.getItem("serverObj"));e&&e.lastserver_name&&(this.last_name.string=e.lastserver_name)},o.registerEvents=function(){y.addEventListener(S.ENTER_GAME_FUNCTION,this.evtMgrEnterGameHandle,this),y.addEventListener(S.SHOW_CHANGE_SERVER_BAR,this.evtMgrShowChangeServerBarHandle,this)},o.requestRole=function(){var e=this;M.requestRoleUrl((function(t){if(t){M.sessionSerial=t.sessionSerial,M.roleUrl=t.roleGateIP,M.rolePort=t.roleGatePort;var n=_.getScene().getComponentInChildren(G);n.pref_login.active=!1,A.MsgFromLogin=[t.roleGateIP,t.roleGatePort,t.sessionSerial,M.ga],e.changeToRoleScene(),n._scene_role?n._scene_role.active=!0:k.gxxRoleCreate(n._scene_role,n.pref_role,t.roleGateIP,t.roleGatePort)}}))},t}(b))._instance=void 0,ze=t((Ie=Ct).prototype,"gxxLoginServer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Ie.prototype,"serve_list",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Ie.prototype,"notice",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(Ie.prototype,"notice_bg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Ie.prototype,"notice_directory_list",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(Ie.prototype,"notice_panel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(Ie.prototype,"notice_title",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Ie.prototype,"notice_content",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Ie.prototype,"agreement_bg",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(Ie.prototype,"agreement_content",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Ie.prototype,"pref_login_server",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Ie.prototype,"img_account_list",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Ie.prototype,"img_select",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Ie.prototype,"txt_tip",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Ie.prototype,"account_list",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Ie.prototype,"last_name",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Ie.prototype,"imageLogin",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Ie.prototype,"tex_name",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Ie.prototype,"tex_psw",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Ie.prototype,"username",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Ie.prototype,"password",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Ie.prototype,"confirmpassword",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Ie.prototype,"reg_birthday",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Ie.prototype,"reg_que1",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Ie.prototype,"reg_ans1",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Ie.prototype,"reg_que2",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Ie.prototype,"reg_ans2",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=t(Ie.prototype,"img_register",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Ie.prototype,"register_name",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=t(Ie.prototype,"register_psw",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=t(Ie.prototype,"reg_bg",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=t(Ie.prototype,"loadRes_bg",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=t(Ie.prototype,"login",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=t(Ie.prototype,"role",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=t(Ie.prototype,"aniPrefab",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=t(Ie.prototype,"notice_scroll",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=t(Ie.prototype,"noticeU",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=t(Ie.prototype,"noticeD",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=t(Ie.prototype,"noticeContentD",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=t(Ie.prototype,"serverU",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=t(Ie.prototype,"serverD",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=t(Ie.prototype,"openDoor",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=t(Ie.prototype,"loadGameBg",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=t(Ie.prototype,"loadGameBar",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=Ie))||De));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoginSceneProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var r,o,n,t,i,s,a,l,c,p,g,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Node,l=e.Label,c=e.ProgressBar,p=e.Sprite,g=e.Component},function(e){u=e.GameUtil}],execute:function(){var f,d,b,h,m,L,y,P,N;i._RF.push({},"a3006qRN+ZE1YzyXzmIgWkG","LoginSceneProgressBar",void 0);var v=s.ccclass,B=s.property;e("LoginSceneProgressBar",(f=v("LoginSceneProgressBar"),d=B(a),b=B(l),h=B(l),f((y=r((L=function(e){function r(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,n(r,"progressNode",y,t(r)),n(r,"infoLabel",P,t(r)),n(r,"progressPer",N,t(r)),r}o(r,e);var i=r.prototype;return i.start=function(){this.progressNode.getComponent(c).progress=0,this.infoLabel.string=""},i.handleProgress=function(e,r){var o=(parseFloat(r.toFixed(2))+"00").replace(/\.([\d]{2})/,"$1.");this.infoLabel.string=e+"..."+1*o+"%",this.progressNode.getComponent(c).progress=1*r},i.loadRes=function(){u.loadResLocal("LoginScene/main_load_bg.png",this.progressNode.getComponent(p)),u.loadResLocal("LoginScene/main_load$bar.png",this.progressNode.getChildByName("Bar").getComponent(p))},r}(g)).prototype,"progressNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(L.prototype,"infoLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(L.prototype,"progressPer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=L))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/LoginSceneSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./ResourcesMgr.ts","./Config.ts"],(function(n){"use strict";var e,i,t,o,g,r,l,a,c,_,u,b,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){g=n.cclegacy,r=n._decorator,l=n.Sprite,a=n.Button,c=n.Toggle,_=n.Component},function(n){u=n.GameUtil},function(n){b=n.resourcesMgr},function(n){p=n.Config}],execute:function(){var s,L,S,f,m,h,x,y,w,q,z,d,R,v,P,A,k,C,B,D,M,T,E,G,N,F,K,U,j,H,I,J,O,X,Q,V,W,Y,Z,$,nn,en,tn,on,gn,rn,ln,an,cn,_n,un,bn,pn,sn,Ln,Sn,fn,mn,hn,xn,yn,wn,qn,zn,dn,Rn,vn,Pn,An,kn,Cn,Bn,Dn,Mn,Tn;g._RF.push({},"b71d4G5rPpKXK+q+q2Jcfua","LoginSceneSprite",void 0);var En=r.ccclass,Gn=r.property;n("LoginSceneSprite",(s=En("LoginSceneSprite"),L=Gn(l),S=Gn(l),f=Gn(l),m=Gn(l),h=Gn(l),x=Gn(l),y=Gn(l),w=Gn(l),q=Gn(l),z=Gn(l),d=Gn(l),R=Gn(l),v=Gn(l),P=Gn(l),A=Gn(l),k=Gn(l),C=Gn(a),B=Gn(l),D=Gn(l),M=Gn(l),T=Gn(l),E=Gn(l),G=Gn(l),N=Gn(l),F=Gn(l),K=Gn(l),U=Gn(l),j=Gn(l),H=Gn(l),I=Gn(l),J=Gn(l),O=Gn(l),X=Gn(a),Q=Gn(a),V=Gn(a),W=Gn(c),s(($=e((Z=function(n){function e(){for(var e,i=arguments.length,g=new Array(i),r=0;r<i;r++)g[r]=arguments[r];return e=n.call.apply(n,[this].concat(g))||this,t(e,"login_bg",$,o(e)),t(e,"sp_icon",nn,o(e)),t(e,"notic_show1",en,o(e)),t(e,"Sprite",tn,o(e)),t(e,"btn_showNotice",on,o(e)),t(e,"btn_showAgreement",gn,o(e)),t(e,"z2",rn,o(e)),t(e,"z",ln,o(e)),t(e,"imageLogin",an,o(e)),t(e,"login_close",cn,o(e)),t(e,"btn_xg",_n,o(e)),t(e,"btn_zc",un,o(e)),t(e,"btn_forgetPsw",bn,o(e)),t(e,"img_register",pn,o(e)),t(e,"change_select",sn,o(e)),t(e,"chosen_server_hint",Ln,o(e)),t(e,"start_select",Sn,o(e)),t(e,"img_userAgreement_bg",fn,o(e)),t(e,"no_agreement",mn,o(e)),t(e,"img_privatePolicy_bg",hn,o(e)),t(e,"no_policy",xn,o(e)),t(e,"img_account_list",yn,o(e)),t(e,"sp_icon01",wn,o(e)),t(e,"sp_icon02",qn,o(e)),t(e,"sp_icon03",zn,o(e)),t(e,"sp_icon04",dn,o(e)),t(e,"btn_closeaccount_list",Rn,o(e)),t(e,"reg_bg",vn,o(e)),t(e,"btn_reg",Pn,o(e)),t(e,"btn_reback",An,o(e)),t(e,"agreement_bg",kn,o(e)),t(e,"btn_agreementClose",Cn,o(e)),t(e,"btn_login",Bn,o(e)),t(e,"btn_zc1",Dn,o(e)),t(e,"btn_register",Mn,o(e)),t(e,"tog_agreenment",Tn,o(e)),e.loginResList=["LoginScene/tianqiong/login_bg.png","LoginScene/tianqiong/logo.png","LoginScene/tianqiong/icon_age.png","LoginScene/tianqiong/tm.png","LoginScene/tianqiong/notic_btn (3).png","LoginScene/tianqiong/btn_xy_1.png","LoginScene/tianqiong/public_bg1.png","LoginScene/tianqiong/change_pwd.png","LoginScene/tianqiong/regist_new_use.png","LoginScene/tianqiong/forgetPsw.png","LoginScene/tianqiong/public_bg4.png","LoginScene/tianqiong/public_band.png","LoginScene/tianqiong/green.png","LoginScene/tianqiong/strat_last.png","LoginScene/tianqiong/userAgreement_bg.png","LoginScene/tianqiong/privatePolicy_bg.png","LoginScene/tianqiong/select_area_2.png","LoginScene/tianqiong/area_blue.png","LoginScene/tianqiong/area_green.png","LoginScene/tianqiong/area_red.png","LoginScene/tianqiong/area_gray.png","LoginScene/img_regbg.png","LoginScene/btn_reg_submit.png","LoginScene/btn_reg_cancel.png","LoginScene/userAgreement_bg.png","LoginScene/tianqiong/btn_close.png","LoginScene/tianqiong/btn_notice_1.png","LoginScene/tianqiong/btn_notice_2.png","LoginScene/tianqiong/btn_login_1.png","LoginScene/tianqiong/btn_login_2.png","LoginScene/tianqiong/tog_btn_2.png","LoginScene/tianqiong/tog_btn_1.png","public/area_red.png","public/area_blue.png",p.S_SELECTROLE,"LoginScene/gxx/login_bg.png","LoginScene/gxx/login_icon_agetip.png","LoginScene/gxx/login_btn_notice.png","LoginScene/gxx/login_btn_agreement.png","LoginScene/gxx/notice_bg.png","LoginScene/gxx/notice_tog_01.png","LoginScene/gxx/notice_tog_02.png","LoginScene/gxx/notice_tog_03.png","LoginScene/gxx/notice_tog_04.png","LoginScene/gxx/login_bg_cur_group.png","LoginScene/gxx/login_btn_startgame_01.png","LoginScene/gxx/login_btn_startgame_02.png","LoginScene/gxx/server_bg.png","LoginScene/gxx/server_bg_group_item.png","LoginScene/gxx/server_icon_blue.png","LoginScene/gxx/server_icon_gray.png","LoginScene/gxx/server_icon_green.png","LoginScene/gxx/server_icon_new_item.png","LoginScene/gxx/server_icon_red.png","LoginScene/gxx/server_tog_01.png","LoginScene/gxx/server_tog_02.png"],e}i(e,n);var g=e.prototype;return g.start=function(){},g.init=function(){u.loadResLocal("LoginScene/gxx/login_bg.png",this.login_bg),u.loadResLocal("LoginScene/gxx/login_icon_agetip.png",this.notic_show1),u.loadResLocal("LoginScene/gxx/login_btn_notice.png",this.btn_showNotice),u.loadResLocal("LoginScene/gxx/login_btn_agreement.png",this.btn_showAgreement),u.loadResLocal("LoginScene/tianqiong/public_bg1.png",this.imageLogin),u.loadResLocal("LoginScene/tianqiong/btn_close.png",this.login_close),u.loadResLocal("LoginScene/tianqiong/change_pwd.png",this.btn_xg),u.loadResLocal("LoginScene/tianqiong/regist_new_use.png",this.btn_zc),u.loadResLocal("LoginScene/tianqiong/forgetPsw.png",this.btn_forgetPsw),u.loadResLocal("LoginScene/tianqiong/public_bg4.png",this.img_register),u.loadResLocal("LoginScene/gxx/login_bg_cur_group.png",this.change_select),u.loadResLocal("LoginScene/gxx/server_icon_green.png",this.chosen_server_hint),u.loadResLocalButton("LoginScene/gxx/login_btn_startgame_01.png","LoginScene/gxx/login_btn_startgame_02.png",this.start_select),u.loadResLocal("LoginScene/tianqiong/userAgreement_bg.png",this.img_userAgreement_bg),u.loadResLocal("LoginScene/tianqiong/btn_close.png",this.no_agreement),u.loadResLocal("LoginScene/tianqiong/privatePolicy_bg.png",this.img_privatePolicy_bg),u.loadResLocal("LoginScene/tianqiong/btn_close.png",this.no_policy),u.loadResLocal("LoginScene/tianqiong/select_area_2.png",this.img_account_list),u.loadResLocal("LoginScene/tianqiong/area_blue.png",this.sp_icon01),u.loadResLocal("LoginScene/tianqiong/area_green.png",this.sp_icon02),u.loadResLocal("LoginScene/tianqiong/area_red.png",this.sp_icon03),u.loadResLocal("LoginScene/tianqiong/area_gray.png",this.sp_icon04),u.loadResLocal("LoginScene/tianqiong/btn_close.png",this.btn_closeaccount_list),u.loadResLocal("LoginScene/img_regbg.png",this.reg_bg),u.loadResLocal("LoginScene/btn_reg_submit.png",this.btn_reg),u.loadResLocal("LoginScene/btn_reg_cancel.png",this.btn_reback),u.loadResLocal("LoginScene/userAgreement_bg.png",this.agreement_bg),u.loadResLocal("LoginScene/tianqiong/btn_close.png",this.btn_agreementClose),u.loadResLocalButton("LoginScene/tianqiong/btn_notice_1.png","LoginScene/tianqiong/btn_notice_2.png",this.btn_login),u.loadResLocalButton("LoginScene/tianqiong/btn_notice_1.png","LoginScene/tianqiong/btn_notice_2.png",this.btn_zc1),u.loadResLocalButton("LoginScene/tianqiong/btn_login_1.png","LoginScene/tianqiong/btn_login_2.png",this.btn_register),u.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",this.tog_agreenment,this.tog_agreenment.checkMark)},g.update=function(n){},g.onDestroy=function(){console.log("资源释放：登陆场景"),b.resClean(this.loginResList)},e}(_)).prototype,"login_bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=e(Z.prototype,"sp_icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=e(Z.prototype,"notic_show1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=e(Z.prototype,"Sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=e(Z.prototype,"btn_showNotice",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gn=e(Z.prototype,"btn_showAgreement",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=e(Z.prototype,"z2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=e(Z.prototype,"z",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=e(Z.prototype,"imageLogin",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=e(Z.prototype,"login_close",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_n=e(Z.prototype,"btn_xg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=e(Z.prototype,"btn_zc",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bn=e(Z.prototype,"btn_forgetPsw",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=e(Z.prototype,"img_register",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sn=e(Z.prototype,"change_select",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ln=e(Z.prototype,"chosen_server_hint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sn=e(Z.prototype,"start_select",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=e(Z.prototype,"img_userAgreement_bg",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=e(Z.prototype,"no_agreement",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hn=e(Z.prototype,"img_privatePolicy_bg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xn=e(Z.prototype,"no_policy",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=e(Z.prototype,"img_account_list",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wn=e(Z.prototype,"sp_icon01",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qn=e(Z.prototype,"sp_icon02",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zn=e(Z.prototype,"sp_icon03",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dn=e(Z.prototype,"sp_icon04",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rn=e(Z.prototype,"btn_closeaccount_list",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vn=e(Z.prototype,"reg_bg",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pn=e(Z.prototype,"btn_reg",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),An=e(Z.prototype,"btn_reback",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kn=e(Z.prototype,"agreement_bg",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cn=e(Z.prototype,"btn_agreementClose",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bn=e(Z.prototype,"btn_login",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dn=e(Z.prototype,"btn_zc1",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mn=e(Z.prototype,"btn_register",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tn=e(Z.prototype,"tog_agreenment",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=Z))||Y));g._RF.pop()}}}));

System.register("chunks:///_virtual/LoginSceneView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.Component}],execute:function(){var c;t._RF.push({},"21285/xenxBoZ8z57jY4/qx","LoginSceneView",void 0);var r=o.ccclass;o.property,e("LoginSceneView",r("LoginSceneView")(c=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.start=function(){},o.onComponentShow=function(e,n){this.node.getChildByName(e).active=n},o.update=function(e){},t}(i))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginServer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./GameUtil.ts","./Config.ts","./UIcontrol.ts","./EventManager.ts","./EventCustom.ts","./ServerDataHandle.ts"],(function(e){"use strict";var t,r,n,i,l,s,a,o,_,c,d,g,u,v,f,p,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,a=e.sys,o=e.Label,_=e.color,c=e.Sprite,d=e.Component},function(e){g=e.default},function(e){u=e.GameUtil},function(e){v=e.Config},function(e){f=e.uiControl},function(e){p=e.EventMgr},function(e){m=e.default},function(e){h=e.serverDataHandle}],execute:function(){var I,C,S,x,y,L,b;l._RF.push({},"4b28btZci5EeJHEHftCtAl2","LoginServer",void 0);var N=s.ccclass,B=s.property;e("LoginServer",(I=N("LoginServer"),C=B(g),S=B(g),I((L=t((y=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,n(t,"list_left_server",L,i(t)),n(t,"list_right_server",b,i(t)),t._server_data=[],t._group_list=[],t._l_preIdx=null,t._r_preIdx=null,t}r(t,e);var l=t.prototype;return l.start=function(){},l.update=function(e){},l.updateView=function(e){var t=this;this._server_data=e,console.log(e),this.list_left_server.numItems=this._server_data.length;var r=JSON.parse(a.localStorage.getItem("serverObj")),n=this.list_left_server.content.children;0!=e.length?this.scheduleOnce((function(){if(r){var e=r.lastgroup_idx;t.onClickListLeftServerItemHandle(n[e],null)}else{for(var i=!0,l=0;l<n.length;l++){if("默认分区"==n[l].getComponentInChildren(o).string){t.onClickListLeftServerItemHandle(n[l],null);break}if(""==n[l].getComponentInChildren(o).string){t.onClickListLeftServerItemHandle(n[l],null);break}i=!1}i||t.onClickListLeftServerItemHandle(n[0],null)}}),.1):f.handlerAlert({type:1,content:"未获取到服务器信息，请检查网络"})},l.renderListLeftServerItemHandle=function(e,t){e.getChildByName("sp_selected").active=!1,e.getChildByName("lab_name").getComponent(o).color=_("#8d7661"),e.getChildByName("lab_name").getComponent(o).string=this._server_data[t].group_name,e._listId==this._l_preIdx&&(e.getChildByName("sp_selected").active=!0,e.getChildByName("lab_name").getComponent(o).color=_("#ffe181")),e.getChildByName("sp_selected").active=e._listId==this._l_preIdx},l.onClickListLeftServerItemHandle=function(e,t){var r=this;if(e._listId!=this._l_preIdx){if(u.setSaveData("lastgroup_idx",t),e.getChildByName("sp_selected").active=!0,e.getChildByName("lab_name").getComponent(o).color=_("#ffe181"),null!=this._l_preIdx){var n=null;try{this.list_left_server.content.children.forEach((function(e){if(e._listId==r._l_preIdx)throw n=e,Error()}))}catch(e){}n&&(n.getChildByName("sp_selected").active=!1,n.getChildByName("lab_name").getComponent(o).color=_("#8d7661"))}this._l_preIdx=e._listId,this.saveDataInStorage("serverObj","lastgroup_idx",this._l_preIdx),this.list_right_server.numItems=this._server_data[this._l_preIdx].group_list.length}this._r_preIdx=null},l.renderListRightServerItemHandle=function(e,t){var r=this._server_data[this._l_preIdx].group_list[t];e.getChildByName("lab_name").getComponent(o).string=r.serverName;var n=null;n=2==r.isConnection?"LoginScene/gxx/server_icon_gray.png":0==t?"LoginScene/gxx/server_icon_blue.png":"LoginScene/gxx/server_icon_red.png",u.loadResLocal(n,e.getChildByName("img").getComponent(c))},l.onClickListRightServerItemHandle=function(e,t){e._listId!=this._r_preIdx&&(this.groupListSelect(e._listId),this._r_preIdx=e._listId,this.onClickBtnCloseViewHandle())},l.groupListSelect=function(e){var t=JSON.parse(a.localStorage.getItem("serverObj"));t&&null!=t.lastgroup_idx&&(this._group_list=this._server_data[t.lastgroup_idx].group_list);var r=this._group_list[e];console.log("cell",r);var n=null;r.currencyInfos&&r.currencyInfos[0].curId&&(n=r.currencyInfos[0].curId);var i={lastserver_name:r.serverName,lastserver_idx:e,lastgroup_idx:this._l_preIdx,diff_server_id:null!=r.gameId&&null!=r.gameId?r.gameId:r.id,diff_server_name:r.serverName,selectProductId:n};a.localStorage.setItem("serverObj",JSON.stringify(i)),this.splitGameConfigWEB(r)},l.splitGameConfigWEB=function(e){if(null!=e){v.g_selectServerId=null!=e.gameId&&null!=e.gameId?e.gameId:e.id;var t=(v.g_isStandbyUrl?v.g_serverconfigtxt.gamelist1+"":v.g_serverconfigtxt.gamelist+"").split("GameList")[0]+"GameConfig?gameId="+e.id;console.log("选中服务器的地址："+t),h.requestGameConfigWEB(t)}},l.saveDataInStorage=function(e,t,r){var n=JSON.parse(a.localStorage.getItem(e));n||(n={lastserver_name:null,lastserver_idx:null,lastgroup_idx:null,diff_server_id:null,diff_server_name:null,selectProductId:null}),n[t]=r,a.localStorage.setItem(e,JSON.stringify(n))},l.onClickBtnCloseViewHandle=function(){p.raiseEvent(m.SHOW_CHANGE_SERVER_BAR),this._l_preIdx=null,this._r_preIdx=null},t}(d)).prototype,"list_left_server",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(y.prototype,"list_right_server",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=y))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/LoginSeverSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./ResourcesMgr.ts"],(function(e){"use strict";var n,o,i,r,t,c,g,l,s,a,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,c=e._decorator,g=e.Sprite,l=e.Button,s=e.Component},function(e){a=e.GameUtil},function(e){p=e.resourcesMgr}],execute:function(){var u,_,x,b,L,S,v,f,h,y,d,m,B,R,z,C,w;t._RF.push({},"fe2b5yxpJNPeaE5ex8jvH+z","LoginSeverSprite",void 0);var A=c.ccclass,D=c.property;e("LoginSeverSprite",(u=A("LoginSeverSprite"),_=D(g),x=D(g),b=D(g),L=D(g),S=D(l),v=D(g),f=D(g),u((d=n((y=function(e){function n(){for(var n,o=arguments.length,t=new Array(o),c=0;c<o;c++)t[c]=arguments[c];return n=e.call.apply(e,[this].concat(t))||this,i(n,"sp_icon01",d,r(n)),i(n,"sp_icon02",m,r(n)),i(n,"sp_icon03",B,r(n)),i(n,"sp_icon04",R,r(n)),i(n,"btn_closeaccount_list",z,r(n)),i(n,"closeAccountChooseBtn",C,r(n)),i(n,"accountChooseBg",w,r(n)),n}o(n,e);var t=n.prototype;return t.start=function(){a.loadResLocal("LoginScene/gxx/server_bg.png",this.node.getComponent(g)),a.loadResLocal("LoginScene/gxx/server_icon_blue.png",this.sp_icon01),a.loadResLocal("LoginScene/gxx/server_icon_green.png",this.sp_icon02),a.loadResLocal("LoginScene/gxx/server_icon_red.png",this.sp_icon03),a.loadResLocal("LoginScene/gxx/server_icon_gray.png",this.sp_icon04),a.loadResLocalButton("public/btn_close_01.png","public/btn_close_02.png",this.btn_closeaccount_list),a.loadResLocal("LoginScene/gxx/gxxServerList/closeBg.png",this.closeAccountChooseBtn),a.loadResLocal("LoginScene/gxx/gxxServerList/bg.png",this.accountChooseBg)},t.update=function(e){},t.onDestroy=function(){p.resClean(["LoginScene/gxx/gxxServerList/closeBg.png","LoginScene/gxx/gxxServerList/bg.png","LoginScene/gxx/server_bg.png","LoginScene/gxx/server_icon_blue.png","LoginScene/gxx/server_icon_green.png","LoginScene/gxx/server_icon_red.png","LoginScene/gxx/server_icon_gray.png","public/btn_close_01.png","public/btn_close_02.png","LoginScene/gxx/server_tog_01.png","LoginScene/gxx/server_tog_02.png","LoginScene/gxx/server_bg_group_item.png","LoginScene/gxx/gxxServerList/itemBg.png"])},n}(s)).prototype,"sp_icon01",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(y.prototype,"sp_icon02",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(y.prototype,"sp_icon03",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(y.prototype,"sp_icon04",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(y.prototype,"btn_closeaccount_list",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(y.prototype,"closeAccountChooseBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(y.prototype,"accountChooseBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginSocket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIcontrol.ts","./LoginScene.ts","./Sendmessage.ts","./Config.ts","./ReconnectionLogic.ts","./GameUtil.ts","./SceneCanvas.ts"],(function(e){"use strict";var n,t,o,s,c,i,l,r,a,u,g;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e.director,s=e.Component},function(e){c=e.uiControl},function(e){i=e.LoginScene},function(e){l=e.sendmessage},function(e){r=e.Config},function(e){a=e.ReconnectionLogic},function(e){u=e.GameUtil},function(e){g=e.SceneCanvas}],execute:function(){t._RF.push({},"1c40bNr9dZL1bu3imhDakvM","LoginSocket",void 0);var h=e("LoginSocket",function(e){function t(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).endian=void 0,n.connected=!1,n._stamp=NaN,n._socket=null,n._addInputPosition=0,n._input=null,n._output=null,n.host="",n.port=null,n.activeCloseHandle=!1,n.closeCallBack=null,n.url=null,n.isRelogin=!1,n.timeout=0,n.objectEncoding=0,n.disableInput=!1,n._byteClass=null,n._protocols=[],n}n(t,e),t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var s=t.prototype;return s.createSocket=function(e,n,t){var o=this;if(e=r.testUrlIp,n=r.testUrlLoginPort,e&&n>0&&n<65535){var s="ws://"+e+":"+n;s="https:"==window.location.protocol?"wss://"+e+":"+n:"ws://"+e+":"+n,this.isConnected()&&this.url==s||(this._socket&&(this._socket=null),this.isRelogin=t,this.host=e,this.port=n,this.url=s,console.log("创建socket连接："+s),u.setDevicesValue(),this._socket=new WebSocket(s),this._socket.binaryType="arraybuffer",this._socket.onopen=function(e){return o._onOpen(e)},this._socket.onmessage=function(e){o._onMessage(e.data)},this._socket.onclose=function(e){return o._onClose(e)},this._socket.onerror=function(e){return o._onError(e)})}else console.error("port error")},s._onOpen=function(e){console.log("LoginSocket连接成功"),this.activeCloseHandle=!1,l.connectKey="login_gate",l.clsocket=_,l.serverVersionCheck(),this.isRelogin?(console.log("重登loginsocket，open"),a.getInstance().onSvrConnect()):o.getScene().getChildByName("Canvas").getChildByName("pref_login").getChildByName("Login").getComponent(i).onSvrConnect()},s._onMessage=function(e){var n="";if("#"===e[0]&&(n+=e),""!=n&&-1!=n.indexOf("!")&&"!"==n[n.length-1]){for(var t=n.split("#"),s=0;s<t.length;s++)this.isRelogin?a.getInstance().onMsgFromSvr(t[s]):o.getScene().getChildByName("Canvas").getChildByName("pref_login").getChildByName("Login").getComponent(i).onMsgFromSvr(t[s]);n=""}},s.activeClose=function(e){this.activeCloseHandle=!0,this.closeCallBack=e,this.isConnected()?this._socket.close():e()},s._onClose=function(e){if("LoginScene"==o.getScene().name&&o.getScene().getChildByName("Canvas").getComponent(g).loadAnimControl(0),this.activeCloseHandle)this.closeCallBack();else{c.handlerAlert({type:1,content:"连接已中断,点击【确定】进行重连",sF:function(){o.loadScene("LoginScene")}})}console.log("login socket连接关闭"+e)},s._onError=function(e){if(console.log("loginSocket_onError判断是否主动断开："+this.activeCloseHandle),!this.activeCloseHandle){c.handlerAlert({type:1,content:"连接服务器失败请稍后再试,点击【确定】进行重连",sF:function(){o.loadScene("LoginScene")}}),console.log("login socket创建连接错误"+e)}},s.send=function(e){this.isConnected()?this._socket.send(e):console.log("login socket连接中断")},s.cleanSocket=function(){try{this._socket.close()}catch(e){}this._socket&&(this.connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null)},s.close=function(){if(null!=this._socket)try{this._socket.close()}catch(e){}},s.isConnected=function(){return!!this._socket&&(this._socket.readyState==WebSocket.CONNECTING||this._socket.readyState==WebSocket.OPEN)},t}(s));h._instance=null;var _=e("loginSocket",h.getInstance());t._RF.pop()}}}));

System.register("chunks:///_virtual/LookHum.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts","./EventManager.ts","./HumTitleItem.ts","./Config.ts","./LookHumEquipView.ts","./LookHumFashionView.ts","./EventCustom.ts","./GameUtil.ts","./ResourcesMgr.ts","./UIcontrol.ts"],(function(e){"use strict";var t,i,n,o,a,l,r,u,s,c,m,h,p,f,g,d,w,I,v,b,_,S,k,V,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Label,u=e.ToggleContainer,s=e.Toggle,c=e.Node,m=e.Prefab,h=e.Sprite,p=e.instantiate,f=e.Component},function(e){g=e.OPEN_ITEMINFO_WIN_TYPE,d=e.HumTitleData},function(e){w=e.EventMgr},function(e){I=e.default},function(e){v=e.Config},function(e){b=e.default},function(e){_=e.default},function(e){S=e.default},function(e){k=e.GameUtil},function(e){V=e.resourcesMgr},function(e){E=e.uiControl}],execute:function(){var H,F,C,y,A,T,U,L,N,D,x,M,q,O,z,G,P,B,W,K,R,j,Y,J,Q,X,Z,$;a._RF.push({},"e527dtMxOpOkp2j/+Oi0MWv","LookHum",void 0);var ee=l.ccclass,te=l.property,ie=l.menu;e("default",(H=ee("LookHum"),F=ie("弹窗模块/LookHum"),C=te(r),y=te(r),A=te(u),T=te(s),U=te(c),L=te(c),N=te(c),D=te(c),x=te(m),M=te(h),q=te(b),O=te(_),H(z=F((P=t((G=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"userName",P,o(t)),n(t,"userGuide",B,o(t)),n(t,"toggleContainer",W,o(t)),n(t,"tabBarButton",K,o(t)),n(t,"equipView",R,o(t)),n(t,"fashionView",j,o(t)),n(t,"titleView",Y,o(t)),n(t,"titleContent",J,o(t)),n(t,"titleItem",Q,o(t)),n(t,"titleShowSprite",X,o(t)),n(t,"lookHumEquipView",Z,o(t)),n(t,"lookHumFashionView",$,o(t)),t.titleItems=[],t.selectIndex=0,t.user_hum_items=null,t.data=null,t}i(t,e);var a=t.prototype;return a.start=function(){this.initMgr()},a.initMgr=function(){w.addEventListener(S.UPDATE_LOOK_TITLE,this.initTitleView,this)},a.init=function(e){this.userName.string=e.UserName,this.userGuide.string=e.GuildName,this.user_hum_items=e.UseItems,this.data=e,this.setAllActiviFalse(),this.equipView.active=!0,this.lookHumEquipView.initEquipData(this.data)},a.updateLookWin=function(e){var t=e[0];this.user_hum_items=t.UseItems,this.updateData(t)},a.updateData=function(e){this.data=e,this.userName.string=e.UserName,this.userGuide.string=e.GuildName,this.equipView.active?this.lookHumEquipView.initEquipData(e):this.fashionView.active?this.lookHumFashionView.initEquipData(e):this.titleView.active},a.setAllActiviFalse=function(){this.equipView.active=!1,this.fashionView.active=!1,this.titleView.active=!1},a.tabbarButtonClick=function(e){var t=this.tabBarButton.indexOf(e);if(this.selectIndex!=t)switch(this.selectIndex=t,console.log("index=",t),t){case 0:this.setAllActiviFalse(),this.equipView.active=!0,this.lookHumEquipView.initEquipData(this.data);break;case 1:this.setAllActiviFalse(),this.fashionView.active=!0,this.lookHumFashionView.initEquipData(this.data);break;case 2:this.setAllActiviFalse(),this.titleView.active=!0,this.initTitleView(v.g_USFengHaoItems)}},a.initTitleView=function(e){var t=this;this.titleContent.destroyAllChildren(),this.titleItems=[];var i="";if(i=v.g_ClientConfig.nShowUserIcon>=0&&v.g_ClientConfig.nShowUserIcon<v.g_pak_list.length?v.g_pak_list[v.g_ClientConfig.nShowUserIcon]:"items",0!=e.length)if(e.forEach((function(e,n){if(null!=e&&e.MakeIndex>0){var o=p(t.titleItem),a=o.getComponent(I);a.index=n;var l=new d;l.name=e.s.Name;var r=k.loadImgData(e.s.Looks,i);l.res=r,l.data=e,a.init(l),a.onItemClick=t.onTitleItemClicked.bind(t),t.titleItems.push(a),t.titleContent.addChild(o)}})),e[v.g_USActiveFengHaoIndex]&&e[v.g_USActiveFengHaoIndex].MakeIndex>0){var n=k.loadImgData(e[v.g_USActiveFengHaoIndex].s.Looks,i);V.resLoad(n.plist,(function(e){e&&t.titleShowSprite&&(e.getSpriteFrame(n.img)?t.titleShowSprite.spriteFrame=e.getSpriteFrame(n.img):t.titleShowSprite.spriteFrame=null)}))}else this.titleShowSprite.spriteFrame=null},a.onTitleItemClicked=function(e){var t=this;this.titleItems.forEach((function(i,n){n==e?(i.setSelected(!0),t.updateTitle(i)):i.setSelected(!1)}))},a.onClickShowTitle=function(){null!=v.g_USFengHaoItems[v.g_USActiveFengHaoIndex]&&v.g_USFengHaoItems[v.g_USActiveFengHaoIndex].MakeIndex>0&&(v.g_OpenIdx=g.LOOKHUMWIN,v.g_MoveItems.Items=v.g_USFengHaoItems[v.g_USActiveFengHaoIndex],k.newShowItemsInf(v.g_MoveItems.Items,1))},a.updateTitle=function(e){v.g_MoveItems.Items=e.title_data,v.g_OpenIdx=g.LOOKHUMWIN,w.raiseEvent(S.OPEN_NEW_ITEM_INFO,[e.title_data])},a.onClickSetSkill=function(){w.raiseEvent("ADD_SETSKILL_PREF")},a.onClickCopyName=function(){v.g_copyName=this.userName.string,E.handlerAlert({type:1,content:"复制成功，可以在添加好友界面粘贴。"})},a.onDestroy=function(){w.removeEventListener(S.UPDATE_LOOK_TITLE,this.initTitleView,this)},a.closeView=function(){this.lookHumEquipView.removeAni(),this.lookHumFashionView.removeAni(),this.node.destroy(),v.nowShowRoleData=null},t}(f)).prototype,"userName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(G.prototype,"userGuide",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(G.prototype,"toggleContainer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"tabBarButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(G.prototype,"equipView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"fashionView",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(G.prototype,"titleView",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(G.prototype,"titleContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(G.prototype,"titleItem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(G.prototype,"titleShowSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(G.prototype,"lookHumEquipView",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(G.prototype,"lookHumFashionView",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=G))||z)||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/LookHumEquipView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Struct.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./GameApi.ts","./GameUtil.ts","./HumEquipItem.ts","./LookShous.ts","./LookShoushi.ts"],(function(e){"use strict";var t,i,n,o,r,s,a,u,l,m,p,h,c,f,S,d,g,I,b,_,E,v,w,H,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Prefab,u=e.Sprite,l=e.Node,m=e.Label,p=e.NodeEventType,h=e.instantiate,c=e.Component},function(e){f=e.EventMgr},function(e){S=e.Config},function(e){d=e.default},function(e){g=e.Struct_ins},function(e){I=e.OPEN_ITEMINFO_WIN_TYPE},function(e){b=e.Animationmodule},function(e){_=e.resourcesMgr},function(e){E=e.GameApi},function(e){v=e.GameUtil},function(e){w=e.default},function(e){H=e.default},function(e){y=e.default}],execute:function(){var x,L,M,N,k,P,A,U,q,O,F,W,z,C,D,T,G,B,R,V,j,J,K,X,Y,Q,Z,$,ee,te,ie,ne,oe,re;r._RF.push({},"c4faf6hFzFMjqX2xrtt5LhF","LookHumEquipView",void 0);var se=s.ccclass,ae=s.property,ue=s.menu;e("default",(x=se("LookHumEquipView"),L=ue("弹窗模块/LookHumEquipView"),M=ae(a),N=ae(a),k=ae(u),P=ae(u),A=ae(u),U=ae(u),q=ae(u),O=ae(l),F=ae(a),W=ae(m),z=ae(u),C=ae(u),D=ae(u),T=ae(u),G=ae(l),x(B=L((V=t((R=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"ShouShiPrefab",V,o(t)),n(t,"ShousWinPrefab",j,o(t)),n(t,"weaponSprite",J,o(t)),n(t,"shieldSprite",K,o(t)),n(t,"clothesSprite",X,o(t)),n(t,"hairSprite",Y,o(t)),n(t,"hatSprite",Q,o(t)),n(t,"equipItems",Z,o(t)),n(t,"itemPrefab",$,o(t)),n(t,"equipScore",ee,o(t)),n(t,"box1Sprite",te,o(t)),n(t,"box2Sprite",ie,o(t)),n(t,"hum_img",ne,o(t)),n(t,"hair_img",oe,o(t)),n(t,"itemHatNode",re,o(t)),t.HumItems=void 0,t.shoushi_sp=null,t.shenngxiao_sp=null,t.jewelry_items=null,t.god_bless_items=null,t}i(t,e);var r=t.prototype;return r.start=function(){},r.initEquipData=function(e){var t=this,i=g.THumFeature(e.Feature.buffer),n=i.btGender,o=this.getHumSkin(n);_.resLoad(o,(function(e){t.hum_img&&e&&(t.hum_img.spriteFrame=e)}));var r=v.getNeiGuanHairResNum(i.btHair,n),s=v.loadImgData(r,"prguse");_.resLoad(s.plist,(function(e){if(e&&t.hairSprite.node&&e.getSpriteFrame(s.img)){var i=e.getSpriteFrame(s.img).offset.x,n=e.getSpriteFrame(s.img).offset.y;t.hairSprite.spriteFrame=e.getSpriteFrame(s.img),t.hairSprite.node.setPosition(-82+t.hairSprite.node.position.x+i,-8+t.hairSprite.node.position.y-n)}})),this.hair_img.node.active=!0,this.shieldSprite.node.active=!0,this.HumItems=e.UseItems,this.jewelry_items=e.JewelryItems,this.god_bless_items=e.GodBlessItems,this.initPart(this.clothesSprite.node,S.U_DRESS),this.initPart(this.weaponSprite.node,S.U_WEAPON),this.initPart(this.shieldSprite.node,S.U_SHIELD),this.initPart(this.hatSprite.node,S.U_HAT);for(var a=function(e){var i=Number(t.equipItems[e].name);null!=t.HumItems[i]&&t.HumItems[i].MakeIndex>0?t.initItems(t.equipItems[e],i):t.equipItems[e].destroyAllChildren();var n=t.equipItems[e].getChildByName(""+i);n&&S.g_isOnWindows&&(n.on(p.MOUSE_ENTER,(function(e){S.g_pcMousePoint=e.getUILocation(),n.getComponent(w).showEquipInfo()}),t),n.on(p.MOUSE_LEAVE,(function(){f.raiseEvent(d.CLOSE_NEW_ITEM_INFO)}),t))},u=0;u<this.equipItems.length;u++)a(u);null!=S.ItemHeard&&S.ItemHeard?this.hatSprite.node.parent.active=!1:this.itemHatNode.active=!1;for(var l=0,m=0;m<e.UseItems.length;m++)null!=e.UseItems[m]&&(l+=E.getItemScore(e.UseItems[m]));this.equipScore&&(this.equipScore.string="装备评分："+l),this.shoushi_sp&&this.shoushi_sp.updateData(e.JewelryItems),this.shenngxiao_sp&&this.shenngxiao_sp.updateData(e.GodBlessItems),e.JewelryBoxStatus>=1?this.box1Sprite.node.active=!0:this.box1Sprite.node.active=!1,this.box2Sprite.node.active=e.ShowGodBless},r.onClickItems=function(e){var t=Number(e.target._name);if(this.HumItems[t]&&this.HumItems[t].MakeIndex>0)return S.g_isOnWindows&&(S.g_pcMousePoint=e.getLocation()),S.g_MoveItems.Items=this.HumItems[t],S.g_MoveItems.Index=t,S.g_OpenIdx=I.LOOKHUMWIN,void f.raiseEvent(d.OPEN_NEW_ITEM_INFO,[this.HumItems[t]])},r.initItems=function(e,t){var i=this.HumItems[t].s.Looks;this.HumItems[t].s.BodyEffect.FileIndex&&v.showItemeffectEx(this,e,this.HumItems[t]),v.loadImageEx(i,e,!1,t,"stateitem",this,!0)},r.initPart=function(e,t){if(e&&S.g_isOnWindows){var i=e.parent;i.on(p.MOUSE_ENTER,this.onClickItems,this),i.on(p.MOUSE_LEAVE,(function(){f.raiseEvent(d.CLOSE_NEW_ITEM_INFO)}),this)}if(null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var n=this.HumItems[t].s.Looks;t==S.U_WEAPON||t==S.U_DRESS||t==S.U_HAT?(this.HumItems[t].tag=t,v.loadImageEx(n,e,!0,t,"stateitem",this,!0),v.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):t==S.U_SHIELD||t==S.U_HAT?(v.loadImageEx(n,e,!0,t,"stateitem",this,!0),v.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(v.loadImageEx(n,e,!1,t,"stateitem",this,!0),v.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{e.getComponent(u).spriteFrame=null;var o=b.getAni(e.parent,"bodyeffect"+e.parent.uuid);o&&b.removeAni(o)}},r.getHumSkin=function(e){return 0==e?"HumWin/00376-1.png":"HumWin/00377-1.png"},r.onClickLookBox1=function(){if(S.MainScene.openLookShouShi)this.shoushi_sp=null,S.MainScene.closeWindow("LookShouShi");else{var e=h(this.ShouShiPrefab);S.MainScene.openWindow(e);var t=e.getComponent(y);t.initData(this.jewelry_items),this.shoushi_sp=t}},r.onClickLookBox2=function(){if(S.MainScene.openLookShouS)this.shenngxiao_sp=null,S.MainScene.closeWindow("LookShous");else{var e=h(this.ShousWinPrefab);S.MainScene.openWindow(e);var t=e.getComponent(H);t.initData(this.god_bless_items),this.shenngxiao_sp=t}},r.removeAni=function(){v.removeItemAni(this.clothesSprite.node.parent,"bodyeffect"),v.removeItemAni(this.weaponSprite.node.parent,"bodyeffect"),v.removeItemAni(this.shieldSprite.node.parent,"bodyeffect"),v.removeItemAni(this.hatSprite.node.parent,"bodyeffect"),this.equipItems.forEach((function(e,t){v.removeItemAni(e,"effect")}))},t}(c)).prototype,"ShouShiPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(R.prototype,"ShousWinPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(R.prototype,"weaponSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(R.prototype,"shieldSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(R.prototype,"clothesSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(R.prototype,"hairSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(R.prototype,"hatSprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(R.prototype,"equipItems",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(R.prototype,"itemPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(R.prototype,"equipScore",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(R.prototype,"box1Sprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(R.prototype,"box2Sprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(R.prototype,"hum_img",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(R.prototype,"hair_img",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(R.prototype,"itemHatNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=R))||B)||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/LookHumFashionView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Struct.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./GameUtil.ts","./HumEquipItem.ts"],(function(e){"use strict";var t,i,n,r,o,s,u,a,m,l,h,c,p,f,I,d,g,H,S,E,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,u=e.Sprite,a=e.Node,m=e.Prefab,l=e.instantiate,h=e.Component},function(e){c=e.EventMgr},function(e){p=e.Config},function(e){f=e.default},function(e){I=e.Struct_ins},function(e){d=e.OPEN_ITEMINFO_WIN_TYPE,g=e.EquipData},function(e){H=e.Animationmodule},function(e){S=e.resourcesMgr},function(e){E=e.GameUtil},function(e){b=e.default}],execute:function(){var v,_,w,y,N,A,F,M,O,x,L,P,k,U,q,D,z,C;o._RF.push({},"098d1jSiiZBWLYQmztk7fzY","LookHumFashionView",void 0);var T=s.ccclass,W=s.property,R=s.menu;e("default",(v=T("LookHumFashionView"),_=R("弹窗模块/LookHumFashionView"),w=W(u),y=W(u),N=W(u),A=W(a),F=W(m),M=W(u),O=W(u),v(x=_((P=t((L=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"weaponSprite",P,r(t)),n(t,"clothesSprite",k,r(t)),n(t,"hatSprite",U,r(t)),n(t,"equipItems",q,r(t)),n(t,"itemPrefab",D,r(t)),n(t,"hum_img",z,r(t)),n(t,"hairSprite",C,r(t)),t.HumItems=[],t}i(t,e);var o=t.prototype;return o.start=function(){},o.initEquipData=function(e){var t=this;console.log("时装");var i=I.THumFeature(e.Feature.buffer).btGender,n=this.getHumSkin(i);S.resLoad(n,(function(e){t.hum_img&&e&&(t.hum_img.getComponent(u).spriteFrame=e)})),this.HumItems=e.UseItems,this.initPart(this.clothesSprite.node,p.U_FASHIONDRESS),this.initPart(this.weaponSprite.node,p.U_FASHIONWEAPON),this.initPart(this.hatSprite.node,p.U_FASHIONHELMET);for(var r=0;r<this.equipItems.length;r++){var o=Number(this.equipItems[r].name);if(null!=this.HumItems[o]&&this.HumItems[o].MakeIndex>0)this.initItems(this.equipItems[r],o);else{this.equipItems[r].destroyAllChildren();var s=new g,a=l(this.itemPrefab);this.equipItems[r].addChild(a);var m=a.getComponent(b);if(s.type=Number(this.equipItems[r].name),m.initNewData(s,!0),o>=26&&o<=29)continue;this.equipItems[r].active=!1}}},o.initItems=function(e,t){var i=this.HumItems[t].s.Looks;E.loadImageEx(i,e,!1,t,"stateitem",this,!0),this.HumItems[t].s.BodyEffect.FileIndex&&E.showItemeffectEx(this,e,this.HumItems[t])},o.initPart=function(e,t){if(null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var i=this.HumItems[t].s.Looks;t==p.U_FASHIONDRESS||t==p.U_FASHIONWEAPON||t==p.U_FASHIONHELMET?(t==p.U_FASHIONDRESS&&(this.hum_img.node.active=!1),this.HumItems[t].tag=t,E.loadImageEx(i,e,!0,t,"stateitem",this,!0),E.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):t==p.U_SHIELD||t==p.U_HELMET?(E.loadImageEx(i,e,!0,t,"stateitem",this,!0),E.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(E.loadImageEx(i,e,!1,t,"stateitem",this,!0),E.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{e.getComponent(u).spriteFrame=null,t==p.U_FASHIONDRESS&&(this.hum_img.node.active=!0);var n=H.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&H.removeAni(n)}},o.getHumSkin=function(e){return 0==e?"HumWin/00376-2.png":"HumWin/00377-2.png"},o.onClickItems=function(e){var t=Number(e.target._name);console.log("单击"),this.HumItems[t]&&this.HumItems[t].MakeIndex>0&&(p.g_MoveItems.Items=this.HumItems[t],p.g_MoveItems.Index=t,p.g_OpenIdx=d.LOOKHUMWIN,c.raiseEvent(f.OPEN_NEW_ITEM_INFO,[this.HumItems[t]]))},o.removeAni=function(){E.removeItemAni(this.clothesSprite.node.parent,"bodyeffect"),E.removeItemAni(this.weaponSprite.node.parent,"bodyeffect"),E.removeItemAni(this.hatSprite.node.parent,"bodyeffect"),this.equipItems.forEach((function(e,t){E.removeItemAni(e,"effect")}))},t}(h)).prototype,"weaponSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(L.prototype,"clothesSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(L.prototype,"hatSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(L.prototype,"equipItems",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(L.prototype,"itemPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"hum_img",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(L.prototype,"hairSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=L))||x)||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/LookHumWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var i,t,n,l,r,o,a,u,c,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Sprite,u=e.Toggle,c=e.Component},function(e){m=e.GameUtil}],execute:function(){var s,p,b,_,g,f,h,d,y,R,w,z,L,k,H,W,B,T,G,S,x,M,F,q,E,v,N,C,j,I,D,O,A,P,U,J,Z,K,Q,V,X,Y,$,ee,ie,te,ne,le,re,oe,ae,ue,ce,me,se,pe,be,_e,ge,fe,he,de,ye,Re,we,ze,Le,ke,He,We,Be,Te,Ge,Se,xe,Me,Fe,qe,Ee,ve;r._RF.push({},"595e0nmJz1GrZB8SEqM07AC","LookHumWinSprite",void 0);var Ne=o.ccclass,Ce=o.property,je=o.menu;e("default",(s=Ne("LookHumWinSprite"),p=je("图片模块/LookHumWinSprite"),b=Ce(a),_=Ce(a),g=Ce(u),f=Ce(a),h=Ce(u),d=Ce(a),y=Ce(u),R=Ce(a),w=Ce(a),z=Ce(a),L=Ce(a),k=Ce(a),H=Ce(a),W=Ce(a),B=Ce(a),T=Ce(a),G=Ce(a),S=Ce(a),x=Ce(a),M=Ce(a),F=Ce(a),q=Ce(a),E=Ce(a),v=Ce(a),N=Ce(a),C=Ce(a),j=Ce(a),I=Ce(a),D=Ce(a),O=Ce(a),A=Ce(a),P=Ce(a),U=Ce(a),J=Ce(a),Z=Ce(a),K=Ce(a),Q=Ce(a),V=Ce(a),s(X=p(($=i((Y=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"BG",$,l(i)),n(i,"BoxBG",ee,l(i)),n(i,"toggleEquip",ie,l(i)),n(i,"checkMarkEquip",te,l(i)),n(i,"toggleFashion",ne,l(i)),n(i,"checkMarkFashion",le,l(i)),n(i,"toggleTitle",re,l(i)),n(i,"checkMarkTitle",oe,l(i)),n(i,"close",ae,l(i)),n(i,"item_hat",ue,l(i)),n(i,"item_medal",ce,l(i)),n(i,"item_bracelet_left",me,l(i)),n(i,"item_ring_left",se,l(i)),n(i,"item_amulet",pe,l(i)),n(i,"item_belt",be,l(i)),n(i,"item_shoes",_e,l(i)),n(i,"item_drum",ge,l(i)),n(i,"item_stone",fe,l(i)),n(i,"item_ring_right",he,l(i)),n(i,"item_bracelet_right",de,l(i)),n(i,"item_necklace",ye,l(i)),n(i,"item_horse",Re,l(i)),n(i,"item_helmet",we,l(i)),n(i,"item_jade",ze,l(i)),n(i,"item_box1",Le,l(i)),n(i,"item_box2",ke,l(i)),n(i,"copyName",He,l(i)),n(i,"fashion_medal",We,l(i)),n(i,"fashion_bracelet_left",Be,l(i)),n(i,"fashion_ring_left",Te,l(i)),n(i,"fashion_belt",Ge,l(i)),n(i,"fashion_shoes",Se,l(i)),n(i,"fashion_stone",xe,l(i)),n(i,"fashion_ring_right",Me,l(i)),n(i,"fashion_bracelet_right",Fe,l(i)),n(i,"fashion_necklace",qe,l(i)),n(i,"TitleBG",Ee,l(i)),n(i,"TitleICONBG",ve,l(i)),i}return t(i,e),i.prototype.start=function(){m.loadResLocal("HumWin/00029_new.png",this.BG),m.loadResLocal("HumWin/00029_new_1.png",this.BoxBG),m.loadResLocal("HumWin/item_hat.png",this.item_hat),m.loadResLocal("HumWin/item_medal.png",this.item_medal),m.loadResLocal("HumWin/item_bracelet.png",this.item_bracelet_left),m.loadResLocal("HumWin/item_ring.png",this.item_ring_left),m.loadResLocal("HumWin/item_amulet.png",this.item_amulet),m.loadResLocal("HumWin/item_belt.png",this.item_belt),m.loadResLocal("HumWin/item_shoes.png",this.item_shoes),m.loadResLocal("HumWin/item_drum.png",this.item_drum),m.loadResLocal("HumWin/item_stone.png",this.item_stone),m.loadResLocal("HumWin/item_ring.png",this.item_ring_right),m.loadResLocal("HumWin/item_bracelet.png",this.item_bracelet_right),m.loadResLocal("HumWin/item_necklace.png",this.item_necklace),m.loadResLocal("HumWin/item_horse.png",this.item_horse),m.loadResLocal("HumWin/item_helmet.png",this.item_helmet),m.loadResLocal("HumWin/item_helmet.png",this.item_jade),m.loadResLocal("public/btn_close_new.png",this.close),m.loadResLocal("SplitResource/Btns/item_box1.png",this.item_box1),m.loadResLocal("SplitResource/Btns/item_box2.png",this.item_box2),m.loadResLocal("public/btn_ok.png",this.copyName),m.loadResLocal("HumWin/item_medal.png",this.fashion_medal),m.loadResLocal("HumWin/item_bracelet.png",this.fashion_bracelet_left),m.loadResLocal("HumWin/item_bracelet.png",this.fashion_bracelet_right),m.loadResLocal("HumWin/item_ring.png",this.fashion_ring_left),m.loadResLocal("HumWin/item_belt.png",this.fashion_belt),m.loadResLocal("HumWin/item_shoes.png",this.fashion_shoes),m.loadResLocal("HumWin/item_stone.png",this.fashion_stone),m.loadResLocal("HumWin/item_ring.png",this.fashion_ring_right),m.loadResLocal("HumWin/item_necklace.png",this.fashion_necklace),m.loadResLocal("HumWin/title_bg.png",this.TitleBG),m.loadResLocal("HumWin/icon_k.png",this.TitleICONBG),m.loadResLocalToggle("SplitResource/Btns/00040.png","SplitResource/Btns/00040 (3).png",this.toggleEquip,this.checkMarkEquip),m.loadResLocalToggle("SplitResource/Btns/00039.png","SplitResource/Btns/00039 (3).png",this.toggleFashion,this.checkMarkFashion),m.loadResLocalToggle("SplitResource/Btns/00041.png","SplitResource/Btns/00041 (3).png",this.toggleTitle,this.checkMarkTitle)},i}(c)).prototype,"BG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(Y.prototype,"BoxBG",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(Y.prototype,"toggleEquip",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(Y.prototype,"checkMarkEquip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(Y.prototype,"toggleFashion",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(Y.prototype,"checkMarkFashion",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(Y.prototype,"toggleTitle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(Y.prototype,"checkMarkTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(Y.prototype,"close",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(Y.prototype,"item_hat",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(Y.prototype,"item_medal",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(Y.prototype,"item_bracelet_left",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(Y.prototype,"item_ring_left",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(Y.prototype,"item_amulet",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(Y.prototype,"item_belt",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(Y.prototype,"item_shoes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(Y.prototype,"item_drum",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=i(Y.prototype,"item_stone",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(Y.prototype,"item_ring_right",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(Y.prototype,"item_bracelet_right",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(Y.prototype,"item_necklace",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(Y.prototype,"item_horse",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=i(Y.prototype,"item_helmet",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(Y.prototype,"item_jade",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(Y.prototype,"item_box1",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=i(Y.prototype,"item_box2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=i(Y.prototype,"copyName",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=i(Y.prototype,"fashion_medal",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(Y.prototype,"fashion_bracelet_left",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=i(Y.prototype,"fashion_ring_left",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=i(Y.prototype,"fashion_belt",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(Y.prototype,"fashion_shoes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(Y.prototype,"fashion_stone",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(Y.prototype,"fashion_ring_right",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=i(Y.prototype,"fashion_bracelet_right",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=i(Y.prototype,"fashion_necklace",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(Y.prototype,"TitleBG",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i(Y.prototype,"TitleICONBG",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Y))||X)||X));r._RF.pop()}}}));

System.register("chunks:///_virtual/LookShous.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./GameUtil.ts","./HumEquipItem.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,u,l,c,f,h,m,p,d,v,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Prefab,u=e.Node,l=e.Sprite,c=e.instantiate,f=e.Component},function(e){h=e.EventMgr},function(e){m=e.Config},function(e){p=e.U_Type},function(e){d=e.default},function(e){v=e.EquipData},function(e){g=e.GameUtil},function(e){S=e.default}],execute:function(){var b,E,y,L,D,I,N,B,k,w,G,M;r._RF.push({},"4712aoEm/5NtrOiojRIrm7g","LookShous",void 0);var _=a.ccclass,C=a.menu,O=a.property;e("default",(b=_("LookShous"),E=C("弹窗模块/LookShous"),y=O(s),L=O(u),D=O(l),I=O(l),b(N=E((k=t((B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"itemPrefab",k,o(t)),i(t,"contentNode",w,o(t)),i(t,"BG",G,o(t)),i(t,"CloseBtn",M,o(t)),t.HumItems=[],t}n(t,e);var r=t.prototype;return r.start=function(){g.loadResLocal("HumWin/shengxiao.png",this.BG),g.loadResLocal("public/btn_close_new.png",this.CloseBtn),m.MainScene.openLookShouS=!0,this.initMgr()},r.initMgr=function(){h.addEventListener(d.REMOEV_ANI,this.removeAni,this)},r.initData=function(e){if(e){this.HumItems=e;for(var t=0;t<12;t++){var n=e[t];if(null!=n&&n.MakeIndex>0){var i=this.HumItems[t].s.Looks;g.loadImageEx(i,this.contentNode,!1,t+p.GODBLESS1,"stateitem",this,!0)}else{var o=new v,r=c(this.itemPrefab);this.contentNode.addChild(r);var a=r.getComponent(S);o.type=t+p.GODBLESS1,r.name=""+(t+p.GODBLESS1),a.initNewData(o,!0)}}}},r.updateData=function(e){this.HumItems=e;for(var t=0;t<12;t++){var n=e[t];if(null!=n&&n.MakeIndex>0){var i=this.HumItems[t].s.Looks;g.loadImageEx(i,this.contentNode,!1,t+p.GODBLESS1,"stateitem",this,!0)}else if(this.contentNode)for(var o=0;o<this.contentNode.children.length;o++){var r=this.contentNode.children[o],a=r.getComponent(S);if(a.equip_type>=p.GODBLESS1&&a.equip_type-p.GODBLESS1==t){var s=new v;a.initNewData(s,!0),g.removeItemAni(r,"bodyeffect");break}}}},r.closeView=function(){for(var e=0;e<this.contentNode.children.length;e++){var t=this.contentNode.children[e];t&&g.removeItemAni(t,"bodyeffect")}this.node.destroy()},r.onDestroy=function(){m.MainScene.openLookShouS=!1,h.removeEventListener(d.REMOEV_ANI,this.removeAni,this)},r.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(f)).prototype,"itemPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(B.prototype,"contentNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(B.prototype,"BG",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(B.prototype,"CloseBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=B))||N)||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/LookShoushi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./GameUtil.ts","./HumEquipItem.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,u,c,l,f,h,m,d,p,v,E,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Prefab,u=e.Node,c=e.Sprite,l=e.instantiate,f=e.Component},function(e){h=e.EventMgr},function(e){m=e.Config},function(e){d=e.U_Type},function(e){p=e.default},function(e){v=e.EquipData},function(e){E=e.GameUtil},function(e){b=e.default}],execute:function(){var g,y,L,I,N,k,w,R,S,M,C,D;r._RF.push({},"ec8f9RVzidPcbVUy/+kTgn7","LookShoushi",void 0);var _=a.ccclass,A=a.menu,H=a.property;e("default",(g=_("LookShoushi"),y=A("弹窗模块/LookShoushi"),L=H(s),I=H(u),N=H(c),k=H(c),g(w=y((S=t((R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"itemPrefab",S,o(t)),i(t,"contentNode",M,o(t)),i(t,"BG",C,o(t)),i(t,"CloseBtn",D,o(t)),t.HumItems=[],t}n(t,e);var r=t.prototype;return r.start=function(){E.loadResLocal("HumWin/shoushi.png",this.BG),E.loadResLocal("public/btn_close_new.png",this.CloseBtn),m.MainScene.openLookShouShi=!0,this.initMgr()},r.initMgr=function(){h.addEventListener(p.REMOEV_ANI,this.removeAni,this)},r.initData=function(e){if(e){this.HumItems=e;for(var t=0;t<6;t++){var n=e[t];if(null!=n&&n.MakeIndex>0){var i=this.HumItems[t].s.Looks;E.loadImageEx(i,this.contentNode,!1,t+d.JEWELRY1,"stateitem",this,!0)}else{var o=new v,r=l(this.itemPrefab),a=r.getComponent(b);o.type=t+d.JEWELRY1,r.name=""+(t+d.JEWELRY1),a.initNewData(o,!0),this.contentNode.addChild(r)}}}},r.updateData=function(e){this.HumItems=e;for(var t=0;t<6;t++){var n=e[t];if(null!=n&&n.MakeIndex>0){var i=this.HumItems[t].s.Looks;E.loadImageEx(i,this.contentNode,!1,t+d.JEWELRY1,"stateitem",this,!0)}else if(this.contentNode)for(var o=0;o<this.contentNode.children.length;o++){var r=this.contentNode.children[o],a=r.getComponent(b);if(a.equip_type==t+d.JEWELRY1){var s=new v;a.initNewData(s,!0),E.removeItemAni(r,"bodyeffect");break}}}},r.closeView=function(){for(var e=0;e<this.contentNode.children.length;e++){var t=this.contentNode.children[e];t&&E.removeItemAni(t,"bodyeffect")}this.node.destroy()},r.onDestroy=function(){m.MainScene.openLookShouShi=!1,h.removeEventListener(p.REMOEV_ANI,this.removeAni,this)},r.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(f)).prototype,"itemPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(R.prototype,"contentNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(R.prototype,"BG",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"CloseBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=R))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Mail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,a,l,r,o,s,m,u,c,p,g,d,_,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,o=t.Sprite,s=t.Node,m=t.Label,u=t.color,c=t.Component},function(t){p=t.EventMgr},function(t){g=t.Config},function(t){d=t.default},function(t){_=t.Sendmessage},function(t){h=t.default},function(t){b=t.GameUtil}],execute:function(){var f,M,C,I,v,L,y,A,S,w,D,E,z,x,B,G,N,R,T,H,k,U,V,F,O,P,W,j,K,q,J,Q,X,Y,Z,$,tt,et,it,nt,at,lt,rt,ot,st,mt,ut;l._RF.push({},"fcf76MssIFPb6K/Wm6yaIGi","Mail",void 0);var ct=r.ccclass,pt=r.property;t("Mail",(f=ct("Mail"),M=pt(o),C=pt(o),I=pt(o),v=pt(o),L=pt(o),y=pt(o),A=pt(h),S=pt(h),w=pt(s),D=pt(s),E=pt(s),z=pt(s),x=pt(s),B=pt(s),G=pt(s),N=pt(s),R=pt(s),T=pt(s),H=pt(s),k=pt(s),U=pt(s),V=pt(s),f((P=e((O=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"Bg",P,a(e)),n(e,"Btn_Close",W,a(e)),n(e,"Btn_GetItem",j,a(e)),n(e,"Btn_DelMail",K,a(e)),n(e,"Btn_GetAllMail",q,a(e)),n(e,"Btn_DelAllRead",J,a(e)),n(e,"listMail",Q,a(e)),n(e,"listItem",X,a(e)),n(e,"lab_CurrentMailCount",Y,a(e)),n(e,"lab_MaxMailCount",Z,a(e)),n(e,"lab_SendName",$,a(e)),n(e,"lab_Limited",tt,a(e)),n(e,"lab_Caption",et,a(e)),n(e,"lab_Time",it,a(e)),n(e,"lab_Mome",nt,a(e)),n(e,"sp_claimed",at,a(e)),n(e,"sp_unclaimed",lt,a(e)),n(e,"btn_GetItem",rt,a(e)),n(e,"btn_DelMail",ot,a(e)),n(e,"btn_GetAllMail",st,a(e)),n(e,"btn_DelAllRead",mt,a(e)),n(e,"listMailContent",ut,a(e)),e.tempArray=[],e.tempItemArray=[],e._newMailCount=0,e._preItem=null,e._preIdx=-1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){},l.start=function(){this.registerEvents(),b.loadResLocal("Socialize/mail/mail_bg.png",this.node.getComponent(o)),b.loadResLocal("Socialize/mail/bg_mailcontent.png",this.Bg),b.loadResLocal("Socialize/mail/icon_claimed.png",this.sp_claimed.getComponent(o)),b.loadResLocal("Socialize/mail/icon_unclaimed.png",this.sp_unclaimed.getComponent(o)),b.loadResLocal("public/btn_close01.png",this.Btn_Close),b.loadResLocal("Socialize/mail/btn_extract01.png",this.Btn_GetItem),b.loadResLocal("Socialize/mail/btn_delMail.png",this.Btn_DelMail),b.loadResLocal("Socialize/mail/btn_getAllItem.png",this.Btn_GetAllMail),b.loadResLocal("Socialize/mail/btn_delReaded.png",this.Btn_DelAllRead)},l.updateView=function(){this.sp_claimed.active=this.sp_unclaimed.active=!1,this.listMail.numItems=this.tempArray.length,this.lab_MaxMailCount.getComponent(m).string=g.g_mailMaxCount+"",this.lab_CurrentMailCount.getComponent(m).string=this.tempArray.length+""},l.RenderItemHandler=function(t,e){this.restListMailItem(t);var i=t.getChildByName("lab_State"),n=t.getChildByName("lab_Caption"),a=t.getChildByName("lab_Limited"),l=t.getChildByName("lab_send_name");t.dataSource=this.tempArray[e],0==this.tempArray[e].state?(i.getComponent(m).string="未读",i.getComponent(m).color=u("#36d61a")):1==this.tempArray[e].state?(i.getComponent(m).string="已读",i.getComponent(m).color=u("#d94343")):(t.getComponent(o).grayscale=!0,i.getComponent(m).string="已读",i.getComponent(m).color=u("#808080"),n.getComponent(m).color=u("#808080"),a.getComponent(m).color=u("#808080"),l.getComponent(m).color=u("#808080")),a.active=t.dataSource.nLimited>0,l.getComponent(m).string=this.tempArray[e].lab_sendName,n.getComponent(m).string=this.tempArray[e].lab_caption,a.getComponent(m).string=this.tempArray[e].lab_limited,e==this._preIdx&&-1!=this._preIdx&&b.loadResLocal("Socialize/select_mailVeiw.png",t.getComponent(o))},l.onClickRenderItemHandler=function(t,e){e!=this._preIdx&&(b.loadResLocal("Socialize/mail/select_mailVeiw.png",t.getComponent(o)),_.getInstance().sendGetMailContent(t.dataSource.nMailIdx),this._preItem&&b.loadResLocal("Socialize/mail/mail_veiw2.png",this._preItem.getComponent(o)),this._preItem=t,this._preIdx=e)},l.renderListItemHandler=function(t,e){b.loadResLocal("Socialize/mail/img_mailItem_bg.png",t.getComponent(o));var i=t.getChildByName("Img_Item"),n=t.getChildByName("lab_CurrenCount");t.dataSource=this.tempItemArray[e],t.dataSource.item&&(b.loadImg(t.dataSource.item.s.Looks,"items",(function(e){i.getComponent(o).spriteFrame=e.data.getSpriteFrame(e.nOffset.img),b.showItemeffect(i,t.dataSource.item),g.g_OpenIdx=-1})),n.getComponent(m).string=t.dataSource.nCount)},l.onClickListItemHandler=function(t){b.newShowItemsInf(t.dataSource.item,null,t.position.x)},l.onClickBtnGetItemHandler=function(){if(this._preItem&&-1!=this._preItem.dataSource.nMailIdx){var t=this.getContentMail(this._preItem.dataSource.nMailIdx);t&&t.btState<2&&_.getInstance().sendGetMailItem(this._preItem.dataSource.nMailIdx)}},l.onClickBtnDelMailHandler=function(){var t=this;if(this._preItem&&-1!=this._preItem.dataSource.nMailIdx){var e=this.getContentMail(this._preItem.dataSource.nMailIdx);if(e&&e.btState>=2){var i=this._preItem.dataSource.nMailIdx;this._preItem.dataSource.nMailIdx=-1,_.getInstance().sendDeleteMail(i);for(var n=0;n<g.g_mailList.length;n++)if(g.g_mailList[n].nMailIdx==i){g.g_mailList.splice(n,1);break}this.formatMailInfo(),this.listMail.aniDelItem(this._preIdx,(function(){t._preIdx=-1,t._preItem=null,t.clearContent(),t.updateView()}),null)}}},l.onClickBtnGetAllMailHandler=function(){if(g.g_mailList.length>0)for(var t=0;t<g.g_mailList.length;t++)if(g.g_mailList[t].btState<2){_.getInstance().sendGetAllMailItem();break}},l.onClickBtnDelAllReadedHandler=function(){if(g.g_mailList.length>0)for(var t=0;t<g.g_mailList.length;t++)if(g.g_mailList[t].btState>=1){_.getInstance().sendDeleteAllMail();break}},l.evtMgrGetUserMailHandler=function(t){this._newMailCount=t,this.formatMailInfo(),this.updateView()},l.evtMgrGetMailContentHandler=function(t){if(t.mail){this.lab_SendName.getComponent(m).string=" 发 送 者 : "+t.mail.sSendName,t.mail.nLimited>0&&(this.lab_Limited.getComponent(m).string="限时: "+t.mail.nLimited+" 天"),this.lab_Caption.getComponent(m).string=" 标 题 : "+t.mail.sCaption,this.lab_Time.getComponent(m).string=" 时 间 : "+t.mail.SendDate,this.lab_Mome.getComponent(m).string=t.mail.content.sMemo.replace(/\\/g,"\n"),this.tempItemArray=[];for(var e=!0,i=0;i<t.mail.content.items.length;i++)t.mail.content.items[i].nCurrentCount>0&&(e=!1);if(this.btn_DelMail.active=!1,this.btn_GetItem.active=!1,this.sp_claimed.active=!1,this.sp_unclaimed.active=!1,t.mail.btState>=2||e){this.btn_DelMail.active=!0,t.mail.btState=2,this.sp_claimed.active=!0;for(i=0;i<t.mail.content.items.length;i++){var n=t.mail.content.items[i];this.tempItemArray.push({item:n.item,nCount:n.nCount,btIndex:n.btIndex})}}else{this.btn_GetItem.active=!0,this.sp_unclaimed.active=!0;for(i=0;i<t.mail.content.items.length;i++){n=t.mail.content.items[i];this.tempItemArray.push({item:n.item,nCount:n.nCurrentCount,btIndex:n.btIndex})}}this.listItem.numItems=this.tempItemArray.length}},l.evtMgrUpdateMailStateHandler=function(t){for(var e=this.tempArray,i=0;i<e.length;i++)if(e[i].nMailIdx==t.mail.nMailIdx){e[i].state=t.mail.btState,null==t.tag?t.mail.btState>=2&&this._newMailCount>0&&this._newMailCount--:2==t.tag&&t.mail.btState>=2&&this._newMailCount>0&&this._newMailCount--,this.listMail.updateAll();break}},l.evtMgrDeleteAllMailHandler=function(t){for(var e=this,i=0;i<t.length;i++)for(var n=0;n<g.g_mailList.length;n++)if(t[i]==g.g_mailList[n].nMailIdx){g.g_mailList.splice(n,1),this.formatMailInfo(),this.listMail.aniDelItem(this._preIdx,(function(){e._preIdx=-1,e._preItem=null,e.updateView()}),null);break}this.clearContent()},l.evtMgrAddNewMailHandler=function(t){this._newMailCount++,this.formatMailInfo(),this.updateView()},l.registerEvents=function(){console.log("注册Mail事件"),p.addEventListener(d.GET_USER_MAIL,this.evtMgrGetUserMailHandler,this),p.addEventListener(d.GET_MAIL_CONTENT,this.evtMgrGetMailContentHandler,this),p.addEventListener(d.UPDATE_MAIL_STATE,this.evtMgrUpdateMailStateHandler,this),p.addEventListener(d.DELETE_ALL_MAIL,this.evtMgrDeleteAllMailHandler,this),p.addEventListener(d.ADD_NEW_MAIL,this.evtMgrAddNewMailHandler,this)},l.unRegisterEvents=function(){console.log("注销Mail事件"),p.removeEventListener(d.GET_USER_MAIL,this.evtMgrGetUserMailHandler,this),p.removeEventListener(d.GET_MAIL_CONTENT,this.evtMgrGetMailContentHandler,this),p.removeEventListener(d.UPDATE_MAIL_STATE,this.evtMgrUpdateMailStateHandler,this),p.removeEventListener(d.DELETE_ALL_MAIL,this.evtMgrDeleteAllMailHandler,this),p.removeEventListener(d.ADD_NEW_MAIL,this.evtMgrAddNewMailHandler,this)},l.onCloseView=function(){this.clearContent(),this._preIdx=-1,this._preItem&&b.loadResLocal("Socialize/mail/mail_veiw2.png",this._preItem.getComponent(o)),this.listMail.scrollTo(-1,0),p.raiseEvent(d.NEW_MAIL_NOTICE,this._newMailCount),this.node.active=!1},l.formatMailInfo=function(){this.listMailContent.removeAllChildren(),this.tempArray=[];for(var t=0;t<g.g_mailList.length;t++){var e=g.g_mailList[t];this.tempArray.push({nMailIdx:e.nMailIdx,lab_sendName:e.sSendName,lab_caption:e.sCaption,state:e.btState,lab_date:this.getHowMuchTime(e.SendDate),lab_limited:this.getLimitedDate(e.SendDate,e.nLimited),nLimited:e.nLimited})}},l.getLimitedDate=function(t,e){if(e<=0)return"";var i=new Date(t).getTime(),n=24*e*60*60*1e3-((new Date).getTime()-i);if(n<=0)return"已过期";n=parseInt(n/1e3+"");var a=parseInt(n/86400+"");if(a>=1)return a+"天后过期";var l=parseInt(n/3600+"");if(l>=1)return l+"小时后过期";var r=parseInt(n/60+"");return r>=1?r+"分钟后过期":n+"秒后过期"},l.getHowMuchTime=function(t){var e=new Date(t).getTime(),i=(new Date).getTime()-e;if(i<=0)return"未知";i=parseInt(i/1e3+"");var n=parseInt(i/86400+"");if(n>=1)return n+"天前";var a=parseInt(i/3600+"");return a>=1?a+"小时前":"刚刚"},l.getContentMail=function(t){for(var e=0;e<g.g_mailList.length;e++)if(g.g_mailList[e].nMailIdx==t&&null!=g.g_mailList[e].content)return g.g_mailList[e];return null},l.clearContent=function(){this.lab_Caption.getComponent(m).string="",this.lab_SendName.getComponent(m).string="",this.lab_Time.getComponent(m).string="",this.lab_Mome.getComponent(m).string="",this.lab_Limited.getComponent(m).string="",this.btn_GetItem.active=!1,this.btn_DelMail.active=!1,this.sp_claimed.active=!1,this.listItem.numItems=0,this.lab_CurrentMailCount.getComponent(m).string=this.tempArray.length+""},l.restListMailItem=function(t){b.loadResLocal("Socialize/mail/mail_veiw.png",t.getComponent(o)),b.loadResLocal("Socialize/mail/btn_itemdel.png",t.getChildByName("btn_delitem").getComponent(o)),t.getComponent(o).grayscale=!1,t.getChildByName("lab_State").getComponent(m).color=u("#C8C1B9"),t.getChildByName("lab_Caption").getComponent(m).color=u("#CD964E"),t.getChildByName("lab_Limited").getComponent(m).color=u("#C8C1B9")},l.deleteMailView=function(t){for(var e=0;e<this.tempArray.length;e++)if(this.tempArray[e].nMailIdx==t){this.tempArray.splice(e,1),this.listMail.numItems=this.tempArray.length,this._preItem=null;break}},e}(c)).prototype,"Bg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(O.prototype,"Btn_Close",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(O.prototype,"Btn_GetItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(O.prototype,"Btn_DelMail",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(O.prototype,"Btn_GetAllMail",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(O.prototype,"Btn_DelAllRead",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(O.prototype,"listMail",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(O.prototype,"listItem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(O.prototype,"lab_CurrentMailCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(O.prototype,"lab_MaxMailCount",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(O.prototype,"lab_SendName",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(O.prototype,"lab_Limited",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(O.prototype,"lab_Caption",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(O.prototype,"lab_Time",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(O.prototype,"lab_Mome",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(O.prototype,"sp_claimed",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(O.prototype,"sp_unclaimed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(O.prototype,"btn_GetItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(O.prototype,"btn_DelMail",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(O.prototype,"btn_GetAllMail",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(O.prototype,"btn_DelAllRead",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(O.prototype,"listMailContent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=O))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AuctionBidTip.ts","./AuctionHouseWinSprite.ts","./AuctionItem.ts","./AuctionhouseWin.ts","./CategoryBtnSprite.ts","./SaleAuctionTip.ts","./SaleBagItemSprite.ts","./ShelvesItem.ts","./FlexibleItem.ts","./FlexibleUI.ts","./ItemShow.ts","./LeaderBossWin.ts","./MyShop.ts","./OtherShop.ts","./SetShopItemPrice.ts","./DoubleRocker.ts","./SingleRocker.ts","./BroadCastMsg.ts","./Content.ts","./GameScene.ts","./GameSceneProgressBar.ts","./LoginScene.ts","./LoginSceneProgressBar.ts","./LoginSceneView.ts","./MainScene.ts","./NewNpcWin.ts","./NewTaskItem.ts","./RoleScene.ts","./Toast.ts","./ItemNotice.ts","./LoginSceneSprite.ts","./LoginServer.ts","./LoginSeverSprite.ts","./Notice.ts","./RoleSceneSprite.ts","./RrItem.ts","./SceneCanvas.ts","./ServerDataHandle.ts","./ServerItem.ts","./ServerListItem.ts","./accountItem.ts","./gxxLogin.ts","./gxxLoginServerList.ts","./List.ts","./ListItem.ts","./EventManager.ts","./MapTouchBetterController.ts","./NodeScale.ts","./RichText.ts","./WindowTouchMove.ts","./TestSvn.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./InitGame.ts","./MsgCM.ts","./MsgSM.ts","./ObjType.ts","./Struct.ts","./external.ts","./GameDefine.ts","./MapBlock.ts","./MapLayer.ts","./AnimationModule.ts","./AutoHookModule.ts","./DropItemMgr.ts","./Electron.ts","./FightModule.ts","./FmtPlist.ts","./FrameMgr.ts","./GameConfig.ts","./GameRoot.ts","./GameTypeConfig.ts","./HotUpdate.ts","./ItemMgr.ts","./MapData.ts","./MoveModule.ts","./NativeMsgHandle.ts","./NodeMgr.ts","./OffsetModule.ts","./ParticleMgr.ts","./RelationManager.ts","./ResPreloadMgr.ts","./ResourcesMgr.ts","./SaveResToDevice.ts","./SkillModule.ts","./UIcontrol.ts","./audioManager.ts","./editBoxItem.ts","./CBlood.ts","./ChatBox.ts","./ComAnim.ts","./Name.ts","./ObjectRole.ts","./Title.ts","./objectcontrol.ts","./objectmanage.ts","./ClientSocket.ts","./EventSocket.ts","./GameMessage.ts","./GameSocket.ts","./Https.ts","./LogClientSocket.ts","./LoginSocket.ts","./ReconnectionLogic.ts","./RoleSocket.ts","./Sendmessage.ts","./Socket.ts","./VoiceSocket.ts","./Base64.ts","./EnDecode.ts","./Int64.ts","./RGBCode.ts","./Sha1.ts","./UcsByGbk.ts","./UnitDes.ts","./encrypt.ts","./QR8bitByte.ts","./QRBitBuffer.ts","./QRCode.ts","./QRConst.ts","./QRMath.ts","./QRNode.ts","./QRPolynomial.ts","./QRRSBlock.ts","./QRUtil.ts","./FilterItem.ts","./General.ts","./Item.ts","./MainAuxiliary.ts","./PickUp.ts","./Profession.ts","./Protection.ts","./SetingItem.ts","./SetingPickUp.ts","./BagWin.ts","./ChatBagItem.ts","./ChatConfigToggle.ts","./ChatConfigWin.ts","./ChatEmojiItem.ts","./ChatItem.ts","./ChatOnClick.ts","./ChatOrderItem.ts","./ChatWin.ts","./ChatWinSprite.ts","./MainChatListItem.ts","./MainChatPCListItem.ts","./CommonClickItem.ts","./CustomBtnData.ts","./NodeClickTop.ts","./DragItem.ts","./DrugSetupWin.ts","./GuideWorldItem.ts","./GuildApplyListItem.ts","./GuildApplyListView.ts","./GuildChatItem.ts","./GuildDonateButtonItem.ts","./GuildInfoView.ts","./GuildLevelLimitItem.ts","./GuildMemberItem.ts","./GuildMemberListView.ts","./GuildNameItem.ts","./GuildRelationItem.ts","./GuildRelationView.ts","./GuildScreachNameItem.ts","./GuildSetTitleItem.ts","./GuildTitleItem.ts","./GuildWarehouseItem.ts","./GuildWarehousePageView.ts","./GuildWarehouseView.ts","./GuildWin.ts","./GuildWinSprite.ts","./GuildWorldWin.ts","./GuildWorldWinSprite.ts","./RecoveryItem.ts","./RecoveryPageView.ts","./RecoveryView.ts","./SaveItem.ts","./SavePageView.ts","./SaveView.ts","./FindPrizeItem.ts","./FindViewCostItem.ts","./FindViewItem.ts","./HeroTreasureWin.ts","./PageNumItem.ts","./TreasureScoreItem.ts","./WarehousePageItem.ts","./WarehousePageView.ts","./HeroAttrItem.ts","./HeroBagWin.ts","./HeroEquipView.ts","./HeroFashionView.ts","./HeroSkillItem.ts","./HeroStateItem.ts","./HeroWin.ts","./HumWinSprite.ts","./MainHeroItem.ts","./HumAttrItem.ts","./HumEquipItem.ts","./HumEquipView.ts","./HumFashionView.ts","./HumNGComboView.ts","./HumNGMeridiansView.ts","./HumNGSkillView.ts","./HumNGStateView.ts","./HumSkillItem.ts","./HumStateItem.ts","./HumTitleItem.ts","./HumWin.ts","./HumWinSprite2.ts","./LookHum.ts","./LookHumEquipView.ts","./LookHumFashionView.ts","./LookHumWinSprite.ts","./LookShous.ts","./LookShoushi.ts","./ShouShiWin.ts","./ShousWin.ts","./ServerBlockBtn.ts","./ServerList.ts","./SeverSelectBtn.ts","./CityAlert.ts","./CityBuilding.ts","./MainCity.ts","./PopulationManager.ts","./MainChatItem.ts","./MainChatPCItem.ts","./MainFunctionItem.ts","./MainTopBtnItem.ts","./MainTopMiniMap.ts","./MiniMapCamera.ts","./MiniMapNpcListItem.ts","./MiniMapWin.ts","./MiniMapWinSprite.ts","./CustomButton.ts","./NewItemInfoWin.ts","./StarLight.ts","./NpcShop.ts","./MyStore.ts","./PersonalStore.ts","./StoreWin.ts","./PetItem.ts","./PetWin.ts","./PetWinSprite.ts","./NewRankItem.ts","./NewRankWin.ts","./RankItem.ts","./RankWin.ts","./RankWinSprite.ts","./RechargeItem.ts","./RechargeWin.ts","./ScreenWin.ts","./ScreenWinItem.ts","./ItemSkill.ts","./MainSkill.ts","./SetSkill.ts","./CuriousItem.ts","./NewShopPageItem.ts","./NewShopWin.ts","./ShopPageItem.ts","./ShopPageView.ts","./ShopRechargeItem.ts","./ShopWin.ts","./ShopWinSprite.ts","./AddFriendTip.ts","./ComBoBox.ts","./Friend.ts","./FriendInfoTip.ts","./GiveRedPacket.ts","./ItemRedPacket.ts","./ItemRedPacketSend.ts","./Mail.ts","./MainSocialize.ts","./RedPacket.ts","./RedPacketOpen.ts","./RedPacketSend.ts","./Team.ts","./TeamInviteList.ts","./TeamOperationTip.ts","./WarehouseWin.ts","./AlertCtrl.ts","./AutoItem.ts","./CrystalWin.ts","./CrystalWinSprite.ts","./MakeDeal.ts","./HeroDetails.ts","./HeroUpgrade.ts","./NewHero.ts","./Tip.ts","./simpleScreen.ts","./ItemTargetBox.ts","./TargetBox.ts","./Astart.ts","./CodeUtil.ts","./GameApi.ts","./GameMission.ts","./GameUtil.ts","./LabelOutLineForWindows.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainAuxiliary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./AnimationModule.ts","./GameConfig.ts","./ItemMgr.ts","./GameUtil.ts","./SetingPickUp.ts","./PickUp.ts"],(function(e){"use strict";var t,i,n,o,r,l,a,s,g,c,p,u,m,h,_,f,d,v,I,w,b,y,S,C,k,x,P,T,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Button,s=e.Toggle,g=e.Node,c=e.ScrollView,p=e.Prefab,u=e.NodeEventType,m=e.Sprite,h=e.ToggleContainer,_=e.sys,f=e.instantiate,d=e.UITransform,v=e.v3,I=e.Label,w=e.Component},function(e){b=e.EventMgr},function(e){y=e.Config},function(e){S=e.default},function(e){C=e.Animationmodule},function(e){k=e.gameConfig},function(e){x=e.itemMgr},function(e){P=e.GameUtil},function(e){T=e.SetingPickUp},function(e){A=e.PickUp}],execute:function(){var L,U,E,D,V,M,N,B,H,G,R,z,O,J,F,K,j,Y,q,Q,W,X,Z,$,ee,te,ie;r._RF.push({},"2b7aepotT9LN6yzoR1Bi4ee","MainAuxiliary",void 0);var ne=l.ccclass,oe=l.property;e("MainAuxiliary",(L=ne("MainAuxiliary"),U=oe(a),E=oe(s),D=oe(s),V=oe(s),M=oe(s),N=oe(g),B=oe(g),H=oe(g),G=oe(c),R=oe(p),z=oe(p),O=oe(p),L((K=t((F=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"btn_Close",K,o(t)),n(t,"Toggle1",j,o(t)),n(t,"Toggle2",Y,o(t)),n(t,"Toggle3",q,o(t)),n(t,"Toggle4",Q,o(t)),n(t,"tog_Container",W,o(t)),n(t,"dropDownArrow",X,o(t)),n(t,"allView",Z,o(t)),n(t,"scrollView",$,o(t)),n(t,"pref_SetingItem",ee,o(t)),n(t,"pref_ComboBox",te,o(t)),n(t,"pref_SetingPickUp",ie,o(t)),t._comBoBox=null,t._preIdx=-1,t._setingItem=null,t._setingPickUp=null,t}i(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;this.node.on(u.ACTIVE_IN_HIERARCHY_CHANGED,(function(t){t.active?e.registerEvents():e.unRegisterEvents()}),this)},r.start=function(){P.loadResLocalButton("public/btn_close_01.png","public/btn_close_01.png",this.btn_Close),P.loadResLocal("Auxiliary/gxx/setting_bg.png",this.node.getChildByName("bg").getComponent(m)),P.loadResLocalToggle("Auxiliary/gxx/seting_tar_general.png","Auxiliary/gxx/seting_tar_general (2).png",this.Toggle1,this.Toggle1.checkMark),P.loadResLocalToggle("Auxiliary/gxx/seting_job.png","Auxiliary/gxx/seting_job (2).png",this.Toggle2,this.Toggle2.checkMark),P.loadResLocalToggle("Auxiliary/gxx/seting_tar_protect.png","Auxiliary/gxx/seting_tar_protect (2).png",this.Toggle3,this.Toggle3.checkMark),P.loadResLocalToggle("Auxiliary/gxx/seting_pickUp.png","Auxiliary/gxx/seting_pickUp (2).png",this.Toggle4,this.Toggle4.checkMark),this.updateView()},r.updateView=function(){var e=this;setTimeout((function(){e.tog_Container.getComponent(h).toggleItems[0].isChecked=!0,e.changeView(0),e.allView[0].getComponent("General").updateView(),e.allView[0].getComponent("General").registerEvents()}),200)},r.onClickTogContainerHandler=function(e){var t;this.tog_Container.getComponent(h).toggleItems.forEach((function(i,n){try{if(i.node==e.target)throw t=n,Error()}catch(e){}})),this.changeView(t)},r.changeView=function(e){if(e!=this._preIdx){if(this.dropDownArrow.active=!1,C.removeAniname("dropDownArrow"),this.allView[e].active=!0,0==e);else if(1==e){this.dropDownArrow.active=!0,C.playframe(!1,this.dropDownArrow,"Animation/dropDownArrow/",1,10,100,!0,!0).name="dropDownArrow"}else if(2==e);else if(3==e){var t=P.getSaveData("username");y.g_filterItemList||(y.g_filterItemList=JSON.parse(_.localStorage.getItem(t+y.g_playerName+"filterItemList"))),this.allView[e].getComponent(A).updateView()}-1!=this._preIdx&&(this.allView[this._preIdx].active=!1,this._preIdx,1==this._preIdx&&this.allView[this._preIdx].getComponent(c).scrollToTop()),this._preIdx=e}},r.scrollViewScrollingHandler=function(e){e.getScrollOffset().y>=50?this.dropDownArrow.active=!1:this.dropDownArrow.active=!0},r.evtMgrUpdateSetingItemHandler=function(e){null==this._setingItem?(this._setingItem=f(this.pref_SetingItem),this._setingItem.setParent(this.node),this._setingItem.getComponent("SetingItem").updateView(e)):(this._setingItem.active=!0,this._setingItem.getComponent("SetingItem").updateView(e))},r.evtMgrDAutoSkill1Handler=function(e){var t=this,i=this.node.getComponent(d).convertToNodeSpaceAR(v(e.pos));this._comBoBox=f(this.pref_ComboBox),this._comBoBox.setParent(this.node),this._comBoBox.setPosition(i),this._comBoBox.getComponent("ComBoBox").upDataView(e.info,(function(e){t.allView[1].getComponent("Profession").btn_DautoSkill1.getChildByName("Label").getComponent(I).string=e,y.GlobalCfglist.d_autoskill_1=e}))},r.evtMgrUpdateSetingPickUpHandler=function(e){null==this._setingPickUp?(this._setingPickUp=f(this.pref_SetingPickUp),this._setingPickUp.setParent(this.node)):this._setingPickUp.active=!0,this._setingPickUp.getComponent(T).updateView(e)},r.saveGlobalCfglist=function(){var e=y.g_relogname,t=JSON.stringify(y.GlobalCfglist);P.setSaveData(e+y.g_playerName+"role_set_cfglist",t)},r.savePickPlan=function(e){for(var t=[],i=JSON.parse(_.localStorage.getItem("AllItemList")),n=0;n<i.length;n++)t[n]=[i[n].isshow,i[n].ispickup,i[n].special,i[n].prompt];2==e?_.localStorage.setItem("g_pickPlan2",JSON.stringify(t)):1==e&&_.localStorage.setItem("g_pickPlan1",JSON.stringify(t))},r.setItemPick=function(){var e=x.DropItemList;k.pickItemList=[];for(var t=0;t<e.length;t++)e[t]&&k.itemCheck(e[t].Name,1)&&k.pickItemList.push(e[t])},r.saveLocal=function(){var e,t,i=y.g_relogname;this.savePickPlan(y.GlobalCfglist.pickPlan),e=_.localStorage.getItem("g_pickPlan1"),t=_.localStorage.getItem("g_pickPlan2"),P.setSaveData(i+y.g_playerName+"role_set_itemlist1",e),P.setSaveData(i+y.g_playerName+"role_set_itemlist2",t)},r.saveMonster=function(){var e=y.g_relogname,t=[],i=JSON.parse(_.localStorage.getItem("AllMonsterList"));if(i){for(var n=0;n<i.length;n++)i[n]&&(t[n]=[i[n].isExclude]);var o=JSON.stringify(t);P.setSaveData(e+y.g_playerName+"role_set_monsterlist",o)}},r.saveFilterItemListHandle=function(){k.setItemlist();var e=P.getSaveData("username");_.localStorage.setItem(e+y.g_playerName+"filterItemList",JSON.stringify(y.g_filterItemList))},r.onCloseView=function(){this._setingItem&&this._setingItem.active&&(this._setingItem.destroy(),this._setingItem.removeFromParent(),this._setingItem=null),this._setingPickUp&&this._setingPickUp.active&&(this._setingPickUp.destroy(),this._setingPickUp.removeFromParent(),this._setingPickUp=null),this.tog_Container.getComponent(h).toggleItems[0].isChecked=!0,this.changeView(0),this.setItemPick(),this.saveGlobalCfglist(),this.saveLocal(),this.saveMonster(),this.saveFilterItemListHandle(),this.node.active=!1},r.registerEvents=function(){console.log("注册MainAuxiliary相关事件"),this.allView[1].on(c.EventType.SCROLLING,this.scrollViewScrollingHandler,this),b.addEventListener(S.D_AUTO_SKILL1,this.evtMgrDAutoSkill1Handler,this),b.addEventListener(S.UPDATE_SETING_ITEM,this.evtMgrUpdateSetingItemHandler,this),b.addEventListener(S.UPDATE_SETING_PICKUP,this.evtMgrUpdateSetingPickUpHandler,this)},r.unRegisterEvents=function(){console.log("注销MainAuxiliary相关事件"),this.allView[1].off(c.EventType.SCROLLING,this.scrollViewScrollingHandler,this),b.removeEventListener(S.D_AUTO_SKILL1,this.evtMgrDAutoSkill1Handler,this),b.removeEventListener(S.UPDATE_SETING_ITEM,this.evtMgrUpdateSetingItemHandler,this),b.removeEventListener(S.UPDATE_SETING_PICKUP,this.evtMgrUpdateSetingPickUpHandler,this)},t}(w)).prototype,"btn_Close",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(F.prototype,"Toggle1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"Toggle2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"Toggle3",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"Toggle4",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"tog_Container",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"dropDownArrow",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"allView",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(F.prototype,"scrollView",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(F.prototype,"pref_SetingItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(F.prototype,"pref_ComboBox",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(F.prototype,"pref_SetingPickUp",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=F))||J));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainChatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./FrameMgr.ts","./ResourcesMgr.ts","./GameUtil.ts","./ChatConfigWin.ts","./MainChatListItem.ts"],(function(t){"use strict";var e,n,i,a,o,r,l,s,h,c,u,f,p,d,g,m,_,C,b,y,v,S,I,B,M,O,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Prefab,s=t.Node,h=t.ScrollView,c=t.Sprite,u=t.Button,f=t.game,p=t.Game,d=t.instantiate,g=t.Layout,m=t.UITransform,_=t.Component},function(t){C=t.EventMgr},function(t){b=t.Config},function(t){y=t.default},function(t){v=t.CHAT_TYPE,S=t.ChatData},function(t){I=t.frameMgr},function(t){B=t.resourcesMgr},function(t){M=t.GameUtil},function(t){O=t.default},function(t){x=t.default}],execute:function(){var T,w,E,L,H,N,A,R,D,P,V,z,W,G,U,k,F,K,Y,j,J,q,Q,X,Z,$,tt,et,nt,it,at,ot;o._RF.push({},"d0111EKMoVOpJEuLIPzONuV","MainChatItem",void 0);var rt=r.ccclass,lt=r.property,st=r.menu;t("default",(T=rt("MainChatItem"),w=st("实例模块/MainChatItem"),E=lt(l),L=lt(l),H=lt(l),N=lt(s),A=lt(h),R=lt(s),D=lt(c),P=lt(s),V=lt(s),z=lt(c),W=lt(u),G=lt(u),U=lt(u),k=lt(u),T(F=w((Y=e((K=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"chatWinPrefab",Y,a(e)),i(e,"mainChatItemPrefab",j,a(e)),i(e,"chatConfigPrefab",J,a(e)),i(e,"mainChatItemContent",q,a(e)),i(e,"chatScrollView",Q,a(e)),i(e,"channelNode",X,a(e)),i(e,"channelSprite",Z,a(e)),i(e,"topNode",$,a(e)),i(e,"topScrollView",tt,a(e)),i(e,"img_chat",et,a(e)),i(e,"publicBtn",nt,a(e)),i(e,"guildBtn",it,a(e)),i(e,"teamBtn",at,a(e)),i(e,"privateBtn",ot,a(e)),e.channelName="public",e.all_chat_data=[],e.SelectChatIdx=v.PUBLIC,e.hide_msg_data=[],e.isHide=!1,e.top_time_data=[],e}n(e,t);var o=e.prototype;return o.start=function(){var t=this;M.loadResLocalButton("SplitResource/Btns/chat_public.png","SplitResource/Btns/chat_public (2).png",this.channelSprite.getComponent(u)),M.loadResLocal("SplitResource/Btns/img_chat.png",this.img_chat),M.loadResLocalButton("SplitResource/Btns/gamemain_chat_public.png","SplitResource/Btns/gamemain_chat_public (2).png",this.publicBtn),M.loadResLocalButton("SplitResource/Btns/gamemain_chat_guild.png","SplitResource/Btns/gamemain_chat_guild (2).png",this.guildBtn),M.loadResLocalButton("SplitResource/Btns/gamemain_chat_troops.png","SplitResource/Btns/gamemain_chat_troops (2).png",this.teamBtn),M.loadResLocalButton("SplitResource/Btns/gamemain_chat_siliao.png","SplitResource/Btns/gamemain_chat_siliao (2).png",this.privateBtn),this.hide_msg_data=[],console.log("start.hide_msg_data1=",this.hide_msg_data),f.on(p.EVENT_SHOW,(function(){console.log("start.hide_msg_data2=",t.hide_msg_data),t.isHide=!1,t.initHideMsg()}),this),f.on(p.EVENT_HIDE,(function(){console.log("MainChatItem后台"),t.isHide=!0}),this);var e=d(this.chatWinPrefab);b.MainScene.openWindow(e),this.initMgr()},o.initMgr=function(){C.addEventListener(y.NEW_CHAT_MSG,this.ChatMessage,this),C.addEventListener(y.HEAD_SHOW,this.initHideMsg,this)},o.ChatMessage=function(t){var e={info:"",front:0,bg:0,type:0};e.info=t[0].info,e.front=t[0].front,e.bg=t[0].bg,e.type=t[0].type,-1!=e.info.indexOf("〖系统〗")&&249==e.bg&&(e.bg=0);var n=t[1],i=this.getAttr(e);-1!=e.info.indexOf("元宝")&&i&&i.length>0&&(e.info=M.checkStrYuanBao(i));var a=new S;a.strArray=i,a.front=e.front,a.bg=e.bg,a.type=e.type,a.args=e,a.time=n;var o=new S;for(o.strArray=i,o.front=e.front,o.bg=e.bg,o.type=e.type,o.args=e,o.time=n,this.all_chat_data.push(o);this.all_chat_data.length>10*(this.channelNode.children.length-1);)this.all_chat_data[0].strArray=i,this.all_chat_data[0].front=e.front,this.all_chat_data[0].bg=e.bg,this.all_chat_data[0].type=e.type,this.all_chat_data[0].args=e,this.all_chat_data[0].time=n,this.all_chat_data.shift();if(this.SelectChatIdx==o.type||this.SelectChatIdx==v.PUBLIC){var r=M.findNodeByRes("Canvas/UIMain/typeH5/chat_node");this.isHide||!r.active?(console.log("ChatMessage.hide_msg_data=",this.hide_msg_data),this.hide_msg_data.push(o)):I.putTask("initMainChat"+a.type,this.initChat.bind(this,a,n,e),b.CHAT_TASK_NUM)}e.info=null,e.front=null,e.bg=null,e.type=null,e=null},o.getAttr=function(t){var e=[],n=t.info;if(-1!=n.indexOf(":")&&n.indexOf(":")<10&&-1==n.indexOf("[攻击模式")&&-1==n.indexOf("公告:")&&0!=t.type){var i=n.indexOf(":");-1==(a=n.substring(0,i)).indexOf("{")&&(e.push(a+"|name"),n=n.substring(i))}else if(-1!=n.indexOf("=>")){var a;i=n.indexOf("=>");-1==(a=n.substring(0,i)).indexOf("{")&&(e.push(a+"|name"),n=n.substring(i))}for(;-1!=n.indexOf("{")&&-1!=n.indexOf("|")&&-1!=n.indexOf("}")||-1!=n.indexOf("</:")&&-1!=n.indexOf(">");){if(0!=n.indexOf("{")){var o=n.indexOf("{");e.push(n.substring(0,o)),n=n.substring(o)}if(0!=n.indexOf("</:")&&n.indexOf("{<")<0){o=n.indexOf("<");e.push(n.substring(0,o)),n=n.substring(o)}if(0!=n.indexOf(">")&&n.indexOf("{>")<0){o=n.indexOf(">");e.push(n.substring(0,o+1)),n=n.substring(o+1)}o=n.indexOf("{");var r=n.indexOf("}");-1!=o&&-1!=r&&(e.push(n.substring(0,r+1)),n=n.substring(r+1))}""!=n&&e.push(n);for(var l=(e=M.check_showItem(e)).length-1;l>-1;l--)""==e[l]&&e.splice(l,1);return e},o.initHideMsg=function(){var t=this;if(this.hide_msg_data){var e=[];for(console.log("initHideMsg.hide_msg_data=",this.hide_msg_data);this.hide_msg_data.length>10;)this.hide_msg_data.shift();e=this.hide_msg_data,this.hide_msg_data=[],e.forEach((function(n,i){var a=new S;a.strArray=n.strArray,a.front=n.front,a.bg=n.bg,a.type=n.type,a.args=n,a.time=n.time,I.putTask("initMainChat"+n.type,t.initChat.bind(t,a,a.time,a.args),b.CHAT_TASK_NUM),i==e.length-1&&(e=[])}))}},o.addTopInfoToList=function(t){if(t){for(var e=b.topInfoList,n=0;n<e.length;n++)if(t.info==e[n].info)return;e=null,b.topInfoList.push(t)}},o.RenderItemHandler=function(t,e){var n=this.all_chat_data[e];n&&t.getComponent(x).initData(n)},o.initChat=function(t,e,n){var i=this;if(t.type!=this.SelectChatIdx&&this.SelectChatIdx!=v.PUBLIC)return t.args=null,t.bg=null,t.front=null,t.isTopInfo=null,t.strArray=null,t.time=null,t.type=null,void(t=null);for(;this.mainChatItemContent.children.length>10;){var a=this.mainChatItemContent.children[0];a&&(a.destroy(),this.mainChatItemContent.removeChild(a))}var o=d(this.mainChatItemPrefab);o.getComponent(x).initData(t,e),e?(this.top_time_data.push(e),this.topScrollView.active=!0,this.scheduleOnce((function(){i.top_time_data.splice(0,1),0==i.top_time_data.length&&(i.topScrollView.active=!1)}),e),this.topNode.addChild(o),this.addTopInfoToList(n),this.top_time_data.length>3&&this.topNode.parent.parent.getComponent(h).scrollToBottom()):this.mainChatItemContent.addChild(o),this.mainChatItemContent.getComponent(g).updateLayout(),this.scheduleOnce((function(){i.mainChatItemContent.getComponent(m).height>i.chatScrollView.node.getComponent(m).height&&i.chatScrollView.scrollToBottom()}),.05),t.strArray=null,t.front=null,t.bg=null,t.type=null,t.args=null,t.time=null,t=null},o.openChat=function(){C.raiseEvent(y.HIDE_CHAT_WIN)},o.onClickOpenChannel=function(){this.channelNode.active=!this.channelNode.active},o.onClickChanel=function(t){var e=this,n=t.target._name;if(n!=this.channelName)switch(this.channelName=n,console.log("this.channelName=",this.channelName),B.resLoad("SplitResource/Btns/chat_"+this.channelName+".png",(function(t){t&&e.channelSprite.node&&(e.channelSprite.node.getComponent(u).normalSprite=t,e.channelSprite.spriteFrame=t)})),B.resLoad("SplitResource/Btns/chat_"+this.channelName+" (2).png",(function(t){t&&e.channelSprite.node&&(e.channelSprite.node.getComponent(u).hoverSprite=t,e.channelSprite.node.getComponent(u).pressedSprite=t)})),this.channelNode.active=!1,n){case"public":this.SelectChatIdx=v.PUBLIC;var i=this.GetChatListByType(v.PUBLIC);this.initChatData(i);break;case"hanghui":this.SelectChatIdx=v.GUILD;i=this.GetChatListByType(v.GUILD);this.initChatData(i);break;case"duiwu":this.SelectChatIdx=v.TEAM;i=this.GetChatListByType(v.TEAM);this.initChatData(i);break;case"siliao":this.SelectChatIdx=v.PRIVATE;i=this.GetChatListByType(v.PRIVATE);this.initChatData(i)}},o.GetChatListByType=function(t){var e=[];if(t<=0)e=this.all_chat_data;else for(var n=0;n<this.all_chat_data.length;n++)this.all_chat_data[n].type==t&&e.push(this.all_chat_data[n]);for(;e.length>10;)e.shift();return e},o.initChatData=function(t){var e=this;this.mainChatItemContent.destroyAllChildren(),t.forEach((function(n,i){var a=d(e.mainChatItemPrefab);a.getComponent(x).initData(n),e.mainChatItemContent.addChild(a),i==t.length-1&&e.scheduleOnce((function(){e.mainChatItemContent.getComponent(m).height>e.chatScrollView.node.getComponent(m).height&&e.chatScrollView.scrollToBottom()}),.25)}))},o.openchatconfig=function(t){if(b.cur_use_app){var e=b.MainScene.instanceOfMem("chatconfigWin");if(!e){var n=d(this.chatConfigPrefab);b.MainScene.openWindow(n),e=n}e.active=!0,e.getComponent(O).afreshlink()}else C.raiseEvent(y.HIDE_CHAT_WIN)},o.onDestroy=function(){var t=this;C.removeEventListener(y.NEW_CHAT_MSG,this.ChatMessage,this),C.removeEventListener(y.HEAD_SHOW,this.initHideMsg,this),console.log("MainChatItemonDestroy"),f.off(p.EVENT_SHOW,(function(){t.isHide=!1,t.initHideMsg()})),f.off(p.EVENT_HIDE,(function(){t.isHide=!0}))},e}(_)).prototype,"chatWinPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(K.prototype,"mainChatItemPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(K.prototype,"chatConfigPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(K.prototype,"mainChatItemContent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(K.prototype,"chatScrollView",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(K.prototype,"channelNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(K.prototype,"channelSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(K.prototype,"topNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(K.prototype,"topScrollView",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(K.prototype,"img_chat",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(K.prototype,"publicBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(K.prototype,"guildBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(K.prototype,"teamBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(K.prototype,"privateBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=K))||F)||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/MainChatListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./RichText.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./MapData.ts","./MoveModule.ts","./ResourcesMgr.ts","./UIcontrol.ts","./RGBCode.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,o,s,a,r,h,c,l,d,f,u,p,m,g,C,b,x,v,O,L,w,_,I,G,y,E,T,M,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.Sprite,h=e.Label,c=e.RichText,l=e.v3,d=e.Node,f=e.UITransform,u=e.Button,p=e.Layers,m=e.color,g=e.Overflow,C=e.Layout,b=e.Vec3,x=e.Component},function(e){v=e.EventMgr},function(e){O=e.default},function(e){L=e.Config},function(e){w=e.default},function(e){_=e.CHAT_TYPE,I=e.OPEN_ITEMINFO_WIN_TYPE},function(e){G=e.Mapdata},function(e){y=e.Movemodule},function(e){E=e.resourcesMgr},function(e){T=e.uiControl},function(e){M=e.rgbCode},function(e){B=e.GameUtil}],execute:function(){var R,N,k,P,A,S,H,D,U,z,F,W,j,Y;s._RF.push({},"a319evB32FGgY22x0CORRxE","MainChatListItem",void 0);var K=a.ccclass,Z=a.property,V=a.menu,q=367;e("default",(R=K("MainChatListItem"),N=V("实例模块/MainChatListItem"),k=Z(O),P=Z(r),A=Z(h),S=Z(r),H=Z(c),R(D=N((z=t((U=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"richCom",z,o(t)),n(t,"BGNode",F,o(t)),n(t,"chatLabel",W,o(t)),n(t,"chatLabelBG",j,o(t)),n(t,"richText",Y,o(t)),t.onItemClick=null,t.index=0,t.privateUserName="",t.show_item=null,t.pos_info=null,t}i(t,e);var s=t.prototype;return s.start=function(){this.node.setPosition(l(-183.5,this.node.position.y))},s.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},s.initData=function(e,t){var i=this;if(e){var n="",o=M.Get2RGB(e.bg);this.richText.string="";var s=!0,a="",h="",b="",x=[];if(e&&!e.strArray)return;var v=!1;if(e.strArray.forEach((function(t,o){n=M.Get2RGB(e.front);var l=t;if(-1!=l.indexOf(">")&&-1!=l.indexOf("</:"))l=(l=l.replaceAll(">","/>")).replaceAll("</:","<img src="),v||(v=!0,B.loadResLocalAtlas("ChatWin/emoji.plist",i.node.getComponent(c))),s=!1;else if(-1!=l.indexOf("IMG:HTTP")){s=!1;var m=t.indexOf("IMG:HTTP"),g=t.substr(0,m),C=t.substr(m+4),O=new d,w=O.addComponent(r);E.resLoad(C,(function(e){e&&w&&(w.spriteFrame=e)}));var I=O.addComponent(f);I.height=22,I.width=22;var G=O.addComponent(u);i.node.addChild(O),G.node.on(u.EventType.CLICK,(function(){var e=new d,t=e.addComponent(r);e.addComponent(f),e.layer=p.Enum.UI_2D,E.resLoad(C,(function(e){e&&w&&(t.spriteFrame=e)})),e.addComponent(u).node.on(u.EventType.CLICK,(function(){i.destroy()})),L.MainScene.openWindow(e)}),i)}else{if(-1!=t.indexOf("|name"))s=!1,0==(g=l=t.substr(0,t.indexOf("|name"))).indexOf("(!)")||0==g.indexOf("组队：")?g=g.substr(3):-1!=g.indexOf("[Lv")&&(g=g.substr(0,l.indexOf("["))),i.privateUserName=g,"练功师"==g||e.type==_.SYSTEM?s=!0:l='<on click="clickName">'+l+"</on>";else if(-1!=t.indexOf("{pos|")){s=!1;var y=t.split("|");if(y[3])var T=y[3].substr(0,y[3].length-1);T&&y[1]&&(l=T+y[1]),n="#fd1313",i.pos_info=y,l='<on click="clickPos">'+l+"</on>"}else if(-1!=l.indexOf("<[")&&-1!=l.indexOf("]>")&&-1!=l.indexOf("\\")){s=!1;for(var R=l.split("\\"),N=R[0].substr(2),k=R[1].substring(0,R[1].length-2),P=L.g_showChatItem,A=0;A<P.length;A++)if(k==P[A].MakeIndex){var S=P[A];i.show_item=S;break}S&&(n="#fd1313"),l+='<on click="clickitem">'+N+"</on>",P=null}else if(-1!=l.indexOf("{")&&-1!=l.indexOf("}")&&-1!=l.indexOf("|")){s=!1;var H=l.substring(l.indexOf("{")+1,l.indexOf("|")),D=l.substring(l.indexOf("|")+1,l.indexOf("}"));if(-1!=D.indexOf(":")&&(D=D.split(":")),n=M.Get2RGB(parseInt(D[0])),l=H,0==x.length)x.push(n);else{for(var U=!1,z=0;z<x.length;z++)if(x[z]==n){U=!0;break}U||x.push(n)}}else if(-1!=l.indexOf("{")&&-1!=l.indexOf("/SCOLOR=")&&-1!=l.indexOf("}")){s=!1;var F=l.split("{"),W=F[1].indexOf("}"),j=F[1].substring(0,W).split("/SCOLOR="),Y="<color="+M.Get2RGB(j[1])+">"+j[0]+"</color>";F[1]=F[1].replace(j[0],Y);var K="/SCOLOR="+j[1]+"}";F[1]=F[1].replace(K,""),l=F[0]+F[1]}}if(!v||o!=e.strArray.length-1||-1!=l.indexOf(">")||-1==l.indexOf("</:")&&-1==l.indexOf("<")&&-1==l.indexOf("</")){b+="<color="+n+">"+l+"</color>",h+=l;var Z=n.replace("#","");a+="\\c"+Z+"\\c"+l}})),this.chatLabelBG.node.active=s,s)this.richText.enabled=!1,this.richCom.node.active=!1,this.chatLabel.color=m(""+n),this.chatLabel.string=h,this.chatLabel.updateRenderData(!0),this.chatLabelBG.color=m(o),this.chatLabel.getComponent(f).width<q?(this.chatLabelBG.getComponent(f).width=this.chatLabel.getComponent(f).width,this.node.getComponent(f).width=this.chatLabel.getComponent(f).width):(this.chatLabel.overflow=g.RESIZE_HEIGHT,this.chatLabel.getComponent(f).width=q,this.node.getComponent(f).width=q);else if(1==x.length)this.chatLabelBG.node.active=!0,this.richCom.node.active=!1,this.chatLabel.color=m(n),this.chatLabel.string=h,this.chatLabelBG.color=m(o),this.chatLabel.updateRenderData(!0),this.chatLabel.getComponent(f).width<q?(this.chatLabelBG.getComponent(f).width=this.chatLabel.getComponent(f).width,this.node.getComponent(f).width=this.chatLabel.getComponent(f).width):(this.chatLabel.overflow=g.RESIZE_HEIGHT,this.chatLabel.getComponent(f).width=q,this.node.getComponent(f).width=q);else if(x.length>1){this.richCom.string=a,this.richCom.getComponent(C).updateLayout(!0),this.BGNode.color=m(o);var O=this.richCom.getComponent(f).height;this.node.getComponent(f).height=O,this.scheduleOnce((function(){i.node.getComponent(f).width=q}),.01)}else{this.richText.string=b,this.richCom.node.active=!1,this.BGNode.color=m(o);var w=this.richText.getComponent(f).height;this.node.getComponent(f).height=w,this.scheduleOnce((function(){i.node.getComponent(f).width>q&&!t&&(i.richText.maxWidth=q)}),.01)}}this.scheduleOnce((function(){if(t&&(i.scheduleOnce((function(){i.node.destroy()}),t),i.node.getComponent(f).width>q)){var e=i.node.position.x,n=i.node.position.x-i.node.getComponent(f).width+q-10,o=0;i.schedule((function(){i.node.position.x>n?i.node.setPosition(l(i.node.position.x-.8,i.node.position.y)):100==++o&&(o=0,i.node.setPosition(l(e,i.node.position.y)))}),.01)}}),.02)},s.clickitem=function(){L.g_MoveItems.Items=this.show_item,L.g_OpenIdx=I.LOOKHUMWIN,v.raiseEvent(w.OPEN_NEW_ITEM_INFO,[this.show_item])},s.clickName=function(){v.raiseEvent(w.GET_CHAT_NAME,this.privateUserName)},s.clickPos=function(){if(!L.autohookstate&&0==this.pos_info[1].indexOf("(")&&-1!=this.pos_info[1].indexOf(",")&&this.pos_info[1].indexOf(")")==this.pos_info[1].length-1){var e=this.pos_info[1].substring(1,this.pos_info[1].indexOf(",")),t=this.pos_info[1].substring(this.pos_info[1].indexOf(",")+1,this.pos_info[1].indexOf(")"));if(G.cur_id==this.pos_info[2]){var i=new b(parseInt(e),parseInt(t));y.autoMove(i)}else T.handlerAlert({type:1,content:"该玩家与你不在同一张地图!"})}},s.getEmojiStr=function(e){for(var t=e.indexOf("<img");-1!=t;)t=(e=(e=e.replace("<img src='","\\iAtlas/emoji/")).replace("'/>","\\i")).indexOf("<img");return e},t}(x)).prototype,"richCom",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"BGNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(U.prototype,"chatLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"chatLabelBG",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"richText",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=U))||D)||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/MainChatPCItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./external.ts","./GameDefine.ts","./FrameMgr.ts","./MapData.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./ChatBagItem.ts","./ChatEmojiItem.ts","./ChatOrderItem.ts","./MainChatPCListItem.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,h,l,c,d,u,f,p,g,m,b,C,I,_,B,v,y,E,S,x,w,N,L,O,M,T,P,R,k,D,z,A,U,K,G,V;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.EditBox,h=t.Node,l=t.Prefab,c=t.Button,d=t.ScrollView,u=t.UITransform,f=t.Label,p=t.Sprite,g=t.sys,m=t.input,b=t.Input,C=t.game,I=t.Game,_=t.KeyCode,B=t.instantiate,v=t.RichText,y=t.view,E=t.Component},function(t){S=t.EventMgr},function(t){x=t.Config},function(t){w=t.default},function(t){N=t.external},function(t){L=t.CHAT_TYPE,O=t.ChatData,M=t.EquipData},function(t){T=t.frameMgr},function(t){P=t.Mapdata},function(t){R=t.uiControl},function(t){k=t.ObjectManage},function(t){D=t.sendmessage},function(t){z=t.default},function(t){A=t.GameUtil},function(t){U=t.default},function(t){K=t.default},function(t){G=t.default},function(t){V=t.default}],execute:function(){var j,H,W,Y,F,q,X,J,Q,Z,$,tt,et,it,nt,ot,at,rt,st,ht,lt,ct,dt,ut,ft,pt,gt,mt,bt,Ct,It,_t,Bt,vt,yt,Et,St,xt,wt,Nt,Lt,Ot,Mt,Tt,Pt,Rt,kt,Dt,zt,At,Ut,Kt,Gt,Vt,jt,Ht,Wt,Yt,Ft,qt,Xt,Jt;a._RF.push({},"c854bARiSxO75X8Y87wVIB1","MainChatPCItem",void 0);var Qt=r.ccclass,Zt=r.menu,$t=r.property;t("default",(j=Qt("MainChatPCItem"),H=Zt("弹窗模块/MainChatPCItem"),W=$t(s),Y=$t(h),F=$t(h),q=$t(h),X=$t(h),J=$t(l),Q=$t(c),Z=$t(h),$=$t(l),tt=$t(d),et=$t(h),it=$t(h),nt=$t(l),ot=$t(z),at=$t(u),rt=$t(u),st=$t(h),ht=$t(f),lt=$t(h),ct=$t(h),dt=$t(c),ut=$t(c),ft=$t(c),pt=$t(c),gt=$t(c),mt=$t(c),bt=$t(p),Ct=$t(p),It=$t(p),j(_t=H((vt=e((Bt=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"inputEditBox",vt,o(e)),n(e,"oderNode",yt,o(e)),n(e,"faceNode",Et,o(e)),n(e,"itemNode",St,o(e)),n(e,"emojiItemContent",xt,o(e)),n(e,"emojiItemPrefab",wt,o(e)),n(e,"tabBarButton",Nt,o(e)),n(e,"chatItemContent",Lt,o(e)),n(e,"chatItemPrefab",Ot,o(e)),n(e,"chatScrollView",Mt,o(e)),n(e,"bagItemContentNode",Tt,o(e)),n(e,"orderContentNode",Pt,o(e)),n(e,"orderItemPrefab",Rt,o(e)),n(e,"list",kt,o(e)),n(e,"orderScrollViewUI",Dt,o(e)),n(e,"orderMaskUI",zt,o(e)),n(e,"channelNode",At,o(e)),n(e,"channelLabel",Ut,o(e)),n(e,"topNode",Kt,o(e)),n(e,"topScrollView",Gt,o(e)),n(e,"sendBtn",Vt,o(e)),n(e,"orderBtn",jt,o(e)),n(e,"posBtn",Ht,o(e)),n(e,"faceBtn",Wt,o(e)),n(e,"itemBtn",Yt,o(e)),n(e,"selectSprite",Ft,o(e)),n(e,"chat_face_bg",qt,o(e)),n(e,"chat_item_bg",Xt,o(e)),n(e,"chat_bg_order",Jt,o(e)),e.emojiItems=[],e.chatMsgList=[],e.ChatBaseKey="",e.specialItemList=[],e.CurSelectChat="",e.SelectChatIdx=L.PUBLIC,e.isMove=!1,e.all_chat_data=[],e.show_chat_data=[],e.bagItems=[],e.orderItems=[],e.isCreateOrder=!1,e.isInitEmoji=!1,e.didEnter=!1,e.hide_msg_data=[],e.isHide=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){},a.start=function(){var t=this;A.loadResLocalButton("SplitResource/Btns/chat_oder.png","SplitResource/Btns/chat_oder (2).png",this.orderBtn),A.loadResLocalButton("SplitResource/Btns/chat_face.png","SplitResource/Btns/chat_face (2).png",this.faceBtn),A.loadResLocalButton("SplitResource/Btns/chat_item.png","SplitResource/Btns/chat_item (2).png",this.itemBtn),A.loadResLocalButton("SplitResource/Btns/chat_pos.png","SplitResource/Btns/chat_pos (2).png",this.posBtn),A.loadResLocalButton("SplitResource/Btns/chat_btn_send.png","SplitResource/Btns/chat_btn_send (2).png",this.sendBtn),A.loadResLocalButton("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",this.selectSprite),this.tabBarButton.forEach((function(t,e){var i=t.getComponent(c);A.loadResLocalButton("SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png",i)})),A.loadResLocal("ChatWin/chat_face_bg.png",this.chat_face_bg),A.loadResLocal("ChatWin/chat_item_bg.png",this.chat_item_bg),A.loadResLocal("ChatWin/chat_bg_order.png",this.chat_bg_order),g.os!=g.OS.WINDOWS||g.isBrowser?m.on(b.EventType.KEY_DOWN,this.onKeyUp,this):m.on(b.EventType.KEY_UP,this.onKeyUp,this),C.on(I.EVENT_SHOW,(function(){console.log("MainChatPCItem前台"),t.isHide=!1,t.initHideMsg()}),this),C.on(I.EVENT_HIDE,(function(){console.log("MainChatPCItem后台"),t.isHide=!0}),this),this.initMgr(),this.isCreateOrder||(this.isCreateOrder=!0,this.initOrder())},a.eidtboxDidEnded=function(){this.didEnter&&(this.inputEditBox.blur(),console.log("eidtboxDidEnded"),C.canvas.focus(),this.didEnter=!1)},a.onKeyUp=function(t){switch(t.keyCode){case _.ENTER:g.os!=g.OS.WINDOWS||g.isBrowser?this.inputEditBox.isFocused()?this.onSendChat():(this.inputEditBox.focus(),this.didEnter=!0):""!=this.inputEditBox.string?this.onSendChat():(this.inputEditBox.focus(),this.didEnter=!0)}},a.initMgr=function(){S.addEventListener(w.NEW_CHAT_MSG,this.ChatMsg,this),S.addEventListener(w.SETAUTOSKILLANI,this.initOrder,this),S.addEventListener(w.GET_CHAT_NAME,this.getChatName,this),S.addEventListener(w.SHOW_CHAT_DLG,this.showChatDlg,this),S.addEventListener("onGetPhotoURL",this.onGetPhotoURL,this)},a.onGetPhotoURL=function(t){var e=t[0];D.SendMonsterGM(e)||(e.indexOf(this.ChatBaseKey)<0&&""!=this.ChatBaseKey?D.sendSay(this.ChatBaseKey+e):D.sendSay(e));this.inputEditBox.string=""},a.initEmoji=function(){var t=this;if(!this.isInitEmoji){this.isInitEmoji=!0;var e=x.g_face_list;e.forEach((function(e,i){var n=B(t.emojiItemPrefab);t.emojiItemContent.addChild(n);var o=n.getComponent(K);o.onItemClick=t.onItemClicked.bind(t),t.emojiItems.push(o),o.initData(e),o.index=i})),e=null}},a.ChatMsg=function(t){var e=t[0],i=t[1];if(8!=e.type){var n=this.getStrArray(e),o=new O;for(o.strArray=n,o.front=e.front,o.bg=e.bg,o.type=e.type,o.isTopInfo=a,o.time=i,o.args=e,this.all_chat_data.push(o);this.all_chat_data.length>22*this.tabBarButton.length-1;)this.all_chat_data.shift();if(this.SelectChatIdx==L.PUBLIC||this.SelectChatIdx==e.type){var a=this.isTopInfo(e);this.SelectChatIdx!=o.type&&this.SelectChatIdx!=L.PUBLIC||(a||this.show_chat_data.push(o),this.isHide?this.hide_msg_data.push(o):T.putTask("initChatWinChat",this.initChat.bind(this,o,i,e),10))}}},a.showChatDlg=function(t,e){this.tabbarButtonClick(this.tabBarButton[0].getComponent(c)),this.inputEditBox.string=t.name,this.inputEditBox.focus()},a.RenderItemHandler=function(t,e){console.log("idx=",e);var i=this.show_chat_data[e];i&&t.getComponent(V).initData(i)},a.initHideMsg=function(){for(var t=this,e=[];this.hide_msg_data.length>22;)this.hide_msg_data.shift();console.log(" this.hide_msg_data.length=",this.hide_msg_data.length),e=this.hide_msg_data,this.hide_msg_data=[],e.forEach((function(i,n){T.putTask("initMainChat",t.initChat.bind(t,i,i.time,i.args),10),n==e.length-1&&(e=[])}))},a.initChat=function(t,e,i){for(var n=this;this.chatItemContent.children.length>22;){this.show_chat_data.shift();var o=this.chatItemContent.children[0];o&&(o.getComponent(v).string="",o.destroy(),this.chatItemContent.removeChild(o))}var a=B(this.chatItemPrefab);a.getComponent(V).initData(t,e),e?(this.topScrollView.active=!0,this.scheduleOnce((function(){n.topScrollView.active=!1}),e),this.topNode.addChild(a),this.addTopInfoToList(i)):this.chatItemContent.addChild(a),this.scheduleOnce((function(){n.chatItemContent.getComponent(u).height>n.chatScrollView.node.getComponent(u).height&&n.chatScrollView.scrollToBottom()}),.01)},a.addTopInfoToList=function(t){if(t){for(var e=x.topInfoList,i=0;i<e.length;i++)if(t.info==e[i].info)return;e=null,x.topInfoList.push(t)}},a.getChatName=function(t){this.CurSelectChat="private",this.ChatBaseKey="/",this.SelectChatIdx=L.PRIVATE,this.initChatData(this.SelectChatIdx),this.inputEditBox.string="/"+t+" ",this.channelLabel.string="私 聊"},a.getStrArray=function(t){var e=[],i=t.info;if(-1!=i.indexOf(":")&&i.indexOf(":")<10&&-1==i.indexOf("[攻击模式")&&-1==i.indexOf("公告:")&&0!=t.type){var n=i.indexOf(":");-1==(o=i.substring(0,n)).indexOf("{")&&(e.push(o+"|name"),i=i.substring(n))}else if(-1!=i.indexOf("=>")){var o;n=i.indexOf("=>");-1==(o=i.substring(0,n)).indexOf("{")&&(e.push(o+"|name"),i=i.substring(n))}for(;-1!=i.indexOf("{")&&-1!=i.indexOf("|")&&-1!=i.indexOf("}")||-1!=i.indexOf("<img src='")&&-1!=i.indexOf("/>'");){if(0!=i.indexOf("{")){var a=i.indexOf("{");e.push(i.substring(0,a)),i=i.substring(a)}if(0!=i.indexOf("<img src='")&&i.indexOf("{<")<0){a=i.indexOf("<");e.push(i.substring(0,a)),i=i.substring(a)}if(0!=i.indexOf("/>'")&&i.indexOf("{>")<0){a=i.indexOf(">");e.push(i.substring(0,a+1)),i=i.substring(a+1)}a=i.indexOf("{");var r=i.indexOf("}");-1!=a&&-1!=r?(e.push(i.substring(0,r+1)),i=i.substring(r+1)):""!=i&&e.push(i)}return""!=i&&e.push(i),e=A.check_showItem(e)},a.initChatData=function(t){var e=this;for(this.show_chat_data=[],this.all_chat_data.forEach((function(i,n){(t==i.type||t==L.PUBLIC&&!i.isTopInfo)&&e.show_chat_data.push(i)})),this.chatItemContent.destroyAllChildren();this.show_chat_data.length>22;)this.show_chat_data.shift();this.show_chat_data.forEach((function(t,i){var n=B(e.chatItemPrefab);e.chatItemContent.addChild(n),n.getComponent(V).initData(t),i==e.show_chat_data.length-1&&e.scheduleOnce((function(){e.chatItemContent.getComponent(u).height>e.chatScrollView.node.getComponent(u).height&&e.chatScrollView.scrollToBottom()}),.1)}))},a.isTopInfo=function(t){if(!t)return!1;for(var e=x.topInfoList,i=0;i<e.length;i++)if(t.info==e[i].info)return e=null,!0},a.onItemClicked=function(t){var e=this;this.emojiItems.forEach((function(i,n){n==t&&(e.inputEditBox.string+="<img src='"+i.emoji_data+"'/>",e.closeAllBG(null))}))},a.tabbarButtonClick=function(t){var e=t.target._name;if(e!=this.CurSelectChat){this.CurSelectChat=e;var i="";switch(e){case"public":this.SelectChatIdx=L.PUBLIC,this.ChatBaseKey="",i="公 共";break;case"system":this.SelectChatIdx=L.SYSTEM,this.ChatBaseKey="",i="系 统";break;case"nearby":this.SelectChatIdx=L.NEARBY,this.ChatBaseKey="",i="附 近";break;case"shout":this.SelectChatIdx=L.SHOUT,this.ChatBaseKey="!",i="喊 话";break;case"guild":this.SelectChatIdx=L.GUILD,this.ChatBaseKey="!~",i="行 会";break;case"team":this.ChatBaseKey="!!",this.SelectChatIdx=L.TEAM,i="队 伍";break;case"private":this.ChatBaseKey="/",this.SelectChatIdx=L.PRIVATE,i="私 聊"}this.initChatData(this.SelectChatIdx),this.channelNode.active=!1,this.channelLabel.string=i}},a.onClickOpenChannel=function(){this.channelNode.active=!this.channelNode.active},a.onSendChat=function(){var t=this.inputEditBox.string;""==t||D.SendMonsterGM(t)||(t.indexOf(this.ChatBaseKey)<0&&""!=this.ChatBaseKey?D.sendSay(this.ChatBaseKey+t):D.sendSay(t));this.specialItemList=[],this.inputEditBox.string="",console.log("onSendChat"),this.didEnter&&this.eidtboxDidEnded,this.closeAllBG()},a.onClickOder=function(){this.closeAllBG(this.oderNode),this.oderNode.active=!this.oderNode.active},a.onClickFace=function(){this.closeAllBG(this.faceNode),this.initEmoji(),this.faceNode.active=!this.faceNode.active},a.onClickitem=function(){this.closeAllBG(this.itemNode),this.itemNode.active=!this.itemNode.active,this.initBagItem()},a.initOrder=function(){var t=this;this.orderContentNode.destroyAllChildren(),this.orderItems=[];var e=x.g_CMDlist;e.forEach((function(e,i){var n=B(t.orderItemPrefab),o=n.getComponent(G);o.onItemClick=t.onOrderItemClicked.bind(t),n.name=e.sCmd,o.initData(e.sCaption),o.index=i,t.orderItems.push(o),t.orderContentNode.addChild(n)})),e=null;var i=y.getVisibleSize().height;this.oderNode.active=!0,this.orderContentNode.getComponent(u).height>i-150?(this.orderMaskUI.height=i-150,this.orderScrollViewUI.height=i-150):(this.orderMaskUI.height=this.orderContentNode.getComponent(u).height,this.orderScrollViewUI.height=this.orderContentNode.getComponent(u).height),this.oderNode.active=!1},a.initBagItem=function(){this.specialItemList=[],this.bagItems=[];for(var t=x.g_BagItemsList,e=0;e<t.length;e++)null!=t[e]&&this.specialItemList.push(t[e]);t=null,this.list.numItems=this.specialItemList.length},a.RenderBagItemHandler=function(t,e){var i=this.specialItemList[e];if(i){var n=t.getComponent(U);n.index=e;var o=A.loadImgData(i.s.Looks,"items"),a=new M;n.onItemClick=this.onBagItemClicked.bind(this),a.res=o,a.data=i,a.type=i.tag,n.initData(a)}},a.onBagItemClicked=function(t){var e=this;this.bagItemContentNode.children.forEach((function(i,n){var o=i.getComponent(U);if(o.index==t){o.clickItem();var a=e.inputEditBox.string;if(-1!=a.indexOf("<[")&&-1!=a.indexOf("]>"))R.handlerAlert({type:1,content:"一次只能发送一个装备。"});else{e.specialItemList[t];o&&(e.inputEditBox.string+="<["+o.equip_data.data.s.Name+"\\"+o.equip_data.data.MakeIndex+"]>",e.itemNode.active=!1)}}}))},a.onOrderItemClicked=function(t){var e=this;this.orderItems.forEach((function(i,n){n==t&&(e.inputEditBox.string=i.node.name+" ",e.oderNode.active=!1)}))},a.oncallLocalPhoto=function(){x.cur_use_app&&(console.log("============js:oncallLocalPhoto============>"),window.config.g_serverconfig.boPic&&N.sendtonative("oncallLocalPhoto",window.config.g_serverconfig.sPicUrl))},a.onClickPos=function(){var t=k.findobject(x.playerID),e=this.inputEditBox.string;if(t)if(-1!=e.indexOf("{pos|"))R.handlerAlert({type:1,content:"一次只能发送一个坐标点。"});else{var i="{pos|("+t.grid.x+","+t.grid.y+")|"+P.cur_id+"|"+P.cur_name+"}";this.inputEditBox.string+=i}},a.closeAllBG=function(t){if(!t)return this.itemNode.active=!1,this.oderNode.active=!1,void(this.faceNode.active=!1);t!=this.itemNode&&(this.itemNode.active=!1),t!=this.oderNode&&(this.oderNode.active=!1),t!=this.faceNode&&(this.faceNode.active=!1)},a.closeView=function(){this.node.destroy()},a.onDestroy=function(){S.removeEventListener(w.NEW_CHAT_MSG,this.ChatMsg,this),S.removeEventListener(w.SETAUTOSKILLANI,this.initOrder,this),S.removeEventListener(w.GET_CHAT_NAME,this.getChatName,this),S.removeEventListener(w.SHOW_CHAT_DLG,this.showChatDlg,this),m.on(b.EventType.KEY_UP,this.onKeyUp,this)},e}(E)).prototype,"inputEditBox",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(Bt.prototype,"oderNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(Bt.prototype,"faceNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(Bt.prototype,"itemNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(Bt.prototype,"emojiItemContent",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(Bt.prototype,"emojiItemPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(Bt.prototype,"tabBarButton",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=e(Bt.prototype,"chatItemContent",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(Bt.prototype,"chatItemPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(Bt.prototype,"chatScrollView",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(Bt.prototype,"bagItemContentNode",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(Bt.prototype,"orderContentNode",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=e(Bt.prototype,"orderItemPrefab",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(Bt.prototype,"list",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(Bt.prototype,"orderScrollViewUI",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(Bt.prototype,"orderMaskUI",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(Bt.prototype,"channelNode",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(Bt.prototype,"channelLabel",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(Bt.prototype,"topNode",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(Bt.prototype,"topScrollView",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=e(Bt.prototype,"sendBtn",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(Bt.prototype,"orderBtn",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(Bt.prototype,"posBtn",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=e(Bt.prototype,"faceBtn",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(Bt.prototype,"itemBtn",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(Bt.prototype,"selectSprite",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=e(Bt.prototype,"chat_face_bg",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=e(Bt.prototype,"chat_item_bg",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(Bt.prototype,"chat_bg_order",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=Bt))||_t)||_t));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainChatPCListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./MapData.ts","./MoveModule.ts","./ResourcesMgr.ts","./UIcontrol.ts","./RGBCode.ts","./GameUtil.ts"],(function(e){"use strict";var n,t,i,o,s,r,a,c,l,f,d,u,h,p,m,x,v,b,g,O,C,_,I,L,M,y,G;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.RichText,c=e.Sprite,l=e.Label,f=e.Node,d=e.UITransform,u=e.Button,h=e.Layers,p=e.color,m=e.v3,x=e.Vec3,v=e.Component},function(e){b=e.EventMgr},function(e){g=e.Config},function(e){O=e.default},function(e){C=e.OPEN_ITEMINFO_WIN_TYPE},function(e){_=e.Mapdata},function(e){I=e.Movemodule},function(e){L=e.resourcesMgr},function(e){M=e.uiControl},function(e){y=e.rgbCode},function(e){G=e.GameUtil}],execute:function(){var T,k,w,E,N,P,B,R,U,D,z,A;s._RF.push({},"eff7fwizF1E0LNcEkkLkAnG","MainChatPCListItem",void 0);var F=r.ccclass,W=r.property,H=r.menu,K=448;e("default",(T=F("MainChatPCListItem"),k=H("实例模块/MainChatPCListItem"),w=W(a),E=W(c),N=W(l),P=W(c),T(B=k((U=n((R=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,i(n,"richText",U,o(n)),i(n,"BGNode",D,o(n)),i(n,"chatLabel",z,o(n)),i(n,"chatLabelBG",A,o(n)),n.onItemClick=null,n.index=0,n.privateUserName="",n.show_item=null,n.pos_info=null,n}t(n,e);var s=n.prototype;return s.start=function(){},s.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},s.initData=function(e,n){var t=this;if(e){this.richText.string="";var i="",o=y.Get2RGB(e.bg),s=!0,r="";e.strArray.forEach((function(o,l){i=y.Get2RGB(e.front);var p=o;if(-1!=p.indexOf("<img"))G.loadResLocalAtlas("ChatWin/emoji.plist",t.node.getComponent(a)),s=!1;else if(-1!=p.indexOf("IMG:HTTP")){s=!1;var m=o.indexOf("IMG:HTTP"),x=o.substr(0,m),v=o.substr(m+4),b=new f,O=b.addComponent(c);L.resLoad(v,(function(e){e&&O&&(O.spriteFrame=e)}));var C=b.addComponent(d);C.height=22,C.width=22;var _=b.addComponent(u);t.node.addChild(b),_.node.on(u.EventType.CLICK,(function(){var e=new f,n=e.addComponent(c);e.addComponent(d),e.layer=h.Enum.UI_2D,L.resLoad(v,(function(e){e&&O&&(n.spriteFrame=e)})),e.addComponent(u).node.on(u.EventType.CLICK,(function(){t.destroy()})),g.MainScene.openWindow(e)}),t)}else{if(-1!=o.indexOf("|name"))s=!1,0==(x=p=o.substr(0,o.indexOf("|name"))).indexOf("(!)")||0==x.indexOf("组队：")?x=x.substr(3):-1!=x.indexOf("[Lv")&&(x=x.substr(0,p.indexOf("["))),t.privateUserName=x,p='<on click="clickName">'+p+"</on>";else if(-1!=o.indexOf("{pos|")){s=!1;var I=o.split("|");if(I[3])var M=I[3].substr(0,I[3].length-1);M&&I[1]&&(p=M+I[1]),i="#fd1313",t.pos_info=I,p='<on click="clickPos">'+p+"</on>"}else if(-1!=p.indexOf("<[")&&-1!=p.indexOf("]>")&&-1!=p.indexOf("\\")){s=!1;for(var T=p.split("\\"),k=T[0].substr(2),w=T[1].substring(0,T[1].length-2),E=g.g_showChatItem,N=0;N<E.length;N++)if(w==E[N].MakeIndex){var P=E[N];break}P&&(i="#fd1313"),t.show_item=P,p+='<on click="clickitem">'+k+"</on>"}else if(-1!=p.indexOf("{")&&-1!=p.indexOf("}")&&-1!=p.indexOf("|")){s=!1;var B=p.substring(p.indexOf("{")+1,p.indexOf("|")),R=p.substring(p.indexOf("|")+1,p.indexOf("}"));-1!=R.indexOf(":")&&(R=R.split(":")),i=y.Get2RGB(parseInt(R[0])),p=B}}t.richText.string+="<color="+i+">"+p+"</color>",r+=p,t.scheduleOnce((function(){t.node.getComponent(d).width>K&&!n&&(t.richText.maxWidth=K)}),.01)})),this.chatLabelBG.node.active=s,s?(this.richText.enabled=!1,this.chatLabel.color=p(""+i),this.chatLabel.string=r,this.chatLabel.updateRenderData(!0),this.chatLabelBG.color=p(o)):this.BGNode.color=p(o)}this.scheduleOnce((function(){if(n&&(t.scheduleOnce((function(){t.node.destroy()}),n),t.node.getComponent(d).width>K)){var e=t.node.position.x,i=t.node.position.x-t.node.getComponent(d).width+K-10;t.schedule((function(){t.node.position.x>i?t.node.setPosition(m(t.node.position.x-2,t.node.position.y)):t.node.setPosition(m(e,t.node.position.y))}),.1)}}),.01)},s.clickitem=function(){g.g_MoveItems.Items=this.show_item,g.g_OpenIdx=C.LOOKHUMWIN,b.raiseEvent(O.OPEN_NEW_ITEM_INFO,[this.show_item])},s.clickName=function(){b.raiseEvent(O.GET_CHAT_NAME,this.privateUserName)},s.clickPos=function(){if(!g.autohookstate&&0==this.pos_info[1].indexOf("(")&&-1!=this.pos_info[1].indexOf(",")&&this.pos_info[1].indexOf(")")==this.pos_info[1].length-1){var e=this.pos_info[1].substring(1,this.pos_info[1].indexOf(",")),n=this.pos_info[1].substring(this.pos_info[1].indexOf(",")+1,this.pos_info[1].indexOf(")"));if(_.cur_id==this.pos_info[2]){var t=new x(parseInt(e),parseInt(n));I.autoMove(t)}else M.handlerAlert({type:1,content:"该玩家与你不在同一张地图!"})}},n}(v)).prototype,"richText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(R.prototype,"BGNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(R.prototype,"chatLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(R.prototype,"chatLabelBG",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=R))||B)||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/MainCity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./List.ts"],(function(t){"use strict";var e,i,n,r,a,l,o,s,p,u,g,c,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Sprite,s=t.Button,p=t.Node,u=t.UITransform,g=t.NodeEventType,c=t.Component},function(t){m=t.resourcesMgr},function(t){b=t.default}],execute:function(){var d,y,_,h,C,f,R,v,B,S,T,F,w,H,N,z,k,L,D,M,O,U,x,A,E,I,P,V,W,j,q,X,G,J,K,Q,Y;a._RF.push({},"95274bXWhlOpLuswtq4ibDv","MainCity",void 0);var Z=l.ccclass,$=l.property;t("MainCity",(d=Z("MainCity"),y=$(o),_=$(o),h=$(o),C=$(o),f=$(o),R=$(s),v=$(s),B=$(s),S=$(p),T=$(o),F=$(p),w=$(p),H=$(p),N=$(p),z=$(p),k=$(p),L=$(b),d((O=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"btn_build_list",O,r(e)),n(e,"btn_build",U,r(e)),n(e,"btn_bag",x,r(e)),n(e,"btn_role",A,r(e)),n(e,"btn_go_out",E,r(e)),n(e,"btn_upgrade",I,r(e)),n(e,"btn_territory",P,r(e)),n(e,"btn_taxation",V,r(e)),n(e,"layer",W,r(e)),n(e,"map_layer",j,r(e)),n(e,"build_layer",q,r(e)),n(e,"top",X,r(e)),n(e,"middle",G,r(e)),n(e,"city_building",J,r(e)),n(e,"tips",K,r(e)),n(e,"build_list",Q,r(e)),n(e,"build_scroll",Y,r(e)),e.startTime=null,e.tempV3=null,e}i(e,t);var a=e.prototype;return a.start=function(){this.map_layer.spriteFrame=m.getRes("mainCity/map_bg.png"),this.top.getComponent(o).spriteFrame=m.getRes("mainCity/bg_mask.png"),this.top.getChildByName("sp_main_city").getComponent(o).spriteFrame=m.getRes("mainCity/icon_maincity.png"),this.top.getChildByName("Sprite-001").getComponent(o).spriteFrame=m.getRes("mainCity/icon_territory.png"),this.top.getChildByName("Sprite-002").getComponent(o).spriteFrame=m.getRes("mainCity/icon_iron.png"),this.top.getChildByName("Sprite-003").getComponent(o).spriteFrame=m.getRes("mainCity/icon_crystal.png"),this.top.getChildByName("Sprite-004").getComponent(o).spriteFrame=m.getRes("mainCity/icon_wood.png"),this.top.getChildByName("Sprite-005").getComponent(o).spriteFrame=m.getRes("mainCity/icon_flour.png");var t=this.top.getChildByName("Sprite-006"),e=this.top.getChildByName("Sprite-007"),i=this.top.getChildByName("Sprite-008");t.getComponent(o).spriteFrame=m.getRes("mainCity/bg_resource.png"),e.getComponent(o).spriteFrame=m.getRes("mainCity/bg_resource.png"),i.getComponent(o).spriteFrame=m.getRes("mainCity/bg_resource.png"),t.getChildByName("Sprite").getComponent(o).spriteFrame=m.getRes("mainCity/icon_coppercoin.png"),t.getChildByName("Sprite-001").getComponent(o).spriteFrame=m.getRes("mainCity/icon_add.png"),e.getChildByName("Sprite").getComponent(o).spriteFrame=m.getRes("mainCity/icon_ingot.png"),e.getChildByName("Sprite-001").getComponent(o).spriteFrame=m.getRes("mainCity/icon_add.png"),i.getChildByName("Sprite").getComponent(o).spriteFrame=m.getRes("mainCity/icon_boundingot.png"),i.getChildByName("Sprite-001").getComponent(o).spriteFrame=m.getRes("mainCity/icon_add.png"),this.btn_build_list.spriteFrame=m.getRes("mainCity/icon_buildlist.png"),this.btn_build.spriteFrame=m.getRes("mainCity/icon_build.png"),this.btn_bag.spriteFrame=m.getRes("mainCity/icon_bag.png"),this.btn_role.spriteFrame=m.getRes("mainCity/icon_role.png"),this.btn_go_out.spriteFrame=m.getRes("mainCity/icon_goouttown.png"),this.tips.getComponent(o).spriteFrame=m.getRes("mainCity/bg_tips.png"),this.btn_upgrade.normalSprite=m.getRes("mainCity/btn_a.png"),this.btn_upgrade.pressedSprite=m.getRes("mainCity/btn_b.png"),this.btn_upgrade.hoverSprite=m.getRes("mainCity/btn_b.png"),this.btn_territory.normalSprite=m.getRes("mainCity/btn_c.png"),this.btn_territory.pressedSprite=m.getRes("mainCity/btn_d.png"),this.btn_territory.hoverSprite=m.getRes("mainCity/btn_d.png"),this.btn_taxation.normalSprite=m.getRes("mainCity/btn_c.png"),this.btn_taxation.pressedSprite=m.getRes("mainCity/btn_d.png"),this.btn_taxation.hoverSprite=m.getRes("mainCity/btn_d.png"),this.build_list.getComponent(o).spriteFrame=m.getRes("mainCity/bg_buildlist.png"),this.registeEvent()},a.update=function(t){},a.onClickBuildBodyHandle=function(t){if(!((new Date).getTime()-this.startTime>=100)){this.startTime=null;var e=t.target;console.log(e.name),e.name,this.tips.active=!0,this.tempV3=e.getWorldPosition();var i=this.middle.getComponent(u).convertToNodeSpaceAR(this.tempV3);this.tips.setPosition(i)}},a.onClickBtnInTipsHandle=function(t){var e=t.target;switch(console.log(e.name),e.name){case"btn_upgrade":this.city_building.active=!0,this.onClickLayerHandle()}},a.onClickBtnBuildListHandle=function(){this.build_list.active=!0,this.build_scroll.numItems=6},a.onClickBtnCityBuildingHandle=function(){this.city_building.active=!0},a.renderBuildListItemHandle=function(t,e){t.getChildByName("bg").getComponent(o).spriteFrame=m.getRes("mainCity/btn_e.png")},a.onClickRenderBuildListItemHandle=function(t,e){this.city_building.active||(this.city_building.active=!0)},a.calculateClickTimeHandle=function(){this.startTime=(new Date).getTime()},a.onClickLayerHandle=function(){this.tips.active=!1},a.onCloseParentView=function(t){t.target.parent.active=!1},a.onCloseView=function(){this.node.active=!1},a.registeEvent=function(){this.layer.on(g.TOUCH_START,this.onClickLayerHandle,this);for(var t=this.build_layer.children.length,e=0;e<t;e++)this.build_layer.children[e].on(g.TOUCH_START,this.calculateClickTimeHandle,this),this.build_layer.children[e].on(g.TOUCH_END,this.onClickBuildBodyHandle,this)},a.unRegisteEvent=function(){this.layer.off(g.TOUCH_START,this.onClickLayerHandle,this);for(var t=this.build_layer.children.length,e=0;e<t;e++)this.build_layer.children[e].off(g.TOUCH_START,this.calculateClickTimeHandle,this),this.build_layer.children[e].off(g.TOUCH_END,this.onClickBuildBodyHandle,this)},e}(c)).prototype,"btn_build_list",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(M.prototype,"btn_build",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(M.prototype,"btn_bag",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(M.prototype,"btn_role",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(M.prototype,"btn_go_out",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(M.prototype,"btn_upgrade",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(M.prototype,"btn_territory",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(M.prototype,"btn_taxation",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(M.prototype,"layer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(M.prototype,"map_layer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(M.prototype,"build_layer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(M.prototype,"top",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(M.prototype,"middle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(M.prototype,"city_building",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(M.prototype,"tips",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(M.prototype,"build_list",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(M.prototype,"build_scroll",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=M))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainFunctionItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(t){"use strict";var i,n,e,o,a,s,r,c,u,l,p,d,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,c=t.Prefab,u=t.Vec3,l=t.tween,p=t.instantiate,d=t.Component},function(t){f=t.Config}],execute:function(){var h,b,y,g,S,w,v,k,N,P;a._RF.push({},"b7dc9n7ju1Pqoc32vsP4RXF","MainFunctionItem",void 0);var m=s.ccclass,M=s.property,x=s.menu;t("default",(h=m("MainFunctionItem"),b=x("实例模块/MainFunctionItem"),y=M(r),g=M(r),S=M(c),h(w=b((k=i((v=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,e(i,"btnListNode",k,o(i)),e(i,"attackNode",N,o(i)),e(i,"guildWinPrefab",P,o(i)),i.isShowAttack=!0,i.isStop=!1,i}n(i,t);var a=i.prototype;return a.start=function(){},a.onClickFunctionBtn=function(){var t=this;if(!this.isStop)if(this.isShowAttack){this.isShowAttack=!1,this.isStop=!0;var i=new u,n=this.attackNode.getPosition();i.x=n.x+400,i.y=n.y,l(this.attackNode).to(.25,{position:i}).call((function(){t.isStop=!1})).start();var e=new u,o=this.btnListNode.getPosition();e.x=o.x-400,e.y=o.y,l(this.btnListNode).to(.25,{position:e}).start()}else{this.isShowAttack=!0,this.isStop=!0;var a=new u,s=this.attackNode.getPosition();a.x=s.x-400,a.y=s.y,l(this.attackNode).to(.25,{position:a}).call((function(){t.isStop=!1})).start();var r=new u,c=this.btnListNode.getPosition();r.x=c.x+400,r.y=c.y,l(this.btnListNode).to(.25,{position:r}).start()}},a.onClickGuildBtn=function(){if(f.MainScene.openGuild)f.MainScene.openGuild=!1,f.MainScene.closeWindow("GuildWin");else{var t=p(this.guildWinPrefab);f.MainScene.openGuild=!0,f.MainScene.openWindow(t)}},i}(d)).prototype,"btnListNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(v.prototype,"attackNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(v.prototype,"guildWinPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=v))||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainHeroItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./AnimationModule.ts","./ResourcesMgr.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts","./HeroBagWin.ts"],(function(e){"use strict";var r,t,n,o,i,a,l,s,u,g,p,h,c,b,f,m,d,_,H,y,P,v,B,L;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Label,s=e.Sprite,u=e.ProgressBar,g=e.Node,p=e.Prefab,h=e.v3,c=e.instantiate,b=e.Component},function(e){f=e.EventMgr},function(e){m=e.Config},function(e){d=e.default},function(e){_=e.Animationmodule},function(e){H=e.resourcesMgr},function(e){y=e.ObjectManage},function(e){P=e.sendmessage,v=e.Sendmessage},function(e){B=e.GameUtil},function(e){L=e.heroBagWin}],execute:function(){var w,S,M,E,R,C,x,A,k,z,T,O,W,N,I,U,D,G,V,F,j,K,X,Y,Z,q,J,Q,$,ee,re,te,ne,oe,ie,ae,le,se,ue,ge,pe,he,ce,be,fe,me,de,_e,He,ye,Pe,ve,Be,Le;i._RF.push({},"30a07TSnvtCrZ3Cg+GcyegB","MainHeroItem",void 0);var we=a.ccclass,Se=a.property,Me=a.menu;e("default",(w=we("MainHeroItem"),S=Me("实例模块/MainHeroItem"),M=Se(l),E=Se(l),R=Se(l),C=Se(l),x=Se(l),A=Se(s),k=Se(u),z=Se(u),T=Se(u),O=Se(u),W=Se(g),N=Se(p),I=Se(p),U=Se(s),D=Se(g),G=Se(s),V=Se(s),F=Se(s),j=Se(s),K=Se(s),X=Se(s),Y=Se(s),Z=Se(s),q=Se(s),J=Se(s),w(Q=S((ee=r(($=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,n(r,"heroName",ee,o(r)),n(r,"heroLevel",re,o(r)),n(r,"heroHp",te,o(r)),n(r,"heroMp",ne,o(r)),n(r,"heroLoyal",oe,o(r)),n(r,"heroHeadSprite",ie,o(r)),n(r,"hpProgressBar",ae,o(r)),n(r,"mpProgressBar",le,o(r)),n(r,"expProgressBar",se,o(r)),n(r,"powerProgressBar",ue,o(r)),n(r,"openNode",ge,o(r)),n(r,"heroWinPrefab",pe,o(r)),n(r,"heroBagPrefab",he,o(r)),n(r,"herostate_btn1",ce,o(r)),n(r,"mask",be,o(r)),n(r,"herocall_btn",fe,o(r)),n(r,"herohead_bg",me,o(r)),n(r,"hero_blood_bg",de,o(r)),n(r,"HpProgressBarSprite",_e,o(r)),n(r,"MpProgressBarSprite",He,o(r)),n(r,"ExpProgressBarSprite",ye,o(r)),n(r,"PowerProgressBarSprite",Pe,o(r)),n(r,"heroguard_btn",ve,o(r)),n(r,"herobag_btn",Be,o(r)),n(r,"herolock_btn",Le,o(r)),r._openTime=0,r._getTime=2,r}t(r,e);var i=r.prototype;return i.start=function(){B.loadResLocal("SplitResource/Btns/heroguard_btn.png",this.heroguard_btn),B.loadResLocal("SplitResource/Btns/herobag_btn.png",this.herobag_btn),B.loadResLocal("SplitResource/Btns/herolock_btn.png",this.herolock_btn),B.loadResLocal("SplitResource/Btns/herostate_btn1.png",this.herostate_btn1),B.loadResLocal("HeroWin/herohead_bg.png",this.herohead_bg),B.loadResLocal("HeroWin/hero_blood_bg.png",this.hero_blood_bg),B.loadResLocal("HeroWin/hero_hp.png",this.HpProgressBarSprite),B.loadResLocal("HeroWin/hero_mp.png",this.MpProgressBarSprite),B.loadResLocal("HeroWin/hero_exp.png",this.ExpProgressBarSprite),B.loadResLocal("HeroWin/hero_power.png",this.PowerProgressBarSprite),this.initMgr()},i.initMgr=function(){f.addEventListener(d.HEROCALL_OK,this.heroCall,this),f.addEventListener(d.HEROEXIT_OK,this.heroExit,this),f.addEventListener(d.UPDATE_HERO_INFO,this.UpdateHeroInfo,this),f.addEventListener(d.UPDATE_ANGRYVALUE,this.UpdateAngryValue,this),f.addEventListener(d.HEROSTATE,this.heroState,this)},i.onClickCallBtn=function(){P.SendHeroCall()},i.showSummonHeroCDHandle=function(){this.mask.getChildByName("bg").getComponent(s).fillRange-=.025,this._getTime-=.05,this.mask.getChildByName("Label").getComponent(l).string=this._getTime.toFixed(1),this.mask.getChildByName("bg").getComponent(s).fillRange<=0&&(this._getTime=2,this.mask.active=!1,this.mask.getChildByName("bg").getComponent(s).fillRange=1,this.mask.getChildByName("Label").getComponent(l).string="2",this.unschedule(this.showSummonHeroCDHandle))},i.heroCall=function(e){if(e){var r=e[1];this.openNode.active=!0;r.split("\\");this.powerProgressBar.progress=0}if(m.g_myHero&&m.g_myHero.skin_feature){var t=0==m.g_myHero.skin_feature.btGender?"HeroWin/herohead0.png":"HeroWin/herohead1.png";B.loadResLocal(t,this.heroHeadSprite),this.heroHeadSprite.grayscale=!1,this.heroLevel.string=m.g_myHero.m_Abil.Level,this.heroName.string=m.g_myHero.m_Abil.name,this.UpdateHeroInfo(m.g_myHero.m_Abil)}m.g_myHero&&m.g_myHero.is_die&&this.heroExit()},i.heroExit=function(){this.openNode.active=!1,m.g_myHero=null,m.g_HeroBagCount=-1},i.UpdateHeroInfo=function(e){if(this.openNode.active){this.heroLevel.string=e.Level;var r=e.Exp/e.MaxExp;r<0?r=0:r>1&&(r=1),this.expProgressBar.progress=r;var t=e.HP/e.MaxHP;t>=1&&(t=0),t<=0&&(t=1),0==e.HP&&(t=0),this.hpProgressBar.progress=t,this.heroHp.string=e.HP+"/"+e.MaxHP,(e.HP<=0||m.g_myHero.is_die)&&(this.heroHp.string="0/"+e.MaxHP,this.heroHeadSprite.grayscale=!0);var n=e.MP/e.MaxMP;n>=1&&(n=0),n<=0&&(n=1),0==e.MP&&(n=0),this.mpProgressBar.progress=n,this.heroMp.string=e.MP+"/"+e.MaxMP,this.heroLoyal.string=m.g_HeroLoyalPoint.toString()}},i.UpdateAngryValue=function(){var e=m.g_myHero.AngryValue/m.g_myHero.AngryValueMax;if(this.powerProgressBar.progress=e,e<0)e=0,_.removeAniname("poweMax");else if(e>=1){e=1;var r=_.getAni(this.powerProgressBar.node,"poweMax");null==r&&(r=_.playframe(!1,this.powerProgressBar.node,"Animation/hero_power/",1,6,100,!0,!1,h(-31,0)))&&(r.name="poweMax");var t=B.findNodeByRes("Canvas/UIMain/typeH5/chat_node/heroatt_btn");if(_.getAni(t,"heroatt"))return;var n=_.playframe(!1,t,"Animation/mouse_click/",20,31,100,!0,!1,h(-1,-3));n&&(n.name="heroatt",n.node.setScale(h(.6,.6,1)))}else _.removeAniname("poweMax"),_.removeAniname("heroatt")},i.heroGuard=function(){m.g_myHero&&(f.raiseEvent("show_log",[{txt:"点击选择英雄守护的区域！",color:"#ff0000"}]),m.g_HeroGuardOn=!0)},i.onClickRestBtn=function(){v.getInstance().sendSay("@RestHero")},i.heroLock=function(){if(m.lockingID&&m.g_myHero){var e=y.findobject(m.lockingID);P.HeroLock(m.lockingID,e.grid,m.g_HeroLockType),m.g_HeroLockType?m.g_HeroLockType=0:m.g_HeroLockType=1}},i.onClickBag=function(){if(L.isOpenWin)m.MainScene.closeWindow("HeroBagWin");else{var e=c(this.heroBagPrefab);m.MainScene.openWindow(e)}},i.heroState=function(e){var r=this,t="";-1!=e.indexOf("休息")?t="GameScene/herostate_btn1.png":-1!=e.indexOf("跟随")?t="GameScene/herostate_btn2.png":-1!=e.indexOf("攻击")&&(t="GameScene/herostate_btn3.png"),""!=t&&H.resLoad(t,(function(e){e&&(r.herostate_btn1.spriteFrame=e)}))},i.onClickHead=function(){if(m.MainScene.openHero)m.MainScene.closeWindow("HeroWin");else{m.MainScene.openHero=!0;var e=c(this.heroWinPrefab);m.MainScene.openWindow(e)}},i.onDestroy=function(){f.removeEventListener(d.HEROCALL_OK,this.heroCall,this),f.removeEventListener(d.HEROEXIT_OK,this.heroExit,this),f.removeEventListener(d.UPDATE_HERO_INFO,this.UpdateHeroInfo,this),f.removeEventListener(d.UPDATE_ANGRYVALUE,this.UpdateAngryValue,this),f.removeEventListener(d.HEROSTATE,this.heroState,this)},r}(b)).prototype,"heroName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=r($.prototype,"heroLevel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=r($.prototype,"heroHp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=r($.prototype,"heroMp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=r($.prototype,"heroLoyal",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=r($.prototype,"heroHeadSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=r($.prototype,"hpProgressBar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=r($.prototype,"mpProgressBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=r($.prototype,"expProgressBar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=r($.prototype,"powerProgressBar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=r($.prototype,"openNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=r($.prototype,"heroWinPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=r($.prototype,"heroBagPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=r($.prototype,"herostate_btn1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=r($.prototype,"mask",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=r($.prototype,"herocall_btn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=r($.prototype,"herohead_bg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=r($.prototype,"hero_blood_bg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=r($.prototype,"HpProgressBarSprite",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=r($.prototype,"MpProgressBarSprite",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=r($.prototype,"ExpProgressBarSprite",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=r($.prototype,"PowerProgressBarSprite",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=r($.prototype,"heroguard_btn",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=r($.prototype,"herobag_btn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=r($.prototype,"herolock_btn",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=$))||Q)||Q));i._RF.pop()}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./Sendmessage.ts","./CustomBtnData.ts","./NodeClickTop.ts","./HeroTreasureWin.ts","./HumWin.ts","./LookHum.ts","./NewItemInfoWin.ts","./NpcShop.ts","./MyStore.ts","./PersonalStore.ts","./StoreWin.ts","./RechargeWin.ts","./ScreenWin.ts","./NewShopWin.ts","./GameApi.ts","./GameMission.ts","./GameUtil.ts"],(function(e){"use strict";var n,t,i,o,r,a,s,l,u,h,c,p,f,d,m,g,b,v,C,w,W,I,_,N,S,P,y,E,T,M,B,L,k,H,R,U,O,A,x,z,D,G,F,J,V;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.Sprite,h=e.Node,c=e.Button,p=e.Label,f=e.UITransform,d=e.view,m=e.instantiate,g=e.find,b=e.Vec3,v=e.Layers,C=e.v2,w=e.v3,W=e.VerticalTextAlignment,I=e.Component},function(e){_=e.EventMgr},function(e){N=e.Config},function(e){S=e.default},function(e){P=e.CUSTOM_BUTTON_WIN_TYPE},function(e){y=e.Animationmodule},function(e){E=e.resourcesMgr},function(e){T=e.sendmessage},function(e){M=e.default},function(e){B=e.default},function(e){L=e.default},function(e){k=e.default},function(e){H=e.default},function(e){R=e.default},function(e){U=e.NpcShop},function(e){O=e.MyStore},function(e){A=e.PersonalStore},function(e){x=e.StroeWin},function(e){z=e.default},function(e){D=e.default},function(e){G=e.default},function(e){F=e.GameApi},function(e){J=e.gameMission},function(e){V=e.GameUtil}],execute:function(){var Z,q,Y,K,j,Q,X,$,ee,ne,te,ie,oe,re,ae,se,le,ue,he,ce,pe,fe,de,me,ge,be,ve,Ce,we,We,Ie,_e,Ne,Se,Pe,ye,Ee,Te,Me,Be,Le,ke,He,Re,Ue,Oe,Ae,xe,ze,De,Ge,Fe,Je,Ve,Ze,qe,Ye,Ke,je,Qe,Xe,$e,en,nn,tn,on,rn,an,sn,ln,un,hn,cn,pn,fn,dn,mn;a._RF.push({},"b222eb3vEJAi4ijsN6gQ+af","MainScene",void 0);var gn=s.ccclass,bn=s.property;e("default",(Z=gn("MainScene"),q=bn(l),Y=bn(l),K=bn(l),j=bn(l),Q=bn(l),X=bn(l),$=bn(l),ee=bn(l),ne=bn(l),te=bn(l),ie=bn(l),oe=bn(l),re=bn(l),ae=bn(l),se=bn(l),le=bn(l),ue=bn(l),he=bn(l),ce=bn(l),pe=bn(l),fe=bn(l),de=bn(u),me=bn(l),ge=bn(h),be=bn(h),ve=bn(l),Ce=bn(h),we=bn(l),We=bn(h),Ie=bn(l),_e=bn(l),Ne=bn(l),Se=bn(c),Pe=bn(h),ye=bn(h),Ee=bn(h),Te=bn(p),Z((Le=n((Be=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"newNpcWin",Le,o(n)),i(n,"humWinPrefab",ke,o(n)),i(n,"mainHeroItem",He,o(n)),i(n,"mainTopBtnItem",Re,o(n)),i(n,"mainFunctionItem",Ue,o(n)),i(n,"personalStorePrefab",Oe,o(n)),i(n,"myStorePrefab",Ae,o(n)),i(n,"storeWinPrefab",xe,o(n)),i(n,"npcShopPrefab",ze,o(n)),i(n,"guildWinPrefab",De,o(n)),i(n,"guildWorldWinPrefab",Ge,o(n)),i(n,"mainTopMiniMapPrefab",Fe,o(n)),i(n,"mainChatItem",Je,o(n)),i(n,"newItemsInfoWin",Ve,o(n)),i(n,"rankPrefab",Ze,o(n)),i(n,"newRankPrefab",qe,o(n)),i(n,"shopPrefab",Ye,o(n)),i(n,"rechargePrefab",Ke,o(n)),i(n,"screenPrefab",je,o(n)),i(n,"auctionPrefab",Qe,o(n)),i(n,"lookHumPrefab",Xe,o(n)),i(n,"headinfo_img",$e,o(n)),i(n,"drugsetupPrefab",en,o(n)),i(n,"chatContentNode",nn,o(n)),i(n,"chatContentPCNode",tn,o(n)),i(n,"chatPCPrefab",on,o(n)),i(n,"heroatt_btn",rn,o(n)),i(n,"heroTreasureWinPrefab",an,o(n)),i(n,"draglayer",sn,o(n)),i(n,"newShopPrefab",ln,o(n)),i(n,"petWinPrefab",un,o(n)),i(n,"nodeClickTopPreafb",hn,o(n)),i(n,"comboButton",cn,o(n)),i(n,"btMoveNode_0",pn,o(n)),i(n,"btMoveNode_7",fn,o(n)),i(n,"btMoveNodeNew",dn,o(n)),i(n,"mirrorMapTime",mn,o(n)),n.UIBoxZIndex=500,n.ani_node_arr=[],n.openRole=!1,n.openHero=!1,n.openRank=!1,n.openBag=!1,n.openShop=!1,n.openGuild=!1,n.openPersonalStore=!1,n.openMyStore=!1,n.openWordlGuild=!1,n.openRecharge=!1,n.openMiniMap=!1,n.openNewItemInfo=!1,n.openScreen=!1,n.openLookHumWin=!1,n.openLookShouShi=!1,n.openLookShouS=!1,n.openShouShi=!1,n.openShouS=!1,n.openHeroTreasure=!1,n.openHumTab=1,n.openNewShopTab=4,n.UIBox=null,n._firstOpenAuction=!0,n.mirrorMapTime_callback=null,n.customBtnArr=[],n}t(n,e);var a=n.prototype;return a.onLoad=function(){},a.start=function(){N.MainScene=this,this.UIBox=N.CurScene.node.getChildByName("UIBox"),this.UIBox.getComponent(f).width=d.getVisibleSize().width,this.UIBox.getComponent(f).height=d.getVisibleSize().height,this.initPrefab(),this.initMgr(),this.showJavaBtn(),N.MainScene.comboButton.interactable=N.g_boCanUseContinuous},a.initMgr=function(){_.addEventListener(S.OPEN_NEW_ITEM_INFO,this.openNewItemInfoWin,this),_.addEventListener(S.OPEN_SCREENWIN,this.openScreenWin,this),_.addEventListener(S.OPENAUCTIONWIN,this.openAuctionHouseWin,this),_.addEventListener(S.OPEN_LOOK_HUM,this.openLookHum,this),_.addEventListener(S.RESET_HEAD_ICON,this.resetActorHeadIcon,this),_.addEventListener(S.SHOWDURAHUM,this.showDuraHum,this),_.addEventListener(S.GAME_DLG_CMD,this.eventMgrGameDlgCmd1,this),_.addEventListener(S.OPEN_SHOWDRUGWIN,this.openShowDrugWin,this),_.addEventListener(S.SHOW_BTNHERO,this.showHeroBtn,this),_.addEventListener(S.OPENUIRANKWIN,this.onClickRankBtn,this),_.addEventListener(S.GET_HERO_TREASURE_FIND_LIST,this.openHeroTreasureWin,this),_.addEventListener(S.ARMY_MATERIAL_OPEN_STORE,this.onClicShopBtn,this),_.addEventListener(S.OPEN_PET_WIN,this.openPetWin,this),_.addEventListener(S.ADD_CUSTOM_BUTTON,this.addCustomButton,this)},a.openScreenWin=function(e){var n=e[0],t=e[1],i=e[2],o=m(this.screenPrefab);this.openWindow(o),o.getComponent(D).SearchItems(n,t,i)},a.showHeroBtn=function(){var e=V.findNodeByRes("Canvas/UIMain/panel_node/herocall_btn");N.g_ClientConfig&&N.g_ClientConfig.DOpenHeroButton?(this.heroatt_btn.active=!0,e&&!N.isJava&&(e.active=!0)):(this.heroatt_btn.active=!1,e&&!N.isJava&&(e.active=!1))},a.showJavaBtn=function(){var e=g("Canvas/UIMain/typeH5/funBtn/LayoutNode/newHeroTreasure");e&&(e.active=N.isJava)},a.resetActorHeadIcon=function(e){if(this.headinfo_img){var n=e[0],t=e[1];V.loadResLocal("GameScene/gxx/head_img-"+n+t+".png",this.headinfo_img)}},a.openLookHum=function(e){var n=e[0],t=this.UIBox.getChildByName("LookHum");if(t)t.getComponent(H).updateData(n);else{var i=m(this.lookHumPrefab);this.openWindow(i),i.getComponent(H).init(n)}},a.openNewItemInfoWin=function(e){var n=e[0];if(e[1])var t=e[1];if(e[2])var i=e[2];if(e[3])e[3];var o=null;if(e[4]&&(o=e[4]),n){i||(i=d.getVisibleSize().width/2);var r=F.getItemScore(n),a=null;if(a=N.g_isOnWindows?this.draglayer.getChildByName("comparison"):this.UIBox.getChildByName("comparison"))var s=a.getComponent(R);if(!s){var l=m(this.newItemsInfoWin);s=l.getComponent(R),N.g_isOnWindows?this.draglayer.addChild(l):this.openWindow(l),l.name="comparison",a=l}if(this.touchStartSetIndex(a),s.item=n,s.initMgr(),s.initImg(e[0],t,o),N.g_isOnWindows){var u=N.g_pcMousePoint.multiplyScalar(10/7);a.setPosition(u.x+s.Item_bg.width/2+5,u.y-5)}if(1!=N.g_OpenIdx&&30!=N.g_OpenIdx){var h=V.getItemType(n.s),c=N.g_UserItemList[h];if(c){var p=null;if(p=N.g_isOnWindows?this.draglayer.getChildByName("comparison1"):this.UIBox.getChildByName("comparison1"))var f=p.getComponent(R);var g=F.getItemScore(c);if(!f){var b=m(this.newItemsInfoWin);f=b.getComponent(R),N.g_isOnWindows?this.draglayer.addChild(b):this.openWindow(b),b.name="comparison1",null!=i&&a&&b.setPosition(a.getPosition().x+s.Item_bg.width+4,a.getPosition().y)}if(f.item=c,f.initMgr(),f.initImg(c,0),5==h||6==h||7==h||8==h){var v=null;switch(h){case 5:v=N.g_UserItemList[6],f.change_idx=6;break;case 6:v=N.g_UserItemList[5],f.change_idx=5;break;case 7:v=N.g_UserItemList[8],f.change_idx=8;break;case 8:v=N.g_UserItemList[7],f.change_idx=7}v&&(f.change_item=v,f.change_type=t,f.change_x=i,f.change_side.active=!0)}r==g?(s.gradeColor=2,f.gradeColor=2):g||0==g?r>g?(s.gradeColor=1,f.gradeColor=0):r<g&&(s.gradeColor=0,f.gradeColor=1):s.gradeColor=1}else{var C=this.draglayer.getChildByName("comparison1");C&&C.destroy()}}}},a.openAuctionHouseWin=function(){if(N.g_customItemAttr&&N.g_customItemAttr.AuctionEnable){var e=this.UIBox.getChildByName("AuctionhouseWin");e||(e=m(this.auctionPrefab),this.UIBox.addChild(e)),e.active=!0,this._firstOpenAuction&&(this._firstOpenAuction=!1,_.raiseEvent(S.AUCTION_CREATE_CURRENCY)),_.raiseEvent(S.UPDATE_ALL_AUCTIONDATA)}},a.initPrefab=function(){if(N.g_isOnWindows){var e=m(this.chatPCPrefab);this.chatContentPCNode.addChild(e)}else{var n=m(this.mainChatItem);this.chatContentNode.addChild(n)}},a.onClickRole=function(){if(this.openRole)this.closeWindow("HumWin");else{var e=m(this.humWinPrefab);this.openWindow(e)}},a.openRoleByTab=function(e){if(this.openRole)this.closeWindow("HumWin");else{var n=m(this.humWinPrefab);n.getComponent(k).showTab(e),this.openWindow(n)}},a.onClickCallHero=function(){},a.onClickHeroTreasure=function(){T.sendHeroTreasureFindList()},a.openShowDrugWin=function(){var e=m(this.drugsetupPrefab);this.openWindow(e)},a.showDuraHum=function(){for(var e=!1,n=!1,t=this.headinfo_img.node,i=[],o=0;o<N.HighTUseItems-1;o++)N.g_UserItemList[o]&&i.push(N.g_UserItemList[o]);for(var r=0;r<N.HighTUseItems-1;r++){var a=i[r];if(a){var s=a.Dura/1e3;if(s<3&&s>0)e=!0;else if(s<=0){n=!0;break}}}i=null;var l=y.getAni(t,"equip"),u=this.headinfo_img.getComponent(f).width,h=this.headinfo_img.getComponent(f).height,c=new b(u/2-5,-h/2+5);(e||n||l&&y.removeAni(l),n&&t)?l||(y.playframe(!1,t,"Animation/equip/",11,18,100,!0,!1,c).name="equip"):e&&t&&(l||(y.playframe(!1,t,"Animation/equip/",1,8,100,!0,!1,c).name="equip"))},a.instanceOfMem=function(e){return this.UIBox.getChildByName(e)},a.onClickBag=function(){V.showNewBag(!N.g_OpenBag)},a.onClickRankBtn=function(){if(N.isJava)this.onClickNewRankBtn();else if(this.openRank)this.closeWindow("RankWin");else{var e=m(this.rankPrefab);this.openRank=!0,this.openWindow(e),T.requestRankDataByType(0)}},a.onClickNewRankBtn=function(){if(this.UIBox.getChildByName("NewRankWin"))this.closeWindow("RankWin");else{var e=m(this.newRankPrefab);this.openWindow(e),T.requestRankDataByType(0)}},a.onClicShopBtn=function(){if(N.isJava)this.onClickNewShop();else if(this.openShop)this.closeWindow("ShopWin");else{T.GetShopItems(0,0),T.GetShopItems(1,0),T.GetShopItems(2,0),T.GetShopItems(3,0),T.GetShopItems(4,0),T.GetStrangeItems();var e=m(this.shopPrefab);this.openShop=!0,this.openWindow(e)}},a.onClickRecharge=function(e){if(N.isJava)this.onClickNewRecharge(e);else{if(!this.openRecharge){var n=m(this.rechargePrefab);return this.openWindow(n),n.getComponent(z).update2Money(e),n}this.closeWindow("RechargeWin")}},a.clickUIBtnHandler=function(e,n,t){return!!n&&(e?(this.closeWindow(t),!1):(this.openWindow(m(n)),!0))},a.incZIndex=function(){return++this.UIBoxZIndex},a.openWindow=function(e){e.setSiblingIndex(this.incZIndex()),this.UIBox.addChild(e),this.bottomLayer()},a.bottomLayer=function(){this.draglayer.setSiblingIndex(-1)},a.setTopZIndex=function(e){e.setSiblingIndex(this.incZIndex())},a.closeWindow=function(e){var n=this.UIBox.getChildByName(e);n&&(_.raiseEvent(S.REMOEV_ANI,[e]),n.destroy())},a.touchStartSetIndex=function(e){var n=this.incZIndex();e&&(e.parent.pauseSystemEvents(!0),e.setSiblingIndex(n),e.parent.resumeSystemEvents(!0)),this.bottomLayer()},a.onClickGuildBtn=function(){if(console.log("this.openGuild=",this.openGuild),!this.openGuild){var e=m(this.guildWinPrefab);this.openGuild=!0,this.openWindow(e)}},a.showPersonalStore=function(){if(!this.UIBox.getChildByName("PersonalStore")){var e=m(this.personalStorePrefab);e.getComponent(A).init(),this.openWindow(e)}},a.showMyStore=function(){if(!this.UIBox.getChildByName("MyStore")){var e=m(this.myStorePrefab);e.getComponent(O).init(),this.openWindow(e)}},a.showStoreWin=function(){if(!this.UIBox.getChildByName("StoreWin")){var e=m(this.storeWinPrefab);e.getComponent(x).init(),this.openWindow(e)}},a.showNpcShop=function(){if(!this.UIBox.getChildByName("NpcShop")){var e=m(this.npcShopPrefab);e.getComponent(U).init(),this.openWindow(e)}},a.onClickNewShop=function(){if(this.UIBox.getChildByName("NewShopWin"))this.closeWindow("NewShopWin");else{var e=m(this.newShopPrefab);this.openWindow(e)}},a.onClickNewRecharge=function(e){if(N.isJava)if(this.UIBox.getChildByName("NewShopWin"))this.closeWindow("NewShopWin");else{var n=m(this.newShopPrefab);this.openWindow(n);var t=n.getComponent(G);t.update2Money(e),t.showTab(this.openNewShopTab)}},a.onClickGuildWorld=function(){if(this.openWordlGuild)this.closeWindow("GuildWorldWin");else{var e=m(this.guildWorldWinPrefab);this.openWordlGuild=!0,this.openWindow(e)}},a.onClickBtnNewHeroFuncHandle=function(){},a.eventMgrGameDlgCmd1=function(e){switch(e.id){case"show_hanghui_world":this.onClickGuildWorld();break;case"show_hanghui":this.onClickGuildBtn()}},a.openHeroTreasureWin=function(e){var n=e[0],t=e[1];if(this.openHeroTreasure)this.closeWindow("HeroTreasureWin");else{var i=m(this.heroTreasureWinPrefab);this.openWindow(i),i.getComponent(L).initFindView(n,t)}},a.openPetWin=function(){if(this.instanceOfMem("PetWin"))this.closeWindow("PetWin");else{var e=m(this.petWinPrefab);this.openWindow(e)}},a.openClickTop=function(e,n,t){var i=this.instanceOfMem("NodeClickTop");if(n){var o=m(this.nodeClickTopPreafb);return o.getComponent(B).initData(e,null,t),o}var r=e.str,a=e.pos;if(i){i.getComponent(B).initData(r,a),this.touchStartSetIndex(i)}else{var s=m(this.nodeClickTopPreafb);this.openWindow(s),s.getComponent(B).initData(r,a)}},a.onClickCombo=function(){T.sendStartCombo()},a.addCustomButton=function(e){for(var n=this,t=e,i=null,o=0;o<N.g_ButtonList.length;o++)if(t.nTag==Number(N.g_ButtonList[o].name)){i=N.g_ButtonList[o];break}var r=!0;if(!i){(i=new h).layer=v.Enum.UI_2D,i.addComponent(u),i.getComponent(f).anchorPoint=C(0,1);var a=i.getComponent(c);a||(a=i.addComponent(c));var s=i.addComponent(M);a.transition=c.Transition.SCALE,a.zoomScale=.9;var l=t.nTag;if(i.name=l.toString(),""!=t.sHintMsg&&i.on(h.EventType.TOUCH_START,(function(e){var n=i.parent.getComponent(f).convertToWorldSpaceAR(i.position),o={str:t.sHintMsg,pos:n};N.MainScene.openClickTop(o)})),i.on(h.EventType.TOUCH_END,(function(e){T.imageButtonClick(l)})),N.g_ButtonList.push(i),s.init(t),t.btMove==P.CHAT_RIGHT)this.btMoveNode_7.addChild(i);else if(t.btMove==P.MOVE){if(t.nLeft<100){if(this.customBtnArr.push(s),r=!1,this.btMoveNodeNew.addChild(i),this.btMoveNodeNew.children.length>1){this.customBtnArr.sort((function(e,n){return e.data.nTop-n.data.nTop}));for(var d=!1,m=0;m<this.btMoveNodeNew.children.length&&!d;m++)for(var g=0;g<this.customBtnArr.length;g++)if(this.customBtnArr[g].data.nTag==Number(this.btMoveNodeNew.children[m].name)){this.btMoveNodeNew.children[m].setSiblingIndex(g),d=!0;break}}}else this.btMoveNode_0.addChild(i)}else console.log("收到btMove为",t.btMove,"的自定义按钮消息")}var I=N.g_pak_list[t.nFileIndex],_=J.getUrls(I,t.nHotImage);i.getComponent(u).sizeMode=u.SizeMode.TRIMMED,E.handleLoad(_.plistPath,(function(e){if(e){if(i.getComponent(u).spriteFrame=e.getSpriteFrame(_.imgName),r){var o=t.nLeft,s=-t.nTop;i.setPosition(w(o,s))}if(""!=t.btnLabel){var l=i.getChildByName("label");if((a=i.getComponent(c))||(a=i.addComponent(c)),a.transition=c.Transition.NONE,l)l.getComponent(p).string=t.btnLabel;else{var d=new h;d.layer=v.Enum.UI_2D;var m=d.addComponent(p);d.getComponent(f).anchorPoint=C(0,1),m.string=t.btnLabel,m.fontSize=15,m.verticalAlign=W.CENTER,m.lineHeight=18;var g;g=F.getSpaceNum(d),d.setPosition(w(g,0)),i.addChild(d),d.name="label"}}if(t.sCaption){n.ani_node_arr.push(i);var I=new b(i.getComponent(f).width/2,i.getComponent(f).height/2);V.LineText_PLAYIMG(t.sCaption,I,i,!0)}}}))},a.showgMirrorMapTime=function(e){var n=this;if(e>0){var t=Math.floor(e/1e3);this.mirrorMapTime_callback=function(){--t<=0&&(n.mirrorMapTime.string="");var e=Math.floor(t/3600),i=Math.floor(t/60),o=Math.floor(t%60);n.mirrorMapTime.string="副本地图剩余时间 "+(e<10?"0"+e:e)+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},this.schedule(this.mirrorMapTime_callback,1,t,0)}else this.mirrorMapTime.string="",this.unschedule(this.mirrorMapTime_callback)},a.onDestroy=function(){_.removeEventListener(S.OPEN_NEW_ITEM_INFO,this.openNewItemInfoWin,this),_.removeEventListener(S.OPEN_SCREENWIN,this.openScreenWin,this),_.removeEventListener(S.OPENAUCTIONWIN,this.openAuctionHouseWin,this),_.removeEventListener(S.OPEN_LOOK_HUM,this.openLookHum,this),_.removeEventListener(S.RESET_HEAD_ICON,this.resetActorHeadIcon,this),_.removeEventListener(S.SHOWDURAHUM,this.showDuraHum,this),_.removeEventListener(S.GAME_DLG_CMD,this.eventMgrGameDlgCmd1,this),_.removeEventListener(S.OPEN_SHOWDRUGWIN,this.openShowDrugWin,this),_.removeEventListener(S.SHOW_BTNHERO,this.showHeroBtn,this),_.removeEventListener("openUIRankWin",this.onClickRankBtn,this),_.removeEventListener(S.GET_HERO_TREASURE_FIND_LIST,this.openHeroTreasureWin,this),_.removeEventListener(S.ARMY_MATERIAL_OPEN_STORE,this.onClicShopBtn,this),_.removeEventListener(S.OPEN_PET_WIN,this.openPetWin,this)},r(n,[{key:"zIndex",get:function(){return this.UIBoxZIndex}}]),n}(I)).prototype,"newNpcWin",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=n(Be.prototype,"humWinPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=n(Be.prototype,"mainHeroItem",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=n(Be.prototype,"mainTopBtnItem",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=n(Be.prototype,"mainFunctionItem",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=n(Be.prototype,"personalStorePrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=n(Be.prototype,"myStorePrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=n(Be.prototype,"storeWinPrefab",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=n(Be.prototype,"npcShopPrefab",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=n(Be.prototype,"guildWinPrefab",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=n(Be.prototype,"guildWorldWinPrefab",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=n(Be.prototype,"mainTopMiniMapPrefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=n(Be.prototype,"mainChatItem",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=n(Be.prototype,"newItemsInfoWin",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=n(Be.prototype,"rankPrefab",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=n(Be.prototype,"newRankPrefab",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=n(Be.prototype,"shopPrefab",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=n(Be.prototype,"rechargePrefab",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=n(Be.prototype,"screenPrefab",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=n(Be.prototype,"auctionPrefab",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=n(Be.prototype,"lookHumPrefab",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=n(Be.prototype,"headinfo_img",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=n(Be.prototype,"drugsetupPrefab",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=n(Be.prototype,"chatContentNode",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=n(Be.prototype,"chatContentPCNode",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=n(Be.prototype,"chatPCPrefab",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=n(Be.prototype,"heroatt_btn",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=n(Be.prototype,"heroTreasureWinPrefab",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sn=n(Be.prototype,"draglayer",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=n(Be.prototype,"newShopPrefab",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=n(Be.prototype,"petWinPrefab",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hn=n(Be.prototype,"nodeClickTopPreafb",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=n(Be.prototype,"comboButton",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=n(Be.prototype,"btMoveNode_0",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=n(Be.prototype,"btMoveNode_7",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dn=n(Be.prototype,"btMoveNodeNew",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=n(Be.prototype,"mirrorMapTime",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=Be))||Me));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./AnimationModule.ts","./ResourcesMgr.ts","./SkillModule.ts","./UIcontrol.ts","./objectcontrol.ts","./objectmanage.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,l,a,o,s,c,r,h,d,g,m,u,p,f,k,C,_,v,y,T,S,M,b,A,P,E,L,N,D,I,H,B,R,O,U,w,x,G,j;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,c=e.SpriteFrame,r=e.Sprite,h=e.Button,d=e.NodePool,g=e.tween,m=e.NodeEventType,u=e.UITransform,p=e.Vec3,f=e.v2,k=e.Vec2,C=e.v3,_=e.macro,v=e.instantiate,y=e.director,T=e.Label,S=e.Mask,M=e.Layers,b=e.size,A=e.LabelOutline,P=e.Input,E=e.toDegree,L=e.Animation,N=e.Component},function(e){D=e.EventMgr},function(e){I=e.Config},function(e){H=e.SKILLPAN_Type},function(e){B=e.default},function(e){R=e.Animationmodule},function(e){O=e.resourcesMgr},function(e){U=e.Skillmodule},function(e){w=e.uiControl},function(e){x=e.Objectcontrol},function(e){G=e.ObjectManage},function(e){j=e.GameUtil}],execute:function(){var z,F,V,K,W,X,q,J,Y,Z,Q,$,ee,te,ie,ne,le;a._RF.push({},"c166dMIXjtDl55FVZvCrZfE","MainSkill",void 0);var ae=o.ccclass,oe=o.property;e("MainSkill",(z=ae("MainSkill"),F=oe(s),V=oe(s),K=oe(s),W=oe(c),X=oe(s),q=oe(s),J=oe(s),z((Q=t((Z=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"PanType1",Q,l(t)),n(t,"PanType2",$,l(t)),n(t,"MoveNode",ee,l(t)),n(t,"SpattBase",te,l(t)),n(t,"btn_Att",ie,l(t)),n(t,"btn_Storm",ne,l(t)),n(t,"sp_line",le,l(t)),t._rs=150,t._currotation=0,t._curbase_rotation=0,t._canMoveRight=!0,t._realAngle=0,t._skillCDPool=null,t._animClickNode=null,t._cur_touchID=null,t._mouseClick=[],t._startPos=null,t._preSkillN=null,t.cdlist=[],t.timelist=[],t.cdMask=null,t.isClearTimer=!0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.createSkillMask()},a.start=function(){this.sp_line&&this.sp_line.isValid&&j.loadResLocal("SetSkill/java_icon_mainskill_01.png",this.sp_line.getComponent(r));for(var e=0;e<8;e++)j.loadResLocal("SetSkill/gxx/att_base.png",this.PanType1.children[e].getComponent(r)),j.loadResLocal("SetSkill/gxx/att_base.png",this.PanType2.children[e].getComponent(r));j.loadResLocalButton("SetSkill/gxx/btn_att.png","SetSkill/gxx/btn_att (2).png",this.btn_Att.getComponent(h)),j.loadResLocalButton("SetSkill/gxx/storm.png","SetSkill/gxx/storm (2).png",this.btn_Storm.getComponent(h)),this._skillCDPool=new d,this._animClickNode=new s("animClickNode"),this._realAngle=this.PanType2.angle,I.useingSkillType=j.getSaveData("skillrocktype"),null==I.useingSkillType&&(I.useingSkillType=H.MATRIX),I.useingSkillType==H.MATRIX?H.MATRIX:H.ROLL,this.iconAngleCorrection(),this.eventMgrChangeType(I.useingSkillType),this.registeEventListener()},a.initMainSkillHandler=function(){for(var e=this,t=I.g_SetupMagicList.length,i=function(t){var i=I.g_SetupMagicList[t],n=e.PanType1.children[t],l=e.PanType2.children[t];if(i){var a=j.formatData(i);O.handleLoad(a,(function(e){e&&(n.isValid&&(n.getComponent(r).spriteFrame=e),n.isValid&&(n.getChildByName("Label").active=!1),l.isValid&&(l.getComponent(r).spriteFrame=e),l.isValid&&(l.getChildByName("Label").active=!1))})),n.skillInfo=l.skillInfo=i,n.idx=l.idx=t}else null==i&&(I.isJava?(j.loadResLocal("SetSkill/java_btn_mainskill_03.png",n.getComponent(r)),j.loadResLocal("SetSkill/java_btn_mainskill_03.png",l.getComponent(r))):(j.loadResLocal("SetSkill/gxx/att_base.png",n.getComponent(r)),j.loadResLocal("SetSkill/gxx/att_base.png",l.getComponent(r))),n.getChildByName("Label").active=!0,l.getChildByName("Label").active=!0,n.skillInfo=l.skillInfo=null,n.idx=l.idx=null)},n=0;n<t;n++)i(n)},a.eventMgrUpdateIconHandler=function(){this.initMainSkillHandler(),this.setAutoSkillAni()},a.setAutoSkillAni=function(){for(var e=0;e<I.g_SetupMagicList.length;e++)R.removeAniname("mouse_click1"+e),R.removeAniname("mouse_click2"+e),R.removeAniname("mouse_clickPC"+e);for(var t=0;t<I.g_SetupMagicList.length;t++){var i=I.g_SetupMagicList[t],n=this.PanType1.children[t],l=this.PanType2.children[t];if(i&&n){var a=i.Def.btEffect,o=i.Def.wMagicId;if(24==a&&26==o||53==a&&76==o||43==a&&95==o||38==a&&43==o||23==a&&25==o||13==a&&12==o)if(I.g_isOnWindows);else{var s=R.playframe(!1,n,"Animation/mouse_click/",41,52,100,!0,!1,null,null,null,!1,null,null,t);s&&s.name&&s.node&&(s.name="mouse_click1"+t,s.node.setScale(.66,.66));var c=R.playframe(!1,l,"Animation/mouse_click/",41,52,100,!0,!1,null,null,null,!1,null,null,t);switch(c&&c.name&&c.node&&(c.name="mouse_click2"+t,c.node.setScale(.66,.66)),a){case 13:s.node.active=c.node.active=I.GlobalCfglist.z_autoskill_1;break;case 24:s.node.active=c.node.active=I.GlobalCfglist.z_autoskill_2;break;case 23:s.node.active=c.node.active=I.GlobalCfglist.z_autoskill_3;break;case 43:s.node.active=c.node.active=I.GlobalCfglist.z_autoskill_4;break;case 53:s.node.active=c.node.active=I.GlobalCfglist.zs_zrjf;break;case 38:s.node.active=c.node.active=I.GlobalCfglist.zs_lyjf}}}}},a.eventMgrResetIconHandler=function(){for(var e=0;e<I.g_SetupMagicList.length;e++)null!=I.g_SetupMagicList[e]&&(I.isJava?(j.loadResLocal("SetSkill/java_btn_mainskill_03.png",this.PanType1.children[e].getComponent(r)),j.loadResLocal("SetSkill/java_btn_mainskill_03.png",this.PanType2.children[e].getComponent(r))):(j.loadResLocal("SetSkill/gxx/att_base.png",this.PanType1.children[e].getComponent(r)),j.loadResLocal("SetSkill/gxx/att_base.png",this.PanType2.children[e].getComponent(r))),this.PanType1.children[e].getChildByName("Label").active=!0,this.PanType1.children[e].skillInfo=null,this.PanType2.children[e].getChildByName("Label").active=!0,this.PanType2.children[e].skillInfo=null),R.removeAniname("mouse_click1"+e),R.removeAniname("mouse_click2"+e),R.removeAniname("mouse_clickPC"+e),this.PanType1.children[e].getChildByName("cdMask")&&this._skillCDPool.put(this.PanType1.children[e].getChildByName("cdMask")),this.PanType2.children[e].getChildByName("cdMask")&&this._skillCDPool.put(this.PanType2.children[e].getChildByName("cdMask")),this.unschedule(this.skillCDTimerHandler),this.cdlist=[],this.timelist=[]},a.iconAngleCorrection=function(e){void 0===e&&(e=0);for(var t=this.PanType2.children,i=0;i<8;i++)t[i].angle=e},a.onTouchStart=function(e){e.preventSwallow=!0;var t=e;this._curbase_rotation=this.getEvtAngle(t),this._realAngle=this.PanType2.angle},a.onTouchMove=function(e){var t=e,i=this.getEvtAngle(t)-this._curbase_rotation+this._currotation;(0==this._realAngle&&1==this._canMoveRight&&i<=0&&i>-90||-90==this._realAngle&&0==this._canMoveRight&&i>=-90&&i<0)&&(this.PanType2.angle=i,this.iconAngleCorrection(-i))},a.onTouchEnd=function(e){e.preventSwallow=!0,this.PanType2.angle<=0&&this.PanType2.angle>-30?(g(this.PanType2).to(.2,{angle:0},{easing:"quartOut"}).start(),this._currotation=0,this._canMoveRight=!0,this.iconAngleCorrection(0)):this.PanType2.angle<=-30&&this.PanType2.angle>-90&&1==this._canMoveRight||this.PanType2.angle>-90&&this.PanType2.angle<=-60&&0==this._canMoveRight?(g(this.PanType2).to(.2,{angle:-90},{easing:"quartOut"}).start(),this._currotation=-90,this._canMoveRight=!1,this.iconAngleCorrection(90)):this.PanType2.angle>-60&&this.PanType2.angle<=0&&(g(this.PanType2).to(.2,{angle:0},{easing:"quartOut"}).start(),this._currotation=0,this._canMoveRight=!0,this.iconAngleCorrection(0))},a.onClickSkillItemHandler=function(e,t){if(e&&null==e.target.skillInfo||null!=t&&null==t.skillInfo)D.raiseEvent(B.ADD_SETSKILL_PREF);else{var i,n;null!=t?(i=t,n=t.skillInfo):(i=e.target,n=e.target.skillInfo);n.Def.btEffect,n.Def.wMagicId;var l=G.findobject(I.playerID);this.checkUseNewLockMechanism(n.Def.btEffect,l.grid,I.g_ClientConfig.MagicAttackRage);var a=null;if(I.g_SetupMagicList.forEach((function(e,t){if(e==n)return a=t})),null!=I.g_SetupMagicList[a]){n=I.g_SetupMagicList[a];var o=G.findobject(I.playerID);if(n&&o){if(this.checkUseNewLockMechanism(n.Def.btEffect,o.grid,I.g_ClientConfig.MagicAttackRage),n.Def.wMagicId>=1e3&&n.Def.wMagicId<=1500)var s=U.findCustomSkill(n.Def.wMagicId,n.Level);var c;if(j.israngeskill(n.Def.btEffect)||s&&s.boFiyFried)if(I.activate_ok&&I.activate_ok.Def.btEffect==n.Def.btEffect&&I.activate_ok.Def.wMagicId==n.Def.wMagicId)I.activate_ok=null,D.raiseEvent(B.SHOW_LOG,[{color:"#ff0000",txt:"技能已取消！"}]),R.removeAniname("mouse_click1"+a),R.removeAniname("mouse_click2"+a);else{D.raiseEvent(B.SHOW_LOG,[{color:"#ff0000",txt:"点击选择释放的区域！"}]);var r=i.idx,h=this.PanType1.children[r],d=this.PanType2.children[r];if(this._preSkillN!=a)console.log("取消当前激活的"+this._preSkillN+"位置技能"),R.removeAniname("mouse_click1"+this._preSkillN),R.removeAniname("mouse_click2"+this._preSkillN),this._preSkillN=a;else if(this._preSkillN==a)if(h.getChildByName("AniPrefab"))R.removeAniname("mouse_click1"+a);else{var g=R.playframe(!1,h,"Animation/mouse_click/",41,52,100,!0,!1);g&&g.node&&g.name&&(g.name="mouse_click1"+a,g.node.setScale(.66,.66));var m=R.playframe(!1,d,"Animation/mouse_click/",41,52,100,!0,!1);m&&m.node&&m.name&&(m.name="mouse_click2"+a,m.node.setScale(.66,.66))}I.activate_ok=n,R.removeAniname("mouse_click1"+a),R.removeAniname("mouse_click2"+a),R.removeAniname("mouse_clickPC"+a);var u=R.playframe(!1,h,"Animation/mouse_click/",41,52,100,!0,!1);u&&u.node&&u.name&&(u.name="mouse_click1"+a,u.node.setScale(.66,.66));var p=R.playframe(!1,d,"Animation/mouse_click/",41,52,100,!0,!1);p&&p.node&&p.name&&(p.name="mouse_click2"+a,p.node.setScale(.66,.66))}else if(j.judgeMagicMp(n,o))I.g_ClientConfig.boDisabledDoubleFireHitSkill&&24==n.Def.btEffect&&26==n.Def.wMagicId&&(c=!0),x.useskill(n.Def.btEffect,n.Def.wMagicId,null,n.Level,c),I.activate_skilluse=n.Def.btEffect,I.activate_skilltype=n.Def.wMagicId;else D.raiseEvent(B.SHOW_LOG,[{color:"#ff0000",txt:"魔法不足"}])}}var f=R.playframe(!1,i,"Animation/skill/",1,8,50,!1,!0);f&&f.node&&f.name&&(f.name="click_skill")}},a.rangeskillani=function(e){},a.checkUseNewLockMechanism=function(e,t,i){if(void 0===i&&(i=10),!I.lockingID){var n=!1;if((20==e||j.checkManualSkill(e,I.GlobalCfglist.manualIceRoar,31)||j.checkManualSkill(e,I.GlobalCfglist.manualHurricaneSkill,47)||j.checkManualSkill(e,I.GlobalCfglist.manualBombFire,21)||j.checkManualSkill(e,I.GlobalCfglist.manualIncendiaryShower,51)||8==e&&I.GlobalCfglist.manualFastLight||[2,11,12,15,16,17,26,27,28,29,41,47,99].indexOf(e)>-1)&&(n=!0),!n){var l=G.findlateobject1(t,i,1);l||(l=G.findlateobject1(t,i,3)),l&&j.addhalo(l)}}},a.onClickStartBtnAttHandler=function(e){e&&(this._cur_touchID=e.touch.getID()),this._startPos=e.getUILocation(),this.btn_Att.on(m.TOUCH_END,this.onClickEndBtnAttHandler,this),this.btn_Att.on(m.TOUCH_CANCEL,this.onClickEndBtnAttHandler,this)},a.onClickEndBtnAttHandler=function(e){var t=G.findobject(I.playerID);if(null!=t){var i=e.getUILocation(),n=i.x,l=i.y,a=this.btn_Att.getComponent(u).convertToNodeSpaceAR(new p(n,l)),o=Math.atan2(a.y,a.x)/Math.PI;o<0&&(o+=2);var s=f(this._startPos.x,this._startPos.y);if(k.distance(s,i)<10)console.log("移动不大，普通攻击"),this.findAttackTargetByMode(t),D.raiseEvent(B.GAME_DLG_CMD,{id:"actor_att",type:1,target:e.target});else if(o<=1.75&&o>=.75){console.log("怪物区间"),(r=G.findlateobject1(t.grid,9,1))?j.addhalo(r):w.handlerAlert({type:1,content:"当前没有目标"});var c=R.playframe(!1,this.btn_Att,"Animation/skill/",24,31,50,!1,!0,C(-10.4,-12.3));c&&c.node&&(c.node.setScale(.53,.53),c.name="mon_atteffect")}else{var r;console.log("玩家区间"),(r=G.findlateobject1(t.grid,9,3))?j.addhalo(r):w.handlerAlert({type:1,content:"当前没有目标"});var h=R.playframe(!1,this.btn_Att,"Animation/skill/",16,23,50,!1,!0,C(15.1,10.4));h&&h.node&&(h.node.setScale(.53,.53),h.name="player_atteffect")}this.btn_Att.off(m.TOUCH_END,this.onClickEndBtnAttHandler,this),this.btn_Att.off(m.TOUCH_CANCEL,this.onClickEndBtnAttHandler,this)}},a.onClickStartBtnStormHandler=function(){this.onStorm(),this.schedule(this.onStorm,.1,_.REPEAT_FOREVER,.5)},a.onClickEndBtnStormHandler=function(){console.log("强攻注销"),this.unschedule(this.onStorm)},a.onStorm=function(){console.log("执行"),x.storm()},a.findAttackTargetByMode=function(e){if(!I.lockingID){var t,i=I.g_GameConfigWEB.funActivity.atkRange;(t=G.findlateobject1(e.grid,i,1))||(t=G.findlateobject1(e.grid,i,3)),t&&j.addhalo(t)}},a.evtMgrSetSkillCDHandler=function(e){var t=this;if(this.cdlist[e]=U.checklegal(I.g_SetupMagicList[e].Def.btEffect,I.g_SetupMagicList[e].Def.wMagicId)/1e3,0!=this.cdlist[e]&&this.PanType1.children[e]&&this.PanType2.children[e]){var i=null,n=null;this.PanType1.children[e].getChildByName("cdMask")&&this._skillCDPool.put(this.PanType1.children[e].getChildByName("cdMask")),this.PanType2.children[e].getChildByName("cdMask")&&this._skillCDPool.put(this.PanType2.children[e].getChildByName("cdMask")),this._skillCDPool.size()>0?i=this._skillCDPool.get():this.cdMask?i=v(this.cdMask):this.createSkillMask((function(){i=v(t.cdMask)})),this._skillCDPool.size()>0?n=this._skillCDPool.get():this.cdMask?n=v(this.cdMask):this.createSkillMask((function(){n=v(t.cdMask)})),i&&(this.PanType1.children[e].addChild(i),this.PanType1.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange=1),n&&(this.PanType2.children[e].addChild(n),this.PanType2.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange=1),this.timelist[e]=this.cdlist[e]/(this.cdlist[e]/.05),this.timelist[e+8]=1/(this.cdlist[e]/.05),this.isClearTimer=!1,y.getScheduler().isScheduled(this.skillCDTimerHandler,this)||this.schedule(this.skillCDTimerHandler,.05)}},a.skillCDTimerHandler=function(){for(var e=0;e<8;e++)if(this.cdlist[e]&&this.PanType1.children[e].getChildByName("cdMask")){this.PanType1.children[e].getChildByName("cdMask").getChildByName("cdLabel").getComponent(T).string=this.cdlist[e].toFixed(1)+"",this.PanType1.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange-=this.timelist[e+8];var t=this.PanType1.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange;this.PanType2.children[e].getChildByName("cdMask").getChildByName("cdLabel").getComponent(T).string=this.cdlist[e].toFixed(1)+"",this.PanType2.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange-=this.timelist[e+8];this.PanType2.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange;this.cdlist[e]-=this.timelist[e],t<=0&&(this.PanType1.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange=1,this._skillCDPool.put(this.PanType1.children[e].getChildByName("cdMask")),this.PanType2.children[e].getChildByName("cdMask").getChildByName("singleColor").getComponent(r).fillRange=1,this._skillCDPool.put(this.PanType2.children[e].getChildByName("cdMask")),this.cdlist[e]=null)}for(var i=0;i<8;i++){if(this.cdlist[i]){this.isClearTimer=!1;break}this.isClearTimer=!0}this.isClearTimer&&this.unschedule(this.skillCDTimerHandler)},a.createSkillMask=function(e){var t=this;O.resLoad("SetSkill/default_sprite_splash.png",(function(i){t.cdMask=new s("cdMask"),t.cdMask.addComponent(S).type=S.Type.GRAPHICS_ELLIPSE,t.cdMask.getComponent(S).segments=20,t.cdMask.layer=M.Enum.UI_2D,t.cdMask.getComponent(u).setContentSize(b(57,57));var n=new s("singleColor");n.addComponent(r).spriteFrame=i,n.layer=M.Enum.UI_2D,n.getComponent(u).setContentSize(b(t.cdMask.getComponent(u).width,t.cdMask.getComponent(u).width)),n.getComponent(r).color.set(97,97,97,180),n.getComponent(r).type=r.Type.FILLED,n.getComponent(r).fillType=r.FillType.RADIAL,n.getComponent(r).fillCenter=f(.5,.5),n.getComponent(r).fillStart=.25,n.getComponent(r).fillRange=1,n.setParent(t.cdMask);var l=new s("cdLabel");l.addComponent(T).string="",l.addComponent(A).width=1,l.getComponent(T).fontSize=25,l.getComponent(T).lineHeight=25,l.layer=M.Enum.UI_2D,l.setParent(t.cdMask),e&&e()}))},a.registeEventListener=function(){for(var e=0;e<this.PanType1.children.length;e++)this.PanType1.children[e].on(P.EventType.TOUCH_END,this.onClickSkillItemHandler,this),this.PanType2.children[e].on(P.EventType.TOUCH_END,this.onClickSkillItemHandler,this);this.MoveNode.on(P.EventType.TOUCH_START,this.onTouchStart,this),this.MoveNode.on(P.EventType.TOUCH_MOVE,this.onTouchMove,this),this.MoveNode.on(P.EventType.TOUCH_END,this.onTouchEnd,this),this.MoveNode.on(P.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btn_Att.on(m.TOUCH_START,this.onClickStartBtnAttHandler,this),this.btn_Storm.on(m.TOUCH_START,this.onClickStartBtnStormHandler,this),this.btn_Storm.on(m.TOUCH_END,this.onClickEndBtnStormHandler,this),D.addEventListener(B.UPDATE_ICON,this.eventMgrUpdateIconHandler,this),D.addEventListener(B.REMOVE_MAGIC,this.eventMgrResetIconHandler,this),D.addEventListener(B.CHANGE_TYPE,this.eventMgrChangeType,this),D.addEventListener(B.SKILL_CD_ANI,this.evtMgrSetSkillCDHandler,this),D.addEventListener(B.SETAUTOSKILLANI,this.setAutoSkillAni,this)},a.unRegisterEvents=function(){for(var e=0;e<this.PanType1.children.length;e++)this.PanType1.children[e].off(P.EventType.TOUCH_END,this.onClickSkillItemHandler,this),this.PanType2.children[e].off(P.EventType.TOUCH_END,this.onClickSkillItemHandler,this);this.unscheduleAllCallbacks(),this.MoveNode.off(P.EventType.TOUCH_START,this.onTouchStart,this),this.MoveNode.off(P.EventType.TOUCH_MOVE,this.onTouchMove,this),this.MoveNode.off(P.EventType.TOUCH_END,this.onTouchEnd,this),this.MoveNode.off(P.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btn_Att.off(m.TOUCH_START,this.onClickStartBtnAttHandler,this),this.btn_Storm.off(m.TOUCH_START,this.onClickStartBtnStormHandler,this),this.btn_Storm.off(m.TOUCH_END,this.onClickEndBtnStormHandler,this),D.removeEventListener(B.UPDATE_ICON,this.eventMgrUpdateIconHandler,this),D.removeEventListener(B.REMOVE_MAGIC,this.eventMgrResetIconHandler,this),D.removeEventListener(B.CHANGE_TYPE,this.eventMgrChangeType,this),D.removeEventListener(B.SKILL_CD_ANI,this.evtMgrSetSkillCDHandler,this),D.removeEventListener(B.SETAUTOSKILLANI,this.setAutoSkillAni,this)},a.getEvtAngle=function(e){var t=e.getUILocation().x,i=e.getUILocation().y,n=this.MoveNode.getComponent(u).convertToNodeSpaceAR(new p(t,i));return E(Math.atan2(n.y,n.x))},a.eventMgrChangeType=function(e){e==H.MATRIX?(this.PanType1.active=!0,this.PanType2.active=this.sp_line.active=!this.PanType1.active):(this.PanType1.active=!1,this.PanType2.active=this.sp_line.active=!this.PanType1.active),this.PanType1.getComponentsInChildren(L).filter((function(e){e.play()})),this.PanType2.getComponentsInChildren(L).filter((function(e){e.play()}))},t}(N)).prototype,"PanType1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Z.prototype,"PanType2",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Z.prototype,"MoveNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Z.prototype,"SpattBase",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Z.prototype,"btn_Att",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Z.prototype,"btn_Storm",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Z.prototype,"sp_line",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=Z))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainSocialize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameUtil.ts"],(function(e){"use strict";var i,t,n,o,r,a,l,s,c,g,u,d,p,h,f,_,T,m,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.ToggleContainer,s=e.Node,c=e.Prefab,g=e.Toggle,u=e.NodeEventType,d=e.Sprite,p=e.instantiate,h=e.find,f=e.Component},function(e){_=e.EventMgr},function(e){T=e.Config},function(e){m=e.default},function(e){b=e.GameUtil}],execute:function(){var v,w,C,E,y,I,z,F,M,V,N,R,S,A,D,P,k,B,G;r._RF.push({},"6f5bfEBO7hGX4Chp3KRwrzU","MainSocialize",void 0);var L=a.ccclass,x=a.property;e("MainSocialize",(v=L("MainSocialize"),w=x(l),C=x(s),E=x(s),y=x(c),I=x(s),z=x(g),F=x(g),M=x(g),v((R=i((N=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"tog_Menue",R,o(i)),n(i,"arr_View",S,o(i)),n(i,"tipNode",A,o(i)),n(i,"pref_FriendTip",D,o(i)),n(i,"btn_close",P,o(i)),n(i,"Toggle1",k,o(i)),n(i,"Toggle2",B,o(i)),n(i,"Toggle3",G,o(i)),i._AddFriendTip=null,i._preIdx=-1,i}t(i,e);var r=i.prototype;return r.onLoad=function(){var e=this;this.node.on(u.ACTIVE_IN_HIERARCHY_CHANGED,(function(i){i.active?e.registerEvents():e.unRegisterEvents()}),this)},r.start=function(){b.loadResLocal("public/btn_close (2).png",this.btn_close.getComponent(d)),b.loadResLocalToggle("Socialize/redPacket_bar.png","Socialize/redPacket_bar (2).png",this.Toggle1,this.Toggle1.checkMark),b.loadResLocalToggle("Socialize/friend_bar.png","Socialize/friend_bar (2).png",this.Toggle2,this.Toggle2.checkMark),b.loadResLocalToggle("Socialize/temp_bar.png","Socialize/temp_bar (2).png",this.Toggle3,this.Toggle3.checkMark),this.setTabShowByConfig()},r.setTabShowByConfig=function(){var e=T.g_GameConfigWEB.funActivity.fun;e&&(0==e.hongBao&&(this.tog_Menue.toggleItems[0].node.active=!1),0==e.haoYou&&(this.tog_Menue.toggleItems[1].node.active=!1),0==e.zuDui&&(this.tog_Menue.toggleItems[2].node.active=!1),e.hongBao||e.haoYou?e.hongBao||this.changeView(1):this.changeView(2))},r.onToggleHandler=function(e){var i;this.tog_Menue.toggleItems.forEach((function(t,n){try{if(t.node==e.target)throw i=n,Error()}catch(e){}})),this.changeView(i)},r.changeView=function(e){e!=this._preIdx&&(this.arr_View[e].active=!0,this.tog_Menue.toggleItems[e].isChecked=!0,0==e?(this.arr_View[0].getComponent("RedPacket").updateToView(),this.arr_View[0].getComponent("RedPacket").resetIdx()):2==e&&(this.arr_View[2].getComponent("Team").resetView(),this.arr_View[2].getComponent("Team").updateListData()),-1!=this._preIdx&&(this.arr_View[this._preIdx].active=!1),this._AddFriendTip&&this._AddFriendTip.getParent()&&this._AddFriendTip.getComponent("AddFriendTip").onCloseView(),this._preIdx=e)},r.openAddFriendTip=function(e){this._AddFriendTip=p(this.pref_FriendTip),this._AddFriendTip.setParent(this.tipNode),_.raiseEvent(m.BEOPEN_ADDFRIEND_TIP,e)},r.evtMgrUpdateSocialDirectory=function(e){},r.onCloseView=function(){1==this.arr_View[1].active&&this.arr_View[1].getComponent("Friend").resetView(),this.tog_Menue.toggleItems[0].isChecked=!0,h("Canvas").getComponent("GameScene").node.getChildByName("UIBox").getChildByName("GiveRedPacket")&&h("Canvas").getComponent("GameScene").node.getChildByName("UIBox").getChildByName("GiveRedPacket").getComponent("GiveRedPacket").onCloseView(),this.node.active=!1},r.registerEvents=function(){console.log("注册MainSocialize事件"),_.raiseEvent(m.SEND_FRIEND_INFO,[0,""]),_.addEventListener(m.OPEN_ADDFRIEND_TIP,this.openAddFriendTip,this)},r.unRegisterEvents=function(){console.log("注销MainSocialize事件"),_.removeEventListener(m.OPEN_ADDFRIEND_TIP,this.openAddFriendTip,this)},i}(f)).prototype,"tog_Menue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(N.prototype,"arr_View",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(N.prototype,"tipNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(N.prototype,"pref_FriendTip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(N.prototype,"btn_close",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(N.prototype,"Toggle1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(N.prototype,"Toggle2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(N.prototype,"Toggle3",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=N))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainTopBtnItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Sendmessage.ts"],(function(e){"use strict";var n,t,i,o,r,a,c,s,l,p,u,f,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,s=e.Prefab,l=e.instantiate,p=e.Component},function(e){u=e.EventMgr},function(e){f=e.Config},function(e){h=e.sendmessage}],execute:function(){var b,S,d,g,m,M,k,v,y,R,I,P;r._RF.push({},"44611ocF3ZMpJGhxDedDzru","MainTopBtnItem",void 0);var w=a.ccclass,B=a.property,W=a.menu;e("default",(b=w("MainTopBtnItem"),S=W("实例模块/MainTopBtnItem"),d=B(c),g=B(s),m=B(s),M=B(s),b(k=S((y=n((v=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"btnListNode",y,o(n)),i(n,"rankPrefab",R,o(n)),i(n,"shopPrefab",I,o(n)),i(n,"rechargePrefab",P,o(n)),n}t(n,e);var r=n.prototype;return r.start=function(){u.addEventListener("openUIRankWin",this.onClickRankBtn,this)},r.onClickBtn=function(){this.btnListNode.active=!this.btnListNode.active},r.onClickRankBtn=function(){if(f.MainScene.openRank)f.MainScene.closeWindow("RankWin");else{var e=l(this.rankPrefab);f.MainScene.openRank=!0,f.MainScene.openWindow(e),h.requestRankDataByType(0)}},r.onClicShopBtn=function(){if(f.MainScene.openShop)f.MainScene.closeWindow("ShopWin");else{h.GetShopItems(0,1),h.GetShopItems(1,1),h.GetShopItems(2,1),h.GetShopItems(3,1),h.GetShopItems(4,1),h.GetStrangeItems();var e=l(this.shopPrefab);f.MainScene.openShop=!0,f.MainScene.openWindow(e)}},r.onClickRecharge=function(){if(f.MainScene.openRecharge)f.MainScene.closeWindow("RechargeWin");else{var e=l(this.rechargePrefab);f.MainScene.openWindow(e)}},r.onDestroy=function(){u.removeEventListener("openUIRankWin",this.onClickRankBtn,this)},n}(p)).prototype,"btnListNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(v.prototype,"rankPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(v.prototype,"shopPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(v.prototype,"rechargePrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=v))||k)||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainTopMiniMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./MapData.ts","./ResourcesMgr.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./RGBCode.ts","./GameUtil.ts","./MiniMapWin.ts"],(function(i){"use strict";var t,e,o,n,a,r,s,p,m,l,g,h,c,u,d,f,M,_,b,v,C,y,w,S,P,N,L,I,x,z,F,E;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Node,p=i.Prefab,m=i.Label,l=i.Sprite,g=i.UITransform,h=i.view,c=i.Vec3,u=i.tween,d=i.color,f=i.instantiate,M=i.v3,_=i.sys,b=i.Layers,v=i.LabelOutline,C=i.Component},function(i){y=i.EventMgr},function(i){w=i.Config},function(i){S=i.default},function(i){P=i.Mapdata},function(i){N=i.resourcesMgr},function(i){L=i.Objectcontrol},function(i){I=i.ObjectManage},function(i){x=i.sendmessage},function(i){z=i.rgbCode},function(i){F=i.GameUtil},function(i){E=i.default}],execute:function(){var j,A,D,B,T,G,R,O,U,W,X,k,Y,J,V,K,Q,H,Z,q,$,ii,ti,ei;a._RF.push({},"c0c49PCAyRJObJQK7KZ/FQz","MainTopMiniMap",void 0);var oi=r.ccclass,ni=r.property,ai=r.menu;i("default",(j=oi("MainTopMiniMap"),A=ai("实例模块/MainTopMiniMap"),D=ni(s),B=ni(p),T=ni(m),G=ni(m),R=ni(m),O=ni(s),U=ni(s),W=ni(s),X=ni(s),k=ni(l),j(Y=A((V=t((J=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,o(t,"miniMapNode",V,n(t)),o(t,"minMapPrefab",K,n(t)),o(t,"mapName",Q,n(t)),o(t,"mapGrid",H,n(t)),o(t,"mapSafe",Z,n(t)),o(t,"pl_mini",q,n(t)),o(t,"root_img",$,n(t)),o(t,"cover_sp",ii,n(t)),o(t,"obj_self",ti,n(t)),o(t,"mapBtn",ei,n(t)),t.minipoint_visible=!1,t.isShowMap=!0,t.isMove=!1,t.mapid=0,t.isFirst=!0,t}e(t,i);var a=t.prototype;return a.start=function(){var i=this.miniMapNode.getComponent(l);F.loadResLocal("gameres/ui/dir_0.png",this.obj_self.getComponent(l)),F.loadResLocal("GameScene/gxx/minimapkuang.png",i),F.loadResLocal("GameScene/gxx/minimapjian.png",this.mapBtn),this.initMgr(),this.cover_sp.getComponent(g).height=h.getVisibleSize().height/20,this.cover_sp.getComponent(g).width=h.getVisibleSize().width/20},a.initMgr=function(){y.addEventListener(S.UPDATEPOS_SAFE,this.updateInfo,this),y.addEventListener(S.INIT_MINI_MAP_WIN,this.openMiniMapWin,this),y.addEventListener(S.UPDATE_MAIN_MINI_MAP_INFO,this.updatemini,this),y.addEventListener(S.DRAWMINIMAP,this.drawminimap,this),y.addEventListener(S.UPDATE_MAIN_MINI_MAP_NULL,this.setMiniMapNull,this)},a.setMiniMapNull=function(){this.root_img.getComponent(l).spriteFrame=null},a.onClickLeftMapBtn=function(){var i=this;if(!this.isMove)if(this.isMove=!0,this.isShowMap){var t=new c,e=this.miniMapNode.getPosition();t.x=e.x+150,t.y=e.y,u(this.miniMapNode).to(.5,{position:t}).call((function(){i.isShowMap=!1,i.isMove=!1})).start()}else{var o=new c,n=this.miniMapNode.getPosition();o.x=n.x-150,o.y=n.y,u(this.miniMapNode).to(.5,{position:o}).call((function(){i.isShowMap=!0,i.isMove=!1})).start()}},a.updatemini=function(i){if(i){var t=i[0],e=i[1];this.updateminimap(this.pl_mini,t,e)}},a.updateInfo=function(i){var t=i;t&&(this.mapName.string=t.mapName,this.mapGrid.string=t.posX+":"+t.posY,t.isSafe?(this.mapSafe.string="安全区域",this.mapSafe.color=d("#47ff00")):(this.mapSafe.string="危险区域",this.mapSafe.color=d("#ff0000")))},a.onClickMiniMapBtn=function(){w.isOpen&&(w.open_minimap=!0),x.sendOpenMinimap()},a.openMiniMapWin=function(i){if(!w.MainScene.openMiniMap){var t=f(this.minMapPrefab);w.MainScene.openWindow(t),t.getComponent(E).setMapdata(i)}},a.drawminimap=function(i){var t=this;if(console.log("mapid=",i),i!=this.mapid){this.mapid=i,this.root_img.getComponent(l).spriteFrame=null,this.root_img.children.forEach((function(i,t){"cover_sp"!=i.name?i.destroy():i.removeFromParent()}));var e=this.root_img.getChildByName("descName");if(e&&e.destroy(),this.minipoint_visible=!1,i>=0&&i<=65535){var o="",n=0;i>=1e4?(o="mmap10",n=i-1e4):i>=999?(o="mmap",n=i-999):i>=800?(o="mmap1",n=i-800):(o="mmap",n=i);var a=F.loadImgData(n,o),r=a.plist;10028==i&&(r=w.defaultPath+"mmap10/000028.plist"),N.handleLoad(r,(function(i){if(i&&t.root_img){var e=i.getSpriteFrame(a.img);e&&(t.root_img.getComponent(l).spriteFrame=e,F.getMapLayerScript().setThumb(e.clone()),t.drawDesc(),t.minipoint_visible=!0)}else w.CurScene.maplayer.getComponent(l).spriteFrame=null}))}else w.CurScene.maplayer.getComponent(l).spriteFrame=null}},a.updateminimap=function(i,t,e){if(this.minipoint_visible&&this.root_img&&this.root_img.getComponent(g).width&&this.root_img.getComponent(g).height&&F.getMapLayerScript().mapMaxX){var o=this.root_img.getComponent(g).width/F.getMapLayerScript().mapMaxX*t,n=this.root_img.getComponent(g).height/F.getMapLayerScript().mapMaxY*e;t=Math.floor(-(o-i.getComponent(g).width/2)),e=Math.floor(-(n-i.getComponent(g).height/2)),t>this.root_img.getComponent(g).width&&(t=0),e>0&&(e=0),this.root_img.setPosition(t,-e),this.root_img.getPosition().x<=-this.root_img.getComponent(g).width+i.getComponent(g).width&&this.root_img.setPosition(-this.root_img.getComponent(g).width+i.getComponent(g).width,-e),this.root_img.getPosition().x>=0&&this.root_img.setPosition(0,-e),-this.root_img.getPosition().y<=-this.root_img.getComponent(g).height+i.getComponent(g).height&&this.root_img.setPosition(this.root_img.getPosition().x,-(-this.root_img.getComponent(g).height+i.getComponent(g).height)),-this.root_img.getPosition().y>=0&&this.root_img.setPosition(this.root_img.getPosition().x,0),this.updateCameraPos();var a=I.findobject(w.playerID);a&&(this.obj_self.angle=45*-a.cur_dir)}},a.updateCameraPos=function(){var i=this.root_img.getComponent(g).width/F.getMapLayerScript().mapMaxX,t=this.root_img.getComponent(g).height/F.getMapLayerScript().mapMaxY,e=i*(L.self_obj.grid.x-1)-1.5,o=t*(L.self_obj.grid.y-1)-1.5;this.cover_sp.setPosition(M(e,-o))},a.drawDesc=function(){var i=this.root_img.getComponent(g).width/F.getMapLayerScript().mapMaxX,t=this.root_img.getComponent(g).height/F.getMapLayerScript().mapMaxY,e=JSON.parse(_.localStorage.getItem("g_mapdesc"));if(e){for(var o=0;o<e.length;o++){var n=e[o];if(n&&n.length>5&&n[0]==P.cur_name&&"1"==n[5]){var a=new s;a.layer=b.Enum.UI_2D;a.addComponent(g);var r=a.addComponent(m),p=a.addComponent(v);r.string=n[3],r.fontSize=14,r.color=d("#"+z.Get3RGB(n[4].substr(1))),p.width=1,p.color=d("#000000"),a.name="descName",r.isBold=!0;var l=parseInt(n[1])*i,h=parseInt(n[2])*t;a.setPosition(l,-h),this.root_img.addChild(a)}}this.root_img.addChild(this.cover_sp),this.isFirst&&(this.isFirst=!1,this.root_img.getChildByName("cover_sp").removeFromParent(),this.root_img.addChild(this.cover_sp))}},t}(C)).prototype,"miniMapNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(J.prototype,"minMapPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(J.prototype,"mapName",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(J.prototype,"mapGrid",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(J.prototype,"mapSafe",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(J.prototype,"pl_mini",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(J.prototype,"root_img",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=t(J.prototype,"cover_sp",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=t(J.prototype,"obj_self",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=t(J.prototype,"mapBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=J))||Y)||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/MakeDeal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts","./DragItem.ts"],(function(e){"use strict";var t,i,n,a,o,r,l,s,u,d,m,c,g,_,h,p,f,L,H,M,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Button,s=e.Sprite,u=e.Label,d=e.Node,m=e.EditBox,c=e.Component},function(e){g=e.EventMgr},function(e){_=e.Config},function(e){h=e.default},function(e){p=e.uiControl},function(e){f=e.ObjectManage},function(e){L=e.Sendmessage},function(e){H=e.GameUtil},function(e){M=e.DragItem,b=e.e_DragItem_Type}],execute:function(){var v,y,E,S,I,G,C,R,w,D,k,B,J,Y,O,T,U,N,x,F,z,P,j,A,W;o._RF.push({},"a48d8+b+PJLgp9TGHPEgM6i","MakeDeal",void 0);var Q=r.ccclass,V=r.property;e("MakeDeal",(v=Q("MakeDeal"),y=V(l),E=V(l),S=V(l),I=V(s),G=V(s),C=V(u),R=V(u),w=V(u),D=V(d),k=V(d),B=V(m),v((O=t((Y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"Btn_Close",O,a(t)),n(t,"Btn_QueR",T,a(t)),n(t,"Btn_Ok",U,a(t)),n(t,"sp1",N,a(t)),n(t,"sp2",x,a(t)),n(t,"lab_HumName",F,a(t)),n(t,"lab_MeName",z,a(t)),n(t,"lab_Hum_Gold",P,a(t)),n(t,"lay_HumList",j,a(t)),n(t,"lay_MeList",A,a(t)),n(t,"Edit_Me_Gold",W,a(t)),t.nGold=0,t.humSelectIdx=-1,t.meSelectIdx=-1,t}i(t,e);var o=t.prototype;return o.start=function(){H.loadResLocal("makeDeal/jiaoyibg.png",this.node.getComponent(s)),H.loadResLocalButton("public/btn_close_new.png","public/btn_close_new (2).png",this.Btn_Close),H.loadResLocalButton("public/btn_ok.png","public/btn_ok (2).png",this.Btn_QueR),H.loadResLocalButton("public/btn_ok.png","public/btn_ok (2).png",this.Btn_Ok),H.loadResLocal("GameScene/00002.png",this.sp1),H.loadResLocal("GameScene/00002.png",this.sp2);for(var e=0;e<_.g_HumJiaoYiList.length;e++)_.g_HumJiaoYiList[e]=null;for(var t=0;t<this.lay_MeList.children.length;t++)H.loadResLocal("BagWin/newItemFrame.png",this.lay_MeList.children[t].getComponent(s)),H.loadResLocal("BagWin/newItemFrame.png",this.lay_HumList.children[t].getComponent(s)),this.lay_MeList.children[t].getChildByName("itemSprite").getComponent(s).spriteFrame=null;M.dragItemType=b.jiaoyiItem,this.registerEvents(),this.updateView(),this.initMeList()},o.initMeList=function(){for(var e=this.lay_MeList.children,t=0;t<e.length;t++){var i=e[t],n={itemsData:_.g_MyJiaoYiList,selectIndex:this.meSelectIdx,hasBgFrame:!0,maxUnlockCount:void 0,itemType:b.jiaoyiItem};i.getComponent(M).showItemUI(n,t)}},o.updateView=function(){_.g_OpenJiaoYi=!0,this.lab_Hum_Gold.string="0",this.Edit_Me_Gold.string="0",""!=_.G_Trade_Other_Name&&(this.lab_HumName.string=_.G_Trade_Other_Name);var e=f.findobject(_.playerID).txt_name.nameList[0];this.lab_MeName.string=e},o.onClickBtnQRHandler=function(){var e=parseInt(this.Edit_Me_Gold.string);if(isNaN(e)&&(e=0),e>_.g_GameCionNum.value){return p.handlerAlert({type:1,content:"金币不足，请重新输入！"}),void(this.Edit_Me_Gold.string="0")}this.Edit_Me_Gold.enabled=!1,e>0?(L.getInstance().TradeGold(e),this.nGold=e,_.g_MyJiaoYiSum=e):this.Edit_Me_Gold.string=e+""},o.onClickOkHandler=function(){this.Edit_Me_Gold.enabled=!1,L.getInstance().SubmitTrade()},o.onCloseView=function(){for(var e=0;e<_.g_HumJiaoYiList.length;e++)_.g_HumJiaoYiList[e]=null;for(var t=0;t<_.g_MyJiaoYiList.length;t++)_.g_MyJiaoYiList[t]=null;_.g_OpenJiaoYi=!1,L.getInstance().CancelTrade(),this.unRegisterEvents(),this.node.destroy(),this.node.removeFromParent()},o.onClickHumItemHandler=function(){_.g_OpenIdx=5},o.onClickMetemHandler=function(){_.g_OpenIdx=12},o.onClickOtherItemHandle=function(e){var t=e.target.dataSource;t&&H.newShowItemsInf(t,null)},o.evtMgrUpdateHumListRefreshHandler=function(){for(var e=this,t=function(t){if(t<10&&null!=_.g_HumJiaoYiList[t]){H.loadImg(_.g_HumJiaoYiList[t].s.Looks,"items",(function(i){e.lay_HumList.children[t].getChildByName("itemSprite").getComponent(s).spriteFrame=i.data.getSpriteFrame(i.nOffset.img),e.lay_HumList.children[t].dataSource=_.g_HumJiaoYiList[t]}));var i=_.g_HumJiaoYiList[t].s.StdMode;if((17==i||18==i||41==i||40==i||42==i||31==i&&-1!=_.g_HumJiaoYiList[t].s.Name.indexOf("经验卷轴"))&&_.g_HumJiaoYiList[t].s.Reserved>0&&_.g_HumJiaoYiList[t].Dura>0){var n=e.lay_HumList.children[t].getChildByName("itemNum");n||H.setCanAddTxtStroke(n),n.getComponent(u).string="x"+(_.g_HumJiaoYiList[t].Dura+1)}else if(0==i&&5==_.g_HumJiaoYiList[t].s.Source&&_.g_HumJiaoYiList[t].Dura>0){var a=e.lay_HumList.children[t].getChildByName("itemNum");a||H.setCanAddTxtStroke(a),a.getComponent(u).string="x"+_.g_HumJiaoYiList[t].Dura}}},i=0;i<12;i++)t(i)},o.evtMgrUpdateMeListRefreshHandler=function(){console.log("更新我的交易栏");for(var e=this.lay_MeList.children,t=0;t<e.length;t++){var i=e[t],n={itemsData:_.g_MyJiaoYiList,selectIndex:this.meSelectIdx,hasBgFrame:!0,maxUnlockCount:void 0,itemType:b.jiaoyiItem};i.dataSource=_.g_MyJiaoYiList[t],i.getComponent(M).showItemUI(n,t)}},o.evtMgrShowMeGoldHandler=function(e){this.Edit_Me_Gold.string=e},o.evtMgrShowHumGoldHandler=function(e){this.lab_Hum_Gold.string=e},o.registerEvents=function(){console.log("注册MakeDeal事件"),g.addEventListener(h.UPDATE_HUM_LIST_REFRESH,this.evtMgrUpdateHumListRefreshHandler,this),g.addEventListener(h.UPDATE_ME_LIST_REFRESH,this.evtMgrUpdateMeListRefreshHandler,this),g.addEventListener(h.SHOW_ME_GOLD,this.evtMgrShowMeGoldHandler,this),g.addEventListener(h.SHOW_HUM_GOLD,this.evtMgrShowHumGoldHandler,this)},o.unRegisterEvents=function(){console.log("注销MakeDeal事件"),g.removeEventListener(h.UPDATE_HUM_LIST_REFRESH,this.evtMgrUpdateHumListRefreshHandler,this),g.removeEventListener(h.UPDATE_ME_LIST_REFRESH,this.evtMgrUpdateMeListRefreshHandler,this),g.removeEventListener(h.SHOW_ME_GOLD,this.evtMgrShowMeGoldHandler,this),g.removeEventListener(h.SHOW_HUM_GOLD,this.evtMgrShowHumGoldHandler,this)},o.update=function(e){},t}(c)).prototype,"Btn_Close",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(Y.prototype,"Btn_QueR",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(Y.prototype,"Btn_Ok",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(Y.prototype,"sp1",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(Y.prototype,"sp2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(Y.prototype,"lab_HumName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(Y.prototype,"lab_MeName",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(Y.prototype,"lab_Hum_Gold",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(Y.prototype,"lay_HumList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(Y.prototype,"lay_MeList",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(Y.prototype,"Edit_Me_Gold",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=Y))||J));o._RF.pop()}}}));

System.register("chunks:///_virtual/MapBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,o,c,e;return{setters:[function(t){r=t.inheritsLoose},function(t){o=t.cclegacy,c=t._decorator,e=t.Component}],execute:function(){var n;o._RF.push({},"0f2a48UJDdAS4ELKHd4r0g7","MapBlock",void 0);var a=c.ccclass;c.property,t("MapBlock",a("MapBlock")(n=function(t){function o(){for(var r,o=arguments.length,c=new Array(o),e=0;e<o;e++)c[e]=arguments[e];return(r=t.call.apply(t,[this].concat(c))||this).resName="",r.px=0,r.py=0,r}r(o,t);var c=o.prototype;return c.start=function(){},c.update=function(t){},o}(e))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/MapData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,a,r,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator,e=t.Node,i=t.Component}],execute:function(){var c,s;a._RF.push({},"78f9ekBAKhNKIEMk65CFzHJ","MapData",void 0);var o=r.ccclass,p=(r.property,t("MapData",o("MapData")(((s=function(t){function a(){for(var n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).map_npc_data=[],n.npc_type=[],n.cur_name="",n.cur_id="",n.cur_type="",n.cur_music=null,n.safeZone=[],n.root_img=new e,n.cover_sp=new e,n.root=new e,n}n(a,t),a.ins=function(){return this._ins||(this._ins=new a),this._ins};var r=a.prototype;return r.start=function(){},r.update=function(t){},r.setdata=function(t,n){this.map_npc_data=t,this.npc_type=n},r.getNPClist=function(){for(var t=new Array,n=0;n<this.map_npc_data.length;++n){var a=this.map_npc_data[n];a.mapid==this.cur_id&&t.push(a)}return t},a}(i))._ins=void 0,c=s))||c));t("Mapdata",p.ins());a._RF.pop()}}}));

System.register("chunks:///_virtual/MapLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./ResourcesMgr.ts","./objectmanage.ts","./Sendmessage.ts","./Astart.ts","./GameUtil.ts","./MapBlock.ts"],(function(e){"use strict";var t,i,n,r,a,o,s,l,u,h,p,c,m,g,y,f,d,_,b,x,L,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Prefab,u=e.Vec2,h=e.Sprite,p=e.UITransform,c=e.v3,m=e.instantiate,g=e.Component},function(e){y=e.EventMgr},function(e){f=e.Config},function(e){d=e.resourcesMgr},function(e){_=e.ObjectManage},function(e){b=e.sendmessage},function(e){x=e.AStart},function(e){L=e.GameUtil},function(e){v=e.MapBlock}],execute:function(){var w,M,z,I,P,S,C,E,A,B,T,D,k,R,U,N,F,O,H,Y,Z,X,W,j,V,G,J,K,q,Q,$,ee,te,ie,ne,re,ae,oe,se,le,ue,he,pe,ce,me,ge,ye,fe,de,_e,be,xe,Le,ve,we,Me,ze,Ie,Pe;a._RF.push({},"6af8arluT9CzZ9KWyHmrBiY","MapLayer",void 0);var Se=o.ccclass,Ce=o.property;e("MapLayer",(w=Se("MapLayer"),M=Ce(s),z=Ce(s),I=Ce(s),P=Ce(s),S=Ce(s),C=Ce(s),E=Ce(s),A=Ce(s),B=Ce(s),T=Ce(s),D=Ce(s),k=Ce(s),R=Ce(s),U=Ce(s),N=Ce(s),F=Ce(s),O=Ce(s),H=Ce(s),Y=Ce(l),Z=Ce(l),X=Ce(l),W=Ce(l),j=Ce(l),V=Ce(l),G=Ce(l),J=Ce(l),K=Ce(l),q=Ce(l),w((ee=t(($=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"mapBlockLayer",ee,r(t)),n(t,"groundBottomLayer",te,r(t)),n(t,"xunluLayer",ie,r(t)),n(t,"mapItemImgLayer",ne,r(t)),n(t,"mapItemLabLayer",re,r(t)),n(t,"effectDownLayer",ae,r(t)),n(t,"horseLayer",oe,r(t)),n(t,"weaponDownLayer",se,r(t)),n(t,"roleDoubleSpLayer",le,r(t)),n(t,"roleSpLayer",ue,r(t)),n(t,"roleDoubleSpLayer2",he,r(t)),n(t,"weaponUpLayer",pe,r(t)),n(t,"roleImgLayer",ce,r(t)),n(t,"roleBloodLayer",me,r(t)),n(t,"roleLabLayer",ge,r(t)),n(t,"roleTitelLayer",ye,r(t)),n(t,"groundTopLayer",fe,r(t)),n(t,"roleMarkLayer",de,r(t)),n(t,"mapBlock",_e,r(t)),n(t,"xunLuPt",be,r(t)),n(t,"mapItemImg",xe,r(t)),n(t,"mapItemLab",Le,r(t)),n(t,"value130",ve,r(t)),n(t,"value150",we,r(t)),n(t,"value170",Me,r(t)),n(t,"value190",ze,r(t)),n(t,"value210",Ie,r(t)),n(t,"value230",Pe,r(t)),t.USE_NEW_MAP_FORMAT=f.mapType,t.MAPHEADSIZE=4,t.MAPPIECESIZE=12,t.NEWMAPPIECESIZE=14,t.RETURNMAPPIECESIZE=36,t.sp_lists=null,t.clear_sp_lists=null,t.grid=null,t.data_lists=null,t.ene_pos=null,t.sceneid=null,t.width_=0,t.height_=0,t.map_data=null,t.pieceSize_=0,t.columnByteSize_=0,t.mapMaxX=0,t.mapMaxY=0,t.maxPicCols=0,t.maxPicRows=0,t.map_flags=null,t.cur_x=0,t.cur_y=0,t.isopendoor=!1,t.mapItemList=null,t}i(t,e);var a=t.prototype;return a.start=function(){this.init()},a.update=function(e){},a.init=function(){var e=this;this.sp_lists=[],this.clear_sp_lists={},this.grid={},this.data_lists=[],this.mapItemList=[],this.ene_pos=new u;var t=this.xunLuPt.data.getComponent(h);L.loadResLocal("gameres/ui/xunlu_point.png",t),this.schedule((function(){e.SceneHeartbeat()}),.5)},a.SceneHeartbeat=function(){if(this.node&&this.node.active){this.xunluLayer.active=this.xunluLayer.children.length>0,this.mapItemImgLayer.active=this.mapItemImgLayer.children.length>0,this.mapItemLabLayer.active=this.mapItemLabLayer.children.length>0,this.roleTitelLayer.active=this.roleTitelLayer.children.length>0;var e=_.object_list;e.sort((function(e,t){return e.sp&&t.sp?(i=e.is_die?-Math.floor(e.node.position.y+100):-Math.floor(e.node.position.y))<(n=t.is_die?-Math.floor(t.node.position.y+100):-Math.floor(t.node.position.y))?-1:i>n?1:0:0;var i,n}));for(var t=0;t<e.length;t++){var i=e[t];i&&i.sp&&(i.node.setSiblingIndex(t),i.sp.setSiblingIndex(t))}}},a.oldMapProcess=function(e,t,i){var n=i&&i.buffer();if(n&&t==this.sceneid){var r=new DataView(n.slice(0,this.MAPHEADSIZE));this.width_=r.getUint16(0,!0),this.height_=r.getUint16(2,!0),this.map_data=n,this.pieceSize_=Math.floor((this.map_data.byteLength-this.MAPHEADSIZE)/(this.width_*this.height_)),this.mapMaxX=this.width_,this.mapMaxY=this.height_;var a=48*this.mapMaxX,o=32*this.mapMaxY;this.maxPicCols=Math.ceil(a/480),this.maxPicRows=Math.ceil(o/512),this.columnByteSize_=this.pieceSize_*this.width_,this.node.getComponent(p).width=this.groundBottomLayer.getComponent(p).width=this.groundTopLayer.getComponent(p).width=a,this.node.getComponent(p).height=this.groundBottomLayer.getComponent(p).height=this.groundTopLayer.getComponent(p).height=o,this.onanalyzeJson()}},a.newMapProcess=function(e,t,i){var n=i&&i.buffer();if(n&&t==this.sceneid){for(var r=n.byteLength-8,a=new DataView(n),o=a.getInt32(r,!0),s=a.getInt32(r+4,!0),l=0,u=new Array(s),h=new Array(s),c=0;c<s;c++){var m=new Array(o),g=new Array(o);u[c]=m,h[c]=g;for(var y=0;y<o;y++)m[y]=a.getInt8(l++),g[y]=0==m[y]?1:0}x.setMapData(this.sceneid,h),a=null,u=null,h=null,this.width_=o,this.height_=s,this.map_data=n,this.map_flags=u,this.pieceSize_=Math.floor((this.map_data.byteLength-this.MAPHEADSIZE)/(this.width_*this.height_)),this.mapMaxX=this.width_,this.mapMaxY=this.height_;var f=48*this.mapMaxX,d=32*this.mapMaxY;this.maxPicCols=Math.ceil(f/480),this.maxPicRows=Math.ceil(d/512),this.columnByteSize_=this.pieceSize_*this.width_,this.node.getComponent(p).width=this.groundBottomLayer.getComponent(p).width=this.groundTopLayer.getComponent(p).width=f,this.node.getComponent(p).height=this.groundBottomLayer.getComponent(p).height=this.groundTopLayer.getComponent(p).height=d,this.onanalyzeJson()}},a.setThumb=function(e){this.node.getComponent(h).spriteFrame=e,this.node.getComponent(p).width=this.groundBottomLayer.getComponent(p).width=this.groundTopLayer.getComponent(p).width=48*this.mapMaxX,this.node.getComponent(p).height=this.groundBottomLayer.getComponent(p).height=this.groundTopLayer.getComponent(p).height=32*this.mapMaxY},a.initmap=function(e,t,i){var n=this;this.width_=0,this.height_=0,this.pieceSize_=0,this.columnByteSize_=0,d.resLoad(e,(function(t){n.USE_NEW_MAP_FORMAT?n.newMapProcess(e,i,t):n.oldMapProcess(e,i,t)}))},a.getFlagByGridPos=function(e){var t=this.map_flags;return t&&t[0]&&e.y<t.length&&e.x<t[0].length?t[e.y][e.x]:0},a.getgridinfo=function(e,t){var i=this.MAPHEADSIZE+this.columnByteSize_*t+e*this.pieceSize_,n=new DataView(this.map_data.slice(i,i+3));return new u(n.getUint8(0),n.getUint16(1,!0))},a.loadmapdata=function(){this.USE_NEW_MAP_FORMAT?this.initmap("map/"+this.sceneid+".bin",!0,this.sceneid):(x.obsdata(this.sceneid),this.initmap("data/mapdata/mapbin/"+this.sceneid+".bin",!0,this.sceneid))},a.enterMap=function(e,t,i,n){this.cur_x==t&&this.cur_y==i&&this.sceneid==e&&(f.rockerlock=!1,f.Actionlock=!1),this.grid={},this.cur_x=t,this.cur_y=i,this.ene_pos.x=t,this.ene_pos.y=i,this.sceneid=e,this.loadmapdata()},a.onLocation=function(e,t){e&&(this.cur_x=e),t&&(this.cur_y=t),y.raiseEvent("LocationLoad",[this.cur_x,this.cur_y])},a.onanalyzeJson=function(){for(var e=0;e<this.sp_lists.length;e++)this.sp_lists[e].active=!1;for(var t=Object.keys(this.clear_sp_lists),i=0;i<t.length;i++)L.clearResByUrl(t[i]);this.clear_sp_lists={},this.grid={},this.drawmap(this.cur_x,this.cur_y),this.drawmask(this.cur_x,this.cur_y),this.onLocation()},a.drawmask=function(e,t){},a.clearMaskImage=function(e,t,i,n){},a.drawmap=function(e,t){if(0!=this.width_){var i=Math.ceil(48*this.width_/480),n=12,r=12;this.USE_NEW_MAP_FORMAT&&(n=10,r=16);var a=Math.floor(e/n),o=Math.floor(t/r);this.cur_x=e,this.cur_y=t,this.ene_pos.x=o,this.ene_pos.y=a,this.clearMapImage();for(var s=-1;s<2;s++)for(var l=-2;l<3;l++)if(o+s>=0&&a+l>=0&&o+s<=this.mapMaxY/r&&a+l<=this.mapMaxX/n)if(this.USE_NEW_MAP_FORMAT){var u=o+s,h=a+l;if(h+1>this.maxPicCols)continue;if(u+1>this.maxPicRows)continue;var p=L.getprefixname(i*u+h,5),c="map/"+this.sceneid+"/"+p+".png";this.newmap_createmaps(c,e,t,s,l,this.ene_pos.x,this.ene_pos.y,u,h)}else{var m=L.getprefixname(o+s,3),g=L.getprefixname(a+l,4);c="data/map/"+this.sceneid+"/"+m+g+".png";this.createmaps(c,e,t,s,l,this.ene_pos.x,this.ene_pos.y)}}},a.createmaps=function(e,t,i,n,r,a,o){var s=this;null==this.grid[e]&&d.resLoad(e,(function(l){if(l&&null!=s.grid){s.grid[e]=1;var u=s.getNode(),p=u.getComponent(v);p.resName=e,p.px=a+n,p.py=o+r,u.getComponent(h).spriteFrame=l;var m=48*(t-12*o),g=32*(i-12*a),y=48*t+r*l.width-m,f=32*i+n*l.height-g;u.setPosition(y,-f),s.clear_sp_lists[e]=c(p.px,p.py)}}))},a.newmap_createmaps=function(e,t,i,n,r,a,o,s,l){var u=this;null==this.grid[e]&&d.resLoad(e,(function(t){if(t&&null!=u.grid){u.grid[e]=1;var i=u.getNode(),p=i.getComponent(v);p.resName=e,p.px=a+n,p.py=o+r,i.getComponent(h).spriteFrame=t;var m=480*l,g=512*s;i.setPosition(m,-g),u.clear_sp_lists[e]=c(p.px,p.py)}}))},a.getNode=function(){var e=this.sp_lists.find((function(e){return 0==e.active}));return e?e.active=!0:((e=m(this.mapBlock)).setSiblingIndex(0),this.mapBlockLayer.addChild(e),this.sp_lists.push(e)),e},a.refreshMapRes=function(){},a.clearMapImage=function(){for(var e=this.sp_lists.length-1;e>=0;e--){var t=this.sp_lists[e],i=t.getComponent(v);t&&(i.px-1>this.ene_pos.x||i.px+1<this.ene_pos.x||i.py-2>this.ene_pos.y||i.py+2<this.ene_pos.y)&&(delete this.grid[i.resName],t.getComponent(h).spriteFrame=null,t.active=!1)}for(var n=Object.keys(this.clear_sp_lists),r=0;r<n.length;r++){var a=this.clear_sp_lists[n[r]];a&&(a.x-1>this.ene_pos.x||a.x+1<this.ene_pos.x||a.y-2>this.ene_pos.y||a.y+2<this.ene_pos.y)&&(L.clearResByUrl(n[r]),delete this.clear_sp_lists[n[r]])}},a.clearMapEveEff=function(){for(var e=this.groundBottomLayer.children.length-1;e>=0;e--){var t=this.groundBottomLayer.children[e];-1!=t.name.indexOf("MapEveEff")&&t.destroy()}},a.pointlegality=function(e){return!(e.x<=0||e.y<=0||e.x>=this.mapMaxX||e.y>=this.mapMaxY)&&(!!(x.cur_matx&&x.cur_matx.length>e.y&&x.cur_matx[0].length>e.x)&&1!=x.cur_matx[e.y][e.x])},a.CanMove=function(e,t,i){if(null==x.cur_matx)return!1;var n=!1;switch(i){case 1:var r=L.getMovePoint(e,t,1);n=this.pointlegality(r),x.cur_matx&&x.cur_matx.length>r.y&&x.cur_matx[0].length>r.x&&0!=x.cur_matx[r.y][r.x]&&1!=x.cur_matx[r.y][r.x]&&!this.isopendoor&&b.sendOpenDoor(r.x,r.y,x.cur_matx[r.y][r.x]);break;case 2:r=L.getMovePoint(e,t,1);var a=L.getMovePoint(e,t,2);n=this.pointlegality(r)&&this.pointlegality(a),x.cur_matx&&x.cur_matx.length>r.y&&x.cur_matx.length>a.y&&x.cur_matx[0].length>r.x&&x.cur_matx[0].length>a.x&&0!=x.cur_matx[a.y][a.x]&&1!=x.cur_matx[a.y][a.x]&&!this.isopendoor&&b.sendOpenDoor(a.x,a.y,x.cur_matx[a.y][a.x]);break;case 3:r=L.getMovePoint(e,t,1),a=L.getMovePoint(e,t,2);var o=L.getMovePoint(e,t,3);n=this.pointlegality(r)&&this.pointlegality(a)&&this.pointlegality(o)}return n},a.opendoor=function(e){if(!(x.cur_matx[0].length<e.x)){this.isopendoor=!0;for(var t=e.x-2;t<e.x+2;t++)for(var i=e.y-2;i<e.y+2;i++)t!=e.x&&i!=e.y&&x.cur_matx[i][t]<=1&&(x.cur_matx[i][t]=0)}},a.closedoor=function(e){this.isopendoor=!1},a.getValuePrefab=function(e){return this["value"+e]},t}(g)).prototype,"mapBlockLayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t($.prototype,"groundBottomLayer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t($.prototype,"xunluLayer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t($.prototype,"mapItemImgLayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t($.prototype,"mapItemLabLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t($.prototype,"effectDownLayer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t($.prototype,"horseLayer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t($.prototype,"weaponDownLayer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t($.prototype,"roleDoubleSpLayer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t($.prototype,"roleSpLayer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t($.prototype,"roleDoubleSpLayer2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t($.prototype,"weaponUpLayer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t($.prototype,"roleImgLayer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t($.prototype,"roleBloodLayer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t($.prototype,"roleLabLayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t($.prototype,"roleTitelLayer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t($.prototype,"groundTopLayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t($.prototype,"roleMarkLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t($.prototype,"mapBlock",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t($.prototype,"xunLuPt",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t($.prototype,"mapItemImg",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t($.prototype,"mapItemLab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t($.prototype,"value130",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t($.prototype,"value150",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t($.prototype,"value170",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t($.prototype,"value190",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t($.prototype,"value210",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t($.prototype,"value230",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=$))||Q));a._RF.pop()}}}));

System.register("chunks:///_virtual/MapTouchBetterController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(t){"use strict";var e,o,i,n,a,r,c,l,s,u,p,h,m,g,f,d,v,T,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,l=t.Label,s=t.CCBoolean,u=t.Vec3,p=t.UITransform,h=t.v3,m=t.UIOpacity,g=t.v2,f=t.rect,d=t.misc,v=t.isValid,T=t.tween,y=t.Component},function(t){S=t.Config}],execute:function(){var b,M,x,C,D,L,w,R,E,O,I,z,P,U,A,N,_,k,B,F,H,V,W,Z,j,K,Q;a._RF.push({},"35d91U5U+NP0KhxQXiIM5gs","MapTouchBetterController",void 0);var X=r.ccclass,Y=r.property;t("MapTouchBetterController",(b=X("MapTouchBetterController"),M=Y({type:c,tooltip:"目标节点"}),x=Y(l),C=Y({tooltip:"图片初始缩放"}),D=Y({tooltip:"图片缩放最小scale"}),L=Y({tooltip:"图片缩放最大scale"}),w=Y({tooltip:"单点触摸容忍误差"}),R=Y({tooltip:"滚轮缩放比率"}),E=Y({displayName:"双指缩放速率",max:10,min:.001}),O=Y(s),I=Y({tooltip:"是否开启滚动惯性"}),z=Y({tooltip:"惯性系数，范围 0~1, 1表示立刻停止 ",min:.01,max:1,step:.01,range:[.01,1],slide:!0,visible:function(){return this.inertia}}),P=Y({tooltip:"阻尼系数，摩擦力 范围大于 0 ",min:.01,max:10,step:.01,visible:function(){return this.inertia}}),b((N=e((A=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"map",N,n(e)),i(e,"scaleTime",_,n(e)),i(e,"defaultScaling",k,n(e)),i(e,"minScale",B,n(e)),i(e,"maxScale",F,n(e)),i(e,"moveOffset",H,n(e)),i(e,"increaseRate",V,n(e)),i(e,"fingerIncreaseRate",W,n(e)),e.locked=!1,e.singleTouchCb=null,i(e,"isStrict",Z,n(e)),i(e,"inertia",j,n(e)),i(e,"brake",K,n(e)),i(e,"friction",Q,n(e)),e.touchMoveDisplacements=[],e.touchMoveTimeDeltas=[],e.touchMovePreviousTimestamp=0,e.autoScrolling=!1,e.speed=new u,e.targetPos=new u,e.isMoving=!1,e.mapTouchList=[],e}o(e,t);var a=e.prototype;return a.removeTouchFromContent=function(t,e){for(var o=t.getTouches().map((function(t){return t.getID()})),i=e.length-1;i>=0;--i)o.indexOf(e[i].id)>-1&&e.splice(i,1)},a.calculateEdge=function(t,e,o){var i=e.getComponent(p),n=t.getComponent(p),a=t.scale,r=(i.width-n.width*a.x)/2,c=(i.height-n.height*a.y)/2;return{left:r+o.x,right:r-o.x,top:c-o.y,bottom:c+o.y}},a.setStrictPattern=function(t){this.isStrict=t},a.getStrictPattern=function(){return this.isStrict},a.onLoad=function(){},a.start=function(){this.addEvent(),this.smoothOperate(this.map,h(0,0,0),this.defaultScaling),this.scaleTime.node.getComponent(m).opacity=0},a.handleReleaseLogic=function(){this.inertia&&(this.touchMovePreviousTimestamp=Date.now(),this.touchMoveDisplacements.length=0,this.touchMoveTimeDeltas.length=0,this.autoScrolling=!1)},a.gatherTouchMove=function(t){for(;this.touchMoveDisplacements.length>=2;)this.touchMoveDisplacements.shift(),this.touchMoveTimeDeltas.shift();this.touchMoveDisplacements.push(t);var e=Date.now();this.touchMoveTimeDeltas.push((e-this.touchMovePreviousTimestamp)/1e3),this.touchMovePreviousTimestamp=e},a.processInertiaScroll=function(){this.inertia&&(this.speed=this.calculateTouchMoveVelocity(),Math.abs(this.speed.x)>0||Math.abs(this.speed.y)>0)&&(this.autoScrolling=!0)},a.calculateTouchMoveVelocity=function(){var t=0;if((t=this.touchMoveTimeDeltas.reduce((function(t,e){return t+e}),t))<=0||t>.75)return new u;var e=new u;return e=this.touchMoveDisplacements.reduce((function(t,e){return t.add(e),t}),e),new u(e.x*(1-this.brake),e.y*(1-this.brake),0)},a.update=function(t){if(this.inertia&&this.autoScrolling){var e=this.speed.clone();e.multiplyScalar(this.friction);var o=this.map.getComponent(p).convertToWorldSpaceAR(h(u.ZERO)).clone(),i=this.node.getComponent(p).convertToNodeSpaceAR(o).clone();i.add(e);var n=this.calculateEdge(this.map,this.node,i),a=this.map.position.clone();(n.left>0||n.right>0)&&(e.x=0),(n.top>0||n.bottom>0)&&(e.y=0),this.speed=h(Math.round(100*e.x)/100,Math.round(100*e.y)/100,e.z),Math.abs(this.speed.x)<.1&&Math.abs(this.speed.y)<.1?this.autoScrolling=!1:(a.add(this.speed),this.map.setPosition(a.x,a.y,a.z))}},a.canStartMove=function(t){return t.getDelta().length()>this.moveOffset},a.moveDistance=function(t){return h(t.getDelta().x,t.getDelta().y,0)},a.addEvent=function(){var t=this;this.node.on(c.EventType.TOUCH_MOVE,(function(e){if(!t.locked){var o=e.getTouches();if(t.isStrict&&(o.filter((function(e){var o=g(e.getStartLocation()),i=t.node.getComponent(p),n=i.convertToWorldSpaceAR(h(0,0,0));return f(n.x-i.width/2,n.y-i.height/2,i.width,i.height).contains(o)})).forEach((function(e){0===t.mapTouchList.filter((function(t){return t.id===e.getID()})).length&&(t.mapTouchList[t.mapTouchList.length]={id:e.getID(),touch:e})})),o=t.mapTouchList.map((function(t){return t.touch}))),o.length>=2){t.isMoving=!0,S.minimap_moving=!0;var i=o[0],n=o[1],a=g(i.getDelta()),r=g(n.getDelta()),c=t.node.getComponent(p),l=c.convertToNodeSpaceAR(h(i.getUILocation().x,i.getUILocation().y)),s=c.convertToNodeSpaceAR(h(n.getUILocation().x,n.getUILocation().y)),u=l.subtract(s),m=a.subtract(r).multiplyScalar(t.fingerIncreaseRate),d=1;d=Math.abs(u.x)>Math.abs(u.y)?(u.x+m.x)/u.x*t.map.getScale().x:(u.y+m.y)/u.y*t.map.getScale().y;var v=s.add(h(u.x/2,u.y/2));t.smoothOperate(t.map,v,d)}else if(1===o.length){var T=o[0];if(t.isMoving||t.canStartMove(T)){t.isMoving=!0,S.minimap_moving=!0;var y=t.moveDistance(T);t.dealMove(y,t.map,t.node)}else console.log("不能移动")}else console.log("未知触摸类型");e.propagationStopped=!0}}),this),this.node.on(c.EventType.TOUCH_START,(function(e){t.locked||(t.handleReleaseLogic(),e.propagationStopped=!0)}),this),this.node.on(c.EventType.TOUCH_END,(function(e){if(!t.locked){if((t.isStrict?t.mapTouchList:e.getTouches()).length<=1){if(!t.isMoving){var o=h(e.getLocation().x,e.getLocation().y),i=t.map.getComponent(p).convertToNodeSpaceAR(o);t.dealSelect(i)}t.isMoving=!1,t.scheduleOnce((function(){S.minimap_moving=!1}),.1),t.processInertiaScroll()}t.isStrict&&t.removeTouchFromContent(e,t.mapTouchList),e.propagationStopped=!0}}),this),this.node.on(c.EventType.TOUCH_CANCEL,(function(e){t.locked||((t.isStrict?t.mapTouchList:e.getTouches()).length<=1&&(t.isMoving=!1,t.scheduleOnce((function(){S.minimap_moving=!1}),.1)),t.handleReleaseLogic(),t.isStrict&&t.removeTouchFromContent(e,t.mapTouchList),e.propagationStopped=!0)}),this),this.node.on(c.EventType.MOUSE_WHEEL,(function(e){if(!t.locked){var o=e.getScrollY(),i=t.map.getScale().x+o/t.increaseRate,n=t.map,a=t.node.getComponent(p).convertToNodeSpaceAR(h(e.getUILocation().x,e.getUILocation().y));t.smoothOperate(n,a,i),e.propagationStopped=!0}}),this)},a.smoothOperate=function(t,e,o){if(this.minScale<=o&&o<=this.maxScale){o=Number(o.toFixed(2));var i=h(t.getScale().x,t.getScale().y,1),n=e.clone().subtract(t.position.clone()).divide(i),a=e.clone().subtract(n.multiplyScalar(o));t.setScale(h(o,o,1)),this.dealScalePos(h(a.x,a.y),t)}else o=d.clampf(o,this.minScale,this.maxScale);v(this.scaleTime)&&(this.scaleTime.node.getComponent(m).opacity=255,this.scaleTime.string=Math.floor(100*o)+"%",T(this.scaleTime.node.getComponent(m)).to(2,{opacity:0}).start())},a.dealScalePos=function(t,e){var o=this.node.getComponent(p),i=o.convertToWorldSpaceAR(t),n=o.convertToNodeSpaceAR(i),a=this.calculateEdge(e,this.node,n);a.left>0&&(t.x-=a.left),a.right>0&&(t.x+=a.right),a.top>0&&(t.y+=a.top),a.bottom>0&&(t.y-=a.bottom),e.setPosition(h(t.x,t.y,0))},a.dealMove=function(t,e,o){var i=t.clone(),n=e.getComponent(p).convertToWorldSpaceAR(h(u.ZERO)),a=o.getComponent(p).convertToNodeSpaceAR(n);a.add(t);var r=this.calculateEdge(e,o,a),c=e.position.clone();r.left<=0&&r.right<=0?c.x+=t.x:i.x=0,r.top<=0&&r.bottom<=0?c.y+=t.y:i.y=0,this.gatherTouchMove(i),e.setPosition(c.x,c.y,c.z)},a.dealSelect=function(t){this.singleTouchCb&&this.singleTouchCb(t)},e}(y)).prototype,"map",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"scaleTime",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"defaultScaling",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),B=e(A.prototype,"minScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=e(A.prototype,"maxScale",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),H=e(A.prototype,"moveOffset",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),V=e(A.prototype,"increaseRate",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e4}}),W=e(A.prototype,"fingerIncreaseRate",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=e(A.prototype,"isStrict",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=e(A.prototype,"inertia",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=e(A.prototype,"brake",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Q=e(A.prototype,"friction",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.85}}),U=A))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/MiniMapCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,n,r,i,a,o,p,s,c,m;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.Camera,a=e.Sprite,o=e.UITransform,p=e.RenderTexture,s=e.SpriteFrame,c=e.Component},function(e){m=e.GameUtil}],execute:function(){var u;n._RF.push({},"e6822UiBWlFMaoUy/RNpsVZ","MiniMapCamera",void 0);var l=r.ccclass;r.property,e("MiniMapCamera",l("MiniMapCamera")(u=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).minimapCamera=null,t.contentSprite=null,t}return t(n,e),n.prototype.start=function(){this.minimapCamera=m.getMiniMapCamera().getComponent(i),this.contentSprite=this.node.getComponent(a);var e=this.contentSprite.getComponent(o).contentSize,t=new p;t.reset(e),this.minimapCamera.targetTexture=t;var n=new s;n.texture=t,this.contentSprite.spriteFrame=n},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MiniMapNpcListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,n,i,o,r,a,c,l,p,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,l=t.Label,p=t.Sprite,s=t.Component},function(t){u=t.GameUtil}],execute:function(){var m,d,f,h,y,b,g,v;r._RF.push({},"a3bd6DSZ4NAkpbB+VnOJvrg","MiniMapNpcListItem",void 0);var N=a.ccclass,L=a.property,M=a.menu;t("default",(m=N("MiniMapNpcListItem"),d=M("实例模块/MiniMapNpcListItem"),f=L(c),h=L(l),m(y=d((g=e((b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"selectNode",g,o(e)),i(e,"npcName",v,o(e)),e.onItemClick=null,e.index=0,e.mapx=void 0,e.mapy=void 0,e}n(e,t);var r=e.prototype;return r.start=function(){var t=this.selectNode.getComponent(p),e=this.node.getComponent(p);u.loadResLocal("SplitResource/Btns/npclist_btn (2).png",t),u.loadResLocal("SplitResource/Btns/npclist_btn.png",e)},r.init=function(t){t&&(this.npcName.string=t.npcname,this.mapx=t.mapx,this.mapy=t.mapy)},r.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},e}(s)).prototype,"selectNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(b.prototype,"npcName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/MiniMapWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./AnimationModule.ts","./FightModule.ts","./MapData.ts","./MoveModule.ts","./ResourcesMgr.ts","./UIcontrol.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./RGBCode.ts","./List.ts","./Astart.ts","./GameUtil.ts","./MiniMapNpcListItem.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,l,m,g,h,p,c,d,u,_,f,v,y,C,S,b,x,M,N,w,I,T,L,P,k,A,B,E,D,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Node,l=t.Label,m=t.Sprite,g=t.Graphics,h=t.Vec3,p=t.UITransform,c=t.sys,d=t.Layers,u=t.LabelOutline,_=t.color,f=t.Vec2,v=t.v3,y=t.Component},function(t){C=t.EventMgr},function(t){S=t.Config},function(t){b=t.default},function(t){x=t.Animationmodule},function(t){M=t.Fightmodule},function(t){N=t.Mapdata},function(t){w=t.Movemodule},function(t){I=t.resourcesMgr},function(t){T=t.uiControl},function(t){L=t.Objectcontrol},function(t){P=t.ObjectManage},function(t){k=t.sendmessage},function(t){A=t.rgbCode},function(t){B=t.default},function(t){E=t.AStart},function(t){D=t.GameUtil},function(t){R=t.default}],execute:function(){var j,F,G,z,O,U,X,W,Y,H,V,J,K,Q,Z,q,$,tt,et,it,nt,ot,st,at,rt,lt;s._RF.push({},"5ae56TgNdZGjIH9Ns52QOG/","MiniMapWin",void 0);var mt=a.ccclass,gt=a.menu,ht=a.property;t("default",(j=mt("MiniMapWin"),F=gt("弹窗模块/MiniMapWin"),G=ht(r),z=ht(l),O=ht(m),U=ht(r),X=ht(r),W=ht(g),Y=ht(r),H=ht(l),V=ht(B),J=ht(r),K=ht(r),j(Q=F((q=e((Z=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"npcListContent",q,o(e)),n(e,"mapName",$,o(e)),n(e,"img_bj",tt,o(e)),n(e,"img_Node",et,o(e)),n(e,"role_sp",it,o(e)),n(e,"sp_lines",nt,o(e)),n(e,"targetPos_img",ot,o(e)),n(e,"targetPos_txt",st,o(e)),n(e,"list",at,o(e)),n(e,"randomStone",rt,o(e)),n(e,"toCtiyStone",lt,o(e)),e.posX=0,e.posY=0,e.img_url="",e.startpos=void 0,e.SelectIndex=-1,e.startCalPos=!1,e.clickTime=0,e.img_bg_width=0,e.img_bg_height=0,e.cityStoneTime=0,e.randomStoneTime=0,e.posMark=null,e}i(e,t);var s=e.prototype;return s.start=function(){this.loadResByLocal(),this.initMgr(),k.sendOpenMinimap(),S.MainScene.openMiniMap=!0,this.img_Node.on(r.EventType.TOUCH_END,this.onMouseDown,this,!0),this.initNpcList(),this.initStone()},s.loadResByLocal=function(){D.loadResLocal("GameScene/drug_kuang.png",this.randomStone.getComponent(m)),D.loadResLocal("GameScene/drug_kuang.png",this.toCtiyStone.getComponent(m))},s.RenderItemHandler=function(t,e){var i=N.getNPClist()[e];if(i){var n=t.getComponent(R);n.index=e,n.init(i),n.selectNode.active=!1,n.onItemClick=this.onItemClicked.bind(this),this.SelectIndex!=e?n.selectNode.active=!1:n.selectNode.active=!0}},s.initMgr=function(){var t=this;C.addEventListener(b.INIT_MINI_MAP_WIN,this.setMapdata,this),C.addEventListener(b.CLOSE_MINIMAP,this.onCloseView,this),C.addEventListener("startCalPosTrue",(function(){t.startCalPos=!0}),this),C.addEventListener("keepGo",this.keepGo,this),C.addEventListener("setRandomStone_labContent",this.setRandomStone_labContent,this),C.addEventListener("setToCtiyStone_labContent",this.setToCtiyStone_labContent,this)},s.onCloseView=function(){if(S.isOpen=!0,this.posMark=null,C.removeEventListener("keepGo",this.keepGo,this),C.removeEventListener("setRandomStone_labContent",this.setRandomStone_labContent,this),C.removeEventListener("setToCtiyStone_labContent",this.setToCtiyStone_labContent,this),this.role_sp){var t=x.getAni(this.role_sp,"ani_pos");t&&x.removeAni(t)}this.node.destroy()},s.initNpcList=function(){var t=N.getNPClist();this.list.numItems=t.length},s.setMapdata=function(t){var e=this;this.schedule((function(){e.updatepos()}),.5),this.mapName.string=N.cur_name+"  "+this.posX+" "+this.posY,this.img_url=t,this.startpos=new h,this.showimg(),this.initNpcList();this.drawlin(!0)},s.showimg=function(){var t=this;this.role_sp.name="minimap_pos",this.role_sp.getComponent(p).width=45,this.role_sp.getComponent(p).height=63;var e=new h(-2,35),i=x.playframe(!1,this.role_sp,"Animation/minimap/",530,539,120,!0,!1,e);if(i&&(i.name="ani_pos"),null!=this.img_url){var n="";Number(this.img_url)>=1e4?(n="mmap10",this.img_url=(Number(this.img_url)-1e4).toString()):Number(this.img_url)>=999?(n="mmap",this.img_url=(Number(this.img_url)-999).toString()):Number(this.img_url)>=800?(n="mmap1",this.img_url=(Number(this.img_url)-800).toString()):(n="mmap",this.img_url=this.img_url)}var o=D.loadImgData(Number(this.img_url),n);o&&I.resLoad(o.plist,(function(e){if(e&&t.img_bj&&e.getSpriteFrame(o.img)){t.img_bj.getComponent(m).spriteFrame=e.getSpriteFrame(o.img);var i=new r,n=i.addComponent(p);i.addComponent(m).spriteFrame=e.getSpriteFrame(o.img),t.img_bg_width=n.width,t.img_bg_height=n.height,t.drawlin(),t.drawdesc(),t.img_Node.setScale(497/t.img_Node.getComponent(p).width,334/t.img_Node.getComponent(p).height),console.log("Scale=",t.img_Node.scale)}}))},s.drawlin=function(t){var e=this.img_Node.getComponent(p).width/D.getMapLayerScript().mapMaxX,i=this.img_Node.getComponent(p).height/D.getMapLayerScript().mapMaxY,n=P.findobject(S.playerID);if(n){var o=n.grid.x*e,s=n.grid.y*i;if(this.role_sp.setPosition(o,-(s+this.role_sp.getComponent(p).height/2)),this.sp_lines.clear(),w.move_list.length>0){var a=[];this.sp_lines.node.setPosition(this.role_sp.getPosition()),w.move_list[w.move_index]&&this.sp_lines.moveTo((w.move_list[w.move_index].x-n.grid.x)*e,-(w.move_list[w.move_index].y-n.grid.y)*i+this.role_sp.getComponent(p).height/2),this.sp_lines.fillColor.fromHEX("#FF0000"),this.sp_lines.lineWidth=2;for(var r=w.move_index;r<w.move_list.length;++r)a.push((w.move_list[r].x-n.grid.x)*e),a.push((w.move_list[r].y-n.grid.y)*i),this.sp_lines.lineTo((w.move_list[r].x-n.grid.x)*e,-(w.move_list[r].y-n.grid.y)*i+this.role_sp.getComponent(p).height/2);if(this.sp_lines.stroke(),this.startCalPos||t){this.startCalPos=!1;var l=this.calcShowTargetPos(new h(a[a.length-2]+o,a[a.length-1]+s));this.showTargetPos(l,w.move_list[w.move_list.length-1])}}else this.hideTargetPos()}},s.calcShowTargetPos=function(t){var e=this.sp_lines.node.parent.getComponent(p).convertToWorldSpaceAR(t);return this.img_Node.getComponent(p).convertToNodeSpaceAR(e)},s.showTargetPos=function(t,e){t&&(this.targetPos_img.setPosition(t.x,10-t.y),this.targetPos_txt.string="("+e.x+","+e.y+")",this.targetPos_img.active=!0)},s.hideTargetPos=function(){this.startCalPos&&(this.startCalPos=!1),this.targetPos_img.active&&(this.targetPos_img.active=!1)},s.updatepos=function(){var t=P.findobject(S.playerID);t&&(this.posX=t.grid.x,this.posY=t.grid.y,this.mapName.string=N.cur_name+"  X:"+t.grid.x+" Y:"+t.grid.y,this.drawlin())},s.drawdesc=function(){var t=this.img_Node.getComponent(p).width/D.getMapLayerScript().mapMaxX,e=this.img_Node.getComponent(p).height/D.getMapLayerScript().mapMaxY,i=JSON.parse(c.localStorage.getItem("g_mapdesc"));if(i)for(var n=0;n<i.length;n++){var o=i[n];if(o&&o.length>5)if(this.img_bg_width>this.img_Node.getComponent(p).width&&this.img_bg_height>this.img_Node.getComponent(p).height){if(o[0]==N.cur_name&&"0"==o[5]){var s=this.img_Node.getComponent(p).width/1300<.1?.1:this.img_Node.getComponent(p).width/1300;(f=new r).layer=d.Enum.UI_2D;var a=f.addComponent(l),m=f.addComponent(u);a.string=o[3],a.fontSize=34,a.color=_("#"+A.Get3RGB(o[4].substr(1))),m.width=2,m.color=_("#000000"),f.name="descName",a.isBold=!0,f.setScale(s,s);var g=parseInt(o[1])*t,h=parseInt(o[2])*e;f.setPosition(g,-h),this.img_Node.addChild(f)}}else if(o[0]==N.cur_name&&"1"==o[5]){var f;s=this.img_Node.getComponent(p).width/1300<.1?.1:this.img_Node.getComponent(p).width/1300;(f=new r).layer=d.Enum.UI_2D;var v=f.addComponent(l),y=f.addComponent(u);v.string=o[3],v.fontSize=34,v.color=_("#"+A.Get3RGB(o[4].substr(1))),y.width=2,y.color=_("#000000"),f.name="descName",v.isBold=!0,f.setScale(s,s);g=parseInt(o[1])*t,h=parseInt(o[2])*e;f.setPosition(g,-h),this.img_Node.addChild(f)}}},s.onItemClicked=function(t){var e=this;this.npcListContent.children.forEach((function(i,n){var o=i.getComponent(R);o.index==t?(e.SelectIndex=t,o.selectNode.active=!0):o.selectNode.active=!1}))},s.onMouseDown=function(t){var e=this;if(1==t.getTouches().length&&!S.minimap_moving){var i=t.getUILocation();this.startpos.x=i.x,this.startpos.y=i.y,console.log("点击坐标",i.x,i.y),this.clickTime++,setTimeout((function(){1==e.clickTime?(console.log("单击"),e.MouseDownMap(new h(i.x,i.y))):2==e.clickTime&&(console.log("双击"),e.teleport(new h(i.x,i.y))),e.clickTime=0}),200)}},s.teleport=function(t){var e=this.img_Node.getComponent(p).convertToNodeSpaceAR(t),i=this.img_Node.getComponent(p).width/D.getMapLayerScript().mapMaxX,n=this.img_Node.getComponent(p).height/D.getMapLayerScript().mapMaxY,o=Math.floor(e.x/i),s=Math.floor(e.y/n);e=new h(o,s);if(E.cur_matx&&E.cur_matx[0]&&e.y<E.cur_matx.length&&e.x<E.cur_matx[0].length&&0==E.cur_matx[Math.abs(e.y)][e.x]){M.leavefight(),w.stopmove(),w.end_point=null;var a=P.findobject(S.playerID);if(a&&!a.is_die){var r="@传送 "+e.x+" "+Math.abs(e.y);k.sendSay(r)}}},s.MouseDownMap=function(t){var e=this.img_Node.getComponent(p).convertToNodeSpaceAR(t),i=this.img_Node.getComponent(p).width/D.getMapLayerScript().mapMaxX,n=this.img_Node.getComponent(p).height/D.getMapLayerScript().mapMaxY,o=Math.floor(e.x/i),s=Math.abs(Math.floor(e.y/n)),a=new h(o,s);if(this.posMark=a,E.cur_matx&&E.cur_matx[0]&&a.y<E.cur_matx.length&&a.x<E.cur_matx[0].length&&0==E.cur_matx[Math.abs(a.y)][a.x]){M.leavefight(),w.stopmove(),w.end_point=null;var r=P.findobject(S.playerID);r&&!r.is_die&&(this.SelectIndex=-1,this.initNpcList(),w.autoMove(a))}else T.handlerAlert({type:1,content:"此地点无法到达！"})},s.gotomapxy=function(){var t=P.findobject(S.playerID),e=N.getNPClist();if(!t.is_die&&-1!=this.SelectIndex&&e.length>0){var i=parseInt(e[this.SelectIndex].mapx),n=parseInt(e[this.SelectIndex].mapy),o=new h(i,n);if(S.g_mapnpc=o,this.posMark=o,E.cur_matx&&E.cur_matx[0]&&o.y<E.cur_matx.length&&o.x<E.cur_matx[0].length&&0==E.cur_matx[o.y][o.x]){for(var s=0;s<8;s++){var a=D.getNextPoint(o.x,o.y,s);if(E.cur_matx&&E.cur_matx[0]&&a.y<E.cur_matx.length&&a.x<E.cur_matx[0].length&&0==E.cur_matx[a.y][a.x]){o=new h(a.x,a.y);break}}if(M.leavefight(),w.stopmove(),t=P.findobject(S.playerID)){f.distance(t.grid,o)>20?w.start2move(t.grid,o):w.startmove(t.grid,o),w.end_point=o,this.startCalPos=!0;var r=x.playframe(!1,this.node,"Animation/moveing/",1,12,100,!0,!1,v(0,-105));r&&(r.name="moveing",S.autohookstate&&C.raiseEvent(b.ONHOOK,["0"]))}}}},s.onDestroy=function(){var t=this;S.MainScene.openMiniMap=!1,C.removeEventListener(b.INIT_MINI_MAP_WIN,this.setMapdata,this),C.removeEventListener(b.CLOSE_MINIMAP,this.onCloseView,this),C.removeEventListener("startCalPosTrue",(function(){t.startCalPos=!0}),this)},s.initStone=function(){var t=this,e=D.getBagItemByStdmodeAndShape(2,5),i=e?e.s.Looks:1010,n=D.getBagItemByStdmodeAndShape(2,3),o=n?n.s.Looks:1025;D.loadImg(i,"items",(function(e){t.toCtiyStone.children[0].getComponent(m).spriteFrame=e.imgUrl})),D.loadImg(o,"items",(function(e){t.randomStone.children[0].getComponent(m).spriteFrame=e.imgUrl})),this.setToCtiyStone_labContent(!0),this.setRandomStone_labContent()},s.setToCtiyStone_labContent=function(t){t||(this.posMark=null);var e=D.getBagItemByStdmodeAndShape(2,5);this.toCtiyStone.children[1].getComponent(l).string=e?D.getTypeCount(e)+"":"0"},s.setRandomStone_labContent=function(){var t=D.getBagItemByStdmodeAndShape(2,3);this.randomStone.children[1].getComponent(l).string=t?D.getTypeCount(t)+"":"0"},s.onCtiyStone=function(){var t=Date.now();if(!(this.cityStoneTime&&t-this.cityStoneTime<1e3)){this.cityStoneTime=t;var e=D.getBagItemByStdmodeAndShape(2,5),i=e?D.getTypeCount(e):0;if(i<=0){T.handlerAlert({type:1,content:"传送石数量不足",sF:function(){},cF:function(){}})}else D.delBagItemByName(e.s.Name,i>1)}},s.onRandomStone=function(){var t=Date.now();if(!(this.randomStoneTime&&t-this.randomStoneTime<1e3)){this.randomStoneTime=t;var e=D.getBagItemByStdmodeAndShape(2,3),i=e?D.getTypeCount(e):0;if(i<=0){T.handlerAlert({type:1,content:"传送石数量不足",sF:function(){},cF:function(){}})}else M.leavefight(),w.stopmove(),w.end_point=null,this.posMark&&(S.g_suijiStone=!0),D.delBagItemByName(e.s.Name,i>1)}},s.keepGo=function(){if(this.posMark){if(this.posMark.x==L.self_obj.grid.x&&this.posMark.y==L.self_obj.grid.y)return void(this.posMark=null);var t=this.posMark;if(E.cur_matx&&E.cur_matx[0]&&t.y<E.cur_matx.length&&t.x<E.cur_matx[0].length&&0==E.cur_matx[t.y][t.x]){M.leavefight(),w.stopmove(),w.end_point=null;var e=P.findobject(S.playerID);e&&!e.is_die&&(this.SelectIndex=-1,this.initNpcList(),w.autoMove(t))}}},e}(y)).prototype,"npcListContent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(Z.prototype,"mapName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(Z.prototype,"img_bj",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(Z.prototype,"img_Node",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(Z.prototype,"role_sp",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(Z.prototype,"sp_lines",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(Z.prototype,"targetPos_img",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(Z.prototype,"targetPos_txt",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(Z.prototype,"list",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(Z.prototype,"randomStone",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(Z.prototype,"toCtiyStone",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Z))||Q)||Q));s._RF.pop()}}}));

System.register("chunks:///_virtual/MiniMapWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(n){"use strict";var i,t,e,r,o,l,a,p,u,c;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,a=n.Sprite,p=n.Button,u=n.Component},function(n){c=n.GameUtil}],execute:function(){var s,b,m,f,g,d,B,y,M,_,h,L,S,G,w,z,R,W,v,P;o._RF.push({},"726b9y+LXdPqYIsDj8iEfO+","MiniMapWinSprite",void 0);var k=l.ccclass,C=l.property,D=l.menu;n("default",(s=k("MiniMapWinSprite"),b=D("图片模块/MiniMapWinSprite"),m=C(a),f=C(a),g=C(a),d=C(a),B=C(a),y=C(a),M=C(a),_=C(a),s(h=b((S=i((L=function(n){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=n.call.apply(n,[this].concat(o))||this,e(i,"miniMapBG",S,r(i)),e(i,"closeBtn",G,r(i)),e(i,"findNPCBtn",w,r(i)),e(i,"title",z,r(i)),e(i,"npcList",R,r(i)),e(i,"minmap_posBg",W,r(i)),e(i,"randomStoneBG",v,r(i)),e(i,"cityStoneBG",P,r(i)),i}return t(i,n),i.prototype.start=function(){c.loadResLocal("MinMapWin/img_bj.png",this.miniMapBG),c.loadResLocal("MinMapWin/map_title.png",this.title),c.loadResLocal("MinMapWin/npclist.png",this.npcList),c.loadResLocal("public/btn_close_new.png",this.closeBtn),c.loadResLocal("MinMapWin/minmap_posBg.png",this.minmap_posBg),c.loadResLocal("GameScene/pc/drug_kuang.png",this.randomStoneBG),c.loadResLocal("GameScene/pc/drug_kuang.png",this.cityStoneBG),c.loadResLocalButton("public/btn_ok.png","public/btn_ok (2).png",this.findNPCBtn.getComponent(p))},i}(u)).prototype,"miniMapBG",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(L.prototype,"closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(L.prototype,"findNPCBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(L.prototype,"title",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(L.prototype,"npcList",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(L.prototype,"minmap_posBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(L.prototype,"randomStoneBG",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(L.prototype,"cityStoneBG",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=L))||h)||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/MoveModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts","./Astart.ts","./FightModule.ts","./AnimationModule.ts","./AutoHookModule.ts","./FrameMgr.ts","./NodeMgr.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,l,h,u,v,m,d,c,f,_,g,p,x;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.director,s=t.Vec2,r=t.v3,a=t.Component},function(t){l=t.EventMgr},function(t){h=t.Config},function(t){u=t.Objectcontrol},function(t){v=t.ObjectManage},function(t){m=t.sendmessage},function(t){d=t.GameUtil},function(t){c=t.AStart},function(t){f=t.Fightmodule},function(t){_=t.Animationmodule},function(t){g=t.AutoHookmodule},function(t){p=t.frameMgr},function(t){x=t.nodeMgr}],execute:function(){var y,M;i._RF.push({},"6e24fn6Uy9MQKFfLWZ46W+W","MoveModule",void 0);var b=n.ccclass,k=(n.property,t("MoveModule",b("MoveModule")(((M=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).move_list=[],e.move_index=0,e.last_move_index=0,e.refindpathtimes=0,e.springbacktimes=0,e.end_point=null,e.xunlu_list=[],e.retryTime=0,e.autoMovePos=null,e}e(i,t),i.ins=function(){return this._ins||(this._ins=new i),this._ins};var n=i.prototype;return n.start=function(){},n.update=function(t){},n.init=function(){this.move_list=[],this.move_index=0,this.last_move_index=0,this.refindpathtimes=0,this.springbacktimes=0,this.end_point=null,l.addEventListener("movespringback",(function(){h.moveing&&(this.springbacktimes+=1)}),this)},n.startmove=function(t,e,i){t.x==e.x&&t.y==e.y||(this.move_list=this.find4path(t,e),this.move_list.length>0?(h.moveing=!0,this.move_index=0,this.last_move_index=0,i&&this.executeDrawXunlu()):(h.autohookstate&&(0!=h.lockingID?-1==f.AttOff_list.indexOf(h.lockingID)&&f.AttOff_list.push(h.lockingID):f.AttOff_list=[],d.delhalo(h.lockingID),h.lockingID=0),h.attackerID=0))},n.start3move=function(t,e){return this.move_list=this.find4path(t,e),this.move_list.length>0&&(h.moveing=!0,this.move_index=0,this.last_move_index=0,!0)},n.start2move=function(t,e,i){i||(this.refindpathtimes=0),this.springbacktimes=0,e=this.haveObj(e),this.move_list=this.find2path(t,e),this.move_list.length>0&&(h.moveing=!0,this.move_index=0,this.last_move_index=0,this.executeDrawXunlu())},n.executeDrawXunlu=function(){p.clearTask("drawXunluPoint"),this.xunlu_list=[];var t=this.move_list.length;t>16&&(t=16);for(var e=1;e<t;++e){var i=this.move_list[e].x,n=this.move_list[e].y;p.putTask("drawXunluPoint",this.drawXunluPoint.bind(this,i,n))}},n.drawXunluPoint=function(t,e){var i=d.getMapLayerScript(),n=i.xunLuPt,o=i.xunluLayer;o.active=!0;var s=x.getNode(n,o,"xunluPoint");s.setPosition(48*t,32*-e),this.xunlu_list.push(s)},n.removeXunluPoint=function(){for(var t=0;t<this.xunlu_list.length;t++){var e=this.xunlu_list[t];x.putNode(e,"xunluPoint")}this.xunlu_list=[],d.getMapLayerScript().xunluLayer.active=!1},n.moveing=function(t){if(h.moveing&&u.self_obj&&null!=u.self_obj.lastMoveTarget)return this.move_list=[],u.objectmove(null,u.self_obj.lastMoveTarget),void(u.self_obj.lastMoveTarget=null);if(this.end_point&&t.x==this.end_point.x&&t.y==this.end_point.y){if(h.g_mapnpc&&null!=h.g_mapnpc.x&&null!=h.g_mapnpc.y){u.self_obj;for(var e=0;e<v.object_list.length;++e){var i=v.object_list[e];if(i&&2==i.type&&i.grid.x==h.g_mapnpc.x&&i.grid.y==h.g_mapnpc.y){var n;null!=(null==(n=o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode"))?void 0:n.getChildByName("NewNpcWin"))&&o.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").destroy(),m.sendNPCClick(i.data.record),h.g_mapnpc=null;break}}}this.end_point=null}if(!h.autohookstate&&this.springbacktimes>2&&this.move_list.length>0&&this.refindpathtimes<=5)this.retrymove(t);else if(h.moveing||0!=this.move_list.length||null==this.end_point)if(!h.moveing||this.move_index>=this.move_list.length||this.refindpathtimes>5)this.refindpathtimes=0,this.stopmove();else if(u.self_obj&&u.self_obj.obj_hores&&u.self_obj.obj_hores.active){var s=this.move_list[this.move_index],r=d.getorientation(t,s);if(s){var a=this.move_list[this.move_index+1],l=this.move_list[this.move_index+2];if(a&&l){var c=d.getorientation(s,a),f=d.getorientation(a,l);if(r==c&&c==f)return u.executemove(l,r,4)?void(this.move_index+=3):void this.retrymove(t)}if(!u.executemove(s,r,2))return void this.retrymove(t);this.move_index++}}else{var _=this.move_list.findIndex((function(e){return e.x==t.x&&e.y==t.y}));if(_>=0&&(this.move_index=_+1),this.move_index>=this.move_list.length)return;s=this.move_list[this.move_index],a=this.move_list[this.move_index+1],r=d.getorientation(t,s);if(a)if(r==(c=d.getorientation(s,a)))return u.executemove(a,r,3)?void(this.move_index+=2):void this.retrymove(t);if(u.executemove(s,r,2))return void this.move_index++;this.retrymove(t)}else this.retrymove(t)},n.retrymove=function(t){if(Date.now()-this.retryTime>500){var e=this.end_point;this.stopmove(),e&&(this.start2move(t,e),this.addMoveAni()),this.springbacktimes=0,this.refindpathtimes+=1,this.retryTime=Date.now()}},n.stopmove=function(){h.disAfterTargetMoved>0||(g.randPos=null,h.moveing=!1,this.move_list=[],this.move_index=0,this.last_move_index=0,f.path_list=[],this.autoMovePos=null,_.removeAniname("moveing"),this.removeXunluPoint())},n.findpath=function(t,e){var i=c.findpath(t,e);return i.splice(0,1),i.splice(i.length-1,1),i},n.find2path=function(t,e){var i=[],n=c.findpath(t,e);if(n){n.splice(0,1);for(var o=0;o<n.length;o++)i.push(new s(n[o][0],n[o][1]))}return i},n.find4path=function(t,e){new Array;var i=c.find2path(t,e),n=new Array;if(i){for(;i.x;)n.unshift(new s(i.x,i.y)),i=i.father;n.splice(0,1),n.push(new s(e.x,e.y))}return n},n.find3path=function(t,e){var i=c.find2path(t,e),n=new Array;if(i){for(;i.x;)n.unshift(new s(i.x,i.y)),i=i.father;n.splice(0,1)}return n},n.find5path=function(t,e){var i=d.getorientation(t,e),n=v.hasobstacle(t,i,2),o=d.getMapLayerScript().CanMove(t,i,2),r=Math.floor(s.distance(t,e))-1,a=!(u.is_open_cs&&r<2);if(n&&o&&a)return{pos:d.getMovePoint(t,i,2),dir:i,state:2};n=v.hasobstacle(t,i,1),o=d.getMapLayerScript().CanMove(t,i,1);return n&&o?{pos:d.getMovePoint(t,i,1),dir:i,state:1}:null},n.haveObj=function(t){for(var e=0;e<v.object_list.length;++e){var i=v.object_list[e];if(!i.is_die&&(i.grid.x==t.x&&i.grid.y==t.y))for(var n=0;n<8;n++){var o=d.getNextPoint(t.x,t.y,n);if(c.cur_matx&&c.cur_matx[0]&&o.y<c.cur_matx.length&&o.x<c.cur_matx[0].length&&0==c.cur_matx[o.y][o.x]){t=o,this.end_point=o;break}}}return t},n.autoMove=function(t){if(c.cur_matx&&t.x<c.cur_matx[0].length&&Math.abs(t.y)<c.cur_matx.length&&0==c.cur_matx[Math.abs(t.y)][t.x]){f.leavefight(),this.stopmove(),h.autohookstate&&l.raiseEvent("onhook",["0"]),this.end_point=t;var e=v.findobject(h.playerID);if(e)s.distance(e.grid,t)>20?this.start2move(e.grid,t):this.startmove(e.grid,t,!0),l.raiseEvent("startCalPosTrue"),this.addMoveAni()}},n.addMoveAni=function(){var t=d.getUIBoxNode();if(!_.hasAni(t,"moveing")){var e=_.playframe(!1,t,"Animation/moveing/",1,12,100,!0,!1,r(0,-115));e&&(e.name="moveing")}},n.resetData=function(){this.move_list=[],this.move_index=0,this.last_move_index=0,this.refindpathtimes=0,this.springbacktimes=0,this.end_point=null,this.xunlu_list=[],this.retryTime=0},i}(a))._ins=void 0,y=M))||y));t("Movemodule",k.ins());i._RF.pop()}}}));

System.register("chunks:///_virtual/MsgCM.ts",["cc"],(function(E){"use strict";var T;return{setters:[function(E){T=E.cclegacy}],execute:function(){T._RF.push({},"90f270k2T1BwJpTPHdj3Mrk","MsgCM",void 0);var A=E("default",(function(){}));A.QUERYUSERNAME=80,A.QUERYBAGITEMS=81,A.QUERYUSERSTATE=82,A.QUERYCHR=100,A.NEWCHR=101,A.DELCHR=102,A.SELCHR=103,A.SELECTSERVER=104,A.QUERYDELCHR=105,A.GETBACKDELCHR=106,A.QUERYCLOSE=990,A.DROPITEM=1e3,A.PICKUP=1001,A.OPENDOOR=1002,A.TAKEONITEM=1003,A.TAKEOFFITEM=1004,A.EAT=1006,A.BUTCH=1007,A.MAGICKEYCHANGE=1008,A.SOFTCLOSE=1009,A.CLICKNPC=1010,A.MERCHANTDLGSELECT=1011,A.MERCHANTQUERYSELLPRICE=1012,A.USERSELLITEM=1013,A.USERBUYITEM=1014,A.TradingBUYITEM=5277,A.TradingSELLITEMS=5278,A.USERGETDETAILITEM=1015,A.DROPGOLD=1016,A.DROPGOLD1017=1017,A.LOGINNOTICEOK=1018,A.CLIENTDATAFILE=5120,A.GROUPMODE=1019,A.CREATEGROUP=1020,A.RESPONSE_GORUP_JOIN=5293,A.ADDGROUPMEMBER=1021,A.DELGROUPMEMBER=1022,A.USERREPAIRITEM=1023,A.MERCHANTQUERYREPAIRCOST=1024,A.DEALTRY=1025,A.DEALADDITEM=1026,A.DEALDELITEM=1027,A.DEALCANCEL=1028,A.DEALCHGGOLD=1029,A.DEALEND=1030,A.USERSTORAGEITEM=1031,A.USERTAKEBACKSTORAGEITEM=1032,A.WANTMINIMAP=1033,A.USERMAKEDRUGITEM=1034,A.OPENGUILDDLG=1035,A.GUILDHOME=1036,A.GUILDMEMBERLIST=1037,A.GUILDADDMEMBER=1038,A.GUILDDELMEMBER=1039,A.GUILDUPDATENOTICE=1040,A.GUILDUPDATERANKINFO=1041,A.ADJUST_BONUS=1043,A.AUCTIONCLIENTITEM=45114,A.PUTONTHESHELF=45101,A.OFFTHESHELF=45102,A.PLUSAUCTIONPRICE=45103,A.AUCTIONBUYOUT=45104,A.AUCTIONLIST=45105,A.GUILDALLY=1044,A.GUILDBREAKALLY=1045,A.MISSIONINFO=1046,A.USERBINDBUYITEM=1056,A.CHGPASSWORD=1221,A.SETPASSWORD=1222,A.OPENREDPACK=1512,A.AUTOMOVEACTION=1518,A.SPEEDHACKUSER=10430,A.IDPASSWORD=2001,A.ADDNEWUSER=2002,A.CHANGEPASSWORD=2003,A.UPDATEUSER=2004,A.GETBACKPASSWORD=2010,A.PASSWORD=3e3,A.THROW=3005,A.HORSERUN=3009,A.TURN=3010,A.WALK=3011,A.SITDOWN=3012,A.RUN=3013,A.HIT=3014,A.HEAVYHIT=3015,A.BIGHIT=3016,A.SPELL=3017,A.POWERHIT=3018,A.LONGHIT=3019,A.DIYHIT=3020,A.WIDEHIT=3024,A.FIREHIT=3025,A.CRSHIT=3036,A.SAY=3030,A.TWNHIT=3037,A.HIT43=3043,A.SWORDHIT=3056,A.HIT60=3060,A.HIT61=3061,A.HIT62=3062,A.HIT66=3066,A.HIT100=3100,A.HIT101=3101,A.HIT102=3102,A.HIT103=3103,A.VALIDATECHANGE=11029,A.VALIDATE=11030,A.RESOLVEITEM=15532,A.CLIENTQUERYRESOLVE=15533,A.FRIENDS=20005,A.QUICKTAB=20007,A.BOXITEM=5014,A.MOVEITEMBOXTOBAG=5015,A.EMOJI=20011,A.QUERYUSERSET=49999,A.GETSHOPITEMS=95,A.BUYSHOPITEM=9002,A.SENTSHOPITEM=25002,A.GETRANKING=5007,A.GETMYRANKING=5008,A.TAKEOFFBOX=5511,A.OPENBOX=5012,A.ROTATIONBOX=5015,A.SENDGETSELBOXITEM=5017,A.QUERYSERVERNAME=5031,A.DOMAINNAMEINFO=5033,A.SENDSELLGAMEGOLDDALITEM=5036,A.SENDBUYGAMEGOLDDALITEM=5038,A.SENDCANCELGAMEGOLDDALITEM=5039,A.OVERLAPITEM=5052,A.HEROOVERLAPITEM=5053,A.PACKAGEITEM=5058,A.HEROPACKAGEITEM=5059,A.REPAIRFIRDRAGON=5066,A.QUERYUSERSHOPS=109,A.GETUSERSHOPS=110,A.QUERYUSERSHOPITEMS=111,A.GETUSERSHOPITEMS=112,A.SEARCHSHOPITEMS=113,A.SEARCHGETSHOPITEMS=114,A.QUERYMYSHOPSELLINGITEMS=115,A.QUERYMYSHOPSELLEDITEMS=116,A.QUERYMYSHOPSTORAGEITEMS=117,A.GETMYSHOPITEMS=118,A.SENDADDTOMYSHOP=119,A.SENDCHANGEMYSHOPITEM=120,A.SENDMOVEMYSHOPITEM=121,A.QUERYSELECTSHOPINFO=122,A.BUYBAITANITEM=165,A.SENDSHOPSTALLSTATUS=123,A.SENDBUYUSERSHOPITEM=124,A.SENDDELETESELLEDITEM=125,A.SENDUSERSPEEDING=5103,A.CHANGESPEED=5104,A.UPGRADEDLGITEM=5105,A.CANCELUPGRADEDLGITEM=5121,A.SENDCONNECT=5125,A.SENDDISCONNECT=5126,A.SENDDATA=5127,A.CHALLENGETRY=5130,A.CHALLENGEADDITEM=5131,A.CHALLENGEDELITEM=5132,A.CHALLENGECANCEL=5133,A.CHALLENGECHGGOLD=5134,A.CHALLENGECHGGAMEDIAMOND=5135,A.CHALLENGEEND=5136,A.SENDUPGRADEDIALOG=5153,A.SENDUPGRADEDIALOGEX=51530,A.SETTINGGEM=5552,A.SENDREMOVEGEM=5557,A.HELPBUTTONCLICK=5158,A.SENDPLEASEDRINK=5161,A.SENDGIVENPCWINE=5164,A.SENDSELECTFINGER=5167,A.SENDDRINK=5168,A.SENDGETBACKHERO=5175,A.ASSESSMENTHERO=5178,A.SENDHEROAUTOPRACTICE=5182,A.SENDACUPOINTCLICK=5195,A.SENDTRAININGMERIDIANCLICK=5196,A.TRYUSECONTINUOUS=5198,A.CHANGECONTINUOUSMAGICORDER=5202,A.SENDMODULEMD5=5210,A.SENDSHOPNAME=150,A.SELLOFFITEM=5216,A.BUYSELLOFFITEM=5223,A.GETSELLOFFDETAILITEM=5224,A.GUI=5239,A.MSGWINDOWS=5241,A.CUSTOMBUTTON=5243,A.BEAD=5247,A.GUESSFINGER=5250,A.GOLDEXCHANGE=5253,A.OVERLAPDRUG=5258,A.QUERYNAVIGATE=6020,A.HEROLOGON=1050,A.HEROLOGOUT=1051,A.MASTERBAGTOHEROBAG=1100,A.HEROBAGTOMASTERBAG=1101,A.HEROTAKEONITEM=1102,A.HEROTAKEOFFITEM=1103,A.HEROEAT=1104,A.HEROTARGET=1105,A.HERODROPITEM=1106,A.HEROGROUPATTACK=1108,A.HEROPROTECT=1110,A.HEROMAGICKEYCHANGE=1109,A.CONFIG=1399,A.GDY_MSG=45613,A.VSENDSAYMSG=1e4,A.VSENDCLOSEPAGES=10001,A.VSENDOVER=10002,A.RUNBINDITEM=100,A.RAUTOBINDITEM=110,A.RPLAYMAPMUSIC=101,A.RRESTOREDEVICE=102,A.RFREEMYHERO=103,A.RAutoOrderItem=104,A.RStartContinuousMagicAttack=105,A.RPlayBGMgameover=106,A.RFindModule=107,A.RUSEMAGIC=108,A.PROTOCOL=2e3,A.RANDOMCODE=2006,A.CHANGERANDOMCODE=2007,A[3037]=3037,A.GAMEGIRD=4080,A.POWERBLOCK=0,A.ONHORSE=5059,A.USERBIGSTORAGEITEM=3071,A.USERTAKEBACKBIGSTORAGEITEM=3072,A.OPENITEMBOXEX=16e3,A.OPENMYBAITAN=7550,A.STOPBAITAN=164,A.ADDPAIMAIITEM=166,A.DELUSERSHOPITEM=167,A.SENDCLOSESHOP=168,A.STARTBAITAN=163,A.VIEWBAITAN=8094,A.SENDTOGATE=6008,A.MOVEDRAGON=65074,A.OPENDRAGONBOOK=65075,A.GETMISSITEM=1111,A.ACTORBUFFCLICK=60092,A.ACTORBUFFBUTTON=60091,A.API_GETITEM=5598,A.AUTOPICKUPITEMS=6256,A.LoginConnect_CJ=2098,A.SelChrConnect_CJ=2099,A.REFRESHVIEWRANGE=5574,A.GUILDMANAGEEDIT=1066,A.GROUPLIST=45001,A.GROUPAPPLY=45003,A.GROUPACCEPT=45005,A.GROUPREFUSE=45006,A.GROUPLEAVE=45009,A.NEWTASKOPERATE=65080,A.GETMAIL=65089,A.GETMAILCONTENT=65092,A.GETMAILITEM=65094,A.GETALLMAIL=65096,A.DELETEMAIL=65097,A.DELETEALLMAIL=65098,A.READMAIL=65099,A.READALLMAIL=65100,A.EXTENDLOCKEDBAGSLOT=65106,A.TK_TICKTIME=112,A.GUILDOPERATE=1786,A.GUILDMANAGERECRUIT=1067,A.OpenRedPack=1512,A.SENDREDPACKED=15613,A.SENDREDPACKEDREPLY=15614,A.ZHAOMU=10210,A.FISHMESSAGE=1599,A.E_ROLE_CHANGE_HP=100001,A.E_ROLE_CHANGE_MP=100002,A.E_ROLE_POISONING_RED=100003,A.E_ROLE_POISONING_GRE=100004,A.E_ROLE_ALIVE=100005,A.E_ROLE_LULL=100006,A.H5CLOSE=5571,A.H5ATTACKMODE=5573,A.LUASOCKET=6018,A.WECHATANDQQ=2012,A.CM_TEST=2022,A.MAPLOADEND=5568,A.UPDATIDCARD=5329,A.GETGAMELIST=8280,A.BUYCRISTAL=25010,A.SELLCRISTAL=25012,A.QUERYCRISTALINFO=25015,A.GUILNEWCREATE=1787,A.GUILOPENNEWCREATE=1788,A.NEWRANKING=97,A.RANKINGUSERSTATE=45202,A.SLAVETARGET=1801,A.SERVERUNIXTIME=45206,A.GETSTATUSCHANGED=45208,A.HEROLIST=9001,A.HERO_BATTLE_ONOFF=9003,A.HERO_FIGHT_ONOFF=9005,A.HERO_CREATE=9007,A.ARMY_FIGHT_ONOFF_ALL=9009,A.ARMY_ATTR=9011,A.ARMY_TAKEONOFF_ITEM=9013,A.ARMY_TAKEON_ITEM_LIST=9015,A.ARMY_MATERIAL_LIST=9041,A.ARMY_MATERIAL_SPECIAL=9043,A.ARMY_MATERIAL_LEVEL=9045,A.ARMY_MATERIAL_MOVE=9047,A.HERO_TREASURE_FIND_LIST=9021,A.HERO_TREASURE_FIND_EXCHANGE=9023,A.HERO_TREASURE_WAREHOUSE_LIST=9025,A.HERO_TREASURE_SOCRE_LIST=9029,A.HERO_TREASURE_WAREHOUSE_ONKEY_GET=9027,A.HERO_TREASURE_SCORE_EXCHANGE=9031,A.ET_MAPEFFECT=100,A.ET_FIRE=5,A.ET_KUNMO=4,A.ET_STONEMINE=11,A.ET_PILESTONES=3,A.ET_DIGOUTZOMBI=1,A.ET_HOLYCURTAIN=4,A.ET_SCULPEICE=6,A.ET_FIRELevel1=115,A.ET_FIRELevel2=116,A.ET_FIRELevel3=117,A.ET_ICEPEAK=10,A.ET_EYEOFDEATH=52,A.ET_LOCK=51,A.ET_FIREFLOWER_0=78,A.ET_FIREFLOWER_1=79,A.ET_FIREFLOWER_2=80,A.ET_FIREFLOWER_3=81,A.ET_FIREFLOWER_4=82,A.ET_FIREFLOWER_5=83,A.ET_FIREFLOWER_6=84,A.ET_FIREFLOWER_7=85,A.ET_FIREFLOWER_8=86,A.ET_FIREDRAGON=87,A.ET_FOUNTIAN=88,A.ET_LAVA=16,A.mtReady=0,A.mtFly=1,A.mtExplosion=2,A.mtFlyAxe=3,A.mtFireWind=4,A.mtFireGun=5,A.mtLightingThunder=6,A.mtThunder=7,A.mtExploBujauk=8,A.mtBujaukGroundEffect=9,A.mtKyulKai=10,A.mtFlyArrow=11,A.mt12=12,A.mt13=13,A.mt14=14,A.mt15=15,A.mt16=16,A.CCMD_CONFIG=1,A.SCMD_CONFIG=1,A.CCMD_ROOM=2,A.SCMD_ROOM=2,A.SERVER_VERSION=1994,A.SM_BEGIN_WORLD=38001,A.SM_END_WORLD=38004,A.CM_SETSHOWFASHION=5013,A.CM_GUILDUPDATEJOINCONDITION=5227,A.CM_GUILDADDMEMBEREX=5228,A.CM_GUILDDELSELF=5229,A.CM_GUILDUNMASTERSELF=5230,A.NEWGUILD=5231,A.CM_GUILDCANCELJOINTO=5232,A.CM_GUILDVIEWJOINCONDITION=5233,A.CM_GUILDGETJOINUSERLIST=5234,A.GUILDMANAGEADD_ACCEPT=5235,A.GUILDMANAGEADD_RREUAL=5236,A.CM_GUILD_ADD_ATTENTION=5237,A.CM_GUILD_DEL_ATTENTION=5238,A.CM_GUILD_REQUEST_ALLY=5239,A.CM_GUILD_ACCEPT_ALLY=5240,A.CM_GUILD_REFUSAL_ALLY=5241,A.CM_GUILD_UN_ALLY=5242,A.CM_GUILD_VIEW_MEMBER_INFO=5243,A.CM_GUILDSETMASTER1=5244,A.CM_GUILDCHANGEALLY=5245,A.CM_GUILD_ADD_GUILDWAR=5246,A.CM_GUILD_DEL_MEMBER_EX=5247,A.CM_GUILD_MEMEBER_MOVE_TO_RANK=5248,A.CM_TAKEONGODBLESS=5110,A.CM_TAKEOFFGODBLESS=5111,A.CM_UPDATACTIVEFENGHAO=5114,A.CM_CUSTOM_BUTTOM_CLICK=5308,A.CM_REQUESTSTDITEM=5119,A.CM_USERSTORAGEVIEWITEM=5124,A.CM_TAKEBACKSTORAGEVIEWITEM=5123,A.CM_GETBACKSTORAGEVIEWITEM=5125,A.CM_HEROLOGON=151,A.CM_MASTERBAGTOHEROBAG=153,A.CM_HEROBAGTOMASTERBAG=154,A.CM_HEROTAKEONITEM=155,A.CM_HEROTAKEOFFITEM=156,A.CM_HEROEAT=157,A.CM_HEROTARGET=158,A.CM_HERODROPITEM=159,A.CM_HEROGROUPATTACK=160,A.CM_HEROMAGICKEYCHANGE=161,A.CM_HEROPROTECT=162,A.CM_QUERYHEROBAGITEMS=5126,A.CM_GAMEPET_TOBAG=5258,A.CM_GAMEPET_RECALL=5259,A.CM_GAMEPET_RETAKE=5260,A.CM_GAMEPET_SELECT_CHANGE=5334,A.CM_TAKEONJEWELRY=5007,A.CM_TAKEOFFJEWELRY=5008,A.CM_SWAPJEWELRYITEM=5009,A.CM_CUSTOM_BUTTON_CLICK=5308,A.CM_BUTTONCLICK=171,A.CM_CONTINUOUSMAGIC=147,A.CM_BAGUSEITEM_MODE47=5335,A.CM_QueryAllAuctionItems=5279,A.CM_QueryMyAuctionItems=5280,A.CM_QueryMyAttentionItems=5281,A.CM_AddAuctionItem=5282,A.CM_CancelMyAuctionItem=5283,A.CM_DeleteMyAuctionItem=5284,A.CM_RetrieveMyAuctionItem=5285,A.CM_AuctionAttentionItem=5286,A.CM_AuctionItemBid=5287,A.CM_AuctionItemBuy=5288,A.CM_RequestAuctionItems_ByIndex=5289,A.CM_CLOSE_BAG_ITEM_CLICK=5313,A.CM_BAGUSEITEM=5117,T._RF.pop()}}}));

System.register("chunks:///_virtual/MsgSM.ts",["cc"],(function(E){"use strict";var S;return{setters:[function(E){S=E.cclegacy}],execute:function(){S._RF.push({},"681af/gOORAJ67E2VT4GqbX","MsgSM",void 0);var A=E("default",(function(){}));A.AUCTIONLIST=45106,A.AUCTIONITEMADD=45107,A.AUCTIONITEMREMOVE=45108,A.AUCTIONITEMUPDATE=45109,A.AUCTIONPUTONTHESHELF=45110,A.AUCTIONOFFTHESHELF=45111,A.AUCTIONPLUSPRICE=45112,A.AUCTIONBUYOUT=45113,A.AUCTIONCLIENTITEM=45115,A.BUYSHOPITEM_FAIL=9004,A.SENTSHOPITEM_FAIL=25005,A.SHOWBOX=5011,A.OPENBOX_FAIL=5014,A.OPENBOX_SUCCESS=5013,A.SENDGETBOXITEMINDEX=5016,A.OVERLAPITEM_OK=5054,A.OVERLAPITEM_FAIL=5055,A.HEROOVERLAPITEM_OK=5056,A.HEROOVERLAPITEM_FAIL=5057,A.QUERYSELECTSHOPINFO_FAIL=1383,A.VIEWBAITAN=7561,A.OPENUPGRADEDLG=5108,A.OVERLAPDRUG_OK=5259,A.OVERLAPDRUG_FAIL=5260,A.NEWCHARSTATUSCHANGED=6021,A.SELLOFFITEM=5217,A.SELLITEM_OK=5218,A.SELLITEM_FULL=5219,A.SELLITEM_FAIL=5220,A.SENDSELLITEMSLIST=5221,A.GETSELLOFFDETAILITEM=5225,A.BUYSELLOFFTEM_OK=5227,A.BUYSELLOFFTEM_FAIL=5228,A.BUYSELLOFFTEM_FULLBAG=5226,A.H5FUNCBTN=8882,A.OPENMYBAITAN=7551,A.ADDPAIMAIITEMFAIL=1498,A.ADDPAIMAIITEMOK=1497,A.SENDSHOPNAME=1457,A.DELUSERSHOPITEM_OK=1499,A.DELUSERSHOPITEM_FAIL=1500,A.DELUSERSHOPITEM=1501,A.DELREMOTEUSERSHOPITEM=1502,A.SENDSHOPITEM=1503,A.SENDCLOSESHOP=1504,A.BUYBAITANITEM=7563,A.SENDTICKCOUNT=980,A.REFRESHVIEWRANGE=10635,A.RUSH=6,A.RUSHKUNG=7,A.BACKSTEP=9,A.TURN=10,A.WALK=11,A.SITDOWN=12,A.RUN=13,A.HIT=14,A.HEAVYHIT=15,A.BIGHIT=16,A.SPELL=17,A.POWERHIT=18,A.LONGHIT=19,A.DIGUP=20,A.DIGDOWN=21,A.FLYAXE=22,A.LIGHTING=23,A.WIDEHIT=24,A.FIREHIT=25,A.CRSHIT=26,A.ALIVE=27,A.MOVEFAIL=28,A.HIDE=29,A.DISAPPEAR=30,A.STRUCK=31,A.DEATH=32,A.SKELETON=33,A.NOWDEATH=34,A.HIT_FAIL=35,A.TWNHIT=37,A.TWINHIT1=37,A.HIT43=38,A.SWORDHIT=39,A.HEAR=40,A.FEATURECHANGED=41,A.USERNAME=42,A.WINEXP=44,A.LEVELUP=45,A.DAYCHANGING=46,A.CUTE=47,A.WINEEXP=48,A.LOGON=50,A.NEWMAP=51,A.ABILITY=52,A.HEALTHSPELLCHANGED=53,A.MAPDESCRIPTION=54,A.GAMEGOLDNAME=55,A.GAMEPOINTNAME=56,A.GAMEGLORY=57,A.HIT60=1118,A.HIT61=1119,A.HIT62=1120,A.HIT66=66,A.SM_66HIT1=166,A.HIT100=67,A.HIT101=68,A.HIT102=69,A.HIT103=70,A.SYSMESSAGE=100,A.GROUPMESSAGE=101,A.CRY=102,A.WHISPER=103,A.GUILDMESSAGE=104,A.MOVEMESSAGE=99,A.DELAYMESSAGE=1180,A.CENTERMESSAGE=107,A.TOPCHATBOARDMESSAGE=108,A.MOVEUPMESSAGE=97,A.ADDITEM=200,A.BAGITEMS=201,A.DELITEM=202,A.UPDATEITEM=203,A.UPDATE_XUNBAOITEM=204,A.DELETE_XUNBAOITEM=205,A.ADDMAGIC=210,A.SENDMYMAGIC=211,A.DELMAGIC=212,A.SENDMAGICLIST=217,A.PASSWD_FAIL=503,A.NEWID_SUCCESS=504,A.NEWID_FAIL=505,A.CHGPASSWD_SUCCESS=506,A.CHGPASSWD_FAIL=507,A.GETBACKPASSWD_SUCCESS=508,A.GETBACKPASSWD_FAIL=509,A.SENGSHOPITEMS=5006,A.QUERYCHR=520,A.NEWCHR_SUCCESS=521,A.NEWCHR_FAIL=522,A.DELCHR_SUCCESS=523,A.DELCHR_FAIL=524,A.STARTPLAY=525,A.STARTFAIL=526,A.QUERYCHR_FAIL=527,A.OUTOFCONNECTION=528,A.PASSOK_SELECTSERVER=529,A.SELECTSERVER_OK=530,A.NEEDUPDATE_ACCOUNT=531,A.UPDATEID_SUCCESS=532,A.UPDATEID_FAIL=533,A.QUERYDELCHR=534,A.GETBAKCHAR_SUCCESS=535,A.GETBAKCHAR_FAIL=536,A.DROPITEM_SUCCESS=600,A.DROPITEM_FAIL=601,A.ITEMSHOW=610,A.ITEMHIDE=611,A.OPENDOOR_OK=612,A.OPENDOOR_LOCK=613,A.CLOSEDOOR=614,A.TAKEON_OK=615,A.TAKEON_FAIL=616,A.STORAGEVIEW=5246,A.TAKEOFFITEM=5026,A.TAKEOFF_OK=619,A.TAKEOFF_FAIL=620,A.SENDUSEITEMS=621,A.WEIGHTCHANGED=622,A.CLEAROBJECTS=633,A.CHANGEMAP=634,A.EAT_OK=635,A.EAT_FAIL=636,A.BUTCH=637,A.MAGICFIRE=638,A.MAGICFIRE_FAIL=639,A.MAGIC_LVEXP=640,A.DURACHANGE=642,A.MERCHANTSAY=643,A.MERCHANTDLGCLOSE=644,A.SENDGOODSLIST=645,A.SENDUSERSELL=646,A.SENDBUYPRICE=647,A.USERSELLITEM_OK=648,A.USERSELLITEM_FAIL=649,A.BUYITEM_SUCCESS=650,A.BUYITEM_FAIL=651,A.TradingBUYITEM_SUCCESS=10285,A.TradingSELLITEMS_RET=10286,A.SENDDETAILGOODSLIST=652,A.GOLDCHANGED=653,A.CHANGELIGHT=654,A.LAMPCHANGEDURA=655,A.CHANGENAMECOLOR=656,A.CHARSTATUSCHANGED=657,A.SENDNOTICE=658,A.GROUPMODECHANGED=659,A.CREATEGROUP_OK=660,A.CREATEGROUP_FAIL=661,A.REQUEST_GORUP_JOIN=10306,A.GROUPADDMEM_OK=662,A.GROUPDELMEM_OK=663,A.GROUPADDMEM_FAIL=664,A.GROUPDELMEM_FAIL=665,A.GROUPCANCEL=666,A.GROUPMEMBERS=667,A.SENDUSERREPAIR=668,A.USERREPAIRITEM_OK=669,A.USERREPAIRITEM_FAIL=670,A.SENDREPAIRCOST=671,A.DEALMENU=673,A.DEALTRY_FAIL=674,A.DEALADDITEM_OK=675,A.DEALADDITEM_FAIL=676,A.DEALDELITEM_OK=677,A.DEALDELITEM_FAIL=678,A.DEALCANCEL=681,A.DEALREMOTEADDITEM=682,A.DEALREMOTEDELITEM=683,A.DEALCHGGOLD_OK=684,A.DEALCHGGOLD_FAIL=685,A.DEALREMOTECHGGOLD=686,A.DEALSUCCESS=687,A.SENDUSERSTORAGEITEM=700,A.STORAGE_OK=701,A.STORAGE_FULL=702,A.STORAGE_FAIL=703,A.SAVEITEMLIST=704,A.TAKEBACKSTORAGEITEM_OK=705,A.TAKEBACKSTORAGEITEM_FAIL=706,A.TAKEBACKSTORAGEITEM_FULLBAG=707,A.AREASTATE=708,A.DELITEMS=709,A.READMINIMAP_OK=710,A.READMINIMAP_FAIL=711,A.SENDUSERMAKEDRUGITEMLIST=712,A.MAKEDRUG_SUCCESS=713,A.MAKEDRUG_FAIL=714,A.SM716=716,A.CHANGEGUILDNAME=750,A.SENDUSERSTATE=751,A.SUBABILITY=752,A.OPENGUILDDLG=753,A.OPENGUILDDLG_FAIL=754,A.SENDGUILDMEMBERLIST=756,A.GUILDADDMEMBER_OK=757,A.GUILDADDMEMBER_FAIL=758,A.GUILDDELMEMBER_OK=759,A.GUILDDELMEMBER_FAIL=760,A.GUILDRANKUPDATE_FAIL=761,A.BUILDGUILD_OK=762,A.BUILDGUILD_FAIL=763,A.DONATE_OK=764,A.DONATE_FAIL=765,A.MYSTATUS=766,A.MENU_OK=767,A.GUILDMAKEALLY_OK=768,A.GUILDMAKEALLY_FAIL=769,A.GUILDBREAKALLY_OK=770,A.GUILDBREAKALLY_FAIL=771,A.DLGMSG=772,A.SPACEMOVE_HIDE=800,A.SPACEMOVE_SHOW=801,A.RECONNECT=802,A.GHOST=803,A.SHOWEVENT=804,A.SHOWEVENTEX=1804,A.HIDEEVENT=805,A.SPACEMOVE_HIDE2=806,A.SPACEMOVE_SHOW2=807,A.TIMECHECK_MSG=810,A.ADJUST_BONUS=811,A.NEWGUILD=822,A.OPENMISSIONDLG=931,A.DELETEDELAYMESSAGE=1496,A.SHOWFASHION=934,A.OPENHEALTH=1100,A.CLOSEHEALTH=1101,A.CHANGEFACE=1104,A.BREAKWEAPON=1102,A.INSTANCEHEALGUAGE=1103,A.VERSION_FAIL=1106,A.MONSTERSAY=1501,A.MAGSBYSSHOW=1514,A.PLAYDICE=1200,A.THROW=65069,A.HANGUP=1519,A.SENDLEAVEGUILD=1790,A.DIYHIT=2020,A.DIYMAGIC=8970,A.SUITITEMLIST=2049,A.ZHAOMU=4001,A.ADDZHAOMU=4002,A.MISSIONNPC=5e3,A.ATTATCKMODE=1325,A.SENDGAMELIST=5002,A.PASSWORD=5009,A.HORSERUN=5,A.TAKEONITEM=5025,A.UNBINDLIST=5048,A.EFFECTIMAGELIST=1353,A.CHANGESPEED=5069,A.SPECIALCMD=1396,A.WEATHER=1397,A.ABILITYALCOHOL=5187,A.OPENCOBWEBWINDING=5192,A.CLOSECOBWEBWINDING=5193,A.TRAININGNG=5203,A.MAPCANRUN=5207,A.PLUGFILE=5208,A.MODULEMD5=5209,A.BLACKMODULEMD5=5210,A.SENDUSERADDEFFECT=5230,A.PLAYMAGICBALLEFFECT_GOM=5231,A.SENDUSEREFFECT=5111,A.STONEVALUE=5236,A.BEAD=5248,A.BINDGOLDCHANGED=5256,A.HIT_2=5232,A.HIT_3=5233,A.HIT_4=5234,A.HIT_5=5235,A.ITEMDESCLIST=5252,A.SAFEPOINT=5298,A.SENDUSERICONGIF=5309,A.FILTERITEM=15545,A.BLUEMISSIONLIST=15547,A.DOUBLEEXP=15612,A.POISON_DECHEALTH=17001,A.POISON_DAMAGEARMOR=17003,A.POISON_STONE=17007,A.STRUCK_BLAST=17019,A.HEROGROUPATTACK=17022,A.REBOUND=17023,A.NPCHSPELLCHANGED=5257,A.SERVERCONFIG=20002,A.GETITEMINFO=20004,A.FRIENDS=20006,A.GETFRIENDINFO=5249,A.EXCHGTAKEON_OK=65023,A.EXCHGTAKEON_FAIL=65024,A.GROUPLIST=45002,A.GROUPAPPLY=45004,A.GROUPAPPLY_FAIL=45007,A.GROUPACCEPT_FAIL=45008,A.TEST=65037,A.ACTION_MIN=65070,A.ACTION_MAX=65071,A.ACTION2_MIN=65072,A.ACTION2_MAX=65073,A.FLASHMISSIONBUTTON=65073,A.OPENMISSIONWINDOWEX=65076,A.CLOSEMISSIONWINDOWEX=65077,A.NEWTASKLIST=65079,A.NEWTASKOPERATE=65081,A.SENDMAILSTATE=65090,A.SENDUSERMAIL=65091,A.SENDUSERMAILCONTENT=65093,A.UPDATEUSERMAILITEM=65095,A.MAIL_OK=65101,A.MAIL_FAIL=65102,A.DELETEALLMAIL=65103,A.ADDNEWMAIL=65104,A.OFFLINETIME=10012,A.EXTENDBAGSLOT=65105,A.OPENNEWGUILDDLG=785,A.OPENGUILDINFO=786,A.OPENBIGMERCHANTBIGDLG=5065,A.CLOSEBIGMERCHANTBIGDLG=5066,A.LEGTZLIST=15546,A.LIGHTINGEX=5194,A.SENDACTORBUFFS=6010,A.REDPACK=1510,A.OpenRedPac=1511,A.OPENMISSIONWINDOW=65071,A.CLOSECLIENTBUFF=6011,A.FISHMESSAGE=1299,A.CORRECTPOINT=5566,A.STOPBAITAN=7566,A.AUTOGOTOXY=5027,A.SCREENEFFECT=5051,A.CUSTOMBUTTON=5244,A.WEBH5VERSION=5567,A.SENDH5CODE=5570,A.SENDWEBBROWSER=5110,A.SOFTCLOSE=5159,A.OPENUPGRADEDIALOG=5154,A.SENDUPGRADEDIALOG_FAIl=5156,A.SENDUPGRADEDIALOG_OK=5155,A.LUASOCKET=6017,A.WECHATANDQQ=2013,A.WECHATANDQQRes=2014,A.GETSERVERLIST=7280,A.GETH5CONFIG=7281,A.BIGDATA=15548,A.USERICONLIST=812,A.SENDUSERICON=5109,A.PACKAGEITEM_OK=5060,A.PACKAGEITEM_FAIL=5061,A.QUERYUSERSHOPS=1370,A.SEARCHSHOPITEMS=1372,A.QUERYSELECTSHOPINFO=1382,A.QUERYUSERSHOPITEMS=1371,A.SENDBUYUSERSHOPITEM_OK=1384,A.SENDBUYUSERSHOPITEM_FAIL=1385,A.SENDMOVEMYSHOPITEM_OK=1380,A.SENDMOVEMYSHOPITEM_FAIL=1381,A.QUERYMYSHOPSELLINGITEMS=1373,A.QUERYMYSHOPSELLEDITEMS=1374,A.QUERYMYSHOPSTORAGEITEMS=1375,A.SENDADDTOMYSHOP_OK=1376,A.SENDADDTOMYSHOP_FAIL=1377,A.SENDCHANGEMYSHOPITEM_OK=1378,A.SENDCHANGEMYSHOPITEM_FAIL=1379,A.SENDSETTINGGEM_OK=5550,A.SENDSETTINGGEM_FAIL=5551,A.BOXITEM=20010,A.HEROBAGCOUNT=821,A.HEROBAGITEMS=902,A.MASTERBAGTOHEROBAG_OK=817,A.MASTERBAGTOHEROBAG_FAIL=818,A.HEROBAGTOMASTERBAG_OK=819,A.HEROBAGTOMASTERBAG_FAIL=820,A.HEROADDITEM=905,A.HERODELITEM=906,A.HEROUPDATEITEM=927,A.HEROTAKEON_OK=907,A.HEROTAKEON_FAIL=908,A.HERODROPITEM_SUCCESS=920,A.HERODROPITEM_FAIL=921,A.HEROEAT_OK=911,A.HEROEAT_FAIL=912,A.HERODELITEMS=928,A.HEROTAKEOFF_OK=909,A.HEROTAKEOFF_FAIL=910,A.HEROCHANGEITEM=929,A.HERODURACHANGE=919,A.HEROPACKAGEITEM_OK=5062,A.HEROPACKAGEITEM_FAIL=5063,A.HEROLOGOUT=896,A.HEROLOGON=897,A.HEROLOGON_OK=930,A.HEROLOGOUT_OK=918,A.HEROLOYAL=898,A.HEROABILITY=900,A.HEROSUBABILITY=901,A.SENDHEROUSEITEMS=903,A.SENDMYHEROMAGIC=904,A.HEROADDMAGIC=913,A.HERODELMAGIC=914,A.HEROMAGIC_LVEXP=925,A.HEROLEVELUP=922,A.HEROWINEXP=923,A.HEROABILITYNG=5189,A.HEROABILITYALCOHOL=5190,A.HEROABILITYMERIDIANS=5191,A.HEROWEIGHTCHANGED=924,A.HEROANGERVALUE=916,A.SENDSUPERSHILEDEFFECT=5112,A.TZDESCLIST=5352,A.OPENITEMBOXEX=6e3,A.AUTOPICKUPITEMS=6255,A.CJ=714,A.API_GETITEM=5599,A.RANDOMCODE=2008,A.SENDNEWLINEMSG=96,A.ACTION_RET=110,A.SENDH5TOPEFFECT=5667,A.UPDATIDCARD=5330,A.UPDATIDCARD_FAIL=5331,A.ITEMSCORE=9098,A.SERVERCLOSE=10011,A.RUSHKUNG_STOP=3007,A.BUYCRISTAL=25011,A.SELLCRISTAL=25013,A.CRISTALINFO=25014,A.OPENCRISTALFORM=25019,A.UPDATEITEMSCORE=5265,A.ITEMSCORETEXT=9100,A.SENDGUILDCREATESTUFF=1789,A.NEWRANKING=45201,A.SERVERUNIXTIME=45207,A.IS_FALSE_ARTICLE=12316,A.PLAYSOUND=5064,A.PLAYMUSIC=5064,A.HEROLIST=9002,A.HERO_FIGHT_ONOFF=9006,A.HERO_CREATE=9008,A.ARMY_FIGHT_ONOFF_ALL=9010,A.ARMY_ATTR=9012,A.ARMY_TAKEONOFF_ITEM=9014,A.ARMY_TAKEON_ITEM_LIST=9016,A.ARMY_PROPERTY_CHANGE=9017,A.ARMY_MATERIAL_LIST=9042,A.ARMY_MATERIAL_SPECIAL=9044,A.ARMY_MATERIAL_LEVEL=9046,A.ARMY_MATERIAL_MOVE=9048,A.HERO_TREASURE_FIND_LIST=9022,A.HERO_TREASURE_FIND_EXCHANGE=9024,A.HERO_TREASURE_WAREHOUSE_LIST=9026,A.HERO_TREASURE_SOCRE_LIST=9030,A.HERO_TREASURE_WAREHOUSE_ONKEY_GET=9028,A.HERO_TREASURE_SCORE_EXCHANGE=9032,A.COMBATPOWER=5266,A.OPENNEWGUI=8886,A.NEWGUIITEMSHOW=8887,A.SERVER_VERSION=1994,A.SM_BEGIN_WORLD=38001,A.SM_END_WORLD=38004,A.SENDCUSTOMMONSTERCONFIG=8945,A.GXX_SERVERCONFIG=5007,A.GXX_GAMEGOLDNAME=55,A.GXX_GAMEPOINTNAME=1320,A.GXX_OPENBIGMERCHANTBIGDLG=1365,A.GXX_MISSIONNPC=1324,A.SM_SENGSHOPITEMS=9001,A.SM_SENGRANKING=1330,A.SM_UPDATEITEM_DURA=10325,A.SM_ADDDLG=10321,A.SM_DELDLG=10322,A.SM_SCREENEFFECT=1355,A.SM_STOPSCREENEFFECT=10233,A.SM_CLEARSCREENEFFECT=10236,A.SM_ATTACK_MISS=10276,A.SM_ATTACK01=8946,A.SM_ATTACK02=8947,A.SM_ATTACK03=8948,A.SM_ATTACK04=8949,A.SM_ATTACK05=8950,A.SM_ATTACK06=8951,A.SM_ADD_EFFECT_PLAY=10418,A.SM_SENDSUPERSHILEDEFFECT=1392,A.SM_HPMPCHANGED_FORM_STONE=10309,A.SM_GUILDMASTER_CANCEL=10201,A.SM_GUILDJOINCONDITION=10202,A.SM_GUILDUNMASTERSELF_OK=10203,A.SM_GUILDUNMASTERSELF_FAIL=10204,A.SM_OPENGUILDADDDLG=10205,A.SM_GUILDJOINTO_OK=10206,A.SM_GUILDJOINTO_FAIL=10207,A.SM_GUILDCANCELJOINTO_OK=10208,A.SM_GUILDCANCELJOINTO_FAIL=10209,A.SM_GUILDVIEWJOINCONDITION=10210,A.SM_GUILDVIEWJOINCONDITION_FAIL=10211,A.SM_GUILDGETJOINUSERLIST=10212,A.SM_GUILDACCEPTUSERJOIN_OK=10213,A.SM_GUILDACCEPTUSERJOIN_FAIL=10214,A.SM_GUILDREFUSALUSERJOIN_OK=10215,A.SM_GUILDREFUSALUSERJOIN_FAIL=10216,A.SM_GUILDUSERJOIN_OK=10217,A.SM_GUILDADDATTENTION_RET=10218,A.SM_GUILDDELATTENTION_RET=10219,A.SM_GUILDREQUESTALLY_RET=10220,A.SM_GUILDACCEPTALLY_RET=10221,A.SM_GUILDREFUSALALLY_RET=10222,A.SM_GUILDUNALLY_RET=10223,A.SM_GUILDVIEWMEMBERINFO_RET=10224,A.SM_GUILDSETMASTER1_RET=10225,A.SM_GUILDCHANGEALLY_FAIL=10226,A.SM_GUILD_ADD_GUILDWAR_RET=10227,A.SM_GUILD_DEL_MEMBER_EX_RET=10228,A.SM_GUILD_MEMBER_MOVE_TO_RANK_RET=10229,A.STDITEMLIST=1520,A.SENDITEMDESCLIST=1507,A.SENDTZITEMDESCLIST=1508,A.SENDITEMDESCTOPLIST=8973,A.SENDFILTERITEMLIST=1506,A.SM_TAKEONGODBLESSITEM_OK=8935,A.SENDDROPITEMEFFECTLIST=8974,A.SM_TAKEONGODBLESSITEM_FAIL=8936,A.SM_UPDATEGODBLESS=8931,A.SM_TAKEOFFGODBLESSITEM_OK=8937,A.SM_TAKEOFFGODBLESSITEM_FAIL=8938,A.SM_STORAGEVIEWITEMLIST=8966,A.SM_UPDATEFENGHAOITEMS=8939,A.SM_ACTIVEFENGHAOITEM=8943,A.SM_SENDCUSTOMNPCCONFIG=8972,A.SM_RESPONSESTDITEM=8961,A.SM_SENDUSERSTATE_FENGHAO=8944,A.SM_FEATURECHANGED_NEW=8928,A.SM_CLEAR_BAG_ITEMS=10625,A.SM_MAGIC_HINT_MSG=10316,A.SM_CHANGESPEED=1369,A.SM_STORAGEPAGE_NOOPEN=10284,A.SM_HEROPACKAGEITEM_OK=1362,A.SM_HEROPACKAGEITEM_FAIL=1363,A.SM_HEROTAKEONITEM=1341,A.SM_HEROTAKEOFFITEM=1342,A.SM_MASTERBAGTOHEROBAG_OK=1458,A.SM_MASTERBAGTOHEROBAG_FAIL=1459,A.SM_HEROBAGTOMASTERBAG_OK=1460,A.SM_HEROBAGTOMASTERBAG_FAIL=1461,A.SM_HEROBAGCOUNT=1462,A.SM_HEROLOGOUT=1463,A.SM_HEROLOGON=1464,A.SM_HEROLOYAL=1465,A.SM_HEROABILITY=1466,A.SM_HEROSUBABILITY=1467,A.SM_HEROBAGITEMS=1468,A.SM_SENDHEROUSEITEMS=1469,A.SM_SENDMYHEROMAGIC=1470,A.SM_HEROADDITEM=1471,A.SM_HERODELITEM=1472,A.SM_HEROTAKEON_OK=1473,A.SM_HEROTAKEON_FAIL=1474,A.SM_HEROTAKEOFF_OK=1475,A.SM_HEROTAKEOFF_FAIL=1476,A.SM_HEROEAT_OK=1477,A.SM_HEROEAT_FAIL=1478,A.SM_HEROADDMAGIC=1479,A.SM_HERODELMAGIC=1480,A.SM_HEROANGERVALUE=1481,A.SM_HEROLOGOUT_OK=1482,A.SM_HERODURACHANGE=1483,A.SM_HERODROPITEM_SUCCESS=1484,A.SM_HERODROPITEM_FAIL=1485,A.SM_HEROLEVELUP=1486,A.SM_HEROWINEXP=1487,A.SM_HEROWEIGHTCHANGED=1488,A.SM_HEROMAGIC_LVEXP=1489,A.SM_HEROCHANGEFACE=1490,A.SM_HEROUPDATEITEM=1491,A.SM_HERODELITEMS=1492,A.SM_HEROCHANGEITEM=1493,A.SM_HEROLOGON_OK=1494,A.SM_SENDUSERICON=1389,A.SM_SENDUSEREFFECT=1391,A.SM_GAMEPETLIST=10247,A.SM_ADDGAMEPET=10248,A.SM_DELGAMEPET=10249,A.SM_UPDATEGAMEPETABIL=10250,A.SM_UPDATEGAMEPET=10251,A.SM_SETCURRENTGAMEPET=10252,A.SM_PETLEVELUP=10265,A.SM_PETWINEXP=10266,A.SM_HEROM2SENDDRESSEFFECT=1505,A.SM_UPDATEJEWELRYBOX=8905,A.SM_TAKEONJEWELRY_OK=8906,A.SM_TAKEONJEWELRY_FAIL=8907,A.SM_TAKEOFFJEWELRY_OK=8908,A.SM_TAKEOFFJEWELRY_FAIL=8909,A.SM_CUSTOMITEMPROPERTYCONFIG=10350,A.SM_CUSTOMITEMPROPERTYTEXTVARLIST=10351,A.SM_ADDBUTTON=1516,A.SM_DELBUTTON=1517,A.SM_TAKEONITEM=1336,A.UPDATECOLLECT=8912,A.DELBOXITEM=8913,A.RETURNBOXITEM=8914,A.UPDATEBOXITEM=8915,A.moveToItemBoxOk=8916,A.moveToItemBoxFail=8917,A.moveToBagOk=8918,A.moveToBagFail=8919,A.GIVEBOXITEM=8926,A.TAKEBOXITEM=8927,A.CUSTOM_HIT001=11e3,A.CUSTOM_MAGICMOVE001=11500,A.CUSTOM_PUSH001=12e3,A.SM_REFABILNG=1436,A.SM_ABILITYNG=1437,A.SM_ABILITYMERIDIANS=1439,A.SM_CONTINUOUSMAGICORDER=1446,A.SM_CONTINUOUSMAGIC_OK=1447,A.SM_CONTINUOUSMAGIC_FAIL=1448,A.SM_CANCONTINUOUSMAGIC=1449,A.SM_PLAYMAGICBALLEFFECT=8924,A.SM_GAMEGLORY=1321,A.SM_FBTIME=8900,A.SM_SENDBIGHPPROGRESS=10246,A.SM_OPENAUCTIONVIEW=10287,A.SM_QueryAllAuctionItems=10288,A.SM_QueryMyAuctionItems=10289,A.SM_QueryMyAttentionItems=10290,A.SM_ADDAUCTIONITEM_RET=10291,A.SM_CANCELMYAUCTIONITEM_RET=10292,A.SM_RETRIEVEMYAUCTIONITEM_RET=10293,A.SM_DELETEMYAUCTIONITEM_RET=10294,A.SM_AuctionAttentionItem_RET=10295,A.SM_AuctionItemBid_RET=10296,A.SM_RequestAuctionItems_ByIndex_RET=10297,A.SM_AuctionBroadcastMsg=10298,A.SM_SENDENABLEDAUCTIONITEMLIST=8975,A.SM_UPDATEITEM_FLUTE=10336,A.SM_EXT_BAG_COUNT_CHANGE=10409,A.SM_MOVEHINTMSG=10304,S._RF.pop()}}}));

System.register("chunks:///_virtual/MyShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,o,i,n,s,r,a,h,g,l,m,p,d,c,u,y,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.EditBox,h=e.Label,g=e.Sprite,l=e.Component},function(e){m=e.EventMgr},function(e){p=e.Config},function(e){d=e.default},function(e){c=e.uiControl},function(e){u=e.ObjectManage},function(e){y=e.sendmessage},function(e){S=e.GameUtil}],execute:function(){var M,_,L,f,I,C,v,N,b;s._RF.push({},"6bad20a72xBXrThAoFeXaHq","MyShop",void 0);var B=r.ccclass,G=r.property;e("MyShop",(M=B("MyShop"),_=G(a),L=G(h),f=G(h),M((v=t((C=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"shopName",v,n(t)),i(t,"itemName",N,n(t)),i(t,"itemPrice",b,n(t)),t.ItemCanMove=!1,t}o(t,e);var s=t.prototype;return s.start=function(){m.addEventListener(d.UPDATE_SHOP_LIST,this.showShopItem,this),m.addEventListener(d.DEL_SHOP_ITEM,this.delShopItem,this),m.addEventListener(d.ONSURECOMFIRMFROMSVR,this.onSureComfirmFromSvr,this),this.init()},s.init=function(){p.g_OpenMyShop=!0;var e=u.findobject(p.playerID);if(e){var t=e.stallstxt.getComponent(h).string;t&&(this.shopName.string=t)}S.loadResLocal("MyShop/myshopwin.png",this.node.getComponent(g)),S.loadResLocal("HumWin/btn_ok.png",this.node.getChildByName("sure").getComponent(g)),S.loadResLocal("HumWin/btn_ok.png",this.node.getChildByName("cancel").getComponent(g)),S.loadResLocal("public/btn_close (2).png",this.node.getChildByName("Button").getChildByName("Sprite").getComponent(g));for(var o=0;o<this.node.getChildByName("ToggleGroup").children.length;o++)S.loadResLocal("ScreenWin/img_bag_bg.png",this.node.getChildByName("ToggleGroup").children[o].getComponent(g)),S.loadResLocal("MyShop/img_bag_bg1.png",this.node.getChildByName("ToggleGroup").children[o].getChildByName("Checkmark").getComponent(g))},s.showShopItem=function(){for(var e=this,t=function(t){if(null==p.g_MyShopList[t]||null==p.g_MyShopList[t]||!p.g_MyShopList[t].Items||null==p.g_MyShopList[t].Items)return"continue";var o=p.g_MyShopList[t].Items,i=e.node.getChildByName("ToggleGroup").children[t].getChildByName("Sprite");S.loadImg(o.s.Looks,"items",(function(e){i.getComponent(g).spriteFrame=e.imgUrl,S.showItemeffect(i,p.g_MyShopList[t].Items)})),(17==p.g_MyShopList[t].Items.s.StdMode||18==p.g_MyShopList[t].Items.s.StdMode||41==p.g_MyShopList[t].Items.s.StdMode||40==p.g_MyShopList[t].Items.s.StdMode||42==p.g_MyShopList[t].Items.s.StdMode||31==p.g_MyShopList[t].Items.s.StdMode&&-1!=p.g_MyShopList[t].Items.s.Name.indexOf("经验卷轴"))&&p.g_MyShopList[t].Items.s.Reserved>0&&p.g_MyShopList[t].Items.Dura>0?i.getChildByName("Label").getComponent(h).string="x"+(p.g_MyShopList[t].Items.Dura+1):0==p.g_MyShopList[t].Items.s.StdMode&&5==p.g_MyShopList[t].Items.s.Source&&p.g_MyShopList[t].Items.Dura>0?i.getChildByName("Label").getComponent(h).string="x"+p.g_MyShopList[t].Items.Dura:i.getChildByName("Label").getComponent(h).string=""},o=0;o<p.g_MyShopList.length;o++)t(o)},s.delShopItem=function(e){for(var t=0;t<p.g_MyShopList.length;t++){if(null!=p.g_MyShopList[t]&&p.g_MyShopList[t].Items.MakeIndex==e)return p.g_MyShopList[t]=null,void(this.node.getChildByName("ToggleGroup").children[t].getChildByName("Sprite").getComponent(g).spriteFrame=null)}},s.Shop_Listselect=function(e,t){if(this.itemName.string="",this.itemPrice.string="",p.g_OpenIdx=30,this.ItemCanMove=!0,null!=p.g_MyShopList[t])switch(p.g_MoveItems.Items=p.g_MyShopList[t].Items,S.newShowItemsInf(p.g_MoveItems.Items),this.itemName.string=p.g_MoveItems.Items.s.Name,p.g_MyShopList[t].nType){case 0:this.itemPrice.string=p.g_MyShopList[t].nGold+" "+p.g_GameGoldNum.key;break;case 1:this.itemPrice.string=p.g_MyShopList[t].nGold+" "+p.g_GamePointNum.key;break;case 2:this.itemPrice.string=p.g_MyShopList[t].nGold+" "+p.g_GameCionNum.key;break;case 3:this.itemPrice.string=p.g_MyShopList[t].nGold+" "+p.g_nGameDiamond.key;break;case 4:this.itemPrice.string=p.g_MyShopList[t].nGold+" "+p.g_nGameGird.key}},s.onSure=function(){var e=this;if(p.player_stalls){c.handlerAlert({type:1,content:"正在摆摊中",sF:function(){e.node.destroy()}})}else""!=this.shopName.string?this.shopName.string.length>15?c.handlerAlert({type:1,content:"摆摊名称最多15个字！！"}):y.StartBaiTan(this.shopName.string):c.handlerAlert({type:1,content:"摆摊名称不可为空！！！"})},s.onSureComfirmFromSvr=function(e){u.findobject(e.id).stallssetting(e.data),e&&this.node.destroy()},s.onCancel=function(){y.StopBaiTan(),this.onClose()},s.onClose=function(){p.g_OpenMyShop=!1,this.node.destroy()},s.onDestroy=function(){console.log("关闭摆摊》》》》"),m.removeEventListener(d.UPDATE_SHOP_LIST,this.showShopItem),m.removeEventListener(d.DEL_SHOP_ITEM,this.delShopItem,this),m.removeEventListener(d.ONSURECOMFIRMFROMSVR,this.onSureComfirmFromSvr)},t}(l)).prototype,"shopName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(C.prototype,"itemName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(C.prototype,"itemPrice",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=C))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/MyStore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./UIcontrol.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,o,n,r,a,s,l,h,m,p,d,g,u,c,y,_,b,C,S,I,f,x,v,B,N,w,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Button,h=e.EditBox,m=e.Prefab,p=e.Node,d=e.Label,g=e.instantiate,u=e.NodeEventType,c=e.Layers,y=e.color,_=e.HorizontalTextAlignment,b=e.UITransform,C=e.Vec3,S=e.Component},function(e){I=e.EventMgr},function(e){f=e.Config},function(e){x=e.default},function(e){v=e.resourcesMgr},function(e){B=e.uiControl},function(e){N=e.sendmessage},function(e){w=e.GameApi},function(e){R=e.GameUtil}],execute:function(){var E,M,L,T,A,P,z,O,D,k,G,H,j,U,V,W,F,Q,J,K,Z,q,X,Y,$,ee,te,ie,oe,ne,re,ae,se,le,he,me,pe,de,ge,ue,ce,ye,_e,be,Ce,Se,Ie,fe,xe,ve,Be,Ne,we,Re,Ee,Me,Le,Te,Ae,Pe,ze;r._RF.push({},"4e7abUxGOJM7Zig+KULsUjS","MyStore",void 0);var Oe=a.ccclass,De=a.property;e("MyStore",(E=Oe("MyStore"),M=De(s),L=De(l),T=De(l),A=De(l),P=De(l),z=De(l),O=De(l),D=De(l),k=De(h),G=De(h),H=De(h),j=De(h),U=De(m),V=De(p),W=De(d),F=De(m),Q=De(p),J=De(d),K=De(m),Z=De(p),q=De(d),X=De(m),Y=De(p),$=De(p),ee=De(d),te=De(d),ie=De(d),oe=De(d),ne=De(d),E((se=t((ae=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"img_item",se,n(t)),o(t,"ShopType",le,n(t)),o(t,"type1",he,n(t)),o(t,"type2",me,n(t)),o(t,"position",pe,n(t)),o(t,"category",de,n(t)),o(t,"sort",ge,n(t)),o(t,"type",ue,n(t)),o(t,"price",ce,n(t)),o(t,"input_search",ye,n(t)),o(t,"price_low",_e,n(t)),o(t,"price_high",be,n(t)),o(t,"pref_ComBoBox",Ce,n(t)),o(t,"box_0",Se,n(t)),o(t,"text_num0",Ie,n(t)),o(t,"StoreStorageItem",fe,n(t)),o(t,"box_1",xe,n(t)),o(t,"text_num1",ve,n(t)),o(t,"StoreSoldItem",Be,n(t)),o(t,"box_2",Ne,n(t)),o(t,"text_num2",we,n(t)),o(t,"MyStoreItem",Re,n(t)),o(t,"box_3",Ee,n(t)),o(t,"box_4",Me,n(t)),o(t,"txt_storeName",Le,n(t)),o(t,"txt_storeTime",Te,n(t)),o(t,"txt_storeSelling",Ae,n(t)),o(t,"txt_storeSelled",Pe,n(t)),o(t,"txt_storeStorage",ze,n(t)),t.comBoBox=null,t.Storetype=-1,t.MaxPage=1,t.CurPage=1,t.showType_list=["店铺","仓库"],t.showType_idx=0,t.type1_list=["元宝","游戏点","金币"],t.type1_idx=0,t.type2_list=["装饰","补给","强化","好友","限量","奇珍"],t.type2_idx=0,t.position_list=["正在出售","已经出售","我的仓库"],t.position_idx=0,t.category_list=["所有","装饰","补给","强化","好友","限量","奇珍"],t.category_idx=0,t.sort_list=["价格从低到高","价格从高到低"],t.sort_idx=0,t.type_list=["不限","元宝","游戏点","金币"],t.type_idx=0,t}i(t,e);var r=t.prototype;return r.start=function(){var e=this.node.getChildByName("bg").getComponent(s);R.loadResLocal("PersonalStore/personalstore_bg.png",e);var t=this.node.getChildByName("box0").getChildByName("Layout").children;this.handleloadRes(t);var i=this.node.getChildByName("box1").getChildByName("Layout").children;this.handleloadRes(i);var o=this.node.getChildByName("box2").getChildByName("Layout").children;this.handleloadRes(o);for(var n=this.node.getChildByName("Layout").children,r=0;r<n.length;r++){var a=n[r].getComponent(s);R.loadResLocal("SplitResource/SendRedPack/btn_ok (2).png",a)}var l=this.node.getChildByName("Node").getChildByName("input_search").getComponent(s);R.loadResLocal("public/jiaoyi_input.png",l);var h=this.node.getChildByName("Node").getChildByName("position").getComponent(s);R.loadResLocal("SplitResource/Btns/personalstore_combobox.png",h);var m=this.node.getChildByName("Node").getChildByName("category").getComponent(s);R.loadResLocal("SplitResource/Btns/personalstore_00094 (2).png",m);var p=this.node.getChildByName("Node").getChildByName("type").getComponent(s);R.loadResLocal("SplitResource/Btns/personalstore_00094 (2).png",p);var d=this.node.getChildByName("Node").getChildByName("sort").getComponent(s);R.loadResLocal("SplitResource/Btns/personalstore_combobox (2).png",d);var g=this.node.getChildByName("Node").getChildByName("btn_search").getComponent(s);R.loadResLocal("public/btn_ok.png",g);var u=this.node.getChildByName("Node").getChildByName("price_low").getComponent(s);R.loadResLocal("public/jiaoyi_input.png",u);var c=this.node.getChildByName("Node").getChildByName("price_high").getComponent(s);R.loadResLocal("public/jiaoyi_input.png",c);var y=this.node.getChildByName("Node").getChildByName("img_item").getComponent(s);R.loadResLocal("PersonalStore/00099.png",y);var _=this.node.getChildByName("Node").getChildByName("type1").getComponent(s);R.loadResLocal("SplitResource/Btns/personalstore_00094 (2).png",_);var b=this.node.getChildByName("Node").getChildByName("ShopType").getComponent(s);R.loadResLocal("SplitResource/Btns/personalstore_00094 (2).png",b);var C=this.node.getChildByName("Node").getChildByName("type2").getComponent(s);R.loadResLocal("SplitResource/Btns/personalstore_00094 (2).png",C);var S=this.node.getChildByName("Node").getChildByName("price").getComponent(s);R.loadResLocal("public/jiaoyi_input.png",S);var I=this.node.getChildByName("Node").getChildByName("btn_add").getComponent(s);R.loadResLocal("public/btn_ok.png",I);var f=this.node.getChildByName("Node").getChildByName("btn_baitan").getComponent(s);R.loadResLocal("public/btn_ok.png",f);var x=this.node.getChildByName("close").getComponent(s);R.loadResLocal("public/btn_close (2).png",x)},r.handleloadRes=function(e){for(var t=e,i=0;i<t.length;i++){var o=t[i].getComponent(s);R.loadResLocal("public/jiaoyi_input.png",o)}},r.init=function(){I.addEventListener("drawAddItem",this.addItemIcon,this),I.addEventListener(x.SHOW_STORE_MESSAGE,this.showStoreMessage,this),I.addEventListener(x.SHOW_STORE_SELLING,this.showStoreSelling,this),I.addEventListener(x.GAME_SHOWSTOREPAGE,this.showStorePage,this),I.addEventListener(x.SHOW_STORE_SOLD,this.showStoreSold,this),I.addEventListener(x.SHOW_STORE_STORAGE,this.showStoreStorage,this),I.addEventListener(x.DELETE_ITEMIMAGE,this.deleteItemImg,this),I.addEventListener(x.REMOEV_ANI,this.removeAni,this)},r.update=function(e){},r.showStoreMessage=function(e){e&&(this.txt_storeName.string="店铺名称："+e.sShopName,this.txt_storeTime.string="开业时间："+e.dCreateDate,this.txt_storeSelling.string="正在出售："+e.nSellingItemCount,this.txt_storeSelled.string="已经出售："+e.nSelledItemCount,this.txt_storeStorage.string="我的仓库："+e.nStorageItemCount)},r.showStoreSelling=function(e){var t=this.box_0.getChildByName("list0");t.removeAllChildren();for(var i=0;i<e.length;i++){var o=e[i],n=g(this.StoreStorageItem),r=-40*i-20;n.setPosition(0,r);var a=n.children[0],l=a.getChildByName("ItemImg"),h=a.getChildByName("ItemName"),m=a.getChildByName("ItemPrice"),p=a.getChildByName("ItemType"),c=a.getChildByName("ItemTime"),y=a.getChildByName("ItemBack"),_=a.getChildByName("ItemRetrieve"),b=l.getComponent(s);R.loadResLocal("public/jiaoyi_input.png",b);var C=h.getComponent(s);R.loadResLocal("public/jiaoyi_input.png",C);var S=m.getComponent(s);R.loadResLocal("public/jiaoyi_input.png",S);var I=p.getComponent(s);R.loadResLocal("public/jiaoyi_input.png",I);var f=c.getComponent(s);R.loadResLocal("public/jiaoyi_input.png",f);var x=y.getComponent(s);R.loadResLocal("public/jiaoyi_input.png",x);var v=_.getComponent(s);R.loadResLocal("public/jiaoyi_input.png",v),R.showItemNum(o.Item,l),h.getComponentInChildren(d).string=o.Item.s.Name,m.getComponentInChildren(d).string=o.Item.s.Price+" "+this.type1_list[o.btMoneyType],p.getComponentInChildren(d).string=this.type2_list[o.btItemType],c.getComponentInChildren(d).string=o.dCreateDate,y.on(u.TOUCH_END,this.moveMyShopItem.bind(this,[o.Item.MakeIndex,0,1,o.Item.s.Name]),this),_.on(u.TOUCH_END,this.moveMyShopItem.bind(this,[o.Item.MakeIndex,0,2,o.Item.s.Name]),this),t.addChild(n)}},r.moveMyShopItem=function(e){if(e&&4==e.length){var t=e[0],i=e[1],o=e[2],n=e[3];N.SendMoveMyShopItem(t,i,o,n)}},r.showStorePage=function(e){var t=e[0],i=e[1],o=e[2];switch(this.MaxPage=Math.ceil(t/5),this.CurPage=Math.ceil(i/5)+1,0==t&&(this.CurPage=0),o){case 0:this.text_num0.string=this.CurPage+"/"+this.MaxPage;break;case 1:this.text_num1.string=this.CurPage+"/"+this.MaxPage;break;case 2:this.text_num2.string=this.CurPage+"/"+this.MaxPage}},r.showStoreSold=function(e){var t=this.box_1.getChildByName("list1");t.removeAllChildren();for(var i=0;i<e.length;i++){var o=e[i],n=g(this.StoreSoldItem),r=-40*i-20;n.setPosition(0,r);for(var a=n.children[0],l=a.getChildByName("ItemImg"),h=a.getChildByName("ItemName"),m=a.getChildByName("ItemPrice"),p=a.getChildByName("ItemSoldName"),c=a.getChildByName("ItemTime"),y=a.getChildByName("ItemRemove"),_=a.children,b=0;b<_.length;b++){var C=_[b].getComponent(s);R.loadResLocal("public/jiaoyi_input.png",C)}R.showItemNum(o.Item,l),h.getComponentInChildren(d).string=o.Item.s.Name,m.getComponentInChildren(d).string=o.Item.s.Price+" "+this.type1_list[o.btMoneyType],p.getComponentInChildren(d).string=o.sBuyName,c.getComponentInChildren(d).string=o.dCreateDate,1!=o.boGetMoney&&(y.getComponentInChildren(d).string="取款"),y.on(u.TOUCH_END,this.onBtnRemove.bind(this,o.Item.MakeIndex),this),t.addChild(n)}},r.onBtnRemove=function(e){N.SendDeleteSelledItem(e)},r.showStoreStorage=function(e){var t=this.box_2.getChildByName("list2");t.removeAllChildren();for(var i=0;i<e.length;i++){var o=e[i],n=g(this.MyStoreItem);t.addChild(n);var r=-40*i-20;n.setPosition(0,r);for(var a=n.children[0],l=a.getChildByName("ItemImg"),h=a.getChildByName("ItemName"),m=a.getChildByName("ItemPrice"),p=a.getChildByName("ItemType"),c=a.getChildByName("ItemTime"),y=a.getChildByName("ItemBack"),_=a.getChildByName("ItemRetrieve"),b=a.children,C=0;C<b.length;C++){var S=b[C].getComponent(s);R.loadResLocal("public/jiaoyi_input.png",S)}R.showItemNum(o.Item,l),h.getComponentInChildren(d).string=o.Item.s.Name,m.getComponentInChildren(d).string=o.Item.s.Price+" "+this.type1_list[o.btMoneyType],p.getComponentInChildren(d).string=this.type2_list[o.btItemType],c.getComponentInChildren(d).string=o.dCreateDate,y.on(u.TOUCH_END,this.moveMyShopItem.bind(this,[o.Item.MakeIndex,1,0,o.Item.s.Name]),this),_.on(u.TOUCH_END,this.moveMyShopItem.bind(this,[o.Item.MakeIndex,1,2,o.Item.s.Name]),this)}},r.deleteItemImg=function(){this.img_item.spriteFrame=null},r.addItemIcon=function(e){if(this.img_item.spriteFrame=e.imgUrl,R.showItemeffect(this.img_item.node,f.AddStoreItem),f.AddStoreItem&&(41==f.AddStoreItem.s.StdMode||40==f.AddStoreItem.s.StdMode||31==f.AddStoreItem.s.StdMode&&-1!=f.AddStoreItem.s.Name.indexOf("经验卷轴"))&&f.AddStoreItem.s.Reserved>0&&f.AddStoreItem.Dura>0){var t=new p,i=t.addComponent(d);t.layer=c.Enum.UI_2D,i.color=y("#ffffff"),i.fontSize=18,i.string="x"+(f.AddStoreItem.Dura+1),R.setCanAddTxtStroke(t),i.horizontalAlign=_.RIGHT,i.addComponent(b).width=30,this.img_item.node.addChild(t)}},r.onShowComboBox=function(e){var t=this,i=e.target.name,o=e.target.getComponent(b).width;if(this.comBoBox=g(this.pref_ComBoBox),this.comBoBox.setParent(e.target),this.comBoBox.setPosition(new C(0,-e.target.getComponent(b).height/2)),"ShopType"==i){var n={items:this.showType_list,width:o};this.comBoBox.getComponent("ComBoBox").upDataView(n,(function(e,i){t.showType_idx=i,t.ShopType.getComponentInChildren(d).string=e}),!0)}else if("type1"==i){var r={items:this.type1_list,width:o};this.comBoBox.getComponent("ComBoBox").upDataView(r,(function(e,i){t.type1_idx=i,t.type1.getComponentInChildren(d).string=e}),!0)}else if("type2"==i){var a={items:this.type2_list,width:o};this.comBoBox.getComponent("ComBoBox").upDataView(a,(function(e,i){t.type2_idx=i,t.type2.getComponentInChildren(d).string=e}),!0)}else if("position"==i){var s={items:this.position_list,width:o};this.comBoBox.getComponent("ComBoBox").upDataView(s,(function(e,i){t.position_idx=i,t.position.getComponentInChildren(d).string=e}),!0)}else if("category"==i){var l={items:this.category_list,width:o};this.comBoBox.getComponent("ComBoBox").upDataView(l,(function(e,i){t.category_idx=i,t.category.getComponentInChildren(d).string=e}),!0)}else if("sort"==i){var h={items:this.sort_list,width:o};this.comBoBox.getComponent("ComBoBox").upDataView(h,(function(e,i){t.sort_idx=i,t.sort.getComponentInChildren(d).string=e}),!0)}else if("type"==i){var m={items:this.type_list,width:o};this.comBoBox.getComponent("ComBoBox").upDataView(m,(function(e,i){t.type_idx=i,t.type.getComponentInChildren(d).string=e}),!0)}},r.onSelect=function(e){switch(e.target.name){case"btn_sell":this.Storetype=0,this.position_idx=0,this.box_0.active=!0,this.box_1.active=!1,this.box_2.active=!1,this.box_3.active=!1,this.box_4.active=!1;break;case"btn_sold":this.Storetype=1,this.position_idx=1,this.box_0.active=!1,this.box_1.active=!0,this.box_2.active=!1,this.box_3.active=!1,this.box_4.active=!1;break;case"btn_mydepot":this.Storetype=2,this.position_idx=2,this.box_0.active=!1,this.box_1.active=!1,this.box_2.active=!0,this.box_3.active=!1,this.box_4.active=!1;break;case"btn_diary":this.Storetype=-1,this.box_0.active=!1,this.box_1.active=!1,this.box_2.active=!1,this.box_3.active=!0,this.box_4.active=!1;break;case"btn_information":this.Storetype=-1,this.box_0.active=!1,this.box_1.active=!1,this.box_2.active=!1,this.box_3.active=!1,this.box_4.active=!0}},r.onChangePage=function(e){switch(e.target.name){case"shop_first":f.g_StoreItemIndex[this.Storetype]>0&&-1!=this.Storetype&&N.GetMyShopItems(0,this.Storetype);break;case"shop_up":f.g_StoreItemIndex[this.Storetype]>0&&-1!=this.Storetype&&N.GetMyShopItems(f.g_StoreItemIndex[this.Storetype]-5,this.Storetype);break;case"shop_down":f.g_StoreItemNum[this.Storetype]-f.g_StoreItemIndex[this.Storetype]>5&&-1!=this.Storetype&&N.GetMyShopItems(f.g_StoreItemIndex[this.Storetype]+5,this.Storetype);break;case"shop_end":f.g_StoreItemNum[this.Storetype]-f.g_StoreItemIndex[this.Storetype]>5&&-1!=this.Storetype&&N.GetMyShopItems(5*(this.MaxPage-1),this.Storetype)}},r.onSearch=function(){var e=this.category_idx,t=this.type_idx,i=this.sort_idx,o=parseInt(this.price_low.string),n=parseInt(this.price_high.string),r=this.input_search.string;0==this.Storetype?N.QueryMyShopSellingItems(e,t,i,o,n,r):1==this.Storetype?N.QueryMyShopSelledItems(e,t,i,o,n,r):2==this.Storetype&&N.QueryMyshopStorageItems(e,t,i,o,n,r)},r.onBtnBaitan=function(){B.handlerAlert({type:4,content:"输入商铺信息",sF:function(e){N.SendShopName(e)}})},r.sendAddItem=function(){R.showSelectedIdx(this.type1.getComponentInChildren(d).string);if(f.AddStoreItem){var e=f.AddStoreItem.MakeIndex,t=this.showType_idx,i=this.type2_idx,o=this.type1_idx,n=parseInt(this.price.string),r=f.AddStoreItem.s.Name;N.SendAddToMyShop(e,t,i,o,n,r)}},r.onDestroy=function(){I.removeEventListener("drawAddItem",this.addItemIcon,this),I.removeEventListener(x.SHOW_STORE_MESSAGE,this.showStoreMessage,this),I.removeEventListener(x.SHOW_STORE_SELLING,this.showStoreSelling,this),I.removeEventListener(x.GAME_SHOWSTOREPAGE,this.showStorePage,this),I.removeEventListener(x.SHOW_STORE_SOLD,this.showStoreSold,this),I.removeEventListener(x.SHOW_STORE_STORAGE,this.showStoreStorage,this),I.removeEventListener(x.DELETE_ITEMIMAGE,this.deleteItemImg,this),I.removeEventListener(x.REMOEV_ANI,this.removeAni,this);v.resClean(["PersonalStore/personalstore_bg.png","PersonalStore/00099.png"])},r.onPutItemOn=function(){w.showScreen(!0,null,11)},r.closeView=function(){this.node.destroy()},r.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(S)).prototype,"img_item",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ae.prototype,"ShopType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ae.prototype,"type1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ae.prototype,"type2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ae.prototype,"position",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ae.prototype,"category",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ae.prototype,"sort",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ae.prototype,"type",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ae.prototype,"price",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ae.prototype,"input_search",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ae.prototype,"price_low",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ae.prototype,"price_high",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ae.prototype,"pref_ComBoBox",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ae.prototype,"box_0",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ae.prototype,"text_num0",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ae.prototype,"StoreStorageItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ae.prototype,"box_1",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ae.prototype,"text_num1",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ae.prototype,"StoreSoldItem",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ae.prototype,"box_2",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ae.prototype,"text_num2",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ae.prototype,"MyStoreItem",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ae.prototype,"box_3",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ae.prototype,"box_4",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ae.prototype,"txt_storeName",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ae.prototype,"txt_storeTime",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ae.prototype,"txt_storeSelling",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ae.prototype,"txt_storeSelled",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ae.prototype,"txt_storeStorage",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=ae))||re));r._RF.pop()}}}));

System.register("chunks:///_virtual/Name.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./RGBCode.ts","./LabelOutLineForWindows.ts"],(function(e){"use strict";var t,n,i,a,s,o,l,r,c,h,f,u,m;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,a=e._decorator,s=e.LabelOutline,o=e.color,l=e.sys,r=e.Label,c=e.UITransform,h=e.Component},function(e){f=e.Config},function(e){u=e.rgbCode},function(e){m=e.LabelOutLineForWindows}],execute:function(){var p;i._RF.push({},"2f5e4sIgUpDq5MxGLKSifc7","Name",void 0);var d=a.ccclass;a.property,e("Name",d("Name")(p=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).nameList=[],t.nameColor="",t.cur_name="",t.nametites="",t.nameLab=null,t.nameLabOutLine=null,t}t(i,e);var a=i.prototype;return a.start=function(){},a.update=function(e){},a.init=function(e,t){if(this.nameLabOutLine=this.node.getComponent(s),this.nameLabOutLine.width=f.g_strokewidth,this.nameLabOutLine.color=o("#000000"),l.os!=l.OS.WINDOWS||l.isBrowser?this.nameLab=this.node.getComponent(r):null==this.node.getComponent(m)&&(this.nameLab=this.node.addComponent(m),this.nameLab.createOutLine()),this.nameLab.fontSize=14,this.nameList=[],this.nameColor="",t)if(-1===["maindoor","leftwall","centerwall","rightwall"].indexOf(t.split("/")[0].split("\\")[0].toLowerCase())){var n=t.split("/")[0].split("\\");n=n.filter((function(e){return""!==e})),3===e.type&&n.length>1&&this.createTitle(e)}else this.setNameString("");else this.setNameString("")},a.checkSlash=function(e){return(e.indexOf("\\/")>-1||e.indexOf("//")>-1)&&!/[\u4E00-\u9FA5]+/g.test(e)},a.updateName=function(e,t,n){var i=this;l.os!=l.OS.WINDOWS||l.isBrowser?this.updateNameDelay(e,t,n):(this.setNameString(""),setTimeout((function(){i.updateNameDelay(e,t,n)}),300),setTimeout((function(){i.updateNameDelay(e,t,n)}),600))},a.updateNameDelay=function(e,t,n){if(!n.is_die){if(!e||this.checkSlash(e))return this.setNameString(""),void this.noNameClickAreaHandle(n);if(this.cur_name=e,-1===["maindoor","leftwall","centerwall","rightwall"].indexOf(e.split("/")[0].split("\\")[0].toLowerCase())){var i=-1!=e.indexOf("(")?e.indexOf("(")+1:e.indexOf("("),a=e.indexOf(")");if(-1!=i&&-1!=a)e.slice(i,a)==f.g_playerName&&1==n.type&&0==n.OwnerID&&(n.OwnerID=f.playerID);if(0!=e.indexOf("#0")){var s=e.split("#0");if(e=s[0],s[1]&&-1!=s[1].indexOf("{")){var o=JSON.parse(s[1]);o&&(n.OwnerID=o.OwnerID)}}var l=e.split("/")[1];this.nametites=e.split("\\\\");for(var r=e.split("/")[0].split("\\"),c=[],h=0;h<r.length;h++)""!==r[h]&&"#0"!==r[h]&&c.push(r[h]);switch(r=c,this.nameList=r,l="number"==typeof(l=(l=l?Number(l):void 0)||t||"#ffffff")?u.Get2RGB(l):l,n.type){case 1:this.updateMon(r,l,n);break;case 2:this.updateNpc(r,l,n);break;case 3:this.updateRole(r,l,n)}}else this.setNameString("")}},a.noNameClickAreaHandle=function(e){if(e){e.npcClickAreaData=[];var t=e.npcClickAreaData;t[0]=0,t[1]=-30,t[2]=60,t[3]=70}},a.createTitle=function(e){},a.updateRole=function(e,t,n){var i="",a=0;if(e.length>0)if(1==e.length)i+=e[0],a=e[0].length;else{for(var s=0;s<e.length;s++)a<e[s].length&&(a=e[s].length),0!=s&&(i+=e[s]+"\n");i+=e[0]}if(e[0]&&-1!=e[0].indexOf("\\")){var l=e[0].split("\\");this.setNameString(l[0]),l.shift()}else this.setNameString(i);if(this.nameLab.color=o(t),e.length>0){var r=e[e.length-1];-1!=r.indexOf("[")?n.guildName=r:n.guildName=""}if(e.length,this.node.active=f.GlobalCfglist.nameshow3,!0===f.GlobalCfglist.nameshow3&&!0===f.GlobalCfglist.ShowName&&0==n.is_halo){var c=i.split("\n");this.setNameString(c[c.length-1])}},a.updateNpc=function(e,t,n){e.reverse();var i="";e[1]&&(i+=e[1]+"\n"),e[0]&&(i+=e[0]+"\n"),e[2]&&(i+=e[2]+"\n"),this.setNameString(i),this.nameLab.enableWrapText=!1,this.nameLab.color=o(t),this.node.active=f.GlobalCfglist.nameshow2,this.npcClickHandle(n)},a.npcClickHandle=function(e){e&&this.setNpcClickAreaData(e)},a.setNpcClickAreaData=function(e){var t=e.npcClickAreaData;t&&(t[0]=0,t[1]=0,t[2]=e.node.getComponent(c).width,t[3]=e.node.getComponent(c).height)},a.updateMon=function(e,t,n){if(e[0])var i=0!=n.OwnerID;e.reverse(),this.setNameString(e.join("\n")),this.nameLab.color=o(t),this.node.active=i?f.GlobalCfglist.nameshow4:f.GlobalCfglist.nameshow1,i=null},a.setOffsetPos=function(e,t){this.node.setPosition(e,t+40)},a.setNameString=function(e){this.nameLab.string=e},n(i,[{key:"text",get:function(){return this.nameLab.string},set:function(e){this.setNameString(e)}}]),i}(h))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/NativeMsgHandle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ResourcesMgr.ts","./SceneCanvas.ts","./external.ts"],(function(e){"use strict";var t,a,n,o,r,i,s,l,c,g,u,d;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,o=e.sys,r=e.native,i=e.game,s=e.director,l=e.Component},function(e){c=e.Config},function(e){g=e.resourcesMgr},function(e){u=e.SceneCanvas},function(e){d=e.external}],execute:function(){var f;a._RF.push({},"451bbzXL3FLXKt1i6GHycea","NativeMsgHandle",void 0);var h=n.ccclass;n.property,e("NativeMsgHandle",h("NativeMsgHandle")(f=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).classPath="",t.paramType="",t}t(a,e);var n=a.prototype;return n.start=function(){},n.paramSet=function(){o.isNative&&(o.os==o.OS.IOS?this.classPath="JSBridge":o.os==o.OS.ANDROID&&(this.classPath="com/jy/cgame/JSBridge",this.paramType="(Ljava/lang/String;)V"))},n.sendMsgToNative=function(e,t){if(this.paramSet(),console.log("funcName："+e),"getBattery"==e||"getSignal"==e){if(o.os==o.OS.ANDROID)return r.reflection.callStaticMethod(this.classPath,e,"()Ljava/lang/String;")||"未获取到数据";if(o.os==o.OS.IOS)return r.reflection.callStaticMethod(this.classPath,e)||"未获取到数据"}t?o.os==o.OS.IOS?r.reflection.callStaticMethod(this.classPath,e+":",t):o.os==o.OS.ANDROID&&r.reflection.callStaticMethod(this.classPath,e,this.paramType,t):o.os==o.OS.IOS?r.reflection.callStaticMethod(this.classPath,e):o.os==o.OS.ANDROID&&r.reflection.callStaticMethod(this.classPath,e,"()V")},n.requestUrl=function(){this.sendMsgToNative("requestUrl")},n.loadingComplete=function(){this.sendMsgToNative("loadingComplete")},n.appLogin=function(e){this.sendMsgToNative("appLogin",e)},n.openPay=function(e,t,a,n){var o=new Object;o.Money=n,o.ProductName=t,o.ProductDec=t,o.ProductId=c.g_selectProductId,o.ProductCount=e,o.CurrencyName=c.E_NewRoleTime,o.ExchangeRate=a,o.ExtInfo=0,o.ServerId=c.g_Server_Name,o.ServerName=c.g_Server_Name,o.RoleId=c.E_NewPlayerID,o.RoleName=c.g_RoleName,o.RoleLevel=c.g_levelForCaiji,o.Balance=0,o.RoleVip=0,o.PartyName=c.G_Guild_Name,o.account=c.g_RoleAccountId,o.newServerId=c.g_selectServerId;var r=JSON.stringify(o);this.sendMsgToNative("openPay",r)},n.uploadRoleInfo=function(e,t,a,n,o){var r=c.g_RoleAccountId,i=new Object;i.isCreateRole=c.E_NewRoleName==e,i.ServerId=c.g_Server_Name,i.ServerName=c.g_Server_Name,i.RoleId=c.E_NewPlayerID,i.RoleName=c.g_RoleNameOnly,i.RoleLevel=t,i.RoleCTime=c.E_NewRoleTime,i.Balance=0,i.RoleVip=0,i.Reincarnation=c.g_relevel,i.FightingCapacity=0,i.PartyName=c.G_Guild_Name,i.UploadType=a,i.account=r,i.profession=n,i.sex=o,0==i.sex?i.sex=1:1==i.sex&&(i.sex=2),i.newServerId=c.g_selectServerId,i.isCreateRole&&(c.E_NewRoleName="");var s=JSON.stringify(i);console.log(s),this.sendMsgToNative("uploadRoleInfo",s)},n.refreshGame=function(){this.sendMsgToNative("refreshGame")},n.exitGame=function(){this.sendMsgToNative("exitGame")},n.getBattery=function(){var e=this.sendMsgToNative("getBattery");return console.log("获取电量："+e),e||"0"},n.getBatteryCocos=function(){return o.getBatteryLevel()},n.getSignal=function(){var e=this.sendMsgToNative("getSignal");return console.log("获取电量："+e),e||"0"},n.getSignalType=function(){var e="";switch(o.getNetworkType()){case o.NetworkType.WWAN:e="蜂窝网络";break;case o.NetworkType.LAN:e="无线网络";break;case o.NetworkType.NONE:e="无网络";break;default:e="无法获取网络类型"}return e},n.getSafeArea=function(){return o.getSafeAreaRect()},n.callLogin=function(e){console.log("登录调用："+e),d.showAlert(e)},n.thirdSdkType=function(e){console.log(" 第三方SDK.type："+e)},n.reload=function(){console.log("刷新游戏"),i.restart()},n.exit=function(){console.log("退出游戏"),i.end()},n.gameUrl=function(e){if(console.log("接收gameUrl："+e),e){var t="";t=-1!=e.indexOf("index.html")?e.replace("index.html",""):-1!=e.indexOf("indexapp.html")?e.replace("indexapp.html",""):e,g.httpUrl=t,g.packagePathSub=t,s.getScene().getComponentInChildren(u).gameInit()}},a}(l))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/NewHero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./AnimationModule.ts","./ResourcesMgr.ts","./UIcontrol.ts","./Sendmessage.ts","./List.ts","./GameApi.ts","./GameUtil.ts","./HeroUpgrade.ts"],(function(e){"use strict";var t,i,a,n,r,s,l,o,h,u,p,c,_,d,m,g,b,f,I,v,C,y,H,q,k,O,L,S,A,N,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,o=e.Sprite,h=e.SpriteFrame,u=e.NodeEventType,p=e.Label,c=e.instantiate,_=e.v3,d=e.color,m=e.ToggleContainer,g=e.ScrollView,b=e.Component},function(e){f=e.EventMgr},function(e){I=e.Config},function(e){v=e.HEROBATTLESTATUS_Type,C=e.HEROSUMMON_Type,y=e.U_Type},function(e){H=e.default},function(e){q=e.Animationmodule},function(e){k=e.resourcesMgr},function(e){O=e.uiControl},function(e){L=e.Sendmessage},function(e){S=e.default},function(e){A=e.GameApi},function(e){N=e.GameUtil},function(e){E=e.HeroUpgrade}],execute:function(){var B,x,w,M,T,D,j,R,U,F,z,P,W,V,G,Y,K,J,Q,X,Z,$,ee,te,ie,ae,ne,re,se,le,oe,he,ue,pe,ce,_e,de,me,ge,be,fe,Ie,ve,Ce,ye,He,qe,ke,Oe,Le,Se,Ae,Ne,Ee,Be,xe,we,Me,Te,De,je,Re,Ue,Fe,ze,Pe,We,Ve,Ge,Ye,Ke,Je,Qe,Xe,Ze,$e,et,tt,it,at,nt;r._RF.push({},"fc587CoWm9IjaNIRltj6cyf","NewHero",void 0);var rt=s.ccclass,st=s.property;e("NewHero",(B=rt("NewHero"),x=st(S),w=st(S),M=st(S),T=st(S),D=st(S),j=st(l),R=st(l),U=st(l),F=st(l),z=st(l),P=st(l),W=st(l),V=st(l),G=st(l),Y=st(l),K=st(l),J=st(l),Q=st(l),X=st(l),Z=st(l),$=st(l),ee=st(l),te=st(l),ie=st(l),ae=st(l),ne=st(l),re=st(l),se=st(l),le=st(l),oe=st(l),he=st(l),ue=st(o),pe=st(o),ce=st(o),_e=st(l),de=st(l),me=st(l),ge=st(l),be=st(h),B((ve=t((Ie=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,a(t,"scro_List",ve,n(t)),a(t,"replace_list",Ce,n(t)),a(t,"equipment_list",ye,n(t)),a(t,"attri_list",He,n(t)),a(t,"skill_list",qe,n(t)),a(t,"sp_quality",ke,n(t)),a(t,"tog_left",Oe,n(t)),a(t,"lab_onStageAmount",Le,n(t)),a(t,"lab_maxOnStageAmount",Se,n(t)),a(t,"sp_hero",Ae,n(t)),a(t,"lab_noHero",Ne,n(t)),a(t,"hero_listContent",Ee,n(t)),a(t,"sp_fightNum",Be,n(t)),a(t,"lab_title",xe,n(t)),a(t,"lab_fightNum",we,n(t)),a(t,"sp_mask",Me,n(t)),a(t,"tips",Te,n(t)),a(t,"heroDetails",De,n(t)),a(t,"details",je,n(t)),a(t,"replace",Re,n(t)),a(t,"btn_onStage",Ue,n(t)),a(t,"btn_onMakeDeal",Fe,n(t)),a(t,"tog_details",ze,n(t)),a(t,"attri_scroll",Pe,n(t)),a(t,"equip",We,n(t)),a(t,"attri_content",Ve,n(t)),a(t,"equipment",Ge,n(t)),a(t,"btn_details",Ye,n(t)),a(t,"equipDetails",Ke,n(t)),a(t,"equip_details",Je,n(t)),a(t,"attri_list_content",Qe,n(t)),a(t,"weaponSprite",Xe,n(t)),a(t,"clothesSprite",Ze,n(t)),a(t,"hatSprite",$e,n(t)),a(t,"pref_upgrade",et,n(t)),a(t,"btn_equipReplace",tt,n(t)),a(t,"btn_equipUpgrade",it,n(t)),a(t,"btn_equip_take_off",at,n(t)),a(t,"sp_BtnStatus",nt,n(t)),t._tip=null,t._heroDetails=null,t._heroList=[],t.haveHero=!1,t._apprList=[],t._equipList={weapon:[],necklace:[],armring:[],helmet:[],dress:[],boots:[]},t._curEquipObj={weapon:null,necklace:null,armring:null,helmet:null,dress:null,boots:null},t._skillList=[],t._onStageNum=0,t._curHeroIdx=-1,t._arrHeroOnStage=[],t._clickOnce=!1,t._lastHeroIdx=-1,t._curEquipIdx=0,t._equipArr=["weapon","necklace","armring","helmet","dress","boots"],t._replaceItem=!1,t._equipAttriArr=[],t._allHeroTakeItemArr=[],t._takeOn=!0,t._takeOnObj=null,t._doInfo=[],t._heroUpgrade=null,t._fromNode=!1,t._autoWearItems=[],t._isClickAutoWear=!1,t._isItemOff=!1,t}i(t,e);var r=t.prototype;return r.start=function(){var e=this;this.node.on(u.ACTIVE_IN_HIERARCHY_CHANGED,(function(t){t.active?e.registerEvents():e.unRegisterEvents()}),this)},r.update=function(e){},r.updateView=function(e){var t=this;L.getInstance().sendHeroTakeOnItemList(),this._heroList=[].concat(e),this._apprList=[];var i=this._heroList.length;if(i<I.maxTakeHero)for(var a=I.maxTakeHero-i,n=0;n<a;n++)this._heroList.push(null);console.log(this._heroList),e.length>0?function(){t.haveHero=!0;for(var i=e.length,a=[],n=function(n){if(e[n]){var r="data/heroui/"+e[n].appr+".png";k.resLoad(r,(function(r){var s;(t._apprList.push({aid:e[n].aid,appr:r}),t._apprList.length==i)&&((s=t._apprList).push.apply(s,a),t.lab_title.active=!0,t.sp_quality.active=!0,console.log("武将id及头像appr ---\x3e>> ",t._apprList),t.lab_onStageAmount.getComponent(p).string=t.calculateHeroOnstageNum()+"",t.lab_maxOnStageAmount.getComponent(p).string="/"+I.maxTakeHero,t.scro_List.numItems=t._heroList.length,t._curHeroIdx=0,t.scro_List.scrollTo(t._curHeroIdx),t.scheduleOnce((function(){t.scro_List.getItemByListId(t._curHeroIdx).getChildByName("sp_selected").active=!0}),.5),t.lab_noHero.active=!1,t.changeHeroView(),t.scheduleOnce(t.classifyInBagItemHandle,.2))}))}else a.push({aid:null,appr:null})},r=0;r<I.maxTakeHero;r++)n(r);t.btn_onStage.active=!0,t.btn_onMakeDeal.active=!0}():(this.haveHero=!1,this.scro_List.numItems=this._heroList.length,this.resetView())},r.renderItemHandle=function(e,t){this._heroList[t]?(e.getChildByName("sp_heroImg").active=e.getChildByName("lab_level").active=!0,e.getChildByName("sp_heroImg").getComponent(o).spriteFrame=this._apprList[t].appr,e.getChildByName("lab_level").getComponent(p).string=this._heroList[t].level+"",e.getChildByName("lab_noWujiang").active=e.getChildByName("sp_lock").active=!1,1==this._heroList[t].battleStatus?(e.getChildByName("sp_onStage").active=!0,e.getChildByName("lab_canOnStage").active=!1):(e.getChildByName("sp_onStage").active=!1,e.getChildByName("lab_canOnStage").active=!0)):(e.getChildByName("sp_heroImg").active=e.getChildByName("lab_level").active=e.getChildByName("sp_onStage").active=e.getChildByName("lab_canOnStage").active=!1,e.getChildByName("lab_noWujiang").active=!0),e.getChildByName("sp_selected").active=e._listId==this._curHeroIdx,e.dataSource=this._heroList[t]},r.onClickRenderItemHandle=function(e,t){var i=this;if(this.haveHero){if(e._listId!=this._curHeroIdx){this.clothesSprite.spriteFrame=null,this.weaponSprite.spriteFrame=null,this.hatSprite.spriteFrame=null,e.getChildByName("sp_selected").active=!0;try{this.hero_listContent.children.forEach((function(e){if(e._listId==i._curHeroIdx)throw e.getChildByName("sp_selected").active=!1,Error()}))}catch(e){}this._curHeroIdx=e._listId,e.dataSource?(this.btn_onStage.active=this.btn_onMakeDeal.active=!0,this.btn_onStage.getChildByName("Label").getComponent(p).string=1==e.dataSource.battleStatus?"下阵":"上阵",this.changeHeroView()):(this.btn_onStage.active=this.btn_onMakeDeal.active=!1,this.resetWujiangView(),this.resetHeroAttri())}}else this.details.active=!1,this.btn_details.getChildByName("show").active=!0,this.btn_details.getChildByName("hide").active=!1},r.renderReplaceItemHandle=function(e,t){e.dataSource={hero:this._arrHeroOnStage[t].hero,appr:this._arrHeroOnStage[t].appr},e.getChildByName("sp_portrait").getComponent(o).spriteFrame=this._arrHeroOnStage[t].appr,e.getChildByName("lab_grade").getComponent(p).string="LV."+this._arrHeroOnStage[t].hero.level},r.onClickRenderItemReplaceHandle=function(e,t,i){var a=this;console.log(e.dataSource),this._heroDetails?(this.heroDetails.active=!0,this._heroDetails.getComponent("HeroDetails").updateView(e.dataSource)):k.resLoad("prefab/newHero/HeroDetails.prefab",(function(t){a._heroDetails=c(t),a._heroDetails.setParent(a.heroDetails),a.heroDetails.active=!0,a._heroDetails.getComponent("HeroDetails").updateView(e.dataSource)})),this.sp_mask.active=!0},r.renderEquipItemHandle=function(e,t){var i=e.getChildByName("AniPrefab");i&&(i.active=!1);e._takeOnObj={sp:null,item:null,aid:null,appr:null};var a=this._equipList[this._equipArr[this._curEquipIdx]];e._takeOnObj.item=a[t].item;var n=e.getChildByName("sp_s_equipKuang");n.active=!1;var r=e.getChildByName("lab_level");if(r.active=!1,e._takeOnObj.item){N.loadImg(a[t].item.s.Looks,"items",(function(t){e.getChildByName("Sprite").getComponent(o).spriteFrame=t.imgUrl,e._takeOnObj.sp=t.imgUrl})),r.getComponent(p).string="";var s=a[t].armyID;if(e._takeOnObj.aid=s,s){n.active=!0;for(var l=this._apprList.length,h=0;h<l;h++)this._apprList[h].aid==s&&(n.getChildByName("Sprite").getComponent(o).spriteFrame=this._apprList[h].appr,e._takeOnObj.appr=this._apprList[h].appr)}var u=A.getItemScore(e._takeOnObj.item),c=this._curEquipObj[this._equipArr[this._curEquipIdx]];if(u>A.getItemScore(c)&&!s){var d=e.getChildByName("AniPrefab");if(d)d.active=!0;else{var m=q.playframe(!1,e,"Animation/equipment_comparison/",0,3,280,!0,!1,_(13,-10));m&&(m.name="heroitemScore",e.getChildByName("AniPrefab").active=!0)}}}else e.getChildByName("Sprite").getComponent(o).spriteFrame=null,n.active=r.active=!1},r.onClickEquipItemHandle=function(e){if(e._takeOnObj.item){var t=this.btn_equipReplace.getChildByName("Label");this._takeOnObj=e._takeOnObj;var i=this.equipment.children[this._curEquipIdx].dataSource;null==this._takeOnObj.aid&&null==i?(t.getComponent(p).string="穿戴",this._takeOn=!0):(t.getComponent(p).string="更换",this._takeOn=!1,!this._takeOnObj.aid&&i.aid?this._replaceItem=!0:(t.getComponent(p).string="互换",this._replaceItem=!1)),this.equipDetails.active=!0,this._fromNode=!(!i||this._takeOnObj.aid!=i.aid),i&&this._takeOnObj.aid==i.aid?(this._fromNode=!0,this.btn_equipReplace.active=!1,this.btn_equipUpgrade.active=!1,this.btn_equip_take_off.active=!0,this._isItemOff=!0):(this._fromNode=!1,this.btn_equipReplace.active=!0,this.btn_equipUpgrade.active=!1,this.btn_equip_take_off.active=!1,this._isItemOff=!1),this.equip_details.getChildByName("lab_owner").getComponent(p).string=this.findHeroNamebyAidHandle(this._takeOnObj.aid),this.equip_details.getChildByName("lab_position").getComponent(p).string=this.updateEquipDetailsHandle(),this.equip_details.getChildByName("lab_name").getComponent(p).string=this._takeOnObj.item.s.Name,this.equip_details.getChildByName("lab_status").active=!this._takeOn,this._equipAttriArr=N.weaponInfos(this._takeOnObj.item),this._equipAttriArr.concat(N.clothesTypeInfo(this._takeOnObj.item)),this._equipAttriArr.concat(N.equipmentInfos(this._takeOnObj.item)),this._equipAttriArr=N.itemsMakeInf(this._takeOnObj.item.ItemSrc,this._equipAttriArr),this._equipAttriArr.push("获取途径: 野外掉落/*/#FEDB25"),this.equip_details.getChildByName("sp_icon").getChildByName("Sprite").getComponent(o).spriteFrame=this._takeOnObj.sp;var a=this._equipAttriArr[0].split("/*/");this.equip_details.getChildByName("lab_weight").getComponent(p).string=a[0];var n=this._equipAttriArr[1].split("/*/");this.equip_details.getChildByName("lab_durability").getComponent(p).string=n[0],this.equip_details.getChildByName("lab_durability").getComponent(p).color=d(n[1]),this._equipAttriArr.splice(0,2);var r=this.equip_details.getChildByName("sp_appr");this._takeOnObj.appr?(r.active=!0,r.getChildByName("Sprite").getComponent(o).spriteFrame=this._takeOnObj.appr):(r.active=!1,r.getChildByName("Sprite").getComponent(o).spriteFrame=null),this.attri_list_content.removeAllChildren(),this.attri_list_content.destroyAllChildren(),this.attri_list.numItems=this.uniqueHandle(this._equipAttriArr).length,console.log(e)}},r.renderEquipAttributeItemHandle=function(e,t){var i=this._equipAttriArr[t].split("/*/");e.getChildByName("Label").getComponent(p).string=i[0],e.getChildByName("Label").getComponent(p).color=d(i[1])},r.renderSkillItemHandle=function(e,t){var i=this;k.resLoad(N.formatData(this._skillList[t]),(function(a){e.getChildByName("Sprite").getComponent(o).spriteFrame=a,e.getChildByName("Label").getComponent(p).string=i._skillList[t].Def.sMagicName}))},r.onClickTogLeftHandle=function(){},r.onClickBtnUnlockMoreHandle=function(){},r.onClickBtnOnStageHandle=function(){for(var e=!0,t=this._heroList.length,i=this._heroList[this._curHeroIdx],a=0;a<t;a++){var n=this._heroList[a];n&&i.name==n.name&&0==i.battleStatus&&1==n.battleStatus&&(e=!1)}if(e)if(this._heroList.length>=1){if(this._onStageNum<=I.maxHeroOnStage-1&&this._onStageNum>=0)console.log("上下阵"),0==this._heroList[this._curHeroIdx].battleStatus&&L.getInstance().sendHeroBattleOnOff(v.ONSTAGE,this._heroList[this._curHeroIdx].aid),1==this._heroList[this._curHeroIdx].battleStatus&&L.getInstance().sendHeroBattleOnOff(v.NOSTAGE,this._heroList[this._curHeroIdx].aid);else if(this.calculateHeroOnstageNum()>=I.maxHeroOnStage)if(1==this._heroList[this._curHeroIdx].battleStatus)L.getInstance().sendHeroBattleOnOff(v.NOSTAGE,this._heroList[this._curHeroIdx].aid);else if(0==this._heroList[this._curHeroIdx].battleStatus){this._arrHeroOnStage=[];for(var r=this._heroList.length,s=0;s<r;s++)this._heroList[s]&&1==this._heroList[s].battleStatus&&this._arrHeroOnStage.push({hero:this._heroList[s],appr:this._apprList[s].appr});this.replace.active=!0,this.replace_list.numItems=this._arrHeroOnStage.length}}else O.handlerAlert({type:1,content:"武将不存在"});else O.handlerAlert({type:1,content:"同类武将只许上阵一个"})},r.onClickBtnMakeDealHandle=function(){},r.onClickBtnFightHandle=function(){},r.onClickBtnUpgradeHandle=function(){var e=this,t=this._heroList[this._curHeroIdx];this._heroUpgrade?this._heroUpgrade.getComponent(E).updateView(t):k.resLoad("prefab/newHero/HeroUpgrade.prefab",(function(i){e._heroUpgrade=c(i),e._heroUpgrade.setParent(e.pref_upgrade),e._heroUpgrade.getComponent(E).updateView(t)})),this.pref_upgrade.active=!0},r.onClickBtnDetailsHandle=function(){var e=this;this.haveHero?(this.tog_details.getComponent(m).toggleItems[0].isChecked=!0,this.details.active=!this.details.active,this.details.active?(this.btn_details.getChildByName("show").active=!1,this.btn_details.getChildByName("hide").active=!0):(this.btn_details.getChildByName("show").active=!0,this.btn_details.getChildByName("hide").active=!1),I.isDetails=this.details.active):(this.sp_mask.active=!0,this._tip?(this._tip.active=!0,this._tip.getComponent("Tip").updateView()):k.resLoad("prefab/newHero/Tip.prefab",(function(t){e._tip=c(t),e._tip.setParent(e.tips),e._tip.getComponent("Tip").updateView()})))},r.onClickTogDetailsHandle=function(e){"Toggle1"==e.target.name?(this.attri_scroll.active=!0,this.details.getChildByName("Label").active=!0,this.details.getChildByName("skill_list").active=!0,this.equip.active=!1):"Toggle2"==e.target.name&&(this.attri_scroll.active=!1,this.details.getChildByName("Label").active=!1,this.details.getChildByName("skill_list").active=!1,this.equip.active=!0,0==this._curEquipIdx&&this.changeEquipmentView("btn_weapon"))},r.onClickBtnReplaceHandle=function(e){e.target.parent;var t=e.target.parent.dataSource;t.hero.battleStatus==v.ONSTAGE&&L.getInstance().sendHeroBattleOnOff(v.NOSTAGE,t.hero.aid)},r.onClickEquipmentHandle=function(e){var t=e.target.name;console.log(e.target.dataSource);var i=e.target.dataSource;if(this.changeEquipmentView(t),i&&i.item){this._fromNode=!0,this.equipDetails.active=!0,this.btn_equipReplace.active=!1,this.btn_equipUpgrade.active=!1,this.btn_equip_take_off.active=!0,this._isItemOff=!0,this.equip_details.getChildByName("lab_owner").getComponent(p).string=this.findHeroNamebyAidHandle(i.aid),this.equip_details.getChildByName("lab_position").getComponent(p).string=this.updateEquipDetailsHandle(),this.equip_details.getChildByName("lab_name").getComponent(p).string=i.item.s.Name,this.equip_details.getChildByName("lab_status").active=!0,this._equipAttriArr=N.weaponInfos(i.item),this._equipAttriArr.concat(N.clothesTypeInfo(i.item)),this._equipAttriArr.concat(N.equipmentInfos(i.item)),this._equipAttriArr=N.itemsMakeInf(i.item.ItemSrc,this._equipAttriArr),this._equipAttriArr.push("获取途径: 野外掉落/*/#FEDB25");var a=e.target.getChildByName("Sprite").getComponent(o).spriteFrame;this.equip_details.getChildByName("sp_icon").getChildByName("Sprite").getComponent(o).spriteFrame=a;var n=this._equipAttriArr[0].split("/*/");this.equip_details.getChildByName("lab_weight").getComponent(p).string=n[0];var r=this._equipAttriArr[1].split("/*/");this.equip_details.getChildByName("lab_durability").getComponent(p).string=r[0],this.equip_details.getChildByName("lab_durability").getComponent(p).color=d(r[1]),this._equipAttriArr.splice(0,2);var s=this.equip_details.getChildByName("sp_appr");s.active=!0,s.getChildByName("Sprite").getComponent(o).spriteFrame=this._apprList[this._curHeroIdx].appr,this.attri_list_content.removeAllChildren(),this.attri_list_content.destroyAllChildren(),this.attri_list.numItems=this.uniqueHandle(this._equipAttriArr).length}},r.onClickEquipReplaceHandle=function(){if(this._takeOn){var e=this._takeOnObj.item.MakeIndex,t={armyId:this._heroList[this._curHeroIdx].aid,itemId:e,status:1};L.getInstance().sendHeroEquipTakeItem(t)}else{for(var i=I.g_BagItemsList.length,a=[],n=0;n<i;n++)I.g_BagItemsList[n]&&a.push(I.g_BagItemsList[n]);if(N.maxBagItems()-a.length<2)return void O.handlerAlert({type:1,content:"背包已满, 无法替换"});if(this._takeOnObj.aid==this._heroList[this._curHeroIdx].aid)return void O.handlerAlert({type:1,content:"无法重复穿戴"});if(this._replaceItem){var r=this.equipment.children[this._curEquipIdx].dataSource,s={armyId:r.aid,itemId:r.item.MakeIndex,status:0};L.getInstance().sendHeroEquipTakeItem(s)}else{this._doInfo=[];var l=this.equipment.children[this._curEquipIdx].dataSource,o=l.aid,h=l.item.MakeIndex;this._doInfo=[{aid:this._takeOnObj.aid,makeIndex:this._takeOnObj.item.MakeIndex,reqS:0},{aid:o,makeIndex:h,reqS:0}];var u={armyId:this._doInfo[0].aid,itemId:this._doInfo[0].makeIndex,status:this._doInfo[0].reqS},p={armyId:this._doInfo[1].aid,itemId:this._doInfo[1].makeIndex,status:this._doInfo[1].reqS};L.getInstance().sendHeroEquipTakeItem(u),L.getInstance().sendHeroEquipTakeItem(p)}}},r.onClickEquipTakeOffHandle=function(){if(console.log(this._takeOnObj),this._fromNode){var e,t;this._takeOnObj?(e=this._takeOnObj.aid,t=this._takeOnObj.item.MakeIndex):(e=this.equipment.children[this._curEquipIdx].dataSource.aid,t=this.equipment.children[this._curEquipIdx].dataSource.item.MakeIndex);var i={armyId:e,itemId:t,status:0};console.log(i),L.getInstance().sendHeroEquipTakeItem(i)}},r.onClickEquipUpgradeHandle=function(){},r.onClickBtnAutoWearHandle=function(){var e=this,t=!1;this._isClickAutoWear=!0,this._autoWearItems=[];for(var i=0;i<this.equipment.children.length;i++){if(!this.equipment.children[i].dataSource)if("continue"===function(){var a=e._equipList[e._equipArr[i]].filter((function(e){return!e.armyID&&e.item}));console.log("这是"+e._equipArr[i]+"部位筛选出来没武将穿戴的装备---\x3e>>",a);var n=a.length;if(n<=0)return"continue";t=!0;for(var r=-1,s=null,l=0;l<n;l++){var o=a[l].item,h=e._heroList[e._curHeroIdx].level-o.s.NeedLevel;h>=0&&(-1==r||h<r)&&(r=h,s=o),l>=n-1&&s&&function(){e._autoWearItems.push(s);var t=s.MakeIndex,i={armyId:e._heroList[e._curHeroIdx].aid,itemId:t,status:1};console.log("zhuanbei",s.s.Name);for(var n=e._apprList.length,l=null,o=0;o<n;o++)e._apprList[o].aid==i.armyId&&(l=e._apprList[o].appr);N.loadImg(s.s.Looks,"items",(function(t){e._takeOnObj={item:s,sp:t.imgUrl,aid:e._heroList[e._curHeroIdx].aid,appr:l},L.getInstance().sendHeroEquipTakeItem(i),a=null,r=null,s=null}))}()}}())continue}this.scheduleOnce(this.changeHeroView,1),t||O.handlerAlert({type:1,content:"无可穿戴装备"})},r.resetHeroAttri=function(){this.attri_content.getChildByName("lab_name").getComponent(p).string="名称:    ",this.attri_content.getChildByName("lab_job").getComponent(p).string="职业:    ",this.attri_content.getChildByName("lab_level").getComponent(p).string="等级:    ",this.attri_content.getChildByName("lab_MaxHP").getComponent(p).string="生命:    ",this.attri_content.getChildByName("lab_DC").getComponent(p).string="攻击:    ",this.attri_content.getChildByName("lab_MC").getComponent(p).string="魔法:    ",this.attri_content.getChildByName("lab_SC").getComponent(p).string="道术:    ",this.attri_content.getChildByName("lab_MaxHandWeight").getComponent(p).string="腕力:    ",this.attri_content.getChildByName("lab_MaxWeight").getComponent(p).string="负重:    ",this.attri_content.getChildByName("lab_AC").getComponent(p).string="物防:    ",this.attri_content.getChildByName("lab_MAC").getComponent(p).string="魔防:    "},r.evtMgrHeroBattleOnOffHandle=function(e){if(1==this.replace.active&&1==this._clickOnce){for(var t=this._heroList.length,i=0;i<t;i++)if(this._heroList[i]&&this._heroList[i].aid==e.aid){this._heroList[this._curHeroIdx]=e,this.btn_onStage.getChildByName("Label").getComponent(p).string=1==e.battleStatus?"下阵":"上阵",this.scro_List.updateItem(i),this.onCloseReplaceView();break}this._lastHeroIdx=-1,this.replace.active=!1,this._clickOnce=!1}else if(0==this.replace.active&&0==this._clickOnce){for(var a=this._heroList.length,n=0;n<a;n++)if(this._heroList[n]&&this._heroList[n].aid==e.aid){this._heroList[this._curHeroIdx]=e,this.btn_onStage.getChildByName("Label").getComponent(p).string=1==e.battleStatus?"下阵":"上阵",this.scro_List.updateItem(n);break}}else if(1==this.replace.active&&0==this._clickOnce){this._lastHeroIdx=-1;for(var r=this._heroList.length,s=0;s<r;s++)if(this._heroList[s]&&this._heroList[s].aid==e.aid){this._heroList[s]=e,this._lastHeroIdx=s,this.scro_List.updateItem(s),L.getInstance().sendHeroBattleOnOff(v.ONSTAGE,this._heroList[this._curHeroIdx].aid),this._clickOnce=!0;break}}this.lab_onStageAmount.getComponent(p).string=this.calculateHeroOnstageNum()+"",this.calculateHeroOnstageNum()<=0?(I.isSummon=C.NOHERO,I.CurScene.UIMain.getChildByName("panel_node").getChildByName("herocall_btn").getChildByName("Label").getComponent(p).string="召唤"):(I.CurScene.UIMain.getChildByName("panel_node").getChildByName("herocall_btn").getChildByName("Label").getComponent(p).string="召回",I.isSummon=C.NOSTAGE)},r.evtMgrArmyAttrHandle=function(e){var t=this;this.replace.active||function(){t.classifyCurItemHandle(e.itemArr),console.log("当前穿上的装备 ---\x3e>>",t._curEquipObj);for(var i=Object.keys(t._curEquipObj),a=function(e){var a;(t.equipment.children[e].dataSource=null,t.equipment.children[e].getChildByName("bg").active=!0,t.equipment.children[e].getChildByName("Sprite").getComponent(o).spriteFrame=null,t._curEquipObj[i[e]])&&N.loadImg(null==(a=t._curEquipObj[i[e]])?void 0:a.s.Looks,"items",(function(a){t.equipment.children[e].dataSource={item:t._curEquipObj[i[e]],aid:t._heroList[t._curHeroIdx].aid},t.equipment.children[e].getChildByName("Sprite").getComponent(o).spriteFrame=a.imgUrl}))},n=0;n<i.length;n++)a(n);t.initPart(t.clothesSprite.node,I.U_DRESS,4),t.initPart(t.weaponSprite.node,I.U_WEAPON,0),t.initPart(t.hatSprite.node,I.U_HELMET,3),e.skillArr&&(t._skillList=[],t._skillList=e.skillArr,t.skill_list.numItems=t._skillList.length),e.onItem,e.attri?t.setHeroAttributeHandle(e.attri):t.resetHeroAttri()}()},r.evtMgrArmyTakeOnOffItemHandle=function(e){var t=this,i=e;if(this._isClickAutoWear){var a=this._heroList[this._curHeroIdx].aid;console.log(a),1==i.reqS&&1==i.respS&&a==i.armyID?(this._autoWearItems.forEach((function(e,a){e.MakeIndex==i.itemId&&(console.log("穿戴成功",e.s.Name),t.modifyHeroBagHandle(i,!0),t._autoWearItems.splice(a,1))})),0==this._autoWearItems.length&&(this._isClickAutoWear=!1)):0==i.respS&&O.handlerAlert({type:1,content:"穿戴失败"})}else if(this._isItemOff){var n=this._heroList[this._curHeroIdx].aid;0==i.reqS&&1==i.respS&&n==i.armyID&&(console.log("卸下成功"),this.modifyHeroBagHandle(i,!1),this.equipment.children[this._curEquipIdx].dataSource=null,this.equipment.children[this._curEquipIdx].getChildByName("Sprite").getComponent(o).spriteFrame=null,0==this._curEquipIdx?this.weaponSprite.spriteFrame=null:3==this._curEquipIdx?this.hatSprite.spriteFrame=null:4==this._curEquipIdx&&(this.clothesSprite.spriteFrame=null),this._isClickAutoWear=!1,this._isItemOff=!1)}else if(this._takeOn)console.log("返回穿戴装备 ---\x3e>>",i),1==i.reqS&&1==i.respS&&this._takeOnObj.item.MakeIndex==i.itemId?(this._takeOnObj.aid=i.armyID,this.equipment.children[this._curEquipIdx].dataSource={aid:this._heroList[this._curHeroIdx].aid,item:this._takeOnObj.item},this._curEquipObj[this._equipArr[this._curEquipIdx]]=this._takeOnObj.item,this.equipment.children[this._curEquipIdx].getChildByName("Sprite").getComponent(o).spriteFrame=this._takeOnObj.sp,this.modifyHeroBagHandle(i,!0),this.initPart(this.clothesSprite.node,I.U_DRESS,4),this.initPart(this.weaponSprite.node,I.U_WEAPON,0),this.initPart(this.hatSprite.node,I.U_HELMET,3)):O.handlerAlert({type:1,content:"穿戴失败"});else if(this._replaceItem){var r=this.equipment.children[this._curEquipIdx].dataSource;if(0==i.reqS&&1==i.respS&&r.aid==i.armyID&&r.item.MakeIndex==i.itemId){this.modifyHeroBagHandle(i,!1);var s={armyId:r.aid,itemId:this._takeOnObj.item.MakeIndex,status:1};this._takeOn=!0,L.getInstance().sendHeroEquipTakeItem(s)}else 0==i.reqS&&0==i.respS&&O.handlerAlert({type:1,content:"卸下失败"})}else if(0==i.reqS&&1==i.respS){var l=this._doInfo[0];if(2==this._doInfo.length)l.aid==i.armyID&&l.makeIndex==i.itemId&&(this.modifyHeroBagHandle(i,!1),this._doInfo.splice(0,1));else if(1==this._doInfo.length&&l.aid==i.armyID&&l.makeIndex==i.itemId){this.modifyHeroBagHandle(i,!1),this._doInfo.splice(0,1),this._doInfo=[{aid:this._takeOnObj.aid,makeIndex:this.equipment.children[this._curEquipIdx].dataSource.item.MakeIndex,reqS:1},{aid:this.equipment.children[this._curEquipIdx].dataSource.aid,makeIndex:this._takeOnObj.item.MakeIndex,reqS:1}];var h={armyId:this._doInfo[0].aid,itemId:this._doInfo[0].makeIndex,status:this._doInfo[0].reqS},u={armyId:this._doInfo[1].aid,itemId:this._doInfo[1].makeIndex,status:this._doInfo[1].reqS};L.getInstance().sendHeroEquipTakeItem(h),L.getInstance().sendHeroEquipTakeItem(u)}}else if(1==i.reqS&&1==i.respS){var p=this._doInfo[0];2==this._doInfo.length?p.aid==i.armyID&&p.makeIndex==i.itemId&&(this.modifyHeroBagHandle(i,!0),this._doInfo.splice(0,1)):1==this._doInfo.length&&p.aid==i.armyID&&p.makeIndex==i.itemId&&(this.equipment.children[this._curEquipIdx].dataSource={aid:i.armyID,item:this._takeOnObj.item},this._curEquipObj[this._equipArr[this._curEquipIdx]]=this._takeOnObj.item,this.equipment.children[this._curEquipIdx].getChildByName("Sprite").getComponent(o).spriteFrame=this._takeOnObj.sp,this.modifyHeroBagHandle(i,!0),this._doInfo.splice(0,1))}else 0==i.reqS&&0==i.respS?O.handlerAlert({type:1,content:"卸下失败"}):1==i.reqS&&0==i.respS&&O.handlerAlert({type:1,content:"穿戴失败"});this.onClickSpMaskHandle()},r.modifyHeroBagHandle=function(e,t){for(var i=this._equipList[this._equipArr[this._curEquipIdx]],a=i.length,n=0;n<a;n++)if(i[n].item&&e.itemId==i[n].item.MakeIndex){i[n].armyID=t?e.armyID:null,console.log("修改武将背包");break}this.changeEquipmentView(this.equipment.children[this._curEquipIdx].name)},r.evtMgrArmyTakeOnItemListHandle=function(e){var t;(t=this._allHeroTakeItemArr).push.apply(t,e),console.log("武将装备列表通知 ---\x3e>>",this._allHeroTakeItemArr)},r.evtMgrUpdateHeroBaseInfoHandle=function(e){this._heroList[this._curHeroIdx].level=e.level,this._heroList[this._curHeroIdx].exp=e.exp,this._heroList[this._curHeroIdx].curExp=e.curExp,this.lab_title.getComponent(p).string="LV."+e.level+" "+this._heroList[this._curHeroIdx].name,this.scro_List.updateItem(this._curHeroIdx)},r.calculateHeroOnstageNum=function(){var e=this;return this._onStageNum=0,this._heroList.forEach((function(t){t&&1==t.battleStatus&&e._onStageNum++})),console.log("上阵数量: ",this._onStageNum),this._onStageNum},r.changeHeroView=function(){var e=this._heroList[this._curHeroIdx],t=this._heroList[this._curHeroIdx].sex,i=null;0==t?i="HumWin/00376-1.png":1==t&&(i="HumWin/00377-1.png"),N.loadResLocal(i,this.sp_hero.getComponent(o)),this.sp_hero.active=!0,this.lab_title.active=!0,this.lab_title.getComponent(p).string="LV."+e.level+" "+e.name,this.sp_quality.getChildByName("Label").getComponent(p).string=N.calculateHeroQuality(this._heroList[this._curHeroIdx].quality),this.btn_onStage.getChildByName("Label").getComponent(p).string=1==this._heroList[this._curHeroIdx].battleStatus?"下阵":"上阵",this.details.active=!!I.isDetails,this.details.active?(this.btn_details.getChildByName("show").active=!1,this.btn_details.getChildByName("hide").active=!0):(this.btn_details.getChildByName("show").active=!0,this.btn_details.getChildByName("hide").active=!1),L.getInstance().sendHeroArmyAttr(this._heroList[this._curHeroIdx].aid)},r.filterEquipmentHandle=function(e){this._equipList.armring=[],this._equipList.boots=[],this._equipList.dress=[],this._equipList.helmet=[],this._equipList.necklace=[],this._equipList.weapon=[];for(var t=[],i=e.length,a=0;a<i;a++)if(e[a]){var n={armyID:null,item:e[a]};t.push(n)}this.classifyInHeroTakeItemHandle(t);for(var r=0;r<this._allHeroTakeItemArr.length;r++){for(var s=this._allHeroTakeItemArr[r].itemArr,l=[],o=s.length,h=0;h<o;h++){var u={armyID:this._allHeroTakeItemArr[r].armyID,item:s[h]};l.push(u)}this.classifyInHeroTakeItemHandle(l)}console.log("背包和武将合并装备--\x3e> ",this._equipList)},r.evtMgrUpdateArmyBagHandle=function(){this.node.active},r.evtMgrArmyPropertyChangeHandle=function(e){var t=this._heroList[this._curHeroIdx].aid;e.armyID==t&&this.setHeroAttributeHandle(e.attri)},r.setHeroAttributeHandle=function(e){this.attri_scroll.getComponent(g).scrollToTop();var t=e;this.attri_content.getChildByName("lab_name").getComponent(p).string="名称:    "+t.name,this.attri_content.getChildByName("lab_job").getComponent(p).string="职业:    "+N.returnJobHandle(t.job),this.attri_content.getChildByName("lab_level").getComponent(p).string="等级:    "+t.level,this.attri_content.getChildByName("lab_MaxHP").getComponent(p).string="生命:    "+t.maxHP,this.attri_content.getChildByName("lab_DC").getComponent(p).string="攻击:    "+t.DC+"-"+t.maxDC,this.attri_content.getChildByName("lab_MC").getComponent(p).string="魔法:    "+t.MC+"-"+t.maxMC,this.attri_content.getChildByName("lab_SC").getComponent(p).string="道术:    "+t.SC+"-"+t.maxSC,this.attri_content.getChildByName("lab_MaxHandWeight").getComponent(p).string="腕力:    "+t.maxHandWeight,this.attri_content.getChildByName("lab_MaxWeight").getComponent(p).string="负重:    "+t.maxWeight,this.attri_content.getChildByName("lab_AC").getComponent(p).string="物防:    "+t.AC+"-"+t.maxAC,this.attri_content.getChildByName("lab_MAC").getComponent(p).string="魔防:    "+t.MAC+"-"+t.maxMAC},r.changeEquipmentView=function(e){switch(q.removeAniname("heroitemScore"),e){case"btn_weapon":this._curEquipIdx=0,this.fillEmptyHandle(this._equipList.weapon),this.equipment_list.numItems=this._equipList.weapon.length;break;case"btn_necklace":this._curEquipIdx=1,this.fillEmptyHandle(this._equipList.necklace),this.equipment_list.numItems=this._equipList.necklace.length;break;case"btn_bracelet":this._curEquipIdx=2,this.fillEmptyHandle(this._equipList.armring),this.equipment_list.numItems=this._equipList.armring.length;break;case"btn_helmet":this._curEquipIdx=3,this.fillEmptyHandle(this._equipList.helmet),this.equipment_list.numItems=this._equipList.helmet.length;break;case"btn_clothes":this._curEquipIdx=4,this.fillEmptyHandle(this._equipList.dress),this.equipment_list.numItems=this._equipList.dress.length;break;case"btn_shoes":this._curEquipIdx=5,this.fillEmptyHandle(this._equipList.boots),this.equipment_list.numItems=this._equipList.boots.length}this.equipment_list.scrollTo(-1)},r.fillEmptyHandle=function(e){var t,i=null;if((t=e.length)<I.maxWujBagL&&(i=I.maxWujBagL-t),i>0)for(var a=0;a<i;a++)e.push({armyID:null,item:null})},r.updateEquipDetailsHandle=function(){var e;switch(this._equipArr[this._curEquipIdx]){case"weapon":e="武器";break;case"necklace":e="项链";break;case"armring":e="手镯";break;case"helmet":e="头盔";break;case"dress":e="衣服";break;case"boots":e="鞋子"}return e},r.uniqueHandle=function(e){return Array.from(new Set(e))},r.classifyCurItemHandle=function(e){this._curEquipObj.weapon=this._curEquipObj.necklace=this._curEquipObj.armring=this._curEquipObj.helmet=this._curEquipObj.dress=this._curEquipObj.boots=null;for(var t=0;t<e.length;t++){switch(N.getItemType(e[t].s)){case y.WEAPON:this._curEquipObj.weapon=e[t];break;case y.NECKLACE:this._curEquipObj.necklace=e[t];break;case y.ARMRINGL:case y.ARMRINGR:this._curEquipObj.armring=e[t];break;case y.HELMET:this._curEquipObj.helmet=e[t];break;case y.DRESS:this._curEquipObj.dress=e[t];break;case y.BOOTS:this._curEquipObj.boots=e[t]}}},r.classifyInBagItemHandle=function(){this.filterEquipmentHandle(I.g_BagItemsList)},r.classifyInHeroTakeItemHandle=function(e){for(var t=e.length,i=0;i<t;i++)if(e[i]){var a=e[i].item;switch(N.getItemType(a.s)){case y.WEAPON:this._equipList.weapon.push(e[i]);break;case y.NECKLACE:this._equipList.necklace.push(e[i]);break;case y.ARMRINGL:case y.ARMRINGR:this._equipList.armring.push(e[i]);break;case y.HELMET:this._equipList.helmet.push(e[i]);break;case y.DRESS:this._equipList.dress.push(e[i]);break;case y.BOOTS:this._equipList.boots.push(e[i])}}},r.initPart=function(e,t,i){e.getComponent(o).spriteFrame=null;var a=this._curEquipObj[this._equipArr[i]];if(null!=a&&a.MakeIndex>0){var n=a.s.Looks;t!=I.U_WEAPON&&t!=I.U_DRESS&&t!=I.U_HELMET||(a.tag=t,N.loadImageEx(n,e,!0,t,"stateitem",this,!1))}},r.findHeroNamebyAidHandle=function(e){for(var t=this._heroList.length,i=0;i<t;i++){var a=this._heroList[i];if(a&&a.aid==e)return a.name}},r.onClickSpMaskHandle=function(){this._tip&&this._tip.active&&(this._tip.active=!1),this._heroDetails&&this._heroDetails.active&&(this._heroDetails.active=!1),this.equipDetails.active&&(this.equipDetails.active=!1),this.sp_mask.active=!1},r.onClickSpRMaskHandle=function(){this.heroDetails.active=!1},r.onCloseReplaceView=function(){this.sp_mask.active=!1,this.replace.active=!1},r.onCloseDetailsView=function(){I.isDetails=!1,this.details.active=!1,this.btn_details.getChildByName("hide").active=!1,this.btn_details.getChildByName("show").active=!0},r.onCloseView=function(){this.onClickSpMaskHandle(),this.tog_left.getComponent(m).toggleItems[0].isChecked=!0,this.tog_details.getComponent(m).toggleItems[0].isChecked=!0,this.attri_scroll.active=!0,this.equip.active=!1,this.scro_List.scrollTo(0),this.replace_list.scrollTo(0),this.node.active=!1,this._curEquipIdx=0,this._heroList&&(this.scro_List.getItemByListId(this._curHeroIdx)&&(this.scro_List.getItemByListId(this._curHeroIdx).getChildByName("sp_selected").active=!0),this._curHeroIdx=0,this._lastHeroIdx=-1,this.replace.active=!1,this._clickOnce=!1),this._allHeroTakeItemArr=[],this.btn_details.getChildByName("hide").active=!0,this.btn_details.getChildByName("show").active=!1,I.isDetails=!0,this.resetHeroAttri()},r.resetView=function(){this.sp_hero.getComponent(o).spriteFrame=null,this.skill_list.numItems=0,this.sp_hero.active=!1,this.lab_title.active=!1,this.sp_quality.active=!1,this.lab_onStageAmount.getComponent(p).string="0",this.lab_maxOnStageAmount.getComponent(p).string="/"+I.maxTakeHero,this.tog_left.getComponent(m).toggleItems[0].isChecked=!0,this.lab_noHero.active=!0,this.sp_fightNum.active=!1,this._curHeroIdx=-1,this.details.active=!1,this.btn_onStage.getComponent(o).spriteFrame=this.sp_BtnStatus[0],this.btn_onMakeDeal.getComponent(o).spriteFrame=this.sp_BtnStatus[1],this.btn_onStage.active=!1,this.btn_onMakeDeal.active=!1},r.resetWujiangView=function(){this.skill_list.numItems=0;for(var e=this.equipment.children.length,t=0;t<e;t++)this.equipment.children[t].dataSource=null,this.equipment.children[t].getChildByName("bg").active=!0,this.equipment.children[t].getChildByName("Sprite").getComponent(o).spriteFrame=null;this.sp_hero.active=!1,this.lab_title.active=!1,this.sp_quality.active=!1,this.sp_fightNum.active=!1,this.details.active=!!I.isDetails},r.registerEvents=function(){console.log("注册NewHero"),f.addEventListener(H.HERO_BATTLE_ONOFF,this.evtMgrHeroBattleOnOffHandle,this),f.addEventListener(H.ARMY_ATTR,this.evtMgrArmyAttrHandle,this),f.addEventListener(H.ARMY_TAKEONOFF_ITEM,this.evtMgrArmyTakeOnOffItemHandle,this),f.addEventListener(H.ARMY_TAKEON_ITEM_LIST,this.evtMgrArmyTakeOnItemListHandle,this),f.addEventListener(H.UPDATE_ARMY_BAG,this.evtMgrUpdateArmyBagHandle,this),f.addEventListener(H.ARMY_PROPERTY_CHANGE,this.evtMgrArmyPropertyChangeHandle,this),f.addEventListener(H.UPDATE_HERO_BASE_INFO,this.evtMgrUpdateHeroBaseInfoHandle,this)},r.unRegisterEvents=function(){console.log("注销NewHero"),f.removeEventListener(H.HERO_BATTLE_ONOFF,this.evtMgrHeroBattleOnOffHandle,this),f.removeEventListener(H.ARMY_ATTR,this.evtMgrArmyAttrHandle,this),f.removeEventListener(H.ARMY_TAKEONOFF_ITEM,this.evtMgrArmyTakeOnOffItemHandle,this),f.removeEventListener(H.ARMY_TAKEON_ITEM_LIST,this.evtMgrArmyTakeOnItemListHandle,this),f.removeEventListener(H.UPDATE_ARMY_BAG,this.evtMgrUpdateArmyBagHandle,this),f.removeEventListener(H.ARMY_PROPERTY_CHANGE,this.evtMgrArmyPropertyChangeHandle,this),f.removeEventListener(H.UPDATE_HERO_BASE_INFO,this.evtMgrUpdateHeroBaseInfoHandle,this)},t}(b)).prototype,"scro_List",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(Ie.prototype,"replace_list",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(Ie.prototype,"equipment_list",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Ie.prototype,"attri_list",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Ie.prototype,"skill_list",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(Ie.prototype,"sp_quality",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Ie.prototype,"tog_left",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Ie.prototype,"lab_onStageAmount",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(Ie.prototype,"lab_maxOnStageAmount",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(Ie.prototype,"sp_hero",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(Ie.prototype,"lab_noHero",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Ie.prototype,"hero_listContent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(Ie.prototype,"sp_fightNum",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(Ie.prototype,"lab_title",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(Ie.prototype,"lab_fightNum",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(Ie.prototype,"sp_mask",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(Ie.prototype,"tips",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Ie.prototype,"heroDetails",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Ie.prototype,"details",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Ie.prototype,"replace",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(Ie.prototype,"btn_onStage",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Ie.prototype,"btn_onMakeDeal",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Ie.prototype,"tog_details",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Ie.prototype,"attri_scroll",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Ie.prototype,"equip",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Ie.prototype,"attri_content",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Ie.prototype,"equipment",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Ie.prototype,"btn_details",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Ie.prototype,"equipDetails",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Ie.prototype,"equip_details",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Ie.prototype,"attri_list_content",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Ie.prototype,"weaponSprite",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Ie.prototype,"clothesSprite",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Ie.prototype,"hatSprite",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Ie.prototype,"pref_upgrade",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Ie.prototype,"btn_equipReplace",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(Ie.prototype,"btn_equipUpgrade",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Ie.prototype,"btn_equip_take_off",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Ie.prototype,"sp_BtnStatus",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=Ie))||fe));r._RF.pop()}}}));

System.register("chunks:///_virtual/NewItemInfoWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./SkillModule.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./RGBCode.ts","./CodeUtil.ts","./GameApi.ts","./GameMission.ts","./GameUtil.ts","./CustomButton.ts"],(function(e){"use strict";var t,s,i,n,o,a,m,r,I,g,l,d,h,_,u,p,c,f,x,v,M,S,b,O,C,k,N,W,B,w,D,y,E,T,H,L,P,R,G,A,V,U,z,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,m=e.Label,r=e.RichText,I=e.Sprite,g=e.EditBox,l=e.Node,d=e.Prefab,h=e.UITransform,_=e.Button,u=e.NodeEventType,p=e.UIOpacity,c=e.color,f=e.sys,x=e.Layout,v=e.View,M=e.Vec2,S=e.Vec3,b=e.v3,O=e.Layers,C=e.instantiate,k=e.Component},function(e){N=e.EventMgr},function(e){W=e.Config},function(e){B=e.U_Type},function(e){w=e.default},function(e){D=e.NEW_INFO_TYPE,y=e.SHOW_SCREEN_TYPE},function(e){E=e.Animationmodule},function(e){T=e.resourcesMgr},function(e){H=e.Skillmodule},function(e){L=e.uiControl},function(e){P=e.ObjectManage},function(e){R=e.sendmessage},function(e){G=e.rgbCode},function(e){A=e.codeUtil},function(e){V=e.GameApi},function(e){U=e.gameMission},function(e){z=e.GameUtil},function(e){F=e.default}],execute:function(){var $,J,Y,X,j,q,K,Q,Z,ee,te,se,ie,ne,oe,ae,me,re,Ie,ge,le,de,he,_e,ue,pe,ce,fe,xe,ve,Me,Se,be,Oe,Ce,ke,Ne,We,Be,we,De,ye,Ee,Te,He,Le,Pe,Re,Ge,Ae,Ve,Ue,ze,Fe,$e,Je,Ye,Xe,je,qe,Ke;o._RF.push({},"8c503JfWDxLRayr8BaM2+fI","NewItemInfoWin",void 0);var Qe=a.ccclass,Ze=a.property,et=a.menu;e("default",($=Qe("NewItemInfoWin"),J=et("弹窗模块/NewItemInfoWin"),Y=Ze(m),X=Ze(r),j=Ze(I),q=Ze(r),K=Ze(g),Q=Ze(m),Z=Ze(l),ee=Ze(d),te=Ze(l),se=Ze(l),ie=Ze(l),ne=Ze(l),oe=Ze(l),ae=Ze(l),me=Ze(h),re=Ze(h),Ie=Ze(l),ge=Ze(d),le=Ze(d),de=Ze(I),he=Ze(_),_e=Ze(_),ue=Ze(I),pe=Ze(l),ce=Ze(l),fe=Ze(l),xe=Ze(l),ve=Ze(l),$(Me=J(((Ke=function(e){function t(){for(var t,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"itemName",be,n(t)),i(t,"itemDescTop",Oe,n(t)),i(t,"itemSprite",Ce,n(t)),i(t,"ItemDescribe",ke,n(t)),i(t,"ShopNum",Ne,n(t)),i(t,"ShopPic",We,n(t)),i(t,"shopNode",Be,n(t)),i(t,"CustomButton",we,n(t)),i(t,"ButtonContent",De,n(t)),i(t,"buttonLayoutNode",ye,n(t)),i(t,"change_side",Ee,n(t)),i(t,"wear_txt",Te,n(t)),i(t,"scrollViewNode",He,n(t)),i(t,"scrollMaskNode",Le,n(t)),i(t,"contentNode",Pe,n(t)),i(t,"Item_bg",Re,n(t)),i(t,"starNode",Ge,n(t)),i(t,"starLightPrefab",Ae,n(t)),i(t,"starGrayPrefab",Ve,n(t)),i(t,"closeBtn",Ue,n(t)),i(t,"minusBtn",ze,n(t)),i(t,"plusBtn",Fe,n(t)),i(t,"iconBG",$e,n(t)),i(t,"maskCloseNode",Je,n(t)),i(t,"boxNode",Ye,n(t)),i(t,"topNode",Xe,n(t)),i(t,"newAniNode",je,n(t)),i(t,"moveNode",qe,n(t)),t.sHtitext=[],t.shopnum=0,t.content_height=300,t.change_idx=0,t.change_item=void 0,t.change_type=void 0,t.item=void 0,t.item_data=void 0,t.change_x=0,t.gradeColor=void 0,t.isLast=!1,t.info_str="",t.name_color="",t.type=null,t.new_type=null,t.getItemDetailName="",t}s(t,e);var o=t.prototype;return o.start=function(){var e=this;z.loadResLocal("newItemInfo/skill_bg.png",this.Item_bg.getComponent(I),(function(){var t=e.Item_bg.getComponent(I).spriteFrame;e.Item_bg.getComponent(I).spriteFrame.reset({originalSize:t.originalSize,rect:t.rect,offset:t.offset,isRotate:t.rotated,borderTop:72,borderBottom:61,borderLeft:25,borderRight:35})})),z.loadResLocal("BagWin/img_bag_bg.png",this.iconBG),z.loadResLocal("public/btn_close_new.png",this.closeBtn),z.loadResLocalButton("public/shop_minus (2).png","public/shop_minus (3).png",this.minusBtn),z.loadResLocalButton("public/shop_plus (2).png","public/shop_plus (3).png",this.plusBtn),z.loadResLocalButton("public/btn_ok.png","public/btn_ok (2).png",this.change_side.getComponent(_)),W.MainScene.openNewItemInfo=!0,this.maskCloseNode.active="comparison"==this.node.name,this.maskCloseNode.on(u.TOUCH_START,(function(t){t.preventSwallow=!0,e.maskCloseMaskView()}))},o.initMgr=function(){N.addEventListener(w.CLOSE_NEW_ITEM_INFO,this.closeView,this),N.addEventListener(w.GET_ITEM_DETAIL,this.getItemDetailInit,this)},o.getItemDetailInit=function(e){e.s.Name==this.getItemDetailName&&this.initData(this.item_data,this.type,this.new_type)},o.initData=function(e,t,s){var i,n=this;this.Item_bg.node.getComponent(p).opacity=0,this.boxNode.destroyAllChildren(),this.topNode.destroyAllChildren(),this.newAniNode.destroyAllChildren(),this.itemName.string="";var o;if(this.shopNode.active=!1,z.removeItemAni(this.itemSprite.node,"effect"),11==W.g_OpenIdx){i=z.newShowMagicInf();var a=0,m="";if(e.Def.wMagicId>=1e3&&e.Def.wMagicId<=1500){var r=H.findCustomSkill(e.Def.wMagicId,e.Level);r&&(m=W.g_pak_list[r.iconFileIndex],a=r.wIconImageIndex)}else{var g=e.Def.btEffect;38==e.Def.wMagicId&&(g=4),46==e.Def.wMagicId&&(g=42),39==e.Def.wMagicId&&(g=0),m="magicon"+z.getFile(2*g),a=2*g}var l=z.loadImgData(a,m);this.itemSprite.node.getComponent(h).height=50,this.itemSprite.node.getComponent(h).width=50,this.itemSprite.sizeMode=I.SizeMode.CUSTOM,T.resLoad(l.plist,(function(e){e&&n.itemSprite&&e.getSpriteFrame(l.img)&&(n.itemSprite.getComponent(I).spriteFrame=e.getSpriteFrame(l.img))}))}else{i=z.getItemInfo(e,t);var d="";d=e.s.StdMode>=70&&e.s.StdMode<=74&&W.g_ClientConfig.nShowUserIcon>=0&&W.g_ClientConfig.nShowUserIcon<W.g_pak_list.length?W.g_pak_list[W.g_ClientConfig.nShowUserIcon]:"items";var _=e.s.Looks;e.s.StdMode<=74&&e.s.StdMode>=70&&(_+=1);var u=z.loadImgData(_,d);u&&(this.itemSprite.sizeMode=I.SizeMode.TRIMMED,T.resLoad(u.plist,(function(e){e&&n.itemSprite&&e.getSpriteFrame(u.img)&&(n.itemSprite.getComponent(I).spriteFrame=e.getSpriteFrame(u.img))}))),"comparison1"==this.node.name&&e?z.showItemeffect(this.itemSprite.node,e):null!=W.g_MoveItems.Items&&z.showItemeffect(this.itemSprite.node,W.g_MoveItems.Items)}this.ItemDescribe.string="";var x=i[0].split("/*/");o=x[0],this.name_color=x[1],this.starNode.destroyAllChildren(),this.starNode.active=!1,this.info_str="";var v=!1;e.CustomProperty&&this.makeGXXCustomAttr(e.CustomProperty);for(var M=0;M<i.length;M++){var S=i[M];if(0!=M){if(S){if(!v){v=!0,this.itemDescTop.string="";var b=JSON.parse(f.localStorage.getItem("g_ItemDescTop"));if(b){for(var O="",C=0;C<b.length;C++){var k=b[C].split("=");if(k[0]&&k[1]&&k[0]==this.itemName.string+" "&&-1!=k[1].indexOf("|")){var N=k[1].substring(0,k[1].indexOf("{")).split("/");for(O+="<color="+G.Get2RGB(N[0])+">"+N[1]+"</color>";-1!=k[1].indexOf("{")&&-1!=k[1].indexOf("}");){var B=k[1].substring(k[1].indexOf("{"),k[1].indexOf("}")+1),w=B.substring(1,B.indexOf("|"));O+="<color="+G.Get2RGB(B.substring(B.indexOf("|")+1,B.indexOf("}")))+">"+w+"</color>",k[1]=k[1].substr(k[1].indexOf("}")+1)}break}if(k[0]&&k[1]&&k[0]==this.itemName.string&&-1!=k[1].indexOf(":")){this.makeDescStr(k[1],this.topNode);break}}""!=O&&(this.itemDescTop.string=O),b=null}}if(S.name&&"desc"==S.name&&S.str){if(i[M-1]&&i[M].str==i[M-1].str)continue;this.makeDescStr(S.str,this.topNode)}else if(S.name&&"custom"==S.name&&S.obj)this.makeCunstomAttr(S.obj);else if(-1==S.indexOf("★")&&-1==S.indexOf("●")||-1!=S.indexOf("/*/")){var D,y=e;(L=S.split("/*/"))[0].indexOf("所需转生&")>-1&&y&&y.s&&[40,41,42,43,44].indexOf(y.s.Need)>-1&&(D="所需转生等级："+y.s.NeedLevel%65536+"&"+this.getShowNameByDB(y.s.Need)+Math.floor(y.s.NeedLevel/65536));var E="";E=0==L[0].indexOf("装备评分:")?"#00ff00":L[1],M==i.length-1?this.info_str+=D?"<color="+E+">"+D+"</color>":"<color="+E+">"+L[0]+"</color>":this.info_str+=D?"<color="+E+">"+D+"</color>\n":"<color="+E+">"+L[0]+"</color>\n",D=void 0}else this.makeStar(S)}}else{var L=S.split("/*/");if(5==W.g_OpenIdx?this.itemName.color=c("#ffff00"):this.itemName.color=c(L[1]),-1!=L[0].indexOf("<")){var P=L[0].substring(L[0].indexOf("<")+1,L[0].length);this.makeDescStr(P,this.topNode),L[0]=L[0].substring(0,L[0].indexOf("<"))}this.itemName.string=L[0]}}this.ItemDescribe.string=this.info_str,this.GetShowType(o,s),this.showBtton(),this.scheduleOnce((function(){1==W.g_isOnWindows?n.setPcHeight():n.setHeight()}),.01),this.wear_txt.active=!(!e||!z.getUserItems(e.MakeIndex))},o.setHeight=function(){var e=this,t=this.shopNode.active?this.content_height:this.content_height+this.shopNode.getComponent(h).height;this.contentNode.height>t?(this.scrollMaskNode.getComponent(h).height=t,this.scrollViewNode.getComponent(h).height=t):(this.scrollMaskNode.getComponent(h).height=this.contentNode.getComponent(h).height,this.scrollViewNode.getComponent(h).height=this.contentNode.getComponent(h).height),this.scheduleOnce((function(){e.Item_bg.getComponent(x).updateLayout(!0),e.moveNode.getComponent(h).width=e.Item_bg.getComponent(h).width,e.moveNode.getComponent(h).height=e.Item_bg.getComponent(h).height;var t=e.moveNode.getChildByName("touchTop");t&&(t.getComponent(h).width=e.Item_bg.getComponent(h).width,t.getComponent(h).height=e.Item_bg.getComponent(h).height),e.Item_bg.node.getComponent(p).opacity=255}),.01)},o.setPcHeight=function(){var e=this;this.scrollMaskNode.getComponent(h).height=this.ItemDescribe.node.getComponent(h).height,this.scrollViewNode.getComponent(h).height=this.ItemDescribe.node.getComponent(h).height,this.Item_bg.getComponent(x).updateLayout(!0),this.scheduleOnce((function(){var t=W.g_pcMousePoint,s=v.instance.getCanvasSize(),i=(new M(s.width/2,s.height/2),t.x+e.Item_bg.width/2),n=t.y;n-e.Item_bg.height<0&&(n=e.Item_bg.height),i+e.Item_bg.width>s.width/.7&&(i=s.width/.7-e.Item_bg.width),"comparison"==e.Item_bg.node.parent.name?e.Item_bg.node.parent.setPosition(i+5,n-5):"comparison1"==e.Item_bg.node.parent.name&&e.Item_bg.node.parent.setPosition(e.Item_bg.node.parent.getPosition().x,n),e.Item_bg.node.getComponent(p).opacity=255}),.02)},o.showBtton=function(){"comparison1"==this.node.name||1==W.g_isOnWindows?this.ButtonContent.active=!1:0!=this.ButtonContent.children.length?this.ButtonContent.active=!0:this.ButtonContent.active=!1},o.changeSide=function(){if(this.change_item){z.getItemInfo(this.change_item,this.change_type);if(this.change_item.s.StdMode>=70&&this.change_item.s.StdMode<=74)if(W.g_ClientConfig.nShowUserIcon>=0&&W.g_ClientConfig.nShowUserIcon<W.g_pak_list.length)U.GetPakSing(W.g_ClientConfig.nShowUserIcon),(Array(5).join("0")+(0+(this.change_item.s.Looks+1))).slice(-5);else z.parseNameFormat(this.change_item.s.Looks);else z.parseNameFormat(this.change_item.s.Looks);switch(this.item=this.change_item,this.change_idx){case 5:this.change_item=W.g_UserItemList[6],this.change_idx=6;break;case 6:this.change_item=W.g_UserItemList[5],this.change_idx=5;break;case 7:this.change_item=W.g_UserItemList[8],this.change_idx=8;break;case 8:this.change_item=W.g_UserItemList[7],this.change_idx=7}var e=this.node.parent.getChildByName("comparison").getComponent(t);if(e&&e.item&&this.item){var s=V.getItemScore(this.item),i=V.getItemScore(e.item);i==s||!s&&0!=s?(e.gradeColor=!0,(s||0==s)&&(this.gradeColor=!0)):i>s?(e.gradeColor=!0,this.gradeColor=!1):i<s&&(e.gradeColor=!1,this.gradeColor=!0),this.initImg(this.item,0)}}},o.makeDescStr=function(e,t,s){if(0!=e.indexOf("{")||-1==e.indexOf("}")){for(var i=e.split("\\"),n=i.length-1;n>-1;n--)""!=i[n]||i.splice(n,1);for(var o=0;o<i.length;o++){this.isLast=!1,o==i.length-1?this.isLast=!0:this.isLast=!1;var a=i[o],m=[];-1!=a.indexOf(">")?(a=a.split(">"),this.makeSliece(a,m)):m.push(a),this.makeDescBox(m,t,s)}}},o.makeSliece=function(e,t){for(var s=0;s<e.length;s++)for(var i=e[s].split("<"),n=0;n<i.length;n++)t.push(i[n]);return t},o.makeDescBox=function(e,t,s){if(e)for(var i=0;i<e.length;i++){var n=!1;if(i==e.length-1&&(n=!0),-1==e[i].indexOf(":")||-1==e[i].toUpperCase().indexOf("PLAYIMG")&&-1==e[i].toUpperCase().indexOf("IMG")){if(-1!=e[i].indexOf("-/")){var o="#000000";this.makeDescTxt("——————————————",o)}else if(-1!=e[i].indexOf("/")){if((c=e[i].split("/")).length>2){var a=G.Get2RGB(e[i].substring(0,e[i].indexOf("/"))),m=e[i].substring(e[i].indexOf("/")+1,e[i].length);this.info_str+="<color="+a+">"+m+"</color>"}else{o="#000000";for(var r=2,I=0;I<c.length;I+=r)if(-1!=c[0].indexOf(":")&&(c[0]=c[0].replace(":","")),c[I])if(isNaN(parseInt(c[I])))this.makeDescTxt(c[I],o),r=1;else if(r=2,""!=c[I+1]){if(""!=c[I].trim()&&(o=G.Get2RGB(c[I])),c[I+1])if(-1==c[I+1].indexOf("{"))I+1==c.length-1?this.info_str+="<color="+o+">"+c[I+1]+"</color>\n":this.info_str+="<color="+o+">"+c[I+1]+"</color>";else for(var g=c[I+1].split("{"),l=0;l<g.length;l++){var d=g[l].split("}");if(-1!=d[0].indexOf("|")){var _=d[0].split("|");o=G.Get2RGB(_[1]);for(var u=_[0],p=1;p<d.length;p++){if(""!=d[p])u+="<color="+G.Get2RGB(c[0])+">"+d[p]+"</color>"}l==g.length-1?this.info_str+="<color="+o+">"+u+"</color>\n":this.info_str+="<color="+o+">"+u+"</color>"}else o=G.Get2RGB(c[I]),""!=d&&(this.info_str+=n?"<color="+o+">"+d+"</color>\n":"<color="+o+">"+d+"</color>")}}else o=G.Get2RGB(c[I]);else r=1}}else if(-1!=e[i].indexOf("{"))for(var c=e[i].split("{"),f=0;f<c.length;f++){var x=!1;if(f==c.length-1&&(x=!0),c[f].indexOf("}")!=c[f].length){var v=c[f].substr(0,c[f].indexOf("}")),M=c[f].substr(c[f].indexOf("}")+1,c[f].length);if(console.log("temp_str=",v),console.log("end_str=",M),-1!=v.indexOf("|")){var O=v.split("|"),C=G.Get2RGB(O[1]);this.info_str+=x&&""==M?"<color="+C+">"+O[0]+"</color>\n":"<color="+C+">"+O[0]+"</color>"}""!=M&&(this.info_str+=x&&!this.isLast?"<color="+o+">"+M+"</color>\n":"<color="+o+">"+M+"</color>")}else{var k=c[f].replace("}","");if(-1!=k.indexOf("|")){var N=k.split("|");o=G.Get2RGB(N[1]),f==c.length-1?this.info_str+="<color="+o+">"+N[0]+"</color>\n":this.info_str+="<color="+o+">"+N[0]+"</color>"}else this.info_str+="<color="+o+">"+c[f]+"</color>"}}else if(""!=e[i]){if("-"==e[i]){e[i]="--------------------------------------",this.makeDescTxt(e[i],"#ffffff");continue}o&&"#000000"==o?this.makeDescTxt(e[i],"#ffffff"):(null==o&&(o=this.name_color),this.makeDescTxt(e[i],o))}}else{var W=new S(0,0);if(this.ItemDescribe.string=this.info_str,W.x=this.ItemDescribe.getComponent(h).width/2,W.y=this.ItemDescribe.getComponent(h).height,-1!=e[i].toUpperCase().indexOf("PLAYIMG"))if(s)z.New_LineText_PLAYIMG(e[i],b(0,0),this.newAniNode,null);else{var B=0;if(t)B=z.LineText_PLAYIMG(e[i],W,t,!0,!1);else if(91==this.item_data.s.StdMode){if((B=z.LineText_PLAYIMG(e[i],W,this.boxNode,!0,!1,!0))&&B>2*this.ItemDescribe.lineHeight)for(var w=0;w<B/20-1;w++)if(2==w){var D=A._MAKELONG(this.item_data.NewValue[2],this.item_data.NewValue[13]),y=A._MAKELONG(this.item_data.NewValue[18],this.item_data.NewValue[19]);this.info_str+="经验   "+D+"/"+y+"\n"}else 91==this.item_data.s.StdMode&&w==Math.ceil(B/20)-2?this.info_str+="\n等级   "+this.item_data.Dura+"\n":this.info_str+="\n"}else{B=z.LineText_PLAYIMG(e[i],W,this.boxNode,!0,!0);for(var E=0;E<B/20-1;E++)this.info_str+="\n"}}else if(-1!=e[i].toUpperCase().indexOf("IMGEX"))this.LineText_IMGEX(e[i],W,this.boxNode);else if(-1!=e[i].toUpperCase().indexOf("IMG")){var T=this.LineText_IMG(e[i],W,this.boxNode,!0);if(T&&T>20)if(T<2*this.ItemDescribe.lineHeight)for(var H=0;H<T/20-1;H++)this.info_str+="\n";else for(var L=0;L<T/this.ItemDescribe.lineHeight-1;L++)this.info_str+="\n";else T&&20==T&&(this.info_str+="\n")}}}},o.LineText_IMG=function(e,t,s,i){if(Array.isArray(e))var n=e[0],o=e[1];else n=e,o="";var a=!1;if(-1!=n.indexOf("|")){var m=n.split("|");n=n.replace("|"+m[1],""),a=!0}var r=n.split(":"),g=parseInt(r[1]),d=parseInt(r[2]),u=0;r[3]&&(u=Number(r[3]));var p=W.g_pak_list[d];p&&(p=p.toLocaleLowerCase());var c=U.getUrls(p,g);U.saveLoadPath(c.plistPath);var f=new l("linetext_img");f.layer=O.Enum.UI_2D,f.addComponent(I),f.getComponent(I).sizeMode=I.SizeMode.TRIMMED;var x=T.getRes(c.plistPath);if(x?f.getComponent(I).spriteFrame=x.getSpriteFrame(c.imgName):console.error("未从缓存中读取到资源路径为:",c.plistPath,"的资源"),f.setPosition(t.x,t.y),r[3]&&r[4]&&f.setPosition(t.x+parseInt(r[3]),t.y+parseInt(r[4])),a&&""!=m[1]&&(f.sHitText=m[1],f.addComponent(_),f.on(l.EventType.TOUCH_START,U.onHitTextClick),f.BoIsOpen=!1),""!=o){f.addComponent(_);f.on(l.EventType.TOUCH_START,function(){U.onCmdClick(o)}.bind(o))}if(s.components){if(s.addChild(f),t.x=-s.getComponent(h).width/2+f.getComponent(h).width/2+u,f.setPosition(t.x,-t.y),t.x+=f.getComponent(h).width,i&&(f.getComponent(h).height>20||u>0))return f.getComponent(h).height>40&&f.setPosition(-s.getComponent(h).width/2+f.getComponent(h).width/2,-t.y-f.getComponent(h).height/2+12.5),f.getComponent(h).height}else console.log("Show_bg.getComponent(UITransform):不存在此组件")},o.LineText_IMGEX=function(e,t,s,i){var n="",o="";Array.isArray(e)?(n=e[0],o=e[1]):n=e;var a=n.split(":"),m=parseInt(a[1]),r=parseInt(a[2]),g=(parseInt(a[3]),parseInt(a[4])),d=parseInt(a[5]),u=0,p=-1,c=!1;if(-1!=(p=n.indexOf("|"))){var f=n.substr(p+1,n.length-p);n=n.substr(0,p),c=!0}if(a[7]){f=a[7];c=!0}if(a[6])if(-1!=(p=a[6].indexOf(":")))u=a[6].substr(p,0);else u=parseInt(a[6]);var x=new l("LineText_IMGEX");x.layer=O.Enum.UI_2D,x.addComponent(I),x.getComponent(I).sizeMode=I.SizeMode.TRIMMED,x.getComponent(h).anchorX=0,x.getComponent(h).anchorY=1,x.imgEx=!0;var v=U.getUrls(W.g_pak_list[m],r),M=T.getRes(v.plistPath);if(M?x.getComponent(I).spriteFrame=M.getSpriteFrame(v.imgName):console.error("未从缓存中读取到资源路径为:",v.plistPath,"的资源"),s.addChild(x),x.setPosition(t.x+d,t.y+u),r!=g&&(x.getComponent(_)||x.addComponent(_),x.getComponent(_).transition=_.Transition.SPRITE,x.on(l.EventType.TOUCH_END,(function(){var e=U.getUrls(W.g_pak_list[m],r),t=T.getRes(e.plistPath);t?x.getComponent(I).spriteFrame=t.getSpriteFrame(e.imgName):console.error("未从缓存中读取到资源路径为:",e.plistPath,"的资源")})),x.on(l.EventType.TOUCH_START,(function(){U.getUrls(W.g_pak_list[m],g);var e=T.getRes(v.plistPath);e?x.getComponent(I).spriteFrame=e.getSpriteFrame(v.imgName):console.error("未从缓存中读取到资源路径为:",v.plistPath,"的资源")}))),c&&""!=f&&(a[6].indexOf("|")>-1||a[7]))x.sHitText=""!==o?f+"/"+o:f,x.getComponent(_)||x.addComponent(_),x.getComponent(_).transition!=_.Transition.SPRITE&&(x.getComponent(_).transition=_.Transition.SCALE,x.getComponent(_).zoomScale=.95),x.on(l.EventType.TOUCH_START,U.onHitTextClick,x),x.BoIsOpen=!1,""!==o&&(x.sCmdsJump=!0);else if(""!=o){x.getComponent(_)||x.addComponent(_),x.getComponent(_).transition!=_.Transition.SPRITE&&(x.getComponent(_).transition=_.Transition.SCALE,x.getComponent(_).zoomScale=.95),x.sCmdsJump=!0;x.on(l.EventType.TOUCH_START,(function(){U.onCmdClick(o)}),x)}var S=z.LayaPointToCocosPoint(x.position,s.getComponent(h).width,s.getComponent(h).height);return x.setPosition(S),t.x+=x.getComponent(h).width,t},o.makeDescTxt=function(e,t){this.info_str+="<color="+t+">"+e+"</color>\n"},o.makeCunstomAttr=function(e){""!=e.sTitle&&"自定义属性"!=e.sTitle&&(this.info_str+="<color="+G.Get2RGB(e.nColor)+">"+e.sTitle+"</color>\n");for(var t=W.CUSTOMITEMABIL_LEN,s=0;s<t;s++)if(e.arrAbilValue[s]>0&&0!=e.arrAbilType[s]){var i=0==e.arrAbilMethod[s]?"":"%",n=W.g_customItemAttr.CustomItemAttr[e.arrAbilType[s]-1],o=e.arrAbilValue[s];this.info_str+=s==t-1?"<color="+G.Get2RGB(e.arrAbilColor[s])+">"+(n+o+i)+"</color>":"<color="+G.Get2RGB(e.arrAbilColor[s])+">"+(n+o+i)+"</color>\n"}t=null},o.makeCustomBar=function(e){},o.mergeLine=function(e){for(var t=[],s=[],i=0;i<e.length;i++)if(-1==t.indexOf(e[i].line))s.push({line:e[i].line,txt:[e[i]]}),t.push(e[i].line);else for(var n=0;n<s.length;n++)if(s[n].line==e[i].line){s[n].txt.push(e[i]);break}return s},o.makeStar=function(e){this.starNode.active=!0;for(var t=0;t<e.length;t++){var s=C(this.starLightPrefab);this.starNode.addChild(s)}},o.getShowNameByDB=function(e){switch(e){case 40:return"等级：";case 41:return"攻击力：";case 42:return"魔法力：";case 43:return"道术：";case 44:return"声望点："}return"noShowName"},o.cleanButton=function(){this.ButtonContent.destroyAllChildren()},o.isUpEquipType=function(e){if(e&&e.s.Name&&(47==e.s.StdMode||46==e.s.StdMode)&&(50==e.s.Shape||51==e.s.Shape||3==e.s.Shape))return!0},o.GetShowType=function(e,t){if(this.cleanButton(),5!=W.g_OpenIdx||t){if(null!=W.g_MoveItems.Items&&null!=W.g_MoveItems.Items.s){if(this.sHtitext=[],0==W.g_OpenIdx||3==W.g_OpenIdx)0==(_=W.g_MoveItems.Items.s.StdMode)||1==_||2==_||3==_?(this.sHtitext.push("使用"),0==_&&5==W.g_MoveItems.Items.s.Source&&W.g_MoveItems.Items.DuraMax>0&&(this.sHtitext.push("叠加"),this.sHtitext.push("拆分")),"修复神水"!=W.g_MoveItems.Items.s.Name&&this.sHtitext.push("布置")):211==_||31==_?this.sHtitext.push("使用"):4==_?this.sHtitext.push("学习"):this.isUpEquipType(W.g_MoveItems.Items)?this.sHtitext.push("使用"):2==W.g_MoveItems.Items.s.OverLap&&23==_?this.sHtitext.push("装备"):1==W.g_MoveItems.Items.s.OverLap||2==W.g_MoveItems.Items.s.OverLap?W.g_MoveItems.Items.Dura>0?(this.sHtitext.push("拆分"),this.sHtitext.push("叠加")):this.sHtitext.push("叠加"):40==_||41==_||49==_?this.sHtitext.push("使用"):25==_&&8==W.g_MoveItems.Items.s.Source?(this.sHtitext.push("使用"),this.sHtitext.push("装备")):47==_||46==_||91==_?this.sHtitext.push("使用"):43!=_&&46!=_&&this.sHtitext.push("装备"),W.g_OpenStore&&3!=W.g_OpenIdx&&(this.sHtitext=[],this.sHtitext.push("存到仓库")),W.g_OpenHeroBag&&3!=W.g_OpenIdx&&(this.sHtitext=[],this.sHtitext.push("转给英雄"));else 1==W.g_OpenIdx||18==W.g_OpenIdx||20==W.g_OpenIdx?this.sHtitext.push("卸下"):15==W.g_OpenIdx?this.sHtitext.push("英雄卸下"):2==W.g_OpenIdx&&this.sHtitext.push("取回背包");if(4==W.g_OpenIdx&&"comparison1"!=this.node.name)this.sHtitext.push("购买"),this.shopNode.active=!0,this.ShopNum.string="1",this.shopnum=1,this.ShopPic.string=(parseInt(this.ShopNum.string)*W.g_MoveItems.Items.s.Price).toString();else if(14==W.g_OpenIdx)0==(_=W.g_MoveItems.Items.s.StdMode)||1==_||2==_||3==_||31==_?this.sHtitext.push("英雄使用"):(17==_||18==_||40==_||41==_||42==_)&&W.g_MoveItems.Items.s.Reserved>0?W.g_MoveItems.Items.Dura>0?(this.sHtitext.push("英雄拆分"),this.sHtitext.push("英雄叠加")):this.sHtitext.push("英雄叠加"):4==_?this.sHtitext.push("英雄学习"):40==_&&41==_&&49==_&&31==_&&211==_&&25==_||this.sHtitext.push("英雄装备"),W.g_OpenBag&&(this.sHtitext=[],this.sHtitext.push("转回主人"));else 4!=W.g_OpenIdx&&(this.shopNode.active=!1);6==W.g_OpenIdx&&"修复神水"!=W.g_MoveItems.Items.s.Name?this.sHtitext.push("布置药品"):7==W.g_OpenIdx?this.sHtitext.push("确定"):8==W.g_OpenIdx?this.sHtitext.push("修理"):9==W.g_OpenIdx?this.sHtitext.push("出售"):12==W.g_OpenIdx?this.sHtitext.push("取回物品"):13==W.g_OpenIdx?this.sHtitext.push("上交"):W.g_OpenMyShop&&1!=W.g_OpenIdx&&3!=W.g_OpenIdx&&30!=W.g_OpenIdx&&2!=W.g_OpenIdx&&16!=W.g_OpenIdx?(this.sHtitext=[],this.sHtitext.push("放入摆摊")):W.g_OpenMyShop&&30==W.g_OpenIdx?(this.sHtitext=[],this.sHtitext.push("返回背包")):W.g_OpenJiaoYi&&1!=W.g_OpenIdx&&3!=W.g_OpenIdx&&16!=W.g_OpenIdx?(this.sHtitext=[],this.sHtitext.push("放入交易")):16==W.g_OpenIdx||17==W.g_OpenIdx?16==W.g_OpenIdx&&W.g_MoveItems.Items.s.StdMode>=70&&W.g_MoveItems.Items.s.StdMode<=74?this.sHtitext.push("装备"):17==W.g_OpenIdx&&this.sHtitext.push("取消设置"):19==W.g_OpenIdx?this.sHtitext.push("确定"):23==W.g_OpenIdx?this.sHtitext.push("放入商店"):25==W.g_OpenIdx?this.sHtitext.push("上架拍卖"):26!=W.g_OpenIdx&&27!=W.g_OpenIdx&&28!=W.g_OpenIdx||this.sHtitext.push("放入")}else if(11==W.g_OpenIdx&&e){if(this.sHtitext=[],"基本剑术"==e||"攻杀剑术"==e||"精神力战法"==e||"护体神盾"==e)return;this.sHtitext.push("布置技能")}console.log("Config.g_OpenIdx=",W.g_OpenIdx,e),this.cleanButton(),console.log("this.sHtitext",this.sHtitext);var s=!1,i=this.contentNode.getComponent(h).width/(this.sHtitext.length+1);if(t){var n=C(this.CustomButton),o=n.getComponent(F);return o.onItemClick=this.but_fun_0_Click.bind(this),this.ButtonContent.addChild(n),void(t==D.SAVE?o.ButtonName.string="存入":t==D.EXCHANGE&&(o.ButtonName.string="兑换"))}if(this.sHtitext.length>1||43==_||46==_)for(var a=0;a<this.sHtitext.length;a++){var m=C(this.CustomButton),r=m.getComponent(F);r.onItemClick=this.but_fun_0_Click.bind(this),m.getComponent(h).width=i,r.ButtonName.string=this.sHtitext[a],m.name=this.sHtitext[a],this.ButtonContent.addChild(m),s=!0}else{if(0==this.sHtitext.length)return;var I=C(this.CustomButton),g=I.getComponent(F);g.onItemClick=this.but_fun_0_Click.bind(this),g.ButtonName.string=this.sHtitext[0],I.name=this.sHtitext[0],this.ButtonContent.addChild(I),4!=W.g_OpenIdx&&2!=W.g_OpenIdx&&3!=W.g_OpenIdx&&7!=W.g_OpenIdx&&6!=W.g_OpenIdx&&8!=W.g_OpenIdx&&9!=W.g_OpenIdx&&11!=W.g_OpenIdx&&12!=W.g_OpenIdx&&13!=W.g_OpenIdx&&16!=W.g_OpenIdx&&17!=W.g_OpenIdx||6==W.g_OpenIdx&&-1!=W.g_DrugButNumber&&null!=W.g_DrugButNumber[W.g_DrugButNumber]&&(g.ButtonName.string="替换药品",I.name="替换药品")}if(2!=W.g_OpenIdx&&3!=W.g_OpenIdx&&4!=W.g_OpenIdx&&30!=W.g_OpenIdx&&6!=W.g_OpenIdx&&7!=W.g_OpenIdx&&8!=W.g_OpenIdx&&9!=W.g_OpenIdx&&10!=W.g_OpenIdx&&11!=W.g_OpenIdx&&12!=W.g_OpenIdx&&13!=W.g_OpenIdx&&26!=W.g_OpenIdx&&27!=W.g_OpenIdx&&28!=W.g_OpenIdx&&16!=W.g_OpenIdx&&17!=W.g_OpenIdx&&18!=W.g_OpenIdx&&19!=W.g_OpenIdx&&20!=W.g_OpenIdx&&23!=W.g_OpenIdx){if(0==this.sHtitext.length)return;var l=C(this.CustomButton),d=l.getComponent(F);if(d.onItemClick=this.but_fun_0_Click.bind(this),this.ButtonContent.addChild(l),14==W.g_OpenIdx){var _=W.g_MoveItems.Items.s.StdMode;!W.g_OpenBag||0==_||1==_||2==_||3==_||4==_||31==_||40==_&&41==_&&49==_&&31==_&&211==_&&25==_?(d.ButtonName.string="英雄丢弃",l.name="英雄丢弃"):(d.ButtonName.string="英雄装备",l.name="英雄装备")}else d.ButtonName.string="丢弃",l.name="丢弃";console.log("Config.g_OpenState=",W.g_OpenState),W.g_OpenState&&0!=W.g_OpenIdx&&14!=W.g_OpenIdx&&(d.ButtonName.string="替换",l.name="替换"),W.g_OpenHeroState&&15==W.g_OpenIdx&&(d.ButtonName.string="英雄替换",l.name="英雄替换"),s&&(l.getComponent(h).width=i)}}},o.but_fun_0_Click=function(e){var s=this,i=e.string;console.log("sName=",i);var n=W.g_BagItemsList,o=W.g_nBagIdx;switch(i){case"更多":e.string="隐藏",this.buttonLayoutNode.active=!0;break;case"隐藏":e.string="更多",this.buttonLayoutNode.active=!1;break;case"使用":W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,null==W.g_WaitItems.Items?(N.raiseEvent("show_log",[{txt:"使用失败！",color:"#ff0000"}]),this.closeView()):(211==W.g_WaitItems.Items.s.StdMode||this.isUpEquipType(W.g_WaitItems.Items)||z.delBagItems(W.g_WaitItems.Items.MakeIndex),25==W.g_WaitItems.Items.s.StdMode&&8==W.g_WaitItems.Items.s.Source?R.blessbottle(1,W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name):46==W.g_WaitItems.Items.s.StdMode&&3==W.g_WaitItems.Items.s.Shape?V.showScreen(!0,null,18):this.isUpEquipType(W.g_WaitItems.Items)?V.showScreen(!0,null,17):R.sendEat(0,W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name),N.raiseEvent(w.SHOWDRUG_ITEMS),W.g_WaitItems.Items.s.Shape>14&&W.g_WaitItems.Items.s.Shape<25&&(W.g_boxid=W.g_WaitItems.Items.MakeIndex),this.closeView());break;case"拆分":var a=function(e){if(parseInt(e)>0){var t=W.g_MoveItems.Items.Dura;z.checkMaterialItemCanBeStacked(W.g_MoveItems.Items,!0)&&(t=W.g_MoveItems.Items.Dura+1),parseInt(e)<t?(W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.delBagItems(W.g_WaitItems.Items.MakeIndex),R.blessbottle(parseInt(e),W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name)):N.raiseEvent("show_log",[{txt:"输入数量有误",color:"#ff0000"}])}};L.handlerAlert({type:4,content:"输入要拆分的数量！",sF:a}),this.closeView();break;case"叠加":for(var m=0;m<n.length;m++){if(null!=n[o]&&null!=n[m]&&n[o].Dura>=0&&n[o].s.Name==n[m].s.Name&&n[m].s.IsBind==n[o].s.IsBind&&n[m].MakeIndex!=n[o].MakeIndex&&n[m].DuraMax-n[m].Dura>1&&(1==n[o].s.Overlap||2==n[o].s.OverLap)){m>o?(W.g_WaitItems.Index=m,0==n[o].s.StdMode?R.sendStackDrug(n[m].MakeIndex,n[o].MakeIndex,n[o].s.DBName,0):R.sendStackThing(n[m].MakeIndex,n[o].MakeIndex,n[o].s.DBName,0)):(W.g_WaitItems.Index=o,0==n[o].s.StdMode?R.sendStackDrug(n[o].MakeIndex,n[m].MakeIndex,n[o].s.DBName,0):R.sendStackThing(n[o].MakeIndex,n[m].MakeIndex,n[o].s.DBName,0));var r=!0;break}if(r)break}this.closeView();break;case"英雄使用":W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,211!=W.g_WaitItems.Items.s.StdMode&&(z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),W.g_HeroBagCount-=1),R.heroEat(W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name),this.closeView();break;case"英雄拆分":a=function(e){parseInt(e)>0&&(W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),R.blessbottleH(parseInt(e),W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name))};L.handlerAlert({type:4,content:"输入要拆分的数量！",sF:a}),this.closeView();break;case"英雄叠加":for(var I=0;I<n.length;I++){if(null!=n[I]&&null!=n[o]&&n[I].Dura>=0&&n[I].s.Name==n[o].s.Name&&n[o].MakeIndex!=n[I].MakeIndex&&49!=n[I].Dura&&49!=n[o].Dura&&(17==n[I].s.StdMode||18==n[I].s.StdMode||41==n[I].s.StdMode||40==n[I].s.StdMode||42==n[I].s.StdMode||31==n[I].s.StdMode&&-1!=n[I].s.Name.indexOf("经验卷轴"))){I>o?(W.g_WaitItems.Index=I,R.sendHeroStackThing(n[I].MakeIndex,n[o].MakeIndex,n[I].s.DBName,0)):(W.g_WaitItems.Index=o,R.sendHeroStackThing(n[o].MakeIndex,n[I].MakeIndex,n[I].s.DBName,0));r=!0;break}if(r)break}this.closeView();break;case"英雄学习":L.handlerAlert({type:2,content:"你是否确定学习 : 【 "+W.g_MoveItems.Items.s.Name+" 】 ？",sF:function(){W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),W.g_HeroBagCount-=1,R.heroEat(W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name)}}),this.closeView();break;case"学习":L.handlerAlert({type:2,content:"你是否确定学习 : 【 "+W.g_MoveItems.Items.s.Name+" 】 ？",sF:function(){W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,null!=W.g_WaitItems.Items.MakeIndex&&z.delBagItems(W.g_WaitItems.Items.MakeIndex),R.sendEat(0,W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name)}}),this.closeView();break;case"装备":console.log(" Config.g_SelectIndex=",W.g_SelectIndex),t.equipmentItems(W.g_MoveItems.Items,W.g_SelectIndex),this.closeView(),N.raiseEvent("close_screenwin"),3==W.g_OpenIdx&&V.showScreen(!1);break;case"取消设置":W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null;var g=z.getItemType(W.g_WaitItems.Items.s);if(W.g_WaitItems.Index=g,52==g)return R.sendActiveFengHao(-1),void this.closeView();R.TakeOffItem(W.g_WaitItems.Items,g),this.closeView();break;case"英雄装备":g=W.g_SelectIndex;W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,14==W.g_OpenIdx&&(6==g&&null!=W.g_HeroItemList[6]?null!=W.g_HeroItemList[5]?(g=t.RandomPOS?6:5,t.RandomPOS=!t.RandomPOS):g=5:7==g&&null!=W.g_HeroItemList[7]?null!=W.g_HeroItemList[8]?(g=t.RandomPOS?7:8,t.RandomPOS=!t.RandomPOS):g=8:23==g&&null!=W.g_HeroItemList[23]?null!=W.g_HeroItemList[22]?(g=t.RandomPOS?23:22,t.RandomPOS=!t.RandomPOS):g=22:24==g&&null!=W.g_HeroItemList[24]&&(null!=W.g_HeroItemList[25]?(g=t.RandomPOS?24:25,t.RandomPOS=!t.RandomPOS):g=25)),W.g_WaitItems.Index=g,z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),W.g_HeroBagCount-=1,R.heroTakeOn(W.g_WaitItems.Items.MakeIndex,g,W.g_WaitItems.Items.s.Name),this.closeView();break;case"卸下":t.toUnloadEquip(W.g_MoveItems.Items,W.g_MoveItems.Index),this.closeView();break;case"英雄卸下":W.g_HeroBagNum>W.g_HeroBagCount?(W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_WaitItems.Index=W.g_MoveItems.Index,W.g_MoveItems.Items=null,R.HeroTakeOffItem(W.g_WaitItems.Items,W.g_WaitItems.Index),W.g_HeroBagCount+=1):L.handlerAlert({type:1,content:"英雄背包已满！！！"}),this.closeView();break;case"取回背包":t.moveItemToBackpack(W.g_MoveItems.Items),this.closeView();break;case"转回主人":var l=!0;for(m=0;m<n.length;m++)n[m]||(l=!1);if(l)return void N.raiseEvent("show_log",[{txt:"背包已满",color:"#ff0000"}]);W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,R.heroBagToMasterBag(W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name),z.addItemNewBag(W.g_WaitItems.Items),z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),W.g_WaitItems.Items=null,W.g_HeroBagCount-=1,this.closeView();break;case"存到仓库":t.storeItemToWareHouse(W.g_MoveItems.Items),this.closeView();break;case"转给英雄":W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,W.g_HeroBagNum>W.g_HeroBagCount?(R.masterBagToHeroBag(W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.Name),z.delBagItems(W.g_WaitItems.Items.MakeIndex),V.drugnullforidx(W.g_WaitItems.Items.MakeIndex),W.g_HeroBagCount+=1):L.handlerAlert({type:1,content:"英雄背包已满！！！"}),W.g_WaitItems.Items=null,this.closeView();break;case"布置":W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,V.showDrug(!0),this.closeView();break;case"购买":for(l=!0,m=0;m<n.length;m++)n[m]||(l=!1);if(l)return void N.raiseEvent("show_log",[{txt:"背包已满",color:"#ff0000"}]);4==W.g_OpenIdx&&("0"==this.ShopNum.string||""==this.ShopNum.string?N.raiseEvent("show_log",[{txt:"购买数量不能为0",color:"#ff0000"}]):(R.BuyShopItem(this.shopnum,W.g_MoveItems.Items.s.Name,Number(this.ShopPic.string)),W.g_MoveItems.Items=null)),this.closeView();break;case"布置药品":case"替换药品":-1!=W.g_DrugButNumber&&(null!=W.g_DrugButNumber[W.g_DrugButNumber]?(W.g_BagItemsList[W.g_nBagIdx]=W.g_DrugButNumber[W.g_DrugButNumber],W.g_BagItemsList[W.g_DrugButNumber]=W.g_MoveItems.Items,W.g_DrugButNumber[W.g_DrugButNumber]=W.g_MoveItems.Items):W.g_DrugButNumber[W.g_DrugButNumber]=W.g_MoveItems.Items,W.g_MoveItems.Items=null,N.raiseEvent(w.SHOWDRUG_ITEMS),N.raiseEvent("Drug_Item_ico"),N.raiseEvent("Drug_Set_Items",[W.g_DrugButNumber]),V.showScreen(!1),z.recordDrugBarSetting()),this.closeView();break;case"修理":if(-1!=W.G_Show_Item_Price){L.handlerAlert({type:2,content:"你是否确定维修？\n 物品: 【 "+W.g_MoveItems.Items.s.Name+" 】\n修理价格："+W.G_Show_Item_Price+" 金币。",sF:function(){console.log("sName",i),R.sendRepairItem(W.G_NPC_ID,W.g_MoveItems.Items.MakeIndex,W.g_MoveItems.Items.s.Name)}})}else L.handlerAlert({type:1,content:"当前物品无法修理！！！"});this.closeView();break;case"出售":if(-1!=W.G_Show_Item_Price&&W.g_MoveItems&&W.g_MoveItems.Items){L.handlerAlert({type:2,content:"你是否确定出售？\n 物品: 【 "+W.g_MoveItems.Items.s.Name+" 】\n出售价格："+W.G_Show_Item_Price+" 金币。",sF:function(){console.log("sName",i),R.sendSellItem(W.G_NPC_ID,W.g_MoveItems.Items.MakeIndex,W.g_MoveItems.Items.s.Name),W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.delBagItems(W.g_WaitItems.Items.MakeIndex),N.raiseEvent("Screen_Del_Items",W.g_WaitItems.Items.MakeIndex),N.raiseEvent(w.SHOWDRUG_ITEMS)}})}else L.handlerAlert({type:1,content:"当前物品无法出售！！！"});this.closeView();break;case"确定":7==W.g_OpenIdx?(N.raiseEvent(w.DRAW_NPC_ITEMS,[W.g_MoveItems.Items]),V.showScreen(!1),R.NpcDlgOptions(W.g_MoveItems.Items.s.Name,W.g_npc_opt_boxid,W.g_MoveItems.Items.MakeIndex,0),z.delBagItems(W.g_MoveItems.Items.MakeIndex),this.closeView()):19==W.g_OpenIdx&&null!=W.g_MoveItems.Items&&(R.SendCMOpenBox(W.g_MoveItems.Items.MakeIndex,W.g_MoveItems.Items.s.Name),this.closeView());break;case"布置技能":V.showskillwin(!0),this.closeView(),N.raiseEvent(w.ADD_SETSKILL_PREF);break;case"放入摆摊":L.showSetShopItemPrice(),this.closeView();break;case"返回背包":W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,N.raiseEvent(w.DEL_SHOP_ITEM,W.g_WaitItems.Items.MakeIndex),R.SendDelUserShopItem(W.g_WaitItems.Items.MakeIndex),this.closeView();break;case"放入交易":t.pushToJiaoYiHandle(W.g_MoveItems.Items),this.closeView();break;case"取回物品":this.retrieveJiaoyiItemHandler(W.g_MoveItems.Items),this.closeView();break;case"上交":L.handlerAlert({type:2,content:"你是否确定上交物品: 【 "+W.g_MoveItems.Items.s.Name+" 】？",sF:function(){console.log("sName",i),R.sendGiveItem(W.g_MoveItems.Items,W.G_NPC_ID),W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.delBagItems(W.g_WaitItems.Items.MakeIndex),N.raiseEvent("Screen_Del_Items",W.g_WaitItems.Items.MakeIndex)}}),this.closeView(),V.showScreen(!1);break;case"放入商店":if(W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,W.MainScene.UIBox.getChildByName("MyStore")&&W.g_WaitItems.Items){z.loadImg(W.g_WaitItems.Items.s.Looks,"items",(function(e,t){e&&N.raiseEvent("drawAddItem",e)})),this.closeView(),V.showScreen(!1),W.AddStoreItem=W.g_WaitItems.Items,W.SelectedStoreItem=null}break;case"上架拍卖":W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null;var d=this;if(W.g_WaitItems.Items){a=function(e){R.sendTranslateItem(W.g_WaitItems.Items.MakeIndex,parseInt(e),W.G_NPC_ID,W.g_WaitItems.Items.s.Name),z.delBagItems(W.g_WaitItems.Items.MakeIndex),d.closeView(),N.raiseEvent("Screen_Del_Items",W.g_WaitItems.Items.MakeIndex)};L.handlerAlert({type:4,content:"输入上架拍卖的价格！",sF:a})}break;case"放入":N.raiseEvent("drawUpgrade",W.g_MoveItems.Items),V.showScreen(!1),z.delBagItems(W.g_MoveItems.Items.MakeIndex),this.closeView();break;case"丢弃":if(null==W.g_MoveItems.Items)return;if((17==W.g_MoveItems.Items.s.StdMode||18==W.g_MoveItems.Items.s.StdMode||41==W.g_MoveItems.Items.s.StdMode||40==W.g_MoveItems.Items.s.StdMode||42==W.g_MoveItems.Items.s.StdMode||31==W.g_MoveItems.Items.s.StdMode&&-1!=W.g_MoveItems.Items.s.Name.indexOf("经验卷轴"))&&W.g_MoveItems.Items.s.Reserved>0&&W.g_MoveItems.Items.Dura>0||0==W.g_MoveItems.Items.s.StdMode&&5==W.g_MoveItems.Items.s.Source&&W.g_MoveItems.Items.DuraMax>0){var h=function(e){if(parseInt(e)>0){var t=W.g_MoveItems.Items.Dura;z.checkMaterialItemCanBeStacked(W.g_MoveItems.Items,!0)&&(t=W.g_MoveItems.Items.Dura+1),parseInt(e)>t?N.raiseEvent("show_log",[{txt:"输入数量有误",color:"#ff0000"}]):(W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.delBagItems(W.g_WaitItems.Items.MakeIndex),R.sendDropItem(W.g_WaitItems.Items.s.Name,W.g_WaitItems.Items.MakeIndex,parseInt(e)),V.drugnullforidx(W.g_WaitItems.Items.MakeIndex),W.g_selfdropitem.push(W.g_WaitItems.Items.MakeIndex),N.raiseEvent(w.SHOWDRUG_ITEMS))}};L.handlerAlert({type:4,content:"输入要丢弃的数量！",sF:h})}else if(W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.delBagItems(W.g_WaitItems.Items.MakeIndex),R.sendDropItem(W.g_WaitItems.Items.s.Name,W.g_WaitItems.Items.MakeIndex,1),V.drugnullforidx(W.g_WaitItems.Items.MakeIndex),W.g_selfdropitem.push(W.g_WaitItems.Items.MakeIndex),N.raiseEvent(w.SHOWDRUG_ITEMS),-1!=W.g_DrugButNumber){var _=V.autofillrule(W.g_WaitItems.Items.s.StdMode,W.g_WaitItems.Items.s.Looks);0!=_.length&&V.autofillitem(_)}this.closeView();break;case"英雄装备":g=W.g_SelectIndex;W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,14==W.g_OpenIdx&&(6==g&&null!=W.g_HeroItemList[6]?null!=W.g_HeroItemList[5]?(g=t.RandomPOS?6:5,t.RandomPOS=!t.RandomPOS):g=5:7==g&&null!=W.g_HeroItemList[7]?null!=W.g_HeroItemList[8]?(g=t.RandomPOS?7:8,t.RandomPOS=!t.RandomPOS):g=8:23==g&&null!=W.g_HeroItemList[23]?null!=W.g_HeroItemList[22]?(g=t.RandomPOS?23:22,t.RandomPOS=!t.RandomPOS):g=22:24==g&&null!=W.g_HeroItemList[24]&&(null!=W.g_HeroItemList[25]?(g=t.RandomPOS?24:25,t.RandomPOS=!t.RandomPOS):g=25)),W.g_WaitItems.Index=g,z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),W.g_HeroBagCount-=1,R.heroTakeOn(W.g_WaitItems.Items.MakeIndex,g,W.g_WaitItems.Items.s.Name),this.closeView();break;case"英雄丢弃":if(null==W.g_MoveItems.Items)return;if((17==W.g_MoveItems.Items.s.StdMode||18==W.g_MoveItems.Items.s.StdMode||41==W.g_MoveItems.Items.s.StdMode||40==W.g_MoveItems.Items.s.StdMode||42==W.g_MoveItems.Items.s.StdMode||31==W.g_MoveItems.Items.s.StdMode&&-1!=W.g_MoveItems.Items.s.Name.indexOf("经验卷轴"))&&W.g_MoveItems.Items.s.Reserved>0&&W.g_MoveItems.Items.Dura>0||0==W.g_MoveItems.Items.s.StdMode&&5==W.g_MoveItems.Items.s.Source&&W.g_MoveItems.Items.DuraMax>0){h=function(e){parseInt(e)>0&&(W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),W.g_HeroBagCount-=1,R.HeroDropItems(W.g_WaitItems.Items.s.Name,W.g_WaitItems.Items.MakeIndex,parseInt(e)))};L.handlerAlert({type:4,content:"输入要丢弃的数量！",sF:h})}else W.g_WaitItems.Items=W.g_MoveItems.Items,W.g_MoveItems.Items=null,z.DelHeroBagItems(W.g_WaitItems.Items.MakeIndex),W.g_HeroBagCount-=1,R.HeroDropItems(W.g_WaitItems.Items.s.Name,W.g_WaitItems.Items.MakeIndex,1);this.closeView();break;case"替换":if(!W.g_MoveItems.Items)return void this.closeView();var u=z.getItemType(W.g_MoveItems.Items.s);W.MainScene.openScreen?N.raiseEvent(w.UPDATE_SCREENWIN_ITEMS,[u,y.HUM]):V.showScreen(!0,u,y.HUM),this.closeView();break;case"英雄替换":u=z.getItemType(W.g_MoveItems.Items.s);W.MainScene.openScreen?N.raiseEvent(w.UPDATE_SCREENWIN_ITEMS,[u,y.HERO]):V.showScreen(!0,u,y.HERO),this.closeView();break;case"存入":L.handlerAlert({type:2,content:"你是否确定将物品:【"+this.item_data.s.Name+"】存入行会仓库，存入后将获得999装备碎片 ？",sF:function(){N.raiseEvent(w.SAVE_ITEM_TO_GUILDWAREHOUSE,s.item_data),s.closeView()}});break;case"兑换":L.handlerAlert({type:2,content:"是否确定消耗999装备碎片从行会仓库兑换装备:【"+this.item_data.s.Name+"】？",sF:function(){N.raiseEvent(w.EXCHANGE_ITEM_OUT_GUILDWAREHOUSE,s.item_data),s.closeView()}})}n=null,o=null},t.equipmentItems=function(e,s){var i=s;if(W.g_WaitItems.Items=e,W.g_MoveItems.Items=null,52==i)return W.g_WaitItems.Items=W.g_WaitItems.Items,W.g_WaitItems.Index=i,void R.sendActiveFengHao(W.g_WaitItems.Items.MakeIndex);if(0==W.g_OpenIdx){6==i&&null!=W.g_UserItemList[6]?null!=W.g_UserItemList[5]?(i=t.RandomPOS?6:5,t.RandomPOS=!t.RandomPOS):i=5:7==i&&null!=W.g_UserItemList[7]?null!=W.g_UserItemList[8]?(i=t.RandomPOS?7:8,t.RandomPOS=!t.RandomPOS):i=8:23==i&&null!=W.g_UserItemList[23]?null!=W.g_UserItemList[22]?(i=t.RandomPOS?23:22,t.RandomPOS=!t.RandomPOS):i=22:24==i&&null!=W.g_UserItemList[24]&&(null!=W.g_UserItemList[25]?(i=t.RandomPOS?24:25,t.RandomPOS=!t.RandomPOS):i=25);var n=W.g_WaitItems.Items.s.StdMode,o=W.g_WaitItems.Items.s.OverLap;if(W.MainScene.openShouShi)if(15!=n&&19!=n&&20!=n&&21!=n&&22!=n&&23!=n&&24!=n&&26!=n||3!=o&&6!=o&&7!=o){if(0==W.g_WaitItems.Items.s.Expand1||7==W.g_WaitItems.Items.s.Expand1)for(a=0;a<6;a++)if(null==W.g_JewelryBoxItems[a]){i=a+30;break}}else if(0==W.g_WaitItems.Items.s.Expand1||7==W.g_WaitItems.Items.s.Expand1){for(var a=0;a<6;a++)if(null==W.g_JewelryBoxItems[a]){i=a+30;break}}else i=30+W.g_WaitItems.Items.s.Expand1-1}W.g_WaitItems.Index=i,z.delBagItems(W.g_WaitItems.Items.MakeIndex),i>=B.GODBLESS1&&i<=B.GODBLESS12?(i=W.g_WaitItems.Items.s.Expand1-1,W.g_WaitItems.Index=i,R.SendTakeOnGodBless(W.g_WaitItems.Items,i)):i>=B.JEWELRY1&&i<=B.JEWELRY6?(W.g_WaitItems.Index=i-B.JEWELRY1,R.sendTakeOnJewelry(W.g_WaitItems.Items,i-B.JEWELRY1)):R.TakeOnItem2(W.g_WaitItems.Items,i)},o.onShopNumChange=function(e,t){console.log("customEvenntData=",t);var s=Number(t);this.shopnum=parseInt(this.ShopNum.string),1!=s&&-1!=s||(this.shopnum+=s,this.ShopNum.string=this.shopnum.toString()),Number(this.ShopNum.string)<1&&(this.shopnum=0,this.ShopNum.string="0");for(var i=0,n=W.g_BagItemsList,o=0;o<n.length;o++)n[o]||(i+=1);n=null;var a,m=P.GetAttr(W.playerID);a=Math.floor((m.MaxWeight-m.Weight)/W.g_MoveItems.Items.s.Weight),1==W.g_MoveItems.Items.s.OverLap||2==W.g_MoveItems.Items.s.OverLap?this.shopnum>W.g_MoveItems.Items.nBulkBuyCount&&(L.handlerAlert({type:1,content:"输入购买数量错误，请输入1 -"+W.g_MoveItems.Items.nBulkBuyCount}),this.shopnum=W.g_MoveItems.Items.nBulkBuyCount):(0!=W.g_MoveItems.Items.s.Weight?a>i?this.shopnum>i&&(this.shopnum=i):this.shopnum>a&&(this.shopnum=a):this.shopnum>i&&(this.shopnum=i),0==i&&(this.shopnum=1),W.g_MoveItems.Items.nBulkBuyCount>1&&this.shopnum>W.g_MoveItems.Items.nBulkBuyCount?(L.handlerAlert({type:1,content:"输入购买数量错误，请输入1 -"+W.g_MoveItems.Items.nBulkBuyCount}),this.shopnum=W.g_MoveItems.Items.nBulkBuyCount):1==W.g_MoveItems.Items.nBulkBuyCount&&(this.shopnum=1)),this.shopnum<0&&(this.shopnum=1),this.ShopNum.string=this.shopnum.toString(),this.ShopPic.string=(this.shopnum*W.g_MoveItems.Items.s.Price).toString()},t.toUnloadEquip=function(e,t){W.g_WaitItems.Items=e,W.g_WaitItems.Index=t,W.g_MoveItems.Items=null,console.log("Config.g_WaitItems.Items=",W.g_WaitItems.Items),W.g_WaitItems.Index>=B.GODBLESS1&&W.g_WaitItems.Index<=B.GODBLESS12?(W.g_WaitItems.Index=W.g_WaitItems.Items.s.Expand1-1,R.SendTakeOffGodBless(W.g_WaitItems.Items,W.g_WaitItems.Index)):t>=B.JEWELRY1&&t<=B.JEWELRY10?(W.g_WaitItems.Index=W.g_WaitItems.Index-B.JEWELRY1,R.sendTakeOffJewelry(W.g_WaitItems.Items,W.g_WaitItems.Index)):R.TakeOffItem(W.g_WaitItems.Items,W.g_WaitItems.Index)},o.retrieveJiaoyiItemHandler=function(e){W.g_WaitItems.Items=e,W.g_MoveItems.Items=null,V.delJiaoYiItems(W.g_WaitItems.Items.MakeIndex),R.DeleteTradeItem(W.g_WaitItems.Items)},t.pushToJiaoYiHandle=function(e,t){W.g_WaitItems.Items=e,W.g_MoveItems.Items=null,z.delBagItems(W.g_WaitItems.Items.MakeIndex),V.drugnullforidx(W.g_WaitItems.Items.MakeIndex),R.AddTradeItem(W.g_WaitItems.Items),N.raiseEvent(w.SHOWDRUG_ITEMS)},t.storeItemToWareHouse=function(e,t){if(W.g_WaitItems.Items=e,W.g_MoveItems.Items=null,W.g_StoreType,W.g_StoreCount>=0&&W.g_StoreCount<W.g_StoreMaxCount){if(R.sendSaveItemToWarehouse(W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.DBName),W.g_boOpenCaiji&&(W.g_WaitItems.Items.s.IsBind?W.g_LogSocket.AddGameDataLog(1,W.g_WaitItems.Items.s.DBName,W.g_WaitItems.Items.MakeIndex,"已绑定物品",""):W.g_LogSocket.AddGameDataLog(1,W.g_WaitItems.Items.s.DBName,W.g_WaitItems.Items.MakeIndex,"非绑定物品","")),z.checkItemCanBreakUp(W.g_WaitItems.Items)){var s=z.checkMaterialItemCanBeStacked(W.g_WaitItems.Items)?W.g_WaitItems.Items.Dura+1:W.g_WaitItems.Items.Dura;N.raiseEvent("item_hint",[W.g_WaitItems.Items,-s])}else N.raiseEvent("item_hint",[W.g_WaitItems.Items,-1]);z.addStoreItems(W.g_WaitItems.Items,t),z.delBagItems(W.g_WaitItems.Items.MakeIndex),V.drugnullforidx(W.g_WaitItems.Items.MakeIndex),W.g_StoreCount+=1,N.raiseEvent(w.SHOWDRUG_ITEMS),N.raiseEvent("Drug_Item_ico"),N.raiseEvent("Drug_Set_Items",[W.g_DrugButNumber])}else L.handlerAlert({type:1,content:"仓库已满，无法继续存储！！！"});W.g_WaitItems.Items=null},t.moveItemToBackpack=function(e,t){for(var s=!0,i=P.GetAttr(W.playerID),n=W.g_BagItemsList,o=0;o<n.length;o++)n[o]||(s=!1);if(n=null,s)N.raiseEvent("show_log",[{txt:"背包已满",color:"#ff0000"}]);else{if(!(i&&i.Weight+e.s.Weight-i.MaxWeight>0))return W.g_WaitItems.Items=e,W.g_MoveItems.Items=null,W.g_StoreType,R.sendGetItemFromWarehouse(W.g_WaitItems.Items.MakeIndex,W.g_WaitItems.Items.s.DBName),W.g_boOpenCaiji&&(W.g_WaitItems.Items.s.IsBind?W.g_LogSocket.AddGameDataLog(0,W.g_WaitItems.Items.s.DBName,W.g_WaitItems.Items.MakeIndex,"已绑定物品",""):W.g_LogSocket.AddGameDataLog(0,W.g_WaitItems.Items.s.DBName,W.g_WaitItems.Items.MakeIndex,"非绑定物品","")),z.delStoreItems(W.g_WaitItems.Items.MakeIndex),W.g_WaitItems.Items=null,W.g_StoreCount-=1,!0;N.raiseEvent("show_log",[{txt:"负重超出",color:"#ff0000"}])}},o.closeView=function(){var e=E.getAni(this.itemSprite.node,"effect"+this.itemSprite.node.uuid);e&&E.removeAni(e);var t=this.node.parent.getChildByName("comparison1");t&&t.destroy(),this.node.destroy()},o.maskCloseMaskView=function(){var e=E.getAni(this.itemSprite.node,"effect"+this.itemSprite.node.uuid);e&&E.removeAni(e);var t=this.node.parent.getChildByName("comparison1");t&&t.destroy();var s=this.node.parent.getChildByName("comparison");s&&s.destroy(),this.node.destroy()},o.onDestroy=function(){N.removeEventListener(w.CLOSE_NEW_ITEM_INFO,this.closeView,this),N.removeEventListener(w.GET_ITEM_DETAIL,this.getItemDetailInit,this),W.MainScene.openNewItemInfo=!1},o.onEditboxDidEnded=function(){this.onShopNumChange(null,this.ShopNum.string),""!=this.ShopNum.string?(this.shopnum=parseInt(this.ShopNum.string),this.ShopPic.string=(this.shopnum*W.g_MoveItems.Items.s.Price).toString()):(this.shopnum=1,this.ShopNum.string="1",this.ShopPic.string=(this.shopnum*W.g_MoveItems.Items.s.Price).toString())},o.getImgList=function(e,t){if(0==e.indexOf("{")&&-1!=e.indexOf("}"))return t;for(var s=e.split("\\"),i=0;i<s.length;i++){this.isLast=!1,i==s.length-1?this.isLast=!0:this.isLast=!1;var n=s[i],o=[];if(-1!=n.indexOf(">")?(n=n.split(">"),this.makeSliece(n,o)):o.push(n),o)for(var a=0;a<o.length;a++)if(-1!=o[a].indexOf(":")&&(-1!=o[a].toUpperCase().indexOf("PLAYIMG")||-1!=o[a].toUpperCase().indexOf("IMG"))){var m="",r="",I="";if(-1!=o[a].toUpperCase().indexOf("PLAYIMG")){Array.isArray(o[a])?(r=o[a][0].split(":"),o[a][1]):r=o[a].split(":");var g=parseInt(r[1]),l=parseInt(r[2]);if(-1!=g&&g<W.g_pak_list.length){I=W.g_pak_list[g];var d=U.getUrls(I,l);t.push(d)}}else if(-1!=o[a].toUpperCase().indexOf("IMGEX")){Array.isArray(o[a])?(m=o[a][0],r=o[a][1]):m=o[a];var h=m.split(":"),_=parseInt(h[1]),u=parseInt(h[2]);d=U.getUrls(W.g_pak_list[_],u);t.push(d)}else if(-1!=o[a].toUpperCase().indexOf("IMG")){Array.isArray(o[a])?(m=o[a][0],r=o[a][1]):(m=o[a],r="");h=m.split(":"),u=parseInt(h[1]),_=parseInt(h[2]);(I=W.g_pak_list[_])&&(I=I.toLocaleLowerCase());d=U.getUrls(I,u);t.push(d)}}}return t},o.initImg=function(e,t,s){var i=this;if(this.item_data=e,this.type=t,this.new_type=s,e.btFluteCount>0&&e.Flutes.forEach((function(e,t){if(e.GemIndex>0&&e.GemCount>0){var s=W.g_Showitem[e.GemIndex-1];s.s.DBName&&""!=s.s.DBName||(i.getItemDetailName=s.s.Name,R.sendREQUESTSTDITEM(e.GemIndex-1),W.needGetItemDetail=!0)}})),11!=W.g_OpenIdx||W.needGetItemDetail){var n=z.getItemInfo(e,t),o=[],a="",m=!1;if(e.CustomProperty&&""!=e.CustomProperty.sText&&this.getImgList(e.CustomProperty.sText,o),e.CustomProperty){var r=JSON.parse(f.localStorage.getItem("g_CustomItemPropertyTextVarList")),I=JSON.parse(f.localStorage.getItem("g_CustomItemPropertyBindNames"));e.CustomProperty.Properties.forEach((function(e,t){if(I[e.btBindType-2])if(-1!=I[e.btBindType-2].indexOf("<text:$$1>")){if(e.nValues[0]>0&&e.nValues[1]>0&&e.nValues[2]>0){var s="";""!=(s=(s=(s=r[e.nValues[0]-1]).replace("$$2",e.nValues[1])).replace("$$3",e.nValues[2]))&&i.getImgList(s,o)}else if(e.nValues[0]>0){var n;""!=(n=r[e.nValues[0]-1])&&i.getImgList(n,o)}}else{var a="";""!=(a=(a=I[e.btBindType-2]).replace("$$1",e.nValues[0]))&&i.getImgList(a,o)}}))}for(var g=0;g<n.length;g++){var l=n[g];if(l)if(0!=g){if(!m){m=!0;var d=JSON.parse(f.localStorage.getItem("g_ItemDescTop"));if(d)for(var h=0;h<d.length;h++){var _=d[h].split("=");if(_[0]&&_[1]&&_[0]==a&&-1!=_[1].indexOf(":")){o=this.getImgList(_[1],o);break}}d=null}l.name&&"desc"==l.name&&l.str&&(o=this.getImgList(l.str,o))}else{var u=l.split("/*/");-1!=u[0].indexOf("<")&&(u[0]=u[0].substring(0,u[0].indexOf("<"))),a=u[0]}}for(var p=0,c=function(n){T.getRes(o[n].plistPath)?++p!=o.length||W.needGetItemDetail||i.initData(e,t,s):T.handleLoad(o[n].plistPath,(function(a){a||console.error("该图片路径未找到：",o[n].plistPath),++p!=o.length||W.needGetItemDetail||i.initData(e,t,s)}))},x=0;x<o.length;x++)c(x);0!=o.length||W.needGetItemDetail||this.initData(e,t,s)}else this.initData(e,t,s)},o.makeGXXCustomAttr=function(e){var t=this,s=JSON.parse(f.localStorage.getItem("g_CustomItemPropertyTextVarList")),i=JSON.parse(f.localStorage.getItem("g_CustomItemPropertyBindNames"));""!=e.sText&&this.makeDescStr(e.sText),e.Properties.forEach((function(e,n){if(i[e.btBindType-2])if(-1!=i[e.btBindType-2].indexOf("<text:$$1>")){if(e.nValues[0]>0&&e.nValues[1]>0&&e.nValues[2]>0){var o="";-1!=(o=s[e.nValues[0]-1]).indexOf("$$2")&&(o=o.replace("$$2",e.nValues[1])),-1!=o.indexOf("$$3")&&(o=o.replace("$$3",e.nValues[2])),""!=o&&t.makeDescStr(o)}else if(e.nValues[0]>0){var a="";-1!=(a=s[e.nValues[0]-1]).indexOf("$$2")&&(a=a.replace("$$2",e.nValues[1])),-1!=a.indexOf("$$3")&&(a=a.replace("$$3",e.nValues[2])),""!=a&&(91==t.item_data.s.StdMode?t.makeDescStr(a,null,!0):t.makeDescStr(a))}}else{var m="";""!=(m=(m=i[e.btBindType-2]).replace("$$1",e.nValues[0]))&&t.makeDescStr(m)}}))},t}(k)).RandomPOS=!0,be=t((Se=Ke).prototype,"itemName",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Se.prototype,"itemDescTop",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(Se.prototype,"itemSprite",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(Se.prototype,"ItemDescribe",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(Se.prototype,"ShopNum",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Se.prototype,"ShopPic",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(Se.prototype,"shopNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(Se.prototype,"CustomButton",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Se.prototype,"ButtonContent",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(Se.prototype,"buttonLayoutNode",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Se.prototype,"change_side",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(Se.prototype,"wear_txt",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Se.prototype,"scrollViewNode",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Se.prototype,"scrollMaskNode",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Se.prototype,"contentNode",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Se.prototype,"Item_bg",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Se.prototype,"starNode",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(Se.prototype,"starLightPrefab",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Se.prototype,"starGrayPrefab",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(Se.prototype,"closeBtn",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Se.prototype,"minusBtn",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Se.prototype,"plusBtn",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Se.prototype,"iconBG",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Se.prototype,"maskCloseNode",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Se.prototype,"boxNode",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Se.prototype,"topNode",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Se.prototype,"newAniNode",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Se.prototype,"moveNode",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=Se))||Me)||Me));o._RF.pop()}}}));

System.register("chunks:///_virtual/NewNpcWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./UIcontrol.ts","./Sendmessage.ts","./DragItem.ts","./GameMission.ts","./GameUtil.ts"],(function(e){"use strict";var t,o,n,i,s,r,c,l,a,d,h,g,u,f,m,p,_,b,I,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.Node,l=e.Sprite,a=e.UITransform,d=e.Size,h=e.find,g=e.Component},function(e){u=e.EventMgr},function(e){f=e.Config},function(e){m=e.uiControl},function(e){p=e.sendmessage},function(e){_=e.DragItem,b=e.e_DragItem_Type},function(e){I=e.gameMission},function(e){C=e.GameUtil}],execute:function(){var y,w,v,x,N,B,S;s._RF.push({},"153779tpm9Mao7LEJGbqYKi","NewNpcWin",void 0);var A=r.ccclass,P=r.property;e("NewNpcWin",(y=A("NewNpcWin"),w=P(c),v=P(c),y((B=t((N=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"but_Close",B,i(t)),n(t,"Show_gb",S,i(t)),t.StartPos={x:0,y:0},t.closeOffestX=30,t.closeOffestY=30,t.panelPos=[],t.startpos={x:null,y:null},t.posType=4,t.nWindowsX=0,t.nWindowsY=0,t.bShowClose=1,t.has_skin=!1,t.movedis=null,t}o(t,e);var s=t.prototype;return s.onLoad=function(){},s.showContent=function(e,t,o){C.loadResLocal("SplitResource/Btns/btn_close_new.png",this.but_Close.getComponent(l)),this.setPos(t,o),console.log("进入showContent"),e&&I.LoadIngimage(e,this.Show_gb,null),this.hybridUIhandler()},s.hybridUIhandler=function(){f.g_hasHybridUI&&(f.g_hasHybridUI=!1,u.raiseEvent("updateHybridWin"))},s.setPos=function(e,t){this.Show_gb.setPosition(0,0);var o=this.node.getComponent(a).width,n=this.node.getComponent(a).height;this.Show_gb.getComponent(a).setContentSize(new d(o,n)),this.Show_gb.setPosition(f.g_GameConfigWEB.funActivity.npcX,-f.g_GameConfigWEB.funActivity.npcY),0==f.testNpc_X?this.but_Close.setPosition(o-this.but_Close.getComponent(a).width-20-this.closeOffestX,10-this.closeOffestY):this.but_Close.setPosition(f.testNpc_X-this.closeOffestX,f.testNpc_Y-this.closeOffestY),e||(this.but_Close.active=!0,this.but_Close.setPosition(518-this.closeOffestX+10,0-this.closeOffestY+10));var i=C.LayaPointToCocosPoint(this.but_Close.position,o,n);this.but_Close.setPosition(i)},s.init=function(){},s.Change_pos=function(e){this.bShowClose=e.show},s.onMouseDown=function(e){},s.onMouseUp=function(){},s.onMouseMove=function(e){},s.LoadIngimage=function(e){},s.close=function(){var e=h("Canvas").getChildByName("yangdaweigood");e&&e.destroy(),f.G_NPC_ID=-1;for(var t=!0,o=0;o<f.g_boxItemArr.length;o++)if(f.g_boxItemArr[o]){t&&(p.NpcDlgOptions(f.g_boxItemArr[o].s.Name,o,f.g_boxItemArr[o].MakeIndex,3),t=!1);var n=f.g_boxItemArr[o];f.g_boxItemArr[o]=null,C.addItemNewBag(n)}f.OpenTextColor=!0,f.itemShowPlist=[],I.cleanNpcDiyRes(),this.node.destroy()},s.onDestroy=function(){m.content=null,this.node.cb&&(this.node.cb=null)},s.onClickBg=function(){var e=this.node.getChildByName("floatInfoNode");e&&e.destroy()},s.delItemBoxItem=function(e){var t=this.node.getChildByName("Show_gb");if(t&&t.isValid)for(var o=0;o<t.children.length;o++)t.children[o].BoxId&&t.children[o].BoxId==e.record&&(t.children[o].getComponent(_).emptyItemHander(),p.NpcDlgOptions(f.g_boxItemArr[e.record].s.Name,e.record,f.g_boxItemArr[e.record].MakeIndex,1))},s.updateItemBoxItem=function(e){var t=this.node.getChildByName("Show_gb");if(t&&t.isValid){for(var o=null,n=0;n<t.children.length;n++)t.children[n].BoxId&&t.children[n].BoxId==e.record&&(o=t.children[n].getComponent(_));var i={itemsData:f.g_boxItemArr[e.record],selectIndex:void 0,hasBgFrame:!0,maxUnlockCount:void 0,itemType:b.OkBar};o.showItemUI(i,e.record),C.delBagItems(f.g_boxItemArr[e.record].MakeIndex),f.g_boxItemArr[e.record]&&p.NpcDlgOptions(f.g_boxItemArr[e.record].s.Name,e.record,f.g_boxItemArr[e.record].MakeIndex,0)}},s.giveBoxItem=function(e,t){},t}(g)).prototype,"but_Close",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(N.prototype,"Show_gb",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=N))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/NewRankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var n,t,r,i,a,o,l,u,c,s,k,f,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,u=e.Label,c=e.Sprite,s=e.color,k=e.Component},function(e){f=e.resourcesMgr},function(e){p=e.GameUtil}],execute:function(){var m,d,h,g,N,b,v,y,w,R,S,I,L,z,C,_;a._RF.push({},"70db7j9YiJI/7UNOn58Jbif","NewRankItem",void 0);var G=o.ccclass,x=o.property,B=o.menu;e("default",(m=G("NewRankItem"),d=B("实例模块/NewRankItem"),h=x(l),g=x(u),N=x(c),b=x(u),v=x(u),y=x(u),m(w=d((S=n((R=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,r(n,"selectNode",S,i(n)),r(n,"rankNum",I,i(n)),r(n,"rankSp",L,i(n)),r(n,"rankName",z,i(n)),r(n,"rankLevel",C,i(n)),r(n,"rankGuild",_,i(n)),n.onItemClick=null,n.index=0,n}t(n,e);var a=n.prototype;return a.start=function(){p.loadResLocal("RankWin/rank_select_bg.png",this.selectNode.getComponent(c))},a.init=function(e){var n=this;if(e){var t=this.getColorByRanking(e.rankNum);e.rankNum<4?(this.rankNum.node.active=!1,this.rankSp.node.active=!0,f.resLoad("NewRankWin/rankIcon_"+(e.rankNum-1)+".png",(function(e){e&&n.rankSp&&(n.rankSp.spriteFrame=e)}))):(this.rankNum.node.active=!0,this.rankSp.node.active=!1,0==e.rankNum?this.rankNum.string="未上榜":this.rankNum.string=e.rankNum.toString()),this.rankName.string=e.name,this.rankLevel.string=e.level+"级",this.rankGuild.string=e.guild,this.rankName.color=s(t),this.rankLevel.color=s(t),this.rankGuild.color=s(t),0==this.index&&(this.selectNode.active=!0)}},a.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},a.setSelected=function(e){this.selectNode.active=e},a.getColorByRanking=function(e){switch(e){case 1:return"#ff0418";case 2:return"#ffd604";case 3:return"#d7bc2e";default:return"#ffffff"}},n}(k)).prototype,"selectNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(R.prototype,"rankNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(R.prototype,"rankSp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(R.prototype,"rankName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(R.prototype,"rankLevel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(R.prototype,"rankGuild",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=R))||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/NewRankWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Struct.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./objectcontrol.ts","./Sendmessage.ts","./List.ts","./GameApi.ts","./GameUtil.ts","./NewRankItem.ts"],(function(e){"use strict";var t,i,n,a,o,s,r,h,u,l,c,m,p,d,f,S,E,g,v,k,w,b,R,I,D,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Node,h=e.Toggle,u=e.Label,l=e.Sprite,c=e.Mask,m=e.Vec3,p=e.Component},function(e){d=e.EventMgr},function(e){f=e.Config},function(e){S=e.default},function(e){E=e.Struct_ins},function(e){g=e.RankData},function(e){v=e.Animationmodule},function(e){k=e.resourcesMgr},function(e){w=e.Objectcontrol},function(e){b=e.sendmessage},function(e){R=e.default},function(e){I=e.GameApi},function(e){D=e.GameUtil},function(e){N=e.default}],execute:function(){var _,A,H,y,F,C,U,L,P,O,M,x,T,q,W,B,z,G,V,K,j,J,Q,X,Y,Z,$,ee,te,ie,ne,ae;o._RF.push({},"991d5WjM0xDcKldiciuPoH3","NewRankWin",void 0);var oe=s.ccclass,se=s.property,re=s.menu;e("default",(_=oe("NewRankWin"),A=re("弹窗模块/NewRankWin"),H=se(r),y=se(h),F=se(u),C=se(u),U=se(l),L=se(l),P=se(l),O=se(l),M=se(h),x=se(h),T=se(c),q=se(l),W=se(l),B=se(R),_(z=A((V=t((G=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"contentNode",V,a(t)),n(t,"tabBarButton",K,a(t)),n(t,"myRank",j,a(t)),n(t,"myGuild",J,a(t)),n(t,"hatSprite",Q,a(t)),n(t,"weaponSprite",X,a(t)),n(t,"clothesSprite",Y,a(t)),n(t,"shieldSprite",Z,a(t)),n(t,"fashionShowCheck",$,a(t)),n(t,"rangeShowCheck",ee,a(t)),n(t,"maskNode",te,a(t)),n(t,"hum_img",ie,a(t)),n(t,"hair_img",ne,a(t)),n(t,"list",ae,a(t)),t.rankData=[],t.selectFashionShow=!1,t.selectRoleData=null,t.index=0,t.HumItems=void 0,t.tabIndex=0,t.isChangeFashion=!1,t}i(t,e);var o=t.prototype;return o.start=function(){f.MainScene.openRank=!0,this.initMsgEvent(),this.setFashionValue(),this.setJobMode()},o.setJobMode=function(){1!=f.g_serverconfig.nJobmode&&this.tabBarButton.forEach((function(e,t){0!=t&&(e.node.active=!1)}))},o.initMsgEvent=function(){d.addEventListener(S.UPDATERANKDATA,this.updateRankDataByType,this),d.addEventListener(S.UPDATERANKROLE,this.updateRankRole,this),d.addEventListener(S.CLOSERANKWIN,this.closeView,this),d.addEventListener(S.REMOEV_ANI,this.removeAni,this)},o.updateRankDataByType=function(e,t){this.rankData[t]=e,this.updateShowUI(e)},o.updateShowUI=function(e){e[0][0]&&b.requestRankNameState(e[0][0].name),this.updateListData(e),this.showMyRankingAndGuild()},o.updateListData=function(e){var t=[];for(var i in e[0]){var n=e[0][i],a=new g;n.name,f.userName,a.name=n.name,a.level=n.level,a.guild=n.guildName,a.rankNum=Number(i)+1,t.push(a)}this.initRank(t)},o.showMyRankingAndGuild=function(){this.myRank.string=this.getMyRank(D.getPureName(w.self_obj));var e=D.getPureGuildName(w.self_obj);this.myGuild.string=e||"无"},o.getMyRank=function(e){var t=this.rankData;if(!this.rankData||!t)return"未上榜";for(var i=0,n=t.length;i<n;i++)if(t[i].name.indexOf(e)>-1)return i+1+"";return"未上榜"},o.updateRankRole=function(e){var t=this;if(console.log("更新排行榜信息data=",e),e){this.selectRoleData=e;var i=E.THumFeature(e.Feature.buffer),n=i.btGender,a=this.getHumSkin(this.selectFashionShow,n);k.resLoad(a,(function(e){t.hum_img&&e&&(t.hum_img.getComponent(l).spriteFrame=e)}));var o=D.getNeiGuanHairResNum(i.btHair,n),s=D.loadImgData(o,"prguse");k.resLoad(s.plist,(function(e){e&&t.hair_img&&e.getSpriteFrame(s.img)&&(t.hair_img.getComponent(l).spriteFrame=e.getSpriteFrame(s.img))})),this.HumItems=e.UseItems,this.selectFashionShow?(this.hair_img.node.active=!1,this.shieldSprite.node.active=!1,this.updatePosByFashionOrEquip(!0),this.isChangeFashion&&(this.isChangeFashion=!1,this.removeEquipEffect(this.clothesSprite.node,f.U_DRESS),this.removeEquipEffect(this.weaponSprite.node,f.U_WEAPON),this.removeEquipEffect(this.shieldSprite.node,f.U_SHIELD),this.removeEquipEffect(this.hatSprite.node,f.U_HELMET)),this.hum_img.node.active=!1,this.initFashionPart(this.clothesSprite.node,f.U_FASHIONDRESS),this.initFashionPart(this.weaponSprite.node,f.U_FASHIONWEAPON),this.initFashionPart(this.hatSprite.node,f.U_FASHIONHELMET)):(this.hair_img.node.active=!0,this.hum_img.node.active=!0,this.shieldSprite.node.active=!0,this.updatePosByFashionOrEquip(!1),this.isChangeFashion&&(this.isChangeFashion=!1,this.removeEquipEffect(this.clothesSprite.node,f.U_FASHIONDRESS),this.removeEquipEffect(this.weaponSprite.node,f.U_WEAPON),this.removeEquipEffect(this.hatSprite.node,f.U_FASHIONHELMET)),this.initPart(this.clothesSprite.node,f.U_DRESS),this.initPart(this.weaponSprite.node,f.U_WEAPON),this.initPart(this.shieldSprite.node,f.U_SHIELD),this.initPart(this.hatSprite.node,f.U_HELMET))}},o.initPart=function(e,t){if(null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var i=this.HumItems[t].s.Looks;null!=e.getComponent(l).spriteFrame&&(e.getComponent(l).spriteFrame=null),t==f.U_WEAPON||t==f.U_DRESS||t==f.U_HELMET?(this.HumItems[t].tag=t,D.loadImageEx(i,e,!0,t,"stateitem",this,!0),D.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):t==f.U_SHIELD||t==f.U_HELMET?(D.loadImageEx(i,e,!0,t,"stateitem",this,!0),D.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(D.loadImageEx(i,e,!1,t,"stateitem",this,!0),D.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{e.getComponent(l).spriteFrame=null;var n=v.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&v.removeAni(n)}},o.removeEquipEffect=function(e,t){var i=v.getAni(e.parent,"bodyeffect"+e.parent.uuid);i&&v.removeAni(i)},o.initFashionPart=function(e,t){if(null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var i=this.HumItems[t].s.Looks;t==f.U_FASHIONWEAPON||t==f.U_FASHIONDRESS||t==f.U_FASHIONHELMET?(this.HumItems[t].tag=t,t==f.U_FASHIONDRESS&&(this.hum_img.node.active=!1),D.loadImageEx(i,e,!0,t,"stateitem",this,!0),D.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(D.loadImageEx(i,e,!1,t,"stateitem",this,!0),D.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{e.getComponent(l).spriteFrame=null,t==f.U_FASHIONDRESS&&(this.hum_img.node.active=!0);var n=v.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&v.removeAni(n)}},o.updatePosByFashionOrEquip=function(e){e?(this.clothesSprite.node.parent.setPosition(new m(59,-72)),this.weaponSprite.node.parent.setPosition(new m(19,-5)),this.hatSprite.node.parent.setPosition(new m(68,-21))):(this.clothesSprite.node.parent.setPosition(new m(68.5,-70)),this.weaponSprite.node.parent.setPosition(new m(18,-5)),this.hatSprite.node.parent.setPosition(new m(62,-30)))},o.setFashionValue=function(){var e=!1,t=!1;t="true"==D.getSaveData("rankFashionShow"),e="true"==D.getSaveData("rankFrameShow"),this.selectFashionShow=t,this.fashionShowCheck.isChecked=t,this.rangeShowCheck.isChecked=e,this.maskNode.enabled=e},o.tabbarButtonClick=function(e){var t=this.tabBarButton.indexOf(e);t!=this.tabIndex&&(this.tabIndex=t,0!=this.tabIndex?b.requestRankDataByType(this.tabIndex+4):b.requestRankDataByType(this.tabIndex))},o.initRank=function(e){this.rankData=e,this.index=0,this.list.numItems=this.rankData.length},o.RenderItemHandler=function(e,t){var i=this.rankData[t];if(i){var n=e.getComponent(N);n.index=t,n.init(i),n.onItemClick=this.onRankItemClicked.bind(this),this.index!=t?n.setSelected(!1):n.setSelected(!0)}},o.onRankItemClicked=function(e){var t=this;this.contentNode.children.forEach((function(i,n){var a=i.getComponent(N);if(a.index==e){if(t.index==e)return;t.index=e,a.setSelected(!0);var o=t.rankData[t.index].name;console.log("选中的name=",o),b.requestRankNameState(o)}else a.setSelected(!1)}))},o.onClickFashionToggle=function(){var e=this;console.log("点击时装显示"),this.scheduleOnce((function(){e.selectFashionShow=e.fashionShowCheck.isChecked,D.setSaveData("rankFashionShow",e.fashionShowCheck.isChecked),e.isChangeFashion=!0,e.selectRoleData&&e.updateRankRole(e.selectRoleData)}),.01)},o.getHumSkin=function(e,t){return this.fashionShowCheck.isChecked?0==t?"HumWin/00376-2.png":"HumWin/00377-2.png":0==t?"HumWin/00376-1.png":"HumWin/00377-1.png"},o.onClickLook=function(){this.selectRoleData!=f.nowShowRoleData&&(f.nowShowRoleData=this.selectRoleData,I.showLookHum(!0,this.selectRoleData))},o.onClickInsideToggle=function(){var e=this;this.scheduleOnce((function(){e.maskNode.enabled=e.rangeShowCheck.isChecked,D.setSaveData("rankFrameShow",e.rangeShowCheck.isChecked)}),.01)},o.closeView=function(){this.removeNodeAni(),this.node&&this.node.destroy()},o.removeNodeAni=function(){this.selectFashionShow?(this.removeEquipEffect(this.clothesSprite.node,f.U_FASHIONDRESS),this.removeEquipEffect(this.weaponSprite.node,f.U_WEAPON),this.removeEquipEffect(this.hatSprite.node,f.U_FASHIONHELMET)):(this.removeEquipEffect(this.clothesSprite.node,f.U_DRESS),this.removeEquipEffect(this.weaponSprite.node,f.U_WEAPON),this.removeEquipEffect(this.shieldSprite.node,f.U_SHIELD),this.removeEquipEffect(this.hatSprite.node,f.U_HELMET))},o.onDestroy=function(){f.MainScene.openRank=!1,d.removeEventListener(S.UPDATERANKDATA,this.updateRankDataByType,this),d.removeEventListener(S.UPDATERANKROLE,this.updateRankRole,this),d.removeEventListener(S.CLOSERANKWIN,this.closeView,this),d.removeEventListener(S.REMOEV_ANI,this.removeAni,this)},o.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(p)).prototype,"contentNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"tabBarButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(G.prototype,"myRank",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(G.prototype,"myGuild",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(G.prototype,"hatSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(G.prototype,"weaponSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(G.prototype,"clothesSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(G.prototype,"shieldSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(G.prototype,"fashionShowCheck",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(G.prototype,"rangeShowCheck",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(G.prototype,"maskNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(G.prototype,"hum_img",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(G.prototype,"hair_img",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(G.prototype,"list",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=G))||z)||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/NewShopPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,o,a,r,c,l,s,u,m,p,g,d,f,_,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,l=t.Label,s=t.Sprite,u=t.NodeEventType,m=t.Component},function(t){p=t.EventMgr},function(t){g=t.Config},function(t){d=t.default},function(t){f=t.OPEN_ITEMINFO_WIN_TYPE},function(t){_=t.resourcesMgr},function(t){h=t.GameUtil}],execute:function(){var I,E,b,N,v,y,O,P,S,w,M,L,F,C,T,k;a._RF.push({},"8a4c2/AQFZPT7oajQRckAum","NewShopPageItem",void 0);var x=r.ccclass,z=r.property,W=r.menu;t("default",(I=x("NewShopPageItem"),E=W("实例模块/NewShopPageItem"),b=z(c),N=z(l),v=z(l),y=z(s),O=z(s),P=z(l),I(S=E((M=e((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"selectNode",M,o(e)),n(e,"goodsName",L,o(e)),n(e,"price",F,o(e)),n(e,"icon",C,o(e)),n(e,"goodsBG",T,o(e)),n(e,"limitLabel",k,o(e)),e.item_data=void 0,e.index=0,e.onItemClick=null,e}i(e,t);var a=e.prototype;return a.start=function(){this.selectNode.getComponent(s);g.g_isOnWindows&&(this.icon.node.on(u.MOUSE_ENTER,this.clickItemPc,this),this.icon.node.on(u.MOUSE_LEAVE,(function(){p.raiseEvent(d.CLOSE_NEW_ITEM_INFO)}),this))},a.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},a.setSelected=function(t){this.selectNode.active=t},a.initData=function(t){var e=this;t&&(this.goodsName.string=t.name,this.price.string=t.price.toString(),this.price.string=""+t.price.toString()+t.type,_.resLoad(t.image_data.plist,(function(i){i&&e.icon&&i.getSpriteFrame(t.image_data.img)&&(e.icon.spriteFrame=i.getSpriteFrame(t.image_data.img))})),this.item_data=t.data,t.data.s.BagEffect.FileIndex&&h.showItemeffect(this.icon.node,t.data),0!=t.limit_max_num?(this.limitLabel.node.parent.active=!0,this.limitLabel.string=t.limit_num+"/"+t.limit_max_num):this.limitLabel.node.parent.active=!1)},a.clickItem=function(){this.item_data&&(g.g_MoveItems.Items=this.item_data,g.g_OpenIdx=f.SHOP,p.raiseEvent(d.OPEN_NEW_ITEM_INFO,[this.item_data]))},a.clickItemPc=function(t){this.item_data&&(null!=t&&g.g_isOnWindows&&(g.g_pcMousePoint=t.getUILocation()),g.g_MoveItems.Items=this.item_data,g.g_OpenIdx=f.SHOP,p.raiseEvent(d.OPEN_NEW_ITEM_INFO,[this.item_data]))},e}(m)).prototype,"selectNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"goodsName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"price",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"goodsBG",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"limitLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/NewShopWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./external.ts","./ShopRechargeItem.ts","./NewShopPageItem.ts","./NativeMsgHandle.ts"],(function(e){"use strict";var t,i,o,a,n,s,r,c,u,l,h,d,g,m,p,y,f,_,N,b,v,D,P,S,I,k,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,r=e.Toggle,c=e.Node,u=e.Label,l=e.EditBox,h=e.sys,d=e.Component},function(e){g=e.EventMgr},function(e){m=e.Config},function(e){p=e.default},function(e){y=e.NewRechargeDate,f=e.OPEN_ITEMINFO_WIN_TYPE,_=e.PRODUCT_TYPE,N=e.EquipData,b=e.NewGoodsData},function(e){v=e.sendmessage},function(e){D=e.default},function(e){P=e.GameUtil},function(e){S=e.external},function(e){I=e.default},function(e){k=e.default},function(e){w=e.NativeMsgHandle}],execute:function(){var C,M,O,E,L,G,R,x,B,T,A,z,U,H,W,F,V,K,j,q,J,X,Y,Z,Q,$;n._RF.push({},"c781862il1Cfb/P/iEb1XVs","NewShopWin",void 0);var ee=s.ccclass,te=s.property,ie=s.menu;e("default",(C=ee("NewShopWin"),M=ie("弹窗模块/NewShopWin"),O=te(r),E=te(D),L=te(D),G=te(c),R=te(u),x=te(u),B=te(u),T=te(u),A=te(l),z=te(c),U=te(c),C(H=M((F=t((W=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"tabBarButton",F,a(t)),o(t,"rechargeList",V,a(t)),o(t,"shopList",K,a(t)),o(t,"payNode",j,a(t)),o(t,"payMoney",q,a(t)),o(t,"payNum",J,a(t)),o(t,"productNameBottom",X,a(t)),o(t,"productNameRight",Y,a(t)),o(t,"customEditBox",Z,a(t)),o(t,"customPayNode",Q,a(t)),o(t,"gooddsContentNode",$,a(t)),t.pageGoodsData=[],t.rechargeData=[],t.toggle_index=0,t.select_goods_index=-1,t.rate=1,t.moneyName="",t.selectProductData=new y,t.weburl="",t.type=null,t.test_shop_data=[[],[],[]],t}i(t,e);var n=t.prototype;return n.start=function(){m.MainScene.openShop=!0,this.initMgr();for(var e=m.g_BagItemsList,t=0;t<8;t++){var i=new y;if(7!=t){for(var o=0;o<3;o++)if(e[o]){var a=new N,n=P.loadImgData(e[o].s.Looks,"items");a.type=1,a.res=n,a.data=e[o],a.win_type=f.LOOKHUMWIN,i.first_items.push(a)}i.first_recharge=!0,i.goods_name=""+1e3*(t+1)+this.moneyName,i.goods_price=10*(t+1),i.type=_.NORMAL}else i.type=_.CUSTOM;var s=P.loadImgData(e[0].s.Looks,"items"),r=new N;r.type=1,r.res=s,r.data=e[0],r.win_type=f.LOOKHUMWIN,i.goods_item=r,this.rechargeData.push(i)}this.test_shop_data=[[],[],[]];for(var c=0;c<3;c++){for(var u=[],l=0;l<10;l++)if(e[l]){var h=new b;h.data=e[l],h.name=e[l].s.DBName,e[l].s.Price?h.price=e[l].s.Price:h.price=1e3,h.image_data=P.loadImgData(e[l].s.Looks,"items"),h.type=this.GetMoneyType(e[l].GameMoney),h.limit_max_num=c,h.limit_num=c,u.push(h)}this.test_shop_data[c]=u}e=null,this.initPage(0)},n.initMgr=function(){g.addEventListener(p.UPDATE_ITEMS,this.UpdateItems,this),g.addEventListener(p.REMOEV_ANI,this.removeAni,this)},n.UpdateItems=function(e){e[0]&&this.initPage(e[1])},n.showTab=function(e){for(var t in this.tabBarButton){var i=this.tabBarButton[t];if(Number(i.node.name)==e){this.onToggleHandler(i),i.isChecked=!0;break}}},n.onToggleHandler=function(e){var t=Number(e.target.name)-1;this.toggle_index!=t&&(this.toggle_index=t,3==this.toggle_index?(console.log("充值"),this.rechargeList.node.active=!0,this.shopList.node.active=!1,this.rechargeList.numItems=this.rechargeData.length):(this.rechargeList.node.active=!1,this.shopList.node.active=!0,this.initPage(this.toggle_index)))},n.initPage=function(e){if(this.toggle_index==e){this.pageGoodsData=[];var t=this.test_shop_data;if(this.select_goods_index=-1,t[e].length>0){for(var i in t[e]){var o=t[e][i];this.pageGoodsData.push(o)}this.shopList.numItems=this.pageGoodsData.length}else this.shopList.numItems=this.pageGoodsData.length;t=null}},n.RenderItemHandler=function(e,t){var i=this.pageGoodsData[t];if(i){var o=e.getComponent(k);o.index=t,o.initData(i),o.onItemClick=this.onItemGoodsClicked.bind(this),this.select_goods_index!=t?o.setSelected(!1):o.setSelected(!0)}},n.RenderRechargeItemHandler=function(e,t){var i=this.rechargeData[t];if(i){var o=e.getComponent(I);o.index=t,o.initData(i,t),o.onItemClick=this.onItemRechargeClicked.bind(this)}},n.onItemGoodsClicked=function(e){var t=this;this.gooddsContentNode.children.forEach((function(i,o){var a=i.getComponent(k);a.index==e?(t.select_goods_index=e,a.setSelected(!0),a.clickItem()):a.setSelected(!1)}))},n.onItemRechargeClicked=function(e){if(e==this.rechargeData.length-1)return this.customPayNode.active=!0,void(this.customEditBox.string="10");this.selectProductData=this.rechargeData[e],this.openPay()},n.onClickCustomOK=function(){Number(this.customEditBox.string)<10?console.log("当前最小金额为：10"):(this.customPayNode.active=!1,this.selectProductData=new y,this.selectProductData.goods_name=this.moneyName,this.selectProductData.goods_price=Number(this.customEditBox.string),this.selectProductData.goods_num=Number(this.customEditBox.string)*this.rate,this.openPay())},n.onClickCustomCancel=function(){this.customPayNode.active=!1},n.openPay=function(){switch(m.cur_game_type){case _.NORMAL:this.payNode.active=!0,this.payMoney.string=this.selectProductData.goods_price.toString(),this.payNum.string=this.selectProductData.goods_num.toString(),this.productNameBottom.string=this.selectProductData.goods_name,this.productNameRight.string=this.selectProductData.goods_name;break;case 3:S.MRGamePay(this.selectProductData.goods_price,this.moneyName,this.rate,this.selectProductData.goods_num);break;case 4:S.MRGameH5Pay(100*this.selectProductData.goods_num,this.moneyName);break;case 5:break;case 7:if(h.isNative){m.CurScene.node.getComponent(w).openPay(this.selectProductData.goods_num,this.moneyName,this.rate,this.selectProductData.goods_price);break}S.openPayInShaHe(this.selectProductData.goods_num,this.moneyName,this.rate,this.selectProductData.goods_price);break;default:S.quicksdkpay(m.playerID,m.g_RoleName,m.g_levelForCaiji,this.selectProductData.goods_price,this.selectProductData.goods_num,this.name)}},n.closePayNode=function(){this.payNode.active=!1},n.onClickPayWithZFB=function(){if(m.cur_use_app&&this.weburl){if(0==m.cur_game_type){var e,t={};h.os==h.OS.IOS||(h.os,h.OS.ANDROID);var i=m.Charge_Value.split("\r\n"),o=this.weburl.split("a=");if(o.length>=2&&i.length>=2){var a=o[1].split("&")[0];(t={}).areaid=a,t.uid=m.dataFromRoleScene.uid,t.yuanbao=this.payNum.string,t.money=this.payMoney.string,t.type=1001,t.url=i[1];var n=JSON.stringify(t);h.os==h.OS.IOS?e.call("gotopay:",n):h.os==h.OS.ANDROID&&e.call("gotopay",n)}}}else console.log("------------------no conchConfig-----------------------"),3==this.type&&S.callpayforuu(this.payNum.string,1001)},n.onClickPayWithWX=function(){if(m.cur_use_app&&this.weburl){if(0==m.cur_game_type){var e,t={};h.os==h.OS.IOS||(h.os,h.OS.ANDROID);var i=m.Charge_Value.split("\r\n"),o=this.weburl.split("a=");if(o.length>=2&&i.length>=2){var a=o[1].split("&")[0];(t={}).areaid=a,t.uid=m.dataFromRoleScene.uid,t.yuanbao=this.payNum.string,t.money=this.payMoney.string,t.type=2001,t.url=i[1];var n=JSON.stringify(t);h.os==h.OS.IOS?e.call("gotopay:",n):h.os==h.OS.ANDROID&&e.call("gotopay",n)}}}else console.log("------------------no conchConfig-----------------------"),3==this.type&&S.callpayforuu(this.payNum.string,2001)},n.GetMoneyType=function(e){var t="";switch(e){case 0:t=m.g_GameGoldNum.key;break;case 1:t=m.g_GameCionNum.key;break;case 2:t=m.g_GamePointNum.key;break;case 3:t=m.g_bindCionNum.key;break;case 4:t=m.g_bindGoldNum.key;break;case 5:t=m.g_nGameDiamond.key;break;case 6:t=m.g_nGameGird.key}return m.G_Money_Type=t,t},n.onSponsoredPackage=function(){v.SendGameMainBtnMsg("活动介绍")},n.closeView=function(){this.node.destroy()},n.onDestroy=function(){m.MainScene.openShop=!1,g.removeEventListener(p.UPDATE_ITEMS,this.UpdateItems,this),g.removeEventListener(p.REMOEV_ANI,this.removeAni,this)},n.removeAni=function(e){e[0]==this.node.name&&this.closeView()},n.update2Money=function(e){console.log("---\x3e ",e);var t="",i=e.split("|");2==i.length&&(t=i[1].split(","),this.name=t[0],this.type=i[0],this.rate=Number(t[1])),3==i.length&&(t=i[2].split(","),this.name=i[1],this.type=i[0],this.rate=Number(t[1])),this.rechargeData=[],this.moneyName=t[0];for(var o=0;o<8;o++){var a=new y,n=[];t[o+2]&&(n=t[o+2].split(":")),7==o?(a.goods_name=t[0],a.goods_num=0,a.goods_price=0,a.type=_.CUSTOM):(a.goods_name=t[0],a.goods_num=Number(n[0]),a.goods_price=Number(n[1]),a.type=_.NORMAL),this.rechargeData.push(a)}},t}(d)).prototype,"tabBarButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(W.prototype,"rechargeList",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(W.prototype,"shopList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(W.prototype,"payNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(W.prototype,"payMoney",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(W.prototype,"payNum",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(W.prototype,"productNameBottom",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(W.prototype,"productNameRight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(W.prototype,"customEditBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(W.prototype,"customPayNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(W.prototype,"gooddsContentNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=W))||H)||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/NewTaskItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sendmessage.ts","./GameUtil.ts"],(function(t){"use strict";var e,n,o,i,r,s,a,l,c,u,h,p,d,f,g,b,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,l=t.Node,c=t.Button,u=t.color,h=t.Layout,p=t.UITransform,d=t.Component,f=t.tween,g=t.Vec3},function(t){b=t.sendmessage},function(t){y=t.GameUtil}],execute:function(){var k,T,m,w,v,z,S,C,N,D,R,B,I;r._RF.push({},"8bec9ry12hDA6WuxnkWbwSv","NewTaskItem",void 0);var L=s.ccclass,_=s.property;t("NewTaskItem",(k=L("NewTaskItem"),T=_(a),m=_(a),w=_(a),v=_(a),z=_(l),k((N=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"taskType",N,i(e)),o(e,"taskTitle",D,i(e)),o(e,"target",R,i(e)),o(e,"todo",B,i(e)),o(e,"contentNode",I,i(e)),e.id=null,e.cb=null,e}n(e,t);var r=e.prototype;return r.start=function(){y.loadResLocalButton("SplitResource/Btns/btn_newtask (2).png","SplitResource/Btns/btn_newtask.png",this.node.getComponent(c))},r.update=function(t){},r.showTask=function(t,e,n){var o=this;this.cb&&this.unschedule(this.cb),this.id=t,this.taskType.string=e.taskType,this.taskType.color.set(u(e.fontColor)),this.taskType.fontSize=e.fontSize,this.taskTitle.string=e.taskTitle,this.taskTitle.color.set(u(e.fontColor)),this.taskTitle.fontSize=e.fontSize,null!=n&&(null!=n.todo?(this.todo.node.active=!0,this.todo.string=n.todo.content):this.todo.node.active=!1,null!=n.content?(this.target.node.active=!0,this.target.string=n.content.taskContent,this.target.color.set(u(n.content.fontColor)),this.target.fontSize=n.content.fontSize):(this.target.node.active=!0,this.target.string=n.Target.taskContent,this.target.color.set(u(n.Target.fontColor)),this.target.fontSize=n.Target.fontSize)),this.target.updateRenderData(!0),this.todo.updateRenderData(!0),this.contentNode.getComponent(h).updateLayout(!0);var i=this.contentNode.getComponent(p).width-(this.node.getComponent(p).width-20);if(i>0){var r=i/50,s=function(){f(o.contentNode).delay(r+.5).by(r,{position:new g(-i-10,0)}).delay(r+.5).by(r,{position:new g(i+10,0)}).start()};this.schedule(s,4*r+1+5),this.cb=s}},r.onBtn=function(t,n){b.sendNewTask(t.target.getComponent(e).id)},r.onDestroy=function(){this.cb&&this.unschedule(this.cb)},e}(d)).prototype,"taskType",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"taskTitle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(C.prototype,"target",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"todo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(C.prototype,"contentNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=C))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/NodeClickTop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RGBCode.ts"],(function(t){"use strict";var e,n,i,o,r,s,h,l,d,c,u,a,p,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,h=t.RichText,l=t.Node,d=t.Sprite,c=t.Layout,u=t.UITransform,a=t.Vec3,p=t.screen,f=t.Component},function(t){g=t.rgbCode}],execute:function(){var C,m,b,w,x,v,y,N,O,B;r._RF.push({},"66290v0UcREYJWMlpuJf24Z","NodeClickTop",void 0);var R=s.ccclass,T=s.property,_=s.menu;t("default",(C=R("NodeClickTop"),m=_("通用模块/NodeClickTop"),b=T(h),w=T(l),x=T(l),C(v=m((N=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"rich_text",N,o(e)),i(e,"bgNode",O,o(e)),i(e,"closeButton",B,o(e)),e.outLine=!1,e}n(e,t);var r=e.prototype;return r.start=function(){},r.initData=function(t,e,n){var i=this;this.node.getChildByName("buffkuang").getComponent(d).enabled=!0,n?(this.node.getChildByName("buffkuang").getComponent(d).enabled=!1,this.outLine=!0):this.outLine=!1,this.rich_text.string="";for(var o=t.split("\\"),r="",s=0;s<o.length;s++){var h=!1;if(s==o.length-1&&(h=!0),-1!=o[s].indexOf("{"))r+=this.getInfo(o[s],h);else if(-1!=o[s].indexOf("#")){var f=o[s].split("#"),C=f[1];r+="<color="+g.Get2RGB(f[0])+">"+C+"</color>\n"}else r+=o[s]}if(this.rich_text.string=r,this.bgNode.getComponent(c).updateLayout(!0),this.bgNode.getComponent(u).width=this.rich_text.node.getComponent(u).width+8,e){var m=new a;m=this.node.parent.getComponent(u).convertToNodeSpaceAR(e),this.node.getComponent(u).width=this.bgNode.getComponent(u).width,this.node.getComponent(u).height=this.bgNode.getComponent(u).height,m.y+this.node.getComponent(u).height/2>p.windowSize.height/2?this.node.setPosition(m.x+this.node.getComponent(u).width/2+10,p.windowSize.height/2-this.node.getComponent(u).height/2):this.node.setPosition(m.x+this.node.getComponent(u).width/2+10,m.y+this.node.getComponent(u).height/2),m.x+this.node.getComponent(u).width>p.windowSize.width/2&&this.node.setPosition(p.windowSize.width/2-this.node.getComponent(u).width/2,this.node.position.y),this.closeButton.on(l.EventType.TOUCH_END,(function(){i.node.destroy()}),this)}},r.getInfo=function(t,e){var n="";if(-1!=t.indexOf("{")){var i=t.substr(0,t.indexOf("{")),o="#ffffff";if(-1!=i.indexOf("#")){var r=i.split("#");i=r[1],o=g.Get2RGB(r[0])}n+="<color="+o+">"+i+"</color>";for(var s=t.substring(t.indexOf("{"),t.length).split("{"),h=0;h<s.length;h++)if(-1!=s[h].indexOf("|")){var l=s[h].split("|"),d="";if(l[1].length>3){var c="",u="";-1!=(c=l[1].split(":")[0]).indexOf("}")&&(c=c.substr(0,c.indexOf("}"))),d=g.Get2RGB(c),l[1].indexOf("}")!=l[1].length-1&&(u=l[1].substr(l[1].indexOf("}")+1,l[1].length)),l[0]=l[0]+u}else-1!=l[1].indexOf("}")&&(l[1]=l[1].replace("}","")),d=g.Get2RGB(l[1]);n+="<color="+d+">"+l[0]+"</color>"}}return n=e?n:n+"\n",this.outLine&&(n="<outline color=#000000 width=2>"+n+"</outline>"),n},e}(f)).prototype,"rich_text",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(y.prototype,"bgNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(y.prototype,"closeButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/NodeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.instantiate,r=e.Sprite,s=e.Component}],execute:function(){var l,a;i._RF.push({},"0829aFG1aFGMamuK+S+dIA5","NodeMgr",void 0);var c=n.ccclass,u=(n.property,e("NodeMgr",c("NodeMgr")(((a=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).dictPool={},t}t(i,e),i.ins=function(){return this._ins||(this._ins=new i),this._ins};var n=i.prototype;return n.init=function(){this.setClearRule("dropItemImg"),this.setClearRule("dropItemLab"),this.setClearRule("xunluPoint"),this.setClearRule("130-141"),this.setClearRule("150-161"),this.setClearRule("170-181"),this.setClearRule("190-201"),this.setClearRule("210-221"),this.setClearRule("230-241")},n.update=function(e){},n.getNode=function(e,t,i,n){if(null!=e)if(null!=t){if(null!=i&&""!=i){var r,s,l=!n||n();if(this.dictPool.hasOwnProperty(i)){var a=(s=this.dictPool[i]).findIndex((function(e){return e.isValid&&!e.active&&l}));a<0?r=o(e):(r=s[a],s.splice(a,1))}else s=[],this.dictPool[i]=s,r=o(e);return r.setParent(t),r.active=!0,r}console.warn(">>type为空！")}else console.warn(">>parent为空！");else console.warn(">>prefab为空！")},n.putNode=function(e,t){var i;null!=e?(this.dictPool.hasOwnProperty(t)?i=this.dictPool[t]:(i=[],this.dictPool[t]=i),e.inactiveTime=Date.now(),"dropItemImg"==t&&null!=e.getComponent(r)&&(e.getComponent(r).spriteFrame=null),e.active=!1,i.push(e)):console.warn(">>node为空！")},n.setClearRule=function(e,t,i,n){var o=this;void 0===t&&(t=24e4),void 0===i&&(i=12e4),setInterval((function(e,t){var i=o.dictPool[e];if(i)for(var r=i.length-1;r>=0;r--){var s=i[r];if(s&&!s.isValid)i.splice(r,1);else if(s&&!s.active&&Date.now()-s.inactiveTime>t){(!n||n())&&(s.active=!1,s.isValid&&s.destroy(),s.removeFromParent(),i.splice(r,1))}}}),t,e,i)},i}(s))._ins=void 0,l=a))||l));e("nodeMgr",u.ins());i._RF.pop()}}}));

System.register("chunks:///_virtual/NodeScale.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,o,a,s,p,c,u,l,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Enum,p=e.SpriteFrame,c=e.NodeEventType,u=e.tween,l=e.Vec3,d=e.Sprite,h=e.Component}],execute:function(){var S,T,y,f,N,b,m;o._RF.push({},"b659fqWChBMu5V34qTTmdCA","NodeScale",void 0);var v,E=a.ccclass,g=a.property;!function(e){e[e.SPRITE=1]="SPRITE",e[e.BUTTON=2]="BUTTON"}(v||(v={}));e("NodeScale",(S=E("NodeScale"),T=g({type:s(v),tooltip:"sprite缩放效果, button改变图片状态"}),y=g({type:p,tooltip:"第一张为默认, 第二张为悬停",visible:function(){return this.NodeType==v.BUTTON}}),S((b=t((N=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"NodeType",b,r(t)),i(t,"btnStateSpArr",m,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.node.on(c.MOUSE_ENTER,this.enterState,this),this.node.on(c.MOUSE_LEAVE,this.leaveState,this)},o.enterState=function(){1===this.NodeType?u(this.node).to(.1,{scale:new l(.8,.8,.8)},{easing:"quartOut"}).start():2===this.NodeType&&(this.node.getComponent(d).spriteFrame=this.btnStateSpArr[1])},o.leaveState=function(){1===this.NodeType?u(this.node).to(.1,{scale:new l(1,1,1)},{easing:"quartOut"}).start():2===this.NodeType&&(this.node.getComponent(d).spriteFrame=this.btnStateSpArr[0])},t}(h)).prototype,"NodeType",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.SPRITE}}),m=t(N.prototype,"btnStateSpArr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=N))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Notice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./GameUtil.ts","./RGBCode.ts"],(function(t){"use strict";var e,i,n,o,l,r,c,a,s,_,h,u,y,p,d,g,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,c=t.Node,a=t.Button,s=t.Sprite,_=t.Label,h=t.RichText,u=t.ScrollView,y=t.v3,p=t.color,d=t.Component},function(t){g=t.default},function(t){f=t.GameUtil},function(t){b=t.rgbCode}],execute:function(){var m,C,I,v,L,w,A,x,B,N,z,D,H,S,R,T,P,G,k;l._RF.push({},"b52ccU1OBBMHIiFgHFuHTwP","Notice",void 0);var F=r.ccclass,V=r.property;t("Notice",(m=F("Notice"),C=V(g),I=V(g),v=V(c),L=V(c),w=V(c),A=V(c),x=V(a),B=V(c),m((D=e((z=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"list_notice",D,o(e)),n(e,"list_laya_notice",H,o(e)),n(e,"scroll_lab",S,o(e)),n(e,"list_notice_content",R,o(e)),n(e,"lab_title",T,o(e)),n(e,"richt_content",P,o(e)),n(e,"btn_close",G,o(e)),n(e,"node_laya_notice",k,o(e)),e._laya_notice=null,e._cocos_notice=null,e._preIdx=null,e._isLaya=!1,e}i(e,t);var l=e.prototype;return l.start=function(){f.loadResLocal("LoginScene/gxx/notice_bg.png",this.node.getComponent(s)),f.loadResLocalButton("LoginScene/gxx/notice_tog_03.png","LoginScene/gxx/notice_tog_04.png",this.btn_close)},l.updateView=function(t){console.log(t),t.hasOwnProperty("noticeContentArray")&&t.hasOwnProperty("titleDirectoryArray")&&(this._isLaya=Array.isArray(t.noticeContentArray[0]),this._isLaya?(this._laya_notice=t,this.node_laya_notice.active=!0,this.list_notice.numItems=this._laya_notice.titleDirectoryArray.length):(this._cocos_notice=t,this.scroll_lab.active=!0,this.list_notice.numItems=this._cocos_notice.titleDirectoryArray.length),this.list_notice_content.children.length>0&&this.onClickListItemHandle(this.list_notice_content.children[0]))},l.renderListItemHandle=function(t,e){this._isLaya?t.getChildByName("lab_title").getComponent(_).string=this._laya_notice.titleDirectoryArray[e].titleContent:t.getChildByName("lab_title").getComponent(_).string=this._cocos_notice.titleDirectoryArray[e].titleContent,t.getChildByName("sp_selected").active=t._listId==this._preIdx},l.onClickListItemHandle=function(t){var e=this;if(t._listId!=this._preIdx){if(t.getChildByName("sp_selected").active=!0,null!=this._preIdx){var i=null;try{this.list_notice.content.children.forEach((function(t){if(t._listId==e._preIdx)throw i=t,Error()}))}catch(t){}i&&(i.getChildByName("sp_selected").active=!1)}this._preIdx=t._listId,this.showNoticeDetailsHandle(this._preIdx)}},l.showNoticeDetailsHandle=function(t){if(void 0===t&&(t=0),this._isLaya){if(this._laya_notice.noticeContentArray.length<=0)return;this.list_laya_notice.numItems=this._laya_notice.noticeContentArray[t].length,this.list_laya_notice.scrollTo(-1)}else{if(this._cocos_notice.noticeContentArray.length<=0)return;this.lab_title.getComponent(_).string=this._cocos_notice.noticeContentArray[t].title,this.richt_content.getComponent(h).string=this._cocos_notice.noticeContentArray[t].content,this.scroll_lab.getComponent(u).scrollToTop(.2)}},l.renderLayaListItemHandle=function(t,e){var i=this._laya_notice.noticeContentArray[this._preIdx][e],n=t.getChildByName("lab");n.setPosition(y(i.positionX)),n.getComponent(_).color=p(b.Get2RGB(i.colorValue)),n.getComponent(_).string=i.content,n.getComponent(_).fontSize=2*i.fontSize,n.getComponent(_).lineHeight=2*i.fontSize},l.onClickBtnCloseViewHandle=function(){this._isLaya?this._laya_notice.titleDirectoryArray.length>0&&(this.list_notice_content.children[0].getChildByName("sp_selected").active=!0):this._cocos_notice.titleDirectoryArray.length>0&&(this.list_notice_content.children[0].getChildByName("sp_selected").active=!0),this._preIdx=null,this.list_notice.scrollTo(-1),this.node.active=!1},l.update=function(t){},e}(d)).prototype,"list_notice",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(z.prototype,"list_laya_notice",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(z.prototype,"scroll_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(z.prototype,"list_notice_content",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(z.prototype,"lab_title",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"richt_content",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"btn_close",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"node_laya_notice",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=z))||N));l._RF.pop()}}}));

System.register("chunks:///_virtual/NpcShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Sendmessage.ts","./List.ts","./GameApi.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,o,s,a,l,p,c,g,r,m,u,h,d,_,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.Node,p=e.Label,c=e.Sprite,g=e.Component},function(e){r=e.EventMgr},function(e){m=e.Config},function(e){u=e.default},function(e){h=e.sendmessage},function(e){d=e.default},function(e){_=e.GameApi},function(e){f=e.GameUtil}],execute:function(){var I,N,b,L,S,C,v,y,M,B,w,R,x,D,E;s._RF.push({},"0c4746rbpxJcI50MttT9GUf","NpcShop",void 0);var F=a.ccclass,G=a.property;e("NpcShop",(I=F("NpcShop"),N=G(d),b=G(l),L=G(l),S=G(l),C=G(l),v=G(p),I((B=t((M=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"M_List",B,o(t)),i(t,"M_List2",w,o(t)),i(t,"M_List3",R,o(t)),i(t,"inf_bg",x,o(t)),i(t,"inf_bg1",D,o(t)),i(t,"pageNum",E,o(t)),t.NewNpcSelectIdx=-1,t.NewNpcSelectIdx2=-1,t}n(t,e);var s=t.prototype;return s.start=function(){this.updateShopList();var e=this.node.getChildByName("bg").getComponent(c);f.loadResLocal("NpcShop/npcitems.png",e);var t=this.node.getChildByName("Npc_Sell").getComponent(c),n=this.node.getChildByName("Npc_Buy").getComponent(c);f.loadResLocal("SplitResource/Btns/btn_ok.png",t),f.loadResLocal("SplitResource/Btns/btn_ok.png",n);var i=this.inf_bg.getComponent(c);f.loadResLocal("NpcShop/npcitems2.png",i);var o=this.inf_bg.getChildByName("inf_Close").getComponent(c);f.loadResLocal("public/btn_close (2).png",o);var s=this.inf_bg.getChildByName("pageup").getComponent(c);f.loadResLocal("NpcShop/page_up.png",s);var a=this.inf_bg.getChildByName("pagedown").getComponent(c);f.loadResLocal("NpcShop/page_down.png",a);for(var l=this.M_List2.children,p=0;p<l.length;p++){var g=l[p].getComponent(c),r=l[p].getChildByName("Checkmark").getComponent(c);f.loadResLocal("BagWin/img_bag_bg.png",g),f.loadResLocal("MyShop/img_bag_bg1.png",r)}var m=this.inf_bg1.getComponent(c);f.loadResLocal("NpcShop/npcitems2.png",m);var u=this.inf_bg1.getChildByName("inf_Close").getComponent(c);f.loadResLocal("public/btn_close (2).png",u);var h=this.inf_bg1.getChildByName("pageup").getComponent(c);f.loadResLocal("NpcShop/page_up.png",h);var d=this.inf_bg1.getChildByName("pagedown").getComponent(c);f.loadResLocal("NpcShop/page_down.png",d);for(var _=this.M_List3.children,I=0;I<_.length;I++){g=_[I].getComponent(c),r=_[I].getChildByName("Checkmark").getComponent(c);f.loadResLocal("BagWin/img_bag_bg.png",g),f.loadResLocal("MyShop/img_bag_bg1.png",r)}var N=this.node.getChildByName("btn_close").getComponent(c);f.loadResLocal("public/btn_close (2).png",N)},s.init=function(){r.addEventListener("Update_Npc_Items2",this.updateItemList,this),r.addEventListener(u.NPC_SHOP_BUYITEM_SUCCESS,this.buyItemSuccess,this)},s.updateShopList=function(){this.M_List.numItems=m.g_ItemMemuList.length},s.shopListRender=function(e,t){var n=m.g_ItemMemuList[t],i=e.getChildByName("name"),o=e.getChildByName("price"),s=e.getChildByName("extend");f.loadResLocal("NpcShop/npcxz2.png",s.getComponent(c));var a=e.getChildByName("selected");f.loadResLocal("NpcShop/npcxz.png",a.getComponent(c)),i.getComponent(p).string=n.name,o.getComponent(p).string=n.gprice,m.isFromTradingDlg||(s.active=parseInt(n.gsub)>=1)},s.shopListClick=function(e,t){for(var n=e.parent.children,i=0;i<n.length;i++){var o=n[i];o.getChildByName("selected").active=o._listId==t}this.NewNpcSelectIdx=t;var s=m.g_ItemMemuList[t];parseInt(s.gsub)>=1||m.isFromTradingDlg?h.sendGetDetailItem(s,m.G_npcShopPage):this.inf_bg.active=!1},s.updateItemList=function(){for(var e=0;e<this.M_List2.children.length;e++){var t=m.g_ItemMemuListInf[e];if(m.isFromTradingDlg)var n=this.M_List3.children[e].getChildByName("Sprite");else n=this.M_List2.children[e].getChildByName("Sprite");t?f.loadImg(t.s.Looks,"items",(function(e){n.getComponent(c).spriteFrame=e.imgUrl})):n.getComponent(c).spriteFrame=null}this.pageNum.string=m.G_npcShopPage/10+1,m.isFromTradingDlg?this.inf_bg1.active=!0:parseInt(m.g_ItemMemuList[this.NewNpcSelectIdx].gsub)>=1&&(this.inf_bg.active=!0)},s.itemListClick=function(e){var t=e.node.name;this.NewNpcSelectIdx2=t,m.g_OpenIdx=10,m.g_MoveItems.Index=-11,m.g_MoveItems.Items=m.g_ItemMemuListInf[t],f.newShowItemsInf(m.g_MoveItems.Items,null,615)},s.onBtnBuy=function(){null!=m.g_ItemMemuList[this.NewNpcSelectIdx]&&(parseInt(m.g_ItemMemuList[this.NewNpcSelectIdx].gsub)>=1||m.isFromTradingDlg?null!=m.g_ItemMemuListInf[this.NewNpcSelectIdx2]&&h.SendButItemFormInfo(m.g_ItemMemuListInf[this.NewNpcSelectIdx2]):h.sendBuyItem(m.g_ItemMemuList[this.NewNpcSelectIdx]))},s.changePage=function(e,t){if(null!=m.g_ItemMemuList[this.NewNpcSelectIdx]&&(parseInt(m.g_ItemMemuList[this.NewNpcSelectIdx].gsub)>=1||m.isFromTradingDlg)){if(m.G_npcShopPage+t<0)return;h.sendGetDetailItem(m.g_ItemMemuList[this.NewNpcSelectIdx],m.G_npcShopPage+t)}},s.buyItemSuccess=function(){m.g_ItemMemuListInf[this.NewNpcSelectIdx2]=null,this.updateItemList()},s.onBtnSell=function(){_.showScreen(!0,0,5)},s.closeInf=function(){this.inf_bg.active=!1},s.closeInf1=function(){this.inf_bg1.active=!1},s.closeView=function(){this.node.destroy()},s.onDestroy=function(){r.removeEventListener("Update_Npc_Items2",this.updateItemList,this),r.removeEventListener(u.NPC_SHOP_BUYITEM_SUCCESS,this.buyItemSuccess,this)},t}(g)).prototype,"M_List",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"M_List2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"M_List3",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"inf_bg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"inf_bg1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"pageNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=M))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/objectcontrol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./MsgCM.ts","./AnimationModule.ts","./AutoHookModule.ts","./FightModule.ts","./GameConfig.ts","./ItemMgr.ts","./MoveModule.ts","./SkillModule.ts","./Sendmessage.ts","./ScreenWin.ts","./Astart.ts","./GameApi.ts","./GameUtil.ts","./objectmanage.ts","./UIcontrol.ts"],(function(t){"use strict";var s,e,i,o,l,n,_,a,r,h,u,c,f,p,d,g,b,k,m,j,v,y,x,w,M,I,L;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Vec2,l=t.NodeEventType,n=t.v3,_=t.Component},function(t){a=t.EventMgr},function(t){r=t.Config},function(t){h=t.PARALYSISACTIVE_Type,u=t.U_Type},function(t){c=t.default},function(t){f=t.default},function(t){p=t.Animationmodule},function(t){d=t.AutoHookmodule},function(t){g=t.Fightmodule},function(t){b=t.gameConfig},function(t){k=t.ItemMgr},function(t){m=t.Movemodule},function(t){j=t.Skillmodule},function(t){v=t.sendmessage},function(t){y=t.default},function(t){x=t.AStart},function(t){w=t.GameApi},function(t){M=t.GameUtil},function(t){I=t.ObjectManage},function(t){L=t.uiControl}],execute:function(){var A,C;e._RF.push({},"21df7Ivap1LoYkE9HBzqHQQ","objectcontrol",void 0);var D=i.ccclass,S=(i.property,t("objectcontrol",D("objectcontrol")(((C=function(t){function e(){for(var s,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return(s=t.call.apply(t,[this].concat(i))||this).self_obj=null,s.mapbox=null,s.cur_dir=0,s.atttype=0,s.skillList=[],s.controltype=0,s.is_open_by=!1,s.is_open_cs=!0,s.is_open_ktz=!1,s.is_open_zr=!1,s.is_open_ly=!1,s.is_open_lh=!1,s.obj_hook=0,s.canAcross=!1,s.path_index=0,s.find_over=!1,s.open_findpath=!1,s.remedy_count=10,s.use_attack=!1,s.use_skill=!1,s.show_npcdlg_pos=new o,s.show_npcdlg_max_dis=9,s.move_call_result=!0,s.move_pos=new o,s.lastSkillId=0,s.move_dir=null,s.useskill_id=null,s.useskill_pos=null,s.useskill_type=null,s.move_state=null,s}s(e,t),e.ins=function(){return this._ins||(this._ins=new e),this._ins};var i=e.prototype;return i.start=function(){},i.update=function(t){},i.init=function(){a.addEventListener("RockerMoveStart",this.objectmove,this),a.addEventListener("ClickNPC",this.clickNPC,this),a.addEventListener("RockerMoveEnd",this.moveend,this),a.addEventListener("MSG_SEND_RESULT",this.sendresult,this),a.addEventListener("MSG_MOVE_RESULT",this.moveresult,this)},i.moveresult=function(t){var s=t[0],e=t[1],i=t[2],o=I.findobject(s);o&&(o.grid.x=e,o.grid.y=i,o.updatePos(48*e,32*-i),o.changestate(null,1,null,!0),s==r.playerID&&a.raiseEvent(l.TOUCH_END))},i.springback=function(t,s){this.self_obj&&(this.self_obj.is_backstep&&(t=this.self_obj.target_pos.x,s=this.self_obj.target_pos.y),this.self_obj.is_moveing=!1,this.self_obj.trans_count=0,this.self_obj.target_pos.x=t,this.self_obj.target_pos.y=s,this.self_obj.grid.x=t,this.self_obj.grid.y=s,I.play_count=0,console.log("回弹--\x3e ",this.self_obj.target_pos.x,this.self_obj.target_pos.y,this.self_obj.cur_frame_index),this.path_index=1,this.self_obj.updatePos(48*this.self_obj.target_pos.x,32*-this.self_obj.target_pos.y),this.move_call_result=!0,g.path_list=[],a.raiseEvent("movespringback"))},i.sendresult=function(t){switch(this.controltype){case 1:"+FAIL!"==t?this.move_pos.x*this.move_pos.y>0&&this.springback(this.move_pos.x,this.move_pos.y):"+GOOD!"==t&&(this.move_pos.x=this.self_obj.target_pos.x,this.move_pos.y=this.self_obj.target_pos.y,this.move_call_result=!0,r.g_boMagicGood=!1);break;case 2:"+FAIL!"==t?this.use_skill=!1:"+GOOD!"==t&&this.playskill();break;case 3:"+FAIL!"==t&&(r.chaseing=!1,r.attackerID=0,this.use_attack=!1,this.use_skill=!1,this.self_obj.trans_count=0,I.play_count=0,r.autohookstate&&(this.move_dir=M.reverse8dis(this.self_obj.cur_dir),this.contiunemove(this.move_dir,1)));break;case 5:if("=DIG!"==t)this.self_obj.digfragment=!0;else if("+GOOD!"==t&&this.self_obj.digfragment){this.self_obj.digfragment=!1;var s=8*this.self_obj.cur_dir,e=s+2;p.playframe(!0,M.getMapLayerNode(),"data/Effect/",s,e,80,!1,!0,n(48*this.self_obj.grid.x,32*-this.self_obj.grid.y))}}if("+PWR!"==t)this.atttype=5,this.skillList.push(5);else if("+WID!"==t)this.is_open_by=!0,this.move_call_result=!0;else if("+UWID!"==t)this.is_open_by=!1,this.move_call_result=!0;else if("+FIR!"==t)this.atttype=24,this.controltype=3,this.skillList.push(24),this.move_call_result=!0;else if("+UFIR!"==t){this.atttype=0,this.controltype=3;for(var i=0;i<this.skillList.length;i++)24==this.skillList[i]&&this.skillList.splice(i,1);this.move_call_result=!0}else"+LNG!"==t?(this.is_open_cs=!0,this.move_call_result=!0):"+ULNG!"==t?(this.is_open_cs=!1,this.move_call_result=!0):"+KTZ!"==t?(this.atttype=43,this.controltype=3,this.skillList.push(43),this.move_call_result=!0):"+UKTZ!"==t?(this.atttype=0,this.controltype=3,this.move_call_result=!0):"+SWO!"==t?(this.atttype=53,this.controltype=3,this.skillList.push(53),this.move_call_result=!0):"+USWO!"==t?(this.atttype=0,this.controltype=3,this.move_call_result=!0):"+TWN!"==t?(this.atttype=38,this.skillList.push(38),this.move_call_result=!0):"+UTWN!"==t&&(this.atttype=0,this.move_call_result=!0)},i.clickNPC=function(t){var s=t[0];if(!s.isWuJiang()){var e=t[1];if(s.data&&s.data.record!=r.playerID)if(2!=s.type&&(s.is_die?(11==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&160==s.skin_feature.wAppr||11==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&161==s.skin_feature.wAppr||19==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&43==s.skin_feature.wAppr||19==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&70==s.skin_feature.wAppr||16==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&24==s.skin_feature.wAppr||52==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&39==s.skin_feature.wAppr||19==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&113==s.skin_feature.wAppr||52==s.skin_feature.wRaceImg&&0==s.skin_feature.wWeapon&&93==s.skin_feature.wAppr)&&!r.autohookstate&&M.addhalo(s):M.addhalo(s)),1==e){if(console.log(">>点击对象:",s.txt_name.text),2==s.type)console.log("调用点击npc"),v.sendNPCClick(s.data.record),this.show_npcdlg_pos.x=s.grid.x,this.show_npcdlg_pos.y=s.grid.y,r.g_Changerpak=-1,r.g_ChangerIndex=-1;else if(3==s.type){if(I.findobject(s.data.record).data.fea.buffer[15]&&s.txt_name&&v.QuerySelectShopInfo(M.getPureName(s),s.data.record),s.boisZmu){var i=I.findobject(r.playerID);i&&(i.boisZmu?a.raiseEvent("new_chat_msg",[{info:"开启招募队员功能后无法加入其他队伍!",front:255,bg:56,type:0}]):s.txt_name&&v.SendAddZmu(s.txt_name.text,0))}}}else 2==e&&(3==s.type&&s.data.record!=r.playerID||1==s.type&&r.lockingID&&!r.Actionlock&&this.fight(!1))}},i.bindobj=function(t,s,e,i){t&&(this.self_obj=t,this.mapbox=s,this.self_obj.updatePos(48*e,32*-i),this.self_obj.grid.x=e,this.self_obj.grid.y=i)},i.updatepos=function(t,s){this.self_obj&&(this.self_obj.grid.x=t,this.self_obj.grid.y=s,this.self_obj.updatePos(48*t,32*-s))},i.movecheck=function(t,s,e){return(t.x!=s.x||t.y!=s.y)&&((2!=e||!(Math.abs(t.x-s.x)>1||Math.abs(t.y-s.y)>1))&&(3!=e||!(Math.abs(t.x-s.x)>2||Math.abs(t.y-s.y)>2)))},i.executemove=function(t,s,e){if(!r.autohookstate&&this.self_obj.grid.x==t.x&&this.self_obj.grid.y==t.y&&null==s)for(var i=0;i<8;i++){(l=I.has2obstacle(this.self_obj.grid,i,e))||(t=M.getMovePoint(this.self_obj.grid,i,e-1),s=M.getorientation(this.self_obj.grid,t))}if(0==e||!this.movecheck(t,this.self_obj.grid,e))return m.stopmove(),!1;var l=I.has2obstacle(this.self_obj.grid,s,e);if(this.obj_hook>10&&!this.move_call_result&&(this.move_call_result=!0),!l&&this.move_call_result){this.move_call_result=!1,this.obj_hook=0,this.move_dir=s,this.controltype=1,this.use_attack=!1,this.use_skill=!1,this.self_obj.action_over=!1,this.self_obj.target_pos.x=t.x,this.self_obj.target_pos.y=t.y,4==e&&this.self_obj.obj_hores&&this.self_obj.obj_hores.active?this.self_obj.changestate(null,3,s,!1):this.self_obj.changestate(null,e,s,!1);var n=2==e?f.WALK:this.self_obj.obj_hores&&this.self_obj.obj_hores.active?f.HORSERUN:f.RUN;if(v.sendRoleMessage(n,t.x,t.y,s),0!=this.show_npcdlg_pos.x||0!=this.show_npcdlg_pos.y)if(o.distance(this.show_npcdlg_pos,this.self_obj.grid)>=this.show_npcdlg_max_dis){this.show_npcdlg_pos=new o(0,0),L.checkAndDestroyNewNpcWin(),a.raiseEvent(c.CLOSEWAREHOUSE);var _=r.MainScene.instanceOfMem("ScreenWin");if(_){var h=_.getComponent(y);3!=h.InType&&4!=h.InType&&5!=h.InType||w.showScreen(!1)}}return!0}return l&&r.lockingID&&r.autohookstate?M.delhalo(r.lockingID):r.autohookstate&&1==this.self_obj.cur_state&&this.obj_hook++,!1},i.contiunemove=function(t,s){if(!(r.roledielock||r.Actionlock||r.player_stalls||r.g_furious_collision_ing)){this.self_obj.grid.x=Math.floor(this.self_obj.node.position.x/48),this.self_obj.grid.y=-Math.floor(this.self_obj.node.position.y/32);var e=M.getMovePoint(this.self_obj.grid,t,1),i=M.getMovePoint(this.self_obj.grid,t,2);if(x.cur_matx&&x.cur_matx.length>e.y&&x.cur_matx.length>i.y&&x.cur_matx[0].length>e.x&&x.cur_matx[0].length>i.x&&(0!=x.cur_matx[e.y][e.x]&&1!=x.cur_matx[e.y][e.x]||0!=x.cur_matx[i.y][i.x]&&1!=x.cur_matx[i.y][i.x])&&(s=1),2==s&&this.self_obj.obj_hores&&this.self_obj.obj_hores.active&&(s=3),l=M.moverule(this.self_obj.grid,t,s))l.length>1?this.executemove(l[0],t,2):this.executemove(l,t,s+1);else if(t!=this.self_obj.cur_dir)this.move_dir=t,this.self_obj.changestate(null,1,this.move_dir,!0),v.ChangDir(this.self_obj.grid.x,this.self_obj.grid.y,this.move_dir);else if(2!=s){var o=M.countMoveDown(t);if(l=M.moverule(this.self_obj.grid,o,1))this.executemove(l,o,2);else{var l;o=M.countMoveUp(t);(l=M.moverule(this.self_obj.grid,o,1))&&this.executemove(l,o,2)}}}},i.rockerrule=function(){if(this.move_call_result,this.move_call_result&&!this.use_attack&&!this.self_obj.is_springback&&!r.attack_lock_state){if(1==this.self_obj.cur_state||this.self_obj.skin_feature&&(0==this.self_obj.skin_feature.btJob||1==this.self_obj.skin_feature.btJob||2==this.self_obj.skin_feature.btJob)&&6==this.self_obj.cur_state)return!0;if(this.self_obj.action_over&&this.self_obj.cur_frame_index>5)return!0}return!1},i.objectmove=function(t,s){if(!r.roledielock&&!(r.Actionlock||r.rockerlock||r.player_stalls||null==this.self_obj||r.g_furious_collision_ing)){r.autopickstate&&(r.autopickstate=!1);var e=Date.now();e-r.attack_lock_time>300&&(r.attack_lock_time=e,r.attack_lock_state=!1),this.rockerrule()&&(null!=t?this.contiunemove(t.dir,t.state):m.startmove(this.self_obj.grid,s),I.resetLockID())}},i.moveend=function(){this.move_state=0,this.use_attack=!1,this.use_skill=!1,this.move_call_result=!0,r.use_move_start=!1},i.usefightrule=function(){if(this.self_obj){if(1==this.self_obj.cur_state||6==this.self_obj.cur_state||13==this.self_obj.cur_state)return!0;if(this.self_obj.action_over&&this.self_obj.cur_frame_index>5)return!0}return!1},i.getattfasttime=function(){var t=540-r.g_ClientConfig.nAttackSpeed/10*5.4,s=55*this.self_obj.attsp/10,e=r.rolespeed*r.g_ClientConfig.btItemSpeed;return Math.max(t,r.g_ClientConfig.AttackIntervalTime)-20-s-e},i.storm=function(){if(r.roledielock)return!1;if(r.Actionlock)return!1;if(r.player_stalls)return!1;if(this.self_obj&&this.self_obj.obj_hores&&this.self_obj.obj_hores.active)return!1;if(this.usefightrule()&&this.move_call_result){if(Date.now()-r.attack_call_time<this.getattfasttime())return!1;var t;this.controltype=3,this.skillList&&this.skillList.length>0&&(this.atttype=this.skillList[0],this.skillList.shift()),g.leavefight(),m.stopmove(),r.lockingID&&M.delhalo(r.lockingID),t=M.checkUseCiSha()?2:1;var s=E.self_obj;if(s){var e=I.getStormObject(s,s.grid,t,1),i=e||s;g.useattack(s,i,0,s.cur_dir,t)}return!0}return!1},i.fight=function(t){if(r.roledielock)return!1;if(r.Actionlock)return!1;if(r.player_stalls)return!1;if(this.self_obj&&this.self_obj.obj_hores&&this.self_obj.obj_hores.active)return!1;if(this.usefightrule()&&this.move_call_result){if(Date.now()-r.attack_call_time<this.getattfasttime())return this.use_attack=!0,!1;if(M.hasmining(this.self_obj.grid,this.self_obj.cur_dir)&&8!=this.self_obj.cur_state)this.controltype=5,this.mining();else{if(this.use_attack=!1,this.controltype=3,this.skillList&&this.skillList.length>0&&(this.atttype=this.skillList[0],this.skillList.shift()),1==this.self_obj.paralysis_state&&0==M.checkParalysisM2(h.ATTACK))return!1;g.startattack(this.atttype,t)}return!0}return this.use_skill||t||(this.use_attack=!0),!1},i.autolocking=function(t){if(t!=r.playerID&&(null==r.lockingID||0==r.lockingID)&&0==r.autohookstate&&!r.GlobalCfglist.notLock){var s=I.findobject(t);s&&!s.is_die&&M.addhalo(s)}},i.useskillrule=function(){if(this.self_obj.action_over&&!this.self_obj.is_die){if(1==this.self_obj.paralysis_state)return 1==M.checkParalysisM2(h.MAGIC);if(1==this.self_obj.cur_state||6==this.self_obj.cur_state)return!0;if(this.self_obj.cur_frame_index>5)return!0}return!1},i.getskillpos=function(t,s,e){var i=new o,l=I.findobject(r.lockingID);if(s)i=s;else if(l&&!l.is_die&&M.checkFastLightLockRelease(t))i.x=l.target_pos.x?l.target_pos.x:l.grid.x,i.y=l.target_pos.y?l.target_pos.y:l.grid.y;else if(M.isselfskill(t))i=M.getMovePoint(this.self_obj.grid,this.self_obj.cur_dir,5);else if(M.checkFastLightLockRelease(t)){var n=I.findlateobject(this.self_obj.grid,8);n&&(i.x=n.target_pos.x?n.target_pos.x:n.grid.x,i.y=n.target_pos.y?n.target_pos.y:n.grid.y,M.addhalo(n))}return 0==i.x&&0==i.y&&(i=M.getMovePoint(this.self_obj.grid,this.self_obj.cur_dir,6)),25==t&&(e<1e3||e>1500)&&(i.x=this.self_obj.cur_dir,i.y=0),5!=t&&13!=t&&23!=t&&24!=t&&15!=t&&28!=t&&16!=t&&29!=t&&43!=t&&53!=t&&38!=t||!(e<1e3||e>1500)||(i.x=this.self_obj.grid.x,i.y=this.self_obj.grid.y),i},i.useskill=function(t,s,e,i,o){if(0==t||r.roledielock||r.Actionlock||r.player_stalls||null==this.self_obj||this.self_obj.obj_hores&&this.self_obj.obj_hores.active)return this.use_skill=!1,!1;if(this.useskillrule()){var l;if(r.skill_count_cd=j.checklegal(t,s),!(l=s>=1e3&&s<=1500?j.findCustomSkill(s,i):j.getskilldata(t,s))&&!l)return!1;null==l.use_time&&(l.use_time=0);Math.floor(r.g_ClientConfig.dwMagicHitFrameTime*this.self_obj.skillsp/100);if(1==(Date.now()-l.use_time>r.skill_count_cd&&Date.now()-r.G_SkillTime>r.g_ClientConfig.dwMagicHitFrameTime)){if(r.g_ClientConfig.boDisabledDoubleFireHitSkill&&24==t&&26==s&&r.cdTimerStart)return;r.G_SkillTime=Date.now(),l.use_time=Date.now(),this.self_obj.grid.x=Math.floor(this.self_obj.node.position.x/48),this.self_obj.grid.y=-Math.floor(this.self_obj.node.position.y/32);var n=this.getskillpos(t,e,s);if(g.AttOff_list=[],r.GlobalCfglist.d_autoskill_3&&((4==t||46==t&&38==s)&&b.autoChangePoison(),10!=t&&28!=t&&16!=t&&17!=t&&11!=t&&12!=t&&15!=t||b.autoChangeFu()),this.useskill_id=t,this.useskill_pos=n,this.useskill_type=s,r.activate_skilluse=0,r.activate_skillpos=null,this.use_skill=!1,13==t||23==t||24==t||43==t||53==t||38==t&&43==s){switch(this.controltype=3,t){case 24:b.lastFireHitTime=Date.now();break;case 38:b.lastLYTime=Date.now();break;case 43:b.lastKTZTime=Date.now();break;case 53:b.lastZRTime=Date.now()}43==t&&41==s&&j.playself(this.useskill_id,this.useskill_type,this.self_obj,this.useskill_pos,null,i)}else{if(this.controltype=2,null==i)for(var _=0;_<r.g_UserMagicList.length;_++){var a=r.g_UserMagicList[_];t==a.Def.btEffect&&s==a.Def.wMagicId&&(i=a.Level)}l.isCustomSkill?j.playCustomSkillForTarget(l,this.self_obj,this.useskill_pos,null==i?0:i):6!=this.useskill_id&&8!=this.useskill_type&&j.playself(this.useskill_id,this.useskill_type,this.self_obj,this.useskill_pos,null,i)}2==this.controltype&&Math.max(1,3*this.self_obj.ftime-2.5*this.self_obj.skillsp);return 25!=t&&6!=this.useskill_id&&8!=this.useskill_type?(this.self_obj.currMagicId=s,j.sendMsg(t,n,this.self_obj.cur_dir,s,i,o)):this.useFuriousCollisionSkillHandle(t,n,s,i),!0}}else this.use_attack||(this.use_skill=!0),!r.autohookstate||15!=t&&28!=t||(d.summontime=0);return!1},i.useFuriousCollisionSkillHandle=function(t,s,e,i){var o=this;r.g_furious_collision_end=!1,r.g_furious_collision_ing=!1,setTimeout((function(){j.sendMsg(t,s,o.self_obj.cur_dir,e,i)}),35)},i.isAutoAuxiliaryUseSkill=function(t){return!(-1==[14,15,31,2,58].indexOf(t)||!r.autohookstate)},i.playskill=function(){},i.mining=function(){if(this.self_obj&&5==this.controltype){var t=k.getInstance().FindUseItemByPos(u.WEAPON);t&&t.s&&6==t.s.StdMode&&19==t.s.Shape&&(v.sendRoleMessage(f.HEAVYHIT,this.self_obj.grid.x,this.self_obj.grid.y,this.self_obj.cur_dir),this.self_obj.changestate(null,8,null,!1,"play_by_mining"))}},i.autodrop=function(t){},i.resetData=function(){this.self_obj=null,this.mapbox=null,this.cur_dir=0,this.atttype=0,this.skillList=[],this.controltype=0,this.is_open_by=!1,this.is_open_cs=!0,this.is_open_ktz=!1,this.is_open_zr=!1,this.is_open_ly=!1,this.is_open_lh=!1,this.obj_hook=0,this.canAcross=!1,this.path_index=0,this.find_over=!1,this.open_findpath=!1,this.remedy_count=10,this.use_attack=!1,this.use_skill=!1,this.show_npcdlg_pos=new o,this.show_npcdlg_max_dis=9,this.move_call_result=!0,this.move_pos=new o,this.lastSkillId=0,this.move_dir=null,this.useskill_id=null,this.useskill_pos=null,this.useskill_type=null,this.move_state=null},i.clearData=function(){this.move_pos=new o},e}(_))._ins=void 0,A=C))||A)),E=t("Objectcontrol",S.ins());e._RF.pop()}}}));

System.register("chunks:///_virtual/objectmanage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./MsgSM.ts","./Struct.ts","./AnimationModule.ts","./FightModule.ts","./GameConfig.ts","./MapData.ts","./MoveModule.ts","./RelationManager.ts","./SkillModule.ts","./UIcontrol.ts","./Sendmessage.ts","./RGBCode.ts","./CodeUtil.ts","./GameUtil.ts","./objectcontrol.ts","./ObjectRole.ts","./Enums.ts","./Astart.ts"],(function(e){"use strict";var t,a,i,s,r,n,o,l,c,d,f,u,p,_,h,g,m,y,b,v,w,x,k,j,A,I,C,M,D,R,S,T,O,B,E,H,L;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,i=e._decorator,s=e.Vec2,r=e.v3,n=e.Sprite,o=e.instantiate,l=e.UITransform,c=e.color,d=e.v2,f=e.Node,u=e.UIOpacity,p=e.tween,_=e.sys,h=e.Component},function(e){g=e.EventMgr},function(e){m=e.Config},function(e){y=e.default},function(e){b=e.Struct_ins},function(e){v=e.Animationmodule},function(e){w=e.Fightmodule},function(e){x=e.gameConfig},function(e){k=e.Mapdata},function(e){j=e.Movemodule},function(e){A=e.RelationManager},function(e){I=e.Skillmodule},function(e){C=e.uiControl},function(e){M=e.sendmessage},function(e){D=e.rgbCode},function(e){R=e.CodeUtil,S=e.codeUtil},function(e){T=e.GameUtil},function(e){O=e.Objectcontrol},function(e){B=e.ObjectRole},function(e){E=e.OBJECT_Type,H=e.TMonsterClientActionType},function(e){L=e.Astart}],execute:function(){var N,P;a._RF.push({},"86cd4f6W9JBSqS5wxr3aBTn","objectmanage",void 0);var G=i.ccclass,F=(i.property,e("objectmanage",G("objectmanage")(((P=function(e){function a(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).object_list=[],t.object_node_list=[],t.task_list=[],t.str_attover="play_over_test",t.str_stand="play_by_stand",t.str_dieeff="play_by_die_effects",t.str_mining="play_by_mining",t.move_time=0,t.obj_load_res=[],t.lock_list=[],t.lock_idx=0,t.resloadlist=[],t.resclearlist=[],t.play_count=0,t.shy_a=new s,t.shy_b=new s,t.fps_time=0,t.fps_list=[],t.collisionCount=0,t.collisionPoint={objID:0,x:0,y:0},t.ghostCount=0,t.use_num=0,t.move_call_result=null,t.isStartHB=!1,t.nodeClearFrq=180,t.nodeInactiveTime=12e4,t.sound_json=[],t.filterlockin=function(e){for(var t=0;t<m.lockingList.length;++t){var a=this.findobject(m.lockingList[t]);if(a&&a.data&&a.data.record==e)return!0}return!1},t}t(a,e),a.ins=function(){return this._ins||(this._ins=new a),this._ins};var i=a.prototype;return i.init=function(){g.addEventListener(this.str_attover,this.playover,this),g.addEventListener(this.str_stand,this.playtostand,this),g.addEventListener(this.str_dieeff,this.dieeffects,this),g.addEventListener(this.str_mining,this.callmining,this),this.schedule(this.clearNodeHandler,this.nodeClearFrq)},i.update=function(e){this.isStartHB&&this.SkinToHeartbeat()},i.autoPick=function(){if(!m.autohookstate&&m.g_autopick){var e=3,t=a.ins().findobject(m.playerID);if(!t||t.is_die)return;var i=a.ins().GetAttr(m.playerID);if(t&&i&&0==m.lockingID&&!T.maxBag(!1)&&!T.maxWeight(!1))for(var r=0;r<x.pickItemList.length;r++){var n=x.pickItemList[r];if(!(n&&n.id&&m.g_cannotPick[n.id])&&(n&&n.x&&n.y&&L.ins().cur_matx[0]&&n.x<L.ins().cur_matx[0].length&&n.y<L.ins().cur_matx.length&&0==L.ins().cur_matx[n.y][n.x])){if(!x.itemCheck(n.Name,1))continue;var o=new s(n.x,n.y),l=s.distance(t.grid,o);(l=parseInt(l.toString()))<=e&&(e=l,n.x,n.y,n.id,M.ClickMapItem(t.grid.x,t.grid.y))}}}},i.clearNodeHandler=function(){for(var e=this.object_node_list.length-1;e>=0;e--){var t=this.object_node_list[e];if(t&&t.isValid&&!t.active&&Date.now()-t.inactiveTime>this.nodeInactiveTime)this.object_list.findIndex((function(e){return e.data.record==t.getComponent(B).data.record}))<0&&(t.active=!1,t.destroy(),t.setParent(null),this.object_node_list.splice(e,1),console.log(">>clearNodeHandler:",this.object_node_list.length))}},i.analyspeed=function(e,t,a,i){var s;return 3==t?7==e||8==e||6==e?a-(s=Math.floor(a*(1e3-m.g_ClientConfig.nAttackSpeed)/1e3))+Math.floor(s*(i.attsp/100))+(null!=i.realSpeed?i.realSpeed:m.rolespeed)*m.g_ClientConfig.btItemSpeed/6:11==e?a-(s=Math.max(0,a-Math.floor(a*i.skillsp/100)))+Math.floor(s*m.g_ClientConfig.nSpellSpeed/1e3):i.m_nMoveSpeed:0},i.SkinToHeartbeat=function(){this.executeTask();var e=0;null!=m.g_ClientConfig&&(e=null!=m.g_ClientConfig.nMoveSpeed?m.g_ClientConfig.nMoveSpeed:1e3);var t=Math.max(1,80-Math.floor(100*e/1e3))-m.g_rolemovespeed;t-=t%10;var a=(this.play_count+=20)>t;a&&(this.play_count=0);for(var i=this.object_list.length-1;i>=0;i--){var s=this.object_list[i];if(s&&s.data&&(s.obj_frames.length>0||s.subsp_frames.length>0))if((1==s.cur_state||6==s.cur_state)&&s.msg_list.length>0)s.playorder();else if(s.is_moveing){var r=Math.floor(t/20)+1,n=r*s.obj_frames.length;if(s.is_backstep&&(n=Math.floor(n/2)),m.GlobalCfglist.smooth&&(s.grid.x!=s.target_pos.x||s.grid.y!=s.target_pos.y)&&s.trans_count<n){this.shy_a.x=48*s.grid.x,this.shy_a.y=32*s.grid.y,this.shy_b.x=48*s.target_pos.x,this.shy_b.y=32*s.target_pos.y,this.shy_a.x==this.shy_b.x&&(this.shy_a.x+=1);var o=T.equalcoordinate(this.shy_a,this.shy_b,n,++s.trans_count);s.updatePos(Math.floor(o.x),-Math.floor(o.y)),s.setPosOfObjectNameAndBlood(),this.collisionGhostHandler(s),this.collisionPoint&&this.collisionCount++}(a||s.super_time)&&(s.trans_count<r&&(s.trans_count+=r-s.trans_count),s.play_time=Date.now(),s.updateselfskin(!0))}else{var l=s.ftime;switch(s.cur_state){case 1:l=90;break;case 2:l=80;break;case 3:case 4:case 5:l=100;break;case 6:l=200;break;case 7:l=90;break;case 8:l=80;break;case 9:l=90;break;case 10:l=60;break;case 11:l=50;break;case 12:l=300;break;case 13:l=60;break;case 14:l=120}var c=Math.max(1,l-this.analyspeed(s.cur_state,s.type,l,s));3!=s.type||1!==s.cur_state||0!==s.cur_frame_index||2!==s.lastState&&3!==s.lastState||(c=Math.min(80,c));var d=Date.now(),f=d-m.attack_call_time,u=O.getattfasttime();(d-s.play_time>=c||s.data.record==m.playerID&&f>u&&f<u+50||s.super_time&&s.data&&s.data.record!=m.playerID||3==s.type&&s.data.record==m.playerID&&m.moveing||this.isFuriousCollisionEnd())&&(s.data.record,m.playerID,1===s.cur_state&&(s.lastState=1),s.play_time=d,s.updateselfskin(!1))}}},i.isFuriousCollisionEnd=function(){return!(!m.g_rocker_moving||0!=m.g_furious_collision_ing||1!=m.g_furious_collision_end)&&(m.g_furious_collision_end=!1,!0)},i.collisionGhostHandler=function(e){this.collisionPoint&&e.data&&this.collisionPoint.objID==e.data.record&&(this.collisionPoint.x==e.grid.x&&this.collisionPoint.y==e.grid.y&&(this.collisionPoint=null,this.collisionCount=0),this.collisionCount%5==0&&this.drawCurSelfSkin(e),this.collisionCount>5&&(this.collisionCount=0))},i.checkFps=function(){var e=Date.now();0==this.fps_time&&(this.fps_time=e),this.fps_list.push(e-this.fps_time),50==this.fps_list.length&&(this.fps_list.sort(),this.fps_list[25]>=30&&g.raiseEvent("setSimple"),this.fps_list=[]),this.fps_time=e},i.isloadres=function(e,t,a,i,s){for(var r=0;r<this.obj_load_res.length;r++){var n=this.obj_load_res[r];if(n._race==e&&n._wappr==t&&n._state==a&&n._type==i&&n._off==s)return!0}return!1},i.callmining=function(e){if(e.changestate(null,6,null,!1),e&&e.data.record==m.playerID){var t=Math.max(200,m.g_ClientConfig.AttackIntervalTime-m.g_ClientConfig.nAttackSpeed);this.scheduleOnce((function(){O.mining()}),.001*t)}},i.dieeffects=function(e){null==e&&null==e.skin_feature||(18==e.skin_feature.wRaceImg&&27==e.skin_feature.wAppr?v.playframe(!0,e.node,"data/mon3/",2860,2869,100,!1,!0):15==e.skin_feature.wRaceImg&&21==e.skin_feature.wAppr?v.playframe(!0,e.node,"data/mon3/",340,359,100,!1,!0):40==e.skin_feature.wRaceImg&&205==e.skin_feature.wAppr?v.playframe(!0,e.node,"data/mon5/",341,348,100,!1,!0):109==e.skin_feature.wRaceImg&&325==e.skin_feature.wAppr?v.playframe(!0,e.node,"data/mon33/",2770,2779,160,!1,!0):109==e.skin_feature.wRaceImg&&326==e.skin_feature.wAppr?v.playframe(!0,e.node,"data/mon33/",2880,2889,160,!1,!0):112==e.skin_feature.wRaceImg&&336==e.skin_feature.wAppr?v.playframe(!0,e.node,"data/mon34/",3300,3305,200,!1,!0):112==e.skin_feature.wRaceImg&&337==e.skin_feature.wAppr?v.playframe(!0,e.node,"data/mon34/",3360,3365,200,!1,!0):165==e.skin_feature.wRaceImg&&376==e.skin_feature.wAppr&&v.playframe(!0,e.node,"data/mon38/",3091,3099,200,!1,!0))},i.attackeffect=function(e,t,a){if(e.grid){var i=r(48*e.grid.x,32*-e.grid.y),n=T.getMapLayerNode(1);if(24==a.wDress&&16==a.wRace){var o=(u=1445+10*t)+5-1;v.playframe(!0,n,"data/mon3/",u,o,100,!1,!0,i)}else if(140==a.wDress&&33==a.wRace)v.playframe(!0,n,"data/mon15/",100,109,100,!1,!0,i);else if(31==a.wDress&&20==a.wRace){o=(u=1800+10*t)+7-1;v.playframe(!0,n,"data/mon4/",u,o,100,!1,!0,i)}else if(55==a.wRace){o=(u=820+10*t)+5-1;setTimeout((function(){v.playframe(!0,n,"data/mon18/",u,o,100,!1,!0,i)}),300)}else if(34==a.wDress&&21==a.wRace){o=(u=1900+10*t)+6-1;v.playframe(!0,n,"data/mon4/",u,o,100,!1,!0,i)}else if(63==a.wDress&&49==a.wRace){o=(u=1680+10*t)+8-1;v.playframe(!0,n,"data/mon7/",u,o,100,!1,!0,i)}else if(140==a.wDress&&49==a.wRace){o=(u=1680+10*t)+8-1;v.playframe(!0,n,"data/mon7/",u,o,100,!1,!0,i)}else if(206==a.wDress&&71==a.wRace){o=(u=2783+10*t)+3-1;v.playframe(!0,n,"data/mon21/",u,o,200,!1,!0,i)}else if(166==a.wDress&&33==a.wRace)v.playframe(!0,n,"data/mon15/",100,109,100,!1,!0,i);else if(182==a.wDress&&62==a.wRace){o=(u=860+10*t)+6-1;v.playframe(!0,n,"data/mon19/",u,o,100,!1,!0,i)}else if(221==a.wDress&&78==a.wRace){o=(u=3442+10*t)+4-1;v.playframe(!0,n,"data/mon22/",u,o,100,!1,!0,i)}else if(443==a.wDress&&78==a.wRace){o=(u=3442+10*t)+4-1;v.playframe(!0,n,"data/mon22/",u,o,100,!1,!0,i)}else if(449==a.wDress&&78==a.wRace){o=(u=3442+10*t)+4-1;v.playframe(!0,n,"data/mon22/",u,o,100,!1,!0,i)}else if(320==a.wDress&&101==a.wRace){o=(u=352+10*t)+4-1;v.playframe(!0,n,"data/mon33/",u,o,100,!1,!0,i)}else if(325==a.wDress&&109==a.wRace)v.playframe(!0,n,"data/mon33/",2750,2759,100,!1,!0,i);else if(326==a.wDress&&109==a.wRace)v.playframe(!0,n,"data/mon33/",2860,2869,100,!1,!0,i);else if(370==a.wDress&&162==a.wRace){o=(u=430+10*t)+6-1;v.playframe(!0,n,"data/mon38/",u,o,100,!1,!0,i)}else if(373==a.wDress&&165==a.wRace){o=(u=1760+10*t)+5-1;v.playframe(!0,n,"data/mon38/",u,o,100,!1,!0,i)}else if(375==a.wDress&&165==a.wRace){o=(u=2573+10*t)+3-1;this.scheduleOnce((function(){v.playframe(!0,n,"data/mon38/",u,o,100,!1,!0,i)}),.3)}else if(376==a.wDress&&165==a.wRace){o=(u=3013+10*t)+3-1;v.playframe(!0,n,"data/mon38/",u,o,100,!1,!0,i)}else if(377==a.wDress&&165==a.wRace){o=(u=3530+10*t)+6-1;v.playframe(!0,n,"data/mon38/",u,o,100,!1,!0,i)}else if(3710==a.wDress&&165==a.wRace){var l=5090+10*t,c=l+10-1,d=5173+10*t,f=d+3-1;v.playframe(!0,n,"data/mon38/",l,c,100,!1,!0,i),this.scheduleOnce((function(){var a=T.getMovePoint(e.grid,t,1);v.playframe(!0,n,"data/mon38/",d,f,100,!1,!0,r(48*a.x,32*a.y))}),.4)}else if(3711==a.wDress&&165==a.wRace){o=(u=5693+10*t)+3-1;this.scheduleOnce((function(){v.playframe(!0,n,"data/mon38/",u,o,100,!1,!0,i)}),.2)}else if(3713==a.wDress&&165==a.wRace){o=(u=7340+10*t)+10-1;v.playframe(!0,n,"data/mon38/",u,o,100,!1,!0,i)}else if(340==a.wDress&&113==a.wRace){o=(u=503+10*t)+7-1;v.playframe(!0,n,"data/mon35/",u,o,100,!1,!0,i)}else if(263==a.wDress&&151==a.wRace){o=(u=1610+10*t)+6-1;v.playframe(!0,n,"data/mon27/",u,o,100,!1,!0,i)}else if(524==a.wDress&&78==a.wRace){var u;o=(u=3442+10*t)+4-1;v.playframe(!0,n,"data/mon22/",u,o,100,!1,!0,i)}else if((904==a.wDress||a.wDress)&&83==a.wRace||(341==a.wDress||342==a.wDress)&&114==a.wRace){if(Math.floor(10*Math.random()+1)>8){var p=new s(e.grid.x,e.grid.y);v.playframe(!0,n,"data/dragon/",60,80,100,!1,!0,r(48*p.x,32*-p.y))}var _,h=this;this.use_num=0,_=this.schedule((function(){if(++h.use_num>2||null==e.grid)h.unschedule(_);else for(var t=4+Math.floor(100*Math.random()%4),a=0;a<t;a++){var i=8-Math.floor(100*Math.random()%16),o=8-Math.floor(100*Math.random()%16),l=230+10*Math.floor(100*Math.random()%6),c=l+5-1,d=new s(e.grid.x+i,e.grid.y+o);v.playframe(!0,n,"data/dragon/",l,c,100,!1,!0,r(48*d.x,32*-d.y))}}),.5)}}},i.levelup=function(e){var t=this.findobject(e);t&&(v.playframe(!0,t.node,"data/prguse2/",110,124,100,!1,!0),T.playMusicFormat(m.S_ROLE_LEVEL),t.txt_name.text===m.g_RoleName&&m.g_RoleLevelUp++)},i.raiseKL=function(e){v.playframe(!0,T.getMapLayerNode(),"data/mon4/",2860,2869,100,!1,!0,r(48*e.grid.x,32*-e.grid.y))},i.playover=function(e){null!=e&&1!=e.type&&(1==e.type?e.changestate(null,1,null,!1):3==e.type&&(e.data.record==m.playerID&&(O.use_attack=!1,O.use_skill=!1),e.changestate(null,6,e.cur_dir,!1)))},i.playtostand=function(e){e.changestate(null,1,null,!0)},i.newobject=function(e){if(null==e.fea)return null;if(e.record==m.playerID){var t=this.createRoleNode();return this.updateObjectData(t,e)}var a=this.task_list.find((function(t){return t.id==e.record}));null==a?(a={type:1,id:e.record,dataList:[e]},this.task_list.push(a)):a.dataList.push(e)},i.putTask=function(e){this.task_list.push(e)},i.executeTask=function(){if(this.task_list.length>0){var e=this.task_list.shift();this.executeEachTask(e)}},i.executeEachTask=function(e){var t=e.type;if(1==t){var a=this.object_node_list.find((function(t){return t.id==e.id}));null==a?(null==(a=this.object_node_list.find((function(e){return 0==e.active&&!e.getComponent(B).is_die})))?a=this.createRoleNode():this.reuseObjNode(a),a.id=e.id):this.findobject(e.id)||this.reuseObjNode(a);for(var i=0;i<e.dataList.length;i++)this.updateObjectData(a,e.dataList[i])}else 2==t&&e.func&&e.func.apply(this,e.params)},i.reuseObjNode=function(e){e.active=!0;var t=e.getComponent(B);t.isFirstCreate=!0,t.sp.getComponent(n).customMaterial=null},i.resetRoleDieState=function(e,t){if(this.object_node_list.filter((function(t){t.id==e&&(t.getComponent(B).is_die=!1)})),t){var a=this.object_node_list.findIndex((function(t){return t.id==e}));this.object_node_list.splice(a,1)}},i.createRoleNode=function(){var e=m.CurScene.objectRole,t=o(e);return this.object_node_list.push(t),T.getMapLayerScript().roleImgLayer.addChild(t),t},i.updateObjectData=function(e,t){var a=e.getComponent(B);if(a.isFirstCreate){var i=b.THumFeature(t.fea.buffer),s=i.wRace;if(0==s||1==s||150==s||220==s){if(a.initdata(t,3),t.record==m.playerID){var r=R.getInstance()._LOBYTE(t.series);a.changestate(t,1,r,!0)}a.updateObjectBlood(1,1,t.record==m.playerID,1,1,!0)}else{var n=0;50!=s?(33==t.ident&&(a.is_die=!0),n=1,a.updateObjectBlood(1,1,t.record==m.playerID,1,1,!1)):(n=2,a.obj_blood.active=!1),a.initdata(t,n)}if(this.object_list.findIndex((function(e){return e.data.record==a.data.record}))<0&&this.object_list.push(a),3==a.type&&a.data.record!=m.playerID&&a.updateHidePlayer(!m.GlobalCfglist.hidePlayer),1==a.type&&(a.sp.active=!m.GlobalCfglist.hideMonster),t.record!=m.playerID){a&&2!=a.type&&M.getObjState(t.record);var o=t.skillLevel;this.ChangeState(t,o)}a.type==E.PLAYER&&a.stallssetting(i.boShopStall),a.isFirstCreate=!1}else{o=t.skillLevel;this.ChangeState(t,o)}return a},i.checkInArea=function(e,t,a,i){var s;if(!(s=null!=e.sp.getComponent(n).spriteFrame?e.sp.position.clone():e.dobule_sp.position.clone())||!a)return!1;null==i&&(i=[]),i.length<4&&(i=[0,0,60,70]);var r=i[2],o=i[3],l=s.x>a.x?s.x-a.x:a.x-s.x,c=s.y>a.y?s.y-a.y:a.y-s.y;(l>r/2||c>o/2)&&(s=e.node.position.clone());var d=a.clone();return d.x=d.x+i[0],d.y=d.y+i[1],d.x>s.x-r/2&&d.x<s.x+r/2&&d.y>s.y-o/2&&d.y<s.y+o/2},i.clickNPC=function(e,t,a){for(var i=0;i<this.object_list.length;++i){var s=this.object_list[i];if(s.node.active&&s.data){var r,o;if(s.type==E.PLAYER)r=s.node;else{var c=s.sp.getComponent(n);r=c&&null!=c.spriteFrame?s.sp:s.dobule_sp}if(r.getComponent(l).hitTest(t))if(2==s.type||s.isBB){if(o=this.NpcClickHandle(s,t,a,e,i))return o}else if(o=this.clickObjHandle(s,t,e))return s.type}}return!1},i.NpcClickHandle=function(e,t,a,i,s){if(this.checkInArea(e,t,a,e.npcClickAreaData))return this.clickObjHandle(e,t,i);for(var r,n=this.object_list,o=s+1<n.length?s+1:n.length-1;o<n.length;o++)if(2!=(r=n[o]).type&&r.node.getComponent(l).hitTest(t.x,t.y))return this.clickObjHandle(r,t,i)},i.checkOtherOrMonsterHide=function(e){return!(1!=e.type||!m.GlobalCfglist.hideMonster)||(!(3!=e.type||!m.GlobalCfglist.hidePlayer||e.data.record==m.playerID)||void 0)},i.clickObjHandle=function(e,t,a){if(!this.checkOtherOrMonsterHide(e))if(e.data.record!=m.playerID&&e.node.active){if(!e.is_die||11==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&160==e.skin_feature.wAppr||11==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&161==e.skin_feature.wAppr||19==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&43==e.skin_feature.wAppr||19==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&70==e.skin_feature.wAppr||16==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&24==e.skin_feature.wAppr||52==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&39==e.skin_feature.wAppr||19==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&113==e.skin_feature.wAppr||52==e.skin_feature.wRaceImg&&0==e.skin_feature.wWeapon&&93==e.skin_feature.wAppr)return g.raiseEvent("ClickNPC",[e,a,t]),e.type}else this.findobject(e.data.record).data.fea.buffer[15]&&C.MyShopHandler(m.CurScene.node,m.CurScene.myShop)},i.findlateobject=function(e,t,a){a||(a=1);for(var i=null,r=(this.findobject(m.playerID).txt_name.text,0);r<this.object_list.length;++r){var n=this.object_list[r];if((!n.data||n.data.record!=m.playerID)&&((!n.txt_name||""!=n.txt_name.text)&&n.txt_name&&!n.isBB)){if(n.data&&1==n.type){var o=b.TMonFeature(n.data.fea.buffer);if(71==o.wAppr)continue;if(0==o.wAppr)continue}if(!(n.Blood&&0==n.Blood.curBlood||n.data&&-1!=w.AttOff_list.indexOf(n.data.record))){if(n.txt_name.text&&-1!=n.txt_name.text.indexOf("\n"))var l=n.txt_name.text.split(/[\n/]/)[1];else l=n.txt_name.text;if(!(m.autohookstate&&l&&x.monsterCheck(l))&&(n.type==a||3==n.type&&n.skin_feature&&150==n.skin_feature.wRace)&&!n.is_die){var c=Math.floor(s.distance(e,n.grid));c<=t&&(t=c,i=n)}}}}return i},i.getStormObject=function(e,t,a,i){i||(i=1);this.findobject(m.playerID).txt_name.text;for(var s=0;s<this.object_list.length;++s){var r=this.object_list[s];if((!r.data||r.data.record!=m.playerID)&&((!r.txt_name||""!=r.txt_name.text)&&r.txt_name&&!r.isBB)){if(r.data&&1==r.type){var n=b.TMonFeature(r.data.fea.buffer);if(71==n.wAppr)continue;if(0==n.wAppr)continue}if(!r.data||-1==w.AttOff_list.indexOf(r.data.record)){if(r.txt_name.text&&-1!=r.txt_name.text.indexOf("\n"))var o=r.txt_name.text.split(/[\n/]/)[1];else o=r.txt_name.text;if(!(m.autohookstate&&o&&x.monsterCheck(o))&&(r.type==i||3==r.type&&r.skin_feature&&150==r.skin_feature.wRace)&&!r.is_die&&T.checkAttackDirObjOnRange(e.cur_dir,e.grid,r.grid,a))return r}}}return null},i.findlateobject1=function(e,t,a){a||(a=1);var i,r=this.findobject(m.playerID);if(r){for(var n=0;n<this.object_list.length;++n){var o=!0,l=this.object_list[n];if((!l.data||l.data.record!=m.playerID)&&((!l.txt_name||""!=l.txt_name.text)&&l.txt_name&&!l.isBB)){if(l.data&&1==l.type){var c=b.TMonFeature(l.data.fea.buffer);if(71==c.wAppr)continue;if(0==c.wAppr)continue}if(!l.data||-1==w.AttOff_list.indexOf(l.data.record)){if(l.txt_name&&l.txt_name.nametites)var d=l.txt_name.nametites[0];if(!(m.autohookstate&&d&&x.monsterCheck(d))){if(3==l.type){if("[夫妻攻击]"==m.G_att_type){var f=T.getPureName(r);if(l.txt_name.cur_name)var u=l.txt_name.cur_name;f&&u&&""!=u&&(-1!=u.indexOf(f+"的老公")||-1!=u.indexOf(f+"的老婆"))&&(o=!1)}else if("[师徒攻击]"==m.G_att_type){f=T.getPureName(r);if(l.txt_name.cur_name)var p=l.txt_name.cur_name;f&&p&&""!=p&&(-1!=p.indexOf(f+"的师傅")||-1!=p.indexOf(f+"的徒弟"))&&(o=!1)}else if("[组队攻击]"==m.G_att_type)for(var _=A.getInstance().teamGropList,h=0;h<_.length;h++){var g=_[h];g&&l.txt_name.text.indexOf(g.name)>-1&&(o=!1)}else if("[行会攻击]"==m.G_att_type){var y,v;r.guildName&&(y=r.guildName.substring(0,r.guildName.indexOf("["))),l.guildName&&(v=l.guildName.substring(0,l.guildName.indexOf("["))),y&&v&&""!=y&&y==v&&(o=!1)}else"[红名攻击]"==m.G_att_type||"[和平攻击]"==m.G_att_type&&(o=!1);if(!o)continue}if((l.type==a||3==l.type&&l.skin_feature&&150==l.skin_feature.wRace)&&!l.is_die)Math.floor(s.distance(e,l.grid))<=t&&this.lock_list.push(l)}}}}return i=this.checkLock(),this.lock_list=[],i}},i.checkLock=function(){var e=this.findobject(m.playerID);this.lock_list.sort((function(t,a){return s.distance(e.grid,t.grid)-s.distance(e.grid,a.grid)}));for(var t=0;t<this.lock_list.length;t++){this.lock_list[t];if(t==this.lock_idx)return this.lock_idx++,this.lock_list[t];if(t==this.lock_list.length-1&&this.lock_list&&this.lock_list[0])return this.lock_idx=1,this.lock_list[0]}return this.lock_idx=0,null},i.resetLockID=function(){this.lock_idx=0},i.findobjectforname=function(e){for(var t=0;t<this.object_list.length;++t){var a=this.object_list[t];if(a&&a.txt_name&&a.txt_name.text==e)return a}return null},i.findobject=function(e){for(var t=0;t<this.object_list.length;++t){var a=this.object_list[t];if(a&&a.data&&a.data.record==e)return a}return null},i.delobject=function(e){var t,a=!1;if(null!=e){for(var i=0,s=this.object_list.length;i<s;i++)if((t=this.object_list[i])&&t.data&&t.data.record==e)return t.removeSelf(a),this.object_list.splice(i,1),void this.resetRoleDieState(e,a);var r=this.task_list.findIndex((function(t){return t.id==e}));r>=0&&this.task_list.splice(r,1)}else{for(i=this.object_list.length-1;i>=0;i--)if(t=this.object_list[i]){if(-1!=e&&t.data&&t.data.record==m.playerID){t.useDefaultRes=!0;continue}t.removeSelf(a),this.object_list.splice(i,1),this.resetRoleDieState(e,a)}for(var n in this.resclearlist)T.clearResByUrl(n);this.resloadlist=[],this.resclearlist=[],this.task_list=[]}},i.hasobstacleID=function(e,t){for(var a=T.getMovePoint(e,t,1),i=0;i<this.object_list.length;++i){var s=this.object_list[i];if((!s.data||s.data.record!=m.playerID)&&!(2!=s.type&&1!=s.type&&3!=s.type||s.is_die||a.x!=s.grid.x||a.y!=s.grid.y||s.is_die))return s}return null},i.is_in_safezone=function(e){for(var t=0;t<k.safeZone.length;++t){var a=k.safeZone[t];if(a[0]==k.cur_id&&a.length>=5&&e.x>=a[1]-a[4]&&e.x<=parseInt(a[1])+parseInt(a[4])&&e.y>=a[2]-a[4]&&e.y<=parseInt(a[2])+parseInt(a[4]))return!0}return!1},i.boCanAcross=function(e){return 2==e&&!m.g_boNoAcrossNpc||1==e&&!m.g_boNoAcrossMon||3==e&&!m.g_boNoAcrossHuman},i.obstructRule=function(e,t,a){var i=t[0].x==e.x&&t[0].y==e.y,s=t[1].x==e.x&&t[1].y==e.y,r=t[2].x==e.x&&t[2].y==e.y,n=!1;switch(a){case 2:n=i;break;case 3:n=i||s;break;case 4:n=i||s||r}return n},i.useAnticipation=function(e,t,a){return!!this.obstructRule(e.grid,t,a)||!!this.obstructRule(e.target_pos,t,a)},i.has2obstacle=function(e,t,a){var i=T.getMovePoint(e,t,a-1);if(m.g_boIsSafeRun&&this.is_in_safezone(i))return!1;var s=[];s.push(T.getMovePoint(e,t,1)),s.push(T.getMovePoint(e,t,2)),s.push(T.getMovePoint(e,t,3));for(var r=0;r<this.object_list.length;++r){var n=this.object_list[r];if(!(n.data&&n.data.record==m.playerID||n.is_die)&&((m.autohookstate||!this.boCanAcross(n.type)||3!=a)&&this.useAnticipation(n,s,a)))return!0}return!1},i.hasobstacle=function(e,t,a,i){var s=!1,r=!0,n=!0,o=!0,l=T.getMovePoint(e,t,1),c=T.getMovePoint(e,t,2),d=T.getMovePoint(e,t,3),f=this.is_in_safezone(e)&&this.is_in_safezone(c);if(1!=a&&m.g_boIsSafeRun&&f)return!0;for(var u=0;u<this.object_list.length;++u){var p=this.object_list[u];p.data&&p.data.record==m.playerID||p.is_die||((l.x==p.grid.x&&l.y==p.grid.y||l.x==p.target_pos.x&&l.y==p.target_pos.y)&&(r=!(1==a||!this.boCanAcross(p.type))||!(!i||1==i||!this.boCanAcross(p.type))),(c.x==p.grid.x&&c.y==p.grid.y||c.x==p.target_pos.x&&c.y==p.target_pos.y)&&(n=!(1==a||!this.boCanAcross(p.type))),(d.x==p.grid.x&&d.y==p.grid.y||d.x==p.target_pos.x&&d.y==p.target_pos.y)&&(o=!(1==a||!this.boCanAcross(p.type))))}switch(a){case 1:s=r;break;case 2:s=r&&n;break;case 3:s=r&&n&&o}return s},i.hasobstacle_ktz=function(e,t,a){for(var i=!1,s=T.getMovePoint(e,t,a),r=0;r<this.object_list.length;++r){var n=this.object_list[r];if((!n.data||n.data.record!=m.playerID)&&!(2!=n.type&&1!=n.type&&3!=n.type&&n.is_die||s.x!=n.grid.x||s.y!=n.grid.y||n.is_die)){i=!0;break}}return i},i.posHasObject=function(e,t,a){for(var i=T.getMovePoint(e,t,a),s=(this.findobject(m.playerID).txt_name.text,0);s<this.object_list.length;++s){var r=this.object_list[s];if(!r.is_die&&!(r.data&&r.data.record==m.playerID||r.txt_name&&""==r.txt_name.text||r.isBB)){if(r.data){var n=b.TMonFeature(r.data.fea.buffer);if(71==n.wAppr)continue;if(0==n.wAppr)continue}if(r.grid.x==i.x&&r.grid.y==i.y)return r}}},i.setObjectMaxBlood=function(e,t){var a=this.findobject(e);a&&a.Blood&&a.Blood.SetMaxBloodNum(t)},i.setObjectCurBlood=function(e,t){var a=this.findobject(e);a&&a.Blood&&a.Blood.SetCurBloodNum(t)},i.setObjectName=function(e,t,a){var i=this.findobject(e);if(i){i.changename(t,a);var s=this.findobject(m.playerID);if(s){var r="("+s.txt_name.text+")",n=s.txt_name.text+"的宝宝";s&&s.txt_name&&(-1!=t.indexOf(r)||-1!=t.indexOf(n))&&g.raiseEvent("show_petBtn")}}},i.updateObjectHp=function(e,t,a,i,s,r){var n=this.findobject(a);if(n&&n.m_Abil&&(0==e||isNaN(e)||(n.m_Abil.MaxHP=e),0==t||isNaN(t)||(n.m_Abil.HP=t),n.Blood)){if(n.m_Abil.HP==n.Blood.curBlood&&n.m_Abil.MaxHP==n.Blood.maxBlood)return;e=n.m_Abil.MaxHP,n.Blood.SetMaxBloodNum(e),n.updateObjectBlood(e,t,a==m.playerID,i,s,r)}},i.SetAttribute=function(e,t){var a=this.findobject(e);a&&(a.m_Abil=t)},i.GetAttr=function(e){var t=this.findobject(e);return t?t.m_Abil:null},i.visibleHpSpr=function(e,t){var a=this.findobject(e);a&&a.visibleObjectBlood(t)},i.setObjectNameColor=function(e,t){var a=this.findobject(e);if(a&&(a.txt_Img&&(a.txt_Img.color=D.Get2RGB(t)),a.txt_name&&""!=a.txt_name.text)){var i=D.Get2RGB(t);a.txt_name.nameLab.color=c(i)}},i.showChatTxt=function(e,t){var a=this.findobject(e);a&&a.showChatTxt(t)},i.setNamePos=function(e,t){e.txt_name&&(this.ShowName(),e.txt_name.node.active=t),3===e.type&&e.txt_Img},i.ReObjectVisible=function(e){for(var t=0;t<this.object_list.length;++t){var a=this.object_list[t];a&&a.txt_name&&(1==e&&1==a.type&&0==a.OwnerID?this.setNamePos(a,m.GlobalCfglist.nameshow1):2==e&&2==a.type?this.setNamePos(a,m.GlobalCfglist.nameshow2):3==e&&3==a.type?this.setNamePos(a,m.GlobalCfglist.nameshow3):4==e&&1==a.type&&a.OwnerID>0&&(a.txt_name.node.active=m.GlobalCfglist.nameshow4))}},i.ShowName=function(){for(var e=0;e<this.object_list.length;++e)if(3==this.object_list[e].type&&this.object_list[e].txt_Img){var t=this.object_list[e].txt_name;!0===m.GlobalCfglist.nameshow3&&!0===m.GlobalCfglist.ShowName?t.nameLab.string=T.getPureName(this.object_list[e]):!0===m.GlobalCfglist.nameshow3&&!1===m.GlobalCfglist.ShowName&&t.updateName(t.cur_name,t.color,this.object_list[e]),this.object_list[e].txt_Img.active?this.object_list[e].txt_name.y=this.object_list[e].txt_Img.x+this.object_list[e].txt_Img.height-25:this.object_list[e].txt_name.y=-25}},i.ShowMonsterName=function(){for(var e=0;e<this.object_list.length;e++){var t=this.object_list[e];1==t.type&&t.txt_Img&&(t.txt_name.node.active=m.G_SHOW_MONSTER_NAME)}},i.ShowTitle=function(){for(var e=0;e<this.object_list.length;++e){var t=this.object_list[e];if(t&&3==t.type){t.title&&(t.title.node.active=!m.GlobalCfglist.ShowTitle);for(var a=0;a<6;a++){var i=v.getAni(t.node,"icongif-"+a+"-"+t.data.record),s=v.getAni(t.node,"humicon-"+a+"-"+t.data.record);i&&(i.node.active=!m.GlobalCfglist.ShowTitle),s&&(s.node.active=!m.GlobalCfglist.ShowTitle)}}}},i.ReObjHpvisible=function(e){for(var t=0;t<this.object_list.length;++t)this.object_list[t].visibleObjectBlood(e)},i.ChangeState=function(e,t,a,i){var o=this.findobject(e.record),l=0;if(null!=o){if(null!=o&&(e.level&&(null!=o.level&&null!=o.level&&o.level==e.level||o.addJobAndLevel(e.level),o.level=e.level),null!=e.fea&&(o.boisZmuCount=e.fea.buffer[14],0==o.boisZmuCount&&(o.boisZmuCount=1)),!o.is_die||y.ALIVE==e.ident||y.SKELETON==e.ident)){if(e&&e.str){o.changename(e.str);var c=this.findobject(m.playerID);if(c&&o.OwnerID){c.txt_name.text;var d=c.txt_name.text+"的宝宝";c&&c.txt_name&&(-1!=e.str.indexOf(m.g_RoleNameOnly)||-1!=e.str.indexOf(d))&&(-1==m.g_babyList.indexOf(e.record)&&m.g_babyList.push(e.record),g.raiseEvent("show_petBtn"))}}var f;switch(o.data&&o.data.fea&&o.data.fea.buffer&&(3==o.type?(f=b.THumFeature(o.data.fea.buffer),T.weaponAttackSound(e.ident,f.wWeapon,f.btGender,f.wDress)):f=b.TMonFeature(o.data.fea.buffer)),e.ident){case y.BACKSTEP:1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matWalk);var u=S._LOBYTE(e.series);o.target_pos.x=e.param,o.target_pos.y=e.tag,o.is_backstep=!0,o.changestate(e,2,u,!1);break;case y.SPACEMOVE_SHOW:case y.TURN:if(e.record==m.playerID&&"1"==k.cur_type)return void o.changestate(e,o.cur_state,null);if(0!=(2&e.state)){u=S._LOBYTE(e.series);o.changestate(e,7,u,!1,null,null,2),o.ddl_state=e.state}else{1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matStand);u=S._LOBYTE(e.series);if(33==f.wRaceImg&&(u=0),f&&1==o.type&&71!=f.wAppr&&0!=f.wAppr&&37!=f.wAppr&&72!=f.wAppr&&253!=f.wAppr&&260!=f.wAppr&&261!=f.wAppr){var p=10*f.wAppr+200+"-1.wav";this.soundReUseCheck(p)}1==o.type&&(f=b.TMonFeature(o.data.fea.buffer)),(o.msg_list.length<1&&o.obj_frames&&o.obj_frames.length<1||f&&0==f.wAppr)&&(e.record!=m.playerID&&(o.updatePos(48*e.param,32*-e.tag),o.grid.x=e.param,o.grid.y=e.tag),o.changestate(e,1,u,!0)),o.cur_dir!=u&&o.changestate(e,1,u,null),o.ddl_state=0,T.setBodyColor(o,e.state,e.record)}if(900==f.wAppr&&99==f.wRaceImg)(u=S._LOBYTE(e.series))<3?T.applyDoorState(o.grid.x,o.grid.y,m.dsClose):T.applyDoorState(o.grid.x,o.grid.y,m.dsOpen);break;case y.RUSH:case y.RUSHKUNG:u=S._LOBYTE(e.series);T.canUseYeMan(o.grid,u,1)&&(j.end_point=null,j.stopmove(),this.move_call_result=!0,o.is_springback=!0,o.target_pos.x=e.param,o.target_pos.y=e.tag,o.changestate(e,4,u,!1),this.collisionPoint={objID:o.data.record,x:o.target_pos.x,y:o.target_pos.y},m.g_furious_collision_ing=!0);break;case y.WALK:case y.HIT100:if(e.record==m.playerID)return;1==o.type&&156==f.wRaceImg&&e.ident==y.WALK&&this.setDiyMonState(H.matWalk);u=S._LOBYTE(e.series);(Math.abs(o.grid.x-e.param)>1||Math.abs(o.grid.y-e.tag)>1)&&o.updateselfpos(!0),o.target_pos.x=e.param,o.target_pos.y=e.tag,this.targetMoveHandle(e,o),o.changestate(e,2,u,!1);break;case y.RUN:case y.HORSERUN:if(e.record==m.playerID)return;u=S._LOBYTE(e.series);(Math.abs(o.grid.x-e.param)>2||Math.abs(o.grid.y-e.tag)>2)&&o.updateselfpos(!0),o.target_pos.x=e.param,o.target_pos.y=e.tag,this.targetMoveHandle(e,o);var _=_=340==f.wAppr&&113==f.wRaceImg?9:3;o.changestate(e,_,u,!1);break;case y.POWERHIT:u=S._LOBYTE(e.series);var h=T.getMovePoint(o.grid,u,1);I.playself(5,7,o,h,e.record,t);break;case y.LONGHIT:u=S._LOBYTE(e.series),h=T.getMovePoint(o.grid,u,1);I.playself(13,12,o,h,e.record,t);break;case y.WIDEHIT:u=S._LOBYTE(e.series),h=T.getMovePoint(o.grid,u,1);I.playself(23,25,o,h,e.record,t);break;case y.FIREHIT:u=S._LOBYTE(e.series),h=T.getMovePoint(o.grid,u,1);I.playself(24,26,o,h,e.record,t);break;case y.HIT66:u=S._LOBYTE(e.series),h=T.getMovePoint(o.grid,u,1);I.playself(43,95,o,h,e.record,t);break;case y.TWNHIT:u=S._LOBYTE(e.series),h=T.getMovePoint(o.grid,u,1);I.playself(38,43,o,h,e.record,t);break;case y.SWORDHIT:u=S._LOBYTE(e.series),h=T.getMovePoint(o.grid,u,1);I.playself(53,76,o,h,e.record,t);break;case y.HEAVYHIT:u=S._LOBYTE(e.series);o.changestate(null,8,u,!1,this.str_mining);break;case y.HIT:case y.HIT_2:case y.HIT_3:case y.HIT_4:case y.HIT_5:case y.HIT60:case y.HIT61:case y.HIT62:case y.CRSHIT:case y.HIT43:case y.HIT101:case y.HIT102:case y.HIT103:case y.FLYAXE:case y.SM_ATTACK01:case y.SM_ATTACK02:case y.SM_ATTACK03:case y.SM_ATTACK04:case y.SM_ATTACK05:case y.SM_ATTACK06:if(1==o.type&&156==f.wRaceImg){if(t)var w=parseInt(t);for(var x=0;x<m.g_CustomMonsterConfig.length;x++){var A=m.g_CustomMonsterConfig[x];if(A&&A.wMonsterAppr==o.skin_feature.wAppr){e.ident>=y.SM_ATTACK01&&e.ident<=y.SM_ATTACK06?(this.setDiyMonState(H.matAttack1+i),T.GXX_diyMonSpecilHit(A,o,a,w,i)):this.setDiyMonState(H.matDefAttack);break}}}if(f&&1==o.type&&71!=f.wAppr&&0!=f.wAppr&&37!=f.wAppr&&253!=f.wAppr&&260!=f.wAppr&&261!=f.wAppr){p=10*f.wAppr+200+"-2.wav";this.soundReUseCheck(p)}u=S._LOBYTE(e.series);if(o.updatePos(48*e.param,32*-e.tag),o.grid.x=e.param,o.grid.y=e.tag,o.target_pos.x=e.param,o.target_pos.y=e.tag,3==o.type)o.changestate(null,7,u,!1,this.str_attover);else 33==(D=b.THumFeature(o.data.fea.buffer)).wRace?o.changestate(null,4,0,!1):o.changestate(null,3,u,!1),this.attackeffect(o,u,D);break;case y.BIGHIT:u=S._LOBYTE(e.series);3==o.type?o.changestate(null,9,u,!1,this.str_attover):o.changestate(null,3,u,!1,this.str_stand);break;case y.STRUCK:if(f)if(1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matStruck),1==o.type){if(o.changestate(null,5,o.cur_dir,!1),1==o.type&&71!=f.wAppr&&0!=f.wAppr&&37!=f.wAppr&&253!=f.wAppr&&260!=f.wAppr&&261!=f.wAppr){p=10*f.wAppr+200+"-4.wav";this.soundReUseCheck(p)}}else 3==o.type&&(o.changestate(null,13,o.cur_dir,!1),0==f.btGender?T.playMusicFormat(m.s_struck_m):T.playMusicFormat(m.s_struck_w),I.playEQsecurestruck(o));break;case y.STRUCK_BLAST:case y.HEROGROUPATTACK:case y.REBOUND:if(f){if(1==o.type&&71!=f.wAppr&&0!=f.wAppr&&37!=f.wAppr&&253!=f.wAppr&&260!=f.wAppr&&261!=f.wAppr){p=10*f.wAppr+200+"-4.wav";this.soundReUseCheck(p)}else 0==f.btGender?T.playMusicFormat(m.s_struck_m):T.playMusicFormat(m.s_struck_w);if(e.ident==y.STRUCK_BLAST){var C=r(20,-20);v.playframe(!1,o.node,"Animation/struck/",0,5,80,!1,!0,C)}}break;case y.DEATH:case y.NOWDEATH:1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matDie),o.is_die=!0,o.data.record==m.lockingID&&T.delhalo(m.lockingID);u=S._LOBYTE(e.series);if(o.is_born=!1,l=3==o.type?14:6,0==o.cur_state&&null==o.cur_dir)o.changestate(e,l,u,!1,null,null,1);else if(o.changestate(e,l,u,!1,this.str_dieeff,!0),f)if(1==o.type&&71!=f.wAppr&&0!=f.wAppr&&253!=f.wAppr&&260!=f.wAppr&&261!=f.wAppr){p=10*f.wAppr+200+"-5.wav";this.soundReUseCheck(p)}else null!=f.btGender&&(0==f.btGender?T.playMusicFormat(m.s_role_die_m):T.playMusicFormat(m.s_role_die_w));900==f.wAppr&&99==f.wRaceImg&&T.applyDoorState(o.grid.x,o.grid.y,m.dsBroken);break;case y.FEATURECHANGED:case y.SM_FEATURECHANGED_NEW:if(1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matStand),o.data&&o.data.fea.buffer.toString()!=e.fea.buffer.toString()){var M=1!=o.cur_state?o.cur_state:null;o.updateskin(e,null,M)}break;case y.DIGUP:1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matDefAttack),o.ddl_state=e.state;u=S._LOBYTE(e.series);if(e&&e.fea)33==(D=b.THumFeature(e.fea.buffer)).wRace?(o.changestate(e,2,0,!1),o.node.active=!0):(o.reverseani=!1,o.changestate(e,7,u,!1),o.node.active=!0,o.is_born=!0);900==f.wAppr&&99==f.wRaceImg&&(T.applyDoorState(o.grid.x,o.grid.y,m.dsOpen),o.obj_frames=[]);break;case y.DIGDOWN:var D;if(e&&e.fea)if(33==(D=b.THumFeature(e.fea.buffer)).wRace)o.changestate(e,7,0,!1),this.scheduleOnce((function(){o.node.active=!1,o.data&&o.data.record&&this.delobject(o.data.record)}),1);else if(13==D.wRace){u=S._LOBYTE(e.series);o.reverseani=!0,o.changestate(e,7,u,!1),this.scheduleOnce((function(){o.node.active=!1,o.data&&o.data.record&&this.delobject(o.data.record)}),1)}else{u=S._LOBYTE(e.series);o.reverseani=!0,o.changestate(null,4,u,!1),o.is_born=!0}900==f.wAppr&&99==f.wRaceImg&&T.applyDoorState(o.grid.x,o.grid.y,m.dsClose);break;case y.BUTCH:case y.SITDOWN:u=S._LOBYTE(e.series);o.changestate(null,12,u,!1,this.str_stand);break;case y.SKELETON:1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matDefAttack),o.sp.getComponent(n).customMaterial=m.customMaterial,o.changestate(e,7,0,!1);break;case y.ALIVE:1==o.type&&156==f.wRaceImg&&this.setDiyMonState(H.matStoneRevive),o.is_die=!1,o.visibleObjectBlood(!0),o.Blood.AliveBlood(),o.changestate(e,7,0,!1),e.record==m.playerID&&g.raiseEvent("ROLE_ALIVE"),900==f.wAppr&&99==f.wRaceImg&&T.applyDoorState(o.grid.x,o.grid.y,m.dsClose);break;case y.SPELL:var R=e.series,O=e.magicid,B=new s(e.param,e.tag);if(61==R||62==R||64==R){var E=b.THumFeature(o.data.fea.buffer).btJob;61==R&&0==E?I.playself(611,O,o,B,e.record,t):61==R&&2==E?I.playself(61,O,o,B,e.record,t):62==R&&0==E?I.playself(621,O,o,B,e.record,t):62==R&&1==E?I.playself(62,O,o,B,e.record,t):64==R&&1==E?I.playself(641,O,o,B,e.record,t):64==R&&2==E&&I.playself(64,O,o,B,e.record,t)}else I.playself(R,O,o,B,e.record,t)}}}else{if((e.ident==y.DEATH||e.ident==y.SKELETON||e.ident==y.NOWDEATH)&&m.GlobalCfglist.clear)return;this.newobject(e)}},i.targetMoveHandle=function(e,t){if(3==t.type){var a=this.findobject(m.playerID);if(!a||!a.grid)return;if(e.record==m.attackerID){if(m.disAfterTargetMoved=Math.floor(s.distance(a.grid,d(e.param,e.tag))),m.disAfterTargetMoved<2)return void(m.disAfterTargetMoved=0);0!=a.target_pos.x&&0!=a.target_pos.y&&(a.is_moveing=!0,m.chaseing=!0,m.firstUpdatePath||(m.firstUpdatePath=!0))}else m.attackerID||(m.disAfterTargetMoved=Math.floor(s.distance(t.grid,a.grid)),m.otherPlayerCatch=!0,0!=t.target_pos.x&&0!=t.target_pos.y&&(t.is_moveing=!0))}},i.drawCurSelfSkin=function(e){this.drawPart(e,e.sp),this.drawPart(e,e.obj_hair),this.drawPart(e,e.obj_weapon)},i.drawPart=function(e,t){var a=t.getComponent(n).spriteFrame;if(null!=a){var i=e.node.position,s=t.position,r=new f;r.addComponent(n).spriteFrame=a.clone(),r.getComponent(n).sizeMode=n.SizeMode.TRIMMED,r.addComponent(u).opacity=128,t==e.obj_hair?r.setPosition(i.x+s.x,i.y+s.y):r.setPosition(s.x,s.y),r.layer=m.canvas_19,T.getMapLayerScript().roleImgLayer.addChild(r),this.ghostCount++;var o=this;p(r.getComponent(u)).to(1,{opacity:0},{easing:"cubicInOut"}).call((function(){r.destroy(),o.ghostCount--,0==o.ghostCount&&(m.g_furious_collision_ing=!1,m.g_furious_collision_end=!0,O.move_call_result=!0)})).start()}},i.resetCollisionValueOnStanding=function(e,t){if(this.collisionPoint&&e==this.collisionPoint.objID&&t){this.collisionCount=0,this.collisionPoint=null;var a=this.findobject(e);a&&(a.is_springback=!1),m.g_furious_collision_ing=!1,m.g_furious_collision_end=!0,O.move_call_result=!0}},i.setDiyMonState=function(e){m.g_diyMonState=e},i.resetData=function(){this.object_list=[],this.object_node_list=[],this.task_list=[],this.move_time=0,this.obj_load_res=[],this.lock_list=[],this.lock_idx=0,this.resloadlist=[],this.resclearlist=[],this.task_list=[],this.play_count=0,this.shy_a=new s,this.shy_b=new s,this.fps_time=0,this.fps_list=[],this.collisionCount=0,this.collisionPoint={objID:0,x:0,y:0},this.use_num=0,this.move_call_result=null,this.isStartHB=!1},i.soundReUseCheck=function(e){for(var t=0;t<m.soundReUse.length;t++)if(-1!=m.soundReUse[t].type.indexOf(e))return void T.playMusicFormat("wav/"+e);this.sound_json.length||(this.sound_json=JSON.parse(_.localStorage.getItem("sound_json")));for(var a=0;a<this.sound_json.length;a++)if(this.sound_json[a].type&&-1!=this.sound_json[a].type.indexOf(e)){T.playMusicFormat("wav/"+e),m.soundReUse.push(this.sound_json[a]);break}},a}(h))._ins=void 0,N=P))||N));e("ObjectManage",F.ins());a._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectRole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./MsgSM.ts","./Struct.ts","./AnimationModule.ts","./AutoHookModule.ts","./MoveModule.ts","./ResourcesMgr.ts","./GameMessage.ts","./GameMission.ts","./GameUtil.ts","./CBlood.ts","./ChatBox.ts","./ComAnim.ts","./Name.ts","./objectcontrol.ts","./objectmanage.ts","./Title.ts"],(function(t){"use strict";var e,i,s,a,r,h,n,o,l,f,_,u,c,d,p,b,m,g,y,v,k,w,j,C,S,x,P,M,I,H,E,A,B,T,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){h=t.cclegacy,n=t._decorator,o=t.Node,l=t.Sprite,f=t.Vec2,_=t.Label,u=t.v2,c=t.color,d=t.UIOpacity,p=t.Component},function(t){b=t.EventMgr},function(t){m=t.Config},function(t){g=t.OBJECT_Type,y=t.DIR_Type},function(t){v=t.default},function(t){k=t.default},function(t){w=t.Struct_ins},function(t){j=t.Animationmodule},function(t){C=t.AutoHookmodule},function(t){S=t.Movemodule},function(t){x=t.resourcesMgr},function(t){P=t.GameMessage},function(t){M=t.gameMission},function(t){I=t.GameUtil},function(t){H=t.CBlood},null,function(t){E=t.ComAnim},function(t){A=t.Name},function(t){B=t.Objectcontrol},function(t){T=t.ObjectManage},function(t){D=t.Title}],execute:function(){var L,O,R,G,N,F,W,z,J,V,Y,U,Z,K,X,q,Q,$,tt,et,it,st,at,rt,ht,nt,ot,lt,ft,_t,ut,ct,dt,pt,bt,mt,gt,yt,vt;h._RF.push({},"ab89bbVMyFLHKhW3Z+7R9/k","ObjectRole",void 0);var kt=n.ccclass,wt=n.property;t("ObjectRole",(L=kt("ObjectRole"),O=wt(o),R=wt(o),G=wt(o),N=wt(o),F=wt(o),W=wt(o),z=wt(o),J=wt(o),V=wt(o),Y=wt(o),U=wt(o),Z=wt(o),K=wt(o),X=wt(o),q=wt(o),Q=wt(o),$=wt(o),tt=wt(o),L((st=e((it=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),h=0;h<i;h++)r[h]=arguments[h];return e=t.call.apply(t,[this].concat(r))||this,s(e,"sp",st,a(e)),s(e,"dobule_sp",at,a(e)),s(e,"dobule_sp2",rt,a(e)),s(e,"obj_hair",ht,a(e)),s(e,"obj_wing",nt,a(e)),s(e,"obj_hores",ot,a(e)),s(e,"obj_weapon",lt,a(e)),s(e,"obj_wapeff",ft,a(e)),s(e,"obj_shield",_t,a(e)),s(e,"obj_shdeff",ut,a(e)),s(e,"lab_name",ct,a(e)),s(e,"txt_Img",dt,a(e)),s(e,"obj_blood",pt,a(e)),s(e,"stalls",bt,a(e)),s(e,"stallstxt",mt,a(e)),s(e,"obj_title",gt,a(e)),s(e,"obj_chatBox",yt,a(e)),s(e,"obj_minimap_mark",vt,a(e)),e.npcClickAreaData=[],e.m_Abil=null,e.type=0,e.data=null,e.cur_frames=[],e.cur_frame_index=0,e.frame_sprits=[],e.click_sp=null,e.bind_list=[],e.is_loop=!1,e.call_str="",e.cur_state=0,e.cur_dis=null,e.skin_feature=null,e.nameString="",e.is_die=!1,e.is_born=!1,e.born_count=0,e.is_halo=!1,e.grid=null,e.chat_txt=null,e.havePoison=0,e.reverseani=!1,e.digfragment=!1,e.use_hores=!1,e.moveshift=null,e.msg_list=[],e.play_time=0,e.target_pos=null,e.is_backstep=!1,e.is_springback=!1,e.next_name=null,e.hair_frames=[],e.weapon_frames=[],e.shield_frames=[],e.hores_frames=[],e.wing_frames=[],e.wapeff_frames=[],e.shdeff_frames=[],e.subsp_frames=[],e.subsp2_frames=[],e.sub_file=null,e.sub2_file=null,e.action_over=!0,e.ddl_state=0,e.paralysis_state=!1,e.fl_name=null,e.off=null,e.off_dobuleSp=null,e.off_dobuleSp2=null,e.off_weapon=null,e.off_shield=null,e.off_horse=null,e.off_273=null,e.buff_list=[],e.isNewBuff=!0,e.guildName="",e.dbName="",e.is_use_offest=!0,e.BindGold=0,e.BindGameGold=0,e.cur_dir=null,e.sub_index=0,e.sub2_index=0,e.res_lock=!1,e.is_moveing=!1,e.super_time=!1,e.res_config_list=[],e.trans_count=0,e.play_count=0,e.die_msg=0,e.movesd=0,e.attsp=0,e.skillsp=0,e.realSpeed=0,e.is_call=!0,e.lastMoveTarget=null,e.invisable=!1,e.lastBtHair=void 0,e.lastState=0,e.OwnerID=0,e.npcClickSp=null,e.obj_frames=[],e.ftime=0,e.txt_name=null,e.Blood=null,e.weapon_file=null,e.wapeff_file=null,e.file=null,e.shield_file=null,e.shdeff_file=null,e.wing_file=null,e.hair_file=null,e.hores_file=null,e.title=null,e.yf_xid=null,e.level=null,e.isPreload=!1,e.currMagicId=0,e.boisZmu=!1,e.boisZmuCount=-1,e.isFirstCreate=!0,e.useDefaultRes=!0,e.m_nMoveSpeed=0,e.m_nAttackSpeed=0,e.m_nSpellSpeed=0,e.m_wHeroM2DressEffect=0,e.m_boHeroM2DressNoBlend=0,e.m_ActorEffects=[],e.m_ActorEffects_Bottom=[],e.m_nState=0,e.m_AbilNG=null,e.m_boTrainingNG=!1,e}i(e,t);var h=e.prototype;return h.start=function(){I.loadResLocal("gameres/png/00065.png",this.stalls.getComponent(l)),I.loadResLocal("gameres/png/chat_spr.png",this.obj_chatBox.getComponent(l))},h.update=function(t){},h.addNpcClickAreaSprite=function(){this.npcClickSp=new l,this.node.addChild(this.npcClickSp)},h.releaseAttr=function(){this.data&&(this.data=null),this.chat_txt&&(this.chat_txt=null),this.m_Abil=null,this.cur_frames=null,this.frame_sprits=null,this.bind_list=null,this.skin_feature=null,this.npcClickAreaData=[],this.hair_frames=null,this.weapon_frames=null,this.shield_frames=null,this.hores_frames=null,this.wing_frames=null,this.wapeff_frames=null,this.shdeff_frames=null,this.subsp_frames=null,this.subsp2_frames=null,this.buff_list=null,this.res_config_list=null},h.init=function(){this.npcClickAreaData=[],this.m_Abil={},this.type=0,this.data=null,this.cur_frames=[],this.cur_frame_index=0,this.frame_sprits=[],this.click_sp=null,this.bind_list=[],this.is_loop=!1,this.call_str="",this.cur_state=0,this.cur_dis=null,this.skin_feature=null,this.nameString="",this.is_die=!1,this.is_born=!1,this.born_count=0,this.is_halo=!1,this.grid=new f,this.chat_txt=null,this.havePoison=0,this.reverseani=!1,this.digfragment=!1,this.use_hores=!1,this.moveshift=new f(48,32),this.msg_list=[],this.play_time=0,this.target_pos=new f,this.is_backstep=!1,this.is_springback=!1,this.next_name=null,this.hair_frames=[],this.weapon_frames=[],this.shield_frames=[],this.hores_frames=[],this.wing_frames=[],this.wapeff_frames=[],this.shdeff_frames=[],this.subsp_frames=[],this.subsp2_frames=[],this.sub_file=null,this.sub2_file=null,this.action_over=!0,this.ddl_state=0,this.paralysis_state=!1,this.fl_name=null,this.off=new f,this.off_dobuleSp=new f,this.off_dobuleSp2=new f,this.off_weapon=new f,this.off_shield=new f,this.off_horse=new f,this.off_273=new f,this.buff_list=[],this.isNewBuff=!0,this.is_use_offest=!0,this.BindGold=0,this.BindGameGold=0,this.cur_dir=null,this.sub_index=0,this.sub2_index=0,this.res_lock=!1,this.is_moveing=!1,this.super_time=!1,this.res_config_list=[],this.trans_count=0,this.play_count=0,this.die_msg=0,this.movesd=0,this.attsp=0,this.skillsp=0,this.realSpeed=0,this.is_call=!0,this.lastMoveTarget=null,this.invisable=!1,this.lastBtHair,this.lastState=0,this.OwnerID=0},h.initdata=function(t,e){var i=this;if(this.init(),this.msg_list=[],this.type=e,this.data=t,this.obj_frames=[],this.ftime=0,this.skin_feature=3==e?w.THumFeature(t.fea.buffer):w.TMonFeature(t.fea.buffer),1==e||2==e||3==e?(this.grid.x=t.param,this.grid.y=t.tag,this.updatePos(48*t.param,32*-t.tag),this.initobjname(t.str),T.updateObjectHp(1,1,t.record)):(this.updatePos(0,0),this.node.setSiblingIndex(99998)),"　/255"==t.str);else if(""!=t.str){var s=this;x.resLoad("gameres/png/yingzi.png",(function(t){t&&i.sp&&i.sp.isValid&&(i.checkNpcDiy(i.skin_feature.wAppr)&&0==i.obj_frames.length?s.sp.getComponent(l).spriteFrame=null:s.sp.getComponent(l).spriteFrame=t)}))}this.type=e,this.sp.active=!0,this.dobule_sp.active=!1,this.dobule_sp2.active=!1,this.obj_minimap_mark.active=!0,this.obj_chatBox.active=!1,this.type==g.MONSTER?(this.obj_hores.active=!1,this.obj_hair.active=!1,this.obj_shield.active=!1,this.obj_shdeff.active=!1,this.obj_title.active=!1,this.obj_weapon.active=!1,this.obj_wapeff.active=!1,this.obj_wing.active=!1,this.txt_Img.active=!1,this.stalls.active=!1,this.stallstxt.active=!1,this.obj_blood.active=!0):this.type==g.NPC?(this.obj_hores.active=!1,this.obj_hair.active=!1,this.obj_shield.active=!1,this.obj_shdeff.active=!1,this.obj_title.active=!1,this.obj_weapon.active=!1,this.obj_wapeff.active=!1,this.obj_wing.active=!1,this.txt_Img.active=!1,this.stalls.active=!1,this.stallstxt.active=!1,this.obj_blood.active=!1,m.g_newTaskNpcIcon&&M.SetNewTaskNpcIcon(this,m.g_newTaskNpcIcon)):this.type==g.PLAYER&&(this.updateHidePlayer(!m.GlobalCfglist.hidePlayer),this.stalls.active=!1,this.stallstxt.active=!1,this.obj_blood.active=!0,this.obj_title.active=!0,I.getMapLayerScript().roleLabLayer.addChild(this.stallstxt)),I.getMapLayerScript().roleDoubleSpLayer.addChild(this.dobule_sp),I.getMapLayerScript().roleDoubleSpLayer2.addChild(this.dobule_sp2),I.getMapLayerScript().roleSpLayer.addChild(this.sp),I.getMapLayerScript().roleBloodLayer.addChild(this.obj_blood),I.getMapLayerScript().horseLayer.addChild(this.obj_hores),I.getMapLayerScript().roleMarkLayer.addChild(this.obj_minimap_mark),I.setNodeGray(this.node,!1),I.setNodeGray(this.dobule_sp,!1),I.setNodeGray(this.dobule_sp2,!1),I.setNodeGray(this.sp,!1),I.setNodeGray(this.obj_blood,!1),I.setNodeGray(this.obj_hores,!1),this.updatePartLayer(),this.updateAlpha(),1==e?I.loadResLocal("gameres/ui/minimap_red.png",this.obj_minimap_mark.getComponent(l)):2==e?I.loadResLocal("gameres/ui/minimap_green.png",this.obj_minimap_mark.getComponent(l)):3==e&&(t.record==m.playerID||I.loadResLocal("gameres/ui/minimap_yellow.png",this.obj_minimap_mark.getComponent(l)))},h.updatePartLayer=function(){this.cur_dir==y.UP||this.cur_dir==y.LEFT||this.cur_dir==y.LEFT_UP||this.cur_dir==y.LEFT_DOWN?this.isDiyMon?I.getMapLayerScript().weaponDownLayer.addChild(this.dobule_sp):(I.getMapLayerScript().weaponDownLayer.addChild(this.obj_weapon),I.getMapLayerScript().weaponUpLayer.addChild(this.obj_shield)):this.isDiyMon?I.getMapLayerScript().weaponUpLayer.addChild(this.dobule_sp):(I.getMapLayerScript().weaponUpLayer.addChild(this.obj_weapon),I.getMapLayerScript().weaponDownLayer.addChild(this.obj_shield))},h.initobjname=function(t){I.getMapLayerScript().roleLabLayer.addChild(this.lab_name),this.txt_name=this.lab_name.getComponent(A),this.txt_name.init(this,t),this.changename(t,null)},h.isMyRole=function(){return 0==m.playerID&&console.log(">>已强行离线"),this.data&&this.data.record==m.playerID},h.isMonster=function(){return this.type==g.MONSTER},h.changename=function(t,e){this.txt_name||(I.getMapLayerScript().roleLabLayer.addChild(this.lab_name),this.txt_name=this.lab_name.getComponent(A),this.txt_name.init(this,t)),this.txt_name.updateName(t,e,this)},h.showChatTxt=function(t){},h.addJobAndLevel=function(t){if(this.Blood){var e="",i=this.Blood.textBlood.getComponent(_).string,s=i.lastIndexOf("/");s>-1&&(e=i.substring(0,s)),this.Blood.textBlood.getComponent(_).string=this.Blood.addJobAndLevel(e,this.getJob(),t)}},h.updateObjectBlood=function(t,e,i,s,a,r){if(null==this.Blood||null==this.Blood?(this.Blood=this.obj_blood.getComponent(H),this.Blood.Init(t,e,i,s,a,r,this)):(this.isFirstCreate?(this.Blood.curBlood=this.Blood.maxBlood=1,this.Blood.setBloodString("")):this.Blood.SetCurBloodNum(e,s,a,t,i),this.data.record==m.lockingID&&b.raiseEvent("updateTargetHp",[e,t,r])),this.Blood.textBlood.getComponent(_).string=this.Blood.addJobAndLevel(this.Blood.textBlood.getComponent(_).string,this.getJob(),this.getLevel()),this.is_die)this.setObjectNameVisible(!1),this.Blood&&(this.Blood.node.active=!1,this.Blood.setBloodVisible(!1));else{if(this.Blood&&(this.Blood.node.active=m.G_SHOW_ROLE_HP,this.Blood.setBloodVisible(m.G_SHOW_ROLE_HP&&m.GlobalCfglist.showhp,this.isWuJiang())),this.type==g.MONSTER&&0==m.GlobalCfglist.nameshow1)return;this.setObjectNameVisible(m.G_SHOW_ROLE_HP)}},h.visibleObjectBlood=function(t){this.type!=g.NPC?this.Blood&&(this.is_die?(this.setObjectNameVisible(!1),this.Blood.node.active=!1,this.Blood.setBloodVisible(!1)):(this.Blood.node.active=m.G_SHOW_ROLE_HP,this.Blood.setBloodVisible(m.G_SHOW_ROLE_HP&&m.GlobalCfglist.showhp,this.isWuJiang()))):this.obj_blood.active=!1},h.setObjectNameVisible=function(t){this.txt_name&&(this.txt_name.node.active=t&&m.GlobalCfglist.nameshow3)},h.changeskin=function(t,e,i,s,a){if(t&&t.length>0){var r=t[this.cur_frame_index];r&&(a&&!this.is91to100Npc()&&(this.useDefaultRes||this.clearAllSprite()),this.createframeobj(r,e,i,s))}},h.is91to100Npc=function(){return this.type==g.NPC&&this.skin_feature&&50==this.skin_feature.wRaceImg&&this.skin_feature.wAppr>=91&&this.skin_feature.wAppr<=100},h.isWuJiang=function(){return this.type==g.PLAYER&&this.skin_feature&&220==this.skin_feature.wRace},h.updateselfskin=function(t){if(this.is_moveing&&t&&this.updateselfpos(),5==this.cur_dir||6==this.cur_dir||7==this.cur_dir||0==this.cur_dir?(this.weapon_frames&&this.weapon_frames.length>0?(this.changeskin(this.weapon_frames,this.weapon_file,5,this.sp,!0),this.changeskin(this.wapeff_frames,this.wapeff_file,8,this.sp,!1),this.changeskin(this.obj_frames,this.file,this.type,this.sp,!1)):this.changeskin(this.obj_frames,this.file,this.type,this.sp,!0),this.shield_frames&&this.shield_frames.length>0&&(this.changeskin(this.shield_frames,this.shield_file,11,this.sp,!1),this.changeskin(this.shdeff_frames,this.shdeff_file,12,this.sp,!1))):(this.shield_frames&&this.shield_frames.length>0?(this.changeskin(this.shield_frames,this.shield_file,11,this.sp,!0),this.changeskin(this.shdeff_frames,this.shdeff_file,12,this.sp,!1),this.changeskin(this.obj_frames,this.file,this.type,this.sp,!1)):this.changeskin(this.obj_frames,this.file,this.type,this.sp,!0),this.changeskin(this.weapon_frames,this.weapon_file,5,this.sp,!1),this.changeskin(this.wapeff_frames,this.wapeff_file,8,this.sp,!1)),this.changeskin(this.wing_frames,this.wing_file,7,this.sp,!1),this.changeskin(this.hair_frames,this.hair_file,4,this.sp,!1),this.changeskin(this.hores_frames,this.hores_file,6,this.sp,!1),this.dobuleSkinbymon(this.file,this.type),this.dobuleSkinbymon2(this.file,this.type),this.cur_frame_index++,this.isMyRole()&&(this.cur_frame_index>=this.obj_frames.length||1==this.cur_state||6==this.cur_state)){this.playorder(null);var e=!1;B.use_skill?e=B.useskill(m.activate_skilluse,m.activate_skilltype,m.activate_skillpos):(B.use_attack||m.chaseing||m.attackerID)&&(e=B.fight()),e||(m.moveing||null!=S.end_point?S.moveing(this.grid):m.autohookstate?C.autoflow():m.autopickstate&&(m.autopickstate=C.getMapItem(5,!1))),this.is_die||this.ddl_state||(this.action_over=!0)}this.updateframe(this.obj_frames),this.setPosOfObjectNameAndBlood(),this.updateAlpha()},h.setPosOfObjectNameAndBlood=function(){var t=this.node.position,e=this.use_hores?30:0;if(this.txt_name){var i=this.isWuJiang()?50:0;this.txt_name.setOffsetPos(t.x,t.y+i+e)}if(this.Blood&&this.Blood.setOffsetPos(t.x,t.y+e),this.title&&this.title.title_gp&&this.title.title_gp.setPosition(t.x,t.y+105),this.stallstxt&&this.stallstxt.setPosition(t.x,t.y+125),this.dobule_sp.active){i=this.obj_frames.length>0?25:0;this.isDiyMon&&(i=0),this.dobule_sp.setPosition(t.x+this.off_dobuleSp.x,t.y+this.off_dobuleSp.y+i)}if(this.dobule_sp2.active){i=this.obj_frames.length>0?25:0;this.isDiyMon&&(i=0),this.dobule_sp2.setPosition(t.x+this.off_dobuleSp2.x,t.y+this.off_dobuleSp2.y+i)}this.sp&&this.sp.setPosition(t.x+this.off.x,t.y+this.off.y),this.obj_hores&&this.obj_hores.setPosition(t.x+this.off_horse.x,t.y+this.off_horse.y),this.obj_weapon&&this.obj_weapon.setPosition(t.x+this.off_weapon.x,t.y+this.off_weapon.y),this.obj_shield&&this.obj_shield.setPosition(t.x+this.off_shield.x,t.y+this.off_shield.y),this.obj_blood&&this.obj_blood.active&&this.obj_blood.setPosition(t.x-16,t.y+73+e),this.obj_minimap_mark&&this.obj_minimap_mark&&this.obj_minimap_mark.setPosition(t.x,t.y);for(var s=0;s<this.m_ActorEffects_Bottom.length;s++){var a=this.m_ActorEffects_Bottom[s],r=a[0],h=a[1],n=a[2];r.node.active&&r.updatePos(h+t.x-25,-n+t.y+20)}},h.checkChase=function(t,e){return!!t&&(e==k.POWERHIT||e==k.LONGHIT||e==k.WIDEHIT||e==k.FIREHIT||e==k.HIT66||e==k.TWNHIT||e==k.SWORDHIT||e==k.HEAVYHIT||e==k.BACKSTEP||e==k.HIT_2||e==k.HIT_3||e==k.HIT_4||e==k.HIT_5||e==k.HIT60||e==k.HIT61||e==k.HIT62||e==k.CRSHIT||e==k.HIT43||e==k.HIT101||e==k.HIT102||e==k.HIT103||e==k.FLYAXE||e==k.SPELL||e==k.MAGICFIRE)},h.playorder=function(t){if(this.msg_list.length>0){var e=this.msg_list[0],i=this.msg_list[1],s=this.msg_list[2];e&&(e.msg.ident==k.HIT||this.checkChase(t,e.msg.ident))?(i&&s&&s.msg.ident==i.msg.ident&&this.msg_list.splice(2,1),i&&e.msg.ident==i.msg.ident&&this.msg_list.splice(1,1)):4!=this.cur_state&&this.msg_list.length>10&&6!=e.msg.ident?this.super_time=!0:this.super_time=!1;var a=this.msg_list[0];P.getInstance().onhandlmsg(a.msg,a.bodystr),this.msg_list.splice(0,1)}},h.getstep=function(){var t=0;return this.type==g.MONSTER?t=9==this.cur_state?2:1:this.type==g.PLAYER&&(2==this.cur_state||4==this.cur_state||15==this.cur_state?t=1:3==this.cur_state&&this.obj_hores&&this.obj_hores.active?t=3:3==this.cur_state&&(t=2)),t},h.updateselfpos=function(t){if(this.obj_frames.length>0&&this.cur_frame_index<this.obj_frames.length||t){var e=this.getstep();if(e>0){this.data.record==m.playerID&&(1==this.cur_frame_index?2==e?I.playMusicFormat(m.S_ROLE_WALK):I.playMusicFormat(m.S_ROLE_RUN):4==this.cur_frame_index&&(2==e?I.playMusicFormat(m.S_ROLE_WALK2):I.playMusicFormat(m.S_ROLE_RUN2)));var i=this.cur_dir;this.is_backstep&&(i=I.reverse8dis(this.cur_dir),this.cur_frame_index++);var s=this.cur_frame_index+1;if(!m.GlobalCfglist.smooth){var a=I.moveshift(i,e,s,this.obj_frames.length,this.grid.x,this.grid.y),r=I.movestep(i,this.grid,a,e);r.x&&this.updatePos(r.x,this.node.position.y),r.y&&this.updatePos(this.node.position.x,-r.y)}(s>this.obj_frames.length-1||t)&&(this.play_count=0,this.trans_count=0,this.action_over=!0,this.is_backstep=!1,m.use_move_start||(this.is_moveing=!1),this.is_springback=!1,this.grid.x=this.target_pos.x,this.grid.y=this.target_pos.y,this.data.record==m.playerID&&(I.getMapLayerScript().drawmap(this.grid.x,this.grid.y),m.autohookstate&&C.autoflow(),b.raiseEvent(v.UPDATEPOS)))}}},h.updatePos=function(t,e){900==this.skin_feature.wAppr&&99==this.skin_feature.wRaceImg?this.node.setPosition(t+20,e-50):this.node.setPosition(t,e)},h.createframeobj=function(t,e,i,s){var a=!1;e&&0==e.indexOf("graphics/")&&(a=!0);var r=I.getresfilename(this,i,e,a)+t;if((r=I.getImageSetNameByPath(r))&&""!=r){var h;h=r.replace(".plist","/"+t+".png");var n,o=x.getRes(r);if(o)if(this.useDefaultRes=!1,n=o.spriteFrames[t]){var l=n.rect,f=n.offset;273==this.skin_feature.wAppr&&("001200"==t&&(this.off_273.x=n.offset.x,this.off_273.y=n.offset.y),f=this.off_273);var _=u(-25+f.x+l.width/2,20-(f.y+l.height/2));this.getobjPlacements(t,h,e,i,s,n,r,_)}else this.specialHandleOfWall(r,s,i,e,t,h);else this.createDefaultFrameobj(e,i,s)}},h.createDefaultFrameobj=function(t,e,i){if(this.type==g.PLAYER&&this.useDefaultRes){var s=I.rulebydress(0,0,this.cur_state,this.cur_dir).frames[this.cur_frame_index],a="data/hum666/"+s;if((a=I.getImageSetNameByPath(a))&&""!=a){var r;r=a.replace(".plist","/"+s+".png"),m.openDefaultRes&&(a=a.replace("data/",m.defaultPath));var h,n=x.getRes(a);if(n)if(h=n.spriteFrames[s]){var o=h.rect,l=u(-25+h.offset.x+o.width/2,20-(h.offset.y+o.height/2));this.getobjPlacements(s,r,t,e,i,h,a,l)}else this.specialHandleOfWall(a,i,e,t,s,r)}}},h.specialHandleOfWall=function(t,e,i,s,a,r){var h=this;if(this.type==g.MONSTER){var n=w.TMonFeature(this.data.fea.buffer);(98==n.wRaceImg&&(901==n.wAppr||902==n.wAppr||903==n.wAppr)||99==n.wRaceImg&&900==n.wAppr)&&x.resLoad(t,(function(n,o){h.getobjPlacements(a,r,s,i,e,o,t)}))}},h.getobjPlacements=function(t,e,i,s,a,r,h,n){if(r&&n){var o,f=this.node.position;if((1==s||2==s||3==s)&&a&&a.active)this.fl_name=e,this.off=n,a.getComponent(l).spriteFrame=r,a.setPosition(f.x+n.x,f.y+n.y),o=a;else if(13==s&&this.dobule_sp&&this.dobule_sp.active){this.off_dobuleSp=n,this.dobule_sp.getComponent(l).spriteFrame=r;var _=this.obj_frames.length>0?25:0;this.isDiyMon&&(_=0,this.updatePartLayer()),this.dobule_sp.setPosition(f.x+n.x,f.y+n.y+_),o=this.dobule_sp}else if(14==s&&this.dobule_sp2&&this.dobule_sp2.active){this.off_dobuleSp2=n,this.dobule_sp2.getComponent(l).spriteFrame=r;_=this.obj_frames.length>0?25:0;this.isDiyMon&&(_=0),this.dobule_sp2.setPosition(f.x+n.x,f.y+n.y+_),o=this.dobule_sp2}else 4==s&&this.obj_hair&&this.obj_hair.active?(this.obj_hair.getComponent(l).spriteFrame=r,this.obj_hair.setPosition(n.x,n.y),this.obj_hair.setSiblingIndex(a.getSiblingIndex()+1),o=this.obj_hair):5==s&&this.obj_weapon&&this.obj_weapon.active?(this.off_weapon=n,this.obj_weapon.getComponent(l).spriteFrame=r,this.obj_weapon.setPosition(f.x+n.x,f.y+n.y),this.updatePartLayer(),o=this.obj_weapon):6==s&&this.obj_hores&&this.obj_hores.active?(this.off_horse=n,this.obj_hores.getComponent(l).spriteFrame=r,this.obj_hores.setPosition(n.x,n.y),this.obj_hores.setSiblingIndex(a.getSiblingIndex()-1),o=this.obj_hores):7==s&&this.obj_wing&&this.obj_wing.active?(this.obj_wing.getComponent(l).spriteFrame=r,this.obj_wing.setPosition(n.x,n.y),this.obj_wing.setSiblingIndex(a.getSiblingIndex()+1),this.obj_wing.getComponent(l).customMaterial=m.customMaterial,o=this.obj_wing):8==s&&this.obj_wapeff&&this.obj_wapeff.active?(this.obj_wapeff.getComponent(l).spriteFrame=r,this.obj_wapeff.setPosition(n.x,n.y),this.obj_wapeff.setSiblingIndex(a.getSiblingIndex()+1),this.obj_wapeff.getComponent(l).customMaterial=m.customMaterial,o=this.obj_wapeff):11==s&&this.obj_shield&&this.obj_shield.active?(this.off_shield=n,this.obj_shield.getComponent(l).spriteFrame=r,this.obj_shield.setPosition(f.x+n.x,f.y+n.y),this.obj_shield.setSiblingIndex(a.getSiblingIndex()+1),this.updatePartLayer(),o=this.obj_shield):12==s&&this.obj_shdeff&&this.obj_shdeff.active&&(this.obj_shdeff.getComponent(l).spriteFrame=r,this.obj_shdeff.setPosition(n.x,n.y),this.obj_shdeff.setSiblingIndex(a.getSiblingIndex()+1),o=this.obj_shdeff);a.active&&this.type==g.MONSTER&&"mon4"==i&&(a.getComponent(l).customMaterial=null,(t=parseInt(t))>=2860&&t<=2869&&(a.getComponent(l).customMaterial=m.customMaterial)),(s<6||s>8)&&this.setblendmode(i,t,o),50==this.skin_feature.wRaceImg&&222==this.skin_feature.wAppr&&(a.getComponent(l).customMaterial=m.customMaterial)}},h.setblendmode=function(t,e,i){e=parseInt(e);var s=!1;if(this.skin_feature&&0!=this.skin_feature.wAppr&&50==this.skin_feature.wRaceImg){var a=this.skin_feature.wAppr;!this.sp.active||83!=a&&84!=a&&85!=a&&86!=a&&87!=a||(this.sp.getComponent(l).customMaterial=m.customMaterial,s=!0)}1==m.g_sprite_force_blend&&1==I.ifOpenBlend(t,e)&&(i&&(i.getComponent(l).customMaterial=m.customMaterial),s=!0),s||i&&(i.getComponent(l).customMaterial=null)},h.updateframe=function(t){var e=this;if(this.cur_frame_index>=t.length){if(this.is_born&&(this.is_born=!1,this.born_count=0,this.changestate(null,1,null,!0)),this.msg_list.length>0)return void this.playorder(null);this.is_loop&&(this.cur_frame_index=0),this.call_str?(b.raiseEvent(this.call_str,this),this.call_str=null):this.is_die||this.ddl_state||this.isMyRole()&&m.use_move_start||m.moveing||(this.type==g.MONSTER||this.type==g.NPC?this.changestate(null,1,this.cur_dir,!0):!this.noMove()&&this.checkSameDirForSelfObj()&&this.checkLimitDisForSelfObj()?setTimeout((function(){e.is_moveing||e.changestate(null,1,e.cur_dir,!0)}),40):this.changestate(null,1,this.cur_dir,!0))}},h.checkSameDirForSelfObj=function(){return!(!B||!B.self_obj)&&I.isSameDir(B.self_obj.cur_dir,this.cur_dir)},h.checkLimitDisForSelfObj=function(){return!(!B||!B.self_obj)&&f.distance(B.self_obj.grid,this.grid)>=2},h.noMove=function(){return 2!=this.cur_state&&3!=this.cur_state},h.checkObJIsMove=function(){return!0;//!this.lastTargetPos || this.lastTargetPos.x != this.target_pos.x || this.lastTargetPos.y != this.target_pos.y;
},h.changestate=function(t,e,i,s,a,r,h){if(null!=t&&(this.m_nState=t.state),null!=e&&null!=i&&(this.cur_frame_index=0),this.is_moveing=this.type==g.MONSTER&&(2==e||9==e)||this.type==g.PLAYER&&(2==e||3==e||4==e),e==this.cur_state&&i==this.cur_dir&&this.obj_frames.length>0||(this.is_born||this.ddl_state)&&!this.is_die){if(this.is_born&&this.born_count++,this.born_count<1)return;this.born_count=0}if(this.data&&T.resetCollisionValueOnStanding(this.data.record,1==e),this.is_moveing&&(this.trans_count=0),this.updateskin(t,i,e,s,a),this.resetTargetDisOnNoMoveState(),r&&(b.raiseEvent(a,this),this.call_str=null),h){var n=n=1==h?this.obj_frames[this.obj_frames.length-1]:this.obj_frames[0];this.obj_frames=[],this.obj_frames.push(n)}},h.resetTargetDisOnNoMoveState=function(){this.data&&m.otherPlayerCatch&&this.data.record==m.playerID&&2!=this.cur_state&&3!=this.cur_state&&(m.otherPlayerCatch=!1,m.disAfterTargetMoved=0),m.attackerID||(m.otherPlayerCatch=!1,m.disAfterTargetMoved=0),this.data&&this.data.record==m.attackerID&&2!=this.cur_state&&3!=this.cur_state&&(m.otherPlayerCatch=!1,m.disAfterTargetMoved=0)},h.syndata=function(t){for(var e in t)if(t.hasOwnProperty(e)){if("fea"==e&&0==t.fea.buffer.length)continue;this.data[e]=t[e]}},h.updateskin=function(t,e,i,s,a){if(null!=t&&this.syndata(t),null!=e&&(this.cur_dir=e),null!=i&&null!=i&&(this.cur_state!==i&&(this.lastState=this.cur_state),this.cur_state=i),null!=s&&(this.is_loop=s),this.call_str=a,null==this.cur_state&&(this.cur_state=1),null==this.cur_dir&&(this.cur_dir=0),this.data){switch(this.type){case g.MONSTER:case g.NPC:this.updateSkinbymon();break;case g.PLAYER:this.updateSkinbyplayer()}this.type==g.PLAYER&&(this.updateSkinByHair(),this.updateskinbyweapon(),this.updateskinbyshield(),this.updateskinbyhores(),this.updateskinbywing(),this.updateskinbywapeff(),this.updateskinbyshdeff(),this.updateskinIcon())}this.reverseani&&this.obj_frames.reverse()},h.updateskinIcon=function(){null==this.title&&(this.title=this.obj_title.getComponent(D),null==this.title.title_gp&&(this.title.title_gp=this.obj_title.getChildByName("title_gp")),I.getMapLayerScript().roleTitelLayer.addChild(this.title.title_gp)),this.skin_feature=w.THumFeature(this.data.fea.buffer),this.title.updateTitle(this)},h.getIconTitleZorder=function(){return this.type==g.MONSTER&&!m.g_customItemAttr.IconGifts[1]||this.type==g.NPC&&!m.g_customItemAttr.IconGifts[2]||this.type==g.PLAYER&&!m.g_customItemAttr.IconGifts[0]?4:0},h.updateskinbywing=function(){this.skin_feature=w.THumFeature(this.data.fea.buffer);var t=this.skin_feature.wDressEffType>0?this.skin_feature.wDressEffType:this.m_wHeroM2DressEffect;if(50!=t||!m.g_ClientConfig||m.GlobalCfglist.humsimple&&0!=m.g_ClientConfig.boClothesSimple||m.g_ClientConfig.boHideHumEffect)if(!(t>0&&m.g_ClientConfig)||m.GlobalCfglist.humsimple&&0!=m.g_ClientConfig.boClothesSimple||m.g_ClientConfig.boHideHumEffect)j.removeAniname("HumBodyEffect"),this.obj_wing.active=!1,this.wing_frames=[];else{var e=I.rulebywing(t,this.skin_feature.btGender,this.cur_state,this.cur_dir);this.obj_wing.active=!this.use_hores&&(!!this.isMe||!m.GlobalCfglist.hidePlayer),this.ftime=e.ftime,this.wing_file=e.file,this.wing_frames=e.frames;var i=this.cur_dir+"_"+t+"_"+this.skin_feature.btGender+"_"+this.cur_state+"_6";this.loadallatlas(i,this.wing_frames,this.wing_file),j.removeAniname("HumBodyEffect")}else I.humBodyEffect(this);if(!(e=I.DreesEffect(this.skin_feature.nDressEffectIndex,this.skin_feature.wDressEffectOffSet,this.skin_feature.btGender,this.cur_state,this.cur_dir))||this.obj_hores&&this.obj_hores.active||m.GlobalCfglist.humsimple&&(!m.g_ClientConfig||0!=m.g_ClientConfig.boClothesSimple))this.wing_frames.length>0&&(t<=0||m.g_ClientConfig&&m.GlobalCfglist.humsimple&&1==m.g_ClientConfig.boClothesSimple)&&(this.obj_wing.active=!1,this.wing_frames=[]);else{this.obj_wing.active=!this.use_hores&&(!!this.isMe||!m.GlobalCfglist.hidePlayer),this.ftime=e.ftime,this.wing_file=e.file,this.wing_frames=e.frames;i=this.cur_dir+"_"+this.skin_feature.nDressEffectIndex+"_"+this.skin_feature.btGender+"_"+this.cur_state+"_10_"+this.skin_feature.wDressEffectOffSet+"_"+this.cur_dir;this.loadallatlas(i,this.wing_frames,this.wing_file)}},h.updateskinbyshdeff=function(){if(this.skin_feature=w.THumFeature(this.data.fea.buffer),-9==this.skin_feature.nShieldEffectIndex||this.skin_feature.nShieldEffectIndex>0&&65535!=this.skin_feature.nShieldEffectIndex&&(!m.GlobalCfglist.weaponsimple||m.g_ClientConfig&&0==m.g_ClientConfig.boWeaponSimple)){var t=I.rulebyShieldEffect(this.skin_feature.nShieldEffectIndex,this.skin_feature.wShieldEffectOffSet,this.skin_feature.btGender,this.cur_state,this.cur_dir);if(t){this.obj_shdeff.active=!!this.isMe||!m.GlobalCfglist.hidePlayer,this.ftime=t.ftime,this.shdeff_file=t.file,this.shdeff_frames=t.frames;var e=this.cur_dir+"_"+this.skin_feature.nShieldEffectIndex+"_"+this.skin_feature.btGender+"_"+this.cur_state+"_12_"+this.skin_feature.wShieldEffectOffSet;this.loadallatlas(e,this.shdeff_frames,this.shdeff_file)}}else this.obj_shdeff.active=!1,this.shdeff_frames=[]},h.updateskinbywapeff=function(){if(this.skin_feature=w.THumFeature(this.data.fea.buffer),!(this.skin_feature.nWeaponEffectIndex>0&&65535!=this.skin_feature.nWeaponEffectIndex&&m.g_ClientConfig)||m.GlobalCfglist.weaponsimple&&0!=m.g_ClientConfig.boWeaponSimple||m.g_ClientConfig.boHideWeaponEffect||0!=this.skin_feature.btHorseType)this.obj_wapeff.active=!1,this.wapeff_frames=[];else{var t=I.rulebyweaponeeffect(this.skin_feature.nWeaponEffectIndex,this.skin_feature.wWeaponEffectOffSet,this.skin_feature.btGender,this.cur_state,this.cur_dir);if(t){this.obj_wapeff.active=!!this.isMe||!m.GlobalCfglist.hidePlayer,this.ftime=t.ftime,this.wapeff_file=t.file,this.wapeff_frames=t.frames;var e=this.cur_dir+"_"+this.skin_feature.wWeaponEffectOffSet+"_"+this.skin_feature.btGender+"_"+this.cur_state+"_8_"+this.skin_feature.nWeaponEffectIndex;this.loadallatlas(e,this.wapeff_frames,this.wapeff_file)}}},h.dobuleSkinbymon=function(t,e){if(!this.is_die&&this.skin_feature&&this.subsp_frames.length>0&&this.sub_file&&(this.isDiyNpc||this.isDiyMon)){this.dobule_sp.active=!0;var i=i=this.sub_index>=this.subsp_frames.length?this.subsp_frames[this.sub_index=0]:this.subsp_frames[this.sub_index++];this.sub_file&&(t=this.sub_file,e=13),this.createframeobj(i,t,e,this.dobule_sp)}},h.dobuleSkinbymon2=function(t,e){if(!this.is_die&&this.skin_feature&&this.subsp2_frames.length>0&&this.sub2_file&&(this.isDiyNpc||this.isDiyMon)){this.dobule_sp2.active=!0;var i=i=this.sub2_index>=this.subsp2_frames.length?this.subsp2_frames[this.sub2_index=0]:this.subsp2_frames[this.sub2_index++];this.sub2_file&&(t=this.sub2_file,e=14),this.createframeobj(i,t,e,this.dobule_sp2)}},h.checkNpcDiy=function(t){return t>=1e4&&t<=65535},h.updateSkinbymon=function(){this.skin_feature=w.TMonFeature(this.data.fea.buffer);var t=m.g_ClientConfig&&null==m.g_ClientConfig.boMonSimple?0:m.g_ClientConfig.boMonSimple;m.g_ClientConfig&&this.type==g.MONSTER&&1==t&&m.GlobalCfglist.monsimple&&98!=this.skin_feature.wRaceImg&&99!=this.skin_feature.wRaceImg&&900!=this.skin_feature.wAppr&&901!=this.skin_feature.wAppr&&902!=this.skin_feature.wAppr&&903!=this.skin_feature.wAppr&&(this.skin_feature.wAppr=m.g_ClientConfig.nMonAppr),null==this.cur_dir&&(this.cur_dir=0);var e=this.skin_feature.wRaceImg+"_"+this.skin_feature.wAppr+"_"+this.cur_state+"_"+this.cur_dir;if(this.is91to100Npc()&&(this.cur_state=1,this.cur_dir=0),null==this.res_config_list[e]){if(999!=this.skin_feature.wAppr){if(this.isDiyMon)for(var i=0;i<m.g_CustomMonsterConfig.length;i++){var s=m.g_CustomMonsterConfig[i];if(s&&s.wMonsterAppr==this.skin_feature.wAppr){var a=I.ruleByDiyMon(this,s);break}}else a=I.rulebymon(this.skin_feature.wRaceImg,this.skin_feature.wAppr,this.cur_state,this.cur_dir,this.data.series);a&&(a.frames.length>0||a.sub_frames.length>0)&&(this.file=a.file,this.sub_file=a.sub_file,this.sub2_file=a.sub2_file,this.obj_frames=a.frames,this.subsp_frames=a.sub_frames,this.subsp2_frames=a.sub2_frames,this.ftime=a.ftime,this.res_config_list[e]={file:a.file,sub_file:a.sub_file,sub2_file:a.sub2_file,frames:a.frames,sub_frames:a.sub_frames,sub2_frames:a.sub2_frames,ftime:a.ftime});var r=this.cur_dir+"_"+this.skin_feature.wRaceImg+"_"+this.skin_feature.wAppr+"_"+this.cur_state+"_1_"+this.data.series;this.loadallatlas(r,this.obj_frames,this.file);var h=this.cur_dir+"_"+this.skin_feature.wRaceImg+"_"+this.skin_feature.wAppr+"_"+this.cur_state+"_2_"+this.data.series;h&&this.sub_file&&this.loadallatlas(h,this.subsp_frames,this.sub_file);var n=this.cur_dir+"_"+this.skin_feature.wRaceImg+"_"+this.skin_feature.wAppr+"_"+this.cur_state+"_3_"+this.data.series;n&&this.sub2_file&&this.loadallatlas(n,this.subsp2_frames,this.sub2_file)}}else{var o=this.res_config_list[e];this.file=o.file,this.sub_file=o.sub_file,this.sub2_file=o.sub2_file,this.obj_frames=o.frames,this.subsp_frames=o.sub_frames,this.subsp2_frames=o.sub2_frames,this.ftime=o.ftime}},h.getJob=function(){return this.skin_feature?this.skin_feature.btJob:this.data&&this.data.fea&&this.data.fea.buffer?w.THumFeature(this.data.fea.buffer).btJob:null},h.getLevel=function(){if(this.m_Abil){if(!isNaN(this.m_Abil.Level))return this.m_Abil.Level;if(this.level)return this.level;if(this.data)return this.data.level}return null},h.updateSkinbyplayer=function(){this.skin_feature=w.THumFeature(this.data.fea.buffer);var t;if(m.g_ClientConfig&&m.GlobalCfglist.humsimple&&1==m.g_ClientConfig.boClothesSimple&&0!=this.skin_feature.wDress){var e=w.THumFeature(this.data.fea.buffer).btJob,i=this.skin_feature.btGender;switch(e){case 0:this.skin_feature.wDress=2*m.g_ClientConfig.nClothesZ+i;break;case 1:this.skin_feature.wDress=2*m.g_ClientConfig.nClothesF+i;break;case 2:this.skin_feature.wDress=2*m.g_ClientConfig.nClothesD+i}}var s=this.use_hores;if(this.skin_feature.btHorseType>0){t=I.rulebydressforhores(this.skin_feature.btHorseHum,this.skin_feature.btGender,this.skin_feature.btHorseHumExpand,this.cur_state,this.cur_dir),this.ftime=t.ftime,this.file=t.file,this.obj_frames=t.frames,this.use_hores=!0;var a=this.cur_dir+"_"+this.skin_feature.wDress+"_0_"+this.cur_state+"_3";this.loadallatlas(a,this.obj_frames,this.file)}else{t=I.rulebydress(this.skin_feature.wDress,0,this.cur_state,this.cur_dir),this.ftime=t.ftime,this.obj_frames=t.frames,this.use_hores=!1,this.file=t.file,this.yf_xid=t.xid;a=this.cur_dir+"_"+this.skin_feature.wDress+"_0_"+this.cur_state+"_2";if(this.loadallatlas(a,this.obj_frames,this.file),!this.isPreload){if(this.data.record==m.playerID)for(var r=2;r<=3;r++)for(var h=0;h<8;h++){var n=I.rulebydress(this.skin_feature.wDress,0,r,h);this.loadallatlas(h+"_"+this.skin_feature.wDress+"_0_"+r+"_2",n.frames,n.file)}this.isPreload=!0}if(6==this.cur_state)for(r=0;r<5;r++)this.obj_frames.push("")}this.use_hores!=s&&(this.updateActorEffectActive(),this.obj_title.setPosition(0,this.use_hores?30:0))},h.updateskinbyhores=function(){if(this.skin_feature=w.THumFeature(this.data.fea.buffer),this.skin_feature.btHorseType>0){var t=I.rulebyhores(this.skin_feature.btHorseType,0,this.cur_state,this.cur_dir);this.hores_file=t.file,this.hores_frames=t.frames,this.obj_hores.active=!!this.isMe||!m.GlobalCfglist.hidePlayer;var e=this.cur_dir+"_"+this.skin_feature.btHorseType+"_0_"+this.cur_state+"_4";this.loadallatlas(e,this.hores_frames,this.hores_file)}else this.hores_file=null,this.hores_frames=[],this.obj_hores&&(this.obj_hores.active=!1)},h.updateSkinByHair=function(){if(this.skin_feature=w.THumFeature(this.data.fea.buffer),1==this.skin_feature.boShowFashion)this.hair_frames=null,this.obj_hair.active=!1;else{this.obj_hair.active=!!this.isMe||!m.GlobalCfglist.hidePlayer;var t=this.use_hores?this.skin_feature.btHorseHair:this.skin_feature.btHair,e=I.rulebyhair(t,this.skin_feature.btGender,this.skin_feature.btHorseType,this.cur_state,this.cur_dir);this.hair_frames=e.frames,this.hair_file=e.file;var i=this.cur_dir+"_"+this.skin_feature.btGender+"_"+this.skin_feature.btHorseType+"_"+this.cur_state+"_9_"+this.skin_feature.btHair;this.loadallatlas(i,this.hair_frames,this.hair_file),this.updateNeiGuanHairOnChangeHairstyle(this.skin_feature.btGender,this.skin_feature.btHair),this.lastBtHair=this.skin_feature.btHair}},h.updateNeiGuanHairOnChangeHairstyle=function(t,e){this.hasChangeHairStyle(e)&&b.raiseEvent("updateNeiGuanHair",[e,t])},h.hasChangeHairStyle=function(t){return null!=this.lastBtHair&&this.lastBtHair!=t},h.updateskinbyshield=function(){if(this.skin_feature=w.THumFeature(this.data.fea.buffer),this.skin_feature.btHorseType>0||0==this.skin_feature.wShield)this.shield_frames=null,this.obj_shield.active=!1;else if(!m.GlobalCfglist.weaponsimple||m.g_ClientConfig&&0==m.g_ClientConfig.boWeaponSimple){this.obj_shield.active=!!this.isMe||!m.GlobalCfglist.hidePlayer;var t=I.rulebyShield(this.skin_feature.wShield,this.skin_feature.btGender,this.cur_state,this.cur_dir);this.shield_frames=t.frames,this.shield_file=t.file;var e=this.cur_dir+"_"+this.skin_feature.wShield+"_"+this.skin_feature.btGender+"_"+this.cur_state+"_11";this.loadallatlas(e,this.shield_frames,this.shield_file)}},h.updateskinbyweapon=function(){if(this.skin_feature=w.THumFeature(this.data.fea.buffer),m.g_ClientConfig&&1==m.g_ClientConfig.boWeaponSimple&&m.GlobalCfglist.weaponsimple&&0!=this.skin_feature.wWeapon){var t=w.THumFeature(this.data.fea.buffer).btJob;this.skin_feature.btGender;switch(t){case 0:this.skin_feature.wWeapon=2*m.g_ClientConfig.nWeaponZ;break;case 1:this.skin_feature.wWeapon=2*m.g_ClientConfig.nWeaponF;break;case 2:this.skin_feature.wWeapon=2*m.g_ClientConfig.nWeaponD}}if(this.skin_feature.btHorseType>0||0==this.skin_feature.wWeapon||1==this.skin_feature.wWeapon)this.weapon_frames=null,this.obj_weapon.active=!1;else{this.obj_weapon.active=!!this.isMe||!m.GlobalCfglist.hidePlayer;var e=I.rulebyWeapon(this.skin_feature.wWeapon,this.skin_feature.btGender,this.cur_state,this.cur_dir);this.weapon_frames=e.frames,this.weapon_file=e.file;var i=this.cur_dir+"_"+this.skin_feature.wWeapon+"_"+this.skin_feature.btGender+"_"+this.cur_state+"_7";this.loadallatlas(i,this.weapon_frames,this.weapon_file)}},h.banding=function(t){this.bind_list.push(t)},h.setbodycolor=function(t){switch(t){case 1:var e=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0];this.havePoison=1;break;case 2:e=[0,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,1,0];this.havePoison=2;break;case 3:return this.sp.getComponent(l).grayscale=!0,void(this.obj_hair.getComponent(l).grayscale=!0);case 4:e=[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0];break;case 5:e=[1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0];break;case 6:e=[0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0]}if(t>0){var i=255,s=255,a=255,r=255,h=i*e[0]+s*e[1]+a*e[2]+r*e[3]+e[4],n=i*e[5]+s*e[6]+a*e[7]+r*e[8]+e[9],o=i*e[10]+s*e[11]+a*e[12]+r*e[13]+e[14],f=i*e[15]+s*e[16]+a*e[17]+r*e[18]+e[19];this.sp.getComponent(l).color=c(h,n,o,f),this.obj_hair.getComponent(l).color=c(h,n,o,f)}else 0==t&&(this.havePoison=0,this.sp.getComponent(l).color=c(255,255,255,255),this.obj_hair.getComponent(l).color=c(255,255,255,255),this.sp.getComponent(l).grayscale=!1,this.obj_hair.getComponent(l).grayscale=!1)},h.stallssetting=function(t){var e=!!t;this.stalls.active=e,this.stallstxt.active=e,this.data.record==m.playerID&&(m.Actionlock=e,m.player_stalls=e)},h.stallsname=function(t){this.stallstxt.getComponent(_).string=t},h.loadallatlas=function(t,e,i){if(null==T.resloadlist[t]){for(var s=0;s<e.length;s++){var a="data/"+i+"/"+e[s];i&&0==i.indexOf("graphics/")&&(a=i+"/"+e[s]);var r=I.getImageSetNameByPath(a);r&&(null==T.resclearlist[r]&&(this.isMyRole()||(T.resclearlist[r]=r),x.resLoad(r,(function(t){}))))}T.resloadlist[t]=t}},h.setInvisable=function(t){this.invisable!=t&&(this.invisable=t)},h.updateAlpha=function(){var t=2==I.getMapLayerScript().getFlagByGridPos(this.grid);this.node.getComponent(d).opacity=t||this.invisable?178.5:255},h.playSelfEffectCustom=function(t,e,i,s,a){var r="data/"+m.g_pak_list[t]+"/",h=e,n=h+i-1,o=s;j.playframe(a,this.node,r,h,n,o,!1,!0)},h.removeFromParent=function(){this.lab_name&&this.lab_name.setParent(null),this.Blood&&this.Blood.textBlood&&this.Blood.textBlood.setParent(null),this.stallstxt&&this.stallstxt.setParent(null),this.title&&this.title.title_gp&&this.title.title_gp.setParent(null),this.sp&&this.sp.setParent(null),this.dobule_sp&&this.dobule_sp.setParent(null),this.dobule_sp2&&this.dobule_sp2.setParent(null),this.obj_blood&&this.obj_blood.setParent(null),this.obj_hores&&this.obj_hores.setParent(null),this.obj_weapon&&this.obj_weapon.setParent(null),this.obj_minimap_mark&&this.obj_minimap_mark.setParent(null)},h.updateHidePlayer=function(t){this.data.record!=m.playerID&&(this.updateHidePart(this.sp,t),this.updateHidePart(this.dobule_sp,t),this.updateHidePart(this.dobule_sp2,t),this.updateHidePart(this.obj_hair,t),this.updateHidePart(this.obj_weapon,t),this.updateHidePart(this.obj_wapeff,t),this.updateHidePart(this.obj_shield,t),this.updateHidePart(this.obj_shdeff,t),this.updateHidePart(this.obj_hores,t),this.updateHidePart(this.obj_wing,t))},h.updateHidePart=function(t,e){t&&(t.active=e)},h.clearAllSprite=function(){this.clearSprite(this.sp),this.clearSprite(this.dobule_sp),this.clearSprite(this.dobule_sp2),this.clearSprite(this.obj_hair),this.clearSprite(this.obj_weapon),this.clearSprite(this.obj_wapeff),this.clearSprite(this.obj_shield),this.clearSprite(this.obj_shdeff),this.clearSprite(this.obj_hores),this.clearSprite(this.obj_wing)},h.clearSprite=function(t){t&&(t.getComponent(l).spriteFrame=null)},h.clearOnDie=function(){this.node.active=!1,this.sp.active=!1,this.dobule_sp.active=!1,this.dobule_sp2.active=!1,this.obj_minimap_mark.active=!1,this.obj_weapon.active=!1},h.updateActorEffectActive=function(){for(var t=0;t<this.m_ActorEffects.length;t++){var e,i=this.m_ActorEffects[t],s=i.nEffectFileIndex+"_"+i.nOffsetX+"_"+i.nOffsetY+"_"+i.nEffectImageOffSet+"_"+i.wEffectImageCount+"_"+i.wEffectFrameTime+"_"+this.data.record;e=1==i.btDrawOrder?I.getMapLayerScript().effectDownLayer:this.node;var a=j.getAni(e,s);null!=a&&(a.node.active=!this.use_hores)}},h.removeActorEffect=function(){for(var t=this.m_ActorEffects.length-1;t>=0;t--){var e=this.m_ActorEffects[t],i=e.nEffectFileIndex+"_"+e.nOffsetX+"_"+e.nOffsetY+"_"+e.nEffectImageOffSet+"_"+e.wEffectImageCount+"_"+e.wEffectFrameTime+"_"+this.data.record;j.removeAniname(i),this.m_ActorEffects.splice(t,1)}},h.removeSelf=function(t){this.is_halo&&I.delhalo(m.lockingID),j.removeAniname("HumBodyEffect"),this.data&&D.deleteTitleAnim(this.data.record),this.node&&this.node.getComponentsInChildren(E).filter((function(t){j.removeAniname(t.name)})),this.msg_list=[],this.m_wHeroM2DressEffect=0,this.m_boHeroM2DressNoBlend=0,this.removeActorEffect(),this.removeFromParent(),this.clearAllSprite(),this.node&&(t?this.node.destroy():(this.node.active=!1,this.node.inactiveTime=Date.now()))},r(e,[{key:"isDiyNpc",get:function(){return this.type==g.NPC&&50==this.skin_feature.wRaceImg&&this.checkNpcDiy(this.skin_feature.wAppr)}},{key:"isDiyMon",get:function(){return this.type==g.MONSTER&&156==this.skin_feature.wRaceImg}},{key:"isMe",get:function(){return this.data&&this.data.record==m.playerID}},{key:"isBB",get:function(){return this.skin_feature&&this.skin_feature.HumBBType>0}},{key:"bbType",get:function(){return this.skin_feature&&this.skin_feature.HumBBType}}]),e}(p)).prototype,"sp",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(it.prototype,"dobule_sp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(it.prototype,"dobule_sp2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(it.prototype,"obj_hair",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(it.prototype,"obj_wing",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(it.prototype,"obj_hores",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(it.prototype,"obj_weapon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(it.prototype,"obj_wapeff",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(it.prototype,"obj_shield",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(it.prototype,"obj_shdeff",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(it.prototype,"lab_name",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(it.prototype,"txt_Img",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(it.prototype,"obj_blood",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(it.prototype,"stalls",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(it.prototype,"stallstxt",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(it.prototype,"obj_title",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(it.prototype,"obj_chatBox",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(it.prototype,"obj_minimap_mark",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=it))||et));h._RF.pop()}}}));

System.register("chunks:///_virtual/ObjType.ts",["cc","./GameDefine.ts","./GameUtil.ts"],(function(o){"use strict";var t,e,i,s;return{setters:[function(o){t=o.cclegacy},function(o){e=o.BUFF_TYPE,i=o.CUSTOM_BUFF_TYPE},function(o){s=o.GameUtil}],execute:function(){t._RF.push({},"6c4b5zMGuNC4p061+RhSXnF","ObjType",void 0);o("TClientMagic",(function(o){this.Key=void 0,this.Level=void 0,this.NewLevel=void 0,this.CurTrain=void 0,this.Def=void 0,this.dwInterval=void 0,this.dwRealInterval=void 0,this.dwLastUseTick=void 0;var t={i:0};this.Key=s.readBuff(o,t,e.AnsiChar),this.Level=s.readBuff(o,t,e.Byte),this.NewLevel=s.readBuff(o,t,e.Byte),this.CurTrain=s.readBuff(o,t,e.Integer),this.Def=new a(o,t),this.dwInterval=s.readBuff(o,t,e.LongWord),this.dwRealInterval=s.readBuff(o,t,e.LongWord),this.dwLastUseTick=s.readBuff(o,t,e.LongWord)}));var a=o("TMagicAttr",(function(o,t){this.MagicAttr=void 0,this.wMagicId=void 0,this.sMagicName=void 0,this.btEffectType=void 0,this.btEffect=void 0,this.wSpell=void 0,this.MaxTrain=[],this.btTrainLv=void 0,this.dwMagicDelayTime=void 0,this.wDefSpell=void 0,this.CanUpgrade=void 0,this.MaxUpgradeLevel=void 0,this.MagicAttr=s.readBuff(o,t,e.Byte),this.wMagicId=s.readBuff(o,t,e.Word),this.sMagicName=s.readConstomLength(o,t,i.ITEM_NAME_LEN),this.btEffectType=s.readBuff(o,t,e.Byte),this.btEffect=s.readBuff(o,t,e.Byte),this.wSpell=s.readBuff(o,t,e.Word);for(var a=0;a<16;a++){var h=s.readBuff(o,t,e.Integer);this.MaxTrain.push(h)}this.btTrainLv=s.readBuff(o,t,e.Byte),this.dwMagicDelayTime=s.readBuff(o,t,e.LongWord),this.wDefSpell=s.readBuff(o,t,e.Word),this.CanUpgrade=s.readBuff(o,t,e.Integer),this.MaxUpgradeLevel=s.readBuff(o,t,e.Integer)}));o("TClientConfig",(function(o){this.btConfigDlgType=void 0,this.boParalyCanRun=void 0,this.boParalyCanWalk=void 0,this.boParalyCanHit=void 0,this.boParalyCanSpell=void 0,this.boSkill43LockParaly=void 0,this.btDieColor=void 0,this.nMagicItemRate=void 0,this.boStartGameAuxiliary=void 0,this.boCanOpenGameConfigDlg=void 0,this.boNotCanUseClientConfig=void 0,this.boGreenHintNewStyle=void 0,this.boItemNewAbilAllowUse=void 0,this.nMoveSpeed=void 0,this.nAttackSpeed=void 0,this.nSpellSpeed=void 0,this.DActionLogButton=void 0,this.DBotMissionButton=void 0,this.DBotFriendButton=void 0,this.DControlHelpButton=void 0,this.DBotRankButton=void 0,this.DBotWhisperButton=void 0,this.DOpenShopButton=void 0,this.DBotUserShopButton=void 0,this.DWebButton=void 0,this.DOpenHeroButton=void 0,this.DBotChallengeButton=void 0,this.boShowGlory=void 0,this.boShowHorseButton=void 0,this.boShowHintWindowFrame=void 0,this.boShowHintLines=void 0,this.btHintWindowbackgroundColor=void 0,this.btHintWindowbackgroundAlpha=void 0,this.HintWindowBorderWidth={Left:null,Top:null,Right:null,Bottom:null},this.sShowHintFontName=void 0,this.btShowHintNameFontSize=void 0,this.btShowHintNameFontBold=void 0,this.btShowHintNameFontStroke=void 0,this.btShowHintOtherFontSize=void 0,this.btShowHintOtherFontBold=void 0,this.btShowHintOtherFontStroke=void 0,this.btSuspensionShowItem=void 0,this.boEscCloseNPC=void 0,this.boHintWithMouse=void 0,this.boNpcDlgHintWithMouse=void 0,this.boStateWindowsType=void 0,this.boMoveItemShowID=void 0,this.boShowItemForm=void 0,this.boShowItemSellPrice=void 0,this.boShowInsuranceInfo=void 0,this.btShowItemFormColor=void 0,this.btShowItemSellPriceColor=void 0,this.btShowInsuranceInfoColor=void 0,this.boShowItemFromFields=[],this.boShowHPLabel=void 0,this.boShowNumberLable=void 0,this.boShowJobAndLevel=void 0,this.boFilterExp=void 0,this.boShowGreenHint=void 0,this.boShowUserName=void 0,this.boOnlyShowCharName=void 0,this.boShowMoveLable=void 0,this.boAutoPickUpItem=void 0,this.boNoCaton=void 0,this.boDisableSelfStruck=void 0,this.boSpeedSlow=void 0,this.boMagicLock=void 0,this.boPickupAll=void 0,this.boAutoOrderItem=void 0,this.boAutoCloseGroup=void 0,this.boDuraWarning=void 0,this.boNotNeedShift=void 0,this.boHideGhost=void 0,this.boHideHumEffect=void 0,this.boHideWeaponEffect=void 0,this.boShowMapDesc=void 0,this.boShowHighlightHPLabel=void 0,this.boAutoHideMode=void 0,this.boSmart113Hit=void 0,this.boHumAutoShield=void 0,this.boHumStruckShield=void 0,this.boSmartLongHit=void 0,this.boSmartPosLongHit=void 0,this.boSmartWalkLongHit=void 0,this.boSmartWideHit=void 0,this.boSmartFireHit=void 0,this.boSmartSwordHit=void 0,this.boSmartCrsHit=void 0,this.boSmartTwnHit=void 0,this.boBGMusic=void 0,this.boRepeatBGMusic=void 0,this.boShowMonName=void 0,this.boShowNpcName=void 0,this.boShowNpcHPLabel=void 0,this.boShowNGLabel=void 0,this.boNotParaly=void 0,this.boHumManuallySnowWind=void 0,this.boHumManuallyFireBoom=void 0,this.boHumShootLightenLockTarget=void 0,this.boHumManuallyMeteorShower=void 0,this.boHumManuallyMove10Attack=void 0,this.boHumManuallyFire=void 0,this.boAutoCHangePoison=void 0,this.boSmart66Hit=void 0,this.boHeroAutoShield=void 0,this.boAssistantHeroAutoShield=void 0,this.boHeroDrug=void 0,this.boAssistantHeroDrug=void 0,this.boSceneShake=void 0,this.boAutoDownHorse=void 0,this.boDropOverLapItem=void 0,this.boGetExpMsgAddChatBoardMsg=void 0,this.boAddItemMsgXRightToLeft=void 0,this.boAddItemMsgYBottomToTop=void 0,this.boGetExpMsgXRightToLeft=void 0,this.boGetExpMsgYBottomToTop=void 0,this.boUpLevelMsgXRightToLeft=void 0,this.boUpLevelMsgYBottomToTop=void 0,this.boHeroAddItemMsgXRightToLeft=void 0,this.boHeroAddItemMsgYBottomToTop=void 0,this.boHeroGetExpMsgXRightToLeft=void 0,this.boHeroGetExpMsgYBottomToTop=void 0,this.boHeroUpLevelMsgXRightToLeft=void 0,this.boHeroUpLevelMsgYBottomToTop=void 0,this.boHideTabSheet2=void 0,this.boHeroHideTabSheet2=void 0,this.boHideTabSheet5=void 0,this.boHeroHideTabSheet5=void 0,this.boHideTabSheet7=void 0,this.NewAbilShowStateDlg=[],this.btAddItemMsgFColor=void 0,this.btAddItemMsgBColor=void 0,this.nAddItemMsgX=void 0,this.nAddItemMsgY=void 0,this.btGetExpMsgFColor=void 0,this.btGetExpMsgBColor=void 0,this.nGetExpMsgX=void 0,this.nGetExpMsgY=void 0,this.btUpLevelMsgFColor=void 0,this.btUpLevelMsgBColor=void 0,this.nUpLevelMsgX=void 0,this.nUpLevelMsgY=void 0,this.btHeroAddItemMsgFColor=void 0,this.btHeroAddItemMsgBColor=void 0,this.nHeroAddItemMsgX=void 0,this.nHeroAddItemMsgY=void 0,this.btHeroGetExpMsgFColor=void 0,this.btHeroGetExpMsgBColor=void 0,this.nHeroGetExpMsgX=void 0,this.nHeroGetExpMsgY=void 0,this.btHeroUpLevelMsgFColor=void 0,this.btHeroUpLevelMsgBColor=void 0,this.nHeroUpLevelMsgX=void 0,this.nHeroUpLevelMsgY=void 0,this.boShowBagGameGoldSeparator=void 0,this.boShowBagGameInfo=void 0,this.boUseFindPath=void 0,this.boUseOldSerialWindows=void 0,this.boUseHeroM2Shop=void 0,this.boMonStruckShowNumber=void 0,this.boHumStruckShowNumber=void 0,this.boCloseBookProtect=void 0,this.boCloseLogoutProtect=void 0,this.boBagRightkey=void 0,this.boUseSuperMedica=void 0,this.DMerchantDlgHelp=void 0,this.DBotFuncs=[],this.boViewFog=void 0,this.boCanStartRun=void 0,this.ClientConfigTabSheetVisibles=[],this.UseSuperMedicaItemNames=[],this.sHomePage=void 0,this.nHumNeedMagicItem=void 0,this.btSendWhisperMsgFColor=void 0,this.btSendWhisperMsgBColor=void 0,this.btRefreshGameGoldFColor=void 0,this.btRefreshGameGoldBColor=void 0,this.btShowWhisperFColor=void 0,this.btShowWhisperBColor=void 0,this.btCloseWhisperFColor=void 0,this.btCloseWhisperBColor=void 0,this.boNPCLabelFontStroke=void 0,this.btNPCLabelNormalColor=void 0,this.btNpcLabelMouseMoveColor=void 0,this.btNpcLabelMouseDownColor=void 0,this.boMinMapCloseRadar=void 0,this.btMinMapType=void 0,this.boMinMapUseFindPath=void 0,this.boLoginShowMinMap=void 0,this.dwMinMapFlagFlash=void 0,this.btMinMapColorSelf=void 0,this.btMinMapColorOther=void 0,this.btMinMapColorNPC=void 0,this.btMinMapColorGuard=void 0,this.btMinMapColorMonster=void 0,this.btMinMapColorHero=void 0,this.btMinMapColorBoss=void 0,this.boHideItemNameNum=void 0,this.boShopHeadPic=void 0,this.boSingleHint=void 0,this.boHorseRun3Grid=void 0,this.btPKLevel1NameColor=void 0,this.dwMoveFrameTime=void 0,this.dwHitFrameTime=void 0,this.dwMagicHitFrameTime=void 0,this.boGemUpgrade=void 0,this.boShopGuiCanMove=void 0,this.boNPCGuiCanMove=void 0,this.SkillContinueOrderBlastRates=[],this.SkillContinuousBlastHitRates=[],this.dwNpcButtonClickTime=void 0,this.dwNpcActorClickTime=void 0,this.dwPluginPickupTime=void 0,this.dwPluginMinEatItemTime=void 0,this.boShowDeputyHeroButton=void 0,this.boShowBagArrange=void 0,this.btPKLevel2NameColor=void 0,this.boShiftSwitch=void 0,this.dwIncSpeedDecInterval=void 0,this.dwIncMoveSpeedDecInterval=void 0,this.dwIncSpellSpeedDecInterval=void 0,this.boKeyTabGetActor=void 0,this.nTitleFileIndex=void 0,this.boHideTitle=void 0,this.boContinueButchItem=void 0,this.boAutoOpenSpell=void 0,this.boDisableChartMemoSize=void 0,this.boItemCompare=void 0,this.boVolume=void 0,this.boDisableDeal=void 0,this.boShowUpdateStatus=void 0,this.boSimpleShowActor=void 0,this.boSimpleShowHumanDress=void 0,this.boSimpleShowBB=void 0,this.boSmartCustomHit1=void 0,this.boSmartCustomHit2=void 0,this.boSmartCustomHit3=void 0,this.boSmartCustomHit4=void 0,this.boSmartCustomHit5=void 0,this.boSmartCustomHit6=void 0,this.boSmartCustomHit7=void 0,this.boSmartCustomHit8=void 0,this.boShowDropValueItemEff=void 0,this.boShowMagicShieldHP=void 0,this.nHumHPBarOffsetX=void 0,this.nHumHPBarOffsetY=void 0,this.nNpcHPBarOffsetX=void 0,this.nNpcHPBarOffsetY=void 0,this.nMonHPBarOffsetX=void 0,this.nMonHPBarOffsetY=void 0,this.nHumNameOffsetX=void 0,this.nHumNameOffsetY=void 0,this.nNpcNameOffsetX=void 0,this.nNpcNameOffsetY=void 0,this.nMonNameOffsetX=void 0,this.nMonNameOffsetY=void 0,this.boHealthNumberText=void 0,this.boBlastHitShowHealthNum=void 0,this.nHealthNumberOffsetX=void 0,this.nHealthNumberOffsetY=void 0,this.nHealthNumberMoveSpeed=void 0,this.nNewLeftGroupInfoOffsetX=void 0,this.nNewLeftGroupInfoOffsetY=void 0,this.nItemFluteStoneCount=void 0,this.nItemFluteStoneIdxCount=void 0,this.nItemFluteStoneOverlapCount=void 0,this.boDisableRightClickFluteStone=void 0,this.nSayMsgMaxLen=void 0,this.btMaxHitPoint=void 0,this.boMyShopGold=void 0,this.boMyShopGameGold=void 0,this.boMyShopGameDiamond=void 0,this.boMyShopGameGird=void 0,this.boMyShopGamePoint=void 0,this.nAuctionCurrencyTypeEx=void 0,this.nAuctionBroadcastCurrencyType=void 0,this.nAuctionBroadcastPrice=void 0,this.boOpenAuctionItemColors=void 0,this.btAuctionItemColors=[],this.boShowHeroShortKey=void 0,this.nShowHeroShortKeyX=void 0,this.nShowHeroShortKeyY=void 0,this.btMagicFailMsgFColor=void 0,this.btMagicFailMsgBColor=void 0,this.btMagicOKMsgFColor=void 0,this.btMagicOKMsgBColor=void 0,this.nMagicMsgX=void 0,this.nMagicMsgY=void 0,this.boMagicMsgXRightToLeft=void 0,this.boMagicMsgYBottomToTop=void 0,this.boMagicMsgAddChatBoardMsg=void 0,this.boFashionJewelryOpen=void 0,this.boHelmetShowInBox=void 0,this.boSkill31UseNewEffect=void 0,this.boEnabledBuyShopItemGive=void 0,this.nGuildRankNameLen=void 0,this.dwUserMoveTime=void 0,this.sJewelryBoxHint=void 0,this.btMerchant273NameColor=void 0,this.boHeroStateDlgNoMove=void 0,this.nStarBaseNum=void 0,this.nStarLineMaxCount=void 0,this.boOpenNewGuild=void 0,this.boDisableDuFuTakeArmRingL=void 0,this.boOpenGamePet=void 0,this.dwProtectValueCRC=void 0,this.nMaxInputStringLen=void 0,this.boSlaveAlwaysShowName=void 0,this.btMonsterShowLevel=void 0,this.sMonsterShowLevelFormat=void 0,this.btMonStruckFrameDelayTime=void 0,this.boTZSupportRenameItem=void 0,this.boDescSupportRenamItem=void 0,this.boNoRenameDescReadDefault=void 0,this.boNoNeedFirDragon=void 0,this.boHideItemEffect=void 0,this.boAutoGroupAttack=void 0,this.boAutoGroupNoAttackMon=void 0,this.boMagicSetDir=void 0,this.boEnableDoubleFireHitSkill=void 0,this.boBagFastItemCompare=void 0,this.boShowHPUnit=void 0,this.boShowNewGroupInfo=void 0,this.nHMPDivDura=void 0,this.boPetNoEntity=void 0,this.boPetNoShowHPProgress=void 0,this.boDisableWarrContinueHit=void 0,this.nWarrContinueHitMinInterval=void 0,this.ArrDisableWarrContinueHitIDs=[],this.boAutoContinueAttack=void 0,this.boHideActorIcons=void 0,this.boHideMonsterIcons=void 0,this.boDimFireEffect=void 0,this.boAutoDetourPath=void 0,this.boSimpleShowHumanWeapon=void 0,this.sNotEnoughNGPoint=void 0,this.sNotEnoughMPPoint=void 0,this.btBagFastItemCompareMode=void 0,this.nEditionId=void 0,this.nAreaId=void 0,this.nBetterItemX=void 0,this.nBetterItemY=void 0,this.nSmallInfoX=void 0,this.nSmallInfoY=void 0,this.nJoyStickX=void 0,this.nJoyStickY=void 0,this.nJoyStickMaxX=void 0,this.nJoyStickMaxY=void 0,this.nSkillCtrX=void 0,this.nSkillCtrY=void 0,this.boShowExSkillIcon=void 0,this.btMapScale=void 0,this.btGuiScale=void 0,this.btMultiViewRange=void 0,this.boShowMulitDlg=void 0,this.boShowBetterItem=void 0;var t={i:0};this.btConfigDlgType=s.readBuff(o,t,e.Byte),this.boParalyCanRun=!!s.readBuff(o,t,e.Boolean),this.boParalyCanWalk=!!s.readBuff(o,t,e.Boolean),this.boParalyCanHit=!!s.readBuff(o,t,e.Boolean),this.boParalyCanSpell=!!s.readBuff(o,t,e.Boolean),this.boSkill43LockParaly=!!s.readBuff(o,t,e.Boolean),this.btDieColor=s.readBuff(o,t,e.Byte),this.nMagicItemRate=s.readBuff(o,t,e.Integer),this.boStartGameAuxiliary=!!s.readBuff(o,t,e.Boolean),this.boCanOpenGameConfigDlg=!!s.readBuff(o,t,e.Boolean),this.boNotCanUseClientConfig=!!s.readBuff(o,t,e.Boolean),this.boGreenHintNewStyle=!!s.readBuff(o,t,e.Boolean),this.boItemNewAbilAllowUse=!!s.readBuff(o,t,e.Boolean),this.nMoveSpeed=s.readBuff(o,t,e.SmallInt),this.nMoveSpeed>=32767&&(this.nMoveSpeed-=65536),this.nAttackSpeed=s.readBuff(o,t,e.SmallInt),this.nAttackSpeed>=32767&&(this.nAttackSpeed-=65536),this.nSpellSpeed=s.readBuff(o,t,e.SmallInt),this.nSpellSpeed>=32767&&(this.nSpellSpeed-=65536),this.DActionLogButton=!!s.readBuff(o,t,e.Boolean),this.DBotMissionButton=!!s.readBuff(o,t,e.Boolean),this.DBotFriendButton=!!s.readBuff(o,t,e.Boolean),this.DControlHelpButton=!!s.readBuff(o,t,e.Boolean),this.DBotRankButton=!!s.readBuff(o,t,e.Boolean),this.DBotWhisperButton=!!s.readBuff(o,t,e.Boolean),this.DOpenShopButton=!!s.readBuff(o,t,e.Boolean),this.DBotUserShopButton=!!s.readBuff(o,t,e.Boolean),this.DWebButton=!!s.readBuff(o,t,e.Boolean),this.DOpenHeroButton=!!s.readBuff(o,t,e.Boolean),this.DBotChallengeButton=!!s.readBuff(o,t,e.Boolean),this.boShowGlory=!!s.readBuff(o,t,e.Boolean),this.boShowHorseButton=!!s.readBuff(o,t,e.Boolean),this.boShowHintWindowFrame=s.readBuff(o,t,e.Boolean),this.boShowHintLines=s.readBuff(o,t,e.Boolean),this.btHintWindowbackgroundColor=s.readBuff(o,t,e.Byte),this.btHintWindowbackgroundAlpha=s.readBuff(o,t,e.Byte),this.HintWindowBorderWidth.Left=s.readBuff(o,t,e.Byte),this.HintWindowBorderWidth.Top=s.readBuff(o,t,e.Byte),this.HintWindowBorderWidth.Right=s.readBuff(o,t,e.Byte),this.HintWindowBorderWidth.Bottom=s.readBuff(o,t,e.Byte),this.sShowHintFontName=s.readConstomLength(o,t,i.SHOW_HINT_FONT_NAME_LEN),this.btShowHintNameFontSize=s.readBuff(o,t,e.Byte),this.btShowHintNameFontBold=s.readBuff(o,t,e.Byte),this.btShowHintNameFontStroke=s.readBuff(o,t,e.Byte),this.btShowHintOtherFontSize=s.readBuff(o,t,e.Byte),this.btShowHintOtherFontBold=s.readBuff(o,t,e.Byte),this.btShowHintOtherFontStroke=s.readBuff(o,t,e.Byte),this.btSuspensionShowItem=s.readBuff(o,t,e.Byte),this.boEscCloseNPC=!!s.readBuff(o,t,e.Boolean),this.boHintWithMouse=!!s.readBuff(o,t,e.Boolean),this.boNpcDlgHintWithMouse=!!s.readBuff(o,t,e.Boolean),this.boStateWindowsType=s.readBuff(o,t,e.Byte),this.boMoveItemShowID=!!s.readBuff(o,t,e.Boolean),this.boShowItemForm=!!s.readBuff(o,t,e.Boolean),this.boShowItemSellPrice=!!s.readBuff(o,t,e.Boolean),this.boShowInsuranceInfo=!!s.readBuff(o,t,e.Boolean),this.btShowItemFormColor=s.readBuff(o,t,e.Byte),this.btShowItemSellPriceColor=s.readBuff(o,t,e.Byte),this.btShowInsuranceInfoColor=s.readBuff(o,t,e.Byte);for(var a=0;a<7;a++){var h=!!s.readBuff(o,t,e.Boolean);this.boShowItemFromFields.push(h)}this.boShowHPLabel=!!s.readBuff(o,t,e.Boolean),this.boShowNumberLable=!!s.readBuff(o,t,e.Boolean),this.boShowJobAndLevel=!!s.readBuff(o,t,e.Boolean),this.boFilterExp=!!s.readBuff(o,t,e.Boolean),this.boShowGreenHint=!!s.readBuff(o,t,e.Boolean),this.boShowUserName=!!s.readBuff(o,t,e.Boolean),this.boOnlyShowCharName=!!s.readBuff(o,t,e.Boolean),this.boShowMoveLable=!!s.readBuff(o,t,e.Boolean),this.boAutoPickUpItem=!!s.readBuff(o,t,e.Boolean),this.boNoCaton=!!s.readBuff(o,t,e.Boolean),this.boDisableSelfStruck=!!s.readBuff(o,t,e.Boolean),this.boSpeedSlow=!!s.readBuff(o,t,e.Boolean),this.boMagicLock=!!s.readBuff(o,t,e.Boolean),this.boPickupAll=!!s.readBuff(o,t,e.Boolean),this.boAutoOrderItem=!!s.readBuff(o,t,e.Boolean),this.boAutoCloseGroup=!!s.readBuff(o,t,e.Boolean),this.boDuraWarning=!!s.readBuff(o,t,e.Boolean),this.boNotNeedShift=!!s.readBuff(o,t,e.Boolean),this.boHideGhost=!!s.readBuff(o,t,e.Boolean),this.boHideHumEffect=!!s.readBuff(o,t,e.Boolean),this.boHideHumEffect=!1,this.boHideWeaponEffect=!!s.readBuff(o,t,e.Boolean),this.boShowMapDesc=!!s.readBuff(o,t,e.Boolean),this.boShowHighlightHPLabel=!!s.readBuff(o,t,e.Boolean),this.boAutoHideMode=!!s.readBuff(o,t,e.Boolean),this.boSmart113Hit=!!s.readBuff(o,t,e.Boolean),this.boHumAutoShield=!!s.readBuff(o,t,e.Boolean),this.boHumStruckShield=!!s.readBuff(o,t,e.Boolean),this.boSmartLongHit=!!s.readBuff(o,t,e.Boolean),this.boSmartPosLongHit=!!s.readBuff(o,t,e.Boolean),this.boSmartWalkLongHit=!!s.readBuff(o,t,e.Boolean),this.boSmartWideHit=!!s.readBuff(o,t,e.Boolean),this.boSmartFireHit=!!s.readBuff(o,t,e.Boolean),this.boSmartSwordHit=!!s.readBuff(o,t,e.Boolean),this.boSmartCrsHit=!!s.readBuff(o,t,e.Boolean),this.boSmartTwnHit=!!s.readBuff(o,t,e.Boolean),this.boBGMusic=!!s.readBuff(o,t,e.Boolean),this.boRepeatBGMusic=!!s.readBuff(o,t,e.Boolean),this.boShowMonName=!!s.readBuff(o,t,e.Boolean),this.boShowNpcName=!!s.readBuff(o,t,e.Boolean),this.boShowNpcHPLabel=!!s.readBuff(o,t,e.Boolean),this.boShowNGLabel=!!s.readBuff(o,t,e.Boolean),this.boNotParaly=!!s.readBuff(o,t,e.Boolean),this.boHumManuallySnowWind=!!s.readBuff(o,t,e.Boolean),this.boHumManuallyFireBoom=!!s.readBuff(o,t,e.Boolean),this.boHumShootLightenLockTarget=!!s.readBuff(o,t,e.Boolean),this.boHumManuallyMeteorShower=!!s.readBuff(o,t,e.Boolean),this.boHumManuallyMove10Attack=!!s.readBuff(o,t,e.Boolean),this.boHumManuallyFire=!!s.readBuff(o,t,e.Boolean),this.boAutoCHangePoison=!!s.readBuff(o,t,e.Boolean),this.boSmart66Hit=!!s.readBuff(o,t,e.Boolean),this.boHeroAutoShield=!!s.readBuff(o,t,e.Boolean),this.boAssistantHeroAutoShield=!!s.readBuff(o,t,e.Boolean),this.boHeroDrug=!!s.readBuff(o,t,e.Boolean),this.boAssistantHeroDrug=!!s.readBuff(o,t,e.Boolean),this.boSceneShake=!!s.readBuff(o,t,e.Boolean),this.boAutoDownHorse=!!s.readBuff(o,t,e.Boolean),this.boDropOverLapItem=!!s.readBuff(o,t,e.Boolean),this.boGetExpMsgAddChatBoardMsg=!!s.readBuff(o,t,e.Boolean),this.boAddItemMsgXRightToLeft=!!s.readBuff(o,t,e.Boolean),this.boAddItemMsgYBottomToTop=!!s.readBuff(o,t,e.Boolean),this.boGetExpMsgXRightToLeft=!!s.readBuff(o,t,e.Boolean),this.boGetExpMsgYBottomToTop=!!s.readBuff(o,t,e.Boolean),this.boUpLevelMsgXRightToLeft=!!s.readBuff(o,t,e.Boolean),this.boUpLevelMsgYBottomToTop=!!s.readBuff(o,t,e.Boolean),this.boHeroAddItemMsgXRightToLeft=!!s.readBuff(o,t,e.Boolean),this.boHeroAddItemMsgYBottomToTop=!!s.readBuff(o,t,e.Boolean),this.boHeroGetExpMsgXRightToLeft=!!s.readBuff(o,t,e.Boolean),this.boHeroGetExpMsgYBottomToTop=!!s.readBuff(o,t,e.Boolean),this.boHeroUpLevelMsgXRightToLeft=!!s.readBuff(o,t,e.Boolean),this.boHeroUpLevelMsgYBottomToTop=!!s.readBuff(o,t,e.Boolean),this.boHideTabSheet2=!!s.readBuff(o,t,e.Boolean),this.boHeroHideTabSheet2=!!s.readBuff(o,t,e.Boolean),this.boHideTabSheet5=!!s.readBuff(o,t,e.Boolean),this.boHeroHideTabSheet5=!!s.readBuff(o,t,e.Boolean),this.boHideTabSheet7=!!s.readBuff(o,t,e.Boolean);for(var d=0;d<24;d++){var r=!!s.readBuff(o,t,e.Boolean);this.NewAbilShowStateDlg.push(r)}this.btAddItemMsgFColor=s.readBuff(o,t,e.Byte),this.btAddItemMsgBColor=s.readBuff(o,t,e.Byte),this.nAddItemMsgX=s.readBuff(o,t,e.SmallInt),this.nAddItemMsgY=s.readBuff(o,t,e.SmallInt),this.btGetExpMsgFColor=s.readBuff(o,t,e.Byte),this.btGetExpMsgBColor=s.readBuff(o,t,e.Byte),this.nGetExpMsgX=s.readBuff(o,t,e.SmallInt),this.nGetExpMsgY=s.readBuff(o,t,e.SmallInt),this.btUpLevelMsgFColor=s.readBuff(o,t,e.Byte),this.btUpLevelMsgBColor=s.readBuff(o,t,e.Byte),this.nUpLevelMsgX=s.readBuff(o,t,e.SmallInt),this.nUpLevelMsgY=s.readBuff(o,t,e.SmallInt),this.btHeroAddItemMsgFColor=s.readBuff(o,t,e.Byte),this.btHeroAddItemMsgBColor=s.readBuff(o,t,e.Byte),this.nHeroAddItemMsgX=s.readBuff(o,t,e.SmallInt),this.nHeroAddItemMsgY=s.readBuff(o,t,e.SmallInt),this.btHeroGetExpMsgFColor=s.readBuff(o,t,e.Byte),this.btHeroGetExpMsgBColor=s.readBuff(o,t,e.Byte),this.nHeroGetExpMsgX=s.readBuff(o,t,e.SmallInt),this.nHeroGetExpMsgY=s.readBuff(o,t,e.SmallInt),this.btHeroUpLevelMsgFColor=s.readBuff(o,t,e.Byte),this.btHeroUpLevelMsgBColor=s.readBuff(o,t,e.Byte),this.nHeroUpLevelMsgX=s.readBuff(o,t,e.SmallInt),this.nHeroUpLevelMsgY=s.readBuff(o,t,e.SmallInt),this.boShowBagGameGoldSeparator=!!s.readBuff(o,t,e.Boolean),this.boShowBagGameInfo=!!s.readBuff(o,t,e.Boolean),this.boUseFindPath=!!s.readBuff(o,t,e.Boolean),this.boUseOldSerialWindows=!!s.readBuff(o,t,e.Boolean),this.boUseHeroM2Shop=!!s.readBuff(o,t,e.Boolean),this.boMonStruckShowNumber=!!s.readBuff(o,t,e.Boolean),this.boHumStruckShowNumber=!!s.readBuff(o,t,e.Boolean),this.boCloseBookProtect=!!s.readBuff(o,t,e.Boolean),this.boCloseLogoutProtect=!!s.readBuff(o,t,e.Boolean),this.boBagRightkey=!!s.readBuff(o,t,e.Boolean),this.boUseSuperMedica=!!s.readBuff(o,t,e.Boolean),this.DMerchantDlgHelp=!!s.readBuff(o,t,e.Boolean);for(var n=0;n<6;n++){var f=!!s.readBuff(o,t,e.Boolean);this.DBotFuncs.push(f)}this.boViewFog=!!s.readBuff(o,t,e.Boolean),this.boCanStartRun=!!s.readBuff(o,t,e.Boolean);for(var l=0;l<12;l++){var B=!!s.readBuff(o,t,e.Boolean);this.ClientConfigTabSheetVisibles.push(B)}for(var u=0;u<9;u++){var v=s.readConstomLength(o,t,i.ITEM_NAME_LEN);this.UseSuperMedicaItemNames.push(v)}this.sHomePage=s.readConstomLength(o,t,i.HOME_PAGE),this.nHumNeedMagicItem=s.readBuff(o,t,e.Integer),this.btSendWhisperMsgFColor=s.readBuff(o,t,e.Byte),this.btSendWhisperMsgBColor=s.readBuff(o,t,e.Byte),this.btRefreshGameGoldFColor=s.readBuff(o,t,e.Byte),this.btRefreshGameGoldBColor=s.readBuff(o,t,e.Byte),this.btShowWhisperFColor=s.readBuff(o,t,e.Byte),this.btShowWhisperBColor=s.readBuff(o,t,e.Byte),this.btCloseWhisperFColor=s.readBuff(o,t,e.Byte),this.btCloseWhisperBColor=s.readBuff(o,t,e.Byte),this.boNPCLabelFontStroke=!!s.readBuff(o,t,e.Boolean),this.btNPCLabelNormalColor=s.readBuff(o,t,e.Byte),this.btNpcLabelMouseMoveColor=s.readBuff(o,t,e.Byte),this.btNpcLabelMouseDownColor=s.readBuff(o,t,e.Byte),this.boMinMapCloseRadar=!!s.readBuff(o,t,e.Boolean),this.btMinMapType=s.readBuff(o,t,e.Byte),this.boMinMapUseFindPath=!!s.readBuff(o,t,e.Boolean),this.boLoginShowMinMap=!!s.readBuff(o,t,e.Boolean),this.dwMinMapFlagFlash=s.readBuff(o,t,e.LongWord),this.btMinMapColorSelf=s.readBuff(o,t,e.Byte),this.btMinMapColorOther=s.readBuff(o,t,e.Byte),this.btMinMapColorNPC=s.readBuff(o,t,e.Byte),this.btMinMapColorGuard=s.readBuff(o,t,e.Byte),this.btMinMapColorMonster=s.readBuff(o,t,e.Byte),this.btMinMapColorHero=s.readBuff(o,t,e.Byte),this.btMinMapColorBoss=s.readBuff(o,t,e.Byte),this.boHideItemNameNum=!!s.readBuff(o,t,e.Boolean),this.boShopHeadPic=!!s.readBuff(o,t,e.Boolean),this.boSingleHint=!!s.readBuff(o,t,e.Boolean),this.boHorseRun3Grid=!!s.readBuff(o,t,e.Boolean),this.btPKLevel1NameColor=s.readBuff(o,t,e.Byte),this.dwMoveFrameTime=s.readBuff(o,t,e.LongWord),this.dwHitFrameTime=s.readBuff(o,t,e.LongWord),this.dwMagicHitFrameTime=s.readBuff(o,t,e.LongWord),this.boGemUpgrade=!!s.readBuff(o,t,e.Boolean),this.boShopGuiCanMove=!!s.readBuff(o,t,e.Boolean),this.boNPCGuiCanMove=!!s.readBuff(o,t,e.Boolean);for(var b=0;b<4;b++){var m=s.readBuff(o,t,e.Byte);this.SkillContinueOrderBlastRates.push(m)}for(var S=0;S<12;S++){for(var p=[],g=0;g<5;g++){var M=s.readBuff(o,t,e.Integer);p.push(M)}this.SkillContinuousBlastHitRates.push(p)}this.dwNpcButtonClickTime=s.readBuff(o,t,e.LongWord),this.dwNpcActorClickTime=s.readBuff(o,t,e.LongWord),this.dwPluginPickupTime=s.readBuff(o,t,e.LongWord),this.dwPluginMinEatItemTime=s.readBuff(o,t,e.LongWord),this.boShowDeputyHeroButton=!!s.readBuff(o,t,e.Boolean),this.boShowBagArrange=!!s.readBuff(o,t,e.Boolean),this.btPKLevel2NameColor=s.readBuff(o,t,e.Byte),this.boShiftSwitch=!!s.readBuff(o,t,e.Boolean),this.dwIncSpeedDecInterval=s.readBuff(o,t,e.LongWord),this.dwIncMoveSpeedDecInterval=s.readBuff(o,t,e.LongWord),this.dwIncSpellSpeedDecInterval=s.readBuff(o,t,e.LongWord),this.boKeyTabGetActor=!!s.readBuff(o,t,e.Boolean),this.nTitleFileIndex=s.readBuff(o,t,e.Integer),this.boHideTitle=!!s.readBuff(o,t,e.Boolean),this.boContinueButchItem=!!s.readBuff(o,t,e.Boolean),this.boAutoOpenSpell=!!s.readBuff(o,t,e.Boolean),this.boDisableChartMemoSize=!!s.readBuff(o,t,e.Boolean),this.boItemCompare=!!s.readBuff(o,t,e.Boolean),this.boVolume=!!s.readBuff(o,t,e.Boolean),this.boDisableDeal=!!s.readBuff(o,t,e.Boolean),this.boShowUpdateStatus=!!s.readBuff(o,t,e.Boolean),this.boSimpleShowActor=!!s.readBuff(o,t,e.Boolean),this.boSimpleShowHumanDress=!!s.readBuff(o,t,e.Boolean),this.boSimpleShowBB=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit1=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit2=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit3=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit4=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit5=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit6=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit7=!!s.readBuff(o,t,e.Boolean),this.boSmartCustomHit8=!!s.readBuff(o,t,e.Boolean),this.boShowDropValueItemEff=!!s.readBuff(o,t,e.Boolean),this.boShowMagicShieldHP=!!s.readBuff(o,t,e.Boolean),this.nHumHPBarOffsetX=s.readBuff(o,t,e.Integer),this.nHumHPBarOffsetY=s.readBuff(o,t,e.Integer),this.nNpcHPBarOffsetX=s.readBuff(o,t,e.Integer),this.nNpcHPBarOffsetY=s.readBuff(o,t,e.Integer),this.nMonHPBarOffsetX=s.readBuff(o,t,e.Integer),this.nMonHPBarOffsetY=s.readBuff(o,t,e.Integer),this.nHumNameOffsetX=s.readBuff(o,t,e.Integer),this.nHumNameOffsetY=s.readBuff(o,t,e.Integer),this.nNpcNameOffsetX=s.readBuff(o,t,e.Integer),this.nNpcNameOffsetY=s.readBuff(o,t,e.Integer),this.nMonNameOffsetX=s.readBuff(o,t,e.Integer),this.nMonNameOffsetY=s.readBuff(o,t,e.Integer),this.boHealthNumberText=!!s.readBuff(o,t,e.Boolean),this.boBlastHitShowHealthNum=!!s.readBuff(o,t,e.Boolean),this.nHealthNumberOffsetX=s.readBuff(o,t,e.SmallInt),this.nHealthNumberOffsetY=s.readBuff(o,t,e.SmallInt),this.nHealthNumberMoveSpeed=s.readBuff(o,t,e.Integer),this.nNewLeftGroupInfoOffsetX=s.readBuff(o,t,e.SmallInt),this.nNewLeftGroupInfoOffsetY=s.readBuff(o,t,e.SmallInt),this.nItemFluteStoneCount=s.readBuff(o,t,e.Integer),this.nItemFluteStoneIdxCount=s.readBuff(o,t,e.Integer),this.nItemFluteStoneOverlapCount=s.readBuff(o,t,e.Integer),this.boDisableRightClickFluteStone=!!s.readBuff(o,t,e.Boolean),this.nSayMsgMaxLen=s.readBuff(o,t,e.Integer),this.btMaxHitPoint=s.readBuff(o,t,e.Integer),this.boMyShopGold=!!s.readBuff(o,t,e.Boolean),this.boMyShopGameGold=!!s.readBuff(o,t,e.Boolean),this.boMyShopGameDiamond=!!s.readBuff(o,t,e.Boolean),this.boMyShopGameGird=!!s.readBuff(o,t,e.Boolean),this.boMyShopGamePoint=!!s.readBuff(o,t,e.Boolean),this.nAuctionCurrencyTypeEx=s.readBuff(o,t,e.Integer),this.nAuctionBroadcastCurrencyType=s.readBuff(o,t,e.Integer),this.nAuctionBroadcastPrice=s.readBuff(o,t,e.Integer),this.boOpenAuctionItemColors=!!s.readBuff(o,t,e.Boolean);for(var H=0;H<6;H++){var c=s.readBuff(o,t,e.Byte);this.btAuctionItemColors.push(c)}this.boShowHeroShortKey=!!s.readBuff(o,t,e.Boolean),this.nShowHeroShortKeyX=s.readBuff(o,t,e.SmallInt),this.nShowHeroShortKeyY=s.readBuff(o,t,e.SmallInt),this.btMagicFailMsgFColor=s.readBuff(o,t,e.Byte),this.btMagicFailMsgBColor=s.readBuff(o,t,e.Byte),this.btMagicOKMsgFColor=s.readBuff(o,t,e.Byte),this.btMagicOKMsgBColor=s.readBuff(o,t,e.Byte),this.nMagicMsgX=s.readBuff(o,t,e.SmallInt),this.nMagicMsgY=s.readBuff(o,t,e.SmallInt),this.boMagicMsgXRightToLeft=!!s.readBuff(o,t,e.Boolean),this.boMagicMsgYBottomToTop=!!s.readBuff(o,t,e.Boolean),this.boMagicMsgAddChatBoardMsg=!!s.readBuff(o,t,e.Boolean),this.boFashionJewelryOpen=!!s.readBuff(o,t,e.Boolean),this.boHelmetShowInBox=!!s.readBuff(o,t,e.Boolean),this.boSkill31UseNewEffect=!!s.readBuff(o,t,e.Boolean),this.boEnabledBuyShopItemGive=!!s.readBuff(o,t,e.Boolean),this.nGuildRankNameLen=s.readBuff(o,t,e.Integer),this.dwUserMoveTime=s.readBuff(o,t,e.LongWord),this.sJewelryBoxHint=s.readConstomLength(o,t,i.SHOW_HINT_FONT_NAME_LEN),this.btMerchant273NameColor=s.readBuff(o,t,e.Byte),this.boHeroStateDlgNoMove=!!s.readBuff(o,t,e.Boolean),this.nStarBaseNum=s.readBuff(o,t,e.Byte),this.nStarLineMaxCount=s.readBuff(o,t,e.Byte),this.boOpenNewGuild=s.readBuff(o,t,e.Boolean),this.boDisableDuFuTakeArmRingL=s.readBuff(o,t,e.Boolean),this.boOpenGamePet=s.readBuff(o,t,e.Boolean),this.dwProtectValueCRC=s.readBuff(o,t,e.LongWord),this.nMaxInputStringLen=s.readBuff(o,t,e.Integer),this.boSlaveAlwaysShowName=s.readBuff(o,t,e.Boolean),this.btMonsterShowLevel=s.readBuff(o,t,e.Byte),this.sMonsterShowLevelFormat=s.readConstomLength(o,t,i.ACTOR_NAME_LEN),this.btMonStruckFrameDelayTime=s.readBuff(o,t,e.Byte),this.boTZSupportRenameItem=!!s.readBuff(o,t,e.Boolean),this.boDescSupportRenamItem=!!s.readBuff(o,t,e.Boolean),this.boNoRenameDescReadDefault=!!s.readBuff(o,t,e.Boolean),this.boNoNeedFirDragon=!!s.readBuff(o,t,e.Boolean),this.boHideItemEffect=!!s.readBuff(o,t,e.Boolean),this.boAutoGroupAttack=!!s.readBuff(o,t,e.Boolean),this.boAutoGroupNoAttackMon=!!s.readBuff(o,t,e.Boolean),this.boMagicSetDir=!!s.readBuff(o,t,e.Boolean),this.boEnableDoubleFireHitSkill=!!s.readBuff(o,t,e.Boolean),this.boBagFastItemCompare=!!s.readBuff(o,t,e.Boolean),this.boShowHPUnit=!!s.readBuff(o,t,e.Boolean),this.boShowNewGroupInfo=!!s.readBuff(o,t,e.Boolean),this.nHMPDivDura=s.readBuff(o,t,e.Integer),this.boPetNoEntity=!!s.readBuff(o,t,e.Boolean),this.boPetNoShowHPProgress=!!s.readBuff(o,t,e.Boolean),this.boDisableWarrContinueHit=!!s.readBuff(o,t,e.Boolean),this.nWarrContinueHitMinInterval=s.readBuff(o,t,e.LongWord);for(var C=0;C<10;C++){var w=s.readBuff(o,t,e.Word);this.ArrDisableWarrContinueHitIDs.push(w)}this.boAutoContinueAttack=!!s.readBuff(o,t,e.Boolean),this.boHideActorIcons=!!s.readBuff(o,t,e.Boolean),this.boHideMonsterIcons=!!s.readBuff(o,t,e.Boolean),this.boDimFireEffect=!!s.readBuff(o,t,e.Boolean),this.boAutoDetourPath=!!s.readBuff(o,t,e.Boolean),this.boSimpleShowHumanWeapon=!!s.readBuff(o,t,e.Boolean),this.sNotEnoughNGPoint=s.readConstomLength(o,t,i.NOT_ENOUGH_NG_POINT),this.sNotEnoughMPPoint=s.readConstomLength(o,t,i.NOT_ENOUGH_NG_POINT),this.btBagFastItemCompareMode=s.readBuff(o,t,e.Byte),this.nEditionId=s.readBuff(o,t,e.Integer),this.nAreaId=s.readBuff(o,t,e.Integer),this.nBetterItemX=s.readBuff(o,t,e.Integer),this.nBetterItemY=s.readBuff(o,t,e.Integer),this.nSmallInfoX=s.readBuff(o,t,e.Integer),this.nSmallInfoY=s.readBuff(o,t,e.Integer),this.nJoyStickX=s.readBuff(o,t,e.Integer),this.nJoyStickY=s.readBuff(o,t,e.Integer),this.nJoyStickMaxX=s.readBuff(o,t,e.Integer),this.nJoyStickMaxY=s.readBuff(o,t,e.Integer),this.nSkillCtrX=s.readBuff(o,t,e.Integer),this.nSkillCtrY=s.readBuff(o,t,e.Integer),this.boShowExSkillIcon=!!s.readBuff(o,t,e.Boolean),this.btMapScale=s.readBuff(o,t,e.Byte),this.btGuiScale=s.readBuff(o,t,e.Byte),this.btMultiViewRange=s.readBuff(o,t,e.Byte),this.boShowMulitDlg=!!s.readBuff(o,t,e.Boolean),this.boShowBetterItem=!!s.readBuff(o,t,e.Boolean)})),o("Type_GlobalCfglistObj",(function(){this.d_autoskill_1=void 0,this.backmusic=void 0,this.clear=void 0,this.nameshow1=void 0,this.nameshow2=void 0,this.nameshow3=void 0,this.nameshow4=void 0,this.showhp=void 0,this.showExp=void 0,this.ShowName=void 0,this.ShowTitle=void 0,this.banCkilcMove=void 0,this.unpack=void 0,this.notLock=void 0,this.hidePlayer=void 0,this.hideMonster=void 0,this.heroeqsecure=void 0,this.z_autoskill_1=void 0,this.z_autoskill_2=void 0,this.z_autoskill_3=void 0,this.z_autoskill_4=void 0,this.zs_gwcs=void 0,this.zs_lyjf=void 0,this.zs_zrjf=void 0,this.d_autoskill_2=void 0,this.d_autoskill_3=void 0,this.d_autoskill_4=void 0,this.f_autoskill_1=void 0,this.f_keepskill_1=void 0,this.autohp=void 0,this.automp=void 0,this.autohp_mp=void 0,this.autohp_mp2=void 0,this.autotp=void 0,this.autotp1=void 0,this.exercise=void 0,this.autohpH=void 0,this.autompH=void 0,this.autohp_mpH=void 0,this.autohp_mp2H=void 0,this.autotpH=void 0,this.single_fs=void 0,this.group_fs=void 0,this.single_ds=void 0,this.ds_summon=void 0,this.ds_cure=void 0,this.poison_ds=void 0,this.group_ds=void 0,this.smooth=void 0,this.showBlue=void 0,this.d_autoskill_5=void 0,this.d_autoskill_6=void 0,this.auto_dodge=void 0,this.delayShow=void 0,this.humsimple=void 0,this.monsimple=void 0,this.weaponsimple=void 0,this.pickItemsFirst=void 0,this.gameVoice=void 0,this.viewScale=void 0,this.manualHurricaneSkill=void 0,this.manualIceRoar=void 0,this.manualBombFire=void 0,this.manualIncendiaryShower=void 0,this.manualFastLight=void 0,this.doubleRocker=void 0,this.autoWear=void 0,this.maxPackSize=void 0,this.boUpdate=void 0,this.d_autoskill_7=void 0,this.d_autoskill_8=void 0,this.hppercentagetext=void 0,this.hptimetext=void 0,this.hp_vs=void 0,this.hp_time=void 0,this.hppercentagetextH=void 0,this.hptimetextH=void 0,this.hp_vsH=void 0,this.hp_timeH=void 0,this.mppercentagetext=void 0,this.mptimetext=void 0,this.mp_vs=void 0,this.mp_time=void 0,this.mppercentagetextH=void 0,this.mptimetextH=void 0,this.mp_vsH=void 0,this.mp_timeH=void 0,this.hppercentagetext1=void 0,this.hptimetext1=void 0,this.Hp_mp_vs=void 0,this.hp_mp_time=void 0,this.hppercentagetext2=void 0,this.mptimetext1=void 0,this.Hp_mp_vs2=void 0,this.hp_mp_time2=void 0,this.hppercentagetext1H=void 0,this.hptimetext1H=void 0,this.Hp_mp_vsH=void 0,this.hp_mp_timeH=void 0,this.hppercentagetext2H=void 0,this.mptimetext1H=void 0,this.Hp_mp_vs2H=void 0,this.hp_mp_time2H=void 0,this.tppercentagetext=void 0,this.tptimetext=void 0,this.tp_vs=void 0,this.tp_time_vs=void 0,this.tppercentagetext1=void 0,this.tptimetext1=void 0,this.tp_vs1=void 0,this.tp_time_vs2=void 0,this.tppercentagetextH=void 0,this.tptimetextH=void 0,this.tp_vsH=void 0,this.tp_time_vsH=void 0,this.itemtype=void 0,this.pickPlan=void 0,this.exercise_list=void 0,this.exercise_time=void 0,this.exercise_slider=void 0,this.ds_summon_list=void 0,this.ds_cure_list=void 0,this.exercise_ds_list=void 0,this.ds_cure_limit=void 0,this.ds_cure_time=void 0,this.ds_limit_slider=void 0,this.ds_time_slider=void 0,this.group_skill_num=void 0,this.group_skill_slider=void 0,this.doubleRockerLoaction=void 0,this.dropShowChecks=void 0,this.pickUpCheckss=void 0})),o("TGroupMember",(function(o){this.sCharName=void 0,this.sMapName=void 0,this.sMapDesc=void 0,this.Job=void 0,this.Gender=void 0,this.IsCaptain=void 0,this.nRecogId=void 0,this.Level=void 0,this.HP=void 0,this.MaxHP=void 0,this.MP=void 0,this.MaxMP=void 0;var t={i:0};this.sCharName=s.readConstomLength(o,t,i.ACTOR_NAME_LEN),this.sMapName=s.readConstomLength(o,t,i.MAP_NAME_LEN),this.sMapDesc=s.readConstomLength(o,t,i.SMAP_DESC),this.Job=s.readBuff(o,t,e.Byte),this.Gender=s.readBuff(o,t,e.Byte),this.IsCaptain=!!s.readBuff(o,t,e.Boolean),this.nRecogId=s.readBuff(o,t,e.Int64),this.Level=s.readBuff(o,t,e.LongWord),this.HP=s.readBuff(o,t,e.LongWord),this.MaxHP=s.readBuff(o,t,e.LongWord),this.MP=s.readBuff(o,t,e.LongWord),this.MaxMP=s.readBuff(o,t,e.LongWord)})),o("TStoreData",(function(o){this.count=void 0,this.maxCount=void 0,this.page=void 0,this.maxPage=void 0,this.posX=void 0,this.posY=void 0;var t={i:0};this.count=s.readBuff(o,t,e.Integer),this.maxCount=s.readBuff(o,t,e.Integer),this.page=s.readBuff(o,t,e.Word),this.maxPage=s.readBuff(o,t,e.Word),this.posX=s.readBuff(o,t,e.Word),this.posY=s.readBuff(o,t,e.Word)})),o("TDeleteHumanInfo",(function(o){this.sChrName=void 0,this.nLevel=void 0,this.btJob=void 0,this.btSex=void 0;this.sChrName=s.readConstomLength(o,{i:0},i.ACTOR_NAME_LEN),this.nLevel=o[15]+(o[16]<<8)+(o[17]<<16)+(o[18]<<24),this.btJob=o[19],this.btSex=o[20]}));t._RF.pop()}}}));

System.register("chunks:///_virtual/OffsetModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,n,r,s,a,i,o,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,s=t.Vec2,a=t.resources,i=t.SpriteAtlas,o=t.Component},function(t){f=t.GameUtil}],execute:function(){var c,u;n._RF.push({},"3b5beRqJCJBrZmSK6nCObkF","OffsetModule",void 0);var l=r.ccclass,d=(r.property,t("OffsetModule",l("OffsetModule")(((u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).dv_=[],e.pieceCount_=[],e}e(n,t),n.ins=function(){return this._ins||(this._ins=new n),this._ins};var r=n.prototype;return r.start=function(){},r.update=function(t){},r.getoffsets=function(t,e,n){var r=new Array;if(-1!=t.indexOf("data/"))for(var s=e;s<=n;s++){var a=("000000"+s).slice(-6),i=t+a,o=f.getImageSetNameByPath(i);null!=o&&""!=o&&r.push(this.getoffsetfromatlas(o,a))}return r},r.getoffset=function(t,e){if(t){var n=new s(0,0);if(-1!=t.indexOf("data/")){var r=("000000"+e).slice(-6),a=t+r,i=f.getImageSetNameByPath(a);null!=i&&""!=i||(n=this.getoffsetfromatlas(i,r))}return n}},r.getoffsetfromatlas=function(t,e){var n=new s(0,0);return a.load(t,i,(function(t,r){if(r){var s=r.getSpriteFrames()[e];s&&s.offset&&(n.x=s.offset.x,n.y=s.offset.y)}})),n},r.parseFile=function(){var t=Laya.loader.getRes("data/json/offsetlist.bin");Laya.loader.clearRes("data/json/offsetlist.bin");for(var e=new Uint8Array(t),n=0,r=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24,s=0;s<r;s++){var a=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24,i=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24,o=e[a],c=f.slice(e,a+1,a+1+o),u=gbkByteArr2UcsStr(c);a+=64,u=u.replace(".bin","");var l=t.slice(a,a+i-64),d=new Int16Array(l);this.dv_[u]=d,this.pieceCount_[u]=d.length/2-1}},n}(o))._ins=void 0,c=u))||c));t("Offsetmodule",d.ins());n._RF.pop()}}}));

System.register("chunks:///_virtual/OtherShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./UIcontrol.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,a,n,i,o,r,s,m,l,h,c,d,g,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Label,m=e.Sprite,l=e.Component},function(e){h=e.EventMgr},function(e){c=e.Config},function(e){d=e.default},function(e){g=e.uiControl},function(e){p=e.sendmessage},function(e){u=e.GameUtil}],execute:function(){var I,_,S,B,G,T,D,f,y;o._RF.push({},"a6ee5236HpHL6pZIErd+b2q","OtherShop",void 0);var L=r.ccclass,C=r.property;e("OtherShop",(I=L("OtherShop"),_=C(s),S=C(s),B=C(s),I((D=t((T=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"shopName",D,i(t)),n(t,"itemName",f,i(t)),n(t,"itemPrice",y,i(t)),t.ItemCanMove=!1,t.LookShopSelectIdx=-1,t}a(t,e);var o=t.prototype;return o.start=function(){h.addEventListener(d.UPDATE_LOOK_S_LIST,this.Look_S_List_Refresh,this),h.addEventListener(d.DEL_OTHER_SHOP_ITEM,this.delOtherShopItem,this),this.init()},o.init=function(){u.loadResLocal("MyShop/myshopwin.png",this.node.getComponent(m)),u.loadResLocal("HumWin/btn_ok.png",this.node.getChildByName("sure").getComponent(m)),u.loadResLocal("HumWin/btn_ok.png",this.node.getChildByName("cancel").getComponent(m)),u.loadResLocal("public/btn_close (2).png",this.node.getChildByName("Button").getChildByName("Sprite").getComponent(m));for(var e=0;e<this.node.getChildByName("ToggleGroup").children.length;e++)u.loadResLocal("ScreenWin/img_bag_bg.png",this.node.getChildByName("ToggleGroup").children[e].getComponent(m)),u.loadResLocal("MyShop/img_bag_bg1.png",this.node.getChildByName("ToggleGroup").children[e].getChildByName("Checkmark").getComponent(m));this.shopName.string=c.g_SelectedName+" 的个人商店",this.showShopItem()},o.showShopItem=function(){for(var e=this,t=function(t){if(!c.G_BaiTanData.Item[t]||null==c.G_BaiTanData.Item[t])return"continue";var a=c.G_BaiTanData.Item[t],n=e.node.getChildByName("ToggleGroup").children[t].getChildByName("Sprite");if(0==a.MakeIndex)return n.getComponent(m).spriteFrame&&(n.getComponent(m).spriteFrame=null,e.LookShopSelectIdx==t&&(e.itemName.string="",e.itemPrice.string="")),n.getChildByName("Label").getComponent(s).string="","continue";u.loadImg(a.s.Looks,"items",(function(e){n.getComponent(m).spriteFrame=e.imgUrl,u.showItemeffect(n,c.G_BaiTanData.Item[t])})),(17==c.G_BaiTanData.Item[t].s.StdMode||18==c.G_BaiTanData.Item[t].s.StdMode||41==c.G_BaiTanData.Item[t].s.StdMode||40==c.G_BaiTanData.Item[t].s.StdMode||42==c.G_BaiTanData.Item[t].s.StdMode||31==c.G_BaiTanData.Item[t].s.StdMode&&-1!=c.G_BaiTanData.Item[t].s.Name.indexOf("经验卷轴"))&&c.G_BaiTanData.Item[t].s.Reserved>0&&c.G_BaiTanData.Item[t].Dura>0?n.getChildByName("Label").getComponent(s).string="x"+(c.G_BaiTanData.Item[t].Dura+1):0==c.G_BaiTanData.Item[t].s.StdMode&&5==c.G_BaiTanData.Item[t].s.Source&&c.G_BaiTanData.Item[t].Dura>0&&(n.getChildByName("Label").getComponent(s).string="x"+c.G_BaiTanData.Item[t].Dura)},a=0;a<c.G_BaiTanData.Item.length;a++)t(a)},o.delOtherShopItem=function(e){for(var t=0;t<c.G_BaiTanData.Items.length;t++){if(null!=c.G_BaiTanData.Items[t]&&c.G_BaiTanData.Items[t].MakeIndex==e)return c.G_BaiTanData.Items[t]=null,void(this.node.getChildByName("ToggleGroup").children[t].getChildByName("Sprite").getComponent(m).spriteFrame=null)}},o.Shop_Listselect=function(e,t){if(this.itemName.string="",this.itemPrice.string="",this.LookShopSelectIdx=t,this.ItemCanMove=!0,c.G_BaiTanData.Item[t]&&0!=c.G_BaiTanData.Item[t].MakeIndex)switch(c.g_OpenIdx=5,c.g_MoveItems.Items=c.G_BaiTanData.Item[t],u.newShowItemsInf(c.g_MoveItems.Items),this.itemName.string=c.g_MoveItems.Items.s.Name,c.G_BaiTanData.Item[t].s.Reserved1){case 0:this.itemPrice.string=c.G_BaiTanData.Item[t].s.Price+" "+c.g_GameGoldNum.key;break;case 1:this.itemPrice.string=c.G_BaiTanData.Item[t].s.Price+" "+c.g_GamePointNum.key;break;case 2:this.itemPrice.string=c.G_BaiTanData.Item[t].s.Price+" "+c.g_GameCionNum.key;break;case 3:this.itemPrice.string=c.G_BaiTanData.Item[t].s.Price+" "+c.g_nGameDiamond.key;break;case 4:this.itemPrice.string=c.G_BaiTanData.Item[t].s.Price+" "+c.g_nGameGird.key}},o.onSure=function(){if(-1!=this.LookShopSelectIdx&&this.LookShopSelectIdx<20&&0!=c.G_BaiTanData.Item[this.LookShopSelectIdx].MakeIndex){var e=c.G_BaiTanData.nRecogId,t=c.G_BaiTanData.Item[this.LookShopSelectIdx].MakeIndex,a=c.G_BaiTanData.Item[this.LookShopSelectIdx].s.Stock,n=c.G_BaiTanData.Item[this.LookShopSelectIdx].s.Price,i="你是否确定购买该物品？ \r\n 物品: 【 "+c.G_BaiTanData.Item[this.LookShopSelectIdx].s.Name+" 】\r\n出售价格："+n+(u.getCurrencyByGoldType(a)+".");g.handlerAlert({type:2,content:i,sF:function(){p.BuyBaiTanItem(e,t,a)}})}},o.Look_S_List_Refresh=function(){this.showShopItem()},o.onClose=function(){this.node.destroy()},o.onDestroy=function(){console.log("关闭摆摊》》》》"),h.removeEventListener(d.UPDATE_LOOK_S_LIST,this.Look_S_List_Refresh),h.removeEventListener(d.DEL_SHOP_ITEM,this.delOtherShopItem,this)},t}(l)).prototype,"shopName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(T.prototype,"itemName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(T.prototype,"itemPrice",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=T))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/PageNumItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts"],(function(e){"use strict";var t,n,i,r,o,c,a,u,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,u=e.Component},function(e){s=e.EventMgr},function(e){l=e.default}],execute:function(){var p,f,d,m,g,v;o._RF.push({},"88d56VFyXxECLcglm2O33Sn","PageNumItem",void 0);var E=c.ccclass,h=c.property,y=c.menu;e("default",(p=E("PageNumItem"),f=y("实例模块/PageNumItem"),d=h(a),p(m=f((v=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"selectNode",v,r(t)),t.index=0,t}n(t,e);var o=t.prototype;return o.start=function(){},o.init=function(e,t){this.index=e,this.selectNode.active=e==t},o.onClickItem=function(){s.raiseEvent(l.HERO_TREASURE_WAREHOUSE_PAGE_CHANGE,[this.index])},t}(u)).prototype,"selectNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./objectcontrol.ts"],(function(e){"use strict";var t,n,o,i,r,l,s,c,a,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.resources,r=e.ParticleAsset,l=e.Node,s=e.ParticleSystem2D,c=e.Component},function(e){a=e.Config},function(e){u=e.Objectcontrol}],execute:function(){var f,p;n._RF.push({},"7358023QOFASpqHYUvK7gRv","ParticleMgr",void 0);var d=o.ccclass,v=(o.property,e("ParticleMgr",d("ParticleMgr")(((p=function(e){function n(){return e.apply(this,arguments)||this}t(n,e),n.ins=function(){return this._ins||(this._ins=new n),this._ins};var o=n.prototype;return o.addPartical=function(e){this.removePartical();var t="Animation/particle/"+e;i.load(t,r,(function(e,t){if(null!=u.self_obj){var n,o=u.self_obj.node.getChildByName("particleNode");null==o?((o=new l("particleNode")).layer=a.canvas_19,u.self_obj.node.addChild(o),o.setPosition(0,280)):null!=(n=o.getComponent(s))&&n.stopSystem(),null==n&&(n=o.addComponent(s)),n.file=t}}))},o.removePartical=function(){if(null!=u.self_obj){var e=u.self_obj.node.getChildByName("particleNode");if(null!=e){var t=e.getComponent(s);null!=t&&(t.stopSystem(),e.removeFromParent(),e.destroy())}}},n}(c))._ins=void 0,f=p))||f));e("particleMgr",v.ins());n._RF.pop()}}}));

System.register("chunks:///_virtual/PersonalStore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,o,i,n,r,a,s,l,h,m,p,c,g,u,d,_,b,C,y,S,f,B,I,v,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Prefab,l=e.Button,h=e.Node,m=e.Label,p=e.EditBox,c=e.Sprite,g=e.instantiate,u=e.NodeEventType,d=e.UITransform,_=e.Vec3,b=e.Component},function(e){C=e.EventMgr},function(e){y=e.Config},function(e){S=e.default},function(e){f=e.resourcesMgr},function(e){B=e.uiControl},function(e){I=e.objectmanage},function(e){v=e.sendmessage},function(e){x=e.GameUtil}],execute:function(){var N,P,w,R,T,E,L,M,G,O,A,z,D,j,k,U,V,H,W,F,Q,K,J,X,q,Y,Z,$,ee,te,oe,ie,ne,re,ae,se,le;r._RF.push({},"6bb57XvS/9KMKfRxx2aFohJ","PersonalStore",void 0);var he=a.ccclass,me=a.property;e("PersonalStore",(N=he("PersonalStore"),P=me(s),w=me(l),R=me(h),T=me(h),E=me(m),L=me(m),M=me(p),G=me(p),O=me(p),A=me(p),z=me(s),D=me(s),j=me(l),k=me(l),U=me(l),V=me(l),H=me(l),N((Q=t((F=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"pref_ComBoBox",Q,n(t)),i(t,"btn_myshop",K,n(t)),i(t,"box_0",J,n(t)),i(t,"box_1",X,n(t)),i(t,"store_num",q,n(t)),i(t,"item_num",Y,n(t)),i(t,"input_search",Z,n(t)),i(t,"ItemSearch",$,n(t)),i(t,"price_low",ee,n(t)),i(t,"price_high",te,n(t)),i(t,"PerStore_shop",oe,n(t)),i(t,"PerStoreItem",ie,n(t)),i(t,"searchType",ne,n(t)),i(t,"sort",re,n(t)),i(t,"ItemType",ae,n(t)),i(t,"ItemSort",se,n(t)),i(t,"pricetype",le,n(t)),t.comBoBox=null,t.MaxPage=1,t.CurPage=1,t.searchType_list=["店铺名称","店主名称"],t.searchType_idx=0,t.sort_list=["物品总数从高到低","物品总数从低到高","销量从高到低","销量从低到高","关注度从高到低","关注度从低到高"],t.sort_idx=0,t.ItemType_list=["所有","装饰","补给","强化","好友","限量","奇珍"],t.ItemType_idx=0,t.ItemSort_list=["价格从低到高","价格从高到低"],t.ItemSort_idx=0,t.pricetype_list=["不限","元宝","游戏点","金币"],t.pricetype_idx=0,t}o(t,e);var r=t.prototype;return r.start=function(){var e=this.node.getChildByName("bg").getComponent(c);x.loadResLocal("PersonalStore/personalstore_bg.png",e);var t=this.node.getChildByName("box0").getChildByName("Layout").children;this.handleloadRes(t);var o=this.node.getChildByName("box0").getChildByName("input_search").getComponent(c);x.loadResLocal("public/jiaoyi_input.png",o);var i=this.node.getChildByName("box0").getChildByName("sort").getComponent(c);x.loadResLocal("SplitResource/Btns/combobox (2).png",i);var n=this.node.getChildByName("box0").getChildByName("searchType").getComponent(c);x.loadResLocal("SplitResource/Btns/combobox (2).png",n);var r=this.node.getChildByName("box0").getChildByName("btn_search").getComponent(c);x.loadResLocal("SplitResource/Btns/combobox (2).png",r);var a=this.node.getChildByName("box1").getChildByName("Layout").children;this.handleloadRes(a);var s=this.node.getChildByName("box1").getChildByName("ItemSearch").getComponent(c);x.loadResLocal("public/jiaoyi_input.png",s);var l=this.node.getChildByName("box1").getChildByName("ItemType").getComponent(c);x.loadResLocal("SplitResource/Btns/combobox (2).png",l);var h=this.node.getChildByName("box1").getChildByName("pricetype").getComponent(c);x.loadResLocal("SplitResource/Btns/combobox (2).png",h);var m=this.node.getChildByName("box1").getChildByName("ItemSort").getComponent(c);x.loadResLocal("SplitResource/Btns/combobox (2).png",m);var p=this.node.getChildByName("box1").getChildByName("btn_itemsearch").getComponent(c);x.loadResLocal("public/btn_ok.png",p);var g=this.node.getChildByName("box1").getChildByName("price_low").getComponent(c);x.loadResLocal("public/jiaoyi_input.png",g);var u=this.node.getChildByName("box1").getChildByName("price_high").getComponent(c);x.loadResLocal("public/jiaoyi_input.png",u);var d=this.node.getChildByName("btn_allstore").getComponent(c);x.loadResLocal("SplitResource/SendRedPack/btn_ok (2).png",d);var _=this.node.getChildByName("btn_buyitem").getComponent(c);x.loadResLocal("SplitResource/SendRedPack/btn_ok (2).png",_);var b=this.node.getChildByName("Button").getComponent(c);x.loadResLocal("public/btn_close (2).png",b)},r.handleloadRes=function(e){for(var t=e,o=0;o<t.length;o++){var i=t[o].getComponent(c);x.loadResLocal("public/jiaoyi_input.png",i)}},r.init=function(){C.addEventListener(S.REMOEV_ANI,this.removeAni,this),C.addEventListener(S.GAME_SHOW_PERSONALSTORE,this.showStore,this),C.addEventListener(S.GAME_SHOW_PERSONALITEMS,this.showPresonalItem,this),C.addEventListener(S.GAME_SHOW_PAGE,this.ShowPage,this)},r.update=function(e){},r.showBox=function(e){var t=e.target.name;"btn_allstore"==t?(this.onSearchShop(),this.box_0.active=!0,this.box_1.active=!1):"btn_buyitem"==t&&(this.onSearchItem(),this.box_0.active=!1,this.box_1.active=!0)},r.showStore=function(e){var t=this.box_0.getChildByName("list1");t.removeAllChildren();for(var o=0;o<e.length;o++){var i=e[o],n=g(this.PerStore_shop),r=-25*o-12.5;n.setPosition(0,r);var a="";switch(i.btState){case 0:a="在线";break;case 1:a="摆摊";break;case 2:a="离线"}y.g_StoreOnline=a;for(var s=n.children[0],l=s.getChildByName("lable_shopName"),h=s.getChildByName("lable_name"),p=s.getChildByName("lable_time"),d=s.getChildByName("lable_itemNum"),_=s.getChildByName("lable_num"),b=s.getChildByName("lable_state"),C=s.getChildByName("label_attention"),S=s.children,f=0;f<S.length;f++){var B=S[f].getComponent(c);x.loadResLocal("public/jiaoyi_input.png",B)}l.getComponentInChildren(m).string=i.sShopName,h.getComponentInChildren(m).string=i.sMasterName,p.getComponentInChildren(m).string=i.dCreateDate,d.getComponentInChildren(m).string=i.nSellingItemCount,_.getComponentInChildren(m).string=i.nSelledItemCount,b.getComponentInChildren(m).string=a,C.getComponentInChildren(m).string=i.nCareValue,l.on(u.TOUCH_END,this.onShowOtherStore.bind(this,i),this),t.addChild(n)}},r.onShowOtherStore=function(e){var t=e.sMasterName,o=I.ins().findobject(y.playerID);t&&""!=t&&(y.g_StoreName=t),y.g_RoleNameOnly==t?v.QuerySelectShopInfo(y.g_RoleNameOnly,o.data.record):v.QueryUserShopItems(0,0,0,0,0,"",t),this.closeView()},r.showPresonalItem=function(e){var t=this.box_1.getChildByName("list2");t.removeAllChildren();for(var o=I.ins().findobject(y.playerID),i=0;i<e.length;i++){var n=e[i],r=g(this.PerStoreItem),a=-40*i-20;r.setPosition(0,a);var s="";s=o&&o.dbName&&n.sMasterName==o.dbName?"取回":"购买";for(var l=r.children[0],h=l.getChildByName("ItemImg"),p=l.getChildByName("ItemName"),d=l.getChildByName("ItemPrice"),_=l.getChildByName("ShopName"),b=l.getChildByName("ShopkeeperName"),C=l.getChildByName("ItemType"),S=l.getChildByName("ItemBy"),f=l.children,B=0;B<f.length;B++){var v=f[B].getComponent(c);x.loadResLocal("public/jiaoyi_input.png",v)}x.showItemNum(n.Item,h),p.getComponentInChildren(m).string=n.Item.s.Name,d.getComponentInChildren(m).string=n.Item.s.Price+" "+this.pricetype_list[n.btMoneyType+1],_.getComponentInChildren(m).string=n.sShopName,b.getComponentInChildren(m).string=n.sMasterName,C.getComponentInChildren(m).string=this.ItemType_list[n.btItemType+1],S.getComponentInChildren(m).string=s,S.on(u.TOUCH_END,this.onBtnBy.bind(this,[s,n]),this),t.addChild(r)}},r.onBtnBy=function(e){if(e&&2==e.length){var t=e[0],o=e[1].Item.MakeIndex,i=e[1].sMasterName,n=e[1].Item.s.Name,r=e[1].Item.s.Price,a=this.pricetype_list[e[1].btMoneyType];if("购买"==t){if(o&&""!=o){B.handlerAlert({type:2,content:'是否确认购买"'+n+'"?',sF:function(){v.SendBuyUserShopItem(o,i,a,r)}})}}else"取回"==t&&o&&""!=o&&v.SendMoveMyShopItem(o,0,2,n)}},r.onChangePage=function(e){switch(e.target.name){case"btn_first":this.box_0.active?y.G_Cur_Store_Page>0&&v.GetUserShops(0):this.box_1.active&&y.G_Cur_Item_Page>0&&v.SearchGetShopItems(0);break;case"btn_previous":this.box_0.active?y.G_Cur_Store_Page>0&&v.GetUserShops(y.G_Cur_Store_Page-8):this.box_1.active&&y.G_Cur_Item_Page>0&&v.SearchGetShopItems(y.G_Cur_Item_Page-5);break;case"btn_next":this.box_0.active?y.G_Total_Store_num-y.G_Cur_Store_Page>8&&v.GetUserShops(y.G_Cur_Store_Page+8):this.box_1.active&&y.G_Total_Item_num-y.G_Cur_Item_Page>5&&v.SearchGetShopItems(y.G_Cur_Item_Page+5);break;case"btn_last":this.box_0.active?y.G_Total_Store_num-y.G_Cur_Store_Page>8&&v.GetUserShops(8*(this.MaxPage-1)):this.box_1.active&&y.G_Total_Item_num-y.G_Cur_Item_Page>5&&v.SearchGetShopItems(5*(this.MaxPage-1))}},r.ShowPage=function(e){var t=e[0],o=e[1],i=e[2];this.MaxPage=Math.ceil(t/i),this.CurPage=Math.ceil(o/i)+1,0==t&&(this.CurPage=0),5==i?this.item_num.string=this.CurPage+"/"+this.MaxPage:8==i&&(this.store_num.string=this.CurPage+"/"+this.MaxPage)},r.onSearchShop=function(){var e=this.input_search.string,t=this.searchType_idx,o=this.sort_idx;v.QueryUserShops(t,o,e)},r.onSearchItem=function(){var e=parseInt(this.price_low.string),t=parseInt(this.price_high.string),o=this.ItemType_idx,i=this.pricetype_idx,n=this.ItemSort_idx,r=this.ItemSearch.string;v.SearchShopItems(e,t,o,i,n,r)},r.onShowComboBox=function(e){var t=this,o=e.target.name,i=e.target.getComponent(d).width;if(this.comBoBox=g(this.pref_ComBoBox),this.comBoBox.setParent(e.target),this.comBoBox.setPosition(new _(0,-e.target.getComponent(d).height/2)),"searchType"==o){var n={items:this.searchType_list,width:i};this.comBoBox.getComponent("ComBoBox").upDataView(n,(function(e,o){t.searchType_idx=o,t.searchType.getComponentInChildren(m).string=e}),!0)}else if("sort"==o){var r={items:this.sort_list,width:i};this.comBoBox.getComponent("ComBoBox").upDataView(r,(function(e,o){t.sort_idx=o,t.sort.getComponentInChildren(m).string=e}),!0)}else if("ItemType"==o){var a={items:this.ItemType_list,width:i};this.comBoBox.getComponent("ComBoBox").upDataView(a,(function(e,o){t.ItemType_idx=o,t.ItemType.getComponentInChildren(m).string=e}),!0)}else if("ItemSort"==o){var s={items:this.ItemSort_list,width:i};this.comBoBox.getComponent("ComBoBox").upDataView(s,(function(e,o){t.ItemSort_idx=o,t.ItemSort.getComponentInChildren(m).string=e}),!0)}else if("pricetype"==o){var l={items:this.pricetype_list,width:i};this.comBoBox.getComponent("ComBoBox").upDataView(l,(function(e,o){t.pricetype_idx=o,t.pricetype.getComponentInChildren(m).string=e}),!0)}},r.sendShowMyShop=function(){var e=I.ins().findobject(y.playerID);e&&e.txt_name&&(v.QuerySelectShopInfo(y.g_RoleNameOnly,e.data.record),this.closeView())},r.onDestroy=function(){C.removeEventListener(S.REMOEV_ANI,this.removeAni,this),C.removeEventListener(S.GAME_SHOW_PERSONALSTORE,this.showStore,this),C.removeEventListener(S.GAME_SHOW_PERSONALITEMS,this.showPresonalItem,this),C.removeEventListener(S.GAME_SHOW_PAGE,this.ShowPage,this);f.resClean(["PersonalStore/personalstore_bg.png"])},r.closeView=function(){this.node.destroy()},r.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(b)).prototype,"pref_ComBoBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"btn_myshop",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"box_0",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"box_1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"store_num",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"item_num",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"input_search",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(F.prototype,"ItemSearch",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(F.prototype,"price_low",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(F.prototype,"price_high",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(F.prototype,"PerStore_shop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(F.prototype,"PerStoreItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(F.prototype,"searchType",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(F.prototype,"sort",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(F.prototype,"ItemType",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(F.prototype,"ItemSort",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(F.prototype,"pricetype",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=F))||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/PetItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,i,l,n,o,r,a,c,s,u,p,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Label,c=e.Node,s=e.Sprite,u=e.Color,p=e.color,m=e.Component},function(e){f=e.GameUtil}],execute:function(){var h,b,v,L,d,g,y,N,T,_,C,P,z,I;o._RF.push({},"44bbbHj9tVK6L6f0M8c7kAd","PetItem",void 0);var w=r.ccclass,W=r.property,k=r.menu;e("default",(h=w("PetItem"),b=k("实例模块/PetItem"),v=W(a),L=W(a),d=W(a),g=W(a),y=W(c),h(N=b((_=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,l(t,"nameTitle",_,n(t)),l(t,"levelTitle",C,n(t)),l(t,"petName",P,n(t)),l(t,"petLevel",z,n(t)),l(t,"selectNode",I,n(t)),t.onItemClick=null,t.index=0,t}i(t,e);var o=t.prototype;return o.start=function(){f.loadResLocal("PetWin/pet_list_bg.png",this.node.getComponent(s)),f.loadResLocal("PetWin/pet_list_select_bg.png",this.selectNode.getComponent(s))},o.init=function(e){this.petName.string=e.name,this.petLevel.string=e.level.toString()},o.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},o.setSelected=function(e){this.selectNode.active=e},o.setNameColor=function(e){e?(this.nameTitle.color=u.YELLOW,this.levelTitle.color=u.YELLOW,this.petName.color=u.YELLOW,this.petLevel.color=u.YELLOW):(this.nameTitle.color=p(204,174,135),this.levelTitle.color=p(204,174,135),this.petName.color=p(204,174,135),this.petLevel.color=p(204,174,135))},t}(m)).prototype,"nameTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(T.prototype,"levelTitle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(T.prototype,"petName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(T.prototype,"petLevel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"selectNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=T))||N)||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/PetWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./UIcontrol.ts","./Sendmessage.ts","./List.ts","./GameMission.ts","./GameUtil.ts","./PetItem.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,l,c,u,p,h,d,m,f,g,C,_,P,v,w,I,S,N,b,x,T,y,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Label,l=e.Node,c=e.Button,u=e.Sprite,p=e.v3,h=e.UITransform,d=e.Vec3,m=e.Layers,f=e.v2,g=e.Component},function(e){C=e.EventMgr},function(e){_=e.Config},function(e){P=e.default},function(e){v=e.CUSTOM_BUTTON_WIN_TYPE,w=e.PetData},function(e){I=e.Animationmodule},function(e){S=e.resourcesMgr},function(e){N=e.uiControl},function(e){b=e.sendmessage},function(e){x=e.default},function(e){T=e.gameMission},function(e){y=e.GameUtil},function(e){E=e.default}],execute:function(){var A,G,M,B,L,R,k,D,z,U,O,H,F,W,Y,V,X,j,q,J,K,Q,Z,$;a._RF.push({},"4b541WdVfBCiIChvgzSqIGx","PetWin",void 0);var ee=s.ccclass,te=s.property,ne=s.menu;e("default",(A=ee("PetWin"),G=ne("弹窗模块/PetWin"),M=te(r),B=te(l),L=te(l),R=te(l),k=te(r),D=te(x),z=te(l),U=te(c),O=te(c),H=te(l),A(F=G((Y=t((W=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"petName",Y,o(t)),i(t,"weaponNode",V,o(t)),i(t,"clothesNode",X,o(t)),i(t,"customAniNode",j,o(t)),i(t,"petExp",q,o(t)),i(t,"list",J,o(t)),i(t,"contentNode",K,o(t)),i(t,"callButton",Q,o(t)),i(t,"reCallButton",Z,o(t)),i(t,"customButtonNode",$,o(t)),t.ani_node_arr=[],t.pet_data=[],t.select_pet_index=0,t.pet_items=[],t}n(t,e);var a=t.prototype;return a.start=function(){b.sendGamePetSelectChange(0),b.customButtonClick(61),this.initMsgEvent(),this.pet_data=_.g_GamePetList,this.list.numItems=this.pet_data.length,this.callButton.interactable=-1==_.g_CurrentRecallGamePetIndex,this.reCallButton.interactable=-1!=_.g_CurrentRecallGamePetIndex,this.callButton.getComponent(u).grayscale=-1!=_.g_CurrentRecallGamePetIndex,this.reCallButton.getComponent(u).grayscale=-1==_.g_CurrentRecallGamePetIndex},a.RenderItemHandler=function(e,t){var n=this.pet_data[t];if(n){var i=e.getComponent(E);i.index=t;var o=!1;this.pet_items.length>0&&this.pet_items.forEach((function(e,n){e.index!=t&&(o=!0)})),(o||0==this.pet_items.length)&&this.pet_items.push(i);var a=new w;a.name=n.sName,a.level=n.GamePetAbility.Level,i.init(a),i.onItemClick=this.onPetItemClicked.bind(this),this.select_pet_index!=t?i.setSelected(!1):(i.setSelected(!0),this.initPetData(this.pet_data[this.select_pet_index])),-1!=_.g_CurrentRecallGamePetIndex&&t==_.g_CurrentRecallGamePetIndex&&i.setNameColor(!0)}},a.initMsgEvent=function(){C.addEventListener(P.UPDATE_PET_LIST,this.updatePetList,this),C.addEventListener(P.SET_GAME_PET,this.updateSetPet,this),C.addEventListener(P.ADD_CUSTOM_BUTTON,this.addCustomButton,this)},a.onPetItemClicked=function(e){var t=this;this.contentNode.children.forEach((function(n,i){var o=n.getComponent(E);if(o.index==e){if(t.select_pet_index==e)return;t.select_pet_index=e,o.setSelected(!0),b.sendGamePetSelectChange(t.select_pet_index),t.initPetData(t.pet_data[t.select_pet_index])}else o.setSelected(!1)}))},a.initPetData=function(e,t){if(this.petName.string=e.sName,this.petExp.string=e.GamePetAbility.Exp+"/"+e.GamePetAbility.MaxExp,!t){if(y.removeItemAni(this.weaponNode,"peteffect"),y.removeItemAni(this.clothesNode,"peteffect"),y.removeItemAni(this.customAniNode,"peteffect"),65535!=e.ShowConfig.ShowFile1){var n,i=parseInt(e.ShowConfig.ShowFile1)-1,o=parseInt(e.ShowConfig.ShowStart1),a=parseInt(e.ShowConfig.ShowCount1),s=parseInt(e.ShowConfig.ShowTime1),r=parseInt(e.ShowConfig.ShowOffsetX1),l=parseInt(e.ShowConfig.ShowOffsetY1),c=_.g_pak_list[i],u=p(r>6e4?r-65536:r,l>6e4?l-65536:l),d=y.LayaPointToCocosPoint(u,this.weaponNode.getComponent(h).width,this.weaponNode.getComponent(h).height);(n=I.playframe(!1,this.weaponNode,"data/"+c+"/",o,o+a-1,s,!0,!1,d))&&(n.name="peteffect"+this.weaponNode.uuid)}if(65535!=e.ShowConfig.ShowFile2){var m,f=parseInt(e.ShowConfig.ShowFile2)-1,g=parseInt(e.ShowConfig.ShowStart2),C=parseInt(e.ShowConfig.ShowCount2),P=parseInt(e.ShowConfig.ShowTime2),v=parseInt(e.ShowConfig.ShowOffsetX2),w=parseInt(e.ShowConfig.ShowOffsetY2),S=_.g_pak_list[f],N=p(v>6e4?v-65536:v,w>6e4?w-65536:w),b=y.LayaPointToCocosPoint(N,this.clothesNode.getComponent(h).width,this.clothesNode.getComponent(h).height);(m=I.playframe(!1,this.clothesNode,"data/"+S+"/",g,g+C-1,P,!0,!1,b))&&(m.name="peteffect"+this.clothesNode.uuid)}}},a.onDestroy=function(){C.removeEventListener(P.UPDATE_PET_LIST,this.updatePetList,this),C.removeEventListener(P.SET_GAME_PET,this.updateSetPet,this),C.removeEventListener(P.ADD_CUSTOM_BUTTON,this.addCustomButton,this)},a.onClickCallPet=function(){b.sendGamePetReCall(this.select_pet_index)},a.onClickReTake=function(){b.sengGamePetReTake(this.select_pet_index)},a.onClickPutPetToBag=function(){b.sendGamePetToBag(this.select_pet_index)},a.updatePetList=function(){this.pet_data=_.g_GamePetList,this.select_pet_index==this.pet_data.length&&(this.select_pet_index=this.pet_data.length-1),this.list.numItems=this.pet_data.length,0==this.pet_data.length&&(this.petName.string="",this.petExp.string="",y.removeItemAni(this.weaponNode,"peteffect"),y.removeItemAni(this.clothesNode,"peteffect"),y.removeItemAni(this.customAniNode,"peteffect"))},a.updatePetDate=function(e){this.initPetData(e,!0);for(var t=0;t<this.pet_items.length;t++)if(this.pet_items[t].petName.string==e.sName){var n=new w;n.name=e.sName,n.level=e.GamePetAbility.Level,this.pet_items[t].init(n);break}},a.onClickAutoEat=function(){-1!=_.g_CurrentRecallGamePetIndex?b.customButtonClick(851):N.handlerAlert({type:1,content:"请先召唤你的战宠"})},a.onClickAllPetList=function(){b.customButtonClick(850)},a.updateSetPet=function(){if(this.callButton.interactable=-1==_.g_CurrentRecallGamePetIndex,this.reCallButton.interactable=-1!=_.g_CurrentRecallGamePetIndex,this.callButton.getComponent(u).grayscale=-1!=_.g_CurrentRecallGamePetIndex,this.reCallButton.getComponent(u).grayscale=-1==_.g_CurrentRecallGamePetIndex,-1==_.g_CurrentRecallGamePetIndex)for(var e=0;e<this.contentNode.children.length;e++){var t=this.contentNode.children[e].getComponent(E);if(t.index==this.select_pet_index){t.setNameColor(!1);break}}else for(var n=0;n<this.contentNode.children.length;n++){var i=this.contentNode.children[n].getComponent(E);if(i.index==_.g_CurrentRecallGamePetIndex){i.setNameColor(!0);break}}},a.closeView=function(){y.removeItemAni(this.weaponNode,"peteffect"),y.removeItemAni(this.clothesNode,"peteffect"),y.removeItemAni(this.customAniNode,"peteffect"),this.ani_node_arr.length>1&&this.ani_node_arr.forEach((function(e,t){y.removeItemAni(e,"peteffect")})),this.node.destroy()},a.addCustomButton=function(e){var t=this,n=e;if(n.btMove==v.PET){if(""==n.sHintMsg||-1!=n.sHintMsg.indexOf("PlayImg")){var i=new d(0,0),o="";return-1!=n.sHintMsg.indexOf("\r")&&-1!=n.sHintMsg.indexOf("PlayImg")?(n.sHintMsg=n.sHintMsg.replace("\r",""),o=n.sHintMsg):n.sCaption&&(o=n.sCaption),void y.LineText_PLAYIMG(o,i,this.customAniNode,!0)}var a=new l;this.customButtonNode.addChild(a),a.layer=m.Enum.UI_2D,a.addComponent(u),a.getComponent(h).anchorPoint=f(0,1);var s=a.addComponent(c);s.transition=c.Transition.SCALE,s.zoomScale=.9;var r=n.nTag;""!=n.sHintMsg&&a.on(l.EventType.TOUCH_START,(function(e){var t=a.parent.getComponent(h).convertToWorldSpaceAR(a.position),i={str:n.sHintMsg,pos:t};_.MainScene.openClickTop(i)})),a.on(l.EventType.TOUCH_END,(function(e){b.imageButtonClick(r)}));var g=_.g_pak_list[n.nFileIndex],C=T.getUrls(g,n.nHotImage);a.getComponent(u).sizeMode=u.SizeMode.TRIMMED,S.handleLoad(C.plistPath,(function(e){if(e){a.getComponent(u).spriteFrame=e.getSpriteFrame(C.imgName);var i=n.nLeft-1.5*a.getComponent(h).width-10,o=-n.nTop+a.getComponent(h).height/2-10;if(a.setPosition(p(i,o)),n.sCaption){t.ani_node_arr.push(a);var s=new d(a.getComponent(h).width/2,a.getComponent(h).height/2);y.LineText_PLAYIMG(n.sCaption,s,a,!0)}}}))}},t}(g)).prototype,"petName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(W.prototype,"weaponNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(W.prototype,"clothesNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(W.prototype,"customAniNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(W.prototype,"petExp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(W.prototype,"list",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(W.prototype,"contentNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(W.prototype,"callButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(W.prototype,"reCallButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(W.prototype,"customButtonNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=W))||F)||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/PetWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,n,i,l,r,a,o,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,o=t.Sprite,u=t.Button,c=t.Component},function(t){p=t.GameUtil}],execute:function(){var s,_,b,B,g,f,P,d,h,y,W,m,v,w,L,R,z,S;r._RF.push({},"86090/Y0iVL4oXQ+CVDTCRC","PetWinSprite",void 0);var G=a.ccclass,C=a.property,D=a.menu;t("default",(s=G("PetWinSprite"),_=D("图片模块/PetWinSprite"),b=C(o),B=C(o),g=C(u),f=C(u),P=C(u),d=C(u),h=C(u),s(y=_((m=e((W=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"BG",m,l(e)),i(e,"closeBtn",v,l(e)),i(e,"callBtn",w,l(e)),i(e,"receiveBtn",L,l(e)),i(e,"putBagBtn",R,l(e)),i(e,"autoEatBtn",z,l(e)),i(e,"allPetBtn",S,l(e)),e}return n(e,t),e.prototype.start=function(){p.loadResLocal("PetWin/pet_bg.png",this.BG),p.loadResLocal("public/btn_close_new.png",this.closeBtn),p.loadResLocalButton("PetWin/pet_call_disable.png","PetWin/pet_call_select.png",this.callBtn),p.loadResLocalButton("PetWin/pet_receive_disable.png","PetWin/pet_receive_select.png",this.receiveBtn),p.loadResLocalButton("PetWin/pet_put_bag_disable.png","PetWin/pet_put_bag_select.png",this.putBagBtn),p.loadResLocalButton("PetWin/pet_auto_eat_disable.png","PetWin/pet_auto_eat_select.png",this.autoEatBtn),p.loadResLocalButton("PetWin/warehouse_put_equip_checkmark.png","PetWin/warehouse_put_equip.png",this.allPetBtn)},e}(c)).prototype,"BG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(W.prototype,"closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(W.prototype,"callBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(W.prototype,"receiveBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(W.prototype,"putBagBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(W.prototype,"autoEatBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(W.prototype,"allPetBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=W))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/PickUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./GameUtil.ts","./List.ts","./FilterItem.ts","./ComBoBox.ts"],(function(t){"use strict";var e,i,n,o,l,r,s,a,c,m,u,p,f,_,g,h,b,d,y,B,C,v,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.Node,a=t.Prefab,c=t.Button,m=t.EditBox,u=t.Sprite,p=t.instantiate,f=t.v3,_=t.UITransform,g=t.Label,h=t.sys,b=t.Component},function(t){d=t.EventMgr},function(t){y=t.Config},function(t){B=t.GameUtil},function(t){C=t.default},function(t){v=t.FilterItem},function(t){L=t.ComBoBox}],execute:function(){var S,k,x,I,P,w,z,T,U,O,A,D,G,E,j;l._RF.push({},"07de1syoh1B8qp8zacsi0d0","PickUp",void 0);var F=r.ccclass,H=r.property;t("PickUp",(S=F("PickUp"),k=H(C),x=H(s),I=H(a),P=H(c),w=H(m),z=H(c),S((O=e((U=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"list_filteritem",O,o(e)),n(e,"content",A,o(e)),n(e,"pref_ComBoBox",D,o(e)),n(e,"btn_class",G,o(e)),n(e,"edit_search_name",E,o(e)),n(e,"btn_search",j,o(e)),e.comBoBox=null,e._itemSort_list=[],e._AllItemList=null,e}i(e,t);var l=e.prototype;return l.start=function(){B.loadResLocal("Auxiliary/gxx/seting_pickTitle.png",this.node.getChildByName("bg").getComponent(u)),B.loadResLocalButton("Socialize/redpak_combobox.png","Socialize/redpak_combobox (3).png",this.btn_class),d.addEventListener("SAVEALLITEMLIST",this.saveAllItemList,this)},l.updateView=function(){this._itemSort_list=[],this._itemSort_list=Object.keys(B.getDataOfPickUpType(y.GlobalCfglist.itemtype));var t=this._itemSort_list.length;this.list_filteritem.numItems=t},l.renderListFilterItemHandle=function(t,e){var i=B.getDataOfPickUpType(y.GlobalCfglist.itemtype)[this._itemSort_list[e]];t.getComponent(v).updateView(i)},l.onClickBtnClassHandle=function(t){var e=this,i=t.target;this.comBoBox=p(this.pref_ComBoBox),this.comBoBox.setParent(i),this.comBoBox.setPosition(f(0,-i.getComponent(_).height/2));var n={items:["全部","其它类","药品类","服装类","武器类","首饰类","饰品类","服饰类"],width:i.getComponent(_).width};this.comBoBox.getComponent(L).upDataView(n,(function(t){e.btn_class.node.getChildByName("Label").getComponent(g).string=t,y.GlobalCfglist.itemtype=n.items.indexOf(t),e._itemSort_list=Object.keys(B.getDataOfPickUpType(y.GlobalCfglist.itemtype));var i=e._itemSort_list.length;e.list_filteritem.numItems=i,e.list_filteritem.scrollTo(-1)}))},l.onClickBtnSearchHandle=function(){var t=this.edit_search_name.string;if(""!=t&&y.g_filterItemList[t]){var e={};e[t]=y.g_filterItemList[t],this._itemSort_list=Object.keys(e)}else this._itemSort_list=Object.keys(B.getDataOfPickUpType(y.GlobalCfglist.itemtype));var i=this._itemSort_list.length;this.list_filteritem.numItems=i,this.list_filteritem.scrollTo(-1)},l.saveAllItemList=function(){h.localStorage.setItem("AllItemList",JSON.stringify(y.g_filterItemList))},l.update=function(t){},e}(b)).prototype,"list_filteritem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(U.prototype,"content",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(U.prototype,"pref_ComBoBox",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(U.prototype,"btn_class",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(U.prototype,"edit_search_name",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(U.prototype,"btn_search",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=U))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopulationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,e=t.Component}],execute:function(){var a;o._RF.push({},"ea866sHxB1LvY1xoNarqx0c","PopulationManager",void 0);var u=r.ccclass;r.property,t("PopulationManager",u("PopulationManager")(a=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.start=function(){},r.update=function(t){},o}(e))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/Profession.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./Struct.ts","./SkillModule.ts","./objectmanage.ts","./GameApi.ts","./GameUtil.ts"],(function(l){"use strict";var i,e,t,s,a,o,n,r,g,u,_,c,b,h,f,C,d,k,m,p,D,S,H,T,y,N,E;return{setters:[function(l){i=l.applyDecoratedDescriptor,e=l.inheritsLoose,t=l.initializerDefineProperty,s=l.assertThisInitialized},function(l){a=l.cclegacy,o=l._decorator,n=l.Node,r=l.Toggle,g=l.Label,u=l.NodeEventType,_=l.Sprite,c=l.Button,b=l.EditBox,h=l.Slider,f=l.ProgressBar,C=l.UITransform,d=l.v3,k=l.Component},function(l){m=l.EventMgr},function(l){p=l.Config},function(l){D=l.TITLE_Type},function(l){S=l.default},function(l){H=l.Struct_ins},function(l){T=l.Skillmodule},function(l){y=l.ObjectManage},function(l){N=l.GameApi},function(l){E=l.GameUtil}],execute:function(){var L,G,w,I,B,U,v,O,z,M,F,x,Z,P,A,R,j,K,$,Y,V,J,W,X,q,Q,ll,il,el,tl,sl,al,ol,nl,rl,gl,ul,_l,cl,bl,hl,fl,Cl,dl,kl,ml,pl,Dl,Sl,Hl,Tl,yl,Nl,El,Ll,Gl,wl,Il,Bl,Ul,vl,Ol,zl,Ml,Fl,xl,Zl,Pl,Al,Rl,jl,Kl,$l,Yl,Vl,Jl,Wl,Xl,ql,Ql,li;a._RF.push({},"06febfLYFhGBpirX7U2IiuD","Profession",void 0);var ii=o.ccclass,ei=o.property;l("Profession",(L=ii("Profession"),G=ei(n),w=ei(n),I=ei(n),B=ei(n),U=ei(n),v=ei(n),O=ei(n),z=ei(n),M=ei(n),F=ei(n),x=ei(n),Z=ei(n),P=ei(n),A=ei(n),R=ei(n),j=ei(n),K=ei(n),$=ei(n),Y=ei(n),V=ei(n),J=ei(n),W=ei(n),X=ei(n),q=ei(n),Q=ei(n),ll=ei(n),il=ei(n),el=ei(n),tl=ei(n),sl=ei(n),al=ei(n),ol=ei(n),nl=ei(n),rl=ei(n),gl=ei(n),ul=ei(r),_l=ei(n),cl=ei(g),bl=ei(n),L((Cl=i((fl=function(l){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=l.call.apply(l,[this].concat(a))||this,t(i,"lab_Exercise",Cl,s(i)),t(i,"lab_DsCure",dl,s(i)),t(i,"lab_SingleDs",kl,s(i)),t(i,"lab_GroupDs",ml,s(i)),t(i,"lab_PickItemsFirst",pl,s(i)),t(i,"lab_AutoDodge",Dl,s(i)),t(i,"lab_ZautoSkill1",Sl,s(i)),t(i,"lab_ZautoSkill2",Hl,s(i)),t(i,"lab_Zsgwcs",Tl,s(i)),t(i,"lab_ZautoSkill3",yl,s(i)),t(i,"lab_Zszrjf",Nl,s(i)),t(i,"lab_ZautoSkill4",El,s(i)),t(i,"lab_Zslyjf",Ll,s(i)),t(i,"lab_FautoSkill1",Gl,s(i)),t(i,"lab_FkeepSkill1",wl,s(i)),t(i,"lab_IceRoar",Il,s(i)),t(i,"lab_BombFire",Bl,s(i)),t(i,"lab_IncendiaryShower",Ul,s(i)),t(i,"lab_FastLight",vl,s(i)),t(i,"lab_DautoSkill3",Ol,s(i)),t(i,"lab_PoisonDs",zl,s(i)),t(i,"lab_DsSummon",Ml,s(i)),t(i,"lab_DautoSkill2",Fl,s(i)),t(i,"lab_DautoSkill5",xl,s(i)),t(i,"lab_DautoSkill6",Zl,s(i)),t(i,"lab_DautoSkill4",Pl,s(i)),t(i,"lab_Hurricane",Al,s(i)),t(i,"exercise_list",Rl,s(i)),t(i,"ds_cure_list",jl,s(i)),t(i,"single_ds_list",Kl,s(i)),t(i,"group_ds_list",$l,s(i)),t(i,"ds_summon_list",Yl,s(i)),t(i,"edit_DsCureLimit",Vl,s(i)),t(i,"btn_DautoSkill1",Jl,s(i)),t(i,"sli_DsLimit",Wl,s(i)),t(i,"tog_arr",Xl,s(i)),t(i,"list_arr",ql,s(i)),t(i,"lab_group_skill_num",Ql,s(i)),t(i,"sli_group_skill_num",li,s(i)),i._skillList="",i._skillList0="",i._skillList1="",i._skillList3="",i._skillList4="",i._skillEffectList=[],i._skillEffectList0=[],i._skillEffectList1=[],i._skillEffectList3=[],i._skillEffectList4=[],i}e(i,l);var a=i.prototype;return a.onLoad=function(){var l=this;this.node.on(u.ACTIVE_IN_HIERARCHY_CHANGED,(function(i){i.active?l.registerEvents():l.unRegisterEvents()}),this)},a.start=function(){for(var l=this.tog_arr.length,i=0;i<l;i++){var e=this.tog_arr[i];E.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",e,e.checkMark,!1)}E.loadResLocal("Auxiliary/gxx/seting_proBg.png",this.sli_DsLimit.getComponent(_)),E.loadResLocalButton("Auxiliary/gxx/seting_musicBg$bar.png","Auxiliary/gxx/seting_musicBg$bar (3).png",this.sli_DsLimit.getChildByName("Handle").getComponent(c)),E.loadResLocal("Auxiliary/gxx/seting_proRed$bar.png",this.sli_DsLimit.getChildByName("ProgressBar").getChildByName("Bar").getComponent(_)),E.loadResLocal("Auxiliary/gxx/seting_proBg.png",this.sli_group_skill_num.getComponent(_)),E.loadResLocalButton("Auxiliary/gxx/seting_musicBg$bar.png","Auxiliary/gxx/seting_musicBg$bar (3).png",this.sli_group_skill_num.getChildByName("Handle").getComponent(c)),E.loadResLocal("Auxiliary/gxx/seting_proRed$bar.png",this.sli_group_skill_num.getChildByName("ProgressBar").getChildByName("Bar").getComponent(_));for(var t=this.list_arr.length,s=0;s<t;s++){var a=this.list_arr[s];E.loadResLocal("AuctionHouseWin/setiing_itemFrame.png",a.getComponent(_))}E.loadResLocalButton("Auxiliary/auxiliary_combobox.png","Auxiliary/auxiliary_combobox (3).png",this.btn_DautoSkill1.getComponent(c)),this.edit_DsCureLimit.getComponent(b).enabled=!1,this.updateView()},a.updateView=function(){this.lab_Exercise.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.exercise,this.lab_DsCure.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.ds_cure,this.lab_SingleDs.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.single_ds,this.lab_GroupDs.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.group_ds,this.lab_PickItemsFirst.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.pickItemsFirst,this.lab_AutoDodge.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.auto_dodge,this.lab_ZautoSkill1.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.z_autoskill_1,this.lab_ZautoSkill2.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.z_autoskill_2,this.lab_Zsgwcs.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.zs_gwcs,this.lab_ZautoSkill3.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.z_autoskill_3,this.lab_Zszrjf.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.zs_zrjf,this.lab_ZautoSkill4.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.z_autoskill_4,this.lab_Zslyjf.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.zs_lyjf,this.lab_FautoSkill1.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.f_autoskill_1,this.lab_FkeepSkill1.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.f_keepskill_1,this.lab_IceRoar.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.manualIceRoar,this.lab_BombFire.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.manualBombFire,this.lab_IncendiaryShower.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.manualIncendiaryShower,this.lab_FastLight.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.manualFastLight,this.lab_DautoSkill3.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.d_autoskill_3,this.btn_DautoSkill1.getChildByName("Label").getComponent(g).string=p.GlobalCfglist.d_autoskill_1,this.lab_PoisonDs.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.poison_ds,this.lab_DsSummon.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.ds_summon,this.lab_DautoSkill2.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.d_autoskill_2,this.lab_DautoSkill5.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.d_autoskill_5,this.lab_DautoSkill6.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.d_autoskill_6,this.lab_DautoSkill4.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.d_autoskill_4,this.lab_Hurricane.parent.getChildByName("tog").getComponent(r).isChecked=p.GlobalCfglist.manualHurricaneSkill,this.edit_DsCureLimit.getComponent(b).string=p.GlobalCfglist.ds_cure_limit+"",this.sli_DsLimit.getComponent(h).progress=p.GlobalCfglist.ds_limit_slider/100,this.sli_DsLimit.getChildByName("ProgressBar").getComponent(f).progress=p.GlobalCfglist.ds_limit_slider/100,null==p.GlobalCfglist.group_skill_num&&(p.GlobalCfglist.group_skill_num=1,p.GlobalCfglist.group_skill_slider=10),this.lab_group_skill_num.string=p.GlobalCfglist.group_skill_num+"",this.sli_group_skill_num.getComponent(h).progress=p.GlobalCfglist.group_skill_slider/100,this.sli_group_skill_num.getChildByName("ProgressBar").getComponent(f).progress=p.GlobalCfglist.group_skill_slider/100,this.evtMgrGetSkillHandler()},a.onClickToggleHandler=function(l){var i=l.target.name,e=!l.target.parent.getChildByName("tog").getComponent(r).isChecked;this.judgmentNameHandler(i,e)},a.judgmentNameHandler=function(l,i){switch(l){case"lab_Exercise":p.GlobalCfglist.exercise=i;break;case"lab_DsCure":p.GlobalCfglist.ds_cure=i;break;case"lab_SingleDs":p.GlobalCfglist.single_ds=i;break;case"lab_GroupDs":p.GlobalCfglist.group_ds=i;break;case"lab_PickItemsFirst":p.GlobalCfglist.pickItemsFirst=i;break;case"lab_AutoDodge":p.GlobalCfglist.auto_dodge=i;break;case"lab_ZautoSkill1":p.GlobalCfglist.z_autoskill_1=i;break;case"lab_ZautoSkill2":p.GlobalCfglist.z_autoskill_2=i;break;case"lab_Zsgwcs":p.GlobalCfglist.zs_gwcs=i;break;case"lab_ZautoSkill3":p.GlobalCfglist.z_autoskill_3=i;break;case"lab_Zszrjf":p.GlobalCfglist.zs_zrjf=i;break;case"lab_ZautoSkill4":p.GlobalCfglist.z_autoskill_4=i;break;case"lab_Zslyjf":p.GlobalCfglist.zs_lyjf=i;break;case"lab_FautoSkill1":p.GlobalCfglist.f_autoskill_1=i;break;case"lab_FkeepSkill1":p.GlobalCfglist.f_keepskill_1=i,i?m.raiseEvent(S.SPELLUSESKILLSTART):m.raiseEvent(S.CLEARSPELLUSESKILLTIMER);break;case"lab_IceRoar":p.GlobalCfglist.manualIceRoar=i;break;case"lab_BombFire":p.GlobalCfglist.manualBombFire=i;break;case"lab_IncendiaryShower":p.GlobalCfglist.manualIncendiaryShower=i;break;case"lab_FastLight":p.GlobalCfglist.manualFastLight=i;break;case"lab_DautoSkill3":p.GlobalCfglist.d_autoskill_3=i;break;case"lab_PoisonDs":p.GlobalCfglist.poison_ds=i;break;case"lab_DsSummon":p.GlobalCfglist.ds_summon=i;break;case"lab_DautoSkill2":p.GlobalCfglist.d_autoskill_2=i;break;case"lab_DautoSkill5":p.GlobalCfglist.d_autoskill_5=i;break;case"lab_DautoSkill6":p.GlobalCfglist.d_autoskill_6=i;break;case"lab_DautoSkill4":p.GlobalCfglist.d_autoskill_4=i;break;case"lab_Hurricane":p.GlobalCfglist.manualHurricaneSkill=i}this[l].parent.getChildByName("tog").getComponent(r).isChecked=i,m.raiseEvent(S.SETAUTOSKILLANI)},a.onClickItemFrame=function(l,i){var e=l.target,t=this.getCurSkillList(i);if(t.length>0){e.getChildByName(e.name+"None").visible=!1;var s={type:D.SKILL,tempList:this.getNewSkillList(t.split(","),i),name:e.name};m.raiseEvent(S.UPDATE_SETING_ITEM,s)}else e.getChildByName(e.name+"None").visible=!0},a.onClickDautoSkill1Handler=function(l){var i=l.target,e={items:["互换","红毒","绿毒"],width:this.btn_DautoSkill1.getComponent(C).width},t=i.worldPosition.x,s=i.worldPosition.y-this.btn_DautoSkill1.getComponent(C).height/2,a=d(t,s);m.raiseEvent(S.D_AUTO_SKILL1,{info:e,pos:a})},a.onClickDragSliDsLimitHandler=function(l){l.progress<=.01&&(this.sli_DsLimit.getComponent(h).progress=.01,this.sli_DsLimit.getChildByName("ProgressBar").getComponent(f).progress=.01),this.sli_DsLimit.getChildByName("ProgressBar").getComponent(f).progress=l.progress,this.edit_DsCureLimit.getComponent(b).string=(100*l.progress).toFixed(0),p.GlobalCfglist.ds_cure_limit=Number(this.edit_DsCureLimit.getComponent(b).string),p.GlobalCfglist.ds_limit_slider=parseInt((100*l.progress).toFixed(0))},a.onClickSliGroupSkillNumHandle=function(l){l.progress<.1?this.lab_group_skill_num.string="1":l.progress>.9?this.lab_group_skill_num.string="9":(l.progress>=.1||l.progress<=.9)&&(this.lab_group_skill_num.string=Math.ceil(10*l.progress).toFixed(0)),this.sli_group_skill_num.getChildByName("ProgressBar").getComponent(f).progress=l.progress,p.GlobalCfglist.group_skill_num=Number(this.lab_group_skill_num.string),p.GlobalCfglist.group_skill_slider=10*Number(this.lab_group_skill_num.string)},a.evtMgrGetSkillHandler=function(){for(var l=0;l<p.g_UserMagicList.length;l++)if(p.g_UserMagicList[l]){var i=p.g_UserMagicList[l],e=T.getskilldata(i.Def.btEffect,i.Def.wMagicId);if(26==i.Def.wMagicId&&24==i.Def.btEffect||12==i.Def.wMagicId&&13==i.Def.btEffect||25==i.Def.wMagicId&&23==i.Def.btEffect||95==i.Def.wMagicId&&43==i.Def.btEffect||76==i.Def.wMagicId&&53==i.Def.btEffect||43==i.Def.wMagicId&&38==i.Def.btEffect)continue;e&&0==e.mode?(this._skillList0+=","+p.g_UserMagicList[l].Def.sMagicName,this._skillEffectList0.push({effect:i.Def.btEffect,wMagicId:i.Def.wMagicId,level:i.Level})):e&&1==e.mode?(this._skillList1+=","+p.g_UserMagicList[l].Def.sMagicName,this._skillEffectList1.push({effect:i.Def.btEffect,wMagicId:i.Def.wMagicId,level:i.Level})):e&&4==e.mode?(this._skillList4+=","+p.g_UserMagicList[l].Def.sMagicName,this._skillEffectList4.push({effect:i.Def.btEffect,wMagicId:i.Def.wMagicId,level:i.Level})):e&&3==e.mode&&(this._skillList3+=","+p.g_UserMagicList[l].Def.sMagicName,this._skillEffectList3.push({effect:i.Def.btEffect,wMagicId:i.Def.wMagicId,level:i.Level})),e&&5!=e.mode&&(this._skillList+=","+p.g_UserMagicList[l].Def.sMagicName,this._skillEffectList.push({effect:i.Def.btEffect,wMagicId:i.Def.wMagicId,level:i.Level}))}var t=y.findobject(p.playerID);if(t)H.THumFeature(t.data.fea.buffer).btJob;if(this.setIconShow("exercise_list"),this.setIconShow("ds_cure_list"),this.setIconShow("single_ds_list"),this.setIconShow("group_ds_list"),this.setIconShow("ds_summon_list"),!p.GlobalCfglist.single_ds_list){var s=this._skillList0.split(",");s[1]&&(p.GlobalCfglist.single_ds_list=s[1])}if(!p.GlobalCfglist.group_ds_list){var a=this._skillList1.split(",");a[1]&&(p.GlobalCfglist.group_ds_list=a[1])}},a.setIconShow=function(l){var i=this;if(p.GlobalCfglist[l]&&""!=p.GlobalCfglist[l]){if(this[l].getChildByName(l+"None").active=!1,this[l].getChildByName(l+"Icon").active=!0,!p.GlobalCfglist[l+"Icon"])return;E.loadImg(p.GlobalCfglist[l+"Icon"][0],p.GlobalCfglist[l+"Icon"][1],(function(e){i[l].getChildByName(l+"Icon").getComponent(_).spriteFrame=e.data.getSpriteFrame(e.nOffset.img)}))}else this[l].getChildByName(l+"None").active=!0,this[l].getChildByName(l+"Icon").active=!1,this[l].getChildByName(l+"Icon").getComponent(_).spriteFrame=""},a.getNewSkillList=function(l,i){for(var e,t,s=[],a=0,o=0;o<l.length;o++)""!=(e=l[o])&&(t=N.getMagicDes(e),s.push({icon:this.getIconSkinByEffect(a,i),name:e,desc:t?t.replace("\n",""):""}),a++);return s},a.getIconSkinByEffect=function(l,i){var e,t=this.getCurEffect(i);if(t&&!(t.length<1)){var s,a,o=(e=t[l]).effect,n=e.wMagicId,r=e.level;if(38==n&&(o=4),46==n&&(o=42),39==n&&(o=0),n>=1e3&&n<=1500){var g=T.findCustomSkill(n,r);g&&(a=p.g_pak_list[g.iconFileIndex],s=g.wIconImageIndex)}else a="magicon"+E.getFile(2*o),s=2*o;return[s,a]}},a.getCurSkillList=function(l){switch(l){case"0":return this._skillList0;case"1":return this._skillList1;case"3":return this._skillList3;case"4":return this._skillList4;case"null":return null;case"all":return this._skillList}},a.getCurEffect=function(l){switch(l){case"0":return this._skillEffectList0;case"1":return this._skillEffectList1;case"3":return this._skillEffectList3;case"4":return this._skillEffectList4;default:return this._skillEffectList}},a.evtMgrSynchronousIconHandler=function(l){l&&l.type==D.SKILL&&(this[l.name].getChildByName(l.name+"Icon").active=!0,this[l.name].getChildByName(l.name+"Icon").getComponent(_).spriteFrame=l.sp,p.GlobalCfglist[l.name+"Icon"]=l.icon)},a.evtMgrUpdateM2SetHandler=function(){1==p.g_ClientConfig.boNoSmartPosLongHit?(p.GlobalCfglist.zs_gwcs=!1,this.lab_Zsgwcs.parent.getChildByName("tog").getComponent(r).isChecked=!1,this.lab_Zsgwcs.off(u.TOUCH_END)):this.lab_Zsgwcs.on(u.TOUCH_END,this.onClickToggleHandler,this,!0)},a.registerEvents=function(){console.log("注册Profession事件"),this.lab_Exercise.on(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_DsCure.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_SingleDs.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_GroupDs.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_PickItemsFirst.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_AutoDodge.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill1.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill2.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Zsgwcs.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill3.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Zszrjf.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill4.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Zslyjf.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_FautoSkill1.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_FkeepSkill1.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_IceRoar.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_BombFire.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_IncendiaryShower.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_FastLight.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill3.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_PoisonDs.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DsSummon.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill2.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill5.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill6.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill4.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Hurricane.on(u.TOUCH_END,this.onClickToggleHandler,this,!0),m.addEventListener(S.SYNCHRONOUS_ICON,this.evtMgrSynchronousIconHandler,this),m.addEventListener(S.UPDATE_M2SET,this.evtMgrUpdateM2SetHandler,this),m.addEventListener(S.UPDATE_AUTOSKILL,this.evtMgrGetSkillHandler,this)},a.unRegisterEvents=function(){console.log("注销Profession事件"),this.lab_Exercise.off(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_DsCure.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_SingleDs.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_GroupDs.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_PickItemsFirst.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_AutoDodge.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill1.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill2.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Zsgwcs.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill3.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Zszrjf.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_ZautoSkill4.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Zslyjf.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_FautoSkill1.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_FkeepSkill1.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_IceRoar.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_BombFire.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_IncendiaryShower.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_FastLight.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill3.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_PoisonDs.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DsSummon.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill2.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill5.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill6.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_DautoSkill4.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),this.lab_Hurricane.off(u.TOUCH_END,this.onClickToggleHandler,this,!0),m.removeEventListener(S.SYNCHRONOUS_ICON,this.evtMgrSynchronousIconHandler,this),m.removeEventListener(S.UPDATE_M2SET,this.evtMgrUpdateM2SetHandler,this),m.removeEventListener(S.UPDATE_AUTOSKILL,this.evtMgrGetSkillHandler,this)},i}(k)).prototype,"lab_Exercise",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dl=i(fl.prototype,"lab_DsCure",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl=i(fl.prototype,"lab_SingleDs",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ml=i(fl.prototype,"lab_GroupDs",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pl=i(fl.prototype,"lab_PickItemsFirst",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dl=i(fl.prototype,"lab_AutoDodge",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sl=i(fl.prototype,"lab_ZautoSkill1",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hl=i(fl.prototype,"lab_ZautoSkill2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tl=i(fl.prototype,"lab_Zsgwcs",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yl=i(fl.prototype,"lab_ZautoSkill3",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nl=i(fl.prototype,"lab_Zszrjf",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),El=i(fl.prototype,"lab_ZautoSkill4",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ll=i(fl.prototype,"lab_Zslyjf",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gl=i(fl.prototype,"lab_FautoSkill1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wl=i(fl.prototype,"lab_FkeepSkill1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Il=i(fl.prototype,"lab_IceRoar",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bl=i(fl.prototype,"lab_BombFire",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ul=i(fl.prototype,"lab_IncendiaryShower",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vl=i(fl.prototype,"lab_FastLight",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ol=i(fl.prototype,"lab_DautoSkill3",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zl=i(fl.prototype,"lab_PoisonDs",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ml=i(fl.prototype,"lab_DsSummon",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fl=i(fl.prototype,"lab_DautoSkill2",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xl=i(fl.prototype,"lab_DautoSkill5",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zl=i(fl.prototype,"lab_DautoSkill6",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pl=i(fl.prototype,"lab_DautoSkill4",[ll],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Al=i(fl.prototype,"lab_Hurricane",[il],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rl=i(fl.prototype,"exercise_list",[el],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jl=i(fl.prototype,"ds_cure_list",[tl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kl=i(fl.prototype,"single_ds_list",[sl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$l=i(fl.prototype,"group_ds_list",[al],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yl=i(fl.prototype,"ds_summon_list",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vl=i(fl.prototype,"edit_DsCureLimit",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jl=i(fl.prototype,"btn_DautoSkill1",[rl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wl=i(fl.prototype,"sli_DsLimit",[gl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xl=i(fl.prototype,"tog_arr",[ul],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ql=i(fl.prototype,"list_arr",[_l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ql=i(fl.prototype,"lab_group_skill_num",[cl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=i(fl.prototype,"sli_group_skill_num",[bl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hl=fl))||hl));a._RF.pop()}}}));

System.register("chunks:///_virtual/Protection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameConfig.ts","./UIcontrol.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,r,o,l,a,s,g,p,u,m,h,_,b,c,f,C,d,N,y,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Node,s=t.Toggle,g=t.Button,p=t.Sprite,u=t.NodeEventType,m=t.ProgressBar,h=t.Slider,_=t.Label,b=t.Component},function(t){c=t.EventMgr},function(t){f=t.Config},function(t){C=t.TITLE_Type},function(t){d=t.default},function(t){N=t.gameConfig},function(t){y=t.uiControl},function(t){v=t.GameUtil}],execute:function(){var H,D,B,x,G,T,A,w,E,S,k,z,O,U,M,I,L,F,P,R,V,$,j,Y,q,K,X,J,Q,W,Z,tt,et,it,nt,rt,ot,lt,at,st,gt,pt,ut,mt,ht,_t,bt,ct,ft,Ct,dt,Nt,yt,vt,Ht,Dt,Bt,xt,Gt,Tt,At,wt,Et,St,kt,zt,Ot,Ut,Mt,It,Lt,Ft,Pt;o._RF.push({},"95fb7iqV9dBRKUf/rMasNXG","Protection",void 0);var Rt=l.ccclass,Vt=l.property;t("Protection",(H=Rt("Protection"),D=Vt(a),B=Vt(a),x=Vt(a),G=Vt(a),T=Vt(a),A=Vt(a),w=Vt(a),E=Vt(a),S=Vt(a),k=Vt(a),z=Vt(a),O=Vt(a),U=Vt(a),M=Vt(a),I=Vt(a),L=Vt(a),F=Vt(a),P=Vt(a),R=Vt(a),V=Vt(a),$=Vt(a),j=Vt(a),Y=Vt(a),q=Vt(a),K=Vt(a),X=Vt(a),J=Vt(a),Q=Vt(a),W=Vt(a),Z=Vt(a),tt=Vt(s),et=Vt(a),it=Vt(a),nt=Vt(g),rt=Vt(p),H((at=e((lt=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"lab_Autotp",at,r(e)),n(e,"lab_Autotp1",st,r(e)),n(e,"lab_Autohp",gt,r(e)),n(e,"lab_Automp",pt,r(e)),n(e,"lab_Autohpmp",ut,r(e)),n(e,"lab_Autohpmp2",mt,r(e)),n(e,"tp_vs",ht,r(e)),n(e,"tp_vs1",_t,r(e)),n(e,"hp_vs",bt,r(e)),n(e,"mp_vs",ct,r(e)),n(e,"Hp_mp_vs",ft,r(e)),n(e,"Hp_mp_vs2",Ct,r(e)),n(e,"tppercentagetext",dt,r(e)),n(e,"tppercentagetext1",Nt,r(e)),n(e,"hppercentagetext",yt,r(e)),n(e,"mppercentagetext",vt,r(e)),n(e,"hppercentagetext1",Ht,r(e)),n(e,"hppercentagetext2",Dt,r(e)),n(e,"tp_img",Bt,r(e)),n(e,"tp1_img",xt,r(e)),n(e,"hpN_img",Gt,r(e)),n(e,"mpN_img",Tt,r(e)),n(e,"hpS_img",At,r(e)),n(e,"mpS_img",wt,r(e)),n(e,"btn_Tpreset",Et,r(e)),n(e,"btn_Tp1reset",St,r(e)),n(e,"btn_HpNreset",kt,r(e)),n(e,"btn_MpNreset",zt,r(e)),n(e,"btn_HpSreset",Ot,r(e)),n(e,"btn_MpSreset",Ut,r(e)),n(e,"tog_arr",Mt,r(e)),n(e,"sli_arr",It,r(e)),n(e,"sp_arr",Lt,r(e)),n(e,"btn_arr",Ft,r(e)),n(e,"sp_line",Pt,r(e)),e._drugimg=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;this.node.on(u.ACTIVE_IN_HIERARCHY_CHANGED,(function(e){e.active?t.registerEvents():t.unRegisterEvents()}),this)},o.start=function(){for(var t=this.tog_arr.length,e=0;e<t;e++){var i=this.tog_arr[e];v.loadResLocalToggle("public/btn_chek_01.png","public/btn_chek_02.png",i,i.checkMark,!1)}for(var n=this.sli_arr.length,r=0;r<n;r++){v.loadResLocal("Auxiliary/auxiliary_itemkuang.png",this.sp_arr[r].getComponent(p)),v.loadResLocalButton("Auxiliary/gxx/auxi_reset.png","Auxiliary/gxx/auxi_reset (2).png",this.btn_arr[r]),v.loadResLocal("Auxiliary/gxx/seting_proBg.png",this.sli_arr[r].getComponent(p)),v.loadResLocalButton("Auxiliary/gxx/seting_musicBg$bar.png","Auxiliary/gxx/seting_musicBg$bar (2).png",this.sli_arr[r].getChildByName("Handle").getComponent(g));var o=null;o=r<3?"Auxiliary/gxx/seting_proRed$bar.png":"Auxiliary/gxx/seting_proBlue$bar.png",v.loadResLocal(o,this.sli_arr[r].getChildByName("ProgressBar").getComponent(m).barSprite),v.loadResLocal("Auxiliary/gxx/seting_line.png",this.sp_line)}this.updateView()},o.updateView=function(){this.lab_Autotp.parent.getChildByName("tog").getComponent(s).isChecked=f.GlobalCfglist.autotp,this.lab_Autotp1.parent.getChildByName("tog").getComponent(s).isChecked=f.GlobalCfglist.autotp1,this.lab_Autohp.parent.getChildByName("tog").getComponent(s).isChecked=f.GlobalCfglist.autohp,this.lab_Automp.parent.getChildByName("tog").getComponent(s).isChecked=f.GlobalCfglist.automp,this.lab_Autohpmp.parent.getChildByName("tog").getComponent(s).isChecked=f.GlobalCfglist.autohp_mp,this.lab_Autohpmp2.parent.getChildByName("tog").getComponent(s).isChecked=f.GlobalCfglist.autohp_mp2,this.tp_vs.getComponent(h).progress=f.GlobalCfglist.tp_vs/100,this.tp_vs.getChildByName("ProgressBar").getComponent(m).progress=f.GlobalCfglist.tp_vs/100,this.tppercentagetext.getComponent(_).string=f.GlobalCfglist.tp_vs+"",this.tp_vs1.getComponent(h).progress=f.GlobalCfglist.tp_vs1/100,this.tp_vs1.getChildByName("ProgressBar").getComponent(m).progress=f.GlobalCfglist.tp_vs1/100,this.tppercentagetext1.getComponent(_).string=f.GlobalCfglist.tp_vs1+"",this.hp_vs.getComponent(h).progress=f.GlobalCfglist.hp_vs/100,this.hp_vs.getChildByName("ProgressBar").getComponent(m).progress=f.GlobalCfglist.hp_vs/100,this.hppercentagetext.getComponent(_).string=f.GlobalCfglist.hp_vs+"",this.mp_vs.getComponent(h).progress=f.GlobalCfglist.mp_vs/100,this.mp_vs.getChildByName("ProgressBar").getComponent(m).progress=f.GlobalCfglist.mp_vs/100,this.mppercentagetext.getComponent(_).string=f.GlobalCfglist.mp_vs+"",this.Hp_mp_vs.getComponent(h).progress=f.GlobalCfglist.Hp_mp_vs/100,this.Hp_mp_vs.getChildByName("ProgressBar").getComponent(m).progress=f.GlobalCfglist.Hp_mp_vs/100,this.hppercentagetext1.getComponent(_).string=f.GlobalCfglist.Hp_mp_vs+"",this.Hp_mp_vs2.getComponent(h).progress=f.GlobalCfglist.Hp_mp_vs2/100,this.Hp_mp_vs2.getChildByName("ProgressBar").getComponent(m).progress=f.GlobalCfglist.Hp_mp_vs2/100,this.hppercentagetext2.getComponent(_).string=f.GlobalCfglist.Hp_mp_vs2+"",this.showDrugImg()},o.onClickToggleHandler=function(t){var e=t.target.name,i=!t.target.parent.getChildByName("tog").getComponent(s).isChecked;this.judgmentNameHandler(e,i)},o.onClickSliderAtionHandler=function(t){if(!(t.progress<=0)){var e=t.node.name;this[e].getChildByName("ProgressBar").getComponent(m).progress=t.progress;var i=parseInt((100*t.progress).toFixed(0));switch(f.GlobalCfglist[e]=i,e){case"tp_vs":f.GlobalCfglist.tppercentagetext=i,this.tppercentagetext.getComponent(_).string=i+"";break;case"tp_vs1":f.GlobalCfglist.tppercentagetext1=i,this.tppercentagetext1.getComponent(_).string=i+"";break;case"hp_vs":f.GlobalCfglist.hppercentagetext=i,this.hppercentagetext.getComponent(_).string=i+"";break;case"mp_vs":f.GlobalCfglist.mppercentagetext=i,this.mppercentagetext.getComponent(_).string=i+"";break;case"Hp_mp_vs":f.GlobalCfglist.hppercentagetext1=i,this.hppercentagetext1.getComponent(_).string=i+"";break;case"Hp_mp_vs2":f.GlobalCfglist.hppercentagetext2=i,this.hppercentagetext2.getComponent(_).string=i+""}}},o.onClickSetDrugHandler=function(t,e){if("4"!=e&&"5"!=e&&"6"!=e||null!=f.g_myHero){N.drugType=1*e,this._drugimg=t.target;var i={type:C.MEDICINE,tempList:this.getNewDrugListData(),name:t.target.name};c.raiseEvent(d.UPDATE_SETING_ITEM,i)}else y.handlerAlert({type:1,content:"请先召唤英雄！"})},o.judgmentNameHandler=function(t,e){switch(t){case"lab_Autotp":f.GlobalCfglist.autotp=e;break;case"lab_Autotp1":f.GlobalCfglist.autotp1=e;break;case"lab_Autohp":f.GlobalCfglist.autohp=e;break;case"lab_Automp":f.GlobalCfglist.automp=e;break;case"lab_Autohpmp":f.GlobalCfglist.autohp_mp=e;break;case"lab_Autohpmp2":f.GlobalCfglist.autohp_mp2=e}this[t].parent.getChildByName("tog").getComponent(s).isChecked=e},o.showDrugImg=function(){this.drawDrug(this.hpN_img.getChildByName("drug"),f.GlobalCfglist[this.hpN_img.name+"drug"]),this.drawDrug(this.mpN_img.getChildByName("drug"),f.GlobalCfglist[this.mpN_img.name+"drug"]),this.drawDrug(this.hpS_img.getChildByName("drug"),f.GlobalCfglist[this.hpS_img.name+"drug"]),this.drawDrug(this.mpS_img.getChildByName("drug"),f.GlobalCfglist[this.mpS_img.name+"drug"]),this.drawDrug(this.tp_img.getChildByName("drug"),f.GlobalCfglist[this.tp_img.name+"drug"]),this.drawDrug(this.tp1_img.getChildByName("drug"),f.GlobalCfglist[this.tp1_img.name+"drug"])},o.drawDrug=function(t,e){t&&e&&v.loadImg(e,"items",(function(e){t.getComponent(p).spriteFrame=e.data.getSpriteFrame(e.nOffset.img)}))},o.getNewDrugListData=function(){for(var t,e=this.isHeroDrugSeting()?f.g_HeroBagItemsList:f.g_BagItemsList,i=[],n=0;n<e.length;n++)if(t=e[n])switch(N.drugType){case 0:case 4:0==t.s.StdMode&&t.s.AC>0&&0==t.s.MAC&&this.pushDrugData(i,t);break;case 1:case 5:0==t.s.StdMode&&0==t.s.AC&&t.s.MAC>0&&this.pushDrugData(i,t);break;case 2:case 6:0==t.s.StdMode&&t.s.AC>0&&t.s.MAC>0&&this.pushDrugData(i,t);break;case 3:(2!=t.s.StdMode&&3!=t.s.StdMode||-1==t.s.Name.indexOf("传送"))&&-1==t.s.Name.indexOf("回城")&&-1==t.s.Name.indexOf("地牢逃脱")||this.pushDrugData(i,t)}return i},o.isHeroDrugSeting=function(){return 4==N.drugType||5==N.drugType||6==N.drugType},o.pushDrugData=function(t,e){t.push({icon:[e.s.Looks,"items"],name:e.s.DBName,desc:this.getDrugDescByName(e.s.DBName)})},o.getDrugDescByName=function(t){if(!f.g_setingItemDesc)return"";var e;for(var i in f.g_setingItemDesc)if(e=f.g_setingItemDesc[i],i&&""!=i&&e&&""!=e&&t==i)return e;return""},o.resetDrugBtns=function(){var t=this;this.btn_Tpreset.on(u.TOUCH_END,(function(){t.tp_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.tp_img.name+"drug"]=void 0})),this.btn_Tp1reset.on(u.TOUCH_END,(function(){t.tp1_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.tp1_img.name+"drug"]=void 0})),this.btn_HpNreset.on(u.TOUCH_END,(function(){t.hpN_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.hpN_img.name+"drug"]=void 0})),this.btn_MpNreset.on(u.TOUCH_END,(function(){t.mpN_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.mpN_img.name+"drug"]=void 0})),this.btn_HpSreset.on(u.TOUCH_END,(function(){t.hpS_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.hpS_img.name+"drug"]=void 0})),this.btn_MpSreset.on(u.TOUCH_END,(function(){t.mpS_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.mpS_img.name+"drug"]=void 0}))},o.removeDrugBtns=function(){var t=this;this.btn_Tpreset.off(u.TOUCH_END,(function(){t.tp_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.tp_img.name+"drug"]=void 0})),this.btn_Tp1reset.off(u.TOUCH_END,(function(){t.tp1_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.tp1_img.name+"drug"]=void 0})),this.btn_HpNreset.off(u.TOUCH_END,(function(){t.hpN_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.hpN_img.name+"drug"]=void 0})),this.btn_MpNreset.off(u.TOUCH_END,(function(){t.mpN_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.mpN_img.name+"drug"]=void 0})),this.btn_HpSreset.off(u.TOUCH_END,(function(){t.hpS_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.hpS_img.name+"drug"]=void 0})),this.btn_MpSreset.off(u.TOUCH_END,(function(){t.mpS_img.getChildByName("drug").getComponent(p).spriteFrame=null,f.GlobalCfglist[t.mpS_img.name+"drug"]=void 0}))},o.evtMgrSynchronousIconHandler=function(t){t&&t.type==C.MEDICINE&&(this[t.name].getChildByName("drug").getComponent(p).spriteFrame=t.sp,f.GlobalCfglist[t.name+"drug"]=t.icon[0])},o.registerEvents=function(){console.log("注册Protection事件"),this.lab_Autotp.on(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autotp1.on(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autohp.on(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Automp.on(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autohpmp.on(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autohpmp2.on(u.TOUCH_END,this.onClickToggleHandler,this),this.resetDrugBtns(),c.addEventListener(d.SYNCHRONOUS_ICON,this.evtMgrSynchronousIconHandler,this)},o.unRegisterEvents=function(){console.log("注销Protection事件"),this.lab_Autotp.off(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autotp1.off(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autohp.off(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Automp.off(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autohpmp.off(u.TOUCH_END,this.onClickToggleHandler,this),this.lab_Autohpmp2.off(u.TOUCH_END,this.onClickToggleHandler,this),this.removeDrugBtns(),c.removeEventListener(d.SYNCHRONOUS_ICON,this.evtMgrSynchronousIconHandler,this)},e}(b)).prototype,"lab_Autotp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(lt.prototype,"lab_Autotp1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(lt.prototype,"lab_Autohp",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(lt.prototype,"lab_Automp",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(lt.prototype,"lab_Autohpmp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(lt.prototype,"lab_Autohpmp2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(lt.prototype,"tp_vs",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(lt.prototype,"tp_vs1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(lt.prototype,"hp_vs",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(lt.prototype,"mp_vs",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(lt.prototype,"Hp_mp_vs",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(lt.prototype,"Hp_mp_vs2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(lt.prototype,"tppercentagetext",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(lt.prototype,"tppercentagetext1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(lt.prototype,"hppercentagetext",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(lt.prototype,"mppercentagetext",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(lt.prototype,"hppercentagetext1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(lt.prototype,"hppercentagetext2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(lt.prototype,"tp_img",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(lt.prototype,"tp1_img",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(lt.prototype,"hpN_img",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(lt.prototype,"mpN_img",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(lt.prototype,"hpS_img",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(lt.prototype,"mpS_img",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(lt.prototype,"btn_Tpreset",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(lt.prototype,"btn_Tp1reset",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kt=e(lt.prototype,"btn_HpNreset",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(lt.prototype,"btn_MpNreset",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(lt.prototype,"btn_HpSreset",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ut=e(lt.prototype,"btn_MpSreset",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(lt.prototype,"tog_arr",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=e(lt.prototype,"sli_arr",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=e(lt.prototype,"sp_arr",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ft=e(lt.prototype,"btn_arr",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pt=e(lt.prototype,"sp_line",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=lt))||ot));o._RF.pop()}}}));

System.register("chunks:///_virtual/QR8bitByte.ts",["cc","./QRConst.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.QRMode}],execute:function(){e._RF.push({},"6cc9evYOKtLnbOUsaE4b7TY","QR8bitByte",void 0);t("QR8bitByte",function(){function t(t){this.mode=void 0,this.mode=n.MODE_8BIT_BYTE,this.data=t}var e=t.prototype;return e.getLength=function(t){return this.data.length},e.write=function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QRBitBuffer.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4aba720e+xJEI4u/b7dABhO","QRBitBuffer",void 0);t("QRBitBuffer",function(){function t(){this.buffer=void 0,this.length=0,this.buffer=new Array,this.length=0}var e=t.prototype;return e.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},e.put=function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},e.getLengthInBits=function(){return this.length},e.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QRCode.ts",["cc","./QR8bitByte.ts","./QRBitBuffer.ts","./QRPolynomial.ts","./QRRSBlock.ts","./QRUtil.ts"],(function(t){"use strict";var e,o,r,n,i,s;return{setters:[function(t){e=t.cclegacy},function(t){o=t.QR8bitByte},function(t){r=t.QRBitBuffer},function(t){n=t.QRPolynomial},function(t){i=t.QRRSBlock},function(t){s=t.QRUtil}],execute:function(){e._RF.push({},"926fe//EXRKC6E8FmsvJhFI","QRCode",void 0);var u=t("QRCode",function(){function t(t,e){this.typeNumber=void 0,this.errorCorrectLevel=void 0,this.modules=[],this.moduleCount=void 0,this.dataCache=void 0,this.dataList=void 0,this.typeNumber=t,this.errorCorrectLevel=e,this.modules=[],this.moduleCount=0,this.dataCache=null,this.dataList=new Array}var e=t.prototype;return e.addData=function(t){var e=new o(t);this.dataList.push(e),this.dataCache=null},e.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},e.getModuleCount=function(){return this.moduleCount},e.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=i.getRSBlocks(t,this.errorCorrectLevel),o=new r,n=0,u=0;u<e.length;u++)n+=e[u].dataCount;for(u=0;u<this.dataList.length;u++){var h=this.dataList[u];o.put(h.mode,4),o.put(h.getLength(),s.getLengthInBits(h.mode,t)),h.write(o)}if(o.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},e.makeImpl=function(e,o){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,o),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,o)},e.setupPositionProbePattern=function(t,e){for(var o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+o][e+r]=0<=o&&o<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=r&&r<=4)},e.getBestMaskPattern=function(){for(var t=0,e=0,o=0;o<8;o++){this.makeImpl(!0,o);var r=s.getLostPoint(this);(0==o||t>r)&&(t=r,e=o)}return e},e.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},e.setupPositionAdjustPattern=function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var o=0;o<t.length;o++){var r=t[e],n=t[o];if(null==this.modules[r][n])for(var i=-2;i<=2;i++)for(var u=-2;u<=2;u++)this.modules[r+i][n+u]=-2==i||2==i||-2==u||2==u||0==i&&0==u}},e.setupTypeNumber=function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var r=!t&&1==(e>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=r}for(o=0;o<18;o++){r=!t&&1==(e>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=r}},e.setupTypeInfo=function(t,e){for(var o=this.errorCorrectLevel<<3|e,r=s.getBCHTypeInfo(o),n=0;n<15;n++){var i=!t&&1==(r>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!t&&1==(r>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},e.mapData=function(t,e){for(var o=-1,r=this.moduleCount-1,n=7,i=0,u=this.moduleCount-1;u>0;u-=2)for(6==u&&u--;;){for(var h=0;h<2;h++)if(null==this.modules[r][u-h]){var a=!1;i<t.length&&(a=1==(t[i]>>>n&1)),s.getMask(e,r,u-h)&&(a=!a),this.modules[r][u-h]=a,-1==--n&&(i++,n=7)}if((r+=o)<0||this.moduleCount<=r){r-=o,o=-o;break}}},t.createData=function(e,o,n){for(var u=i.getRSBlocks(e,o),h=new r,a=0;a<n.length;a++){var l=n[a];h.put(l.mode,4),h.put(l.getLength(),s.getLengthInBits(l.mode,e)),l.write(h)}var d=0;for(a=0;a<u.length;a++)d+=u[a].dataCount;if(h.getLengthInBits()>8*d)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*d+")");for(h.getLengthInBits()+4<=8*d&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*d||(h.put(t.PAD0,8),h.getLengthInBits()>=8*d));)h.put(t.PAD1,8);return t.createBytes(h,u)},t}());u.PAD0=236,u.PAD1=17,u.createBytes=function(t,e){for(var o=0,r=0,i=0,u=new Array(e.length),h=new Array(e.length),a=0;a<e.length;a++){var l=e[a].dataCount,d=e[a].totalCount-l;r=Math.max(r,l),i=Math.max(i,d),u[a]=new Array(l);for(var m=0;m<u[a].length;m++)u[a][m]=255&t.buffer[m+o];o+=l;var f=s.getErrorCorrectPolynomial(d),g=new n(u[a],f.getLength()-1).mod(f);h[a]=new Array(f.getLength()-1);for(m=0;m<h[a].length;m++){var c=m+g.getLength()-h[a].length;h[a][m]=c>=0?g.get(c):0}}var v=0;for(m=0;m<e.length;m++)v+=e[m].totalCount;var C=new Array(v),p=0;for(m=0;m<r;m++)for(a=0;a<e.length;a++)m<u[a].length&&(C[p++]=u[a][m]);for(m=0;m<i;m++)for(a=0;a<e.length;a++)m<h[a].length&&(C[p++]=h[a][m]);return C},e._RF.pop()}}}));

System.register("chunks:///_virtual/QRConst.ts",["cc"],(function(T){"use strict";var E;return{setters:[function(T){E=T.cclegacy}],execute:function(){var R,t,A;T({QRErrorCorrectLevel:void 0,QRMaskPattern:void 0,QRMode:void 0}),E._RF.push({},"c219d6vQlVMp4dqUdh6cmmp","QRConst",void 0),function(T){T[T.MODE_NUMBER=1]="MODE_NUMBER",T[T.MODE_ALPHA_NUM=2]="MODE_ALPHA_NUM",T[T.MODE_8BIT_BYTE=4]="MODE_8BIT_BYTE",T[T.MODE_KANJI=8]="MODE_KANJI"}(R||(R=T("QRMode",{}))),function(T){T[T.L=1]="L",T[T.M=0]="M",T[T.Q=3]="Q",T[T.H=2]="H"}(t||(t=T("QRErrorCorrectLevel",{}))),function(T){T[T.PATTERN000=0]="PATTERN000",T[T.PATTERN001=1]="PATTERN001",T[T.PATTERN010=2]="PATTERN010",T[T.PATTERN011=3]="PATTERN011",T[T.PATTERN100=4]="PATTERN100",T[T.PATTERN101=5]="PATTERN101",T[T.PATTERN110=6]="PATTERN110",T[T.PATTERN111=7]="PATTERN111"}(A||(A=T("QRMaskPattern",{}))),E._RF.pop()}}}));

System.register("chunks:///_virtual/QRMath.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"4e7a074Pu5Av5C54F/gdS4j","QRMath",void 0);var n=r("QRMath",function(){function r(){}return r.glog=function(t){if(t<1)throw new Error("glog("+t+")");return r.LOG_TABLE[t]},r.gexp=function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return r.EXP_TABLE[t]},r}());n.EXP_TABLE=new Array(256),n.LOG_TABLE=new Array(256);for(var E=0;E<8;E++)n.EXP_TABLE[E]=1<<E;for(E=8;E<256;E++)n.EXP_TABLE[E]=n.EXP_TABLE[E-4]^n.EXP_TABLE[E-5]^n.EXP_TABLE[E-6]^n.EXP_TABLE[E-8];for(E=0;E<255;E++)n.LOG_TABLE[n.EXP_TABLE[E]]=E;t._RF.pop()}}}));

System.register("chunks:///_virtual/QRNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QRCode.ts","./QRConst.ts","./UIcontrol.ts"],(function(t){"use strict";var o,e,n,r,i,a,u,l,c,s,h;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Graphics,i=t.Color,a=t.UITransform,u=t.sys,l=t.Component},function(t){c=t.QRCode},function(t){s=t.QRErrorCorrectLevel},function(t){h=t.uiControl}],execute:function(){var f;e._RF.push({},"453a0Aj+WpLDJ9FQJDahuEm","QRNode",void 0);var d=n.ccclass;n.property,t("default",d("QRNode")(f=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).url=null,o}o(e,t);var n=e.prototype;return n.start=function(){},n.createQR=function(t){this.url=t;var o=this.node,e=new c(-1,s.L);e.addData(t),e.make();var n=o.getComponent(r);n.fillColor=i.WHITE;for(var u=o.getComponent(a).width/e.getModuleCount(),l=o.getComponent(a).height/e.getModuleCount(),h=0;h<e.getModuleCount();h++)for(var f=0;f<e.getModuleCount();f++){if(e.isDark(h,f)){var d=Math.ceil((f+1)*u)-Math.floor(f*u),p=Math.ceil((h+1)*u)-Math.floor(h*u),C=Math.round(f*u)-this.node.getComponent(a).width/2,g=Math.round(h*l)-this.node.getComponent(a).height/2;n.rect(C,g,d,p),n.fill()}d=Math.ceil((f+1)*u)-Math.floor(f*u)}},n.onbtn=function(){var t=this;if(this.url){h.handlerAlert({type:2,content:"如希望识别二维码，请点击【确定】",sF:function(){u.openURL(t.url)}})}},n.onDestroy=function(){this.node.targetOff(this)},e}(l))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/QRPolynomial.ts",["cc","./QRMath.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.QRMath}],execute:function(){e._RF.push({},"6558bfY2g1FtrJGplX49t9R","QRPolynomial",void 0);t("QRPolynomial",function(){function t(t,e){if(this.num=void 0,null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var g=0;g<t.length-n;g++)this.num[g]=t[g+n]}var e=t.prototype;return e.get=function(t){return this.num[t]},e.getLength=function(){return this.num.length},e.multiply=function(e){for(var g=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<e.getLength();o++)g[r+o]^=n.gexp(n.glog(this.get(r))+n.glog(e.get(o)));return new t(g,0)},e.mod=function(e){if(this.getLength()-e.getLength()<0)return this;for(var g=n.glog(this.get(0))-n.glog(e.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<e.getLength();o++)r[o]^=n.gexp(n.glog(e.get(o))+g);return new t(r,0).mod(e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/QRRSBlock.ts",["cc","./QRConst.ts"],(function(t){"use strict";var r,e;return{setters:[function(t){r=t.cclegacy},function(t){e=t.QRErrorCorrectLevel}],execute:function(){r._RF.push({},"8b5644dsVhD1ZfFXvaoWjTh","QRRSBlock",void 0);var n=t("QRRSBlock",function(){function t(t,r){this.totalCount=0,this.dataCount=0,this.totalCount=t,this.dataCount=r}return t.getRsBlockTable=function(r,n){switch(n){case e.L:return t.RS_BLOCK_TABLE[4*(r-1)+0];case e.M:return t.RS_BLOCK_TABLE[4*(r-1)+1];case e.Q:return t.RS_BLOCK_TABLE[4*(r-1)+2];case e.H:return t.RS_BLOCK_TABLE[4*(r-1)+3];default:return}},t}());n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(t,r){var e=n.getRsBlockTable(t,r);if(null==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var o=e.length/3,c=new Array,u=0;u<o;u++)for(var s=e[3*u+0],a=e[3*u+1],l=e[3*u+2],i=0;i<s;i++)c.push(new n(a,l));return c},r._RF.pop()}}}));

System.register("chunks:///_virtual/QRUtil.ts",["cc","./QRConst.ts","./QRMath.ts","./QRPolynomial.ts"],(function(r){"use strict";var t,e,n,i,a;return{setters:[function(r){t=r.cclegacy},function(r){e=r.QRMaskPattern,n=r.QRMode},function(r){i=r.QRMath},function(r){a=r.QRPolynomial}],execute:function(){t._RF.push({},"72bdf3VSUlLTIydYv5qVgeV","QRUtil",void 0);var o=r("QRUtil",function(){function r(){}return r.getBCHTypeInfo=function(t){for(var e=t<<10;r.getBCHDigit(e)-r.getBCHDigit(r.G15)>=0;)e^=r.G15<<r.getBCHDigit(e)-r.getBCHDigit(r.G15);return(t<<10|e)^r.G15_MASK},r.getBCHTypeNumber=function(t){for(var e=t<<12;r.getBCHDigit(e)-r.getBCHDigit(r.G18)>=0;)e^=r.G18<<r.getBCHDigit(e)-r.getBCHDigit(r.G18);return t<<12|e},r.getBCHDigit=function(r){for(var t=0;0!=r;)t++,r>>>=1;return t},r.getPatternPosition=function(t){return r.PATTERN_POSITION_TABLE[t-1]},r.getMask=function(r,t,n){switch(r){case e.PATTERN000:return(t+n)%2==0;case e.PATTERN001:return t%2==0;case e.PATTERN010:return n%3==0;case e.PATTERN011:return(t+n)%3==0;case e.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case e.PATTERN101:return t*n%2+t*n%3==0;case e.PATTERN110:return(t*n%2+t*n%3)%2==0;case e.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}},r.getErrorCorrectPolynomial=function(r){for(var t=new a([1],0),e=0;e<r;e++)t=t.multiply(new a([1,i.gexp(e)],0));return t},r.getLengthInBits=function(r,t){if(1<=t&&t<10)switch(r){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(t<27)switch(r){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(t<41))throw new Error("type:"+t);switch(r){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},r.getLostPoint=function(r){for(var t=r.getModuleCount(),e=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var a=0,o=r.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var u=-1;u<=1;u++)i+u<0||t<=i+u||0==s&&0==u||o==r.isDark(n+s,i+u)&&a++;a>5&&(e+=3+a-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var c=0;r.isDark(n,i)&&c++,r.isDark(n+1,i)&&c++,r.isDark(n,i+1)&&c++,r.isDark(n+1,i+1)&&c++,0!=c&&4!=c||(e+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)r.isDark(n,i)&&!r.isDark(n,i+1)&&r.isDark(n,i+2)&&r.isDark(n,i+3)&&r.isDark(n,i+4)&&!r.isDark(n,i+5)&&r.isDark(n,i+6)&&(e+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)r.isDark(n,i)&&!r.isDark(n+1,i)&&r.isDark(n+2,i)&&r.isDark(n+3,i)&&r.isDark(n+4,i)&&!r.isDark(n+5,i)&&r.isDark(n+6,i)&&(e+=40);var f=0;for(i=0;i<t;i++)for(n=0;n<t;n++)r.isDark(n,i)&&f++;return e+=10*(Math.abs(100*f/t/t-50)/5)},r}());o.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],o.G15=1335,o.G18=7973,o.G15_MASK=21522,t._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var n,t,r,i,a,l,o,u,c,s,k,f,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Node,u=e.Label,c=e.Sprite,s=e.color,k=e.Component},function(e){f=e.resourcesMgr},function(e){p=e.GameUtil}],execute:function(){var m,d,h,g,b,N,v,y,R,S,w,L,z,I,C,_;a._RF.push({},"d3c1f4zShlNeKSVwJ+LZwY4","RankItem",void 0);var G=l.ccclass,x=l.property,B=l.menu;e("default",(m=G("RankItem"),d=B("实例模块/RankItem"),h=x(o),g=x(u),b=x(c),N=x(u),v=x(u),y=x(u),m(R=d((w=n((S=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,r(n,"selectNode",w,i(n)),r(n,"rankNum",L,i(n)),r(n,"rankSp",z,i(n)),r(n,"rankName",I,i(n)),r(n,"rankLevel",C,i(n)),r(n,"rankGuild",_,i(n)),n.onItemClick=null,n.index=0,n}t(n,e);var a=n.prototype;return a.start=function(){p.loadResLocal("RankWin/rank_select_bg.png",this.selectNode.getComponent(c))},a.init=function(e){var n=this;if(e){var t=this.getColorByRanking(e.rankNum);e.rankNum<4?(this.rankNum.node.active=!1,this.rankSp.node.active=!0,f.resLoad("RankWin/rankIcon_"+(e.rankNum-1)+".png",(function(e){e&&n.rankSp&&(n.rankSp.spriteFrame=e)}))):(this.rankNum.node.active=!0,this.rankSp.node.active=!1,0==e.rankNum?this.rankNum.string="未上榜":this.rankNum.string=e.rankNum.toString()),this.rankName.string=e.name,this.rankLevel.string=e.level+"级",this.rankGuild.string=e.guild,this.rankName.color=s(t),this.rankLevel.color=s(t),this.rankGuild.color=s(t),0==this.index&&(this.selectNode.active=!0)}},a.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},a.setSelected=function(e){this.selectNode.active=e},a.getColorByRanking=function(e){switch(e){case 1:return"#ff0418";case 2:return"#ffd604";case 3:return"#d7bc2e";default:return"#ffffff"}},n}(k)).prototype,"selectNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(S.prototype,"rankNum",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(S.prototype,"rankSp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(S.prototype,"rankName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(S.prototype,"rankLevel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(S.prototype,"rankGuild",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=S))||R)||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Struct.ts","./GameDefine.ts","./AnimationModule.ts","./ResourcesMgr.ts","./objectcontrol.ts","./Sendmessage.ts","./List.ts","./GameApi.ts","./GameUtil.ts","./RankItem.ts"],(function(e){"use strict";var t,i,n,a,o,s,r,h,u,l,c,m,p,f,d,S,E,g,v,k,b,w,I,R,_,A,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Prefab,h=e.Node,u=e.Toggle,l=e.Label,c=e.Sprite,m=e.Mask,p=e.Vec3,f=e.Component},function(e){d=e.EventMgr},function(e){S=e.Config},function(e){E=e.default},function(e){g=e.Struct_ins},function(e){v=e.RankData},function(e){k=e.Animationmodule},function(e){b=e.resourcesMgr},function(e){w=e.Objectcontrol},function(e){I=e.sendmessage},function(e){R=e.default},function(e){_=e.GameApi},function(e){A=e.GameUtil},function(e){D=e.default}],execute:function(){var H,N,F,C,y,U,L,P,O,M,x,T,q,z,W,B,G,V,K,j,J,X,Z,Q,Y,$,ee,te,ie,ne,ae,oe,se,re;o._RF.push({},"7becdwHFCJMuqq01ZHXP3zi","RankWin",void 0);var he=s.ccclass,ue=s.property,le=s.menu;e("default",(H=he("RankWin"),N=le("弹窗模块/RankWin"),F=ue(r),C=ue(h),y=ue(u),U=ue(l),L=ue(l),P=ue(c),O=ue(c),M=ue(c),x=ue(c),T=ue(u),q=ue(u),z=ue(m),W=ue(c),B=ue(c),G=ue(R),H(V=N((j=t((K=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"rankItemPrefab",j,a(t)),n(t,"contentNode",J,a(t)),n(t,"tabBarButton",X,a(t)),n(t,"myRank",Z,a(t)),n(t,"myGuild",Q,a(t)),n(t,"hatSprite",Y,a(t)),n(t,"weaponSprite",$,a(t)),n(t,"clothesSprite",ee,a(t)),n(t,"shieldSprite",te,a(t)),n(t,"fashionShowCheck",ie,a(t)),n(t,"rangeShowCheck",ne,a(t)),n(t,"maskNode",ae,a(t)),n(t,"hum_img",oe,a(t)),n(t,"hair_img",se,a(t)),n(t,"list",re,a(t)),t.rankItems=[],t.rankData=[],t.selectFashionShow=!1,t.selectRoleData=null,t.index=0,t.HumItems=void 0,t.tabIndex=0,t.isChangeFashion=!1,t}i(t,e);var o=t.prototype;return o.start=function(){S.MainScene.openRank=!0,this.initMsgEvent(),this.setFashionValue(),this.setJobMode()},o.setJobMode=function(){1!=S.g_serverconfig.nJobmode&&this.tabBarButton.forEach((function(e,t){0!=t&&(e.node.active=!1)}))},o.initMsgEvent=function(){d.addEventListener(E.UPDATERANKDATA,this.updateRankDataByType,this),d.addEventListener(E.UPDATERANKROLE,this.updateRankRole,this),d.addEventListener(E.CLOSERANKWIN,this.closeView,this),d.addEventListener(E.REMOEV_ANI,this.removeAni,this)},o.updateRankDataByType=function(e,t){this.rankData[t]=e,this.updateShowUI(e)},o.updateShowUI=function(e){e[0][0]&&I.requestRankNameState(e[0][0].sChrName),this.updateListData(e),this.showMyRankingAndGuild()},o.updateListData=function(e){var t=[];for(var i in e[0]){var n=e[0][i];if(n.sChrName){var a=new v;n.sChrName,S.userName,a.name=n.sChrName,a.level=n.nLevel,a.rankNum=n.nIndex,t.push(a)}}this.initRank(t)},o.showMyRankingAndGuild=function(){this.myRank.string=this.getMyRank(A.getPureName(w.self_obj));var e=A.getPureGuildName(w.self_obj);this.myGuild.string=e||"无"},o.getMyRank=function(e){var t=this.rankData;if(!this.rankData||!t)return"未上榜";for(var i=0,n=t.length;i<n;i++)if(t[i].name.indexOf(e)>-1)return i+1+"";return"未上榜"},o.updateRankRole=function(e){var t=this;if(console.log("更新排行榜信息data=",e),e){this.selectRoleData=e;var i=g.THumFeature(e.Feature.buffer),n=i.btGender,a=this.getHumSkin(this.selectFashionShow,n);b.resLoad(a,(function(e){t.hum_img&&e&&(t.hum_img.getComponent(c).spriteFrame=e)}));var o=A.getNeiGuanHairResNum(i.btHair,n),s=A.loadImgData(o,"prguse");b.resLoad(s.plist,(function(e){e&&t.hair_img&&e.getSpriteFrame(s.img)&&(t.hair_img.getComponent(c).spriteFrame=e.getSpriteFrame(s.img))})),this.HumItems=e.UseItems,this.selectFashionShow?(this.hair_img.node.active=!1,this.shieldSprite.node.active=!1,this.updatePosByFashionOrEquip(!0),this.isChangeFashion&&(this.isChangeFashion=!1,this.removeEquipEffect(this.clothesSprite.node,S.U_DRESS),this.removeEquipEffect(this.weaponSprite.node,S.U_WEAPON),this.removeEquipEffect(this.shieldSprite.node,S.U_SHIELD),this.removeEquipEffect(this.hatSprite.node,S.U_HELMET)),this.hum_img.node.active=!1,this.initFashionPart(this.clothesSprite.node,S.U_FASHIONDRESS),this.initFashionPart(this.weaponSprite.node,S.U_FASHIONWEAPON),this.initFashionPart(this.hatSprite.node,S.U_FASHIONHELMET)):(this.hair_img.node.active=!0,this.hum_img.node.active=!0,this.shieldSprite.node.active=!0,this.updatePosByFashionOrEquip(!1),this.isChangeFashion&&(this.isChangeFashion=!1,this.removeEquipEffect(this.clothesSprite.node,S.U_FASHIONDRESS),this.removeEquipEffect(this.weaponSprite.node,S.U_WEAPON),this.removeEquipEffect(this.hatSprite.node,S.U_FASHIONHELMET)),this.initPart(this.clothesSprite.node,S.U_DRESS),this.initPart(this.weaponSprite.node,S.U_WEAPON),this.initPart(this.shieldSprite.node,S.U_SHIELD),this.initPart(this.hatSprite.node,S.U_HELMET))}},o.initPart=function(e,t){if(null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var i=this.HumItems[t].s.Looks;null!=e.getComponent(c).spriteFrame&&(e.getComponent(c).spriteFrame=null),t==S.U_WEAPON||t==S.U_DRESS||t==S.U_HELMET?(this.HumItems[t].tag=t,A.loadImageEx(i,e,!0,t,"stateitem",this,!0),A.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):t==S.U_SHIELD||t==S.U_HELMET?(A.loadImageEx(i,e,!0,t,"stateitem",this,!0),A.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(A.loadImageEx(i,e,!1,t,"stateitem",this,!0),A.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{e.getComponent(c).spriteFrame=null;var n=k.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&k.removeAni(n)}},o.removeEquipEffect=function(e,t){var i=k.getAni(e.parent,"bodyeffect"+e.parent.uuid);i&&k.removeAni(i)},o.initFashionPart=function(e,t){if(null!=this.HumItems[t]&&this.HumItems[t].MakeIndex>0){var i=this.HumItems[t].s.Looks;t==S.U_FASHIONWEAPON||t==S.U_FASHIONDRESS||t==S.U_FASHIONHELMET?(this.HumItems[t].tag=t,t==S.U_FASHIONDRESS&&(this.hum_img.node.active=!1),A.loadImageEx(i,e,!0,t,"stateitem",this,!0),A.showItemeffectEx(this,e.parent,this.HumItems[t],!0,t)):(A.loadImageEx(i,e,!1,t,"stateitem",this,!0),A.showItemeffectEx(this,e.parent,this.HumItems[t]))}else{e.getComponent(c).spriteFrame=null,t==S.U_FASHIONDRESS&&(this.hum_img.node.active=!0);var n=k.getAni(e.parent,"bodyeffect"+e.parent.uuid);n&&k.removeAni(n)}},o.updatePosByFashionOrEquip=function(e){e?(this.clothesSprite.node.parent.setPosition(new p(59,-72)),this.weaponSprite.node.parent.setPosition(new p(19,-5)),this.hatSprite.node.parent.setPosition(new p(68,-21))):(this.clothesSprite.node.parent.setPosition(new p(68.5,-70)),this.weaponSprite.node.parent.setPosition(new p(18,-5)),this.hatSprite.node.parent.setPosition(new p(62,-30)))},o.setFashionValue=function(){var e=!1,t=!1;t="true"==A.getSaveData("rankFashionShow"),e="true"==A.getSaveData("rankFrameShow"),this.selectFashionShow=t,this.fashionShowCheck.isChecked=t,this.rangeShowCheck.isChecked=e,this.maskNode.enabled=e},o.tabbarButtonClick=function(e){var t=this.tabBarButton.indexOf(e);t!=this.tabIndex&&(this.tabIndex=t,I.requestRankDataByType(this.tabIndex))},o.initRank=function(e){this.rankItems=[],this.rankData=e,this.index=0,this.list.numItems=this.rankData.length},o.RenderItemHandler=function(e,t){var i=this.rankData[t];if(i){var n=e.getComponent(D);n.index=t,n.init(i),n.onItemClick=this.onRankItemClicked.bind(this),this.index!=t?n.setSelected(!1):n.setSelected(!0)}},o.onRankItemClicked=function(e){var t=this;this.contentNode.children.forEach((function(i,n){var a=i.getComponent(D);if(a.index==e){if(t.index==e)return;t.index=e,a.setSelected(!0);var o=t.rankData[t.index].name;console.log("选中的name=",o),I.requestRankNameState(o)}else a.setSelected(!1)}))},o.onClickFashionToggle=function(){var e=this;console.log("点击时装显示"),this.scheduleOnce((function(){e.selectFashionShow=e.fashionShowCheck.isChecked,A.setSaveData("rankFashionShow",e.fashionShowCheck.isChecked),e.isChangeFashion=!0,e.selectRoleData&&e.updateRankRole(e.selectRoleData)}),.01)},o.getHumSkin=function(e,t){return this.fashionShowCheck.isChecked?0==t?"HumWin/00376-2.png":"HumWin/00377-2.png":0==t?"HumWin/00376-1.png":"HumWin/00377-1.png"},o.onClickLook=function(){this.selectRoleData!=S.nowShowRoleData&&(S.nowShowRoleData=this.selectRoleData,_.showLookHum(!0,this.selectRoleData))},o.onClickInsideToggle=function(){var e=this;this.scheduleOnce((function(){e.maskNode.enabled=e.rangeShowCheck.isChecked,A.setSaveData("rankFrameShow",e.rangeShowCheck.isChecked)}),.01)},o.closeView=function(){this.removeNodeAni(),this.node&&this.node.destroy()},o.removeNodeAni=function(){this.selectFashionShow?(this.removeEquipEffect(this.clothesSprite.node,S.U_FASHIONDRESS),this.removeEquipEffect(this.weaponSprite.node,S.U_WEAPON),this.removeEquipEffect(this.hatSprite.node,S.U_FASHIONHELMET)):(this.removeEquipEffect(this.clothesSprite.node,S.U_DRESS),this.removeEquipEffect(this.weaponSprite.node,S.U_WEAPON),this.removeEquipEffect(this.shieldSprite.node,S.U_SHIELD),this.removeEquipEffect(this.hatSprite.node,S.U_HELMET))},o.onDestroy=function(){S.MainScene.openRank=!1,d.removeEventListener(E.UPDATERANKDATA,this.updateRankDataByType,this),d.removeEventListener(E.UPDATERANKROLE,this.updateRankRole,this),d.removeEventListener(E.CLOSERANKWIN,this.closeView,this),d.removeEventListener(E.REMOEV_ANI,this.removeAni,this)},o.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(f)).prototype,"rankItemPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(K.prototype,"contentNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(K.prototype,"tabBarButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(K.prototype,"myRank",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(K.prototype,"myGuild",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(K.prototype,"hatSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(K.prototype,"weaponSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(K.prototype,"clothesSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(K.prototype,"shieldSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(K.prototype,"fashionShowCheck",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(K.prototype,"rangeShowCheck",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(K.prototype,"maskNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(K.prototype,"hum_img",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(K.prototype,"hair_img",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(K.prototype,"list",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=K))||V)||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/RankWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var n,i,r,t,l,a,o,c,u,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Sprite,c=e.Toggle,u=e.Component},function(e){s=e.GameUtil}],execute:function(){var g,p,k,b,h,f,R,y,_,T,B,d,m,z,M,S,w,L,v,G,x,F,W,I,D,U,A,H,P,j,C,O,q,E;l._RF.push({},"c0088ObHGRGUa1reGrA32i1","RankWinSprite",void 0);var J=a.ccclass,K=a.property,N=a.menu;e("default",(g=J("RankWinSprite"),p=N("图片模块/RankWinSprite"),k=K(o),b=K(o),h=K(c),f=K(o),R=K(c),y=K(o),_=K(c),T=K(o),B=K(c),d=K(o),m=K(o),z=K(c),M=K(o),S=K(c),w=K(o),g(L=p((G=n((v=function(e){function n(){for(var n,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,r(n,"rankBG",G,t(n)),r(n,"closeBtn",x,t(n)),r(n,"Toggle1",F,t(n)),r(n,"checkMark1",W,t(n)),r(n,"Toggle2",I,t(n)),r(n,"checkMark2",D,t(n)),r(n,"Toggle3",U,t(n)),r(n,"checkMark3",A,t(n)),r(n,"Toggle4",H,t(n)),r(n,"checkMark4",P,t(n)),r(n,"lookBtn",j,t(n)),r(n,"insideToggle",C,t(n)),r(n,"checkMarkInside",O,t(n)),r(n,"fashionToggle",q,t(n)),r(n,"checkMarkFashion",E,t(n)),n}return i(n,e),n.prototype.start=function(){s.loadResLocal("RankWin/rankBg.png",this.rankBG),s.loadResLocal("public/btn_close_new.png",this.closeBtn),s.loadResLocal("SplitResource/Btns/rank_checkBtn.png",this.lookBtn),s.loadResLocalToggle("SplitResource/Btns/rank_tab_level.png","SplitResource/Btns/rank_tab_level (2).png",this.Toggle1,this.checkMark1),s.loadResLocalToggle("SplitResource/Btns/rank_tab_zs.png","SplitResource/Btns/rank_tab_zs (2).png",this.Toggle2,this.checkMark2),s.loadResLocalToggle("SplitResource/Btns/rank_tab_fs.png","SplitResource/Btns/rank_tab_fs (2).png",this.Toggle3,this.checkMark3),s.loadResLocalToggle("SplitResource/Btns/rank_tab_ds.png","SplitResource/Btns/rank_tab_ds (2).png",this.Toggle4,this.checkMark4),s.loadResLocalToggle("SplitResource/Btns/auxiliary_check.png","SplitResource/Btns/auxiliary_check (2).png",this.insideToggle,this.checkMarkInside),s.loadResLocalToggle("SplitResource/Btns/auxiliary_check.png","SplitResource/Btns/auxiliary_check (2).png",this.fashionToggle,this.checkMarkFashion)},n}(u)).prototype,"rankBG",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(v.prototype,"closeBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(v.prototype,"Toggle1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(v.prototype,"checkMark1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(v.prototype,"Toggle2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(v.prototype,"checkMark2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(v.prototype,"Toggle3",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(v.prototype,"checkMark3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(v.prototype,"Toggle4",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(v.prototype,"checkMark4",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(v.prototype,"lookBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(v.prototype,"insideToggle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(v.prototype,"checkMarkInside",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(v.prototype,"fashionToggle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(v.prototype,"checkMarkFashion",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=v))||L)||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/RechargeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts"],(function(t){"use strict";var e,n,i,r,a,o,c,u,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Label,u=t.Component},function(t){l=t.productData,s=t.PRODUCT_TYPE}],execute:function(){var p,h,f,m,g,y,d,b;a._RF.push({},"fb19bHUAHlCkaglN3q4Pedp","RechargeItem",void 0);var v=o.ccclass,D=o.property,R=o.menu;t("default",(p=v("RechargeItem"),h=R("实例模块/RechargeItem"),f=D(c),m=D(c),p(g=h((d=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"text",d,r(e)),i(e,"money",b,r(e)),e.onItemClick=null,e.index=0,e.data=new l,e}n(e,t);var a=e.prototype;return a.start=function(){},a.initData=function(t){t&&(t.type==s.NORMAL?(this.data=t,this.text.string=""+t.productNum+t.productName,this.money.string="￥"+t.payMoney.toString()):(this.data=t,this.text.string="其他",this.money.string="其他"))},a.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},a.getData=function(){return this.data},e}(u)).prototype,"text",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"money",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/RechargeWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./external.ts","./GameDefine.ts","./NativeMsgHandle.ts","./GameUtil.ts","./RechargeItem.ts"],(function(t){"use strict";var e,a,i,n,o,r,s,u,c,l,p,m,y,h,g,d,f,b,N,_,D,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Node,u=t.Prefab,c=t.Label,l=t.EditBox,p=t.Sprite,m=t.instantiate,y=t.sys,h=t.director,g=t.Component},function(t){d=t.Config},function(t){f=t.external},function(t){b=t.productData,N=t.PRODUCT_TYPE},function(t){_=t.NativeMsgHandle},function(t){D=t.GameUtil},function(t){v=t.default}],execute:function(){var P,R,L,w,C,M,I,S,O,B,k,z,W,x,A,E,F,G,H,T,U,X,Z,j,J,K,V,q,Y,Q,$,tt,et,at,it,nt;o._RF.push({},"ce9567pKP9Aurgl4sgnvw6h","RechargeWin",void 0);var ot=r.ccclass,rt=r.menu,st=r.property;t("default",(P=ot("RechargeWin"),R=rt("弹窗模块/RechargeWin"),L=st(s),w=st(u),C=st(s),M=st(s),I=st(c),S=st(c),O=st(c),B=st(c),k=st(l),z=st(p),W=st(p),x=st(p),A=st(p),E=st(p),F=st(p),G=st(p),P(H=R((U=e((T=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"contentNode",U,n(e)),i(e,"rechargeItemPrefab",X,n(e)),i(e,"payNode",Z,n(e)),i(e,"customPayNode",j,n(e)),i(e,"payMoney",J,n(e)),i(e,"payNum",K,n(e)),i(e,"productNameRight",V,n(e)),i(e,"productNameBottom",q,n(e)),i(e,"customEditBox",Y,n(e)),i(e,"BG",Q,n(e)),i(e,"mainCloseBtn",$,n(e)),i(e,"payNodeClose",tt,n(e)),i(e,"payWX",et,n(e)),i(e,"payZFB",at,n(e)),i(e,"custom_ok",it,n(e)),i(e,"custom_cancel",nt,n(e)),e.payListData=[],e.payListItems=[],e.coustomRecharge=null,e.selectProductData=new b,e.rate=1,e.moneyName="",e.weburl="",e.min_value=10,e.type=null,e}a(e,t);var o=e.prototype;return o.start=function(){D.loadResLocal("rechargeWin/recharge_bg3.png",this.BG),D.loadResLocal("public/btn_close_new.png",this.mainCloseBtn),D.loadResLocal("rechargeWin/pay_bg.png",this.payNode.getComponent(p)),D.loadResLocal("public/btn_close_new.png",this.payNodeClose),D.loadResLocal("rechargeWin/pay_wx.png",this.payWX),D.loadResLocal("rechargeWin/pay_zfb.png",this.payZFB),D.loadResLocal("rechargeWin/custom_pay_bg.png",this.customPayNode.getComponent(p)),D.loadResLocal("rechargeWin/custom_pay_cel.png",this.custom_cancel),D.loadResLocal("rechargeWin/custom_pay_ok.png",this.custom_ok),d.MainScene.openRecharge=!0},o.initData=function(){var t=this;this.payListItems=[],this.payListData.forEach((function(e,a){var i=m(t.rechargeItemPrefab),n=i.getComponent(v);n.index=a,n.initData(e),n.onItemClick=t.onItemClicked.bind(t),a!=t.payListData.length-1?t.payListItems.push(n):t.coustomRecharge=n,t.contentNode.addChild(i)}))},o.onItemClicked=function(t){if(t==this.payListItems.length)return this.customPayNode.active=!0,void(this.customEditBox.string=""+this.min_value);for(var e=0;e<this.payListItems.length;e++)if(t==e){var a=this.payListItems[e].getData();this.selectProductData=a,this.openPay();break}},o.openPay=function(){switch(d.cur_game_type){case N.NORMAL:this.payNode.active=!0,this.payMoney.string=this.selectProductData.payMoney.toString(),this.payNum.string=this.selectProductData.productNum.toString(),this.productNameBottom.string=this.selectProductData.productName,this.productNameRight.string=this.selectProductData.productName;break;case 3:f.MRGamePay(this.selectProductData.payMoney,this.moneyName,this.rate,this.selectProductData.productNum);break;case 4:f.MRGameH5Pay(100*this.selectProductData.productNum,this.moneyName);break;case 5:break;case 7:if(y.isNative){h.getScene().getComponentInChildren(_).openPay(this.selectProductData.productNum,this.moneyName,this.rate,this.selectProductData.payMoney);break}f.openPayInShaHe(this.selectProductData.productNum,this.moneyName,this.rate,this.selectProductData.payMoney);break;default:f.quicksdkpay(d.playerID,d.g_RoleName,d.g_levelForCaiji,this.selectProductData.payMoney,this.selectProductData.productNum,this.name)}},o.closeWin=function(){this.node.destroy()},o.closePayNode=function(){this.payNode.active=!1},o.onClickCustomOK=function(){Number(this.customEditBox.string)<this.min_value?console.log("当前最小金额为："+this.min_value):(this.customPayNode.active=!1,this.selectProductData=new b,this.selectProductData.productName=this.moneyName,this.selectProductData.payMoney=Number(this.customEditBox.string),this.selectProductData.productNum=Number(this.customEditBox.string)*this.rate,this.openPay())},o.onClickCustomCancel=function(){this.customPayNode.active=!1},o.onClickPayWithZFB=function(){if(d.cur_use_app&&this.weburl){if(0==d.cur_game_type){var t,e={};y.os==y.OS.IOS||(y.os,y.OS.ANDROID);var a=d.Charge_Value.split("\r\n"),i=this.weburl.split("a=");if(i.length>=2&&a.length>=2){var n=i[1].split("&")[0];(e={}).areaid=n,e.uid=d.dataFromRoleScene.uid,e.yuanbao=this.payNum.string,e.money=this.payMoney.string,e.type=1001,e.url=a[1];var o=JSON.stringify(e);y.os==y.OS.IOS?t.call("gotopay:",o):y.os==y.OS.ANDROID&&t.call("gotopay",o)}}}else console.log("------------------no conchConfig-----------------------"),3==this.type&&f.callpayforuu(this.payNum.string,1001)},o.onClickPayWithWX=function(){if(d.cur_use_app&&this.weburl){if(0==d.cur_game_type){var t,e={};y.os==y.OS.IOS||(y.os,y.OS.ANDROID);var a=d.Charge_Value.split("\r\n"),i=this.weburl.split("a=");if(i.length>=2&&a.length>=2){var n=i[1].split("&")[0];(e={}).areaid=n,e.uid=d.dataFromRoleScene.uid,e.yuanbao=this.payNum.string,e.money=this.payMoney.string,e.type=2001,e.url=a[1];var o=JSON.stringify(e);y.os==y.OS.IOS?t.call("gotopay:",o):y.os==y.OS.ANDROID&&t.call("gotopay",o)}}}else console.log("------------------no conchConfig-----------------------"),3==this.type&&f.callpayforuu(this.payNum.string,2001)},o.updateMoney=function(t){if(console.log("---\x3e ",t),t.load){this.moneyName=t.area._charge_scale[0].name,this.rate=t.area._charge_scale[0].rate;for(var e=0;e<this.payListData.length;e++){var a=this.payListData[e],i=t.area.custom_amount[e].amount;a.payMoney=i,a.productName=this.moneyName,a.productNum=i*this.rate}this.min_value=Number(t.gmaster.min_charge_amount),this.customEditBox.string=this.min_value.toString()}else console.log("---无效数据----")},o.update3Money=function(t){this.name=t.data.currency,this.type=3;for(var e=0;e<this.payListItems.length;e++){var a=this.payListItems[e],i=new b;i.productName=t.data.currency,i.productNum=t.data.amount[e]*t.data.ratio,i.payMoney=t.data.amount[e],i.type=N.NORMAL,a.initData(i)}},o.onDestroy=function(){d.MainScene.openRecharge=!1},o.update2Money=function(t){console.log("---\x3e ",t);var e="",a=t.split("|");if(2==a.length&&(e=a[1].split(","),this.name=e[0],this.type=a[0],this.rate=Number(e[1])),3==a.length&&(e=a[2].split(","),this.name=a[1],this.type=a[0],this.rate=Number(e[1])),this.payListData=[],this.moneyName=e[0],0==this.payListItems.length){for(var i=0;i<8;i++){var n=new b,o=[];e[i+2]&&(o=e[i+2].split(":")),7==i?(n.productName=e[0],n.productNum=0,n.payMoney=0,n.type=N.CUSTOM):(n.productName=e[0],n.productNum=Number(o[0]),n.payMoney=Number(o[1]),n.type=N.NORMAL),this.payListData.push(n)}this.initData()}else for(var r=0;r<this.payListItems.length;r++){var s=[];if(e[r+2]&&(s=e[r+2].split(":")),s&&s.length>=2){var u=this.payListItems[r],c=new b;c.productName=e[0],c.productNum=Number(s[0]),c.payMoney=Number(s[1]),c.type=N.NORMAL,this.payListData.push(c),u.initData(c)}}},e}(g)).prototype,"contentNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(T.prototype,"rechargeItemPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(T.prototype,"payNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(T.prototype,"customPayNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(T.prototype,"payMoney",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(T.prototype,"payNum",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(T.prototype,"productNameRight",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(T.prototype,"productNameBottom",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(T.prototype,"customEditBox",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(T.prototype,"BG",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(T.prototype,"mainCloseBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(T.prototype,"payNodeClose",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(T.prototype,"payWX",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(T.prototype,"payZFB",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(T.prototype,"custom_ok",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(T.prototype,"custom_cancel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=T))||H)||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/ReconnectionLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./external.ts","./MsgSM.ts","./EnDecode.ts","./Sendmessage.ts","./LoginSocket.ts","./RoleSocket.ts","./GameSocket.ts","./Https.ts"],(function(e){"use strict";var o,n,t,s,r,c,l,i,g,a,u,S,R;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e.Component},function(e){s=e.Config},function(e){r=e.external},function(e){c=e.default},function(e){l=e.EnDecode},function(e){i=e.sendmessage,g=e.Sendmessage},function(e){a=e.loginSocket},function(e){u=e.roleSocket},function(e){S=e.gameSocket},function(e){R=e.https}],execute:function(){n._RF.push({},"9810c8C0TxBFYPoTea4a57a","ReconnectionLogic",void 0),e("ReconnectionLogic",function(e){function n(){for(var o,n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return(o=e.call.apply(e,[this].concat(t))||this).reqservering=!0,o.callBack=null,o}o(n,e),n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var t=n.prototype;return t.linkLoginSvr=function(e){if(e&&(this.callBack=e),s.g_server_area){var o=s.g_server_area;r.checkNative();var n=null==s.g_serverconfigtxt.gamelist?o.sServerip:o.serverAddr,t=null==s.g_serverconfigtxt.gamelist?o.nPort:o.port;-1!=n.indexOf("http:")?r.sendtonative("gotowebview","openurl:"+n):(s.relogin=!0,S.isReconnect=!1,e?S.activeClose((function(){console.log("小退：断开游戏socket成功"),S._socket=null,i.clsocket=null,a.createSocket(n,t,!0),null==s.g_serverconfigtxt.gamelist?(s.GAME_IP=o.sServerip,s.GAME_PORT=parseInt(o.nPort),s.port_key=o.sPassWord):(s.GAME_IP=o.serverAddr,s.GAME_PORT=parseInt(o.port),s.port_key=o.passWord)})):(console.log("重登前断开游戏socket成功"),S._socket=null,i.clsocket=null,this.requestRoleUrl()))}},t.sendLogin=function(){if(s.isSocketConnected=!0,s.g_serverconfigtxt&&s.g_serverconfigtxt.onGDYPlatform)var e=[s.g_relogname.toLowerCase()+"@2",s.g_relogpsw];else e=[s.g_relogname.toLowerCase(),s.g_relogpsw];console.log("userLoginInfo[0], userLoginInfo[1]:"+e[0],e[1]),g.getInstance().sendLogin(e[0],e[1])},t.onSvrConnect=function(){this.reqservering&&(this.reqservering=!1,g.getInstance().sendreqserver(s.server_uuid))},t.onMsgFromSvr=function(e){if("!"===e[e.length-1]){var o=e.substring(0,e.length-1),n=o.substring(0,22),t=o.substring(22,o.length),r=l.DecodeMessage(n),i=l.DecodeString(t);switch(console.log(i),r.ident){case c.SERVER_VERSION:console.log(r),console.log("java服返回消息"),s.isJava=!0,this.sendLogin();break;case c.PASSOK_SELECTSERVER:var a=i.split("/");console.log("重登流程2:密码正确发送sendSelectServer"),console.log(a[0]),g.getInstance().sendSelectServer(a[0]);break;case c.PASSWD_FAIL:console.log("PASSWD_FAIL:"+r.record),console.log("重登流程2:登陆失败，重新申请登陆，发送sendLogin"),-3!=r.record&&-4!=r.record||this.sendLogin();break;case c.SELECTSERVER_OK:console.log("重登流程3:SELECTSERVER_OK"),this.unRegisterReConnection();var u=i.split("/");g.getInstance().roleNetParam=u,u.push(s.g_relogname),console.log("重登时获取查询角色时需要的登陆code："+u),s.MsgFromLogin=u,this.roleGetParamFromLogin();break;case c.WEBH5VERSION:console.log("重登流程1:发送sendLogin，返回MsgSM.WEBH5VERSION"),this.sendLogin();break;case c.QUERYCHR:setTimeout((function(){console.log("重登流程6:sendQueryRole请求成功"),console.log(s.MsgFromLogin[3].toLowerCase(),s.g_RoleNameOnly),g.getInstance().sendSelectRole(s.MsgFromLogin[3].toLowerCase(),s.g_RoleNameOnly)}),500);break;case c.QUERYCHR_FAIL:console.log("查询角色失败");break;case c.STARTPLAY:var S=i.split("/"),R=S[0],f=S[1],d=s.MsgFromLogin[2],v=s.MsgFromLogin[3].toLowerCase(),_={ip:R,port:f,code:d,name:s.g_RoleNameOnly,uid:v};s.dataFromRoleScene=_,this.unRegisterReConnection(),s.CurScene&&(console.log("重登流程7:sendSelectRole成功"),console.log(_),s.CurScene.getDataForRoleScene(_)),this.unRegisterReConnection()}}},t.roleGetParamFromLogin=function(){var e=this;console.log("重登流程4:创建rolesocket"),a.activeClose((function(){if(a._socket=null,i.clsocket=null,console.log("断开登陆socket成功"),s.g_backToRole)return e.callBack(),void(s.relogin=!1);console.log("主动关闭login socket成功"),u.createSocket(s.GAME_IP,parseInt(s.MsgFromLogin[1]),!0)}))},t.roleOnSvrConnect=function(){var e=s.MsgFromLogin[3].toLowerCase(),o=s.MsgFromLogin[2];console.log("重登流程5:sendQueryRole"),console.log(e,o),e&&o&&g.getInstance().sendQueryRole(e,o)},t.registerReConnection=function(){},t.unRegisterReConnection=function(){},t.requestRoleUrl=function(){R.requestRoleUrl((function(e){e&&(R.sessionSerial=e.sessionSerial,R.roleUrl=e.roleGateIP,R.rolePort=e.roleGatePort,s.MsgFromLogin=[e.roleGateIP,e.roleGatePort,e.sessionSerial,R.ga],u.createSocket(e.roleGateIP,e.roleGatePort,!0))}))},n}(t))._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/RecoveryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,a,n,r,u,c,o,s,m,l,d,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,c=t.Sprite,o=t.Label,s=t.Component},function(t){m=t.EventMgr},function(t){l=t.default},function(t){d=t.EquipData},function(t){p=t.resourcesMgr},function(t){f=t.GameUtil}],execute:function(){var h,v,g,I,_,y,C,D;r._RF.push({},"864b9/SbjJL4KdCNrWAtZAY","RecoveryItem",void 0);var E=u.ccclass,N=u.property,b=u.menu;t("default",(h=E("RecoveryItem"),v=b("实例模块/RecoveryItem"),g=N(c),I=N(o),h(_=v((C=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,a(e,"icon",C,n(e)),a(e,"itemNum",D,n(e)),e.equip_data=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.init=function(t){var e,i=this;(t.res?p.handleLoad(t.res.plist,(function(e){e&&e.getSpriteFrame(t.res.img)&&i.icon&&(i.icon.spriteFrame=e.getSpriteFrame(t.res.img))})):this.icon.getComponent(c).spriteFrame=null,t.data)?(this.equip_data=t,t.data.s.BagEffect.FileIndex&&f.showItemeffect(this.icon.node,t.data),this.itemNum&&(this.itemNum.node.active=!0,f.checkMaterialItemCanBeStacked(t.data,!0)?e="x"+(t.data.Dura+1):f.checkDrugItemCanBeStacked(t.data)&&(e="x"+t.data.Dura),this.itemNum.string=e)):(this.equip_data=null,this.itemNum.node.active=!1,f.removeItemAni(this.icon.node,"effect"))},r.onClickItem=function(){if(this.equip_data){m.raiseEvent(l.GUILD_WAREHOUSE_CANCLE_RECOVERY,this.equip_data);var t=new d;this.equip_data=t,this.init(this.equip_data)}},r.updateItem=function(t){var e,i=t[0];i.s.nIdx==this.equip_data.data.s.nIdx&&(this.itemNum&&(this.itemNum.node.active=!0,f.checkMaterialItemCanBeStacked(i,!0)?e="x"+(i.Dura+1):f.checkDrugItemCanBeStacked(i)&&(e="x"+i.Dura),this.itemNum.string=e))},e}(s)).prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(y.prototype,"itemNum",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=y))||_)||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/RecoveryPageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts","./RecoveryItem.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u,s,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Prefab,u=e.instantiate,s=e.Component},function(e){f=e.EquipData},function(e){p=e.default}],execute:function(){var d,h,g,v,y,b,P,m;o._RF.push({},"755edYcAShNb5bi215ggX6P","RecoveryPageView",void 0);var w=a.ccclass,N=a.property,R=a.menu;e("default",(d=w("RecoveryPageView"),h=R("实例模块/RecoveryPageView"),g=N(c),v=N(l),d(y=h((P=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"contentNode",P,r(t)),i(t,"WarehousePreafb",m,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.initData=function(e,t){if(this.contentNode.children.length)for(var n=0;n<36;n++){var i=new f,r=36*t+n;e[r]&&(i=e[r]),this.contentNode.children[n].getComponent(p).init(i)}else for(var o=36*t;o<36*t+36;o++){console.log("i=",o);var a=new f,c=u(this.WarehousePreafb);if(this.contentNode.addChild(c),e[o])console.log("item_data[i]=",e[o]),a=e[o],c.getComponent(p).init(a)}},t}(s)).prototype,"contentNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(b.prototype,"WarehousePreafb",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/RecoveryView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./UIcontrol.ts","./List.ts","./RecoveryPageView.ts"],(function(t){"use strict";var e,a,n,i,s,r,o,c,h,u,l,g,p,f,m,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,o=t.Button,c=t.Sprite,h=t.Component},function(t){u=t.EventMgr},function(t){l=t.Config},function(t){g=t.default},function(t){p=t.EquipData},function(t){f=t.uiControl},function(t){m=t.default},function(t){E=t.default}],execute:function(){var C,P,y,d,v,D,R,B,x,L;s._RF.push({},"63ec0VIQ/JG6pLbddyn1NRw","RecoveryView",void 0);var b=r.ccclass,W=r.property,_=r.menu;t("default",(C=b("RecoveryView"),P=_("弹窗模块/RecoveryView"),y=W(m),d=W(o),v=W(o),C(D=P((B=e((R=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"pageList",B,i(e)),n(e,"lastBtn",x,i(e)),n(e,"nextBtn",L,i(e)),e.pageWarehouseData=[],e.curPage=1,e.maxPage=3,e}a(e,t);var s=e.prototype;return s.start=function(){this.initWareHouse(),this.initMgr()},s.initMgr=function(){u.addEventListener(g.GUILD_WAREHOUSE_PUT_RECOVERY,this.updateRecovery,this),u.addEventListener(g.GUILD_WAREHOUSE_CANCLE_RECOVERY,this.cancleRecovery,this)},s.initWareHouse=function(){this.pageWarehouseData=[];var t=l.g_BagItemsList,e=Math.ceil(t.length/42);e>this.maxPage?this.maxPage=e:this.maxPage=3,this.pageList.numItems=this.maxPage,this.onPageChange(this.curPage-1)},s.pageRenderItemHandler=function(t,e){t.getComponent(E).initData(this.pageWarehouseData,e)},s.onPageChange=function(t){var e=null==t?this.pageList.curPageNum:t;this.curPage=e+1,console.log("当前页码：",this.curPage),1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(c).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(c).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(c).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(c).grayscale=!0)},s.onClickLastPage=function(){this.curPage>1&&(this.curPage-=1,1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(c).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(c).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(c).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(c).grayscale=!0),this.pageList.prePage(.5))},s.onClickNextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.curPage==this.maxPage?(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(c).grayscale=!0):(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(c).grayscale=!1),this.curPage>1?(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(c).grayscale=!1):(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(c).grayscale=!0)),this.pageList.nextPage(.5)},s.onClickClean=function(){var t=this;if(this.checkClean()){f.handlerAlert({type:2,content:"确认清理的装备将永久从行会仓库移除，且无法找回，同时获得999行会经验，是否确认清理？",sF:function(){console.log("清理测试"),u.raiseEvent(g.GUILD_WAREHOUSE_CLEAN_RECOVERY,t.pageWarehouseData),t.pageWarehouseData=[],t.pageList.numItems=t.maxPage}})}},s.updateRecovery=function(t){for(var e=t,a=!1,n=0;n<this.pageWarehouseData.length;n++)if(this.pageWarehouseData[n]&&null==this.pageWarehouseData[n].data&&null!=e){this.pageWarehouseData[n]=e,this.pageList.numItems=this.maxPage,a=!0;break}a||(this.pageWarehouseData.push(e),this.pageList.numItems=this.maxPage)},s.cancleRecovery=function(t){for(var e=t,a=0;a<this.pageWarehouseData.length;a++)if(e==this.pageWarehouseData[a]){var n=new p;n.data=null,this.pageWarehouseData[a]=n;break}},s.checkClean=function(){for(var t=this.pageWarehouseData.length-1;t>-1;t--)if(null!=this.pageWarehouseData[t]){if(null!=this.pageWarehouseData[t].data)return!0}else this.pageWarehouseData.splice(t,1);return!1},s.onDestroy=function(){u.removeEventListener(g.GUILD_WAREHOUSE_PUT_RECOVERY,this.updateRecovery,this),u.removeEventListener(g.GUILD_WAREHOUSE_CANCLE_RECOVERY,this.cancleRecovery,this)},s.onDisable=function(){this.pageWarehouseData.forEach((function(t,e){t&&u.raiseEvent(g.GUILD_WAREHOUSE_CANCLE_RECOVERY,t)})),this.pageWarehouseData=[]},s.onEnable=function(){this.pageList.numItems=this.maxPage},e}(h)).prototype,"pageList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(R.prototype,"lastBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(R.prototype,"nextBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=R))||D)||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/RedPacket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./GameUtil.ts","./ItemRedPacket.ts","./RedPacketOpen.ts"],(function(e){"use strict";var t,n,i,o,a,r,c,s,l,d,h,u,g,p,P,f,_,k,v,R,m,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Node,s=e.Label,l=e.Sprite,d=e.Button,h=e.NodeEventType,u=e.instantiate,g=e.find,p=e.Input,P=e.Component},function(e){f=e.EventMgr},function(e){_=e.Config},function(e){k=e.default},function(e){v=e.resourcesMgr},function(e){R=e.GameUtil},function(e){m=e.ItemRedPacket},function(e){I=e.RedPacketOpen}],execute:function(){var b,B,C,E,S,y,L,w,x,M,N,O,A,z,T;a._RF.push({},"315cd4J6lRIH5bX1DhUbfwq","RedPacket",void 0);var D=r.ccclass,G=r.property;e("RedPacket",(b=D("RedPacket"),B=G(c),C=G(s),E=G(l),S=G(d),y=G(d),L=G(d),b((M=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"content",M,o(t)),i(t,"lab_redAmount",N,o(t)),i(t,"Bg",O,o(t)),i(t,"Btn_Previous",A,o(t)),i(t,"Btn_Next",z,o(t)),i(t,"Btn_SendRedPacket",T,o(t)),t._redPacketOpen=null,t.showItemAmount=5,t.curPage=1,t._totalPage=void 0,t._preIdx=-1,t}n(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.node.on(h.ACTIVE_IN_HIERARCHY_CHANGED,(function(t){t.active?e.registerEvents():e.unRegisterEvents()}),this)},a.start=function(){var e=this;this.registerEvents(),R.loadResLocal("Socialize/red_pack_bg.png",this.Bg),R.loadResLocalButton("SetSkill/setskill_left.png","SetSkill/setskill_left (2).png",this.Btn_Previous),R.loadResLocalButton("SetSkill/setskill_right.png","SetSkill/setskill_right (2).png",this.Btn_Next),R.loadResLocalButton("Socialize/sendRedPack.png","Socialize/sendRedPack (2).png",this.Btn_SendRedPacket);for(var t=this.content.children.length,n=0;n<t;n++){var i=this.content.children[n];R.loadResLocal("Socialize/bg1.png",i.getComponent(l)),R.loadResLocalButton("Socialize/redPack_rob.png","Socialize/redPack_rob (2).png",i.getChildByName("Btn_Open").getComponent(d))}this._redPacketOpen||v.handleLoad("prefab/socialize/RedPacketOpen.prefab",(function(t){t&&(e._redPacketOpen=u(t))}))},a.updateToView=function(){this._totalPage=Math.ceil(_.g_RedPack_List.length/this.showItemAmount),0==this._totalPage&&(this._totalPage=1,this.curPage=1),this.changePage(this.curPage)},a.eventMgrMainGetRedPackList=function(){this.updateToView()},a.eventMgrOpenRedPack=function(e){if(_.selectedData){var t=_.selectedData,n=e,i=[this.getHeadIcon(t.ownerGender,t.ownerJob),t.sUserName,t.sMsg,n+R.getCurrencyByGoldType(R.getFinalMoneyType(t.nGoldType))];R.getUIBoxNode().getComponent("RedPacketOpen")||this._redPacketOpen.setParent(R.getUIBoxNode()),this._redPacketOpen.getComponent(I).updateView(i),this._redPacketOpen.active=!0}},a.onClickBtnSendRedPacketHandler=function(){v.handleLoad("prefab/socialize/GiveRedPacket.prefab",(function(e){if(e){var t=u(e);g("Canvas").getComponent("GameScene").node.getChildByName("UIBox").addChild(t)}}))},a.onClickBtnEvent=function(e){switch(e.target.name){case"Btn_Previous":this.curPage>1&&(this.curPage-=1,this.changePage(this.curPage));break;case"Btn_Next":this.curPage<this._totalPage&&(this.curPage+=1,this.changePage(this.curPage))}-1!=this._preIdx&&this.content.children[this._preIdx].getComponent("ItemRedPacket").onShowBg(0),this._preIdx=-1},a.changePage=function(e){this.lab_redAmount.string=_.g_RedPack_List.length+"";var t=5*e-5,n=5*e,i=t%5;this.content.children.forEach((function(e){e.active=!1}));for(var o=t;o<n;o++)_.g_RedPack_List[o]&&(this.content.children[i].active=!0,this.content.children[i].getComponent(m).setData(_.g_RedPack_List[o],o),i++)},a.onClickItemHandler=function(e){var t=e.target,n=this.content.children.indexOf(t);if(n!=this._preIdx){if(e.target.getComponent("ItemRedPacket").onShowBg(1),this._preIdx>=0)this.content.children[this._preIdx].getComponent("ItemRedPacket").onShowBg(0);this._preIdx=n}},a.getHeadIcon=function(e,t){return"gameres/ui/redpack_img-"+e+t+".png"},a.resetIdx=function(){-1!=this._preIdx&&this.content.children[this._preIdx].getComponent("ItemRedPacket").onShowBg(0),this._preIdx=-1},a.registerEvents=function(){console.log("注册RedPacket事件");for(var e=0;e<this.showItemAmount;e++)this.content.children[e].on(p.EventType.TOUCH_END,this.onClickItemHandler,this);f.addEventListener(k.MAIN_GETREDPACKLIST,this.eventMgrMainGetRedPackList,this),f.addEventListener(k.OPENREDPACK,this.eventMgrOpenRedPack,this)},a.unRegisterEvents=function(){console.log("注销RedPacket事件");for(var e=0;e<this.showItemAmount;e++)this.content.children[e].off(p.EventType.TOUCH_END,this.onClickItemHandler,this);f.removeEventListener(k.MAIN_GETREDPACKLIST,this.eventMgrMainGetRedPackList,this),f.removeEventListener(k.OPENREDPACK,this.eventMgrOpenRedPack,this)},t}(P)).prototype,"content",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(x.prototype,"lab_redAmount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(x.prototype,"Bg",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"Btn_Previous",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(x.prototype,"Btn_Next",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(x.prototype,"Btn_SendRedPacket",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=x))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/RedPacketOpen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var n,t,i,a,r,o,l,c,u,s,p,b,d,f,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Button,c=e.Sprite,u=e.Label,s=e.Prefab,p=e.instantiate,b=e.find,d=e.Component},function(e){f=e.resourcesMgr},function(e){g=e.GameUtil}],execute:function(){var _,m,h,y,L,P,w,R,z,S,k,v,C,G,B,I,O,D,H;r._RF.push({},"6b7965TMHdI3bDYuBcs/Zwd","RedPacketOpen",void 0);var N=o.ccclass,M=o.property;e("RedPacketOpen",(_=N("RedPacketOpen"),m=M(l),h=M(c),y=M(c),L=M(u),P=M(u),w=M(u),R=M(u),z=M(s),_((v=n((k=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,i(n,"Btn_Close",v,a(n)),i(n,"sp_HeadIcon",C,a(n)),i(n,"Sp_ping",G,a(n)),i(n,"lab_OwnerName",B,a(n)),i(n,"Lab_Greeting",I,a(n)),i(n,"Lab_GoldNum",O,a(n)),i(n,"Lab_GainDetails",D,a(n)),i(n,"Pef_RedPacketSend",H,a(n)),n}t(n,e);var r=n.prototype;return r.onLoad=function(){},r.start=function(){g.loadResLocal("Socialize/redPack_open_bg.png",this.node.getComponent(c)),g.loadResLocal("Socialize/smallPinIcon.png",this.sp_HeadIcon),g.loadResLocal("Socialize/smallPinIcon.png",this.Sp_ping),g.loadResLocalButton("public/btn_close (2).png","public/btn_close1.png",this.Btn_Close)},r.updateView=function(e){var n=this;f.resLoad(e[0],(function(e){e&&(n.sp_HeadIcon.spriteFrame=e)})),this.lab_OwnerName.string=e[1],this.Lab_Greeting.string=e[2],this.Lab_GoldNum.string=e[3]},r.eventMgrRedpackOpen=function(e){},r.onClickDetailsHandler=function(){var e=p(this.Pef_RedPacketSend);b("Canvas").getComponent("GameScene").node.getChildByName("UIBox").addChild(e),e.getComponent("RedPacketSend").updateView()},r.onCloseView=function(){this.node.active=!1},n}(d)).prototype,"Btn_Close",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(k.prototype,"sp_HeadIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(k.prototype,"Sp_ping",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(k.prototype,"lab_OwnerName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(k.prototype,"Lab_Greeting",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(k.prototype,"Lab_GoldNum",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(k.prototype,"Lab_GainDetails",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(k.prototype,"Pef_RedPacketSend",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=k))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/RedPacketSend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./objectmanage.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,s,a,o,r,l,c,d,u,_,g,b,p,h,k,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.Button,l=e.Label,c=e.EditBox,d=e.Sprite,u=e.Component},function(e){_=e.EventMgr},function(e){g=e.Config},function(e){b=e.default},function(e){p=e.ObjectManage},function(e){h=e.Sendmessage},function(e){k=e.default},function(e){R=e.GameUtil}],execute:function(){var f,L,m,P,I,v,S,M,y,C,N,x,G,w,E,B,z;a._RF.push({},"c69d42mI8ZD64a62WQ6IHV5","RedPacketSend",void 0);var Q=o.ccclass,T=o.property;e("RedPacketSend",(f=Q("RedPacketSend"),L=T(r),m=T(r),P=T(k),I=T(l),v=T(l),S=T(l),M=T(c),f((N=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"Btn_Close",N,s(t)),i(t,"Btn_Send",x,s(t)),i(t,"listRedMsg",G,s(t)),i(t,"lab_Name",w,s(t)),i(t,"lab_Greeting",E,s(t)),i(t,"lab_Count",B,s(t)),i(t,"edit_Message",z,s(t)),t._sendList=[],t._boIsok=!1,t._sMaxName=null,t._nIndexQ=null,t._nSelType=null,t._objName="",t}n(t,e);var a=t.prototype;return a.start=function(){_.addEventListener(b.SEND_GETREDPACKLIST,this.evtMgrSendGetRedPackList,this),R.loadResLocal("Socialize/redpak_bg.png",this.node.getComponent(d)),R.loadResLocalButton("public/btn_close_new.png","public/btn_close_new (2).png",this.Btn_Close),R.loadResLocalButton("public/btn_ok.png","public/btn_ok (2).png",this.Btn_Send)},a.updateView=function(){this.getRedPackList()},a.evtMgrSendGetRedPackList=function(){console.log("evtMgrSendGetRedPackList"),this.getRedPackList()},a.getRedPackList=function(){var e=[],t=0,n=0;this._boIsok=!1;for(var i=0;i<g.g_RedPack_List.length;i++)if(g.g_RedPack_List[i].nRedRecog==g.g_RedPackOpen){for(var s=0;s<100;s++)""!=g.g_RedPack_List[i].OpenRedPacket[s].sUserName&&(g.g_RedPack_List[i].OpenRedPacket[s].nGoldValue>n&&(n=g.g_RedPack_List[i].OpenRedPacket[s].nGoldValue,this._sMaxName=g.g_RedPack_List[i].OpenRedPacket[s].sUserName),e.push(g.g_RedPack_List[i].OpenRedPacket[s]),t++);var a=g.g_RedPack_List[i].nRedPacketCount;0!=a&&t>=a&&(this._boIsok=!0),this._nIndexQ=i;break}if(-1!=this._nIndexQ){var o="";switch(g.g_RedPack_List[this._nIndexQ].nType){case 0:o="[行会]";break;case 1:o="[队伍]";break;case 2:o="[国家]";break;case 3:o="[全服]";break;case 4:o="[好友]"}this._nSelType=g.g_RedPack_List[this._nIndexQ].nGoldType,this._sendList=e.filter((function(e){return e.nGoldValue&&e.sTime&&e.sUserName})),this.lab_Name.string=g.g_RedPack_List[this._nIndexQ].sUserName+" 的红包 "+o,this.lab_Greeting.string=g.g_RedPack_List[this._nIndexQ].sMsg,this.lab_Count.string=g.g_RedPack_List[this._nIndexQ].nRedPacketCount+" 个红包，已分派了 "+t+" 个"}for(var r=0;r<this._sendList.length;r++)if(this._sendList[r].boIsok=!1,this._sendList[r].sUserName==g.g_RoleName&&(this._sendList[r].boIsok=this._boIsok,""!==this._sendList[r].sNote)){this.edit_Message.enabled=!1;break}this.listRedMsg.numItems=this._sendList.length},a.RenderItemHandler=function(e,t){e.getComponent("ItemRedPacketSend").updateView(this._sendList[t])},a.onClickRenderItemHandler=function(e,t,n,i){},a.onClickSendMsgHandler=function(){if(this.edit_Message.string.length>0){var e=p.findobject(g.playerID),t="差评 "+this.edit_Message.string;h.getInstance().sendRedPackMsg(g.g_RedPack_List[this._nIndexQ].nRedRecog,t),this._objName=e.txt_name.text,this.edit_Message.enabled=!1}},a.onCloseView=function(){_.removeEventListener(b.SEND_GETREDPACKLIST,this.evtMgrSendGetRedPackList,this),this.node.destroy()},t}(u)).prototype,"Btn_Close",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"Btn_Send",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(C.prototype,"listRedMsg",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"lab_Name",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(C.prototype,"lab_Greeting",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"lab_Count",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"edit_Message",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/RelationManager.ts",["cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./Struct.ts","./objectmanage.ts","./Sendmessage.ts","./EnDecode.ts","./UcsByGbk.ts","./GameUtil.ts","./UIcontrol.ts"],(function(t){"use strict";var e,n,i,s,a,r,f,c,o,l,u;return{setters:[function(t){e=t.cclegacy},function(t){n=t.EventMgr},function(t){i=t.Config},function(t){s=t.default},function(t){a=t.Struct_ins},function(t){r=t.ObjectManage},function(t){f=t.Sendmessage},function(t){c=t.EnDecode},function(t){o=t.gbkByteArr2UcsStr},function(t){l=t.GameUtil},function(t){u=t.uiControl}],execute:function(){e._RF.push({},"9a7beJuSwVGGqAlRua4isJR","RelationManager",void 0),t("RelationManager",function(){function t(){this.f_friendList=[],this.f_friendRequestList=[],this.f_maxFriendNum=0,this.f_blackList=[],this.f_selectIndex=0,this.f_selectItemIndex=-1,this.teamGropList=[],this.t_nearTeamList=[],this.t_applyTeamList=[],this.listData=[],this.removeMsgEvent=function(){}}t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var e=t.prototype;return e.init=function(){this.registerEvents()},e.evtMgrSendFriendInfo=function(t){f.getInstance().FriendOpition(t[0],t[1])},e.requestFriendInfoByName=function(t){f.getInstance().FriendInfo(t)},e.evtMgrFriendInfo=function(t){},e.getNeedUpdateListData=function(){return 0==this.f_selectIndex||1==this.f_selectIndex?this.f_friendList:2==this.f_selectIndex?this.f_blackList:void 0},e.evtMgrFriendInfoHandle=function(t){var e=t[0],i=t[1];switch(this.testParse(e,i),e.record){case 0:this.parseData(e,i);break;case 1:this.onFriendAdd(e,i);break;case 2:this.onFriendDel(e,i);break;case 3:this.onFriendOnlineNotice(e,i);break;case 4:this.blackListTipHandle(e.tag,i);break;case 5:var a={type:1,content:"移除黑名单"+(1==e.tag?"成功":"失败"),sF:function(){},cF:function(){}};u.handlerAlert(a),1==e.tag&&(this.onDelByName(this.f_blackList,this.getPlayerName(i)),n.raiseEvent(s.UPDATE_FRIEND_LIST))}},e.testParse=function(t,e){if(e&&""!=e)for(var n=c.DecodeString(e).split("|"),i=0;i<n.length;i++)""!=n[i]&&console.log("test parse:",n[i])},e.parseData=function(t,e){if(e&&""!=e){var a,f,o;0==t.param&&0==t.record&&(this.f_maxFriendNum=t.tag),f=(a=c.DecodeString(e).split("|")).length,this.listData=0==t.param?this.f_friendList:this.f_blackList;var u=r.findobject(i.playerID);if(f>0)for(var d=0;d<f;d++)""!=a[d]&&(o=a[d].split(","),this.existNameInList(this.listData,o[0])>-1||this.getObjName(u).indexOf(o[0])>-1||this.listData.push({name:o[0],level:o[3],job:l.getJobName(parseInt(o[1])),guild:""==o[5]?"- -":o[5],offlineDate:this.getOfflineDate(o[6],"1"==o[4]),online:"1"==o[4]}));n.raiseEvent(s.UPDATE_FRIEND_LIST)}},e.getOfflineDate=function(t,e){return e?"在线":""==t?"- -":this.getOfflineTime(t)},e.getOfflineTime=function(t){var e,n,i,s,a,r,f,c,o,l,u=new Date,d=new Date(t);return(e=u.getFullYear())-(r=d.getFullYear())>0?"离线"+(e-r)+"年":(n=u.getMonth())-(f=d.getMonth())>0?"离线"+(n-f)+"个月":(i=u.getDate())-(c=d.getDate())>0?"离线"+(i-c)+"天":(s=u.getHours())-(o=d.getHours())>0?"离线"+(s-o)+"小时":(a=u.getMinutes())-(l=d.getMinutes())>0?"离线"+(a-l)+"分钟":"在线"},e.existName=function(t,e){for(var n in t)if(t[n].name==e)return!0;return!1},e.blackListTipHandle=function(t,e){var a;switch(t){case 1:a={type:1,content:i.FRIEND_TIP.V,sF:function(){},cF:function(){}},u.handlerAlert(a),this.onDelByName(this.f_friendList,this.getPlayerName(e),!0),n.raiseEvent(s.UPDATE_FRIEND_LIST);break;case 2:a={type:1,content:i.FRIEND_TIP.W,sF:function(){},cF:function(){}},u.handlerAlert(a);break;case 3:a={type:1,content:i.FRIEND_TIP.X,sF:function(){},cF:function(){}},u.handlerAlert(a);break;case 4:a={type:1,content:i.FRIEND_TIP.Y,sF:function(){},cF:function(){}},u.handlerAlert(a);break;case 5:a={type:1,content:i.FRIEND_TIP.Z,sF:function(){},cF:function(){}},u.handlerAlert(a)}},e.onQuestFriendListInfo=function(t){if(t&&""!=t){var e=c.DecodeString(t).split("|");if(e.length>0)for(var n,i=e.length,s=0;s<i;s++)""!=e[s]&&e[s].indexOf(",")>-1&&(n=e[s].split(",")[0],this.requestFriendInfoByName(n))}},e.onFriendAdd=function(t,e){if(this.isAddFriend(t.tag))0==this.f_selectIndex||this.f_selectIndex;else if(this.isFriendApply(t.tag))this.f_friendRequestList.push(this.getPlayerName(e)),n.raiseEvent(s.REDHINTCHECK,"friend");else if(this.isAddFail(t.tag)){var a={type:1,content:i.FRIEND_TIP[t.tag]+"",sF:function(){},cF:function(){}};u.handlerAlert(a)}else if(this.isAddSuccess(t.tag)){var r={type:1,content:this.getPlayerName(e)+i.FRIEND_TIP.N,sF:function(){},cF:function(){}};u.handlerAlert(r)}else if(this.isInBlackList(t.tag)){var f={type:1,content:this.getPlayerName(e)+i.FRIEND_TIP.J,sF:function(){},cF:function(){}};u.handlerAlert(f)}else if(12==t.tag){var c=e.split(",");this.f_friendList.push({name:this.getPlayerName(c[0]),level:c[3],job:l.getJobName(parseInt(c[1])),guild:""==c[5]?"- -":this.getPlayerName(c[5]),offlineDate:this.getOfflineDate(c[6],"1"==c[4]),online:"1"==c[4]}),n.raiseEvent(s.UPDATE_FRIEND_LIST)}},e.isAddFriend=function(t){return 0==t||1==t},e.isAddFail=function(t){return 2==t||3==t||4==t||5==t},e.isFriendApply=function(t){return 10==t},e.isAddSuccess=function(t){return 11==t},e.isInBlackList=function(t){return 6==t},e.getPlayerName=function(t){return o(this.getCharCodeByStr(t))},e.getCharCodeByStr=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},e.onFriendDel=function(t,e){if(this.isDelFriendFail(t.tag)){var a={type:1,content:i.FRIEND_TIP.O+"",sF:function(){},cF:function(){}};u.handlerAlert(a)}this.onDelByName(this.f_friendList,this.getPlayerName(e)),n.raiseEvent(s.UPDATE_FRIEND_LIST)},e.isDelFriendFail=function(t){return 1!=t},e.onDelByName=function(t,e,n){if(t)for(var i=t.length,s=0;s<i;s++)t[s].name==e&&(n&&this.f_blackList.push(t[s]),t.splice(s,1))},e.onFriendOnlineNotice=function(t,e){0==t.tag?this.onPlayerOffLine(this.getPlayerName(e)):this.onPlayerOnLine(this.getPlayerName(e))},e.onPlayerOffLine=function(t){this.changeOnlineInList(t,!1),this.updateFriendListRightNow()},e.onPlayerOnLine=function(t){this.changeOnlineInList(t,!0),this.updateFriendListRightNow()},e.changeOnlineInList=function(t,e){for(var n,i=this.f_friendList.length,s=0;s<i;s++)(n=this.f_friendList[s]).name==t&&(n.online=e,n.offlineDate=e?"在线":"离线")},e.updateFriendListRightNow=function(){0==this.f_selectIndex&&n.raiseEvent(s.UPDATE_FRIEND_LIST)},e.evtMgrFriendApply=function(){var t=this.f_friendRequestList[0];if(t){var e={type:1,content:t+i.FRIEND_TIP.A,sF:function(){n.raiseEvent(s.SEND_FRIEND_INFO,[1,t])},cF:function(){n.raiseEvent(s.FRIEND_APPLY)}};u.handlerAlert(e),this.f_friendRequestList.shift()}},e.evtMgrAddFriendTipAddOk=function(t){if(""!=t){var e=this.existNameInList(this.getSelectListData(),t)>-1;0==this.f_selectIndex||1==this.f_selectIndex?this.addFriendHandle(e,t):2==this.f_selectIndex&&this.addBlackListHandle(e,t)}else{var n={type:1,content:i.FRIEND_TIP.D+"",sF:function(){},cF:function(){}};u.handlerAlert(n)}},e.existNameInList=function(t,e){if(t&&t.length>0)for(var n=t.length,i=0;i<n;i++)if(e==t[i].name)return i;return-1},e.addFriendHandle=function(t,e){if(t){var n={type:1,content:i.FRIEND_TIP.C+"",sF:function(){},cF:function(){}};u.handlerAlert(n)}else{var s={type:1,content:i.FRIEND_TIP.B+"",sF:function(){},cF:function(){}};u.handlerAlert(s),this.evtMgrSendFriendInfo([1,e])}},e.addBlackListHandle=function(t,e){if(e.length>i.FRIEND_TIP.LIMITLENGTH){var a={type:1,content:i.FRIEND_TIP.I+"",sF:function(){},cF:function(){}};u.handlerAlert(a)}else if(t){var r={type:1,content:i.FRIEND_TIP.J+"",sF:function(){},cF:function(){}};u.handlerAlert(r)}else this.addBlackList(e),n.raiseEvent(s.UPDATE_FRIEND_LIST)},e.addBlackList=function(t){this.f_blackList.push(t)},e.evtMgrAddFriendTipDelOk=function(t){var e;0==this.f_selectIndex?(e=this.f_friendList,this.evtMgrSendFriendInfo([2,t])):2==this.f_selectIndex&&(e=this.f_blackList),this.removeNameFromList(e,t)&&n.raiseEvent(s.UPDATE_FRIEND_LIST)},e.removeNameFromList=function(t,e){if(!t)return!1;for(var n=t.length,i=0;i<n;i++)if(e==t[i].name)return t.splice(i,1),!0;return!1},e.getSelectListData=function(t){var e=t||this.f_selectIndex;return 0==e?this.f_friendList:1==e?this.getNearPlayerData(","):2==e?this.f_blackList:void 0},e.getPlayerIdByName=function(t){for(var e=this.getPlayerObj(),n=0;n<e.length;n++)if(this.getObjName(e[n]).indexOf(t)>-1)return e[n].data.record},e.getNearPlayerData=function(t){for(var e,n=this.getPlayerObj(),i=[],s=0;s<n.length;s++){e=n[s].data.fea;var r=a.THumFeature(e.buffer).wRace;if(n[s]&&e&&1!=r&&150!=r){if(this.isMySelf(n[s]))continue;if(""==this.getObjName(n[s]))continue;this.isUsualPeople(n[s])&&i.push({name:this.getObjName(n[s]),level:this.getObjLevel(n[s]),job:this.getObjJob(n[s]),guild:this.getObjGuildName(n[s]),offlineDate:"- -",online:!0})}}return i},e.getPlayerObj=function(){var t,e=r.object_list,n=[];t=Object.keys(e);for(var i=0;i<t.length;i++)3==e[t[i]].type&&n.push(e[t[i]]);return n},e.isMySelf=function(t){return t.data.record==i.playerID},e.getObjName=function(t){return l.getPureName(t)},e.isUsualPeople=function(t){return 0==a.THumFeature(t.data.fea.buffer).boLeader},e.getObjGuildName=function(t){return"- -"},e.getObjGender=function(t){return 0==a.THumFeature(t.data.fea.buffer).btGender?"男":"女"},e.getObjJob=function(t){return l.getJobName(a.THumFeature(t.data.fea.buffer).btJob)},e.getObjLevel=function(t){return t.level?t.level:""},e.getSelectItemName=function(){var t;return this.isSelectedItem()&&(t=this.getSelectListData()[this.f_selectItemIndex].split(":")).length>2&&(t=t[0]),t},e.isSelectedItem=function(){return this.f_selectItemIndex>-1&&this.getSelectListData()[this.f_selectItemIndex]},e.getBlackList=function(){var t=l.getSaveData("blackList");return t?t.split(","):[]},e.setBlackList=function(){for(var t="",e=this.f_blackList.length,n=0;n<e;n++)t+=this.f_blackList[n],t+=this.isNotLastAddChar(n);l.setSaveData("blackList",t)},e.isNotLastAddChar=function(t){return t<this.f_blackList.length-1?",":""},e.evtMgrShowApplyTeamTip=function(){if(!(this.t_applyTeamList.length<1)){var t=this.t_applyTeamList[0].name,e={type:1,content:"是否同意"+t+"加入队伍",sF:function(){f.getInstance().sendGroupAccept(t)},cF:function(){f.getInstance().sendGroupRefuse(t)}};u.handlerAlert(e),this.t_applyTeamList.shift()}},e.getTeamInviteListByType=function(t){return 0==t?this.getNearPlayerData(","):1==t?this.filterTeamInviteList(this.f_friendList):void 0},e.filterTeamInviteList=function(t){var e=[],n=!1;for(var i in t){for(var s in n=!1,this.teamGropList)if(this.teamGropList[s].name==t[i].name){n=!0;break}n||e.push(t[i])}return e},e.registerEvents=function(){n.addEventListener(s.SEND_FRIEND_INFO,this.evtMgrSendFriendInfo,this),n.addEventListener(s.UPDATE_FRIEND_INFO,this.evtMgrFriendInfo,this),n.addEventListener(s.FRIEND_INFO_HANDLE,this.evtMgrFriendInfoHandle,this),n.addEventListener(s.FRIEND_APPLY,this.evtMgrFriendApply,this),n.addEventListener(s.ADDFRIENDTIP_DEL_OK,this.evtMgrAddFriendTipDelOk,this),n.addEventListener(s.ADDFRIENDTIP_ADD_OK,this.evtMgrAddFriendTipAddOk,this),n.addEventListener(s.SHOW_APPLY_TEAM_TIP,this.evtMgrShowApplyTeamTip,this)},t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./FmtPlist.ts","./SaveResToDevice.ts","./Electron.ts","./GameTypeConfig.ts","./UIcontrol.ts"],(function(e){"use strict";var t,s,r,i,a,n,o,h,c,l,u,f,g,p,d,m,v,b,k,x,L,S,R;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy,r=e.resources,i=e.SpriteFrame,a=e.assetManager,n=e.sys,o=e.JsonAsset,h=e.SpriteAtlas,c=e.ImageAsset,l=e.TextAsset,u=e.AudioClip,f=e.Prefab,g=e.Font,p=e.dragonBones,d=e.native,m=e.Texture2D,v=e.Component},function(e){b=e.Config},function(e){k=e.FmtPlist},function(e){x=e.saveResToDevice},function(e){L=e.el},function(e){S=e.gameTypeConfig},function(e){R=e.uiControl}],execute:function(){s._RF.push({},"d4cacdvxYhCU7U+jY3PlWQ9","ResourcesMgr",void 0);var F=e("ResourcesMgr",function(e){function s(){for(var t,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).saveMark=[],t.audioType=["ogg","mp3","wav","mp4","m4a"],t.imageType=["jpg","png"],t.httpUrl="",t.packagePathSub="",t.idx=0,t.finalArr=[],t.resObj=[],t.resTempArr=[],t.plisTemp=[],t.count=0,t.arrStop=!1,t.continueLoad=!0,t.humList=[],t.mapList=[],t.npcList=[],t.hairList=[],t.weapList=[],t.monList=[],t.cleanFinish=!0,t.resStampList=[],t.resStorageList=[],t.textureStorageList=[],t.textureCache={},t}t(s,e),s.getInstance=function(){return null==this._instance&&(this._instance=new s),this._instance};var v=s.prototype;return v.checkType=function(e){for(var t=e.substring(e.lastIndexOf(".")+1),s=0;s<this.audioType.length;s++)if(t==this.audioType[s])return"audio";for(var r=0;r<this.imageType.length;r++)if(t==this.imageType[r])return"image";return"txt"===t?"text":"json"===t?"json":"bin"===t?"buffer":"dat"===t||"tdm"===t?"otherBuffer":"plist"===t?"atlas":"ttf"===t?"font":"prefab"===t?"prefab":e.resType&&"bundle"===e.resType?e.resType:"dragon"===t&&"dragon"},v.saveTask=function(e,t){var s={p:e,cb:t},r=!1,i=!1,a=!1,n=!1,o=!1,h=!1;s.p instanceof Array?s.p[0].startsWith("map")?r=!0:-1!=s.p[0].indexOf("hum")?i=!0:-1!=s.p[0].indexOf("npc")?a=!0:-1!=s.p[0].indexOf("hair")?n=!0:-1!=s.p[0].indexOf("weapon")?o=!0:-1!=s.p[0].indexOf("mon")&&(h=!0):s.p.startsWith("map")?r=!0:-1!=s.p.indexOf("hum")?i=!0:-1!=s.p.indexOf("npc")?a=!0:-1!=s.p.indexOf("hair")?n=!0:-1!=s.p.indexOf("weapon")?o=!0:-1!=s.p.indexOf("mon")&&(h=!0),r?this.mapList.push(s):i?this.humList.push(s):a?this.npcList.push(s):n?this.hairList.push(s):o?this.weapList.push(s):h?this.monList.push(s):b.resLoadList.push(s)},v.checkResPathFromOutside=function(e){var t=e instanceof Array?e[0]:e;if(""!=t&&t)return!!(t.startsWith("data")||t.startsWith("map")||t.startsWith("json")||t.startsWith("imageSetRule")||t.startsWith("graphics")||t.startsWith("resources")||t.startsWith("wav")||t.startsWith("music"));console.log("路径不存在："+e)},v.getRes=function(e){return this.checkCopy(e)},v.resLoad=function(e,t){var s=this.checkCopy(e);s?t(s):this.saveTask(e,t)},v.handleLoad=function(e,t){if(e&&""!=e){var s=this.checkCopy(e);s?t(s):this.loadRes(e,(function(e,s){t(e,s)}))}else t(!1)},v.loadRes=function(e,t){if(e instanceof Array){for(var s=0;s<e.length;s++)e[s]=this.checkRes(e[s]);var a;if(this.checkResPathFromOutside(e))"png"===(a=e[0].substring(e[0].lastIndexOf(".")+1))||"jpg"===a?this.resImageArryPathFromPackage(e,(function(e){t(e)})):"plist"===a&&this.resAtlasArryPathFromPackage(e,(function(e){t(e)}));else if("png"===(a=e[0].substring(e[0].lastIndexOf(".")+1))||"jpg"===a){for(var n=[],o=0;o<e.length;o++){var h=e[o].substring(0,e[o].lastIndexOf("."))+"/spriteFrame";n.push(h)}r.load(n,i,(function(e,s){e?(console.log("加载resources下的多图像失败！！"),t(!1)):t(s)}))}else"plist"===a?this.resAtlasArryPathFromResource(e,(function(e){t(e)})):(console.log("该资源类型不支持批量加载："+e),t(!1))}else{var c;if(e=this.checkRes(e),this.checkResPathFromOutside(e))switch(this.checkLocal(e),(c=this.checkType(e))||t(c),c){case"image":this.resLoadFromPackage(e,(function(e){t(e)}));break;case"atlas":this.resAtlasFromPackage(e,(function(e){t(e)}));break;case"text":this.resTxtFromPackage(e,(function(e,s){t(e,s)}));break;case"audio":this.resAudioFromPackage(e,(function(e){t(e)}));break;case"buffer":this.resBufferFromPackage(e,(function(e){t(e)}));break;case"otherBuffer":this.loadOtherBufferFromPackage(e,(function(e,s){t(e,s)}));break;case"json":this.resJsonFromPackage(e,(function(e,s){t(e,s)}));break;case"bundle":this.resLoadFromBundle(e.path,(function(e){t(e)}));break;case"dragon":this.resDragonBoneFromPackage(e,(function(e){t(e)}))}else switch((c=this.checkType(e))||t(c),c){case"image":this.resLoadFromResources(e,c,(function(e){t(e)}));break;case"atlas":this.resAtlasFromResources(e,(function(e){t(e)}));break;case"text":this.resTxtFromResources(e,(function(e,s){t(e,s)}));break;case"audio":this.resAudioFromResources(e,(function(e){t(e)}));break;case"buffer":this.resBufferFromResources(e,(function(e){t(e)}));break;case"otherBuffer":this.loadOtherBufferFromResource(e,(function(e){t(e)}));break;case"json":this.resJsonFromResources(e,(function(e,s){t(e,s)}));break;case"prefab":this.resPrefabFromResources(e,(function(e){t(e)}));break;case"font":this.resFontFromResources(e,(function(e){t(e)}));break;case"bundle":this.resLoadFromBundle(e.path,(function(e){t(e)}));break;case"dragon":this.resDragonBoneFromResources(e,(function(e){t(e)}))}}},v.resLoadFromResources=function(e,t,s){var a=e.substring(0,e.lastIndexOf("."));"image"==t&&r.load(a+"/spriteFrame",i,(function(e,t){if(e){console.log("加载resources下的图像失败！！");s(!1)}else s(t)}))},v.resLoadFromPackage=function(e,t){var s=this,r=this.packagePathSub+e;a.loadRemote(this.checkCache(r),(function(r,i){if(r||null==i)return console.log("加载package下图像失败！！"),void t(!1);var a=s.spFmt(i,e),n={res:a,pngData:i};s.resStorage(e,n),t(a)}))},v.resJsonFromPackage=function(e,t){var s=this.packagePathSub+e;n.isBrowser&&!b.isElectron&&(s=this.packagePathSub+e+"?t="+(new Date).getTime()),a.loadRemote(this.checkCache(s),o,(function(s,r){if(s)return console.log("加载package下的json失败！！"),void t(!1);r.isValid?(t(r.json,e),r&&!r.json&&R.handlerAlert({type:1,content:"文件格式错误："+e})):t(!1)}))},v.resJsonFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s,o,(function(s,r){if(s){console.log("加载resource下的json失败！！");t(!1)}else t(r.json,e)}))},v.resBufferFromPackage=function(e,t){var s=this.packagePathSub+e;a.loadRemote(this.checkCache(s),(function(e,s){if(e)return console.log("加载package下的buffer失败！！"),void t(!1);s.isValid?t(s):t(!1)}))},v.resBufferFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s,(function(e,s){if(e){console.log("加载resources下的buffer失败！！");t(!1)}else t(s)}))},v.loadOtherBufferFromResource=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s,(function(e,s){if(e||null==s){console.log("加载resources下的buffer失败");t(!1)}else a.loadAny({url:s.nativeUrl,ext:".bin"},null,(function(e,s){e||null==s?console.log("资源下载成功，但加载失败"):t(s)}))}))},v.loadOtherBufferFromPackage=function(e,t){var s=this.packagePathSub+e;a.loadAny(this.fmtUrlAndExt(s),(function(s,r){s||null==r?(console.log("加载pakage下的buffer失败"),t(!1)):t(r,e)}))},v.resAtlasFromPackage=function(e,t){var s=this,r=this.packagePathSub+e,i=null;a.loadRemote(this.checkCache(r),(function(n,o){if(n||null==o)console.log("加载package的plist失败！！"),t(!1);else if(o.isValid){i=o;var h=r.substring(0,r.lastIndexOf("."))+".png";a.loadRemote(s.checkCache(h),(function(r,a){if(r||null==a)console.log("加载package的png失败！！"),t(!1);else if(a.isValid){var n,o=s.spFmt(a,e);if(i._file&&o){(n=k.parsePlist(i._file,o)).name=e;var h={res:n,pngData:a,plistData:i};s.resStorage(e,h),t(n)}else t(!1)}else t(!1)}))}else t(!1)}))},v.resAtlasFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s,h,(function(e,s){if(e){t(!1)}else t(s)}))},v.resLoadFromBundle=function(e,t){var s=this;a.loadBundle(e.bundleName,(function(r,i){!r||i?i.loadDir(e.path,c,(function(r,i){if(!r||i){for(var a=[],n=0;n<i.length;n++)a.push(s.spFmt(i[n],e.path));s.resStorage(e.bundleName,a),t(a)}else console.log("获取bundle成功，资源加载失败！！！！")})):console.log("获取bundle失败！！！！")}))},v.resTxtFromPackage=function(e,t){var s=this.packagePathSub+e;n.isBrowser&&!b.isElectron&&(s=this.packagePathSub+e+"?t="+(new Date).getTime()),a.loadRemote(this.checkCache(s),(function(s,r){if(s)return console.log("加载package文本失败！！"),void t(!1,e);r.isValid?(t(r.text,e),a.releaseAsset(r)):t(!1,e)}))},v.resTxtFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s,l,(function(s,r){if(s){console.log("加载resources文本失败！！");t(!1)}else t(r.text,e),a.releaseAsset(r)}))},v.resAudioFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s,u,(function(e,s){if(e){console.log("加载resources声音失败！！");t(!1)}else t(s)}))},v.resAudioFromPackage=function(e,t){var s=this.packagePathSub+e;a.loadRemote(this.checkCache(s),(function(e,s){if(e)return console.log("加载package声音失败！！"),void t(!1);s.isValid?t(s):t(!1)}))},v.resAtlasArryPathFromResource=function(e,t){for(var s=[],i=0;i<e.length;i++){var a=e[i].substring(0,e[i].lastIndexOf("."));s.push(a)}r.load(s,h,(function(e,s){if(e){console.log("加载resources多图集失败！！");t(!1)}else t(s)}))},v.resAtlasArryPathFromPackage=function(e,t){for(var s=this,r=[],i=0;i<e.length;i++){this.checkLocal(e[i]);var n=this.packagePathSub+e[i];r.push(n)}for(var o=!1,h=0,c=[],l=function(i){if(o)return console.log("远程图集资源资源未完成加载"),"break";a.loadRemote(s.checkCache(r[i]),(function(n,l){var u=null;if(n||null==l)o=!0,console.log("加载package的多plist失败！！"),t(!1);else if(l.isValid){u=l;var f=r[i].substring(0,r[i].lastIndexOf("."))+".png";a.loadRemote(s.checkCache(f),(function(a,n){if(a||null==n)o=!0,console.log("加载package的png失败！！"),t(!1);else if(n.isValid){h++;var l,f=s.spFmt(n,e[i]);if(u._file&&f){(l=k.parsePlist(u._file,f)).name=e[i],l.idx=i;var g={idx:i,res:l,pngData:n,plistData:u};if(s.resStorage(e[i],g),c.push(l),h==r.length){for(var p=c.sort(s.objectCompare("idx")),d=[],m=0;m<p.length;m++)d.push(p[m]);t(d)}}else t(!1)}else t(!1)}))}else t(!1)}))},u=0;u<r.length;u++){if("break"===l(u))break}},v.resImageArryPathFromPackage=function(e,t){for(var s=this,r=[],i=0;i<e.length;i++){this.checkLocal(e[i]);var n=this.packagePathSub+e[i];r.push(n)}for(var o=!1,h=0,c=[],l=function(i){if(o)return"break";a.loadRemote(s.checkCache(r[i]),(function(a,n){if(h++,a||null==n)o=!0,console.log("加载package的png失败！！"),t(!1);else if(n.isValid){var l=s.spFmt(n,e[i]);l.name=i+"";var u={name:i+"",res:l,pngData:n};if(c.push(l),s.resStorage(e[i],u),h==r.length){for(var f=c.sort(s.objectCompare("name")),g=[],p=0;p<f.length;p++)g.push(f[p]);t(g)}}else t(!1)}))},u=0;u<r.length;u++){if("break"===l(u))break}},v.resPrefabFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));console.log("加载提示框prefab！！"+s),r.load(s,f,(function(e,s){console.log("加载回调完成"+e),e?(console.log("加载resources的Prefab失败！！"),t(!1)):t(s)}))},v.resFontFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s,g,(function(e,s){e?(console.log("加载resources字体失败！！"),t(!1)):t(s)}))},v.resDragonBoneFromResources=function(e,t){var s=e.substring(0,e.lastIndexOf("."));r.load(s+"_ske",p.DragonBonesAsset,(function(e,i){e?(console.log("加载Resources下的DragonBonesAsset失败"),t(!1)):r.load(s+"_tex",p.DragonBonesAtlasAsset,(function(e,s){e?console.log("加载Resources下的DragonBonesAtlasAsset失败"):t({asset:i,atlasAsset:s})}))}))},v.resDragonBoneFromPackage=function(e,t){var s=this,r=this.packagePathSub+e,i=r.substring(0,r.lastIndexOf("."));a.loadRemote(this.checkCache(i+"_ske.dbbin"),(function(r,n){r||a.loadRemote(s.checkCache(i+"_tex.png"),(function(r,o){r||a.loadRemote(s.checkCache(i+"_tex.json"),(function(r,a){if(!r){var h=JSON.stringify(a.json),c=s.srcDragonToAsset(n._buffer,o,h,i);s.resStorage(e,c),t(c)}}))}))}))},v.objectCompare=function(e){return function(t,s){var r=t[e],i=s[e];return isNaN(Number(r))||isNaN(Number(i))||(r=Number(r),i=Number(i)),r<i?-1:r>i?1:0}},v.resClean=function(e){this.cleanFinish=!1,this.cleanCopy(e),this.cleanFinish=!0},v.cleanLoadList=function(){this.humList=[],this.mapList=[],this.hairList=[],this.weapList=[],this.monList=[],b.resLoadList=[],this.continueLoad=!0},v.fmtUrlAndExt=function(e){if(e instanceof Array){for(var t=[],s=0;s<e.length;s++){var r=this.packagePathSub+e[s],i=e[s].substring(e[s].lastIndexOf(".")+1);(a={url:null,ext:null}).url=r,a.ext="."+i,t.push(a)}return t}var a;i=e.substring(e.lastIndexOf(".")+1);return(a={url:null,ext:null}).url=e,"dat"!==i&&"tdm"!==i&&"dbbin"!==i||(i="bin"),a.ext="."+i,a},v.resetData=function(){this.idx=0,this.finalArr=[],this.resObj=[],this.resTempArr=[]},v.resStorage=function(e,t){if(e instanceof Array){if(!this.checkResPathFromOutside(e[0]))return;if(-1!=e[0].indexOf(".json"))return;if(-1!=e[0].indexOf(".txt"))return;for(var s=0;s<e.length;s++){for(var r=!1,i=0;i<this.resStorageList.length;i++)this.resStorageList[i].path!=e[s]&&this.resStorageList[i].path!="resources/"+e[s]||(r=!0);if(!r)(a={path:null,res:null}).path=e[s],a.res=t[s],this.resStorageList.push(a)}}else{if(!this.checkResPathFromOutside(e))return;if(-1!=e.indexOf(".json"))return;if(-1!=e.indexOf(".txt"))return;r=!1;for(var a,n=0;n<this.resStorageList.length;n++)this.resStorageList[n].path!=e&&this.resStorageList[n].path!="resources/"+e||(r=!0);if(!r)(a={path:null,res:null}).path=e,a.res=t,this.resStorageList.push(a)}},v.checkAssetCache=function(e){if(!(e instanceof Array)){e=this.checkRes(e);var t=null;if("atlas"==(a=this.checkType(e))){n=e.substring(0,e.lastIndexOf("."))+".png",o=this.getResFromAssetsCache(this.httpUrl+e),h=this.getResFromAssetsCache(this.httpUrl+n);o&&h&&(t=this.srcToplist(h,o,e))}else if("dragon"==a){l=e.substring(0,e.lastIndexOf("."))+"_ske.dbbin",u=this.getResFromAssetsCache(this.httpUrl+l),f=e.substring(0,e.lastIndexOf("."))+"_tex.json",g=this.getResFromAssetsCache(this.httpUrl+f),p=e.substring(0,e.lastIndexOf("."))+"_tex.png",h=this.getResFromAssetsCache(this.httpUrl+p);u&&h&&g&&(t=this.srcDragonToAsset(u._buffer,h,JSON.stringify(g.json),e.substring(0,e.lastIndexOf("."))))}else{(d=this.getResFromAssetsCache(this.httpUrl+e))&&("image"==a?t=this.srcPngToSp(e,h):"text"==a?t=d.text:"audio"==a||"buffer"==a||"otherBuffer"==a?t=d:"json"==a&&(t=d.json))}return t||console.log("未到资源checkAssetCache:"+e),t||!1}if(-1==e[0].indexOf(".json")&&-1==e[0].indexOf(".txt")){for(var s=[],r=0;r<e.length;r++)e[r]=this.checkRes(e[r]);for(var i=0;i<e.length;i++){var a;if("atlas"==(a=this.checkType(e[i]))){var n=e[i].substring(0,e[i].lastIndexOf("."))+".png",o=this.getResFromAssetsCache(this.httpUrl+e[i]),h=this.getResFromAssetsCache(this.httpUrl+n);if(o&&h){var c=this.srcToplist(h,o,e[i]);s.push(c)}}else if("dragon"==a){var l=e[i].substring(0,e[i].lastIndexOf("."))+"_ske.dbbin",u=this.getResFromAssetsCache(this.httpUrl+l),f=e[i].substring(0,e[i].lastIndexOf("."))+"_tex.json",g=this.getResFromAssetsCache(this.httpUrl+f),p=e[i].substring(0,e[i].lastIndexOf("."))+"_tex.png",h=this.getResFromAssetsCache(this.httpUrl+p);u&&h&&g&&s.push(this.srcDragonToAsset(u._buffer,h,JSON.stringify(g.json),e[0].substring(0,e[0].lastIndexOf("."))))}else{var d;(d=this.getResFromAssetsCache(this.httpUrl+e[i]))&&("image"==a?s.push(this.srcPngToSp(e[i],h)):"text"==a?s.push(d.text):"audio"==a||"buffer"==a||"otherBuffer"==a?s.push(d):"json"==a&&s.push(d.json))}}return s.length>0&&e.length!=s.length?(console.log("缓冲资源与实际资源不匹配请求路径："+e+"缓存路径："+s),!1):e.length==s.length?s:void 0}},v.checkCopy=function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)e[t]=this.checkRes(e[t]);if(!this.checkResPathFromOutside(e[0]))return;if(-1!=e[0].indexOf(".json"))return;if(-1!=e[0].indexOf(".txt"))return;for(var s=[],r=[],i=0;i<e.length;i++)for(var a=0;a<this.resStorageList.length;a++)this.resStorageList[a].path==e[i]?(s.push(this.resStorageList[a].res.res?this.resStorageList[a].res.res:this.resStorageList[a].res),r.push(this.resStorageList[a].path)):this.resStorageList[a].path=="resources/"+e[i]&&(s.push(this.resStorageList[a].res.res?this.resStorageList[a].res.res:this.resStorageList[a].res),r.push("resources/"+e[i]));if(s.length>0&&e.length==s.length&&e.sort().toString()==r.sort().toString())return s}else{if(e=this.checkRes(e),!this.checkResPathFromOutside(e))return;if(-1!=e.indexOf(".json"))return;if(-1!=e.indexOf(".txt"))return;for(var n=0;n<this.resStorageList.length;n++)if(this.resStorageList[n].path==e||this.resStorageList[n].path=="resources/"+e)return this.resStorageList[n].res.res?this.resStorageList[n].res.res:this.resStorageList[n].res}return!1},v.addRes=function(e,t,s){for(var r=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&r.push(e[i]);this.handleLoad(e,(function(e){s(e)}))},v.cleanCopy=function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)e[t]=this.checkRes(e[t]);if(!this.checkResPathFromOutside(e[0]))return;if(-1!=e[0].indexOf(".json"))return;if(-1!=e[0].indexOf(".txt"))return;for(var s=0;s<e.length;s++)for(var r=0;r<this.resStorageList.length;r++)if(this.resStorageList[r].path===e[s]){if(this.resStorageList[r].path.endsWith(".dragon")){var i=a.assets.get(this.httpUrl+this.dragonPathConvert(this.resStorageList[r].path));a.releaseAsset(i)}else this.cleanSrc(this.resStorageList[r].res);this.cleanTexture(e[s]),this.resStorageList[r].path=null,this.resStorageList[r].res=null,this.resStorageList.splice(r,1)}}else{if(e=this.checkRes(e),!this.checkResPathFromOutside(e))return;if(-1!=e.indexOf(".json"))return;if(-1!=e.indexOf(".txt"))return;for(var n=0;n<this.resStorageList.length;n++)if(this.resStorageList[n].path==e){if(this.resStorageList[n].path.endsWith(".dragon")){i=a.assets.get(this.httpUrl+this.dragonPathConvert(this.resStorageList[n].path));a.releaseAsset(i)}else this.cleanSrc(this.resStorageList[n].res);this.cleanTexture(e),this.resStorageList[n].path=null,this.resStorageList[n].res=null,this.resStorageList.splice(n,1)}}},v.cleanSrc=function(e){e&&!e.res?a.releaseAsset(e):(e.pngData&&(a.releaseAsset(e.pngData),e.pngData=null),e.plistData&&(a.releaseAsset(e.plistData),e.plistData=null))},v.textureStorage=function(e){for(var t=!1,s=0;s<this.textureStorageList.length;s++)e.path==this.textureStorageList[s].path&&(t=!0);t||this.textureStorageList.push(e)},v.cleanTexture=function(e){e.endsWith(".dragon")&&(e=this.httpUrl+e),this.textureCache[e]&&(this.textureCache[e].image=null,this.textureCache[e]=null,delete this.textureCache[e],console.log("清理texture成功："+e))},v.handleRelease=function(e){a.releaseAsset(e)},v.handleSamePath=function(e){for(var t=[],s=e[0].p,r=s instanceof Array,i=0;i<e.length;i++)r?e[i].p instanceof Array&&s.length==e[i].p.length&&s.toString()==e[i].p.toString()&&(t.push(e[i].cb),e.splice(i,1)):s===e[i].p&&(t.push(e[i].cb),e.splice(i,1));return{p:s,listCb:t}},v.checkRes=function(e){return e.startsWith("data")||e.startsWith("map")||e.startsWith("json")||e.startsWith("imageSetRule")||e.startsWith("graphics")||e.startsWith("wav")||e.startsWith("music")||e.startsWith("resources")||e.endsWith(".prefab")||e.endsWith(".font")?""+e:"resources/"+e},v.checkLocal=function(e){if(!n.isNative)if(n.isNative||b.isElectron){var t=null;b.isElectron?t=L.elcListener.sendSync("checkPath",S.localFileDir+e):n.isNative&&(t=d.fileUtils.isFileExist(S.localFileDir+e)),t?this.packagePathSub=S.localFileDir:(this.packagePathSub=this.httpUrl,-1===this.saveMark.indexOf(this.httpUrl+e)&&this.saveMark.push(this.httpUrl+e))}else this.packagePathSub=this.httpUrl},v.saveToLocal=function(e){if(!n.isNative&&e&&""!=e&&null!=e&&(n.isNative||b.isElectron))if(b.isElectron){var t=L;if(e.endsWith(".plist")){var s=e.substring(0,e.lastIndexOf("."))+".png";t.saveResToPackage(e),t.saveResToPackage(s)}else if(e.endsWith(".dragon")){var r=e.substring(0,e.lastIndexOf("."))+"_ske.dbbin";t.saveResToPackage(r);var i=e.substring(0,e.lastIndexOf("."))+"_tex.json";t.saveResToPackage(i);var a=e.substring(0,e.lastIndexOf("."))+"_tex.png";t.saveResToPackage(a)}else t.saveResToPackage(e);t=null}else if(n.isNative)if(e.endsWith(".plist")){a=e.substring(0,e.lastIndexOf("."))+".png";x.checkRemoteResourcesHandle(a)}else if(e.endsWith(".dragon")){r=e.substring(0,e.lastIndexOf("."))+"_ske.dbbin";x.checkRemoteResourcesHandle(r);i=e.substring(0,e.lastIndexOf("."))+"_tex.json";x.checkRemoteResourcesHandle(i);a=e.substring(0,e.lastIndexOf("."))+"_tex.png";x.checkRemoteResourcesHandle(a)}else x.checkRemoteResourcesHandle(e)},v.update=function(){var e=this;if(this.mapList.length>0){if(1==this.continueLoad){this.continueLoad=!1;var t=this.mapList[0];this.handleLoad(t.p,(function(s){e.continueLoad=!0,t.cb(s)})),this.mapList.splice(0,1)}}else if(this.humList.length>0){if(1==this.continueLoad){this.continueLoad=!1;t=this.handleSamePath(this.humList);this.handleLoad(t.p,(function(s){e.continueLoad=!0;for(var r=0;r<t.listCb.length;r++)t.listCb[r](s)}))}}else if(this.hairList.length>0){if(1==this.continueLoad){this.continueLoad=!1;t=this.handleSamePath(this.hairList);this.handleLoad(t.p,(function(s){e.continueLoad=!0;for(var r=0;r<t.listCb.length;r++)t.listCb[r](s)}))}}else if(this.npcList.length>0){if(1==this.continueLoad){this.continueLoad=!1;t=this.handleSamePath(this.npcList);this.handleLoad(t.p,(function(s){e.continueLoad=!0;for(var r=0;r<t.listCb.length;r++)t.listCb[r](s)}))}}else if(this.weapList.length>0){if(1==this.continueLoad){this.continueLoad=!1;t=this.handleSamePath(this.weapList);this.handleLoad(t.p,(function(s){e.continueLoad=!0;for(var r=0;r<t.listCb.length;r++)t.listCb[r](s)}))}}else if(this.monList.length>0){if(1==this.continueLoad){this.continueLoad=!1;t=this.handleSamePath(this.monList);this.handleLoad(t.p,(function(s){e.continueLoad=!0;for(var r=0;r<t.listCb.length;r++)t.listCb[r](s)}))}}else if(b.resLoadList.length>0&&1==this.continueLoad){this.continueLoad=!1;t=this.handleSamePath(b.resLoadList);this.handleLoad(t.p,(function(s){e.continueLoad=!0;for(var r=0;r<t.listCb.length;r++)t.listCb[r](s)}))}if(!n.isNative&&(n.isNative||b.isElectron)&&this.saveMark.length>0){var s=this.saveMark[0];this.saveMark.splice(0,1),this.saveToLocal(s)}},v.spFmt=function(e,t){var s=this.textureCache[t];if(t.endsWith(".plist")||t.endsWith(".dragon"))return s||((r=new m).image=e,r.setWrapMode(2,2,2),this.textureCache[t]=r,r);if(t.endsWith(".png")){if(s)return(a=new i).texture=s,a;var r,a=new i;return(r=new m).image=e,r.setWrapMode(2,2,2),a.texture=r,this.textureCache[t]=r,a}},v.srcToplist=function(e,t,s){for(var r=null,i=0;i<this.textureStorageList.length;i++)this.textureStorageList[i].path==s&&(r=this.textureStorageList[i].texture);if(r)return(n=k.parsePlist(t._file,r)).name=s,n;var a=new m;a.image=e;var n,o={path:s,texture:a};return this.textureStorage(o),(n=k.parsePlist(t._file,r)).name=s,n},v.srcPngToSp=function(e,t){e.indexOf("Animation/task/000084.pngt");for(var s=null,r=0;r<this.textureStorageList.length;r++)this.textureStorageList[r].path==e&&(s=this.textureStorageList[r].spriteFrame);return s||!!t&&this.spFmt(t,e)},v.srcDragonToAsset=function(e,t,s,r){var i=new p.DragonBonesAsset,o=new p.DragonBonesAtlasAsset,h=this.spFmt(t,r+".dragon");if(n.isBrowser)i._nativeAsset=e,o.atlasJson=s,o.texture=h;else if(n.isNative){var c,l=null==(c=a.cacheManager)?void 0:c.getCache(r+"_ske.dbbin");i._uuid=r+"_ske.dbbin",i._nativeUrl=l,o._uuid=r+"_tex.json",o._atlasJson=s,o.texture=h}return{asset:i,atlasAsset:o}},v.getResFromAssetsCache=function(e){return n.isNative&&!n.isBrowser?a.cacheManager.getCache(e):a.assets.get(e)},v.pathPlistToPng=function(e,t){return t?this.httpUrl+e.substring(0,e.lastIndexOf("."))+".png":e.substring(0,e.lastIndexOf("."))+".png"},v.dragonPathConvert=function(e){return e.substring(0,e.lastIndexOf("."))+"_tex.png"},v.checkCache=function(e){if(n.isNative){var t=a.cacheManager.getCache(e);t&&(e=t)}return e},s}(v));F._instance=null;e("resourcesMgr",F.getInstance());s._RF.pop()}}}));

System.register("chunks:///_virtual/ResPreloadMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ResourcesMgr.ts","./SaveResToDevice.ts","./Electron.ts","./GameTypeConfig.ts","./LoginSceneProgressBar.ts","./SceneCanvas.ts"],(function(n){"use strict";var e,g,i,o,t,p,a,c,l,r,_,s,u,S,x,m,b;return{setters:[function(n){e=n.inheritsLoose},function(n){g=n.cclegacy,i=n._decorator,o=n.director,t=n.sys,p=n.assetManager,a=n.native,c=n.resources,l=n.Prefab,r=n.Component},function(n){_=n.Config},function(n){s=n.resourcesMgr},function(n){u=n.saveResToDevice},function(n){S=n.el},function(n){x=n.gameTypeConfig},function(n){m=n.LoginSceneProgressBar},function(n){b=n.SceneCanvas}],execute:function(){var k,d;g._RF.push({},"65310ORZXBLO5EblgkAQjk7","ResPreloadMgr",void 0);var h=i.ccclass,R=(i.property,n("ResPreloadMgr",h("ResPreloadMgr")(((d=function(n){function g(){for(var e,g=arguments.length,i=new Array(g),o=0;o<g;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).dataUrl="data.zip",e.resUrl="resources.zip",e.zipUrl=["resources.zip"],e.preLoadConfig=["data/json/test.json","data/json/agreement.txt","data/json/unpackitem.txt","json/firstname.txt","json/lastname.txt","imageSetRule.json","data/json/mapdesc.txt","json/skilldesc.txt","data/json/filteitemlist.txt","json/blendmode.txt","json/sound.json","json/role.json","json/objectconfig.json","json/skill.json","json/DiySkill.tdm"],e.preLoadResources=["PersonalStore/personalstore_bg.png","PersonalStore/00099.png","LoginScene/gxx/gxxLogin/bg/accountLoginBg.png","LoginScene/gxx/gxxLogin/bg/phoneLoginBg.png","LoginScene/gxx/gxxLogin/btn/loginBtn.png","LoginScene/gxx/gxxLogin/btn/autoRegisterBtn.png","LoginScene/gxx/gxxLogin/bg/regResultBg.png","LoginScene/gxx/gxxLogin/btn/enterBtn.png","LoginScene/gxx/gxxLogin/btn/copyBtn.png","LoginScene/gxx/gxxLogin/btn/phonedisable.png","LoginScene/gxx/gxxLogin/btn/phone.png","LoginScene/gxx/gxxLogin/btn/accountdisable.png","LoginScene/gxx/gxxLogin/btn/accont.png","LoginScene/gxx/gxxServerList/itemBg.png","LoginScene/gxx/gxxServerList/closeBg.png","LoginScene/gxx/gxxServerList/bg.png","public/bg_online.png","Animation/dicing/000001.png","Animation/dicing/000002.png","Animation/dicing/000003.png","Animation/dicing/000004.png","Animation/dicing/000011.png","Animation/dicing/000012.png","Animation/dicing/000013.png","Animation/dicing/000014.png","Animation/dicing/000015.png","Animation/dicing/000016.png","public/img_mask.png","alertpic/fenghao_res.png","alertpic/fenghao_res.pngnr.png","alertpic/alert_btn_rigjt.png","Animation/roleAni/MaleZ/MaleZ_tex.png","Animation/roleAni/MaleF/MaleF_tex.png","Animation/roleAni/MaleD/MaleD_tex.png","Animation/roleAni/FemaleZ/FemaleZ_tex.png","Animation/roleAni/FemaleF/FemaleF_tex.png","Animation/roleAni/FemaleD/FemaleD_tex.png","GameSceneProgressBar/00950.png","GameSceneProgressBar/00950$bar.png",_.npc_img_name,"MyShop/myshopwin.png","MyShop/img_bag_bg1.png","ScreenWin/img_bag_bg.png","public/btn_ok.png","MyShop/myshopmsg.png","SplitResource/Btns/check.png","SplitResource/Btns/check (2).png","public/btn_ok.png","SplitResource/Btns/btn_newtask.png","SplitResource/Btns/btn_newtask (2).png","RankWin/rankBg.png","SplitResource/Btns/rank_checkBtn.png","SplitResource/Btns/rank_tab_level.png","SplitResource/Btns/rank_tab_level (2).png","SplitResource/Btns/rank_tab_zs.png","SplitResource/Btns/rank_tab_zs (2).png","SplitResource/Btns/rank_tab_fs.png","SplitResource/Btns/rank_tab_fs (2).png","SplitResource/Btns/rank_tab_ds.png","SplitResource/Btns/rank_tab_ds (2).png","HumWin/00029_new.png","HumWin/00029_new_1.png","HumWin/item_hat.png","HumWin/item_medal.png","HumWin/item_bracelet.png","HumWin/item_ring.png","HumWin/item_amulet.png","HumWin/item_belt.png","HumWin/item_shoes.png","HumWin/item_drum.png","HumWin/item_stone.png","HumWin/item_ring.png","HumWin/item_bracelet.png","HumWin/item_necklace.png","HumWin/item_horse.png","HumWin/item_helmet.png","SplitResource/Btns/item_box1.png","SplitResource/Btns/item_box2.png","HumWin/item_medal.png","HumWin/item_bracelet.png","HumWin/item_bracelet.png","HumWin/item_ring.png","HumWin/item_belt.png","HumWin/item_shoes.png","HumWin/item_stone.png","HumWin/item_ring.png","HumWin/item_necklace.png","HumWin/title_bg.png","HumWin/icon_k.png","SplitResource/Btns/00040.png","SplitResource/Btns/00040 (3).png","SplitResource/Btns/00039.png","SplitResource/Btns/00039 (3).png","SplitResource/Btns/00038.png","SplitResource/Btns/00038 (3).png","SplitResource/Btns/00037.png","SplitResource/Btns/00037 (3).png","SplitResource/Btns/00041.png","SplitResource/Btns/00041 (3).png","SplitResource/Btns/00036.png","SplitResource/Btns/00036 (3).png","HumWin/hum_Attribute.png","HumWin/role_editor_skill_item_bg2.png","HumWin/role_editor_skill_item_bg.png","HumWin/title_item_s.png","HumWin/title_item.png","HumWin/shengxiao.png","HumWin/shoushi.png","SplitResource/Btns/00017.png","SplitResource/Btns/00017 (3).png","ShopWin/shopping_bg1.png","SplitResource/Btns/btn_select5.png","SplitResource/Btns/btn_select0.png","SplitResource/Btns/btn_select0 (3).png","SplitResource/Btns/btn_select1.png","SplitResource/Btns/btn_select1 (3).png","SplitResource/Btns/btn_select2.png","SplitResource/Btns/btn_select2 (3).png","SplitResource/Btns/btn_select3.png","SplitResource/Btns/btn_select3 (3).png","SplitResource/Btns/btn_select4.png","SplitResource/Btns/btn_select4 (3).png","ShopWin/select_bg.png","ShopWin/goods.png","ShopWin/bg_2.png","ShopWin/bg_1.png","ShopWin/001.png","SplitResource/Btns/btn_up (2).png","SplitResource/Btns/btn_up.png","SplitResource/Btns/btn_down (2).png","SplitResource/Btns/btn_down.png","SplitResource/Btns/btn_up (3).png","SplitResource/Btns/btn_down (3).png","GuildWin/bg_guildInfo.png","GuildWin/bg_guild_memberList.png","GuildWin/bg_guild_applyList.png","GuildWin/bg_guild_relation.png","SplitResource/Btns/vbtn_guild_info.png","SplitResource/Btns/vbtn_guild_info (2).png","SplitResource/Btns/vbtn_guild_member.png","SplitResource/Btns/vbtn_guild_member (2).png","SplitResource/Btns/vbtn_guild_apply.png","SplitResource/Btns/vbtn_guild_apply (2).png","SplitResource/Btns/vbtn_guild_alliance.png","SplitResource/Btns/vbtn_guild_alliance (2).png","SplitResource/Btns/btn_guild_editGuildInfo.png","GuildWin/btn_showGuildList.png","GuildWin/bg_editguild.png","GuildWin/logininput.png","GuildWin/combobox-up.png","GuildWin/combobox-down.png","GuildWin/box_hanghui.png","GuildWin/box_hanghui-001.png","SplitResource/Btns/btn_guild_addTitle.png","SplitResource/Btns/btn_guild_edittitle.png","SplitResource/Btns/btn_guild_delTitle.png","SplitResource/Btns/btn_guild_quitGuild.png","GuildWin/bg_guild_memberinfo.png","public/btn_close_new.png","SplitResource/Btns/btn_guild_jointeam.png","SplitResource/Btns/btn_guild_addfriend.png","SplitResource/Btns/btn_guild_chat.png","SplitResource/Btns/btn_guild_memberkick.png","SplitResource/Btns/btn_guild_changePresident.png","SplitResource/Btns/btn_guild_setTitle.png","GuildWin/bg_guild_settitle.png","SplitResource/Btns/personalstore_combobox (2).png","SplitResource/Btns/personalstore_combobox (3).png","SplitResource/Btns/btn_guild_define.png","SplitResource/Btns/btn_guild_cancel.png","GuildWin/bg_guild_memberdel.png","GuildWin/bg_guild_addtitle.png","SplitResource/Btns/btn_guild_cleanList.png","SplitResource/Btns/btn_guild_ok.png","SplitResource/Btns/btn_guild_refuse.png","SplitResource/Btns/btn_guild_search.png","SplitResource/Btns/btn_guild_relationMng.png","SplitResource/Btns/btn_guild_cancelallance.png","SplitResource/Btns/btn_guild_cancelfollow.png","SplitResource/Btns/btn_guild_cancelwar.png","GuildWin/bg_guild_search.png","SplitResource/Btns/auxiliary_combobox.png","SplitResource/Btns/auxiliary_combobox (3).png","GuildWin/bg_guild_relation_manage.png","SplitResource/Btns/btn_guild_follow.png","SplitResource/Btns/btn_guild_war.png","SplitResource/Btns/btn_guild_alliance.png","SplitResource/Btns/btn_joinhanghui.png","SplitResource/Btns/btn_joinhanghui (2).png","SplitResource/Btns/btn_applyhanghui.png","SplitResource/Btns/btn_applyhanghui (2).png","GuildWin/bg_guild_choose.png","SplitResource/Btns/btn_guild_title.png","SplitResource/Btns/btn_guild_title (2).png","GuildWin/bg_hanghuilist.png","GuildWin/bg_creatguild.png","SplitResource/Btns/btn_creathanghui.png","SplitResource/Btns/box_hanghui.png","SplitResource/Btns/box_hanghui (2).png","SplitResource/Btns/npclist_btn (2).png","SplitResource/Btns/npclist_btn.png","MinMapWin/img_bj.png","MinMapWin/map_title.png","MinMapWin/npclist.png","public/btn_ok (2).png","MinMapWin/minmap_posBg.png","GameScene/pc/drug_kuang.png","ChatWin/chat_bg.png","SplitResource/Btns/chat_btn_send.png","SplitResource/Btns/chat_btn_send (2).png","SplitResource/Btns/chat_btn_select.png","SplitResource/Btns/chat_btn_select (2).png","SplitResource/Btns/chat_oder.png","SplitResource/Btns/chat_oder (2).png","SplitResource/Btns/chat_face.png","SplitResource/Btns/chat_face (2).png","SplitResource/Btns/chat_item.png","SplitResource/Btns/chat_item (2).png","SplitResource/Btns/chat_pos.png","SplitResource/Btns/chat_pos (2).png","ChatWin/chat.png","SplitResource/Btns/chat_btn_hide.png","SplitResource/Btns/chat_btn_hide (2).png","ChatWin/chat_face_bg.png","ChatWin/chat_item_bg.png","ChatWin/chat_bg_order.png","BagWin/img_bag_bg.png","ChatWin/chatbj.png","SplitResource/Btns/npclist_btn.png","ChatWin/btn2.png","ChatWin/btn2(2).png","ChatWin/chat_select_order-001.png","ChatWin/chat_select_order.png","ScreenWin/00029.png","SplitResource/Btns/vscroll$down.png","SplitResource/Btns/vscroll$up.png","ScreenWin/img_bag_bg1.png","ScreenWin/img_bag_bg.png","SplitResource/Btns/chat_public.png","SplitResource/Btns/chat_public (2).png","SplitResource/Btns/img_chat.png","SplitResource/Btns/gamemain_chat_public.png","SplitResource/Btns/gamemain_chat_public (2).png","SplitResource/Btns/gamemain_chat_guild.png","SplitResource/Btns/gamemain_chat_guild (2).png","SplitResource/Btns/gamemain_chat_troops.png","SplitResource/Btns/gamemain_chat_troops (2).png","SplitResource/Btns/gamemain_chat_siliao.png","SplitResource/Btns/gamemain_chat_siliao (2).png","ChatWin/emoji.plist","gameres/ui/dir_0.png","MinMapWin/minimapkuang.png","GameScene/minimapjian.png","rechargeWin/recharge_bg3.png","rechargeWin/pay_bg.png","rechargeWin/pay_wx.png","rechargeWin/pay_zfb.png","rechargeWin/custom_pay_bg.png","rechargeWin/custom_pay_cel.png","rechargeWin/custom_pay_ok.png","gameres/ui/000000.png","gameres/ui/000001.png","gameres/ui/000004.png","gameres/png/00065.png","gameres/png/chat_spr.png","gameres/ui/xunlu_point.png","newItemInfo/skill_bg.png","public/shop_minus (2).png","public/shop_minus (3).png","public/shop_plus (2).png","public/shop_plus (3).png","SplitResource/Btns/btn_ok.png","SplitResource/Btns/btn_ok (2).png","gameres/ui/star10.png","GameScene/btn_vip.png","GameScene/btn_recherage.png","GameScene/btn_shop.png","GameScene/btn_fuli.png","GameScene/btn_active.png","GameScene/btn_online.png","GameScene/btn_shagnc.png","GameScene/btn_new.png","GameScene/btn_recharge_first.png","GameScene/btn_new_user.png","GameScene/btn_bag.png","GameScene/humma.png","GameScene/btn_newhero.png","HeroTreasureWin/icon.png","GameScene/btn_juese.png","GameScene/guaji.png","GameScene/btn_shejiao.png","GameScene/btn_jiaoyi.png","GameScene/btn_hanghui.png","GameScene/btn_set.png","GameScene/btn_baitan.png","GameScene/btn_mail.png","GameScene/drug_kuang.png","targetBox/mb1.png","GameScene/map_showbtn1.png","GameScene/00003.png","GameScene/img_main_goldbg.png","GameScene/btn_buff.png","GameScene/btn_ss_task.png","GameScene/btn_ss_task (2).png","GameScene/btn_ss_hum.png","GameScene/btn_ss_hum (2).png","GameScene/btn_ss_monster.png","GameScene/btn_ss_monster (2).png","GameScene/btn_ss_item.png","GameScene/btn_ss_item (2).png","GameScene/btn_ss_change.png","GameScene/btn_ss_change (2).png","GameScene/btn_ss_hide.png","GameScene/img_bottombg.png","GameScene/gamemain_hp_red.png","GameScene/000000.png","GameScene/gamemain_mp_blue.png","GameScene/gamemain_hum_blood_bg.png","GameScene/img_heroattack.png","GameScene/btn_heroheji.png","GameScene/zl.png","GameScene/img_charlevel.png","ChatWin/gamemain_chat_bg.png","GameScene/pro_base.png","GameScene/auctionTip_bg.png","newHero/icon_herocall.png","GameScene/target_blood.png","GameScene/target_head.png","GameScene/target_menu.png","GameScene/gxx/atttype_all.png","GameScene/gxx/atttype_couple.png","GameScene/gxx/atttype_guild.png","GameScene/gxx/atttype_mentor.png","GameScene/gxx/atttype_peace.png","GameScene/gxx/atttype_red.png","GameScene/gxx/atttype_team.png","GameScene/main_rank.png","GameScene/herolock_btn.png","GameScene/chat_chat.png","GameScene/head_hide.png","SplitResource/Btns/bag_btnBg (2).png","SplitResource/Btns/bag_btnBg.png","DrugSetupWin/setupwin.png","SplitResource/Btns/setup_rest.png","HeroWin/herobag_bg.png","SplitResource/Btns/btn_close.png","BagWin/img_bag_bg.png","BagWin/lock_img.png","PetWin/pet_list_bg.png","PetWin/pet_list_select_bg.png","PetWin/pet_bg.png","PetWin/pet_call_disable.png","PetWin/pet_call_select.png","PetWin/pet_receive_disable.png","PetWin/pet_receive_select.png","PetWin/pet_put_bag_disable.png","PetWin/pet_put_bag_select.png","PetWin/pet_auto_eat_disable.png","PetWin/pet_auto_eat_select.png","PetWin/warehouse_put_equip_checkmark.png","PetWin/warehouse_put_equip.png"],e.publicRes=["public/btn_close (2).png","public/btn_close1.png","public/btn_close_new.png","public/btn_close_new (2).png","public/btn_ok.png","public/btn_ok (2).png","public/t_verticalBar.png","public/auxiliary_check.png","public/auxiliary_check (2).png","public/seting_checkBox.png","public/seting_checkBox (2).png","public/btn_close01.png","public/00018.png","public/xt.png","public/btn_chek_01.png","public/btn_chek_02.png","public/btn_close_01.png","public/btn_close_02.png"],e.mainSocializeRes=["Socialize/mail/bg_mailcontent.png","Socialize/mail/btn_delMail.png","Socialize/mail/btn_delMail (2).png","Socialize/mail/btn_delReaded.png","Socialize/mail/btn_delReaded (2).png","Socialize/mail/btn_extract (2).png","Socialize/mail/btn_extract.png","Socialize/mail/btn_extract01.png","Socialize/mail/btn_getAllItem (2).png","Socialize/mail/btn_getAllItem.png","Socialize/mail/btn_itemdel.png","Socialize/mail/icon_claimed.png","Socialize/mail/icon_unclaimed.png","Socialize/mail/mail_bg.png","Socialize/mail/mail_extract.png","Socialize/mail/mail_veiw.png","Socialize/mail/mail_veiw2.png","Socialize/mail/select_mailVeiw.png","Socialize/mail/img_mailItem_bg.png","Socialize/redPacket_bar.png","Socialize/redPacket_bar (2).png","Socialize/friend_bar.png","Socialize/friend_bar (2).png","Socialize/temp_bar.png","Socialize/temp_bar (2).png","Socialize/red_pack_bg.png","Socialize/sendRedPack.png","Socialize/sendRedPack (2).png","Socialize/redpak_redbag0.png","Socialize/redpak_redbag1.png","Socialize/redPack_rob.png","Socialize/redPack_rob (2).png","Socialize/bg1.png","Socialize/bg2.png","Socialize/redPack_had.png","Socialize/playInfo_bg.png","Socialize/redpak_combobox.png","Socialize/redpak_combobox (3).png","Socialize/redpak_combobox (2).png","Socialize/pinIcon.png","Socialize/exitSendRedPack .png","Socialize/exitSendRedPack  (2).png","Socialize/redPack_open_bg.png","Socialize/smallPinIcon.png","Socialize/redpak_bg.png","Socialize/f_bottomFrame.png","Socialize/teamGroup_bg.png","Socialize/f_selectEffect.png","Socialize/friend_bg1.png","Socialize/myFriend.png","Socialize/myFriend (2).png","Socialize/nearPlayer.png","Socialize/nearPlayer (2).png","Socialize/blackList.png","Socialize/blackList (2).png","Socialize/captainIcon.png","Socialize/FriendInfoBtn/f_sure.png","Socialize/FriendInfoBtn/f_sure (2).png","Socialize/FriendInfoBtn/cancel.png","Socialize/FriendInfoBtn/cancel (2).png","Socialize/FriendInfoBtn/checkPlayer.png","Socialize/FriendInfoBtn/checkPlayer (2).png","Socialize/FriendInfoBtn/makeDeal.png","Socialize/FriendInfoBtn/makeDeal (2).png","Socialize/FriendInfoBtn/f_deleFriend.png","Socialize/FriendInfoBtn/f_deleFriend (2).png","Socialize/FriendInfoBtn/privateChat.png","Socialize/FriendInfoBtn/privateChat (2).png","Socialize/FriendInfoBtn/inviteGroup.png","Socialize/FriendInfoBtn/inviteGroup (2).png","Socialize/FriendInfoBtn/beBad.png","Socialize/FriendInfoBtn/beBad (2).png","Socialize/FriendInfoBtn/inviteMem.png","Socialize/FriendInfoBtn/inviteMem (2).png","Socialize/FriendInfoBtn/addFriend.png","Socialize/FriendInfoBtn/addFriend (2).png","Socialize/FriendInfoBtn/f_cancelBlackList.png","Socialize/FriendInfoBtn/f_cancelBlackList (2).png","Socialize/teamGroup/near (2).png","Socialize/teamGroup/near.png","Socialize/teamGroup/friend (2).png","Socialize/teamGroup/friend.png","Socialize/teamGroup/invite.png","Socialize/teamGroup/invite (2).png","Socialize/teamGroup/sendPos.png","Socialize/teamGroup/sendPos (2).png","Socialize/teamGroup/exitTeam.png","Socialize/teamGroup/exitTeam (2).png","Socialize/teamGroup/t_check.png","Socialize/teamGroup/t_check (2).png","Socialize/teamGroup/t_makeDeal.png","Socialize/teamGroup/t_makeDeal (2).png","Socialize/teamGroup/outTeam.png","Socialize/teamGroup/outTeam (2).png","Socialize/teamGroup/myTeam (2).png","Socialize/teamGroup/myTeam.png","Socialize/teamGroup/nearTeam (2).png","Socialize/teamGroup/nearTeam.png","Socialize/teamGroup/createTeam.png","Socialize/teamGroup/createTeam (2).png","Socialize/teamGroup/leaveTeam.png","Socialize/teamGroup/leaveTeam (2).png","Socialize/teamGroup/inviteNumber.png","Socialize/teamGroup/inviteNumber (2).png","Socialize/teamGroup/callTeammate.png","Socialize/teamGroup/callTeammate (2).png","Socialize/teamGroup/applyAdd.png","Socialize/teamGroup/applyAdd (2).png"],e.auxiliaryRes=["Auxiliary/setting_bg.png","Auxiliary/seting_tar_general.png","Auxiliary/seting_tar_general (2).png","Auxiliary/seting_job.png","Auxiliary/seting_job (2).png","Auxiliary/seting_tar_protect.png","Auxiliary/seting_tar_protect (2).png","Auxiliary/seting_pickUp.png","Auxiliary/seting_pickUp (2).png","Auxiliary/seting_switchPlayer.png","Auxiliary/seting_switchPlayer (2).png","Auxiliary/seting_musicBg$bar.png","Auxiliary/seting_musicBg$bar (3).png","Auxiliary/seting_musicBg$bar (2).png","Auxiliary/seting_musicBg.png","Auxiliary/seting_proBg.png","Auxiliary/seting_proRed$bar.png","Auxiliary/seting_proBlue$bar.png","Auxiliary/auxiliary_combobox.png","Auxiliary/auxiliary_combobox (3).png","Auxiliary/auxiliary_combobox (2).png","Auxiliary/auxiliary_itemkuang.png","Auxiliary/auxi_reset.png","Auxiliary/auxi_reset (2).png","Auxiliary/seting_pickTitle.png","Auxiliary/seting_check.png","Auxiliary/seting_check (2).png","Auxiliary/setting_small_bg.png","Auxiliary/seting_line.png"],e.mainSkillRes=["SetSkill/setskill_left.png","SetSkill/setskill_left (2).png","SetSkill/setskill_right.png","SetSkill/setskill_right (2).png","SetSkill/setskill_bg.png","SetSkill/setskill_reset.png","SetSkill/setskill_reset (2).png","SetSkill/btn_att.png","SetSkill/btn_att (2).png","SetSkill/att_base.png","SetSkill/setskill_chosen.png","SetSkill/storm.png","SetSkill/storm (2).png","SetSkill/slidetiparrow.png","makeDeal/jiaoyibg.png","GameScene/target_mon.png"],e.skillIcon=["SkillIcon/00000.png","SkillIcon/00001.png","SkillIcon/00002.png","SkillIcon/00003.png","SkillIcon/00004.png","SkillIcon/00005.png","SkillIcon/00006.png","SkillIcon/00007.png","SkillIcon/00008.png","SkillIcon/00009.png","SkillIcon/00010.png","SkillIcon/00011.png","SkillIcon/00012.png","SkillIcon/00013.png","SkillIcon/00014.png","SkillIcon/00015.png","SkillIcon/00016.png","SkillIcon/00017.png","SkillIcon/00018.png","SkillIcon/00019.png","SkillIcon/00020.png","SkillIcon/00021.png","SkillIcon/00022.png","SkillIcon/00023.png","SkillIcon/00024.png","SkillIcon/00025.png","SkillIcon/00026.png","SkillIcon/00027.png","SkillIcon/00028.png","SkillIcon/00029.png","SkillIcon/00030.png","SkillIcon/00031.png","SkillIcon/00032.png","SkillIcon/00033.png","SkillIcon/00034.png","SkillIcon/00035.png","SkillIcon/00036.png","SkillIcon/00037.png","SkillIcon/00038.png","SkillIcon/00039.png","SkillIcon/00040.png","SkillIcon/00041.png","SkillIcon/00042.png","SkillIcon/00043.png","SkillIcon/00044.png","SkillIcon/00045.png","SkillIcon/00046.png","SkillIcon/00047.png","SkillIcon/00048.png","SkillIcon/00049.png","SkillIcon/00050.png","SkillIcon/00051.png","SkillIcon/00052.png","SkillIcon/00053.png","SkillIcon/00054.png","SkillIcon/00055.png","SkillIcon/00056.png","SkillIcon/00057.png","SkillIcon/00058.png","SkillIcon/00059.png","SkillIcon/00060.png","SkillIcon/00061.png","SkillIcon/00062.png","SkillIcon/00063.png","SkillIcon/00066.png","SkillIcon/00067.png","SkillIcon/00068.png","SkillIcon/00069.png","SkillIcon/00070.png","SkillIcon/00071.png","SkillIcon/00072.png","SkillIcon/00073.png","SkillIcon/00076.png","SkillIcon/00077.png","SkillIcon/00078.png","SkillIcon/00079.png","SkillIcon/00080.png","SkillIcon/00081.png","SkillIcon/00082.png","SkillIcon/00083.png","SkillIcon/00084.png","SkillIcon/00085.png","SkillIcon/00086.png","SkillIcon/00087.png","SkillIcon/00088.png","SkillIcon/00089.png","SkillIcon/00092.png","SkillIcon/00093.png","SkillIcon/00094.png","SkillIcon/00095.png","SkillIcon/00096.png","SkillIcon/00098.png","SkillIcon/00099.png","SkillIcon/00102.png","SkillIcon/00103.png","SkillIcon/00106.png","SkillIcon/00107.png","SkillIcon/00110.png","SkillIcon/00142.png","SkillIcon/00148.png","SkillIcon/00238.png","SkillIcon/00239.png","SkillIcon/00240.png","SkillIcon/00241.png","SkillIcon/00242.png","SkillIcon/00243.png","SkillIcon/00104.png","SkillIcon/00406.png","SkillIcon/00464.png"],e.autoItemRes=["autoItem/autoItem.png","autoItem/btn_autoItem.png","autoItem/btn_autoItem (2).png"],e.mainCityRes=["mainCity/map_bg.png","mainCity/icon_maincity.png","mainCity/icon_territory.png","mainCity/icon_iron.png","mainCity/icon_crystal.png","mainCity/icon_wood.png","mainCity/icon_flour.png","mainCity/bg_resource.png","mainCity/icon_coppercoin.png","mainCity/icon_add.png","mainCity/icon_ingot.png","mainCity/icon_boundingot.png","mainCity/icon_buildlist.png","mainCity/icon_build.png","mainCity/icon_bag.png","mainCity/icon_role.png","mainCity/icon_goouttown.png","mainCity/bg_tips.png","mainCity/btn_a.png","mainCity/btn_b.png","mainCity/btn_c.png","mainCity/btn_d.png","mainCity/bg_buildlist.png","mainCity/bg_mask.png","mainCity/btn_e.png"],e.disconnectionRes=["Animation/disconnection/000001.png","Animation/disconnection/000002.png","Animation/disconnection/000003.png","Animation/disconnection/000004.png","Animation/disconnection/000005.png","Animation/disconnection/000006.png","Animation/disconnection/000007.png","Animation/disconnection/000008.png"],e.bagWinRes=["BagWin/bag_bg.png","BagWin/btn_close_new.png","BagWin/bag_btnBg0.png","BagWin/bag_tab_disable0.png","BagWin/bag_tab_disable1.png","BagWin/bag_tab_disable2.png","BagWin/bag_tab_disable3.png","BagWin/bag_tab_select0.png","BagWin/bag_tab_select1.png","BagWin/bag_tab_select2.png","BagWin/bag_tab_select3.png"],e.wareHouseRes=["Warehouse/store_bg_new.png","public/btn_close_new.png","Warehouse/wareHouse_lastPage_select.png","Warehouse/wareHouse_nextPage_select.png","Warehouse/fastaccess_select.png","Warehouse/fastaccess_disable.png","Warehouse/fastaccess2_select.png","Warehouse/fastaccess2_disable.png"],e.auctionHouse=["AuctionHouseWin/auctionHouse_bg.png","AuctionHouseWin/auction_title.png","AuctionHouseWin/noAuction_img.png","AuctionHouseWin/wordAuction_disable.png","AuctionHouseWin/wordAuction_select.png","AuctionHouseWin/myAuction_disable.png","AuctionHouseWin/myAuction_select.png","AuctionHouseWin/myShelves_disable.png","AuctionHouseWin/myShelves_select.png","AuctionHouseWin/wordAuction_bg.png","AuctionHouseWin/auction_all_select.png","AuctionHouseWin/auction_all_disable.png","AuctionHouseWin/auction_equip_disable.png","AuctionHouseWin/auction_equip _select.png","AuctionHouseWin/auction_skill_disable.png","AuctionHouseWin/auction_skill_select.png","AuctionHouseWin/auction_material_disable.png","AuctionHouseWin/auction_material_select.png","AuctionHouseWin/auction_other_disable.png","AuctionHouseWin/auction_other_select.png","AuctionHouseWin/auction_blackBg.png","AuctionHouseWin/auciton_vertical.png","AuctionHouseWin/auction_cross.png","AuctionHouseWin/auctionFrame1.png","AuctionHouseWin/auctionFrame2.png","AuctionHouseWin/auction_black2Bg.png","AuctionHouseWin/setiing_itemFrame.png","AuctionHouseWin/auctionBid_select.png","AuctionHouseWin/auctionBuy_select.png","AuctionHouseWin/auctionBid_disable.png","AuctionHouseWin/auctionBuy_disable.png","AuctionHouseWin/auctionTip_bg.png","AuctionHouseWin/auction_line.png","AuctionHouseWin/cancel_bid_select.png","AuctionHouseWin/cancel_bid_disable.png","AuctionHouseWin/suer_bid_select.png","AuctionHouseWin/suer_bid_disable.png","AuctionHouseWin/shelvesItem.png","AuctionHouseWin/auctionMoney_cut_select.png","AuctionHouseWin/auctionMoney_cut_disable.png","AuctionHouseWin/auctionMoney_add_select.png","AuctionHouseWin/auctionMoney_add_disable.png","AuctionHouseWin/auctionCancelSale_select.png","AuctionHouseWin/auctionCancelSale_disable.png","AuctionHouseWin/auctionWordSale_select.png","AuctionHouseWin/auctionWordSale_disable.png","AuctionHouseWin/auction_select_01.png"],e.rockerRes=["Rocker/rocke_bj.png","Rocker/rocker_hu_0.png","Rocker/rocker_hu_1.png","Rocker/rocker_hu_2.png","Rocker/rocker_hu_3.png","Rocker/rocker_hu_4.png","Rocker/rocker_hu_5.png","Rocker/rocker_hu_6.png","Rocker/rocker_hu_7.png","Rocker/rocke_qiu.png","Rocker/double_rocke_run_bj.png","Rocker/double_rocker_hu_run_0.png","Rocker/double_rocker_hu_run_1.png","Rocker/double_rocker_hu_run_2.png","Rocker/double_rocker_hu_run_3.png","Rocker/double_rocker_hu_run_4.png","Rocker/double_rocker_hu_run_5.png","Rocker/double_rocker_hu_run_6.png","Rocker/double_rocker_hu_run_7.png","Rocker/double_rocke_walk_bj.png","Rocker/double_rocker_hu_walk_0.png","Rocker/double_rocker_hu_walk_1.png","Rocker/double_rocker_hu_walk_2.png","Rocker/double_rocker_hu_walk_3.png","Rocker/double_rocker_hu_walk_4.png","Rocker/double_rocker_hu_walk_5.png","Rocker/double_rocker_hu_walk_6.png","Rocker/double_rocker_hu_walk_7.png","Rocker/double_rocker_run.png","Rocker/double_rocker_walk.png","Rocker/rockerman_1.png","Rocker/rockerman_2.png","Rocker/rockerman_3.png","Rocker/rockerman_4.png","Rocker/rockerman_5.png","Rocker/rockerman_6.png","Rocker/rockerman_11.png","Rocker/rockerman_12.png","Rocker/rockerman_13.png","Rocker/rockerman_14.png","Rocker/rockerman_15.png","Rocker/rockerman_16.png","Rocker/double_rockerman_walk_1.png","Rocker/double_rockerman_walk_2.png","Rocker/double_rockerman_walk_3.png","Rocker/double_rockerman_walk_4.png","Rocker/double_rockerman_walk_5.png","Rocker/double_rockerman_walk_6.png","Rocker/double_rockerman_run_1.png","Rocker/double_rockerman_run_2.png","Rocker/double_rockerman_run_3.png","Rocker/double_rockerman_run_4.png","Rocker/double_rockerman_run_5.png","Rocker/double_rockerman_run_6.png"],e.gameSceneRes=["GameScene/zlz.png"],e.gameScene=["GameScene/00002.png","GameScene/zchb1.png","GameScene/xshd1.png","GameScene/cz1.png","targetBox/zhl1.png","GameScene/drug_kuang.png"],e.myShopRes=["MyShop/img_bag_bg.png"],e.crystalWinRes=["crystal/crystal_bg.png","crystal/crytal_dh.png","crystal/crystal_title4.png","crystal/crystal_boxtitle.png","crystal/crystal_bg1.png","crystal/crystal_kuang.png","crystal/crystal_icon1.png","crystal/crystal_icon2.png","crystal/crystal_icon3.png","crystal/crystal_que.png","crystal/crystal_bg2.png","crystal/crystal_change.png","crystal/crystal_btn1.png","crystal/crystal_title6.png","crystal/crytal_bd.png","crystal/crystal_btn2.png","crystal/crystal_btn.png","crystal/crytal_yl.png","crystal/crystal_login_bg.png","crystal/crystal_btn_close.png","crystal/crystal_btn_login.png","crystal/crystal_celllogin_bg.png","crystal/crystal_register_bg.png","crystal/crystal_btn_code.png","crystal/crystal_btn_register.png","crystal/crystal_title7.png"],e.newLoginRes=["LoginScene/tianqiong/bg_zs_js.png","LoginScene/tianqiong/bg_fs_js.png","LoginScene/tianqiong/bg_ds_js.png","LoginScene/tianqiong/00732.png","LoginScene/tianqiong/an1.png","LoginScene/tianqiong/area_blue.png","LoginScene/tianqiong/area_gray.png","LoginScene/tianqiong/area_green.png","LoginScene/tianqiong/area_red.png","LoginScene/tianqiong/bg_kx.png","LoginScene/tianqiong/bg_rritem.png","LoginScene/tianqiong/btn_close_1.png","LoginScene/tianqiong/btn_close_2.png","LoginScene/tianqiong/btn_djks_1.png","LoginScene/tianqiong/btn_djks_2.png","LoginScene/tianqiong/btn_fh_1.png","LoginScene/tianqiong/btn_fh_2.png","LoginScene/tianqiong/btn_login_1.png","LoginScene/tianqiong/btn_login_2.png","LoginScene/tianqiong/btn_notice_1.png","LoginScene/tianqiong/btn_notice_2.png","LoginScene/tianqiong/btn_serverItem1.png","LoginScene/tianqiong/green.png","LoginScene/tianqiong/icon_add.png","LoginScene/tianqiong/icon_cj_1.png","LoginScene/tianqiong/icon_cj_2.png","LoginScene/tianqiong/icon_nan_1.png","LoginScene/tianqiong/icon_nan_2.png","LoginScene/tianqiong/icon_nv_1.png","LoginScene/tianqiong/icon_nv_2.png","LoginScene/tianqiong/login_bg.png","LoginScene/tianqiong/logo.png","LoginScene/tianqiong/na.png","LoginScene/tianqiong/notic_btn (3).png","LoginScene/tianqiong/notice_list_bg.png","LoginScene/tianqiong/public_band.png","LoginScene/tianqiong/public_bg1.png","LoginScene/tianqiong/public_bg4.png","LoginScene/tianqiong/randomName.png","LoginScene/tianqiong/regist_new_use.png","LoginScene/tianqiong/rolescene_bg.png","LoginScene/tianqiong/select_area_2.png","LoginScene/tianqiong/strat_last.png","LoginScene/tianqiong/tog_btn_1.png","LoginScene/tianqiong/tog_btn_2.png","LoginScene/tianqiong/tog_ds_1.png","LoginScene/tianqiong/tog_ds_2.png","LoginScene/tianqiong/tog_fs_1.png","LoginScene/tianqiong/tog_fs_2.png","LoginScene/tianqiong/tog_zs_1.png","LoginScene/tianqiong/tog_zs_2.png","LoginScene/tianqiong/ts.png","LoginScene/tianqiong/icon_age.png","LoginScene/tianqiong/tm.png","LoginScene/tianqiong/btn_xy_1.png","LoginScene/tianqiong/btn_close.png","LoginScene/tianqiong/change_pwd.png","LoginScene/tianqiong/forgetPsw.png","LoginScene/tianqiong/userAgreement_bg.png","LoginScene/tianqiong/privatePolicy_bg.png","LoginScene/img_regbg.png","LoginScene/btn_reg_submit.png","LoginScene/btn_reg_cancel.png","LoginScene/login0.png","LoginScene/main_load_bg.png","LoginScene/main_load$bar.png","RoleScene/z.png","RoleScene/pen.png"],e.targetBoxRes=["targetBox/bg_target.png","targetBox/gw-.png","targetBox/rw-.png","targetBox/gw1.png","targetBox/gw2.png","targetBox/h.png","targetBox/kd.png","targetBox/p.png","targetBox/rw-.png","targetBox/sz.png","targetBox/wj1.png","targetBox/wj2.png"],e.gxxLoginRes=["LoginScene/gxx/login_bg.png","LoginScene/gxx/login_icon_agetip.png","LoginScene/gxx/login_btn_notice.png","LoginScene/gxx/login_btn_agreement.png","LoginScene/gxx/notice_bg.png","LoginScene/gxx/notice_tog_01.png","LoginScene/gxx/notice_tog_02.png","LoginScene/gxx/notice_tog_03.png","LoginScene/gxx/notice_tog_04.png","LoginScene/gxx/login_bg_cur_group.png","LoginScene/gxx/login_btn_startgame_01.png","LoginScene/gxx/login_btn_startgame_02.png","LoginScene/gxx/server_bg.png","LoginScene/gxx/server_bg_group_item.png","LoginScene/gxx/server_icon_blue.png","LoginScene/gxx/server_icon_gray.png","LoginScene/gxx/server_icon_green.png","LoginScene/gxx/server_icon_new_item.png","LoginScene/gxx/server_icon_red.png","LoginScene/gxx/server_tog_01.png","LoginScene/gxx/server_tog_02.png","LoginScene/gxx/login0.png","LoginScene/gxx/login2.png"],e.gxxRoleRes=["RoleScene/gxx/role_bg.png","RoleScene/gxx/role_bg_name.png","RoleScene/gxx/role_bg_zsjs.png","RoleScene/gxx/role_bg_fsjs.png","RoleScene/gxx/role_bg_dsjs.png","RoleScene/gxx/role_btn_01.png","RoleScene/gxx/role_btn_02.png","RoleScene/gxx/role_btn_03.png","RoleScene/gxx/role_btn_04.png","RoleScene/gxx/role_tog_01.png","RoleScene/gxx/role_tog_02.png","RoleScene/gxx/role_tog_03.png","RoleScene/gxx/role_tog_04.png","RoleScene/gxx/role_tog_05.png","RoleScene/gxx/role_tog_06.png","RoleScene/gxx/role_tog_07.png","RoleScene/gxx/role_tog_08.png","RoleScene/gxx/role_tog_09.png","RoleScene/gxx/role_tog_10.png","RoleScene/gxx/role_btn_05.png"],e.gxxSetSkillRes=["SetSkill/gxx/att_base (2).png","SetSkill/gxx/att_base.png","SetSkill/gxx/btn_att (2).png","SetSkill/gxx/btn_att.png","SetSkill/gxx/storm (2).png","SetSkill/gxx/storm.png","SetSkill/gxx/setskill_bg.png","SetSkill/gxx/setskill_reset (2).png","SetSkill/gxx/setskill_reset.png"],e.gxxTargetBoxRes=["targetBox/gxx/bg_target.png","targetBox/gxx/wj1.png","targetBox/gxx/wj2.png","targetBox/gxx/gw1.png","targetBox/gxx/gw2.png","targetBox/gxx/rw-.png","targetBox/gxx/gw-.png"],e.gxxAuxiliaryRes=["Auxiliary/gxx/auxi_reset (2).png","Auxiliary/gxx/auxi_reset.png","Auxiliary/gxx/seting_check (2).png","Auxiliary/gxx/seting_check.png","Auxiliary/gxx/seting_job (2).png","Auxiliary/gxx/seting_job.png","Auxiliary/gxx/seting_line.png","Auxiliary/gxx/seting_musicBg$bar (2).png","Auxiliary/gxx/seting_musicBg$bar (3).png","Auxiliary/gxx/seting_musicBg$bar.png","Auxiliary/gxx/seting_musicBg.png","Auxiliary/gxx/seting_pickTitle.png","Auxiliary/gxx/seting_pickUp (2).png","Auxiliary/gxx/seting_pickUp.png","Auxiliary/gxx/seting_proBg.png","Auxiliary/gxx/seting_proBlue$bar.png","Auxiliary/gxx/seting_proRed$bar.png","Auxiliary/gxx/seting_switchPlayer (2).png","Auxiliary/gxx/seting_switchPlayer.png","Auxiliary/gxx/seting_tar_general (2).png","Auxiliary/gxx/seting_tar_general.png","Auxiliary/gxx/seting_tar_protect (2).png","Auxiliary/gxx/seting_tar_protect.png","Auxiliary/gxx/setting_bg.png","Auxiliary/gxx/setting_small_bg.png"],e.gxxGameSceneRes=["GameScene/gxx/00002.png","GameScene/gxx/00003.png","GameScene/gxx/atttype_all.png","GameScene/gxx/atttype_couple.png","GameScene/gxx/atttype_guild.png","GameScene/gxx/atttype_mentor.png","GameScene/gxx/atttype_peace 1.png","GameScene/gxx/atttype_red.png","GameScene/gxx/atttype_team.png","GameScene/gxx/btn_bag.png","GameScene/gxx/btn_buff.png","GameScene/gxx/btn_hanghui.png","GameScene/gxx/btn_juese.png","GameScene/gxx/btn_mail.png","GameScene/gxx/btn_set.png","GameScene/gxx/btn_shejiao.png","GameScene/gxx/btn_ss_change (2).png","GameScene/gxx/btn_ss_change (3).png","GameScene/gxx/btn_ss_change.png","GameScene/gxx/btn_ss_hide.png","GameScene/gxx/btn_ss_hum (2).png","GameScene/gxx/btn_ss_hum.png","GameScene/gxx/btn_ss_item (2).png","GameScene/gxx/btn_ss_item.png","GameScene/gxx/btn_ss_monster (2).png","GameScene/gxx/btn_ss_monster.png","GameScene/gxx/btn_ss_show.png","GameScene/gxx/btn_ss_task (2).png","GameScene/gxx/btn_ss_task.png","GameScene/gxx/cz1.png","GameScene/gxx/drug_kuang.png","GameScene/gxx/gamemain_chat_bg.png","GameScene/gxx/gamemain_hp_red.png","GameScene/gxx/gamemain_hum_blood_bg.png","GameScene/gxx/gamemain_mp_blue.png","GameScene/gxx/guaji.png","GameScene/gxx/head_img-00.png","GameScene/head_show.png","GameScene/gxx/img_bottombg.png","GameScene/gxx/img_charlevel.png","GameScene/gxx/img_heroattack.png","GameScene/gxx/map_showbtn1.png","GameScene/gxx/minimapjian.png","GameScene/gxx/minimapkuang.png","GameScene/gxx/pro_base.png","GameScene/gxx/target_ds.png","GameScene/gxx/target_fs.png","GameScene/gxx/target_head.png","GameScene/gxx/target_mon.png","GameScene/gxx/target_zs.png","GameScene/gxx/zl.png"],e.gxxRockerRes=["Rocker/gxx/double_rocke_run_0.png","Rocker/gxx/double_rocke_run_1.png","Rocker/gxx/double_rocke_run_2.png","Rocker/gxx/double_rocke_run_3.png","Rocker/gxx/double_rocke_run_4.png","Rocker/gxx/double_rocke_run_5.png","Rocker/gxx/double_rocke_run_6.png","Rocker/gxx/double_rocke_run_7.png","Rocker/gxx/double_rocke_run_bj.png","Rocker/gxx/double_rocke_run_qiu.png","Rocker/gxx/double_rocke_walk_0.png","Rocker/gxx/double_rocke_walk_1.png","Rocker/gxx/double_rocke_walk_2.png","Rocker/gxx/double_rocke_walk_3.png","Rocker/gxx/double_rocke_walk_4.png","Rocker/gxx/double_rocke_walk_5.png","Rocker/gxx/double_rocke_walk_6.png","Rocker/gxx/double_rocke_walk_7.png","Rocker/gxx/double_rocke_walk_bj.png","Rocker/gxx/double_rocker_hu_run_0.png","Rocker/gxx/double_rocker_hu_run_1.png","Rocker/gxx/double_rocker_hu_run_2.png","Rocker/gxx/double_rocker_hu_run_3.png","Rocker/gxx/double_rocker_hu_run_4.png","Rocker/gxx/double_rocker_hu_run_5.png","Rocker/gxx/double_rocker_hu_run_6.png","Rocker/gxx/double_rocker_hu_run_7.png","Rocker/gxx/double_rocker_hu_walk_0.png","Rocker/gxx/double_rocker_hu_walk_1.png","Rocker/gxx/double_rocker_hu_walk_2.png","Rocker/gxx/double_rocker_hu_walk_3.png","Rocker/gxx/double_rocker_hu_walk_4.png","Rocker/gxx/double_rocker_hu_walk_5.png","Rocker/gxx/double_rocker_hu_walk_6.png","Rocker/gxx/double_rocker_hu_walk_7.png","Rocker/gxx/double_rocker_run.png","Rocker/gxx/double_rocker_walk.png","Rocker/gxx/double_rockerman_run_1.png","Rocker/gxx/double_rockerman_run_2.png","Rocker/gxx/double_rockerman_run_3.png","Rocker/gxx/double_rockerman_run_4.png","Rocker/gxx/double_rockerman_run_5.png","Rocker/gxx/double_rockerman_run_6.png","Rocker/gxx/double_rockerman_walk_1.png","Rocker/gxx/double_rockerman_walk_2.png","Rocker/gxx/double_rockerman_walk_3.png","Rocker/gxx/double_rockerman_walk_4.png","Rocker/gxx/double_rockerman_walk_5.png","Rocker/gxx/double_rockerman_walk_6.png","Rocker/gxx/rocke_0.png","Rocker/gxx/rocke_1.png","Rocker/gxx/rocke_2.png","Rocker/gxx/rocke_3.png","Rocker/gxx/rocke_4.png","Rocker/gxx/rocke_5.png","Rocker/gxx/rocke_6.png","Rocker/gxx/rocke_7.png","Rocker/gxx/rocke_bj.png","Rocker/gxx/rocke_qiu.png","Rocker/gxx/rocker_hu_0.png","Rocker/gxx/rocker_hu_1.png","Rocker/gxx/rocker_hu_2.png","Rocker/gxx/rocker_hu_3.png","Rocker/gxx/rocker_hu_4.png","Rocker/gxx/rocker_hu_5.png","Rocker/gxx/rocker_hu_6.png","Rocker/gxx/rocker_hu_7.png","Rocker/gxx/rockerman_1.png","Rocker/gxx/rockerman_2.png","Rocker/gxx/rockerman_3.png","Rocker/gxx/rockerman_4.png","Rocker/gxx/rockerman_5.png","Rocker/gxx/rockerman_6.png","Rocker/gxx/rockerman_11.png","Rocker/gxx/rockerman_12.png","Rocker/gxx/rockerman_13.png","Rocker/gxx/rockerman_14.png","Rocker/gxx/rockerman_15.png","Rocker/gxx/rockerman_16.png"],e}e(g,n),g.getInstance=function(){return null==this._instance&&(this._instance=new g),this._instance};var i=g.prototype;return i.start=function(){},i.handlePreLoad=function(){var n=this;_.sandBoxAPP?this.handlePreLoadConfig((function(){n.dataJsonDownload((function(n){o.getScene().getChildByName("Canvas").getComponent(b).loadProgress(n,!0,"加载自定义资源",null,!0)}))})):t.isNative?this.checkResUpdate((function(){n.handlePreLoadConfig((function(){n.handlePreLoadResources((function(){n.dataJsonDownload((function(n){o.getScene().getChildByName("Canvas").getComponent(b).loadProgress(n,!0,"加载自定义资源",null,!0)}))}))}))})):this.handlePreLoadConfig((function(){n.handlePreLoadResources((function(){n.dataJsonDownload((function(n){o.getScene().getChildByName("Canvas").getComponent(b).loadProgress(n,!0,"加载自定义资源",null,!0)}))}))})),this.prefabPreload()},i.handlePreLoadConfig=function(n){for(var e=this,g=0,i=o.getScene().getChildByName("Canvas").getComponent(b),t=0;t<this.preLoadConfig.length;t++)s.handleLoad(this.preLoadConfig[t],(function(t,a){if(g++,t&&a){switch(a){case"data/json/test.json":i.handleNotice(t);break;case"data/json/agreement.txt":i.handleAgreement(t);break;case"data/json/unpackitem.txt":i.handleUnpackItem(t);break;case"json/firstname.txt":i.handleFirstName(t);break;case"json/lastname.txt":i.handleLastName(t);break;case"imageSetRule.json":i.handleImageSetRule(t);break;case"data/json/mapdesc.txt":i.handleMapdesc(t);break;case"json/skilldesc.txt":i.handleSkilldesc(t);break;case"data/json/itemdesc.txt":i.handleItemdescTxt(t);break;case"data/json/filteitemlist.txt":i.handleFilteItemList(t);break;case"json/blendmode.txt":i.handlBelendMode(t);break;case"json/sound.json":i.handleSound(t);break;case"json/role.json":i.handleRole(t);break;case"json/objectconfig.json":i.handleObj_config(t);break;case"json/imageExportRule.json":i.handleImageExportRule(t);break;case"json/itemDesc.json":i.handleItemDescJson(t);break;case"json/cutoffset.txt":i.handleCutOffSet(t);break;case"json/skill.json":i.handleSkill(t);break;case"json/DiySkill.tdm":i.handleDiySkill(t)}1==p.cacheAsset&&p.releaseAsset(t)}o.getScene().getChildByName("Canvas").getComponent(b).load_res_bar.getComponent(m).handleProgress("加载配置文件",g/e.preLoadConfig.length),g==e.preLoadConfig.length&&(o.getScene().getChildByName("Canvas").getComponent(b).openLoginNotice(),n(),console.log("config资源加载完毕"))}))},i.handlePreLoadResources=function(n){var e,g,i,t,p,a,c,l,r,_,u,S,x,m,k,d,h,R,y,B,L,G,W,I,f;(e=this.preLoadResources).push.apply(e,this.gxxLoginRes),(g=this.preLoadResources).push.apply(g,this.gxxRoleRes),(i=this.preLoadResources).push.apply(i,this.gxxSetSkillRes),(t=this.preLoadResources).push.apply(t,this.gxxTargetBoxRes),(p=this.preLoadResources).push.apply(p,this.gxxAuxiliaryRes),(a=this.preLoadResources).push.apply(a,this.gxxGameSceneRes),(c=this.preLoadResources).push.apply(c,this.gxxRockerRes),(l=this.preLoadResources).push.apply(l,this.publicRes),(r=this.preLoadResources).push.apply(r,this.mainSocializeRes),(_=this.preLoadResources).push.apply(_,this.mainSkillRes),(u=this.preLoadResources).push.apply(u,this.skillIcon),(S=this.preLoadResources).push.apply(S,this.gameScene),(x=this.preLoadResources).push.apply(x,this.bagWinRes),(m=this.preLoadResources).push.apply(m,this.autoItemRes),(k=this.preLoadResources).push.apply(k,this.myShopRes),(d=this.preLoadResources).push.apply(d,this.auxiliaryRes),(h=this.preLoadResources).push.apply(h,this.rockerRes),(R=this.preLoadResources).push.apply(R,this.mainCityRes),(y=this.preLoadResources).push.apply(y,this.wareHouseRes),(B=this.preLoadResources).push.apply(B,this.auctionHouse),(L=this.preLoadResources).push.apply(L,this.gameSceneRes),(G=this.preLoadResources).push.apply(G,this.disconnectionRes),(W=this.preLoadResources).push.apply(W,this.crystalWinRes),(I=this.preLoadResources).push.apply(I,this.newLoginRes),(f=this.preLoadResources).push.apply(f,this.targetBoxRes),o.getScene().getChildByName("Canvas").getComponent(b).loadProgress(this.preLoadResources,!1,"加载UI资源",(function(){n()}),!0,!0),s.resLoad(this.disconnectionRes,(function(n){n?console.log("断线重连动画预渲染:成功"):console.log("断线重连动画预渲染:失败")}))},i.handleZipDownload=function(){_.isElectron?S.elcListener.sendSync("checkPath",x.localFileDir+this.zipUrl[0])?o.getScene().getChildByName("Canvas").getComponent(b).setConfig():S.saveResToPackage(s.httpUrl+this.zipUrl):t.isNative&&(console.log("handleZipDownload:本地zip地址："+x.localFileDir+this.zipUrl[0]),a.fileUtils.isFileExist(x.localFileDir+this.zipUrl[0])?o.getScene().getChildByName("Canvas").getComponent(b).setConfig():(console.log("handleZipDownload:zip包不存在，请求下载"),u.downloadBigZipHandle(s.httpUrl+this.zipUrl)))},i.dataJsonDownload=function(n){s.handleLoad("resPathList.json",(function(e){e?(console.log("加载resPathList.json成功："+e),n(e.resPathList)):(e=[],console.log("加载resPathList.json失败："+e),n(!1))}))},i.checkResUpdate=function(n){var e=s.httpUrl+"/hotupdate/resPathList.json";u.sendHttp(e+"?t="+performance.now(),"GET").then((function(g){if(!g)return console.log("资源更新文件不存在"),void n();var i=SparkMD5.ArrayBuffer.hash(g),o=t.localStorage.getItem(e),c=!1;if(o&&o===i?(console.log("资源无变化"),n()):c=!0,c){console.log("资源有变化"),t.localStorage.setItem(e,i);var l=a.fileUtils.getWritablePath()+"resPathList.json";a.fileUtils.writeDataToFile(g,l),p.loadRemote(l,(function(e,g){if(console.log("请求资源更新文件完成"),console.log(g),g)if(console.log("更新资源数量："+g.json.resPathList.length),g.json.resPathList.length>0){for(var i=0;i<g.json.resPathList.length;i++){var o=s.httpUrl+g.json.resPathList[i];p.cacheManager.removeCache(o),console.log("处理变化资源:"+o)}n()}else n();else console.log("请求资源更新文件失败"),n()}))}}),(function(e){console.log("http请求资源更新文件失败"+e),n()}))},i.prefabPreload=function(){c.preloadDir("prefab",l)},g}(r))._instance=null,k=d))||k));n("resPreloadMgr",R.getInstance());g._RF.pop()}}}));

System.register("chunks:///_virtual/RGBCode.ts",["cc","./GameUtil.ts"],(function(r){"use strict";var t,n;return{setters:[function(r){t=r.cclegacy},function(r){n=r.GameUtil}],execute:function(){t._RF.push({},"6ead7u8uahO3LQSj8iu7Hpd","RGBCode",void 0);var e=r("RGBCode",function(){function r(){this.ColorArray=new Array(0,0,0,0,0,0,128,0,0,128,0,0,0,128,128,0,128,0,0,0,128,0,128,0,128,128,0,0,192,192,192,0,151,128,85,0,200,185,157,0,115,115,123,0,41,41,45,0,82,82,90,0,90,90,99,0,57,57,66,0,24,24,29,0,16,16,24,0,24,24,41,0,8,8,16,0,113,121,242,0,95,103,225,0,90,90,255,0,49,49,255,0,82,90,214,0,0,16,148,0,24,41,148,0,0,8,57,0,0,16,115,0,0,24,181,0,82,99,189,0,16,24,66,0,153,170,255,0,0,16,90,0,41,57,115,0,49,74,165,0,115,123,148,0,49,82,189,0,16,33,82,0,24,49,123,0,16,24,45,0,49,74,140,0,0,41,148,0,0,49,189,0,82,115,198,0,24,49,107,0,66,107,198,0,0,74,206,0,57,99,165,0,24,49,90,0,0,16,42,0,0,8,21,0,0,24,58,0,0,0,8,0,0,0,41,0,0,0,74,0,0,0,157,0,0,0,220,0,0,0,222,0,0,0,251,0,82,115,156,0,74,107,148,0,41,74,115,0,24,49,82,0,24,74,140,0,17,68,136,0,0,33,74,0,16,24,33,0,90,148,214,0,33,107,198,0,0,107,239,0,0,119,255,0,132,148,165,0,33,49,66,0,8,16,24,0,8,24,41,0,0,16,33,0,24,41,57,0,57,99,140,0,16,41,66,0,24,66,107,0,24,74,123,0,0,74,148,0,123,132,140,0,90,99,107,0,57,66,74,0,24,33,41,0,41,57,70,0,148,165,181,0,90,107,123,0,148,177,206,0,115,140,165,0,90,115,140,0,115,148,181,0,115,165,214,0,74,165,239,0,140,198,239,0,66,99,123,0,57,86,107,0,90,148,189,0,0,57,99,0,173,198,214,0,41,66,82,0,24,99,148,0,173,214,239,0,99,140,165,0,74,90,99,0,123,165,189,0,24,66,90,0,49,140,189,0,41,49,53,0,99,132,148,0,74,107,123,0,90,140,165,0,41,74,90,0,57,123,156,0,16,49,66,0,33,173,239,0,0,16,24,0,0,33,41,0,0,107,156,0,90,132,148,0,24,66,82,0,41,90,107,0,33,99,123,0,33,123,156,0,0,165,222,0,57,82,90,0,16,41,49,0,123,189,206,0,57,90,99,0,74,132,148,0,41,165,198,0,24,156,16,0,74,140,66,0,66,140,49,0,41,148,16,0,16,24,8,0,24,24,8,0,16,41,8,0,41,66,24,0,173,181,165,0,115,115,107,0,41,41,24,0,74,66,24,0,74,66,49,0,222,198,99,0,255,221,68,0,239,214,140,0,57,107,115,0,57,222,247,0,140,239,247,0,0,231,247,0,90,107,107,0,165,140,90,0,239,181,57,0,206,156,74,0,181,132,49,0,107,82,49,0,214,222,222,0,181,189,189,0,132,140,140,0,222,247,247,0,24,8,0,0,57,24,8,0,41,16,8,0,0,24,8,0,0,41,8,0,165,82,0,0,222,123,0,0,74,41,16,0,107,57,16,0,140,82,16,0,165,90,33,0,90,49,16,0,132,66,16,0,132,82,49,0,49,33,24,0,123,90,74,0,165,107,82,0,99,57,41,0,222,74,16,0,33,41,41,0,57,74,74,0,24,41,41,0,41,74,74,0,66,123,123,0,74,156,156,0,41,90,90,0,20,66,66,0,0,57,57,0,0,89,89,0,44,53,202,0,33,115,107,0,0,49,41,0,16,57,49,0,24,57,49,0,0,74,66,0,24,99,82,0,41,115,90,0,24,74,49,0,0,33,24,0,0,49,24,0,16,57,24,0,74,132,99,0,74,189,107,0,74,181,99,0,74,189,99,0,74,156,90,0,57,140,74,0,74,198,99,0,74,214,99,0,74,132,82,0,41,115,49,0,90,198,99,0,74,189,82,0,0,255,16,0,24,41,24,0,74,136,74,0,74,231,74,0,0,90,0,0,0,136,0,0,0,148,0,0,0,222,0,0,0,238,0,0,0,251,0,0,148,90,74,0,181,115,99,0,214,140,123,0,214,123,107,0,255,136,119,0,206,198,198,0,156,148,148,0,198,148,156,0,57,49,49,0,132,24,41,0,132,0,24,0,82,66,74,0,123,66,82,0,115,90,99,0,247,181,206,0,156,123,140,0,204,34,119,0,255,170,221,0,42,180,240,0,159,0,223,0,179,23,227,0,240,251,255,0,164,160,160,0,128,128,128,0,0,0,255,0,0,255,0,0,0,255,255,0,255,0,0,0,255,0,255,0,255,255,0,0,255,255,255,0)}r.getInstance=function(){return null==this._instance&&(this._instance=new r),this._instance};var t=r.prototype;return t.GetRGB=function(r){if(r<0||r>255)return 0;var t=this.ColorArray[4*r+0],n=this.ColorArray[4*r+1];return this.ColorArray[4*r+2]|n<<8|t<<16},t.GetMatrix=function(r){if(r<0||r>255)return!1;var t=this.ColorArray[4*r+0]/255,n=this.ColorArray[4*r+1]/255,e=this.ColorArray[4*r+2]/255;return[1*e,0*n,0*t,0,0,0*e,1*n,0*t,0,0,0*e,0*n,1*t,0,0,0*e,0*n,0*t,1,0]},t.Get2RGB=function(r){if(null==r||null==r)return"#ffffff";if(r<0||r>255)return"#ffffff";var t=this.ColorArray[4*r+0]?n.getprefixname(this.ColorArray[4*r+0].toString(16),2):"00",e=this.ColorArray[4*r+1]?n.getprefixname(this.ColorArray[4*r+1].toString(16),2):"00";return"#"+(this.ColorArray[4*r+2]?n.getprefixname(this.ColorArray[4*r+2].toString(16),2):"00")+e+t},t.Get3RGB=function(r){for(var t="",n=r.length-1;n>0;n-=2)t+=r[n-1],t+=r[n];return t.length!=r.length&&(t+=r[0]),t},r}());e._instance=null;r("rgbCode",e.getInstance());t._RF.pop()}}}));

System.register("chunks:///_virtual/RichText.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./GameDefine.ts","./ResourcesMgr.ts","./ChatOnClick.ts"],(function(t){"use strict";var e,i,o,s,n,r,h,a,l,c,p,d,u,f,g,w,m,y,x,b,v,W,C,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,h=t._decorator,a=t.Prefab,l=t.Node,c=t.isValid,p=t.UITransform,d=t.instantiate,u=t.Label,f=t.Layers,g=t.Sprite,w=t.v3,m=t.Texture2D,y=t.SpriteFrame,x=t.Component,b=t.Color},function(t){v=t.DEV},function(t){W=t.CHAT_CLICK_TYPE},function(t){C=t.resourcesMgr},function(t){_=t.default}],execute:function(){var k,N,P,S,D,T,z,X,O,H,E,R,Y,L,I,A,j,F,M;r._RF.push({},"073dbXlZnpFdZnHT3K0JdJL","RichText",void 0);var U=h.ccclass,G=h.property,V=h.executeInEditMode,Z=h.menu;t("default",(k=Z("Comp/RichTextCommon"),N=G({displayName:v,multiline:!0,tooltip:v}),P=G({displayName:v}),S=G({min:0,displayName:v}),D=G({displayName:v,visible:function(){return this.strokeWidth>0}}),T=G({displayName:v}),z=G({min:4,displayName:v}),X=G({displayName:v}),O=G(a),U(H=V(H=k((R=e((E=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"_string",R,s(e)),o(e,"_color",Y,s(e)),o(e,"_strokeWidth",L,s(e)),o(e,"_strokeColor",I,s(e)),o(e,"_fontName",A,s(e)),o(e,"_fontSize",j,s(e)),o(e,"_rowDis",F,s(e)),o(e,"onclickPrefab",M,s(e)),e.cvs=null,e.ctx=null,e.cellX=0,e.cellY=0,e.rowW=0,e.rowH=0,e.font="",e.bold="",e.style="0",e.viewX=0,e.viewY=0,e.viewWidth=0,e.viewHeight=0,e.pageNode=null,e.gi=null,e.textureList=[],e.privateUserName="",e.show_item=null,e.pos_info=null,e.item_str="",e.pos_str="",e}i(e,t);var r=e.prototype;return r.start=function(){this.updateContent(),this.node.on(l.EventType.SIZE_CHANGED,this.updateContent,this),this.node.on(l.EventType.ANCHOR_CHANGED,this.updateContent,this)},r.updateContent=function(){c(this.node)&&this.node.destroyAllChildren(),this.cvs=null,this.ctx=null;var t=this.string;if(t){this.viewX=-this.node.getComponent(p).width*this.node.getComponent(p).anchorX,this.viewY=this.node.getComponent(p).height*(1-this.node.getComponent(p).anchorY),this.viewWidth=this.node.getComponent(p).width,this.rowH=this.fontSize+this.rowDis,this.viewHeight=this.node.getComponent(p).height-this.node.getComponent(p).height%this.rowH,this.cellX=0,this.cellY=this.rowH,this.rowW=0,this.bold="",this.style="0",this.font=this.fontName;var e=0,i=0;this.createPage();for(var o=0,s=t.length;o<=s;++o){if(o===s){this.drawToPage(t.substring(i,s)),i<s||this.pageNode.children.length>0?this.pageToNode():(this.pageNode.removeFromParent(),this.pageNode.destroy());break}switch(t[o]){case"\\":if(o===s-1)continue;switch(this.drawToPage(t.substring(i,o)),t[o+1]){case"n":i=1+ ++o,this.addRow(),this.rowW=0,this.cellX=0;continue;case"t":i=1+ ++o,e=this.fontSize,this.rowW+e>this.viewWidth?(this.rowW=e,this.cellX=this.rowW,this.addRow()):(this.rowW+=e,this.cellX=this.rowW);continue;case"b":i=1+ ++o,this.cellX=this.rowW,this.bold="bold",this.ctx.font=this.bold+" "+this.fontSize+"px "+this.font;continue;case"d":i=1+ ++o,this.cellX=this.rowW,this.style="d";continue;case"u":i=1+ ++o,this.cellX=this.rowW,this.style="u";continue;case"f":var n=t.substring(o+2,o+4+10).indexOf("\\f",0);if(-1===n)break;n+=o+2,this.font=t.substring(o+2,n),this.ctx.font=this.bold+" "+this.fontSize+"px "+this.font,o=n+1,i=n+2,this.cellX=this.rowW;continue;case"c":var r=t.substring(o+2,o+4+6).indexOf("\\c",0);if(-1===r)break;if(3!==r&&6!==r)break;r+=o+2,this.ctx.fillStyle="#"+t.substring(o+2,r),o=r+1,i=r+2,this.cellX=this.rowW;continue;case"0":i=1+ ++o,this.cellX=this.rowW,this.style="0",this.font=this.fontName,this.bold="",this.ctx.font=this.bold+" "+this.fontSize+"px "+this.font,this.ctx.fillStyle="#"+this.color.toHEX();continue;case"i":var h=t.substring(o+2,o+4+20).indexOf("\\i",0);if(-1===h)break;h+=o+2;var a=new l("image");a.addComponent(p),a.layer=f.Enum.UI_2D,a.getComponent(p).anchorX=0,a.getComponent(p).anchorY=0,a.getComponent(p).width=30,a.getComponent(p).height=30,function(){var e=a.addComponent(g),i=t.substring(o+2,h);if(i.startsWith("Atlas")){var s=i.lastIndexOf("/"),n=i.substring(s+1);C.handleLoad("ChatWin/emoji.plist",(function(t){t&&e&&(e.spriteFrame=t.getSpriteFrame(n))}))}a.setScale(w(.7,.7))}();var m=a.getComponent(p).width*a.scale.x;this.rowW+m>this.viewWidth?(a.setPosition(0,a.position.y),this.rowW=m,this.addRow()):(a.setPosition(this.rowW,a.position.y),this.rowW+=m),a.setParent(this.pageNode),a.setPosition(a.position.x,-this.cellY),this.cellX=this.rowW,o=h+1,i=h+2;continue;case"p":var y=t.substring(o+2,o+4+16).indexOf("\\p",0);if(-1===y)break;y+=o+2;var x=null;console.log("i=",o);var b=null,v=0,k=0,N="";-1!=t.indexOf("Name")?(b=W.NAME,v=t.lastIndexOf("Name"),k=t.lastIndexOf("\\p"),N=t.substring(v+4,k)):-1!=t.indexOf("Item")?(b=W.ITEM,N=this.item_str):-1!=t.indexOf("Pos")&&(b=W.POS,N=this.pos_str),(x=d(this.onclickPrefab)).setParent(this.pageNode);var P=x.getComponent(_);P.initData(N,b,this.privateUserName,this.show_item,this.pos_info),x.getComponent(u).updateRenderData(!0);var S=P.getwidth()*x.scale.x,D=x.getComponent(p).height*x.scale.x;this.rowW+S>this.viewWidth?(x.setPosition(0,x.position.y),this.rowW=S,this.addRow()):(x.setPosition(this.rowW,x.position.y),this.rowW+=S);var T=x.position.x+S*x.getComponent(p).anchorX,z=D*x.getComponent(p).anchorY-this.cellY;x.setPosition(T,z),this.cellX=this.rowW,o=y+1,i=y+2;continue}break;case"\n":this.drawToPage(t.substring(i,o)),i=o+1,this.addRow(),this.rowW=0,this.cellX=0;continue;case"\t":this.drawToPage(t.substring(i,o)),i=o+1,e=this.fontSize,this.rowW+e>this.viewWidth?(this.rowW=e,this.cellX=this.rowW,this.addRow()):(this.rowW+=e,this.cellX=this.rowW);continue}e=this.ctx.measureText(t[o]).width,this.rowW+e>this.viewWidth?(this.drawToPage(t.substring(i,o)),i=o,this.cellX=0,this.rowW=e,this.addRow()):this.rowW+=e}this.node.getComponent("ScrollView")}},r.createPage=function(){this.pageNode=new l("page"+this.node.children.length);var t=this.ctx?this.ctx.font:this.bold+" "+this.fontSize+"px "+this.font,e=this.ctx?this.ctx.fillStyle:"#"+this.color.toHEX();this.cvs=document.createElement("canvas"),this.ctx=this.cvs.getContext("2d"),this.cvs.width=this.viewWidth,this.cvs.height=this.viewHeight,this.ctx.font=t,this.ctx.fillStyle=e,this.ctx.lineWidth=this.strokeWidth,this.ctx.strokeStyle="#"+this.strokeColor.toHEX()},r.drawToPage=function(t){if(""!==t){var e=this.cellX,i=this.cellY-.15*this.fontSize-.5*this.rowDis,o=this.ctx.lineWidth;switch(this.strokeWidth&&this.ctx.strokeText(t,e,i),this.ctx.fillText(t,e,i),this.style){case"d":this.ctx.lineWidth=Math.max(this.fontSize>>3,this.strokeWidth),this.ctx.beginPath(),this.ctx.moveTo(e,i-this.fontSize/2+this.ctx.lineWidth),this.ctx.lineTo(e+this.ctx.measureText(t).width,i-this.fontSize/2+this.ctx.lineWidth),this.ctx.stroke(),this.ctx.lineWidth=o;break;case"u":this.ctx.lineWidth=Math.max(this.fontSize>>3,this.strokeWidth),this.ctx.beginPath(),this.ctx.moveTo(e,i+this.ctx.lineWidth),this.ctx.lineTo(e+this.ctx.measureText(t).width,i+this.ctx.lineWidth),this.ctx.stroke(),this.ctx.lineWidth=o}}},r.pageToNode=function(){var t=new m;t.reset(this.cvs),t.uploadData(this.cvs);var e=new y;e.texture=t,this.textureList.push(t),this.textureList.push(e),this.pageNode.layer=f.Enum.UI_2D,this.pageNode.addComponent(g).spriteFrame=e,this.pageNode.getComponent(p).width=this.viewWidth,this.pageNode.getComponent(p).height=this.viewHeight,this.pageNode.getComponent(p).anchorX=0,this.pageNode.getComponent(p).anchorY=1,this.pageNode.setPosition(this.viewX,this.viewY-this.viewHeight*this.node.children.length),this.pageNode.setParent(this.node)},r.addRow=function(){this.cellY+this.rowH>this.viewHeight?(this.pageToNode(),this.createPage(),this.cellY=this.rowH):this.cellY+=this.rowH},r.onDestroy=function(){if(this.textureList.length>0){for(var t=0;t<this.textureList.length;t++)this.textureList[t].destroy();this.textureList=[]}this.cvs=null,this.node.destroyAllChildren(),this.node.targetOff(this)},n(e,[{key:"string",get:function(){return this._string},set:function(t){this._string=t,this.updateContent()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updateContent()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=t,this.updateContent()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(t){this._strokeColor=t,this.updateContent()}},{key:"fontName",get:function(){return this._fontName},set:function(t){this._fontName=t,this.updateContent()}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.updateContent()}},{key:"rowDis",get:function(){return this._rowDis},set:function(t){this._rowDis=t,this.updateContent()}}]),e}(x)).prototype,"_string",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(E.prototype,"string",[N],Object.getOwnPropertyDescriptor(E.prototype,"string"),E.prototype),Y=e(E.prototype,"_color",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(255,255,255)}}),e(E.prototype,"color",[P],Object.getOwnPropertyDescriptor(E.prototype,"color"),E.prototype),L=e(E.prototype,"_strokeWidth",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(E.prototype,"strokeWidth",[S],Object.getOwnPropertyDescriptor(E.prototype,"strokeWidth"),E.prototype),I=e(E.prototype,"_strokeColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(0,0,0)}}),e(E.prototype,"strokeColor",[D],Object.getOwnPropertyDescriptor(E.prototype,"strokeColor"),E.prototype),A=e(E.prototype,"_fontName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Arial"}}),e(E.prototype,"fontName",[T],Object.getOwnPropertyDescriptor(E.prototype,"fontName"),E.prototype),j=e(E.prototype,"_fontSize",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),e(E.prototype,"fontSize",[z],Object.getOwnPropertyDescriptor(E.prototype,"fontSize"),E.prototype),F=e(E.prototype,"_rowDis",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(E.prototype,"rowDis",[X],Object.getOwnPropertyDescriptor(E.prototype,"rowDis"),E.prototype),M=e(E.prototype,"onclickPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=E))||H)||H)||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoleScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./List.ts","./Sendmessage.ts","./EnDecode.ts","./MsgSM.ts","./GameUtil.ts","./ObjType.ts","./ResourcesMgr.ts","./UIcontrol.ts","./GameMessage.ts","./audioManager.ts","./LoginSocket.ts","./RoleSocket.ts","./RoleSceneSprite.ts","./Https.ts"],(function(e){"use strict";var t,n,i,o,l,r,s,a,c,h,b,u,g,m,f,_,p,d,R,v,y,S,C,w,L,x,A,I,z,j,D,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Label,a=e.Sprite,c=e.EditBox,h=e.Node,b=e.Toggle,u=e.Prefab,g=e.dragonBones,m=e.director,f=e.color,_=e.sys,p=e.Component},function(e){d=e.Config},function(e){R=e.default},function(e){v=e.Sendmessage},function(e){y=e.EnDecode},function(e){S=e.default},function(e){C=e.GameUtil},function(e){w=e.TDeleteHumanInfo},function(e){L=e.resourcesMgr},function(e){x=e.uiControl},function(e){A=e.GameMessage},function(e){I=e.audioManager},function(e){z=e.loginSocket},function(e){j=e.roleSocket},function(e){D=e.RoleSceneSprite},function(e){k=e.https}],execute:function(){var N,F,M,B,E,J,T,G,H,U,O,Z,Q,P,W,Y,K,X,q,V,$,ee,te,ne,ie,oe,le,re,se,ae,ce,he,be,ue,ge,me,fe,_e,pe,de,Re,ve,ye,Se,Ce,we,Le,xe,Ae,Ie,ze,je,De,ke,Ne,Fe,Me,Be,Ee,Je,Te,Ge,He,Ue,Oe,Ze,Qe,Pe,We,Ye,Ke,Xe;l._RF.push({},"3542bF3im9G36FEyvCvp/4l","RoleScene",void 0);var qe=r.ccclass,Ve=r.property;e("RoleScene",(N=qe("RoleScene"),F=Ve(s),M=Ve(s),B=Ve(s),E=Ve(a),J=Ve(a),T=Ve(s),G=Ve(s),H=Ve(c),U=Ve(h),O=Ve(h),Z=Ve(b),Q=Ve(b),P=Ve(b),W=Ve(b),Y=Ve(b),K=Ve(h),X=Ve(h),q=Ve(R),V=Ve(h),$=Ve(h),ee=Ve(s),te=Ve(s),ne=Ve(h),ie=Ve(h),oe=Ve(h),le=Ve(u),re=Ve(h),se=Ve(h),ae=Ve(h),ce=Ve(h),he=Ve(h),be=Ve(h),ue=Ve(s),ge=Ve(a),N(((Xe=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"lb_ServerName",_e,o(t)),i(t,"lb_name1",pe,o(t)),i(t,"lb_name2",de,o(t)),i(t,"img_job1",Re,o(t)),i(t,"img_job2",ve,o(t)),i(t,"lb_lvl1",ye,o(t)),i(t,"lb_lvl2",Se,o(t)),i(t,"tex_name",Ce,o(t)),i(t,"img_create",we,o(t)),i(t,"chooseRole",Le,o(t)),i(t,"btn_c_zs",xe,o(t)),i(t,"btn_c_fs",Ae,o(t)),i(t,"btn_c_ds",Ie,o(t)),i(t,"btn_c_nan",ze,o(t)),i(t,"btn_c_nv",je,o(t)),i(t,"img_del",De,o(t)),i(t,"img_hf",ke,o(t)),i(t,"list_rr",Ne,o(t)),i(t,"role1_creat",Fe,o(t)),i(t,"role2_creat",Me,o(t)),i(t,"lb_1",Be,o(t)),i(t,"lb_2",Ee,o(t)),i(t,"role1_info",Je,o(t)),i(t,"role2_info",Te,o(t)),i(t,"mask",Ge,o(t)),i(t,"aniPrefab",He,o(t)),i(t,"maleZ",Ue,o(t)),i(t,"maleF",Oe,o(t)),i(t,"maleD",Ze,o(t)),i(t,"femaleZ",Qe,o(t)),i(t,"femaleF",Pe,o(t)),i(t,"femaleD",We,o(t)),i(t,"chooseRoleName",Ye,o(t)),i(t,"creatJobShow",Ke,o(t)),t.msgFromLogin=[],t.isCreateSubmit=0,t.job=0,t.sex=0,t.recoveryrole=null,t.SelectIndex=-1,t.selecttype=1,t.lb_sex1=null,t.lb_sex2=null,t.lb_job1=null,t.lb_job2=null,t.rRoleList=[],t.rrSelectId=-1,t.roleList=[],t.createRoleInfo=[],t.deleteRoleInfo=[],t.findBackRoleInfo=[],t}n(t,e),t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var l=t.prototype;return l.onLoad=function(){this.node.getComponent(D).init(),I.instance.playMusic(d.S_SELECTROLE)},l.start=function(){d.init(),this.setJobMode(),console.log("请求角色网关创建role socket"),d.g_backToRole?j.createSocket(k.roleUrl,k.rolePort):z.activeClose((function(){z._socket=null,console.log("登陆网关闭成功"+z._socket)}))},l.setJobMode=function(){d.g_serverconfig.nJobmode,1!=d.g_serverconfig.nJobmode&&(this.btn_c_fs.node.active=!1,this.btn_c_ds.node.active=!1,0==d.g_serverconfig.nJobmode?this.btn_c_nv.node.active=!1:2==d.g_serverconfig.nJobmode&&(this.btn_c_nan.node.active=!1))},l.dynamicDragon=function(e,t,n){var i=e.getComponent(g.ArmatureDisplay);L.handleLoad(t,(function(e){e?(console.log("龙骨资源请求成功"),i.dragonAsset=e.asset,i.dragonAtlasAsset=e.atlasAsset,i.animationName=n,i.armatureName="Armature",i.playAnimation(n,0)):console.log("龙骨资源不存在")}))},l.onSvrConnect=function(){var e=d.MsgFromLogin[3].toLowerCase(),t=d.MsgFromLogin[2]+"";v.getInstance().sendQueryRole(e,t)},l.onMsgFromSvr=function(e){var t=this;if(d.CurScene.loadAnimControl(0),"!"===e[e.length-1]){var n=e.substring(0,e.length-1),i=n.substring(0,22),o=n.substring(22,n.length),l=y.DecodeMessage(i),r=y.DecodeString(o);switch(l.ident){case S.OUTOFCONNECTION:console.log("服务断开连接");break;case S.QUERYCHR:console.log("查询角色"),this.onQueryRoleResult(r),this.chooseRole.active=!0,this.isCreateSubmit?(1==this.isCreateSubmit?this.onSelectLeft():this.onSelectRight(),this.isCreateSubmit=0,this.onStartGame()):""==this.lb_name1.string&&""==this.lb_name2.string&&this.popCreateRoleWin();break;case S.QUERYCHR_FAIL:x.handlerAlert({type:1,content:"未查询到角色或角色还在游戏中，请重试！",sF:function(){t.backToLogin()}}),console.log("查询角色失败"+l.record);break;case S.NEWCHR_SUCCESS:this.img_create.active=!1,this.onSvrConnect(),this.updateRoleInfo(1,this.createRoleInfo),console.log("创建角色成功重新查询角色");break;case S.NEWCHR_FAIL:this.createRoleInfo=[],this.onCreateRoleFailResult(l.record);break;case S.DELCHR_SUCCESS:this.updateRoleInfo(2,this.deleteRoleInfo),this.onSvrConnect(),console.log("删除角色成功重新查询角色");break;case S.DELCHR_FAIL:this.deleteRoleInfo=[],console.log("删除角色失败");break;case S.QUERYDELCHR:this.img_hf.active=!0,this.onQueryDelCHRSuccResult(o),console.log("查询待恢复角色成功");break;case S.GETBAKCHAR_SUCCESS:this.onSvrConnect(),console.log("恢复角色成功重新查询角色");break;case S.GETBAKCHAR_FAIL:this.findBackRoleInfo=[],console.log("恢复角色失败");break;case S.STARTPLAY:this.onStartGameResult(r),console.log("开始游戏");break;case S.STARTFAIL:console.log("开始游戏失败")}}},l.onStartGameResult=function(e){var t=e.split("/"),n=t[0],i=t[1],o="";o=1==this.selecttype?this.lb_name1.string:this.lb_name2.string;var l=0;l=1==this.selecttype?this.lb_lvl1.string:this.lb_lvl2.string,d.g_RoleNameOnly=o,d.g_RoleName=o,d.g_playerName=o,d.g_levelForCaiji=l;var r=d.MsgFromLogin[2],s=d.MsgFromLogin[3].toLowerCase();d.dataFromRoleScene={ip:n,port:i,code:r,name:o,uid:s},A.getInstance().init(),C.setSaveData("g_RoleName",d.g_RoleName),this.updateRoleInfo(0,this.roleList),k.roleName=this.chooseRoleName.string,d.CurScene.load_game_bg.active=!0,1==d.CurScene.isLoadGameDone&&(I.instance.stopAll(),m.loadScene("GameScene"))},l.onRestoreRole=function(){v.getInstance().sendQueryDeleteChr(d.MsgFromLogin[3].toLowerCase())},l.onQueryDelCHRSuccResult=function(e){var t=[];e.split("/").pop();var n="=cAsXRQaUL<L<<<<A<<<=`<<<<<<M`</",i=y.fnDecode6BitBuf(n,n.length,!1),o=new w(i.pszDest);t.push(o),this.rRoleList=t,this.list_rr.numItems=this.rRoleList.length},l.rrRender=function(e,t){var n=e.getChildByName("name").getComponent(s),i=e.getChildByName("sex").getComponent(s),o=e.getChildByName("job").getComponent(s),l=e.getChildByName("level").getComponent(s),r=this.rRoleList[t];n.string=r.sChrName,i.string=r.btSex?"女":"男",l.string=""+r.nLevel,o.string=C.getJobName(r.btJob)},l.rrSelect=function(e,t){this.recoveryrole=null;var n=e.getChildByName("selected");if(this.rrSelectId!=t){console.log("rrSelect"),this.recoveryrole=e.getChildByName("name").getComponent(s).string,n.active=!0;var i=this.list_rr.getItemByListId(this.rrSelectId);i&&(i.getChildByName("selected").active=!1),this.rrSelectId=t}},l.rrClose=function(){this.rrSelectId=-1,this.img_hf.active=!1},l.rrSend=function(){v.getInstance().sendGetBackBeleteChr(d.MsgFromLogin[3].toLowerCase(),this.recoveryrole),this.rrClose()},l.onDelRole=function(){if(""!==this.lb_name1.string||""!==this.lb_name2.string){this.img_del.active=!0;var e="";e=1==this.selecttype?this.lb_name1.string:this.lb_name2.string,this.img_del.getChildByName("lb_del").getComponent(s).string="确定删除【"+e+"】吗?"}},l.onDelRolOK=function(){var e="";e=1==this.selecttype?this.lb_name1.string:this.lb_name2.string,v.getInstance().sendDeleteRole(e),this.img_del.active=!1;for(var t=0;t<this.roleList.length;t++)this.roleList[t].rn==e&&(this.deleteRoleInfo=[this.roleList[t]])},l.onDelRoleCancel=function(){this.img_del.active=!1},l.onQueryRoleResult=function(e){if(""==e)return this.lb_name1.string="",this.lb_lvl1.string="",this.lb_name2.string="",void(this.lb_lvl2.string="");"/"==e.substr(e.length-1,1)&&(e=e.substr(0,e.length-1));var t=e.split("/");this.lb_name1.string=t[0]?t[0]:"",this.lb_job1=t[1]?parseInt(t[1]):"",this.setJobImg(this.img_job1,this.lb_job1),this.lb_lvl1.string=t[3]?t[3]:"",this.lb_sex1=t[4]?t[4]:"",this.lb_name2.string=t[5]?t[5]:"",this.lb_job2=t[6]?parseInt(t[6]):"",this.setJobImg(this.img_job2,this.lb_job2),this.lb_lvl2.string=t[8]?t[8]:"",this.lb_sex2=t[9]?t[9]:"";var n=""==this.lb_name1.string;this.role1_creat.active=n,this.role1_info.active=!n;var i=""==this.lb_name2.string;this.role2_creat.active=i,this.role2_info.active=!i,""!=this.lb_name2.string&&"*"==this.lb_name2.string.substr(0,1)?(this.lb_name2.string=t[5].substr(1,t[5].length),this.selecttype=2,this.chooseRoleName.string=this.lb_name2.string,this.onSelectRight()):""!=this.lb_name1.string&&("*"==this.lb_name1.string.substr(0,1)&&(this.lb_name1.string=t[0].substr(1,t[0].length)),this.selecttype=1,this.chooseRoleName.string=this.lb_name1.string,this.onSelectLeft()),this.updatedataTemp(t);for(var o=0;o<this.roleList.length;o++)this.recoveryrole==this.roleList[o].rn&&(this.findBackRoleInfo=[this.roleList[o]])},l.onCreateRoleFailResult=function(e){0==e?x.handlerAlert({type:1,content:"输入的角色名包含非法字符！"}):2==e?x.handlerAlert({type:1,content:"创建角色名称已被其他人使用！"}):3==e?x.handlerAlert({type:1,content:"您只能创建两个游戏角色！"}):4==e?x.handlerAlert({type:1,content:"创建角色时出现错误！"}):5==e?x.handlerAlert({type:1,content:"禁止创建新角色！"}):6==e?x.handlerAlert({type:1,content:"禁止建立包含数字的角色名！"}):7==e?x.handlerAlert({type:1,content:"禁止建立全英文的角色名！"}):100==e?x.handlerAlert({type:1,content:"分区游戏ID无效！"}):101==e?x.handlerAlert({type:1,content:"服务器内部错误！"}):102==e?x.handlerAlert({type:1,content:"游戏ID无效！"}):103==e?x.handlerAlert({type:1,content:"渠道无效！"}):104==e?x.handlerAlert({type:1,content:"终端无效！"}):105==e?x.handlerAlert({type:1,content:"Mac无效！"}):106==e?x.handlerAlert({type:1,content:"IP无效！"}):201==e?x.handlerAlert({type:1,content:"角色创建中,请等待！"}):202==e?x.handlerAlert({type:1,content:"请勿重复创建相同角色名！"}):203==e?x.handlerAlert({type:1,content:"数据库类型错误,请联系管理员！"}):204==e?x.handlerAlert({type:1,content:"未查找到角色创建缓存信息！"}):205==e?x.handlerAlert({type:1,content:"插入新建角色数据失败！"}):206==e?x.handlerAlert({type:1,content:"请升级引擎会员！"}):x.handlerAlert({type:1,content:"创建角色失败！失败码："+e}),this.closeCreatRole()},l.onChooseRole=function(){1==this.selecttype?(this.role1_info.getComponent(a).grayscale=!1,this.lb_name1.color=f("#ffc57e"),this.lb_lvl1.color=f("#ffc57e"),this.lb_1.color=f("#ffc57e"),this.img_job1.getComponent(a).grayscale=!1,this.role2_info.getComponent(a).grayscale=!0,this.lb_name2.color=f("#bbbbbb"),this.lb_lvl2.color=f("#bbbbbb"),this.lb_2.color=f("#bbbbbb"),this.img_job2.getComponent(a).grayscale=!0,this.chooseRoleName.string=this.lb_name1.string):2==this.selecttype&&(this.role1_info.getComponent(a).grayscale=!0,this.lb_name1.color=f("#bbbbbb"),this.lb_lvl1.color=f("#bbbbbb"),this.lb_1.color=f("#bbbbbb"),this.img_job1.getComponent(a).grayscale=!0,this.role2_info.getComponent(a).grayscale=!1,this.lb_name2.color=f("#FEFE02"),this.lb_lvl2.color=f("#02FE30"),this.lb_2.color=f("#FEFE02"),this.img_job2.getComponent(a).grayscale=!1,this.chooseRoleName.string=this.lb_name2.string)},l.setRoleImg=function(e,t){this.maleD.active=!1,this.maleF.active=!1,this.maleZ.active=!1,this.femaleD.active=!1,this.femaleF.active=!1,this.femaleZ.active=!1;var n=null;switch(this.creatJobShow.node.active=!0,t){case 0:C.loadResLocal("RoleScene/gxx/role_bg_zsjs.png",this.creatJobShow);break;case 1:C.loadResLocal("RoleScene/gxx/role_bg_fsjs.png",this.creatJobShow);break;case 2:C.loadResLocal("RoleScene/gxx/role_bg_dsjs.png",this.creatJobShow)}0==e&&0==t?(this.maleZ.active=!0,n="Animation/roleAni/gxx/zhanshinan/zhanshinan.dragon",console.log("请求龙骨资源"),this.dynamicDragon(this.maleZ,n,"待机男战士")):0==e&&1==t?(this.maleF.active=!0,n="Animation/roleAni/gxx/fashinan/fashinan.dragon",this.dynamicDragon(this.maleF,n,"待机男法师")):0==e&&2==t?(this.maleD.active=!0,n="Animation/roleAni/gxx/daoshinan/daoshinan.dragon",this.dynamicDragon(this.maleD,n,"待机男道士")):1==e&&0==t?(this.femaleZ.active=!0,n="Animation/roleAni/gxx/zhanshinu/zhanshinu.dragon",this.dynamicDragon(this.femaleZ,n,"待机战士女")):1==e&&1==t?(this.femaleF.active=!0,n="Animation/roleAni/gxx/fashinu/fashinu.dragon",this.dynamicDragon(this.femaleF,n,"待机女法师")):1==e&&2==t&&(this.femaleD.active=!0,n="Animation/roleAni/gxx/daoshinu/daoshinu.dragon",this.dynamicDragon(this.femaleD,n,"待机女道士"))},l.setJobImg=function(e,t){if(null!=t){var n="";switch(t){case 0:n="RoleScene/gxx/role_icon_zs.png";break;case 1:n="RoleScene/gxx/role_icon_fs.png";break;case 2:n="RoleScene/gxx/role_icon_ds.png"}C.loadResLocal(n,e)}},l.onSelectLeft=function(){this.selecttype=1,this.onChooseRole(),this.setRoleImg(this.lb_sex1,this.lb_job1)},l.onSelectRight=function(){this.selecttype=2,this.onChooseRole(),this.setRoleImg(this.lb_sex2,this.lb_job2)},l.onStartGame=function(){d.CurScene.loadAnimControl(1);var e="";e=1==this.selecttype?this.lb_name1.string:this.lb_name2.string,v.getInstance().sendSelectRole(d.MsgFromLogin[3].toLowerCase(),e)},l.onCreateRole=function(){""!=this.lb_name2.string||this.popCreateRoleWin()},l.closeCreatRole=function(){1==this.selecttype?this.onSelectLeft():2==this.selecttype&&this.onSelectRight(),this.img_create.active=!1,this.chooseRole.active=!0},l.sendCreatRole=function(){v.getInstance().sendNewRole(d.MsgFromLogin[3].toLowerCase(),this.tex_name.string,1,this.job,this.sex);var e=0;0==this.sex?e=1:1==this.sex&&(e=2),this.createRoleInfo=[{rn:this.tex_name.string,rj:this.job,rl:0,rs:e}],this.isCreateSubmit=""==this.lb_name1.string?1:2},l.popCreateRoleWin=function(){this.img_create.active=!0,this.chooseRole.active=!1,this.RandomName(),this.job=Math.floor(3*Math.random()),this.sex=Math.floor(2*Math.random()),1!=d.g_serverconfig.nJobmode&&(this.job=0,0==d.g_serverconfig.nJobmode?this.sex=0:2==d.g_serverconfig.nJobmode&&(this.sex=1)),this.setShowBtn(this.job,this.sex)},l.setShowBtn=function(e,t){0==t?(this.btn_c_nan.isChecked=!0,this.btn_c_nv.isChecked=!1):(this.btn_c_nan.isChecked=!1,this.btn_c_nv.isChecked=!0),this.btn_c_zs.isChecked=0==e,this.btn_c_fs.isChecked=1==e,this.btn_c_ds.isChecked=2==e,this.setRoleImg(t,e)},l.RandomName=function(){var e=JSON.parse(_.localStorage.getItem("lastName"));if(d.firstName&&e){var t=parseInt((Math.random()*d.firstName.length).toString()),n=parseInt((Math.random()*e.length).toString());""!=d.firstName[t]&&""!=e[n]&&(this.tex_name.string=d.firstName[t]+e[n])}},l.creatSetZS=function(){this.job=0,this.setShowBtn(this.job,this.sex),this.creatJobShow.node.active=!0,C.loadResLocal("RoleScene/gxx/role_bg_zsjs.png",this.creatJobShow)},l.creatSetFS=function(){this.job=1,this.setShowBtn(this.job,this.sex),this.creatJobShow.node.active=!0,C.loadResLocal("RoleScene/gxx/role_bg_fsjs.png",this.creatJobShow)},l.creatSetDS=function(){this.job=2,this.setShowBtn(this.job,this.sex),this.creatJobShow.node.active=!0,C.loadResLocal("RoleScene/gxx/role_bg_dsjs.png",this.creatJobShow)},l.creatSetMan=function(){this.sex=0,this.setShowBtn(this.job,this.sex)},l.creatSetWomen=function(){this.sex=1,this.setShowBtn(this.job,this.sex)},l.backToLogin=function(){d.CurScene.loadAnimControl(1),d.g_backToRole=!1,j.activeClose((function(){m.loadScene("LoginScene")}))},l.update=function(e){L.update()},l.backToRoleSceneEventMgr=function(){},l.updatedataTemp=function(e){var t=[];if(""!=this.lb_name1.string){var n=0;0==e[4]?n=1:1==e[4]&&(n=2),-1!=e[0].indexOf("*")&&(e[0]=e[0].replace("*",""));var i={rn:e[0]?e[0]:"",rj:e[1]?parseInt(e[1]):"",rl:e[3]?e[3]:"",rs:n};t.push(i)}if(""!=this.lb_name2.string){n=0;0==e[9]?n=1:1==e[9]&&(n=2),-1!=e[5].indexOf("*")&&(e[5]=e[5].replace("*",""));i={rn:e[5]?e[5]:"",rj:e[6]?parseInt(e[6]):"",rl:e[8]?e[8]:"",rs:n};t.push(i)}this.roleList=t},l.updateRoleInfo=function(e,t){k.updateRoleInfo(e,t,(function(e){console.log("角色信息上报结果："+e.message)}))},t}(p))._instance=void 0,_e=t((fe=Xe).prototype,"lb_ServerName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(fe.prototype,"lb_name1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(fe.prototype,"lb_name2",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(fe.prototype,"img_job1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(fe.prototype,"img_job2",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(fe.prototype,"lb_lvl1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(fe.prototype,"lb_lvl2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(fe.prototype,"tex_name",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(fe.prototype,"img_create",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(fe.prototype,"chooseRole",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(fe.prototype,"btn_c_zs",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(fe.prototype,"btn_c_fs",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(fe.prototype,"btn_c_ds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(fe.prototype,"btn_c_nan",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(fe.prototype,"btn_c_nv",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(fe.prototype,"img_del",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(fe.prototype,"img_hf",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(fe.prototype,"list_rr",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(fe.prototype,"role1_creat",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(fe.prototype,"role2_creat",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(fe.prototype,"lb_1",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(fe.prototype,"lb_2",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(fe.prototype,"role1_info",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(fe.prototype,"role2_info",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(fe.prototype,"mask",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(fe.prototype,"aniPrefab",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(fe.prototype,"maleZ",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(fe.prototype,"maleF",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(fe.prototype,"maleD",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(fe.prototype,"femaleZ",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(fe.prototype,"femaleF",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(fe.prototype,"femaleD",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(fe.prototype,"chooseRoleName",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(fe.prototype,"creatJobShow",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=fe))||me));l._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSceneSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./ResourcesMgr.ts","./Config.ts"],(function(e){"use strict";var n,o,t,i,l,r,g,a,c,_,p,b,u,s,x;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,g=e.Sprite,a=e.Button,c=e.Toggle,_=e.Node,p=e.dragonBones,b=e.Component},function(e){u=e.GameUtil},function(e){s=e.resourcesMgr},function(e){x=e.Config}],execute:function(){var S,f,R,d,m,L,h,y,q,z,w,k,v,B,A,j,C,N,M,T,D,F,E,G,P,U,H,I,O,W,Z,J,K,Q,V,X,Y,$,ee,ne,oe,te,ie,le,re,ge,ae,ce,_e,pe,be,ue,se,xe,Se,fe,Re,de,me,Le,he;l._RF.push({},"be980+md5FFfZ4NM13lA9TW","RoleSceneSprite",void 0);var ye=r.ccclass,qe=r.property;e("RoleSceneSprite",(S=ye("RoleSceneSprite"),f=qe(g),R=qe(g),d=qe(g),m=qe(g),L=qe(g),h=qe(g),y=qe(g),q=qe(g),z=qe(g),w=qe(a),k=qe(g),v=qe(g),B=qe(a),A=qe(a),j=qe(a),C=qe(a),N=qe(a),M=qe(a),T=qe(a),D=qe(a),F=qe(c),E=qe(c),G=qe(c),P=qe(c),U=qe(c),H=qe(_),I=qe(_),O=qe(g),W=qe(g),S((K=n((J=function(e){function n(){for(var n,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return n=e.call.apply(e,[this].concat(l))||this,t(n,"bg_role",K,i(n)),t(n,"role1_creat",Q,i(n)),t(n,"role2_creat",V,i(n)),t(n,"role1_info",X,i(n)),t(n,"role2_info",Y,i(n)),t(n,"sp_name",$,i(n)),t(n,"bg_name",ee,i(n)),t(n,"randomName",ne,i(n)),t(n,"img_hf",oe,i(n)),t(n,"btn_hf_qx",te,i(n)),t(n,"img_del",ie,i(n)),t(n,"btn_del_qx",le,i(n)),t(n,"btn_dr",re,i(n)),t(n,"btn_recover",ge,i(n)),t(n,"btn_start",ae,i(n)),t(n,"submit_btn",ce,i(n)),t(n,"btn_c_qx",_e,i(n)),t(n,"btn_c_ok",pe,i(n)),t(n,"btn_hf_ok",be,i(n)),t(n,"btn_del_ok",ue,i(n)),t(n,"btn_c_zs",se,i(n)),t(n,"btn_c_fs",xe,i(n)),t(n,"btn_c_ds",Se,i(n)),t(n,"btn_c_nan",fe,i(n)),t(n,"btn_c_nv",Re,i(n)),t(n,"fire0",de,i(n)),t(n,"fire1",me,i(n)),t(n,"pen0",Le,i(n)),t(n,"pen1",he,i(n)),n.roleResList=["LoginScene/tianqiong/rolescene_bg.png","LoginScene/tianqiong/icon_cj_2.png","LoginScene/tianqiong/icon_add.png","LoginScene/tianqiong/icon_cj_1.png","LoginScene/tianqiong/bg_kx.png","LoginScene/tianqiong/randomName.png","LoginScene/tianqiong/00732.png","LoginScene/tianqiong/btn_close.png","LoginScene/tianqiong/ts.png","RoleScene/pen.png","LoginScene/tianqiong/btn_notice_1.png","LoginScene/tianqiong/btn_notice_2.png","LoginScene/tianqiong/btn_djks_1.png","LoginScene/tianqiong/btn_djks_2.png","LoginScene/tianqiong/btn_fh_1.png","LoginScene/tianqiong/btn_fh_2.png","LoginScene/tianqiong/tog_zs_1.png","LoginScene/tianqiong/tog_zs_2.png","LoginScene/tianqiong/tog_fs_1.png","LoginScene/tianqiong/tog_fs_2.png","LoginScene/tianqiong/tog_ds_1.png","LoginScene/tianqiong/tog_ds_2.png","LoginScene/tianqiong/icon_nan_1.png","LoginScene/tianqiong/icon_nan_2.png","LoginScene/tianqiong/icon_nv_1.png","LoginScene/tianqiong/icon_nv_2.png","RoleScene/z.png","RoleScene/f.png","RoleScene/d.png","LoginScene/tianqiong/bg_zs_js.png","LoginScene/tianqiong/bg_fs_js.png","LoginScene/tianqiong/bg_ds_js.png",x.S_SELECTROLE,"RoleScene/gxx/role_bg.png","RoleScene/gxx/role_bg_dsjs.png","RoleScene/gxx/role_bg_name.png","RoleScene/gxx/role_bg_zsjs.png","RoleScene/gxx/role_btn_01.png","RoleScene/gxx/role_btn_02.png","RoleScene/gxx/role_btn_03.png","RoleScene/gxx/role_btn_04.png","RoleScene/gxx/role_fsjs.png","RoleScene/gxx/role_tog_01.png","RoleScene/gxx/role_tog_02.png","RoleScene/gxx/role_tog_03.png","RoleScene/gxx/role_tog_04.png","RoleScene/gxx/role_tog_05.png","RoleScene/gxx/role_tog_06.png","RoleScene/gxx/role_tog_07.png","RoleScene/gxx/role_tog_08.png","RoleScene/gxx/role_tog_09.png","RoleScene/gxx/role_tog_10.png","RoleScene/gxx/role_btn_05.png","RoleScene/gxx/role_btn_06.png","RoleScene/gxx/role_btn_07.png","RoleScene/gxx/role_btn_08.png","RoleScene/gxx/role_btn_09.png","RoleScene/gxx/role_btn_10.png","RoleScene/gxx/role_btn_11.png","RoleScene/gxx/role_btn_12.png","RoleScene/gxx/role_icon_add.png","RoleScene/gxx/role_icon_ds.png","RoleScene/gxx/role_icon_fs.png","RoleScene/gxx/role_icon_zs.png"],n}o(n,e);var l=n.prototype;return l.start=function(){},l.init=function(){u.loadResLocal("RoleScene/gxx/role_bg.png",this.bg_role),u.loadResLocal("RoleScene/gxx/role_btn_06.png",this.role1_creat),u.loadResLocal("RoleScene/gxx/role_icon_add.png",this.role1_creat.node.getChildByName("Sprite").getComponent(g)),u.loadResLocal("RoleScene/gxx/role_btn_06.png",this.role2_creat),u.loadResLocal("RoleScene/gxx/role_icon_add.png",this.role2_creat.node.getChildByName("Sprite").getComponent(g)),u.loadResLocal("RoleScene/gxx/role_btn_06.png",this.role1_info),u.loadResLocal("RoleScene/gxx/role_btn_06.png",this.role2_info),u.loadResLocal("RoleScene/gxx/role_bg_name.png",this.sp_name),u.loadResLocal("RoleScene/gxx/role_bg_name.png",this.bg_name),u.loadResLocal("RoleScene/gxx/role_btn_05.png",this.randomName),u.loadResLocal("RoleScene/gxx/role_bg_findrole.png",this.img_hf),u.loadResLocalButton("public/btn_close_01.png","public/btn_close_02",this.btn_hf_qx),u.loadResLocal("LoginScene/tianqiong/ts.png",this.img_del),u.loadResLocal("LoginScene/tianqiong/btn_close.png",this.btn_del_qx),u.loadResLocal("RoleScene/pen.png",this.pen0),u.loadResLocal("RoleScene/pen.png",this.pen1),u.loadResLocalButton("RoleScene/gxx/role_btn_09.png","RoleScene/gxx/role_btn_10.png",this.btn_dr),u.loadResLocalButton("RoleScene/gxx/role_btn_07.png","RoleScene/gxx/role_btn_08.png",this.btn_recover),u.loadResLocalButton("RoleScene/gxx/role_btn_03.png","RoleScene/gxx/role_btn_04.png",this.btn_start),u.loadResLocalButton("RoleScene/gxx/role_btn_01.png","RoleScene/gxx/role_btn_02.png",this.submit_btn),u.loadResLocalButton("RoleScene/gxx/role_btn_01.png","RoleScene/gxx/role_btn_02.png",this.btn_c_qx),u.loadResLocalButton("RoleScene/gxx/role_btn_03.png","RoleScene/gxx/role_btn_04.png",this.btn_c_ok),u.loadResLocalButton("RoleScene/gxx/role_btn_11.png","RoleScene/gxx/role_btn_12.png",this.btn_hf_ok),u.loadResLocalButton("LoginScene/tianqiong/btn_notice_1.png","LoginScene/tianqiong/btn_notice_2.png",this.btn_del_ok),u.loadResLocalToggle("RoleScene/gxx/role_tog_01.png","RoleScene/gxx/role_tog_02.png",this.btn_c_zs,this.btn_c_zs.checkMark),u.loadResLocalToggle("RoleScene/gxx/role_tog_03.png","RoleScene/gxx/role_tog_04.png",this.btn_c_fs,this.btn_c_fs.checkMark),u.loadResLocalToggle("RoleScene/gxx/role_tog_05.png","RoleScene/gxx/role_tog_06.png",this.btn_c_ds,this.btn_c_ds.checkMark),u.loadResLocalToggle("RoleScene/gxx/role_tog_07.png","RoleScene/gxx/role_tog_08.png",this.btn_c_nan,this.btn_c_nan.checkMark),u.loadResLocalToggle("RoleScene/gxx/role_tog_09.png","RoleScene/gxx/role_tog_10.png",this.btn_c_nv,this.btn_c_nv.checkMark),this.dynamicDragon(this.fire0,"Animation/fire/fire.dragon"),this.dynamicDragon(this.fire1,"Animation/fire/fire.dragon")},l.dynamicDragon=function(e,n){e.active=!0;var o=e.getComponent(p.ArmatureDisplay);o.dragonAsset=null,o.dragonAtlasAsset=null,s.handleLoad(n,(function(e){e?(o.dragonAsset=e.asset,o.dragonAtlasAsset=e.atlasAsset,o.animationName="Sprite",o.armatureName="Sprite",o.playAnimation("Sprite",0)):console.log("火资源不存在")}))},l.update=function(e){},l.onDestroy=function(){s.resClean(this.roleResList)},n}(b)).prototype,"bg_role",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(J.prototype,"role1_creat",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(J.prototype,"role2_creat",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(J.prototype,"role1_info",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(J.prototype,"role2_info",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(J.prototype,"sp_name",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(J.prototype,"bg_name",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(J.prototype,"randomName",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=n(J.prototype,"img_hf",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(J.prototype,"btn_hf_qx",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=n(J.prototype,"img_del",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(J.prototype,"btn_del_qx",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=n(J.prototype,"btn_dr",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=n(J.prototype,"btn_recover",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=n(J.prototype,"btn_start",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(J.prototype,"submit_btn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=n(J.prototype,"btn_c_qx",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=n(J.prototype,"btn_c_ok",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=n(J.prototype,"btn_hf_ok",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(J.prototype,"btn_del_ok",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(J.prototype,"btn_c_zs",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=n(J.prototype,"btn_c_fs",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=n(J.prototype,"btn_c_ds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=n(J.prototype,"btn_c_nan",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=n(J.prototype,"btn_c_nv",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=n(J.prototype,"fire0",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=n(J.prototype,"fire1",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=n(J.prototype,"pen0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=n(J.prototype,"pen1",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=J))||Z));l._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSocket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIcontrol.ts","./Sendmessage.ts","./RoleScene.ts","./ReconnectionLogic.ts"],(function(e){"use strict";var t,o,n,s,c,i,l,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.director,s=e.Component},function(e){c=e.uiControl},function(e){i=e.sendmessage},function(e){l=e.RoleScene},function(e){r=e.ReconnectionLogic}],execute:function(){o._RF.push({},"04a9bcSKK1NdYxhhQKrsvGd","RoleSocket",void 0);var a=e("RoleSocket",function(e){function o(){for(var t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).endian=void 0,t.connected=!1,t._stamp=NaN,t._socket=null,t._addInputPosition=0,t._input=null,t._output=null,t.host="",t.port=null,t.activeCloseHandle=!1,t.closeCallBack=null,t.url=null,t.isRelogin=!1,t.timeout=0,t.objectEncoding=0,t.disableInput=!1,t._byteClass=null,t._protocols=[],t}t(o,e),o.getInstance=function(){return null==this._instance&&(this._instance=new o),this._instance};var s=o.prototype;return s.createSocket=function(e,t,o){var n=this;if(e&&t>0&&t<65535){var s="ws://"+e+":"+t;s="https:"==window.location.protocol?"wss://"+e+":"+t:"ws://"+e+":"+t,this.isConnected()&&this.url==s||(this._socket&&(this._socket=null),this.isRelogin=o,this.host=e,this.port=t,this.url=s,console.log("创建socket连接："+s),this._socket=new WebSocket(s),this._socket.binaryType="arraybuffer",this._socket.onopen=function(e){return n._onOpen(e)},this._socket.onmessage=function(e){n._onMessage(e.data)},this._socket.onclose=function(e){return n._onClose(e)},this._socket.onerror=function(e){return n._onError(e)},i.connectKey="role_gate",i.clsocket=u)}else console.error("port error")},s._onOpen=function(e){console.log("RoleSocket连接成功"),this.activeCloseHandle=!1,this.isRelogin?(console.log("重登rolesocket，open"),r.getInstance().roleOnSvrConnect()):n.getScene().getChildByName("Canvas").getChildByName("pref_role").getChildByName("Role").getComponent(l).onSvrConnect()},s._onMessage=function(e){var t="";if("#"===e[0]&&(t+=e),""!=t&&-1!=t.indexOf("!")&&"!"==t[t.length-1]){for(var o=t.split("#"),s=0;s<o.length;s++)if(this.isRelogin)r.getInstance().onMsgFromSvr(o[s]);else{if(!n.getScene().isValid)return;n.getScene().getChildByName("Canvas").getChildByName("pref_role").getChildByName("Role").getComponent(l).onMsgFromSvr(o[s])}t=""}},s.activeClose=function(e){this.activeCloseHandle=!0,this.closeCallBack=e,this.isConnected()?this._socket.close():e()},s._onClose=function(e){if(this.activeCloseHandle)this.closeCallBack();else{c.handlerAlert({type:1,content:"连接已中断,点击【确定】进行重连",sF:function(){n.loadScene("LoginScene")}})}console.log("role socket连接关闭"+e)},s._onError=function(e){if(console.log("roleSocket_onError判断是否主动断开："+this.activeCloseHandle),!this.activeCloseHandle){c.handlerAlert({type:1,content:"连接服务器失败请稍后再试,点击【确定】进行重连",sF:function(){n.loadScene("LoginScene")}}),console.log("role socket创建连接错误"+e)}},s.send=function(e){this.isConnected()?this._socket&&this._socket.readyState!=WebSocket.CONNECTING&&this._socket.send(e):console.log("role socket连接中断")},s.cleanSocket=function(){try{this._socket.close()}catch(e){}this._socket&&(this.connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null)},s.close=function(){if(null!=this._socket)try{this._socket.close()}catch(e){}},s.isConnected=function(){return!!this._socket&&(this._socket.readyState==WebSocket.CONNECTING||this._socket.readyState==WebSocket.OPEN)},o}(s));a._instance=null;var u=e("roleSocket",a.getInstance());o._RF.pop()}}}));

System.register("chunks:///_virtual/RrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,r,n,i,o,c,l,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,l=e.Sprite,a=e.Component},function(e){s=e.GameUtil}],execute:function(){var u,p,d,f,m;o._RF.push({},"4de7483KK5MdKuxe6kBICLR","RrItem",void 0);var g=c.ccclass,h=c.property;e("RrItem",(u=g("RrItem"),p=h(l),u((m=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"selected",m,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){s.loadResLocal("LoginScene/tianqiong/bg_rritem.png",this.node.getComponent(l)),s.loadResLocal("HumWin/role_editor_skill_item_bg2.png",this.selected)},o.update=function(e){},t}(a)).prototype,"selected",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/SaleAuctionTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./Sendmessage.ts","./RGBCode.ts","./GameUtil.ts","./AuctionBidTip.ts"],(function(e){"use strict";var t,n,i,o,r,a,l,u,s,c,p,h,m,d,b,g,_,f,S,y,v,C,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node,s=e.EditBox,c=e.Sprite,p=e.Prefab,h=e.UITransform,m=e.instantiate,d=e.Vec3,b=e.Component},function(e){g=e.EventMgr},function(e){_=e.Config},function(e){f=e.default},function(e){S=e.resourcesMgr},function(e){y=e.sendmessage},function(e){v=e.rgbCode},function(e){C=e.GameUtil},function(e){B=e.bidMaxMoneyNum}],execute:function(){var A,I,N,w,L,D,W,T,H,E,z,R,P,U,M,x,O,k,F,G,V,K,j,Z,q,J,Q,X,Y,$,ee,te,ne,ie,oe,re,ae,le,ue,se,ce,pe,he,me,de,be,ge,_e,fe,Se,ye,ve,Ce,Be,Ae,Ie,Ne,we,Le,De,We,Te,He,Ee,ze,Re,Pe,Ue;r._RF.push({},"5b4586ysKZG04Ex+/RWHISc","SaleAuctionTip",void 0);var Me=a.ccclass,xe=a.property,Oe=a.menu;e("SaleAuctionTip",(A=Me("SaleAuctionTip"),I=Oe("拍卖行上架或下架界面/SaleAuctionTip"),N=xe(l),w=xe(l),L=xe(u),D=xe(u),W=xe(s),T=xe(s),H=xe(s),E=xe(c),z=xe(c),R=xe(u),P=xe(l),U=xe(l),M=xe(s),x=xe(s),O=xe(c),k=xe(c),F=xe(p),G=xe(c),V=xe(c),K=xe(c),j=xe(c),Z=xe(c),q=xe(c),J=xe(c),Q=xe(c),X=xe(u),Y=xe(u),$=xe(u),ee=xe(u),te=xe(u),ne=xe(u),ie=xe(u),A(oe=I((ae=t((re=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"title_lab",ae,o(t)),i(t,"propName_lab",le,o(t)),i(t,"propNode",ue,o(t)),i(t,"SaleNode",se,o(t)),i(t,"shelvesNum_input",ce,o(t)),i(t,"bidPrice_input",pe,o(t)),i(t,"onceProce_input",he,o(t)),i(t,"bidIcon_spr",me,o(t)),i(t,"oncePriceIcon_spr",de,o(t)),i(t,"CancelSaleNode",be,o(t)),i(t,"lastTime_lab",ge,o(t)),i(t,"showShelvesNum_lab",_e,o(t)),i(t,"bid_input",fe,o(t)),i(t,"once_input",Se,o(t)),i(t,"icon_spr",ye,o(t)),i(t,"icon1_spr",ve,o(t)),i(t,"comBoBoxPref",Ce,o(t)),i(t,"closeBtn",Be,o(t)),i(t,"lineSp",Ae,o(t)),i(t,"countBgSp",Ie,o(t)),i(t,"bg1Sp",Ne,o(t)),i(t,"bg2Sp",we,o(t)),i(t,"bg3Sp",Le,o(t)),i(t,"bg4Sp",De,o(t)),i(t,"bg5Sp",We,o(t)),i(t,"cutBtn",Te,o(t)),i(t,"addBtn",He,o(t)),i(t,"cancelShelvesBtn",Ee,o(t)),i(t,"wordShelvesBtn",ze,o(t)),i(t,"cancelBtn",Re,o(t)),i(t,"noShelvesBtn",Pe,o(t)),i(t,"CurrencyBtn",Ue,o(t)),t._itemData=null,t._limitAddNum=void 0,t._unShelvesOrderID=void 0,t._full=!1,t._selectCurrencyType=void 0,t._isShelves=!1,t._hasCountDown=!1,t._comboxSelectIndex=0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.init()},r.start=function(){this.loadResByLocal()},r.loadResByLocal=function(){C.loadResLocal("AuctionHouseWin/auctionTip_bg.png",this.node.getComponent(c)),C.loadResLocal("public/btn_close_new.png",this.closeBtn),C.loadResLocal("AuctionHouseWin/auction_line.png",this.lineSp),C.loadResLocal("AuctionHouseWin/setiing_itemFrame.png",this.propNode.getComponent(c)),C.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.countBgSp),C.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.bg1Sp),C.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.bg2Sp),C.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.bg3Sp),C.loadResLocal("AuctionHouseWin/auctionMoney_cut_select.png",this.cutBtn.getComponent(c)),C.setBtnSprite(this.cutBtn,"AuctionHouseWin/auctionMoney_cut_select.png","AuctionHouseWin/auctionMoney_cut_disable.png"),C.loadResLocal("AuctionHouseWin/auctionMoney_add_select.png",this.addBtn.getComponent(c)),C.setBtnSprite(this.addBtn,"AuctionHouseWin/auctionMoney_add_select.png","AuctionHouseWin/auctionMoney_add_disable.png"),C.loadResLocal("AuctionHouseWin/auctionCancelSale_select.png",this.cancelShelvesBtn.getComponent(c)),C.setBtnSprite(this.cancelShelvesBtn,"AuctionHouseWin/auctionCancelSale_select.png","AuctionHouseWin/auctionCancelSale_disable.png"),C.loadResLocal("AuctionHouseWin/auctionWordSale_select.png",this.wordShelvesBtn.getComponent(c)),C.setBtnSprite(this.wordShelvesBtn,"AuctionHouseWin/auctionWordSale_select.png","AuctionHouseWin/auctionWordSale_disable.png"),C.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.CurrencyBtn.getComponent(c)),C.setBtnSprite(this.CurrencyBtn,"AuctionHouseWin/auctionFrame1.png","AuctionHouseWin/auctionFrame2.png","AuctionHouseWin/auctionFrame1.png"),C.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.bg4Sp),C.loadResLocal("AuctionHouseWin/auctionFrame1.png",this.bg5Sp),C.loadResLocal("AuctionHouseWin/cancel_bid_select.png",this.cancelBtn.getComponent(c)),C.setBtnSprite(this.cancelBtn,"AuctionHouseWin/cancel_bid_select.png","AuctionHouseWin/cancel_bid_disable.png"),C.loadResLocal("AuctionHouseWin/auctionCancelSale_select.png",this.noShelvesBtn.getComponent(c)),C.setBtnSprite(this.noShelvesBtn,"AuctionHouseWin/auctionCancelSale_select.png","AuctionHouseWin/auctionCancelSale_disable.png")},r.init=function(){this.initEvent()},r.initEvent=function(){g.addEventListener(f.UPDATESALEAUCTIONITEM,this.setItemUI,this),g.addEventListener(f.SENDWORDSHELVESONITEMBREAKUP,this.sendWordShelvesOnItemBreakUp,this),g.addEventListener(f.CLOSESALEAUCTIONTIP,this.onClose,this)},r.priceLimit=function(e){var t=parseInt(e.string),n=t>0?t:1;n>B&&(n=B,C.onShowTip("最大金额为21亿")),e.string=n},r.showUI=function(e){var t=this;if(e&&e.data)if(this.node.active=!0,this._isShelves=e.isShelves,e.isShelves)this.title_lab.string="上架道具",this.setItemUI(e.data),this.SaleNode.active=!0,this.CancelSaleNode.active=!1,this._full=e.full,this.bg3Sp.node.getChildByName("Label").getComponent(l).string=_.g_auctionCurrency.labels[this._comboxSelectIndex],this.onSelectCurrencySale(),this._limitAddNum=this.getLimitAddNum(e.data);else{this.title_lab.string="下架道具",this._full=!1,this.SaleNode.active=!1,this.CancelSaleNode.active=!0;var n=e.data;this.setItemUI(_.g_aucitonItemList[n.nRecog+""]),this.lastTime_lab.string=C.auctionLastTime(n.dateCompareNum),this.showShelvesNum_lab.string=n.wCount;var i=C.getCurrencyIconSkinByGoldType(n.btMoneyType);S.handleLoad(i,(function(e,n){t.icon_spr.spriteFrame=t.icon1_spr.spriteFrame=n})),this.bid_input.string=n.nCurrentPrice,this.once_input.string=n.nBuyOutPrice,this._unShelvesOrderID=n.nRecog,this._hasCountDown||(this._hasCountDown=!0,this.schedule(this.countDown,1))}},r.countDown=function(){this._isShelves||(this.lastTime_lab.string=C.auctionCountDownHandle(this.lastTime_lab.string))},r.onClickComboHandler=function(e){var t=this,n=e.target;if("CurrencyBtn"==n.name){var i={items:_.g_auctionCurrency.labels,width:n.getComponent(h).width},o=m(this.comBoBoxPref);o.setParent(n),o.setPosition(new d(0,-n.getComponent(h).height/2)),o.getComponent("ComBoBox").upDataView(i,(function(e){t._comboxSelectIndex=_.g_auctionCurrency.labels.indexOf(e),n.getChildByName("Label").getComponent(l).string=e,t.onSelectCurrencySale()}))}},r.setItemUI=function(e){e&&(this._itemData=e),this._itemData&&(this.propName_lab.string=this._itemData.s.DBName,this.propName_lab.color=C.getColorBy16(v.Get2RGB(this._itemData.s.Color)),C.showItemNum(this._itemData,this.propNode,C.getNodeWidth(this.propNode)/2,C.getNodeHeigth(this.propNode)/2))},r.onItem=function(){this._itemData&&C.newShowItemsInf(this._itemData,null,C.getGameSize().width/2,!0)},r.onSelectCurrencySale=function(){var e=this;this._selectCurrencyType=_.g_auctionCurrency.currencyList[this._comboxSelectIndex];var t=C.getCurrencyIconSkinByGoldType(this._selectCurrencyType);console.log("上架物品的icon资源图标："+t),S.handleLoad(t,(function(t,n){e.bidIcon_spr.spriteFrame=e.oncePriceIcon_spr.spriteFrame=n}))},r.onWordShelves=function(){this._full?C.onShowTip("上架数量已满，无法上架"):this._itemData&&C.checkOpenAuctionHouseHandle(_.g_customItemAttr.AuctionNeedLevel[this._selectCurrencyType],_.g_customItemAttr.AuctionNeedRenewLevel[this._selectCurrencyType])&&(C.checkItemCanBreakUp(this._itemData)&&parseInt(this.shelvesNum_input.string)<this._limitAddNum?(C.delBagItems(this._itemData.MakeIndex),y.blessbottle(parseInt(this.shelvesNum_input.string),this._itemData.MakeIndex,this._itemData.s.Name),_.g_auctionBreakUpInfo={name:this._itemData.s.Name,nums:parseInt(this.shelvesNum_input.string)}):y.sendSaleAuction(this._itemData.MakeIndex,this._selectCurrencyType,this.bidPrice_input.string,this.onceProce_input.string),C.checkItemCanBreakUp(this._itemData)?g.raiseEvent("item_hint",[this._itemData,-this._itemData.Dura]):g.raiseEvent("item_hint",[this._itemData,-1]),g.raiseEvent(f.SHOWDRUG_ITEMS))},r.sendWordShelvesOnItemBreakUp=function(e){y.sendSaleAuction(e,this._selectCurrencyType,this.bidPrice_input.string,this.onceProce_input.string)},r.onNoShelves=function(){y.sendOffSaleAuction(this._unShelvesOrderID)},r.onCut=function(){var e=parseInt(this.shelvesNum_input.string)-1;this.shelvesNum_input.string=e>1?e+"":"1"},r.getLimitAddNum=function(e){return C.checkMaterialItemCanBeStacked(e)?e.Dura+1:C.checkDrugItemCanBeStacked(e)?e.Dura:1},r.onAdd=function(){var e=parseInt(this.shelvesNum_input.string)+1;this.shelvesNum_input.string=e>this._limitAddNum?this._limitAddNum+"":e+""},r.onInputTextChanged=function(e){(!e||e&&e.indexOf("-")>-1)&&(this.shelvesNum_input.string="1"),parseInt(this.shelvesNum_input.string)>this._limitAddNum&&(this.shelvesNum_input.string=this._limitAddNum+"")},r.onClose=function(){this._hasCountDown=!1,this.unschedule(this.countDown),this.shelvesNum_input.string="1",_.g_auctionBreakUpInfo=null,g.raiseEvent("clearSaleAuctionTip"),this.node.destroy()},r.onDestroy=function(){g.removeEventListener(f.UPDATESALEAUCTIONITEM,this.setItemUI,this),g.removeEventListener(f.SENDWORDSHELVESONITEMBREAKUP,this.sendWordShelvesOnItemBreakUp,this),g.removeEventListener(f.CLOSESALEAUCTIONTIP,this.onClose,this)},t}(b)).prototype,"title_lab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(re.prototype,"propName_lab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(re.prototype,"propNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(re.prototype,"SaleNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(re.prototype,"shelvesNum_input",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(re.prototype,"bidPrice_input",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(re.prototype,"onceProce_input",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(re.prototype,"bidIcon_spr",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(re.prototype,"oncePriceIcon_spr",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(re.prototype,"CancelSaleNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(re.prototype,"lastTime_lab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(re.prototype,"showShelvesNum_lab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(re.prototype,"bid_input",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(re.prototype,"once_input",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(re.prototype,"icon_spr",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(re.prototype,"icon1_spr",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(re.prototype,"comBoBoxPref",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(re.prototype,"closeBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(re.prototype,"lineSp",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(re.prototype,"countBgSp",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(re.prototype,"bg1Sp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(re.prototype,"bg2Sp",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(re.prototype,"bg3Sp",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(re.prototype,"bg4Sp",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(re.prototype,"bg5Sp",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(re.prototype,"cutBtn",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(re.prototype,"addBtn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(re.prototype,"cancelShelvesBtn",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(re.prototype,"wordShelvesBtn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(re.prototype,"cancelBtn",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(re.prototype,"noShelvesBtn",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(re.prototype,"CurrencyBtn",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=re))||oe)||oe));r._RF.pop()}}}));

System.register("chunks:///_virtual/SaleBagItemSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,i,r,n,a,o,l,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Sprite,c=e.Component},function(e){s=e.GameUtil}],execute:function(){var u,p,m,f,g,S;a._RF.push({},"04f86XwHkFFXq44ahqYm/rT","SaleBagItemSprite",void 0);var h=o.ccclass,y=o.property,d=o.menu;e("default",(u=h("SaleBagItemSprite"),p=d("拍卖行背包item图片模块/SaleBagItemSprite"),m=y(l),u(f=p((S=t((g=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"item",S,n(t)),t}return i(t,e),t.prototype.start=function(){s.loadResLocal("AuctionHouseWin/setiing_itemFrame.png",this.item)},t}(c)).prototype,"item",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/SaveItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,a,n,r,u,o,c,s,m,l,d,p,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,o=t.Sprite,c=t.Label,s=t.Component},function(t){m=t.EventMgr},function(t){l=t.Config},function(t){d=t.default},function(t){p=t.NEW_INFO_TYPE},function(t){f=t.resourcesMgr},function(t){h=t.GameUtil}],execute:function(){var g,v,I,_,N,S,E,F;r._RF.push({},"6b44cG7Yc1FJo5mJ+EmFWFW","SaveItem",void 0);var k=u.ccclass,y=u.property,C=u.menu;t("default",(g=k("SaveItem"),v=C("实例模块/SaveItem"),I=y(o),_=y(c),g(N=v((E=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,a(e,"icon",E,n(e)),a(e,"itemNum",F,n(e)),e.equip_data=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.init=function(t){var e,i=this;(t.res?f.handleLoad(t.res.plist,(function(e){e&&e.getSpriteFrame(t.res.img)&&i.icon&&(i.icon.spriteFrame=e.getSpriteFrame(t.res.img))})):this.icon.getComponent(o).spriteFrame=null,t.data)?(this.equip_data=t,t.data.s.BagEffect.FileIndex&&h.showItemeffect(this.icon.node,t.data),this.itemNum&&(this.itemNum.node.active=!0,h.checkMaterialItemCanBeStacked(t.data,!0)?e="x"+(t.data.Dura+1):h.checkDrugItemCanBeStacked(t.data)&&(e="x"+t.data.Dura),this.itemNum.string=e)):(this.equip_data=null,this.itemNum.node.active=!1,h.removeItemAni(this.icon.node,"effect"))},r.onClickItem=function(){this.equip_data&&(l.g_MoveItems.Items=this.equip_data.data,m.raiseEvent(d.OPEN_NEW_ITEM_INFO,[this.equip_data.data,null,null,null,p.SAVE]))},r.updateItem=function(t){var e,i=t[0];i.s.nIdx==this.equip_data.data.s.nIdx&&(this.itemNum&&(this.itemNum.node.active=!0,h.checkMaterialItemCanBeStacked(i,!0)?e="x"+(i.Dura+1):h.checkDrugItemCanBeStacked(i)&&(e="x"+i.Dura),this.itemNum.string=e))},e}(s)).prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"itemNum",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=S))||N)||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/SavePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts","./SaveItem.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u,s,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Prefab,u=e.instantiate,s=e.Component},function(e){f=e.EquipData},function(e){p=e.default}],execute:function(){var d,h,v,g,b,m,w,y;o._RF.push({},"9e59cfCTwhAEZkHujCCCCYB","SavePageView",void 0);var P=a.ccclass,C=a.property,D=a.menu;e("default",(d=P("SavePageView"),h=D("实例模块/SavePageView"),v=C(c),g=C(l),d(b=h((w=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"contentNode",w,r(t)),i(t,"WarehousePreafb",y,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.initData=function(e,t){if(this.contentNode.children.length)for(var n=0;n<36;n++){var i=new f,r=36*t+n;e[r]&&(i=e[r]),this.contentNode.children[n].getComponent(p).init(i)}else for(var o=36*t;o<36*t+36;o++){console.log("i=",o);var a=new f,c=u(this.WarehousePreafb);if(this.contentNode.addChild(c),e[o])console.log("item_data[i]=",e[o]),a=e[o],c.getComponent(p).init(a)}},t}(s)).prototype,"contentNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"WarehousePreafb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b)||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SaveResToDevice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./ResourcesMgr.ts","./LoginScene.ts","./LoginSceneProgressBar.ts","./SceneCanvas.ts"],(function(e){"use strict";var t,l,i,n,o,s,r,a,c,f,u,h,g,d,p;return{setters:[function(e){t=e.inheritsLoose},function(e){l=e.cclegacy,i=e._decorator,n=e.sys,o=e.assetManager,s=e.native,r=e.Texture2D,a=e.SpriteFrame,c=e.director,f=e.Component},function(e){u=e.GameUtil},function(e){h=e.resourcesMgr},function(e){g=e.LoginScene},function(e){d=e.LoginSceneProgressBar},function(e){p=e.SceneCanvas}],execute:function(){var v,_;l._RF.push({},"f7d59N8HjxKk6PDuS2q9PyO","SaveResToDevice",void 0);var b=i.ccclass,m=(i.property,e("SaveResToDevice",b("SaveResToDevice")(((_=function(e){function l(){for(var t,l=arguments.length,i=new Array(l),n=0;n<l;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this)._urlFromZipUrlA=[],t._base64="data:image/jpeg;base64,",t.writPath=null,t._fileImgL=0,t._fileImgUrlA=[],t._fileTxtL=0,t._fileTxtUrlA=[],t._fileJsonL=0,t._fileJsonUrlA=[],t._fileBinL=0,t._fileBinUrlA=[],t._filePlistL=0,t._filePlistUrlA=[],t._fileAllL=0,t._fileAllUrlA=[],t.resourcesObj=[],t._urlToMd5=null,t._nativeZipAssets=null,t._changeFiles=[],t._url=null,t._isCheckMd5=!1,t.isCocosLoad=!1,t}t(l,e),l.getInstance=function(){return null==this._instance&&(this._instance=new l),this._instance};var i=l.prototype;return i.start=function(){},i.checkRemoteResourcesHandle=function(e,t){void 0===t&&(t=!1),this._isCheckMd5=t,this._url=e,n.isBrowser||n.isNative&&(e.endsWith(".zip")?this.requestRemoteResourcesZipHandle(e):this.requestRemoteSingleResourceHandle(e))},i.loadResourcesFromH5=function(e){var t=this;o.loadRemote(h.httpUrl+e,{ext:".bin",onFileProgress:function(e,t){var l=e/t;console.log("获取远程zip资源包进度 ---\x3e>> %"+100*l)}},(function(e,l){e?console.log("loadRemote err ---\x3e>> ",e):JSZip.loadAsync(l.buffer()).then((function(e){var l=e.files;for(var i in t._fileImgUrlA=[],l)Object.prototype.hasOwnProperty.call(l,i)&&(l[i].dir||(l[i].name.endsWith(".png")||l[i].name.endsWith(".PNG")?t._fileImgUrlA.push(i):l[i].name.endsWith(".txt")?t._fileTxtUrlA.push(i):!t.checkBigJsonFile(l[i].name)&&l[i].name.endsWith(".json")?t._fileJsonUrlA.push(i):l[i].name.endsWith(".bin")||l[i].name.endsWith(".bat")?t._fileBinUrlA.push(i):l[i].name.endsWith(".plist")?t._filePlistUrlA.push(i):console.log(l[i].name)));t._fileImgL=t._fileImgUrlA.length,t._fileTxtL=t._fileTxtUrlA.length,t._fileJsonL=t._fileJsonUrlA.length,t._fileBinL=t._fileBinUrlA.length,t._filePlistL=t._filePlistUrlA.length,console.log("img数量"+t._fileImgL+"---txt数量"+t._fileTxtL+"---json数量"+t._fileJsonL+"---bin和bat数量"+t._fileBinL+"---plist数量"+t._filePlistL),t.loadZipFileListHandle(e)}))}))},i.createMD5ListHandle=function(e){this._changeFiles=[];u.getSaveData("urltomd5")||u.setSaveData("urltomd5",JSON.stringify({})),this._urlToMd5=JSON.parse(u.getSaveData("urltomd5"));this._nativeZipAssets=e,this.checkFileStatusToCreateMD5Handle(e,0)},i.checkFileStatusToCreateMD5Handle=function(e,t){var l=this,i=this._fileAllUrlA[t],n=h.httpUrl+i;e.file(i).async("arraybuffer").then((function(o){var s=SparkMD5.ArrayBuffer.hash(o);l._urlToMd5[n]?l._urlToMd5[n]!=s?(console.log("文件"+l._urlToMd5[n]+"发生改变"),l._urlToMd5[n]=s,l._changeFiles.push(i)):console.log("文件"+l._urlToMd5[n]+"没改变"):(console.log("文件"+n+"不存在, 直接写入md5"),l._urlToMd5[n]=s,l._changeFiles.push(i)),++t<l._fileAllL-1?l.checkFileStatusToCreateMD5Handle(e,t):(console.log("检查文件md5结束, 更新md5有改动的文件数量为"+l._changeFiles.length),u.setSaveData("urltomd5",JSON.stringify(l._urlToMd5)),l._changeFiles.length>0&&l.loadResOnNativeHandle(l._url,e))}))},i.loadResOnNativeHandle=function(e,t,l){var i=this;n.isNative&&function(){var l=s.fileUtils.isFileExist(s.fileUtils.getWritablePath()+e),n=s.fileUtils.isDirectoryExist(s.fileUtils.getWritablePath()+e.substring(0,e.lastIndexOf(".")));if(console.log("---\x3e>>>isFileExist"+l+", isFolderExist"+n),l&&n){var o=s.fileUtils.getWritablePath();console.log("可存储路径 ---\x3e>> ",o),console.log("加载过的资源路径 ---\x3e>> ",e),s.fileUtils.removeFile(s.fileUtils.getWritablePath()+e)}var r=i.checkPathHaveKeyStr(e);if(console.log("keyStr ---\x3e>> ",r),null!=r){var a=t.files,c=0,f=0,u=[];for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h))if(a[h].dir){var g=s.fileUtils.getWritablePath()+r+h;i.checkPath(g)}else f++,u.push(h);i._isCheckMd5?(c=i._changeFiles.length,u=i._changeFiles):c=f;for(var d=function(e){var l=u[e];t.file(l).async("arraybuffer").then((function(e){var t=s.fileUtils.getWritablePath()+r+l;console.log("准备的路径---\x3e>> ",t),e.byteLength>0&&s.fileUtils.writeDataToFile(e,t)&&console.log("写入文件"+t+"成功")}))},p=0;p<c;p++)d(p)}}()},i.requestRemoteResourcesZipHandle=function(e){var t=this;return new Promise((function(l,i){var n=new XMLHttpRequest;n.open("GET",h.httpUrl+e),n.responseType="arraybuffer",console.log(e),n.onreadystatechange=function(){if(4===n.readyState)if(n.status>=200&&n.status<300){console.log("xhr.status",n.status);var l=n.response;console.log(e+"byteLength---\x3e>> ",l.byteLength),JSZip.loadAsync(l).then((function(l){var i=l.files;for(var n in i){if(Object.prototype.hasOwnProperty.call(i,n))i[n].dir||t._fileAllUrlA.push(n)}t._fileAllL=t._fileAllUrlA.length,console.log("文件数量为"+t._fileAllL),t._isCheckMd5?t.createMD5ListHandle(l):t.loadResOnNativeHandle(e,l)}))}else console.log("url "+e+" ---\x3e>> request fail")},n.send()}))},i.getLasturl=function(e){if(null!==e||""!==e){var t=e.split("http://"),l=t[1].indexOf("/")+1;return t[1].substring(l)}return null},i.requestRemoteSingleResourceHandle=function(e,t){var l=this,i=this.getLasturl(e);console.log("requestRemoteSingleResourceHandle:"+e+"this.isCocosLoad:"+this.isCocosLoad);var n=s.fileUtils.getWritablePath()+i.substring(0,i.lastIndexOf("/")),r=s.fileUtils.getWritablePath()+i;s.fileUtils.isFileExist(r);console.log("dirPath ---\x3e>> ",n),console.log("filePath ---\x3e>> ",r),this.isCocosLoad?(console.log("cocos"),o.loadRemote(e,{ext:".bin"},(function(e,t){e?console.log("err ---\x3e>> ",e):(l.checkPath(n),s.fileUtils.writeDataToFile(t.buffer(),r)?console.log("写入文件"+r+"成功"):console.log("失败"))}))):(console.log("XMLhttp"),this.sendHttp(e,"GET").then((function(t){l.checkPath(n),s.fileUtils.writeDataToFile(t,r)?console.log("写入文件"+r+"成功"):console.log("写入文件失败："+r+" 请求路径："+e)})))},i.loadZipFileListHandle=function(e){this.zipFileImgListHandle(e,0);this.zipFileTxtListHandle(e,0);this.zipFileJsonListHandle(e,0);this.zipFileBinListHandle(e,0);this.zipFilePlistListHandle(e,0)},i.zipFileImgListHandle=function(e,t){var l=this;e.file(this._fileImgUrlA[t]).async("base64").then((function(i){var n=l._base64+i;o.loadRemote(n,{ext:".png"},(function(i,n){if(i)console.log("filename",t,l._fileImgUrlA[t]);else{var o=new r;o.image=n;var s=new a;s.texture=o;var c=l._fileImgUrlA[t].substring(l._fileImgUrlA[t].indexOf("/")+1);l.resourcesObj[c]=s,++t<l._fileImgL-1?l.zipFileImgListHandle(e,t):console.log("img结束",l.resourcesObj)}}))}))},i.zipFileTxtListHandle=function(e,t){var l=this;e.file(this._fileTxtUrlA[t]).async("text").then((function(i){var n=l._fileTxtUrlA[t].substring(l._fileTxtUrlA[t].indexOf("/")+1);l.resourcesObj[n]=i,++t<l._fileTxtL-1?l.zipFileTxtListHandle(e,t):console.log("txt结束",l.resourcesObj)}))},i.zipFileJsonListHandle=function(e,t){var l=this;e.file(this._fileJsonUrlA[t]).async("arraybuffer").then((function(i){var n=new Uint8Array(i),o=String.fromCharCode.apply(null,n),s=l._fileJsonUrlA[t].substring(l._fileJsonUrlA[t].indexOf("/")+1);l.resourcesObj[s]=o,++t<l._fileJsonL-1?l.zipFileJsonListHandle(e,t):console.log("json结束",l.resourcesObj)}))},i.zipFileBinListHandle=function(e,t){var l=this;e.file(this._fileBinUrlA[t]).async("arraybuffer").then((function(i){var n=l._fileBinUrlA[t].substring(l._fileBinUrlA[t].indexOf("/")+1);l.resourcesObj[n]=i,++t<l._fileBinL-1?l.zipFileBinListHandle(e,t):console.log("bin结束",l.resourcesObj)}))},i.zipFilePlistListHandle=function(e,t){var l=this;e.file(this._filePlistUrlA[t]).async("blob").then((function(i){var n=window.URL.createObjectURL(i);o.loadAny({url:n,ext:".plist"},(function(i,n){if(i)console.log(i);else{var o=l._filePlistUrlA[t].substring(l._filePlistUrlA[t].indexOf("/")+1);l.resourcesObj[o]=n,++t<l._filePlistL-1?l.zipFilePlistListHandle(e,t):console.log("plist结束",l.resourcesObj)}}))}))},i.checkPath=function(e){console.log("dirPath ---\x3e>> ",e),s.fileUtils.isDirectoryExist(e)?console.log("路径存在",e):(console.log("路径"+e+"不存在, 创建",e),s.fileUtils.createDirectory(e))},i.checkPathHaveKeyStr=function(e){var t=null;return e.startsWith("data")?t="data/":e.startsWith("map")?t="map/":e.startsWith("json")?t="json/":e.startsWith("imageSetRule")?t="imageSetRule/":e.startsWith("graphics")?t="graphics/":e.startsWith("wav")?t="wav/":(console.log("其它类型 ---\x3e>> ","data/"),t="data/"),t},i.checkBigJsonFile=function(e){var t=!1;switch(e){case"resources/json/imageSetRule.json":case"resources/json/imageExportRule.json":case"resources/json1/imageExportRule.json":case"resources/json1/imageSetRule.json":t=!0}return t},i.sendHttp=function(e,t){return new Promise((function(l,i){var n=new XMLHttpRequest;n.open(t,e),n.responseType="arraybuffer",n.onreadystatechange=function(){if(4===n.readyState)if(n.status>=200&&n.status<300){console.log("xhr.status",n.status);var e=n.response;console.log(e,e.byteLength),console.log("res ---\x3e>> ",e,e.byteLength),l(e),e=null,n=null}else i(console.log("request fail"))},n.send()}))},i.arrayBufferToBase64=function(e){for(var t="",l=new Uint8Array(e),i=l.byteLength,n=0;n<i;n++)t+=String.fromCharCode(l[n]);return window.btoa(t)},i.createFileMd5=function(e){return new Promise((function(t,l){var i=new FileReader;console.log("file ---\x3e>> ",e),console.log("fileReader ---\x3e>> ",i),i.onload=function(i){console.log("onload ---\x3e>> ",i.target.result);for(var n="",o=new Uint8Array(i.target.result),s=o.length,r=0;r<s;r++)n+=String.fromCharCode(o[r]);console.log(n,n.length),e.size===n.length?t(SparkMD5.hashBinary(n)):l("读取错误!!")},i.readAsArrayBuffer(e),i.onerror=function(){console.log("读取错误!!")}}))},i.useFetchHandle=function(e){var t=this;fetch(h.httpUrl+e).then((function(e){var t=Number(e.headers.get("content-length")),l=0,i=e.body.getReader(),n=new ReadableStream({start:function(e){!function n(){i.read().then((function(i){var o=i.value;i.done?e.close():(l+=o.length,null==t?console.log("下载数"+t):console.log("当前下载数"+l+" / "+t+" ---\x3e>> ("+(l/t*100).toFixed(2)+" %)"),e.enqueue(o),n())}))}()}});return new Response(n,{headers:e.headers})})).then((function(l){l.arrayBuffer().then((function(e){console.log("data ---\x3e>> ",e)})).then((function(e){return JSZip.loadAsync(e)})).then((function(l){n.isNative?function(){var i,n=l.files,o=[],r=t.checkPathHaveKeyStr(e);for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))if(n[a].dir){var c=s.fileUtils.getWritablePath()+r+a;t.checkPath(c)}else o.push(a);console.log("allFile ---\x3e>> ",o.length),i=o.length;for(var f=function(e){var t=o[e];l.file(t).async("arraybuffer").then((function(e){var l=s.fileUtils.getWritablePath()+r+t;console.log("准备的路径---\x3e>> ",l),e.byteLength>0&&s.fileUtils.writeDataToFile(e,l)&&console.log("写入文件"+l+"成功")}))},u=0;u<i;u++)f(u)}():console.log(l.files)}))}))},i.downloadBigZipHandle=function(e){var t=this;n.isNative&&o.loadRemote(e,{ext:".bin",onFileProgress:function(e,t){console.log("进度: "+(e/t*100).toFixed(2)+"%"),c.getScene().getChildByName("Canvas").getComponent(g).loadRes_bg.getComponent(d).handleProgress("资源解析中",e/t)}},(function(l,i){l?console.log("加载错误",l):JSZip.loadAsync(i.buffer()).then((function(l){console.log("getRomoteZipFile",l.files);var i,n=l.files,o=[],r=t.checkPathHaveKeyStr(e);for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a))if(n[a].dir){var f=s.fileUtils.getWritablePath()+r+a;t.checkPath(f)}else o.push(a);console.log("allFile ---\x3e>> ",o.length),i=o.length;for(var u=0,h=function(e){var t=o[e];l.file(t).async("arraybuffer").then((function(e){u++;var l=s.fileUtils.getWritablePath()+r+t;console.log("准备的路径---\x3e>> ",l),s.fileUtils.isFileExist(l)||e.byteLength>0&&s.fileUtils.writeDataToFile(e,l)&&console.log("写入文件"+l+"成功"),c.getScene().getChildByName("Canvas").getComponent(g).loadRes_bg.getComponent(d).handleProgress("资源下载中",u/i),u==i&&c.getScene().getChildByName("Canvas").getComponent(p).setConfig()}))},v=0;v<i;v++)h(v)}))}))},i.getRomoteZipFile=function(e){return console.log("请求zip包 ---\x3e>>",e),new Promise((function(t,l){JSZipUtils.getBinaryContent(h.httpUrl+e,{progress:function(e){console.log("zip包的进度 ---\x3e>>")},callback:function(e,i){e?l(e):t(i)}})})).then((function(e){return JSZip.loadAsync(e)})).then((function(e){return e}))},i.downloadZipListHandle=function(e){console.log("downloadZipListHandle"),this.zipHandle(0,e)},i.zipHandle=function(e,t){var l=this,i=e;fetch(h.httpUrl+t[i]).then((function(e){e.arrayBuffer().then((function(e){if(console.log("dataL ---\x3e>> ",e.byteLength),n.isNative){var o=t[i],r=s.fileUtils.getWritablePath()+o.substring(0,o.lastIndexOf("."));l.checkPath(r);var a=s.fileUtils.getWritablePath()+o;console.log("zip包的目录 ---\x3e>> ",r),console.log("zip包的文件路径 ---\x3e>> ",a),s.fileUtils.writeDataToFile(e,a)&&(console.log("zip wirte success"),++i<t.length-1?(console.log(t[i]+"zip包写入完成"),l.zipHandle(i,t)):console.log("zip包写入完成"))}}))})).catch((function(e){return console.log("地址: "+t[i]+", 请求失败")}))},l}(f))._instance=null,v=_))||v));e("saveResToDevice",m.getInstance());l._RF.pop()}}}));

System.register("chunks:///_virtual/SaveView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./List.ts","./GameUtil.ts","./SavePageView.ts"],(function(t){"use strict";var e,a,n,i,s,o,r,g,u,c,l,h,p,d,f,m,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Button,g=t.Sprite,u=t.Component},function(t){c=t.EventMgr},function(t){l=t.Config},function(t){h=t.default},function(t){p=t.OPEN_ITEMINFO_WIN_TYPE,d=t.EquipData},function(t){f=t.default},function(t){m=t.GameUtil},function(t){P=t.default}],execute:function(){var v,B,x,y,b,L,C,E,D,S;s._RF.push({},"9db2cC1fQdAgoZnXavGL/+J","SaveView",void 0);var I=o.ccclass,_=o.property,M=o.menu;t("default",(v=I("SaveView"),B=M("弹窗模块/SaveView"),x=_(f),y=_(r),b=_(r),v(L=B((E=e((C=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"pageList",E,i(e)),n(e,"lastBtn",D,i(e)),n(e,"nextBtn",S,i(e)),e.pageWarehouseData=[],e.curPage=1,e.maxPage=3,e}a(e,t);var s=e.prototype;return s.start=function(){this.initWareHouse(),this.initMgr()},s.initMgr=function(){c.addEventListener(h.SAVE_ITEM_TO_GUILDWAREHOUSE,this.updateSave,this)},s.initWareHouse=function(){var t=this;this.pageWarehouseData=[];var e=l.g_BagItemsList,a=[];e.forEach((function(t,e){t&&a.push(t)})),a.sort((function(t,e){return t.s.Need!==e.s.Need?t.s.Need>e.s.Need?-1:1:t.s.NeedLevel!==e.s.NeedLevel?t.s.NeedLevel>e.s.NeedLevel?-1:1:t.s.StdMode!==e.s.StdMode?t.s.StdMode<e.s.StdMode?-1:1:void 0}));var n=Math.ceil(a.length/42);n>this.maxPage?this.maxPage=n:this.maxPage=3,a.forEach((function(e,a){if(e){var n=new d,i=e.s.Looks;n.data=e;var s=m.loadImgData(i,"items");n.type=1,n.res=s,n.win_type=p.LOOKHUMWIN,t.pageWarehouseData.push(n)}})),this.pageList.numItems=this.maxPage,this.onPageChange(this.curPage-1)},s.pageRenderItemHandler=function(t,e){t.getComponent(P).initData(this.pageWarehouseData,e)},s.onPageChange=function(t){var e=null==t?this.pageList.curPageNum:t;this.curPage=e+1,console.log("当前页码：",this.curPage),1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(g).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(g).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(g).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(g).grayscale=!0)},s.onClickLastPage=function(){this.curPage>1&&(this.curPage-=1,1==this.curPage?(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(g).grayscale=!0):(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(g).grayscale=!1),this.curPage<this.maxPage?(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(g).grayscale=!1):(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(g).grayscale=!0),this.pageList.prePage(.5))},s.onClickNextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.curPage==this.maxPage?(this.nextBtn.interactable=!1,this.nextBtn.node.getComponent(g).grayscale=!0):(this.nextBtn.interactable=!0,this.nextBtn.node.getComponent(g).grayscale=!1),this.curPage>1?(this.lastBtn.interactable=!0,this.lastBtn.node.getComponent(g).grayscale=!1):(this.lastBtn.interactable=!1,this.lastBtn.node.getComponent(g).grayscale=!0)),this.pageList.nextPage(.5)},s.updateSave=function(t){for(var e=0;e<this.pageWarehouseData.length;e++)if(this.pageWarehouseData[e]&&this.pageWarehouseData[e].data==t){var a=new d;a.data=null,this.pageWarehouseData[e]=a,this.pageList.numItems=this.maxPage;break}},s.onDestroy=function(){c.removeEventListener(h.SAVE_ITEM_TO_GUILDWAREHOUSE,this.updateSave,this)},s.onEnable=function(){this.pageList.numItems=this.maxPage},e}(u)).prototype,"pageList",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"lastBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(C.prototype,"nextBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=C))||L)||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/SceneCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./AnimationModule.ts","./ResourcesMgr.ts","./GameTypeConfig.ts","./audioManager.ts","./Config.ts","./EventManager.ts","./EventCustom.ts","./InitGame.ts","./ResPreloadMgr.ts","./LoginSceneProgressBar.ts","./LoginSceneSprite.ts","./LoginScene.ts","./SkillModule.ts","./NativeMsgHandle.ts","./HotUpdate.ts","./UIcontrol.ts","./Https.ts"],(function(e){"use strict";var n,t,i,o,a,l,r,s,c,g,u,d,f,p,h,_,m,v,S,b,C,L,y,R,x,N,k,I,U,M,P,w,F,O,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Node,s=e.ProgressBar,c=e.Prefab,g=e.Label,u=e.sys,d=e.assetManager,f=e.Sprite,p=e.director,h=e.instantiate,_=e.Component,m=e.game},function(e){v=e.GameUtil},function(e){S=e.Animationmodule},function(e){b=e.resourcesMgr},function(e){C=e.gameTypeConfig},function(e){L=e.audioManager},function(e){y=e.Config},function(e){R=e.EventMgr},function(e){x=e.default},function(e){N=e.InitGame},function(e){k=e.resPreloadMgr},function(e){I=e.LoginSceneProgressBar},function(e){U=e.LoginSceneSprite},function(e){M=e.LoginScene},function(e){P=e.Skillmodule},function(e){w=e.NativeMsgHandle},function(e){F=e.hotUpdate},function(e){O=e.uiControl},function(e){T=e.https}],execute:function(){var B,A,G,E,H,V,j,z,D,J,q,W,$,Y,K,Q,X,Z,ee,ne,te;a._RF.push({},"d76a5cYNW9ERo6j1V7SUdA+","SceneCanvas",void 0);var ie=l.ccclass,oe=l.property;e("SceneCanvas",(B=ie("SceneCanvas"),A=oe(r),G=oe(r),E=oe(r),H=oe(r),V=oe(s),j=oe(r),z=oe(r),D=oe(c),J=oe(g),B(($=n((W=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,i(n,"load_res_bar",$,o(n)),i(n,"load_mask",Y,o(n)),i(n,"sp_profession",K,o(n)),i(n,"load_game_bg",Q,o(n)),i(n,"load_game_bar",X,o(n)),i(n,"pref_login",Z,o(n)),i(n,"pref_role",ee,o(n)),i(n,"aniPrefab",ne,o(n)),i(n,"version",te,o(n)),n.isLoadGameDone=!1,n._scene_login=null,n._scene_role=null,n.loading=null,n._cb=null,n._noticeRes=null,n._agreementRes=null,n}t(n,e);var a=n.prototype;return a.onLoad=function(){var e=this;y.sandBoxNative=!1,T.init(),T.loginUrl="",T.serverListUrl="",u.isNative?b.httpUrl=md5("http"):(b.httpUrl="",b.packagePathSub=""),b.packagePathSub=b.httpUrl;var n="";n=u.isNative?b.httpUrl+"appConfig.json":b.httpUrl+"appConfig.json?t="+performance.now(),d.loadRemote(n,(function(n,t){if(n)O.handlerAlert({type:1,content:"未获取到服务器地址"});else if(!t||t.json){var i=t.json;i.loginSrvUrl.toUpperCase().startsWith("HTTP")?(T.loginUrl=i.loginSrvUrl+"/",T.serverListUrl=i.loginSrvUrl+"/"):(T.loginUrl="http://"+i.loginSrvUrl+"/",T.serverListUrl="http://"+i.loginSrvUrl+"/"),e.gameInit()}else O.handlerAlert({type:1,content:"地址文件格式出错"})}))},a.start=function(){},a.gameInit=function(){var e=this;this.version.string="Version:v1.0.0.8.202312141119",u.isNative&&this.version.node.on(r.EventType.TOUCH_END,(function(){O.handlerAlert({type:2,content:"缓存清理后游戏将重启，是否现在清理？",sF:function(){d.cacheManager.clearCache(),m.restart()}})}),this.version.node),R.resetEventMgr(),y.CurScene=this,v.loadResLocal("public/img_mask.png",this.load_mask.getChildByName("Sprite").getComponent(f)),v.loadResLocal("LoginScene/gxx/login2.png",this.load_game_bg.getComponent(f)),v.loadResLocal("LoginScene/main_load_bg.png",this.load_game_bar.node.getComponent(f)),v.loadResLocal("LoginScene/main_load$bar.png",this.load_game_bar.node.getChildByName("Bar").getComponent(f)),this.loading=S.playframe(!1,this.load_mask,"Animation/loading/",1,8,100,!0,!1,null,null),y.g_backToRole?this.initFunc():this.loadFunc((function(){C.init(),e._cb=function(){e.initFunc()}}))},a.loadFunc=function(e){var n=this;if(y.sandBoxAPP)e();else{var t=this.load_res_bar.getComponent(f),i=this.load_res_bar.getChildByName("loadResBar").getComponent(f),o=this.load_res_bar.getChildByName("loadResBar").getChildByName("Bar").getComponent(f);v.loadResLocal("LoginScene/gxx/login0.png",t,(function(){v.loadResLocal("LoginScene/main_load_bg.png",i,(function(){v.loadResLocal("LoginScene/main_load$bar.png",o,(function(){u.isNative?n.checkHotUpdate(e):e()}))}))}))}},a.initFunc=function(){var e=this;p.preloadScene("GameScene",(function(n,t){0==e.isLoadGameDone&&e.load_game_bar&&(e.load_game_bar.progress=1/t*n)}),(function(){e.isLoadGameDone=!0,e.load_game_bg&&1==e.load_game_bg.active&&(L.instance.stopAll(),p.loadScene("GameScene"),console.log("游戏场景预加载完成！！！！！！！！！"))})),y.g_backToRole?this.evtMgrLoginViewChangeToRoleViewHandle():(console.log(">-> 登录场景start方法"),this.registeEvents(),N.getInstance().init(),b.resClean("json/loadconfig.txt"))},a.setConfig=function(){this.loadLoginViewHandle((function(){k.handlePreLoad(),y.g_serverconfigtxt.login_mode&&(y.cur_game_type=~~y.g_serverconfigtxt.login_mode)}))},a.loadProgress=function(e,n,t,i,o,a){var l=this;if(e||!n)if(0!=e.length){var r=0;if(this.load_res_bar.active=!0,o)for(var s=0;s<e.length;s++){var c=b.httpUrl+"resources/"+e[s];if(-1==(c=a?c:b.httpUrl+e[s]).indexOf("resources/resources/"))if(u.isNative)d.cacheManager.getCache(c)?(r++,this.load_res_bar.getComponent(I).handleProgress(t,r/e.length),r==e.length&&(n?this.loadResFinish():i())):d.loadRemote(c,(function(o,a){r++,l.load_res_bar.getComponent(I).handleProgress(t,r/e.length),r==e.length&&(n?l.loadResFinish():i())}));else d.loadRemote(c,(function(o,a){r++,l.load_res_bar.getComponent(I).handleProgress(t,r/e.length),r==e.length&&(n?l.loadResFinish():i())}));else r++}else for(s=0;s<e.length;s++){c=b.httpUrl+"resources/"+e[s];c=a?c:b.httpUrl+e[s],console.log("下载资源到缓存："+c),-1==c.indexOf("resources/resources/")?d.downloader.download(c+"@native",c,".png",{onFileProgress:function(e,n){console.log("downloader加载中"+e/n)},maxRetryCount:0,maxConcurrency:1e3,maxRequestsPerFrame:1e3},(function(o,a){r++,l.load_res_bar.getComponent(I).handleProgress(t,r/e.length),r==e.length&&(n?l.loadResFinish():i())})):r++}}else this.loadResFinish();else this.loadResFinish()},a.loadResFinish=function(){this.load_res_bar.active=!1,this._cb(),L.instance.playMusic(y.S_LOGIN_GAME),"sandBox"==y.releaseChannel?(GameSdk.sendVersion(this.version.string),GameSdk.isSimulator((function(e){console.log("GameSdk.isSimulator:"+e)}))):u.isNative&&y.sandBoxNative&&p.getScene().getComponentInChildren(w).loadingComplete()},a.evtMgrLoginViewChangeToRoleViewHandle=function(){var e=this;this.pref_login.active=!1,this._scene_role?this._scene_role.active=!0:b.handleLoad("prefab/loginScene/Role.prefab",(function(n){n&&(e._scene_role=h(n),e._scene_role.setParent(e.pref_role))}))},a.loadLoginViewHandle=function(e){var n=this;this._scene_login?this._scene_login.active=!0:(b.handleLoad("prefab/loginScene/Login.prefab",(function(t){t&&(n._scene_login=h(t),n._scene_login.getComponent(U).init(),n._scene_login.setParent(n.pref_login),n._scene_login.active=!0,O.gxxLoginCreate(n._scene_login),e())})),b.handleLoad("prefab/loginScene/Role.prefab",(function(){})))},a.loadAnimControl=function(e){1==e?(this.load_mask.active=!0,this.loading.ani.play()):(this.loading.ani.stop(),this.load_mask.active=!1)},a.registeEvents=function(){R.addEventListener(x.LOGINVIEW_CHANGETO_ROLEVIEW,this.evtMgrLoginViewChangeToRoleViewHandle,this)},a.handleNotice=function(e){console.log("this._noticeRes ---\x3e>>",e),this._scene_login.getComponent(M).noticeListData=e},a.openLoginNotice=function(){this._scene_login.getComponent(M).onShowNotice()},a.handleAgreement=function(e){this._scene_login.getComponent(M)._agreementRes=e},a.handleVersion=function(e){y.version_config=e.split("\r\n")},a.handleServerConfig=function(e){var n=null;n=e.split("\r\n");for(var t=0;t<n.length;t++)if(n[t]&&-1!=n[t].indexOf("=")){var i=n[t].split("=");i[0]&&i[1]&&(y.g_serverconfigtxt[i[0]]=i[1]),"ip"==i[0]?y.g_serverconfigtxt.ip=i[1]:"port"==i[0]?y.g_serverconfigtxt.port=i[1]:"admin"==i[0]?y.g_serverconfigtxt.admin=i[1]:"quickcode"==i[0]?y.g_serverconfigtxt.quickcode=i[1]:"quickkey"==i[0]?y.g_serverconfigtxt.quickkey=i[1]:"gamelist"==i[0]?y.g_serverconfigtxt.gamelist=i[1]+"="+i[2]:"gamelist1"==i[0]?y.g_serverconfigtxt.gamelist1=i[1]+"="+i[2]:"currencyShowList"==i[0]?y.g_serverconfigtxt.currencyShowList=i[1]:"sLimitFormat"==i[0]?(y.g_serverconfigtxt.sLimitFormat=i[1],y.S_LIMIT_FORMAT=i[1]):"readProgressTime"==i[0]?y.g_serverconfigtxt.readProgressTime=i[1]:"useOldMap"==i[0]&&("0"==i[1]?y.mapType=!0:y.mapType=!1)}n=null,this._scene_login.getComponent(M).initConfig()},a.handleUnpackItem=function(e){var n,t,i,o=null;n=e.split("\r\n");for(var a=0;a<n.length;a++)0!=n[a].indexOf(";")&&""!=n[a]&&-1!=n[a].indexOf(":")&&(t=n[a].split(":")).length>1&&(i=t[0],o=t[1],y.g_unpackList[i]=o);n=null,t=null,i=null,o=null},a.handleFirstName=function(e){var n=e;n=n.toString(),y.firstName=n.split("\r\n"),n=null},a.handleLastName=function(e){var n=e,t=(n=n.toString()).split("\r\n");u.localStorage.setItem("lastName",JSON.stringify(t)),n=null,t=null},a.handleImageSetRule=function(e){u.localStorage.setItem("g_atlasRule",JSON.stringify(e)),Object.keys(e.data.hum).filter((function(e){var n;(n=Number(e.split("-")[0]))<=1145&&(("000000"+n.toString()).slice(-6),y.defaultPath),n=null}))},a.handleRegister=function(e){var n=e;n=n.toString(),y.g_register=n.split("\r\n"),n=null},a.handleMapdesc=function(e){var n=e;n=(n=n.toString()).split("\r\n");for(var t=[],i=0;i<n.length;i++)if(n[i]){if(""==n[i])continue;if(0==n[i].indexOf(";"))continue;-1!=n[i].indexOf(",")&&t.push(n[i].split(","))}u.localStorage.setItem("g_mapdesc",JSON.stringify(t)),t=[],n=null},a.handleCustomFun=function(e){var n=e;y.g_customFun=n.split("\r\n"),n=null},a.handleChargeList=function(e){y.Charge_Value=e},a.handleSkilldesc=function(e){var n=e;n=n.toString(),y.skilldesclist=n.split("\r"),n=null},a.handleItemdescTxt=function(e){},a.handleFilteItemList=function(e){for(var n=e,t={},i=(n=n.toString()).split("\r\n"),o=i.length,a=0;a<o;a++){var l=i[a].split(" ");if(l.length<6)for(var r=0;r<6;r++)l[r]||(l[r]="0");l[3]=1,l[4]=1,1==l[2]?l[2]=!0:l[2]=!1,1==l[3]?l[3]=!0:l[3]=!1,1==l[4]?l[4]=!0:l[4]=!1,1==l[5]?l[5]=!0:l[5]=!1,t[l[1]+""]={itemtype:l[0],itemname:l[1],isshow:l[2],ispickup:l[3],special:l[4],prompt:l[5]}}u.localStorage.getItem("AllItemList")||u.localStorage.setItem("AllItemList",JSON.stringify(t)),b.resClean("data/json/filteitemlist.txt"),n=null,t=null,i=null,o=null},a.handleFilteMonsterList=function(e){},a.handlBelendMode=function(e){var n=e;y.IsBlendFileName=n.split("\r\n"),n=null},a.handleSound=function(e){e&&u.localStorage.setItem("sound_json",JSON.stringify(e))},a.handleRole=function(e){y.role_json=e},a.handleObj_config=function(e){y.obj_config=e},a.handleImageExportRule=function(e){u.localStorage.setItem("g_atlasinfo",JSON.stringify(e))},a.handleItemDescJson=function(e){var n=e;y.g_setingItemDesc=n.toString(),n=null},a.handleCutOffSet=function(e){var n=e;n=n.toLowerCase(),y.g_cutoffset=n.split("\r\n"),n=null},a.handleSkill=function(e){P.onanalyzeJson(e)},a.handleDiySkill=function(e){P.parseDiySkillFile(e)},a.update=function(e){b.update()},a.checkHotUpdate=function(e){F.init(e)},n}(_)).prototype,"load_res_bar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(W.prototype,"load_mask",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(W.prototype,"sp_profession",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(W.prototype,"load_game_bg",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(W.prototype,"load_game_bar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(W.prototype,"pref_login",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(W.prototype,"pref_role",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(W.prototype,"aniPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(W.prototype,"version",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=W))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./GameConfig.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts","./ScreenWinItem.ts"],(function(e){"use strict";var t,s,i,n,r,l,h,c,a,o,S,I,d,_,u,f,p,m,g,R,v,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,h=e.Prefab,c=e.Node,a=e.ScrollView,o=e.Sprite,S=e.instantiate,I=e.Component},function(e){d=e.EventMgr},function(e){_=e.Config},function(e){u=e.U_Type},function(e){f=e.default},function(e){p=e.EquipData},function(e){m=e.gameConfig},function(e){g=e.sendmessage},function(e){R=e.GameApi},function(e){v=e.GameUtil},function(e){N=e.default}],execute:function(){var b,E,x,M,L,k,D,G,C,A,y,O,U,w,T,B,F,H,W;r._RF.push({},"86a2eh7hslCuLVcnnJ41tk3","ScreenWin",void 0);var P=l.ccclass,z=l.menu,J=l.property;e("default",(b=P("ScreenWin"),E=z("弹窗模块/ScreenWin"),x=J(h),M=J(c),L=J(a),k=J(o),D=J(o),G=J(o),C=J(o),b(A=E(((W=function(e){function t(){for(var t,s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"ItemPrefab",O,n(t)),i(t,"ContentNode",U,n(t)),i(t,"ItemScrollview",w,n(t)),i(t,"BG",T,n(t)),i(t,"CloseBtn",B,n(t)),i(t,"vscroll_down",F,n(t)),i(t,"vscroll_up",H,n(t)),t.ScreenWinItems=[],t.isOpenWin=!1,t.InType=void 0,t.Sech_list=[],t.nInPutType=void 0,t.nInIdx=void 0,t.ScreenSelectIdx=-1,t.sellTypes=void 0,t}s(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance};var r=t.prototype;return r.start=function(){var e=this;v.loadResLocal("ScreenWin/00029.png",this.BG,(function(){var t=e.BG.spriteFrame;e.BG.spriteFrame.reset({originalSize:t.originalSize,rect:t.rect,offset:t.offset,isRotate:t.rotated,borderTop:77,borderBottom:30,borderLeft:53,borderRight:53})})),v.loadResLocal("public/btn_close_new.png",this.CloseBtn),v.loadResLocal("SplitResource/Btns/vscroll$down.png",this.vscroll_down),v.loadResLocal("SplitResource/Btns/vscroll$up.png",this.vscroll_up),_.MainScene.openScreen=!0,this.InType=0,this.initMgr(),this.isOpenWin=!0,_.MainScene.openScreen=!0},r.initMgr=function(){d.addEventListener("Screen_Uptade_Items",this.Uptade_Items,this),d.addEventListener("Screen_Del_Items",this.Del_Items,this),d.addEventListener(f.SCREEN_ADD_ITEMS,this.Add_Items,this),d.addEventListener(f.SCREEN_REFRESH_ITEMS,this.Refresh_Items,this),d.addEventListener("close_screenwin",this.closeView,this),d.addEventListener(f.UPDATE_SCREENWIN_ITEMS,this.eventMgrData,this),d.addEventListener(f.SCREEN_REFRESH_SEARCHITEMS,this.RefreshSearchItems,this)},r.Uptade_Items=function(e,t,s){for(var i=0;i<this.Sech_list.length;i++)null!=this.Sech_list[i]&&this.Sech_list[i].MakeIndex==e&&(this.Sech_list[i].Dura=t,this.Sech_list[i].DuraMax=s)},r.chooseClose=function(){4!=this.InType&&5!=this.InType||this.closeView()},r.Refresh_Items=function(){this.initData()},r.RefreshSearchItems=function(){this.SearchItems(this.nInIdx,this.nInPutType,this.sellTypes)},r.Del_Items=function(e){for(var t=0;t<this.Sech_list.length;t++)if(null!=this.Sech_list[t]&&this.Sech_list[t].MakeIndex==e){this.Sech_list[t]=null,this.initData();break}},r.Add_Items=function(e){if(null!=e)for(var t=0;t<this.Sech_list.length;t++)if(null==this.Sech_list[t]){this.Sech_list[t]=e,this.initData();break}},r.SearchItems=function(e,t,s){var i=this;this.InType=t,this.Sech_list=[],this.nInPutType=t,this.nInIdx=e;var n=!1,r=_.g_BagItemsList,l=_.g_HeroBagItemsList;switch(s&&(s=s),t){case 1:for(var h=0;h<r.length;h++)if(null!=r[h]){var c=v.getItemType(r[h].s);0!=(d=r[h].s.OverLap)&&1!=d||(e==_.U_ARMRINGL||e==_.U_ARMRINGR?(c==_.U_ARMRINGL||c==_.U_ARMRINGR||e==_.U_ARMRINGL&&25==r[h].s.StdMode)&&this.Sech_list.push(r[h]):e==_.U_RINGL||e==_.U_RINGR?c!=_.U_RINGL&&c!=_.U_RINGR||this.Sech_list.push(r[h]):e==_.U_FASHIONARMRINGL||e==_.U_FASHIONARMRINGR?c!=_.U_FASHIONARMRINGL&&c!=_.U_FASHIONARMRINGR||this.Sech_list.push(r[h]):e==_.U_FASHIONRINGL||e==_.U_FASHIONRINGR?c!=_.U_FASHIONRINGL&&c!=_.U_FASHIONRINGR||this.Sech_list.push(r[h]):c==e&&this.Sech_list.push(r[h]))}break;case 2:for(h=0;h<r.length;h++)if(n=!1,null!=r[h]&&r[h].s.StdMode<=3&&"修复神水"!=r[h].s.Name){for(var a=_.g_DrugItemsList,o=0;o<a.length;o++)if(null!=a[o]&&r[h].s.Name==a[o].s.Name){n=!0;break}a=null,n||this.Sech_list.push(r[h])}break;case 3:if("*"==e)for(h=0;h<r.length;h++)r[h]&&this.Sech_list.push(r[h]);else if(e){var S=e.split(",");for(h=0;h<r.length;h++)r[h]&&-1!=S.indexOf(r[h].s.StdMode+"")&&this.Sech_list.push(r[h])}break;case 4:for(h=0;h<r.length;h++)null!=r[h]&&r[h].s.StdMode>4&&this.filterItemByStdMode(r[h],s);break;case 5:for(h=0;h<r.length;h++)null!=r[h]&&this.filterItemByStdMode(r[h],s);break;case 6:for(h=0;h<r.length;h++)r[h]&&r[h].s.Name==e&&this.Sech_list.push(r[h]);break;case 7:for(h=0;h<l.length;h++)if(null!=l[h]){c=v.getItemType(l[h].s);0!=(d=l[h].s.OverLap)&&1!=d||(e==_.U_ARMRINGL||e==_.U_ARMRINGR?c!=_.U_ARMRINGL&&c!=_.U_ARMRINGR||this.Sech_list.push(l[h]):e==_.U_RINGL||e==_.U_RINGR?c!=_.U_RINGL&&c!=_.U_RINGR||this.Sech_list.push(l[h]):e==_.U_FASHIONARMRINGL||e==_.U_FASHIONARMRINGR?c!=_.U_FASHIONARMRINGL&&c!=_.U_FASHIONARMRINGR||this.Sech_list.push(l[h]):e==_.U_FASHIONRINGL||e==_.U_FASHIONRINGR?c!=_.U_FASHIONRINGL&&c!=_.U_FASHIONRINGR||this.Sech_list.push(l[h]):c==e&&this.Sech_list.push(l[h]))}break;case 8:for(h=0;h<r.length;h++)r[h]&&this.Sech_list.push(r[h]);break;case 9:for(h=0;h<r.length;h++)if(r[h]){var I=r[h].s.Expand1;4!=(d=r[h].s.OverLap)&&5!=d&&6!=d&&7!=d||I!=e-u.GODBLESS1+1&&0!=I||this.Sech_list.push(r[h])}break;case 10:for(h=0;h<r.length;h++)if(null!=r[h]){var d;I=r[h].s.Expand1;2!=(d=r[h].s.OverLap)&&3!=d&&6!=d&&7!=d||I!=e-u.JEWELRY1+1&&0!=I&&7!=I||this.Sech_list.push(r[h])}break;case 11:for(h=0;h<r.length;h++)r[h]&&this.Sech_list.push(r[h]);break;case 12:var f=r;4!=m.drugType&&5!=m.drugType&&6!=m.drugType||(f=_.g_HeroBagItemsList);for(h=0;h<f.length;h++){var p=f[h];if(p)switch(m.drugType){case 0:case 4:0==p.s.StdMode&&p.s.AC>0&&0==p.s.MAC&&this.Sech_list.push(p);break;case 1:case 5:0==p.s.StdMode&&0==p.s.AC&&p.s.MAC>0&&this.Sech_list.push(p);break;case 2:case 6:0==p.s.StdMode&&p.s.AC>0&&p.s.MAC>0&&this.Sech_list.push(p);break;case 3:(2!=p.s.StdMode&&3!=p.s.StdMode||-1==p.s.Name.indexOf("传送"))&&-1==p.s.Name.indexOf("回城")&&-1==p.s.Name.indexOf("地牢逃脱")||this.Sech_list.push(p)}}f=null;break;case 13:for(h=0;h<r.length;h++)r[h]&&this.Sech_list.push(r[h]);break;case 14:for(h=0;h<r.length;h++)if(r[h]){if((g=r[h].s.StdMode)<5||31==g||40==g||41==g||49==g||g>54&&g<90&&62!=g&&64!=g&&65!=g||175==g||176==g||177==g||211==g)continue;this.Sech_list.push(r[h])}break;case 15:for(h=0;h<r.length;h++){if(r[h])55!=(g=r[h].s.StdMode)&&56!=g&&57!=g&&58!=g&&175!=g||this.Sech_list.push(r[h])}break;case 16:for(h=0;h<r.length;h++){var g;if(r[h])59!=(g=r[h].s.StdMode)&&176!=g&&177!=g||this.Sech_list.push(r[h])}break;case 17:for(var R=0;R<r.length;R++)if(r[R]){r[R].s.OverLap;v.isEquip(r[R].s.StdMode)&&this.Sech_list.push(r[R])}break;case 18:for(var N=0;N<r.length;N++)r[N]&&r[N].btFluteCount>0&&function(){var e=v.isEquip(r[N].s.StdMode),t=0;r[N].Flutes.forEach((function(e,s){e.GemIndex>0&&e.GemCount>0&&t++})),0==t&&e&&i.Sech_list.push(r[N])}()}r=null,this.initData(),this.ScreenSelectIdx=-1},r.initData=function(){var e=this;if(this.ContentNode&&(this.ContentNode.destroyAllChildren(),this.ScreenWinItems=[]),this.Sech_list.length<26)for(var t=0;t<25;t++){var s=this.Sech_list[t];if(s){if(this.ItemPrefab){var i=S(this.ItemPrefab),n=i.getComponent(N);this.ContentNode.addChild(i),n.index=t;var r=v.loadImgData(s.s.Looks,"items"),l=new p;l.res=r,l.data=s,l.type=this.nInIdx,l.win_type=this.nInIdx,n.initNewData(l),n.onItemClick=this.onItemClicked.bind(this),this.ScreenWinItems.push(n)}}else if(this.ItemPrefab){var h=S(this.ItemPrefab);this.ContentNode.addChild(h);var c=h.getComponent(N);c.index=t,c.onItemClick=this.onItemClicked.bind(this),this.ScreenWinItems.push(c)}}else this.Sech_list.forEach((function(t,s){if(t.s&&e.ItemPrefab){var i=S(e.ItemPrefab);e.ContentNode.addChild(i);var n=i.getComponent(N);n.index=s;var r=v.loadImgData(t.s.Looks,"items"),l=new p;l.res=r,l.data=t,l.type=e.nInIdx,l.win_type=e.nInIdx,n.initNewData(l),n.onItemClick=e.onItemClicked.bind(e),e.ScreenWinItems.push(n)}}))},r.onItemClicked=function(e){var t=this;this.ScreenWinItems.forEach((function(s,i){i==e?(t.ScreenSelect(i),s.setSelected(!0)):s.setSelected(!1)}))},r.scrollUp=function(){this.ItemScrollview.scrollToTop(1)},r.scrollDown=function(){this.ItemScrollview.scrollToBottom(1)},r.closeView=function(){this.ScreenWinItems.forEach((function(e,t){v.removeItemAni(e.itemSprite.node,"effect")})),this.node&&this.node.destroy()},r.filterItemByStdMode=function(e,t){t?t.indexOf(e.s.StdMode+"")>-1&&this.Sech_list.push(e):this.Sech_list.push(e)},r.onDestroy=function(){this.isOpenWin=!1,_.MainScene.openScreen=!1,d.removeEventListener("Screen_Uptade_Items",this.Uptade_Items,this),d.removeEventListener("Screen_Del_Items",this.Del_Items,this),d.removeEventListener(f.SCREEN_ADD_ITEMS,this.Add_Items,this),d.removeEventListener(f.SCREEN_REFRESH_ITEMS,this.Refresh_Items,this),d.removeEventListener("close_screenwin",this.closeView,this),d.removeEventListener(f.UPDATE_SCREENWIN_ITEMS,this.eventMgrData,this),d.removeEventListener(f.SCREEN_REFRESH_SEARCHITEMS,this.RefreshSearchItems,this)},r.updateData=function(e,t,s){console.log("onUpdate"),this.SearchItems(e,t,s)},r.eventMgrData=function(e){e[2]?this.updateData(e[0],e[1],e[2]):this.updateData(e[0],e[1])},r.ScreenSelect=function(e){if(this.ScreenSelectIdx=e,null!=this.Sech_list[this.ScreenSelectIdx]&&this.Sech_list[this.ScreenSelectIdx].s){switch(this.nInPutType){case 1:_.g_OpenIdx=3;break;case 9:_.g_OpenIdx=3;var t=v.getItemType(this.Sech_list[this.ScreenSelectIdx].s),s=this.Sech_list[this.ScreenSelectIdx].s.Expand1;if(209==t||208==t||207==t)if(0==s){for(var i=0;i<12;i++)if(null==_.g_GodBlessItems[i]){_.g_SelectIndex=i+u.GODBLESS1;break}}else _.g_SelectIndex=+u.GODBLESS1+s-1;else if(0==s){for(i=0;i<12;i++)if(null==_.g_GodBlessItems[i]){_.g_SelectIndex=i+u.GODBLESS1;break}}else _.g_SelectIndex=u.GODBLESS1+s-1;break;case 10:_.g_OpenIdx=3;t=v.getItemType(this.Sech_list[this.ScreenSelectIdx].s),s=this.Sech_list[this.ScreenSelectIdx].s.Expand1;if(209==t||208==t||207==t)if(0==s||7==s){for(i=0;i<6;i++)if(null==_.g_JewelryBoxItems[i]){_.g_SelectIndex=i+u.JEWELRY1;break}}else _.g_SelectIndex=u.JEWELRY1+s-1;else if(0==s||7==s){for(i=0;i<6;i++)if(null==_.g_JewelryBoxItems[i]){_.g_SelectIndex=i+u.JEWELRY1;break}}else _.g_SelectIndex=u.JEWELRY1+s-1;break;case 2:if(_.g_OpenIdx=6,-1!=_.g_setDrugNumber){var n=_.g_DrugItemsList;for(i=0;i<n.length;++i)n[i]&&n[i].s.Name==this.Sech_list[this.ScreenSelectIdx].s.Name&&(n[i]=null);n=null,_.g_DrugButNumber=_.g_setDrugNumber,_.g_setDrugNumber=-1,_.g_DrugItemsList[_.g_DrugButNumber]=this.Sech_list[this.ScreenSelectIdx],d.raiseEvent("Show_Bag_Item_ico"),d.raiseEvent(f.SHOWDRUG_ITEMS),d.raiseEvent("Drug_Item_ico"),d.raiseEvent("Drug_Set_Items",[_.g_DrugButNumber]),R.showScreen(!1),v.recordDrugBarSetting(),d.raiseEvent("Show_Bag_Item_ico")}return;case 4:_.g_OpenIdx=8,g.sendQueryRepairCost(_.G_NPC_ID,this.Sech_list[this.ScreenSelectIdx].MakeIndex,this.Sech_list[this.ScreenSelectIdx].s.Name);break;case 5:_.g_OpenIdx=9,g.sendQueryPrice(_.G_NPC_ID,this.Sech_list[this.ScreenSelectIdx].MakeIndex,this.Sech_list[this.ScreenSelectIdx].s.Name);break;case 6:_.g_OpenIdx=13;break;case 7:_.g_OpenIdx=14;break;case 8:_.g_OpenIdx=19;break;case 11:_.g_OpenIdx=23;break;case 12:return d.raiseEvent("setDrugImg",[this.Sech_list[this.ScreenSelectIdx]]),void R.showScreen(!1);case 13:_.g_OpenIdx=25,g.sendTranslateChoose(this.Sech_list[this.ScreenSelectIdx].MakeIndex);break;case 14:_.g_OpenIdx=26;break;case 15:_.g_OpenIdx=27;break;case 16:_.g_OpenIdx=28;break;case 17:return _.g_MoveItems.Items=this.Sech_list[this.ScreenSelectIdx],void g.sendBagUseMode47Item(this.Sech_list[this.ScreenSelectIdx].MakeIndex,_.g_WaitItems.Items.MakeIndex);case 18:return _.g_MoveItems.Items=this.Sech_list[this.ScreenSelectIdx],void g.sendBagUseItem(this.Sech_list[this.ScreenSelectIdx].MakeIndex,_.g_WaitItems.Items.MakeIndex,!1)}_.g_MoveItems.Items=this.Sech_list[this.ScreenSelectIdx],v.newShowItemsInf(_.g_MoveItems.Items)}},t}(I))._instance=null,O=t((y=W).prototype,"ItemPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(y.prototype,"ContentNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(y.prototype,"ItemScrollview",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(y.prototype,"BG",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(y.prototype,"CloseBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(y.prototype,"vscroll_down",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(y.prototype,"vscroll_up",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=y))||A)||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenWinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,r,o,c,a,l,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,l=e.Sprite,s=e.Component},function(e){u=e.resourcesMgr},function(e){p=e.GameUtil}],execute:function(){var m,f,g,d,h,S,b,v,y,B;o._RF.push({},"104d5LPnZRPPojpdp0IHX2h","ScreenWinItem",void 0);var I=c.ccclass,G=c.property,_=c.menu;e("default",(m=I("ScreenWinItem"),f=_("实例模块/ScreenWinItem"),g=G(a),d=G(l),h=G(l),m(S=f((v=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"selectBG",v,r(t)),n(t,"itemSprite",y,r(t)),n(t,"BG",B,r(t)),t.index=0,t.onItemClick=null,t}i(t,e);var o=t.prototype;return o.start=function(){var e=this.selectBG.getComponent(l);p.loadResLocal("ScreenWin/img_bag_bg1.png",e),p.loadResLocal("ScreenWin/img_bag_bg.png",this.BG)},o.initNewData=function(e){var t=this;e.res&&u.resLoad(e.res.plist,(function(i){i&&t.itemSprite&&i.getSpriteFrame(e.res.img)&&(t.itemSprite.spriteFrame=i.getSpriteFrame(e.res.img))})),e&&e.data.s.BagEffect.FileIndex&&p.showItemeffect(this.itemSprite.node,e.data)},o.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},o.setSelected=function(e){this.selectBG.active=e},t}(s)).prototype,"selectBG",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(b.prototype,"itemSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(b.prototype,"BG",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S)||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/Sendmessage.ts",["cc","./Config.ts","./MsgSM.ts","./MsgCM.ts","./EnDecode.ts","./CodeUtil.ts","./EventManager.ts","./EventCustom.ts","./Struct.ts","./GameUtil.ts","./ItemMgr.ts","./UIcontrol.ts","./objectcontrol.ts","./objectmanage.ts"],(function(e){"use strict";var n,t,E,i,s,S,c,a,T,A,o,d,r,M,_,D;return{setters:[function(e){n=e.cclegacy,t=e.sys,E=e.director},function(e){i=e.Config},function(e){s=e.default},function(e){S=e.default},function(e){c=e.EnDecode},function(e){a=e.codeUtil},function(e){T=e.EventMgr},function(e){A=e.default},function(e){o=e.Struct_ins},function(e){d=e.GameUtil},function(e){r=e.ItemMgr},function(e){M=e.uiControl},function(e){_=e.Objectcontrol},function(e){D=e.ObjectManage}],execute:function(){n._RF.push({},"06d5fihtkVDpa1V+/6nwlXT","Sendmessage",void 0);var L=e("Sendmessage",function(){function e(){this.m_nSync=0,this.connectKey="",this.roleNetParam=void 0,this.certifyCode=void 0,this.UID=void 0,this.isToken=void 0,this.clsocket=null}e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance};var n=e.prototype;return n.connectLoginSvr=function(e,n,t){this.connectKey="login_gate",this.clsocket.connectToGameGate=!1,this.clsocket.connect(e,n,t)},n.sendreqserver=function(e){var n=c._TDEFAULTMESSAGE(s.GETSERVERLIST,i.CLIENT_JS_VERSION_NUMBER,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGetGameList=function(e){var n=a._LOWORD(i.CLIENT_JS_VERSION_NUMBER),t=a._HIWORD(i.CLIENT_JS_VERSION_NUMBER),E=c._TDEFAULTMESSAGE(S.GETGAMELIST,e,n,t,0);this.sendPacket(E)},n.sendNoticeOK=function(e,n){for(var E=n.length,s=((65535&e.series)<<16|65535&e.tag)>>>0,T=1620890820,A=346375060,o=0,d=new Uint8Array(n).buffer,r=new DataView(d);E>=12;)s=(s=(s+r.getUint32(o,!0)&4294967295)>>>0)-(T=(T+r.getUint32(o+4,!0)&4294967295)>>>0)>>>0,T=(T+(A=(A+r.getUint32(o+8,!0)&4294967295)>>>0)&4294967295)>>>0,A=((A=((A=A-(s=((s=s-A>>>0)^A>>>13)>>>0)>>>0)+(T=((T=T-s>>>0)^s<<8)>>>0)&4294967295)>>>0)^T>>>3)>>>0,o+=12,E-=12;A=(A+n.length&4294967295)>>>0,E>=11&&(A=(A+(r.getUint8(o+10)<<24)&4294967295)>>>0),E>=10&&(A=(A+(r.getUint8(o+9)<<16)&4294967295)>>>0),E>=9&&(A=(A+(r.getUint8(o+8)<<8)&4294967295)>>>0),E>=8&&(T=(T+(r.getUint8(o+7)<<24)&4294967295)>>>0),E>=7&&(T=(T+(r.getUint8(o+6)<<16)&4294967295)>>>0),E>=6&&(T=(T+(r.getUint8(o+5)<<8)&4294967295)>>>0),E>=5&&(T=(T+r.getUint8(o+4)&4294967295)>>>0),E>=4&&(s=(s+(r.getUint8(o+3)<<24)&4294967295)>>>0),E>=3&&(s=(s+(r.getUint8(o+2)<<16)&4294967295)>>>0),E>=2&&(s=(s+(r.getUint8(o+1)<<8)&4294967295)>>>0),E>=1&&(s=(s+r.getUint8(o+0)&4294967295)>>>0),s=s-T>>>0,T=(T+A&4294967295)>>>0,A=((A=((A=A-(s=((s=s-A>>>0)^A>>>13)>>>0)>>>0)+(T=((T=T-s>>>0)^s<<8)>>>0)&4294967295)>>>0)^T>>>3)>>>0;var M=12;(t.OS.ANDROID||t.OS.IOS)&&(M=9),i.g_isOnWindows&&(M=12);var _=c._TDEFAULTMESSAGE(S.LOGINNOTICEOK,a._MAKELONG(1024,768),a._LOWORD(A),a._HIWORD(A),M);this.sendPacket(_)},n.SendClientMessage=function(){var e=c._TDEFAULTMESSAGE(S.CLIENTDATAFILE,0,0,0,0),n=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),t=c.fnEncode6BitBuf(n,21);this.sendPacket(e,t)},n.sendLogin=function(e,n){this.isToken&&(this.isToken=!1,e+="@2");var t=c._TDEFAULTMESSAGE(S.IDPASSWORD,0,0,1,0),E=c.EncodeString(e+"/"+n+"/45DCD01EAA70DFA6B7AFA005CB0656E4");this.sendPacket(t,E)},n.sendSelectServer=function(e){var n=c._TDEFAULTMESSAGE(S.SELECTSERVER,i.sectionInfo,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.SendCaiji=function(e){var n=i.g_ChannelId,t=a._MAKEWORD(24,i.g_Termial),E=c._TDEFAULTMESSAGE(e,n,t,0,0),s=c.EncodeString("0123456789ab ");this.sendPacket(E,s)},n.SendUseItem=function(e,n){var t=c._TDEFAULTMESSAGE(S.EAT,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.getBackPassword=function(e){var n=c._TDEFAULTMESSAGE(S.GETBACKPASSWORD,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendChangePassword=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.CHANGEPASSWORD,0,0,0,0),i=c.EncodeString(e+"\t"+n+"\t"+t);this.sendPacket(E,i)},n.sendUpdateAccount=function(e,n){var t=c._TDEFAULTMESSAGE(S.UPDATEUSER,0,0,0,0),E=c.fnEncode6BitBuf(e,e.length)+c.fnEncode6BitBuf(n,n.length);this.sendPacket(t,E)},n.SendUpdatidcard=function(e){var n=c._TDEFAULTMESSAGE(S.UPDATIDCARD,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendNewAccount=function(e,n){i.g_ChannelId,a._MAKEWORD(24,i.g_Termial);var t=c._TDEFAULTMESSAGE(S.ADDNEWUSER,0,0,0,0),E=c.fnEncode6BitBuf(e,e.length)+c.fnEncode6BitBuf(n,n.length);this.sendPacket(t,E)},n.connectRoleSvr=function(e,n,t){},n.sendQueryRole=function(e,n){if("game_gate"!=this.connectKey&&"game_gate_relink"!=this.connectKey){var t=i.g_ChannelId,E=a._MAKEWORD(24,i.g_Termial);this.certifyCode=n,this.UID=e;var s=c._TDEFAULTMESSAGE(S.QUERYCHR,i.sectionInfo,0,E,t),T=c.EncodeString(e+"/"+n);this.sendPacket(s,T)}},n.sendSelectRole=function(e,n){var t=c._TDEFAULTMESSAGE(S.SELCHR,i.sectionInfo,0,1,0),E=c.EncodeString(e+"/"+n);this.sendPacket(t,E)},n.sendDeleteRole=function(e){var n=c._TDEFAULTMESSAGE(S.DELCHR,i.sectionInfo,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendNewRole=function(e,n,t,E,s){var a=c._TDEFAULTMESSAGE(S.NEWCHR,i.sectionInfo,0,0,0),T=c.EncodeString(e+"/"+n+"/"+t+"/"+E+"/"+s);i.g_tempJob=s+"|"+E,i.g_tempName=n,this.sendPacket(a,T)},n.sendQueryDeleteChr=function(e){var n=c._TDEFAULTMESSAGE(S.QUERYDELCHR,i.sectionInfo,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGetBackBeleteChr=function(e,n){var t=c._TDEFAULTMESSAGE(S.GETBACKDELCHR,i.sectionInfo,0,0,0),E=c.EncodeString(e+"/"+n);this.sendPacket(t,E)},n.sendRoleMessage=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(e,0,n,E,t);this.sendPacket(i)},n.sendRunLogin=function(e,n,t){i.port_key;var E=i.app_imei,s=i.app_imei,S="0";"game_gate_relink"==this.connectKey&&(S="1");var a="**YAM`GpukYop/"+e+"/"+n+"/"+t+"/"+i.CLIENT_VERSION_NUMBER+"/Yq`rQbyPIbyuLsPq/"+S+"/"+i.RUNLOGINCODE+"/"+E+"/"+s+"/800/600//PPU=Q@i@NsAsLpHtWsDgIRynI_D/",T=c.EncodeString(a);this.m_nSync<9?this.m_nSync++:this.m_nSync=0;var A="#"+this.m_nSync+T+"!";this.clsocket.send(A),i.verify_through=!0},n.connectGameSvr=function(e,n,t){},n.sendOpenMinimap=function(){var e=c._TDEFAULTMESSAGE(S.WANTMINIMAP,0,0,0,0);this.sendPacket(e)},n.SendNpcCMD=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.MERCHANTDLGSELECT,n,t,0,0),i=c.EncodeString(e);this.sendPacket(E,i)},n.GetShopItems=function(e,n){var t=c._TDEFAULTMESSAGE(S.GETSHOPITEMS,0,e,n,0);this.sendPacket(t,"")},n.GetStrangeItems=function(){var e=c._TDEFAULTMESSAGE(S.GETSHOPITEMS,0,5,0,0);this.sendPacket(e,"")},n.sendRequestAuctionList=function(){var e=c._TDEFAULTMESSAGE(S.AUCTIONLIST,0,0,0,0);this.sendPacket(e)},n.requestRankDataByType=function(e){var n=c._TDEFAULTMESSAGE(S.NEWRANKING,e,0,0,0);console.log("defMsg=",n),this.sendPacket(n)},n.heroGuard=function(e){var n=c._TDEFAULTMESSAGE(S.HEROPROTECT,0,e.x,e.y,0);this.sendPacket(n)},n.SendExitToLogin=function(){var e=c._TDEFAULTMESSAGE(S.SOFTCLOSE,0,0,0,0);this.sendPacket(e,"")},n.ClickMapItem=function(e,n){var t=c._TDEFAULTMESSAGE(S.PICKUP,0,e,n,0);this.sendPacket(t,"")},n.QueryBagItems=function(){var e=c._TDEFAULTMESSAGE(S.QUERYBAGITEMS,0,0,0,0);this.sendPacket(e)},n.sendQFCMD=function(e){var n=c._TDEFAULTMESSAGE(S.GUI,-3,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendCloseGameForH5=function(){var e=c._TDEFAULTMESSAGE(S.H5CLOSE,0,0,0,0);this.sendPacket(e)},n.reconnectGameSvr=function(e,n,t){},n.Refreshviewrange=function(e){if("GameScene"==E.getScene().name){i.CurScene.disconnectionAniCrl(0),console.log("->>断线重连后通知服务端，更新周边单位数据，防止假人假怪");var n=c._TDEFAULTMESSAGE(S.REFRESHVIEWRANGE,e,0,0,0);this.sendPacket(n)}},n.getNpcInfo=function(){var e=c._TDEFAULTMESSAGE(S.QUERYNAVIGATE,0,0,0,0);this.sendPacket(e,"")},n.QueryMyShopSellingItems=function(e,n,t,E,i,s){var T=E,A=a._LOWORD(i),o=a._HIWORD(i),d=a._MAKEWORD(e,2*n+t),r=c.EncodeString(s),M=c._TDEFAULTMESSAGE(S.QUERYMYSHOPSELLINGITEMS,T,A,o,d);this.sendPacket(M,r)},n.sendPacket=function(e,n){if(i.verify_through){var t=c.EncodeMessage(e);this.m_nSync<9?this.m_nSync++:this.m_nSync=0;var E="";E=n?"#"+this.m_nSync+t+n+"!":"#"+this.m_nSync+t+"!",this.clsocket?this.clsocket.send(E):console.log("sendPacket:this.clsocket为空")}},n.GetMyShopItems=function(e,n){var t=c._TDEFAULTMESSAGE(S.GETMYSHOPITEMS,e,n,0,0);this.sendPacket(t)},n.QueryMyShopSelledItems=function(e,n,t,E,i,s){var T=E,A=a._LOWORD(i),o=a._HIWORD(i),d=a._MAKEWORD(e,2*n+t),r=c.EncodeString(s),M=c._TDEFAULTMESSAGE(S.QUERYMYSHOPSELLEDITEMS,T,A,o,d);this.sendPacket(M,r)},n.QueryMyshopStorageItems=function(e,n,t,E,i,s){var T=E,A=a._LOWORD(i),o=a._HIWORD(i),d=a._MAKEWORD(e,2*n+t),r=c.EncodeString(s),M=c._TDEFAULTMESSAGE(S.QUERYMYSHOPSTORAGEITEMS,T,A,o,d);this.sendPacket(M,r)},n.gettmissitem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.GETMISSITEM,e,n,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.NpcDlgOptions=function(e,n,t,E){if(0==E)var i=c._TDEFAULTMESSAGE(S.BOXITEM,t,n,0,0),s=c.EncodeString(e);else if(1==E||2==E||3==E)i=c._TDEFAULTMESSAGE(S.MOVEITEMBOXTOBAG,t,n,0,0),s=c.EncodeString(e);this.sendPacket(i,s)},n.sendGuildMemberList=function(e){},n.sendGuildAddMemEx=function(){var e=c._TDEFAULTMESSAGE(S.CM_GUILDADDMEMBEREX,0,0,0,0);this.sendPacket(e)},n.sendGuildSetMaster1=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILDSETMASTER1,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildDelMemberEx=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_DEL_MEMBER_EX,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildChangeAlly=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILDCHANGEALLY,0,0,0,e);this.sendPacket(n)},n.sendGuildUpdateJoinCondition=function(e,n,t,E,i){var s=0;s=e?s+=1:s,s=n?s+=2:s,s=t?s+=4:s;var a=c._TDEFAULTMESSAGE(S.CM_GUILDUPDATEJOINCONDITION,E,s,0,0),T=c.EncodeString(i);this.sendPacket(a,T)},n.sendUnMasterSelf=function(){var e=c._TDEFAULTMESSAGE(S.CM_GUILDUNMASTERSELF,0,0,0,0);this.sendPacket(e)},n.sendtomsg=function(e,n,t,E,i,s){var S=c._TDEFAULTMESSAGE(e,n,t,E,i),a=c.EncodeString(s);this.sendPacket(S,a)},n.IsDropFish=function(e,n){var t=c._TDEFAULTMESSAGE(S.FISHMESSAGE,n,0,e,0);this.sendPacket(t,"")},n.SuitInfo=function(e){var n=c._TDEFAULTMESSAGE(S.LUASOCKET,0,146,0,0),t=c.EncodeString("Server#"+e);this.sendPacket(n,t)},n.QueryHeroBagItems=function(){var e=c._TDEFAULTMESSAGE(S.CM_QUERYHEROBAGITEMS,0,0,0,0);this.sendPacket(e)},n.autoPickDifferent=function(e){var n=c._TDEFAULTMESSAGE(S.AUTOPICKUPITEMS,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendCqbInfo=function(){var e=c._TDEFAULTMESSAGE(S.QUERYCRISTALINFO,0,0,0,0);this.sendPacket(e)},n.SendDeleteItem=function(e){if(!e.s.boIsBind||!e.s.boDropFree){var n=c._TDEFAULTMESSAGE(S.DROPITEM,e.MakeIndex,1,0,0),t=c.EncodeString(e.s.Name);this.sendPacket(n,t)}},n.DepotOrBagItems=function(e,n){},n.TakeOffItem=function(e,n){if(e){var t=c._TDEFAULTMESSAGE(S.TAKEOFFITEM,e.MakeIndex,n,0,0),E=e.s.Name.split("(*)"),i="";i=E.length>1?E[1]:E[0],i=c.EncodeString(i),this.sendPacket(t,i)}},n.autoPick=function(e,n){var t=c._TDEFAULTMESSAGE(S.AUTOPICKUPITEMS,0,e,n,0);this.sendPacket(t,"")},n.TakeOnItem=function(e,n){r.getInstance().LastTakeOnPos=n;var t=c._TDEFAULTMESSAGE(S.TAKEONITEM,e.MakeIndex,n,0,0),E=c.EncodeString(e.s.Name);this.sendPacket(t,E)},n.StartTrade=function(e){var n=c._TDEFAULTMESSAGE(S.DEALTRY,0,0,0,0);this.sendPacket(n,"")},n.AddTradeItem=function(e){var n=c._TDEFAULTMESSAGE(S.DEALADDITEM,e.MakeIndex,0,0,0),t=c.EncodeString(e.s.Name);this.sendPacket(n,t)},n.TradeGold=function(e){var n=c._TDEFAULTMESSAGE(S.DEALCHGGOLD,e,0,0,0);this.sendPacket(n,"")},n.SubmitTrade=function(){var e=c._TDEFAULTMESSAGE(S.DEALEND,0,0,0,0);this.sendPacket(e,"")},n.DeleteTradeItem=function(e){var n=c._TDEFAULTMESSAGE(S.DEALDELITEM,e.MakeIndex,0,0,0),t=c.EncodeString(e.s.Name);this.sendPacket(n,t)},n.CancelTrade=function(){var e=c._TDEFAULTMESSAGE(S.DEALCANCEL,0,0,0,0);this.sendPacket(e,"")},n.sendGroupList=function(){var e=c._TDEFAULTMESSAGE(S.GROUPLIST,0,0,0,0);this.sendPacket(e)},n.sendGroupApply=function(e){var n=c._TDEFAULTMESSAGE(S.GROUPAPPLY,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGroupAccept=function(e){var n=c._TDEFAULTMESSAGE(S.GROUPACCEPT,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGroupRefuse=function(e){var n=c._TDEFAULTMESSAGE(S.GROUPREFUSE,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendHitMessage=function(e,n,t,E,i){var s=c._TDEFAULTMESSAGE(e,a._MAKELONG(n,t),0,E,0);this.sendPacket(s)},n.sendSpellMessage=function(e,n,t,E,s,a){i.g_atttime=(new Date).getTime();for(var T=0;T<i.g_SetupMagicList.length;T++)i.g_SetupMagicList[T]&&i.g_SetupMagicList[T].Def.wMagicId==E&&i.g_SetupMagicList[T].Def.MagicAttr;var A;if(e==S.SPELL)A=E;else if(null!=s&&s>0){var o=D.findobject(s);A=null!=o?d.getorientation(_.self_obj.grid,o.grid):_.self_obj.cur_dir}else A=_.self_obj.cur_dir;var r=c._TDEFAULTMESSAGE(e,s,n,A,t);this.sendPacket(r)},n.sendLockSpellMsg=function(e,n,t,E,i){var s=c._TDEFAULTMESSAGE(e,a._MAKELONG(n,t),a._LOWORD(i),E,a._HIWORD(i));this.sendPacket(s)},n.sendRideMessage=function(e,n,t){var E=c._TDEFAULTMESSAGE(e,0,n,t,0);this.sendPacket(E)},n.sendQueryMessage=function(e){var n=c._TDEFAULTMESSAGE(e,0,0,0,0);this.sendPacket(n)},n.sendTakeOnItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.TAKEONITEM,n,e,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.sendActiveFengHao=function(e){var n=c._TDEFAULTMESSAGE(S.CM_UPDATACTIVEFENGHAO,e,0,0,0);this.sendPacket(n)},n.sendTakeOnOffItem=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(e,E,n,0,0),s=c.EncodeString(t);this.sendPacket(i,s)},n.sendEat=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.EAT,n,e,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.sendStackThing=function(e,n,t,E){var i=a._LOWORD(n),s=a._HIWORD(n),T=c._TDEFAULTMESSAGE(S.OVERLAPITEM,e,i,s,E),A=c.EncodeString(t);this.sendPacket(T,A)},n.sendStackDrug=function(e,n,t,E){var i=a._LOWORD(n),s=a._HIWORD(n),T=c._TDEFAULTMESSAGE(S.OVERLAPDRUG,e,i,s,E),A=c.EncodeString(t);this.sendPacket(T,A)},n.sendHeroStackThing=function(e,n,t,E){var i=a._LOWORD(n),s=a._HIWORD(n),T=c._TDEFAULTMESSAGE(S.HEROOVERLAPITEM,e,i,s,E),A=c.EncodeString(t);this.sendPacket(T,A)},n.sendHeroStackDrug=function(e,n,t,E){var i=a._LOWORD(n),s=a._HIWORD(n),T=c._TDEFAULTMESSAGE(S.OVERLAPDRUG,e,i,s,E),A=c.EncodeString(t);this.sendPacket(T,A)},n.blessbottle=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.PACKAGEITEM,n,e,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.blessbottleH=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.HEROPACKAGEITEM,n,e,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.sendQueryName=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.QUERYUSERNAME,e,n,t,0);this.sendPacket(E)},n.sendQueryState=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.QUERYUSERSTATE,e,n,t,0);this.sendPacket(E)},n.sendQueryClose=function(){var e=c._TDEFAULTMESSAGE(S.QUERYCLOSE,1,0,0,0);this.sendPacket(e)},n.sendItemIndex=function(e,n,t){var E=c._TDEFAULTMESSAGE(e,n,0,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.sendDropItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.DROPITEM,n,t,0,0),i=e.split("(*)"),s="";s=i.length>1?i[1]:i[0],s=c.EncodeString(s),this.sendPacket(E,s)},n.sendDropGold=function(e){var n=c._TDEFAULTMESSAGE(S.DROPGOLD,e,0,0,0);this.sendPacket(n)},n.sendButchAnimal=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(S.BUTCH,E,e,n,t);this.sendPacket(i)},n.sendConfig=function(e){var n=1==e?1:0,t=c._TDEFAULTMESSAGE(S.CONFIG,n,n,n,n);this.sendPacket(t)},n.sendHeroMagicKeyChange=function(e){var n=c._TDEFAULTMESSAGE(S.HEROMAGICKEYCHANGE,e,0,0,1);this.sendPacket(n)},n.sendOpenDoor=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.OPENDOOR,t,e,n,0);this.sendPacket(E)},n.sendNPCMessage=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(e,n,0,0,t),s=c.EncodeString(E);this.sendPacket(i,s)},n.sendREQUESTSTDITEM=function(e){var n=c._TDEFAULTMESSAGE(S.CM_REQUESTSTDITEM,e,0,0,0);this.sendPacket(n)},n.sendHeartBeat=function(){var e=c._TDEFAULTMESSAGE(500,0,0,0,0);this.sendPacket(e)},n.sendChooseNpcDialog=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.MERCHANTDLGSELECT,e,t,0,0),i=c.EncodeString(n);this.sendPacket(E,i)},n.sdCM_SERVERUNIXTIME=function(){var e=c._TDEFAULTMESSAGE(S.SERVERUNIXTIME,0,0,0,0);this.sendPacket(e)},n.sendSaleDetailItem=function(e,n){var t=c._TDEFAULTMESSAGE(S.GETSELLOFFDETAILITEM,e.npcId,n,0,0),E=c.EncodeString(e.name);this.sendPacket(t,E)},n.sendGetDetailItem=function(e,n){var t=0;i.isFromTradingDlg&&(t=1);var E=c._TDEFAULTMESSAGE(S.USERGETDETAILITEM,e.npcId,n,t,0),s=c.EncodeString(e.name);this.sendPacket(E,s)},n.sendBuyItem=function(e){var n=a._LOWORD(e.gstock),t=a._HIWORD(e.gstock),E=S.USERBUYITEM;i.isFromTradingDlg&&(E=S.TradingBUYITEM);var s=c._TDEFAULTMESSAGE(E,e.npcId,n,t,1),T=c.EncodeString(e.name);this.sendPacket(s,T)},n.sendGiveItem=function(e,n){var t=n,E=a._LOWORD(e.MakeIndex),i=a._HIWORD(e.MakeIndex),s=c.EncodeString(e.s.Name),T=c._TDEFAULTMESSAGE(S.UPGRADEDLGITEM,t,E,i,0);this.sendPacket(T,s)},n.SendButItemFormInfo=function(e){var n=a._LOWORD(e.MakeIndex),t=a._HIWORD(e.MakeIndex),E=S.USERBUYITEM;i.isFromTradingDlg&&(E=S.TradingBUYITEM);var s=c._TDEFAULTMESSAGE(E,e.npcId,n,t,1),T=c.EncodeString(e.s.Name);this.sendPacket(s,T)},n.SendButItemFormSale=function(e){var n=a._LOWORD(e.MakeIndex),t=a._HIWORD(e.MakeIndex),E=c._TDEFAULTMESSAGE(S.BUYSELLOFFITEM,e.npcId,n,t,0),i=c.EncodeString(e.s.Name);this.sendPacket(E,i)},n.sendBindBuyItem=function(e){var n=a._LOWORD(e.gstock),t=a._HIWORD(e.gstock),E=c._TDEFAULTMESSAGE(S.USERBINDBUYITEM,e.npcId,n,t,1),i=c.EncodeString(e.name);this.sendPacket(E,i)},n.SendButBindItemFormInfo=function(e){var n=a._LOWORD(e.MakeIndex),t=a._HIWORD(e.MakeIndex),E=c._TDEFAULTMESSAGE(S.USERBINDBUYITEM,e.npcId,n,t,1),i=c.EncodeString(e.s.Name);this.sendPacket(E,i)},n.sendTranslateChoose=function(e){var n=c._TDEFAULTMESSAGE(S.BOXITEM,10,0,0,0),t=c.EncodeString(e+"");this.sendPacket(n,t)},n.sendTranslateItem=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(S.SELLOFFITEM,t,a._LOWORD(e),a._HIWORD(e),0),s=c.EncodeString(E+"/"+n);this.sendPacket(i,s)},n.sendQueryPrice=function(e,n,t){i.G_Show_Item_Price=0;var E=0;i.isFromTradingDlg&&(E=1);var s=c._TDEFAULTMESSAGE(S.MERCHANTQUERYSELLPRICE,e,a._LOWORD(n),a._HIWORD(n),E),T=c.EncodeString(t);this.sendPacket(s,T)},n.sendSellItem=function(e,n,t){if(i.isFromTradingDlg)var E=c._TDEFAULTMESSAGE(S.TradingSELLITEMS,e,0,0,0);else E=c._TDEFAULTMESSAGE(S.USERSELLITEM,e,a._LOWORD(n),a._HIWORD(n),0);var s=c.EncodeString(t);this.sendPacket(E,s)},n.sendRepairItem=function(e,n,t){r.getInstance().LastRepairItemId=n;var E=c._TDEFAULTMESSAGE(S.USERREPAIRITEM,e,a._LOWORD(n),a._HIWORD(n),0),i=c.EncodeString(t);this.sendPacket(E,i)},n.sendQueryRepairCost=function(e,n,t){i.G_Show_Item_Price=0;var E=c._TDEFAULTMESSAGE(S.MERCHANTQUERYREPAIRCOST,e,a._LOWORD(n),a._HIWORD(n),0),s=c.EncodeString(t);this.sendPacket(E,s)},n.sendStorageItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.USERSTORAGEITEM,e,a._LOWORD(n),a._HIWORD(n),0),i=c.EncodeString(t);this.sendPacket(E,i)},n.sendTakeBackStorageItem=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(S.USERTAKEBACKSTORAGEITEM,e,a._LOWORD(n),a._HIWORD(n),t),s=c.EncodeString(E);this.sendPacket(i,s)},n.sendMakeDrugItem=function(e,n){var t=c._TDEFAULTMESSAGE(S.USERMAKEDRUGITEM,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.sendOpenGuildDlg=function(){var e=c._TDEFAULTMESSAGE(S.OPENGUILDDLG,0,0,0,0);this.sendPacket(e)},n.guildMemberList=function(){var e=c._TDEFAULTMESSAGE(S.GUILDMEMBERLIST,0,0,0,0);this.sendPacket(e)},n.sendGuildGetJoinUserList=function(){var e=c._TDEFAULTMESSAGE(S.CM_GUILDGETJOINUSERLIST,0,0,0,0);this.sendPacket(e)},n.guildAddMember=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDADDMEMBER,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.guilddelMember=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDDELMEMBER,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.guildEditorNotice=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDUPDATENOTICE,0,0,0,0);e.length>39999&&e.slice(0,3999);var t=c.EncodeString(e);this.sendPacket(n,t)},n.guildEditorInfo=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDUPDATERANKINFO,0,0,0,0);e.length>499&&e.slice(0,499);var t=c.EncodeString(e);this.sendPacket(n,t)},n.GuildManagerEditor=function(e,n){var t=c._TDEFAULTMESSAGE(S.GUILDUPDATERANKINFO,n,0,0,0),E=c.EncodeString(e);this.sendPacket(t,E),this.sendGuildMemberList(1)},n.guildMemberMoveToRank=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.CM_GUILD_MEMEBER_MOVE_TO_RANK,n,t,0,0),i=c.EncodeString(e);this.sendPacket(E,i)},n.sendGuildHome=function(){var e=c._TDEFAULTMESSAGE(S.GUILDHOME,0,0,0,0);this.sendPacket(e)},n.GuildManagereCruit=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.GUILDMANAGERECRUIT,0,0,0,0),i=c.EncodeString(e+";"+n+";"+t);this.sendPacket(E,i)},n.GuildManagereCruit2=function(e,n){var t=c._TDEFAULTMESSAGE(S.GUILDMANAGERECRUIT,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.GuildOperate=function(e,n){var t=c._TDEFAULTMESSAGE(S.GUILDOPERATE,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.NewGuildOpt=function(e){var n=c._TDEFAULTMESSAGE(S.NEWGUILD,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildCancelJoinTo=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILDCANCELJOINTO,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildOpenJoinCondition=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILDVIEWJOINCONDITION,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildAddMember=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDADDMEMBER,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.SendManagerAdd=function(e,n){if(0==e)var t=c._TDEFAULTMESSAGE(S.GUILDMANAGEADD_ACCEPT,0,0,0,0);else t=c._TDEFAULTMESSAGE(S.GUILDMANAGEADD_RREUAL,0,0,0,0);var E=c.EncodeString(n);this.sendPacket(t,E),this.sendGuildMemberList(1),this.sendOpenGuildDlg()},n.sendGuildDelMember=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDDELMEMBER,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildRequestAlly=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_REQUEST_ALLY,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildDelAttention=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_DEL_ATTENTION,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildAddGuildWar=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_ADD_GUILDWAR,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildAcceptAlly=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_ACCEPT_ALLY,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildRefusalAlly=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_REFUSAL_ALLY,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildUnAlly=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_UN_ALLY,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildAddAttention=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_ADD_ATTENTION,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildUpdateNotice=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDUPDATENOTICE,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildDelSelf=function(){var e=c._TDEFAULTMESSAGE(S.CM_GUILDDELSELF,0,0,0,0);this.sendPacket(e)},n.sendGuildViewMemberInfo=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GUILD_VIEW_MEMBER_INFO,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendGuildUpdateGrade=function(e){var n=c._TDEFAULTMESSAGE(S.GUILDUPDATERANKINFO,0,0,0,0);this.sendPacket(n)},n.sendAdjustBonus=function(e,n){var t=c._TDEFAULTMESSAGE(S.ADJUST_BONUS,e,0,0,0),E=o.objEncode6BitBuf(n);this.sendPacket(t,E)},n.sendSpeedHackUser=function(){var e=c._TDEFAULTMESSAGE(S.SPEEDHACKUSER,0,0,0,0);this.sendPacket(e)},n.sendCreateGroup=function(e){var n=c._TDEFAULTMESSAGE(S.CREATEGROUP,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendResponseGroupJoin=function(e,n){var t=e?1:0,E=c._TDEFAULTMESSAGE(S.RESPONSE_GORUP_JOIN,0,0,0,t),i=c.EncodeString(n);this.sendPacket(E,i)},n.sendGroupMode=function(e){var n=e?1:0,t=c._TDEFAULTMESSAGE(S.GROUPMODE,0,n,0,0);this.sendPacket(t)},n.sendGroupLeave=function(){var e=c._TDEFAULTMESSAGE(S.GROUPLEAVE,0,0,0,0);this.sendPacket(e)},n.sendAddGroupMember=function(e){var n=c._TDEFAULTMESSAGE(S.ADDGROUPMEMBER,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendDelGroupMember=function(e){var n=c._TDEFAULTMESSAGE(S.DELGROUPMEMBER,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.BuyShopItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.BUYSHOPITEM,e,t,0,0),i=c.EncodeString(n);this.sendPacket(E,i)},n.GiftShopItem=function(e,n){var t=c._TDEFAULTMESSAGE(S.SENTSHOPITEM,0,0,0,0),E=c.EncodeString(n+"|"+e);this.sendPacket(t,E)},n.sendCloseGame=function(){var e=c._TDEFAULTMESSAGE(S.SOFTCLOSE,0,0,0,0);this.sendPacket(e)},n.sendSay=function(e){if("/"==e[0]){var n=e.split(" ")[0],t=n.slice(1,n.length);if(1==d.userInFriendHMD(t))return;T.raiseEvent(A.NEW_CHAT_MSG,[{info:e,front:252,bg:255,type:2}])}var E=c._TDEFAULTMESSAGE(S.SAY,0,0,0,0),i=c.EncodeString(e);this.sendPacket(E,i)},n.changeAttackMode=function(){var e=c._TDEFAULTMESSAGE(S.SAY,0,0,0,0),n=c.EncodeString("@AttackMode");this.sendPacket(e,n)},n.sendNPCClick=function(e){var n=c._TDEFAULTMESSAGE(S.CLICKNPC,e,0,0,0);this.sendPacket(n)},n.FriendOpition=function(e,n){var t=c._TDEFAULTMESSAGE(S.FRIENDS,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.FriendInfo=function(e){var n=c._TDEFAULTMESSAGE(S.SAY,0,0,0,0),t=c.EncodeString("@获取好友信息 0 0 0 0 "+e);this.sendPacket(n,t)},n.SendMagicKey=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.MAGICKEYCHANGE,e,n,0,t);this.sendPacket(E)},n.RemoveMagicForNpos=function(e){var n=c._TDEFAULTMESSAGE(S.MAGICKEYCHANGE,e.Def.wMagicId,0,0,e.Def.MagicAttr);this.sendPacket(n,"")},n.SendChageAttackMode=function(e){var n=c._TDEFAULTMESSAGE(S.H5ATTACKMODE,e,0,0,0),t=c.EncodeString("@AttackMode");this.sendPacket(n,t)},n.sendOpenRedPack=function(e){var n=c._TDEFAULTMESSAGE(S.OpenRedPack,e,0,0,0);this.sendPacket(n)},n.sendRedPack=function(e,n,t,E,i){var s=c._TDEFAULTMESSAGE(S.SENDREDPACKED,e,n,t,E),a=c.EncodeString(i);this.sendPacket(s,a)},n.sendRedPackMsg=function(e,n){var t=c._TDEFAULTMESSAGE(S.SENDREDPACKEDREPLY,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.sendActorBuffClick=function(e,n){var t=c._TDEFAULTMESSAGE(e,0,0,n,0);this.sendPacket(t)},n.sendActorBuffButton=function(e){var n=c._TDEFAULTMESSAGE(S.ACTORBUFFBUTTON,0,0,e,0);this.sendPacket(n)},n.ChangDir=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.TURN,a._MAKELONG(e,n),0,t,0);this.sendPacket(E)},n.QuerySelectShopInfo=function(e,n){i.g_SelectedName=e;var t=c._TDEFAULTMESSAGE(S.QUERYSELECTSHOPINFO,n,0,0,0),E=c.EncodeString(e);this.sendPacket(t,E)},n.OpenMyBaiTan=function(){var e=c._TDEFAULTMESSAGE(S.OPENMYBAITAN,0,0,0,0);this.sendPacket(e)},n.AddBaiTanItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.ADDPAIMAIITEM,e,a._LOWORD(n),a._HIWORD(n),t);this.sendPacket(E)},n.StopBaiTan=function(){var e=c._TDEFAULTMESSAGE(S.STOPBAITAN,0,0,0,0);this.sendPacket(e)},n.StartBaiTan=function(e){var n=c._TDEFAULTMESSAGE(S.STARTBAITAN,0,0,0,0);c.EncodeString(e);this.sendPacket(n,e)},n.BuyBaiTanItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.BUYBAITANITEM,e,a._LOWORD(n),a._HIWORD(n),0),i=c.EncodeString(t+"");this.sendPacket(E,i)},n.SendzhaomuMsg=function(e){var n=c._TDEFAULTMESSAGE(S.SAY,0,0,0,0),t=c.EncodeString("@Organize-A-Team "+e);this.sendPacket(n,t)},n.SendAddZmu=function(e,n){var t=c._TDEFAULTMESSAGE(S.ZHAOMU,0,n,0,0),E=c.EncodeString(e);this.sendPacket(t,E)},n.SendGameMainBtnMsg=function(e){this.closeNpcWinOnUseScriptBtn();var n=c._TDEFAULTMESSAGE(S.GUI,-1,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.closeNpcWinOnUseScriptBtn=function(){M.checkAndDestroyNewNpcWin()},n.QueryUserShops=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.QUERYUSERSHOPS,0,e,n,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.SearchShopItems=function(e,n,t,E,i,s){var T=e,A=a._LOWORD(n),o=a._HIWORD(n),d=a._MAKEWORD(t,2*E+i),r=c.EncodeString(s),M=c._TDEFAULTMESSAGE(S.SEARCHSHOPITEMS,T,A,o,d);this.sendPacket(M,r)},n.GetUserShops=function(e){var n=c._TDEFAULTMESSAGE(S.GETUSERSHOPS,e,0,0,0);this.sendPacket(n)},n.SearchGetShopItems=function(e){var n=c._TDEFAULTMESSAGE(S.SEARCHGETSHOPITEMS,e,0,0,0);this.sendPacket(n)},n.QueryUserShopItems=function(e,n,t,E,i,s,T){var A=e,o=a._LOWORD(n),d=a._HIWORD(n),r=a._MAKEWORD(t,2*E+i),M=c.EncodeString(T+"/"+s),_=c._TDEFAULTMESSAGE(S.QUERYUSERSHOPITEMS,A,o,d,r);this.sendPacket(_,M)},n.GetUserShopItems=function(e){var n=c._TDEFAULTMESSAGE(S.GETUSERSHOPITEMS,e,0,0,0);this.sendPacket(n)},n.SendBuyUserShopItem=function(e,n,t,E){var i=a._LOWORD(E),s=a._HIWORD(E),T=c.EncodeString(n),A=c._TDEFAULTMESSAGE(S.SENDBUYUSERSHOPITEM,e,t,i,s);this.sendPacket(A,T)},n.SendMoveMyShopItem=function(e,n,t,E){var i=c.EncodeString(E),s=c._TDEFAULTMESSAGE(S.SENDMOVEMYSHOPITEM,e,n,t,0);this.sendPacket(s,i)},n.SendAddToMyShop=function(e,n,t,E,i,s){var T=e,A=a._MAKEWORD(E,2*t+n),o=a._LOWORD(i),d=a._HIWORD(i),r=c.EncodeString(s),M=c._TDEFAULTMESSAGE(S.SENDADDTOMYSHOP,T,A,o,d);this.sendPacket(M,r)},n.SendChangeMyShopItem=function(e,n,t,E,i,s){var T=e,A=a._MAKEWORD(E,2*t+n),o=a._LOWORD(i),d=a._HIWORD(i),r=c.EncodeString(s),M=c._TDEFAULTMESSAGE(S.SENDCHANGEMYSHOPITEM,T,A,o,d);this.sendPacket(M,r)},n.SendDeleteSelledItem=function(e){var n=e,t=c._TDEFAULTMESSAGE(S.SENDDELETESELLEDITEM,n,0,0,0);this.sendPacket(t)},n.SendShopName=function(e){var n=c.EncodeString(e),t=c._TDEFAULTMESSAGE(S.SENDSHOPNAME,0,0,0,0);this.sendPacket(t,n)},n.SendShopStallStatus=function(){var e=c._TDEFAULTMESSAGE(S.SENDSHOPSTALLSTATUS,0,0,0,0);this.sendPacket(e)},n.SendtakeoffBox=function(){var e=c._TDEFAULTMESSAGE(S.TAKEOFFBOX,0,0,0,0);this.sendPacket(e)},n.SendOpenBox=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(S.OPENBOX,e,t,E,0),s=c.EncodeString(n);this.sendPacket(i,s)},n.SendFishMessage=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.FISHMESSAGE,e,0,n,0);this.sendPacket(E,t)},n.SendGetGetselBoxItem=function(e){var n=c._TDEFAULTMESSAGE(S.SENDGETSELBOXITEM,0,0,0,e);this.sendPacket(n)},n.SendRotationBox=function(){var e=c._TDEFAULTMESSAGE(S.ROTATIONBOX,0,0,0,0);this.sendPacket(e)},n.CreateFishTeam=function(e,n){var t=c._TDEFAULTMESSAGE(S.FISHMESSAGE,0,0,e,0);this.sendPacket(t,n)},n.AgreeFishUserToTeam=function(e){var n=c._TDEFAULTMESSAGE(S.FISHMESSAGE,e,0,12,0);this.sendPacket(n,"")},n.FishState=function(e){15==e?console.log("=======15:收杆======="):console.log("+++++++16：放杆+++++++=");var n=c._TDEFAULTMESSAGE(S.FISHMESSAGE,0,0,e,0);this.sendPacket(n,"")},n.AutoFish=function(e,n){var t=c._TDEFAULTMESSAGE(S.FISHMESSAGE,e,n,0,0);this.sendPacket(t,"")},n.AddToTeam=function(e,n){var t=c._TDEFAULTMESSAGE(S.FISHMESSAGE,n,0,e,0);this.sendPacket(t,"")},n.FishTeamChat=function(e){var n=c._TDEFAULTMESSAGE(S.FISHMESSAGE,0,0,20,0);this.sendPacket(n,e)},n.TakeOnItem2=function(e,n){var t,E=c._TDEFAULTMESSAGE(S.TAKEONITEM,e.MakeIndex,n,0,1);t=c.EncodeString(e.s.Name),this.sendPacket(E,t)},n.SendTakeOnGodBless=function(e,n){var t,E=c._TDEFAULTMESSAGE(S.CM_TAKEONGODBLESS,e.MakeIndex,n,0,0);t=c.EncodeString(e.s.Name),this.sendPacket(E,t)},n.SendTakeOffGodBless=function(e,n){var t,E=c._TDEFAULTMESSAGE(S.CM_TAKEOFFGODBLESS,e.MakeIndex,n,0,0);t=c.EncodeString(e.s.Name),this.sendPacket(E,t)},n.sendTakeOffJewelry=function(e,n){var t,E=c._TDEFAULTMESSAGE(S.CM_TAKEOFFJEWELRY,e.MakeIndex,n,0,0);t=c.EncodeString(e.s.Name),this.sendPacket(E,t)},n.sendTakeOnJewelry=function(e,n){var t,E=c._TDEFAULTMESSAGE(S.CM_TAKEONJEWELRY,e.MakeIndex,n,0,0);t=c.EncodeString(e.s.Name),this.sendPacket(E,t)},n.TakeAotoOnItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.TAKEONITEM,e,n,0,0),i=t.split("(*)"),s="";s=i.length>1?i[1]:i[0],s=c.EncodeString(s),this.sendPacket(E,s)},n.DepotOrBagItems2=function(e,n){},n.SendCUSTOMBUTTON=function(e){var n=c._TDEFAULTMESSAGE(S.CUSTOMBUTTON,0,0,0,0);this.sendPacket(n,c.EncodeString("@ButtonClick"+e))},n.sendCardGame3=function(e){var n=c._TDEFAULTMESSAGE(S.LUASOCKET,0,300,0,0),t=c.EncodeString("Server#"+e);this.sendPacket(n,t)},n.send2lua=function(e,n){var t=c._TDEFAULTMESSAGE(S.LUASOCKET,0,e,0,0),E=c.EncodeString("Server#"+n);this.sendPacket(t,E)},n.WECHATANDQQ=function(e){var n=c._TDEFAULTMESSAGE(S.WECHATANDQQ,0,0,1,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendLoginToken=function(e){this.isToken=!0;var n=c._TDEFAULTMESSAGE(S.CM_TEST,0,0,0,0);this.sendPacket(n,e)},n.showfashion=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_SETSHOWFASHION,e,n,0,0);this.sendPacket(t,"")},n.SendMapLoadend=function(){var e=c._TDEFAULTMESSAGE(S.MAPLOADEND,0,0,0,0);this.sendPacket(e)},n.SendHeroCall=function(){var e=c._TDEFAULTMESSAGE(S.CM_HEROLOGON,0,0,0,0);this.sendPacket(e)},n.masterBagToHeroBag=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_MASTERBAGTOHEROBAG,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.heroBagToMasterBag=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_HEROBAGTOMASTERBAG,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.heroTakeOn=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.CM_HEROTAKEONITEM,e,n,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.HeroDropItems=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.CM_HERODROPITEM,n,t,0,0),i=e.split("(*)"),s="";s=i.length>1?i[1]:i[0],s=c.EncodeString(s),this.sendPacket(E,s)},n.heroEat=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_HEROEAT,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.HeroTakeOffItem=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_HEROTAKEOFFITEM,e.MakeIndex,n,0,0),E=e.s.Name.split("(*)"),i="";i=E.length>1?E[1]:E[0],i=c.EncodeString(i),this.sendPacket(t,i)},n.HeroLock=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.CM_HEROTARGET,e,n.x,n.y,t);this.sendPacket(E)},n.sendHeroAtk=function(){var e=c._TDEFAULTMESSAGE(S.CM_HEROGROUPATTACK,0,0,0,0);this.sendPacket(e)},n.SendCMOpenBox=function(e,n){var t=a._LOWORD(e),E=a._HIWORD(e),s=c._TDEFAULTMESSAGE(S.OPENITEMBOXEX,i.G_NPC_ID,t,E,0),T=c.EncodeString(n);this.sendPacket(s,T)},n.SendQFCMD=function(e){var n=c._TDEFAULTMESSAGE(S.GUI,-3,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendapi_getItem=function(e){var n=c._TDEFAULTMESSAGE(S.API_GETITEM,e,0,0,0);this.sendPacket(n)},n.sendUpgrade=function(e){var n=c._TDEFAULTMESSAGE(S.SENDUPGRADEDIALOG,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendNewTask=function(e){var n=(new Date).getTime();if(n-i.g_newTaskClickTick>600){i.g_newTaskClickTick=n;var t=c._TDEFAULTMESSAGE(S.NEWTASKOPERATE,e,0,0,0);this.sendPacket(t)}},n.sendGetMail=function(){var e=c._TDEFAULTMESSAGE(S.GETMAIL,0,0,0,0);this.sendPacket(e)},n.sendGetMailContent=function(e){var n=c._TDEFAULTMESSAGE(S.GETMAILCONTENT,e,0,0,0);this.sendPacket(n)},n.sendGetMailItem=function(e){var n=c._TDEFAULTMESSAGE(S.GETMAILITEM,e,0,0,0);this.sendPacket(n)},n.sendGetAllMailItem=function(){var e=c._TDEFAULTMESSAGE(S.GETALLMAIL,0,0,0,0);this.sendPacket(e)},n.sendDeleteMail=function(e){var n=c._TDEFAULTMESSAGE(S.DELETEMAIL,e,0,0,0);this.sendPacket(n)},n.sendDeleteAllMail=function(){var e=c._TDEFAULTMESSAGE(S.DELETEALLMAIL,0,0,0,0);this.sendPacket(e)},n.sendCheckMapItem=function(e){var n=c._TDEFAULTMESSAGE(12315,e,0,0,0);this.sendPacket(n)},n.sendLockedBagSlot=function(){var e=c._TDEFAULTMESSAGE(S.EXTENDLOCKEDBAGSLOT,0,0,0,0);this.sendPacket(e)},n.sendCqbExchange=function(e,n){var t=c._TDEFAULTMESSAGE(e,0,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.sendOpenGuildNewCreate=function(){var e=c._TDEFAULTMESSAGE(S.GUILOPENNEWCREATE,0,0,0,0);this.sendPacket(e)},n.sendGuildNewCreate=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.GUILNEWCREATE,e,n,0,0),i=c.EncodeString(t);this.sendPacket(E,i)},n.sendOnePriceBuyAuction=function(e){var n=c._TDEFAULTMESSAGE(S.AUCTIONBUYOUT,e,0,0,0);this.sendPacket(n)},n.sendPlusAuctionPrice=function(e,n){var t=c._TDEFAULTMESSAGE(S.PLUSAUCTIONPRICE,e,0,0,0),E=c.EncodeString(n);this.sendPacket(t,E)},n.sendOffSaleAuction=function(e){var n=c._TDEFAULTMESSAGE(S.OFFTHESHELF,e,0,0,0);this.sendPacket(n)},n.sendRequestDetailAuction=function(e){var n=c._TDEFAULTMESSAGE(S.AUCTIONCLIENTITEM,e,0,0,0);this.sendPacket(n)},n.sendSaleAuction=function(e,n,t,E){var i=c._TDEFAULTMESSAGE(S.PUTONTHESHELF,e,n,0,0),s=c.EncodeString(t+"|"+E);this.sendPacket(i,s)},n.requestRankNameState=function(e){var n=c._TDEFAULTMESSAGE(S.RANKINGUSERSTATE,0,0,0,0),t=c.EncodeString(e);this.sendPacket(n,t)},n.sendPetLock=function(e){var n=c._TDEFAULTMESSAGE(S.SLAVETARGET,i.lockingID,e.grid.x,e.grid.y,0);this.sendPacket(n)},n.getObjState=function(e){var n=c._TDEFAULTMESSAGE(S.GETSTATUSCHANGED,e,0,0,0);this.sendPacket(n)},n.sendHeroList=function(){var e=c._TDEFAULTMESSAGE(S.HEROLIST,0,0,0,0);this.sendPacket(e)},n.sendHeroBattleOnOff=function(e,n){var t=c._TDEFAULTMESSAGE(S.HERO_BATTLE_ONOFF,0,0,0,0),E={status:e,aid:n},i=c.EncodeString(JSON.stringify(E));console.log(t,E),this.sendPacket(t,i)},n.sendHeroSummonOnStage=function(e){var n=c._TDEFAULTMESSAGE(S.ARMY_FIGHT_ONOFF_ALL,0,0,0,0),t={status:e},E=c.EncodeString(JSON.stringify(t));console.log(n,t),this.sendPacket(n,E)},n.sendHeroArmyAttr=function(e){var n=c._TDEFAULTMESSAGE(S.ARMY_ATTR,0,0,0,0),t={armyId:e},E=c.EncodeString(JSON.stringify(t));this.sendPacket(n,E)},n.sendHeroEquipTakeItem=function(e){var n=c._TDEFAULTMESSAGE(S.ARMY_TAKEONOFF_ITEM,0,0,0,0),t=c.EncodeString(JSON.stringify(e));console.log(n,e),this.sendPacket(n,t)},n.sendHeroTakeOnItemList=function(){var e=c._TDEFAULTMESSAGE(S.ARMY_TAKEON_ITEM_LIST,0,0,0,0);console.log(e),this.sendPacket(e)},n.sendHeroUpgradeMetarialList=function(){var e=c._TDEFAULTMESSAGE(S.ARMY_MATERIAL_LIST,0,0,0,0);console.log(e),this.sendPacket(e)},n.sendHeroUpgradeMetarialSpecial=function(e){var n=c._TDEFAULTMESSAGE(S.ARMY_MATERIAL_SPECIAL,0,0,0,0),t=c.EncodeString(JSON.stringify(e));console.log(n),this.sendPacket(n,t)},n.sendHeorUpgradeAppointLevel=function(e){var n=c._TDEFAULTMESSAGE(S.ARMY_MATERIAL_LEVEL,0,0,0,0),t=c.EncodeString(JSON.stringify(e));console.log(n),this.sendPacket(n,t)},n.sendHeroMaterialMapMove=function(e){var n=c._TDEFAULTMESSAGE(S.ARMY_MATERIAL_MOVE,0,0,0,0),t=c.EncodeString(JSON.stringify(e));console.log(n),this.sendPacket(n,t)},n.sendHeroTreasureFindList=function(){var e=c._TDEFAULTMESSAGE(S.HERO_TREASURE_FIND_LIST,0,0,0,0);this.sendPacket(e)},n.sendHeroTreasureFindExchange=function(e){var n=c._TDEFAULTMESSAGE(S.HERO_TREASURE_FIND_EXCHANGE,e,0,0,0);this.sendPacket(n)},n.sendHeroTreasureWarehouseList=function(){var e=c._TDEFAULTMESSAGE(S.HERO_TREASURE_WAREHOUSE_LIST,0,0,0,0);this.sendPacket(e)},n.sendHeroTreasureScoreList=function(){var e=c._TDEFAULTMESSAGE(S.HERO_TREASURE_SOCRE_LIST,0,0,0,0);this.sendPacket(e)},n.sendHeroTreasureWarehouseGet=function(){var e=c._TDEFAULTMESSAGE(S.HERO_TREASURE_WAREHOUSE_ONKEY_GET,0,0,0,0);this.sendPacket(e)},n.sendHeroTreasureScoreExchange=function(e){var n=c._TDEFAULTMESSAGE(S.HERO_TREASURE_SCORE_EXCHANGE,e,0,0,0);this.sendPacket(n)},n.serverVersionCheck=function(){var e=null,n=t.localStorage.getItem("loginUrl");n&&(e=JSON.parse(n));var E=c._TDEFAULTMESSAGE(S.SERVER_VERSION,e?e.serverId:0,0,0,0);this.sendPacket(E)},n.close=function(){},n.SendMonsterGM=function(e){var n=this;if("testgm"==e)return i.open_gm=!0,!0;if(i.open_gm&&"pbwjyes"==e)return i.gm_show_player=!1,!0;if(i.open_gm&&"pbwjno"==e)return i.gm_show_player=!0,!0;if(i.open_gm&&"pbnpcyes"==e)return i.gm_show_npc=!1,!0;if(i.open_gm&&"pbnpcno"==e)return i.gm_show_npc=!0,!0;if(i.open_gm&&"pbjnyes"==e)return i.gm_show_skill=!1,!0;if(i.open_gm&&"pbjnno"==e)return i.gm_show_skill=!0,!0;if(i.open_gm&&-1!=e.indexOf("pbwjyes/")){var t=e.split("/");return i.gm_show_pl_name=t[1],i.gm_show_pl_visible=!1,!0}if(i.open_gm&&-1!=e.indexOf("pbwjno/")){t=e.split("/");return i.gm_show_pl_name=t[1],i.gm_show_pl_visible=!0,!0}if(i.open_gm&&-1!=e.indexOf("pbmapyes/")){t=e.split("/");return i.gm_show_map=parseInt(t[1]),T.raiseEvent(A.GM_SHOW_MAP_TYPE),!0}if(i.open_gm&&-1!=e.indexOf("pbmapno/"))return i.gm_show_map=-1,T.raiseEvent(A.GM_SHOW_MAP_TYPE),!0;if(i.open_gm&&"xsgz"==e)return!0;if(i.open_gm&&"qxgz"==e)return!0;if(i.open_gm&&"openmsg"==e)return i.gm_print_msg=!0,!0;if(i.open_gm&&"closemsg"==e)return i.gm_print_msg=!1,!0;if(i.open_gm&&"kqckms"==e)return!0;if(i.open_gm&&"gbckms"==e)return!0;if(i.open_gm&&"help"==e){return T.raiseEvent(A.OPEN_GM_INFO,"屏蔽玩家: pbwjyes \r 显示玩家: pbwjno \r  屏蔽npc: pbnpcyes \r 显示npc pbnpcno \r 屏蔽技能: pbjnyes \r 显示技能:pbjnno \r 屏蔽地图: pbmapyes \r  打开消息：openmsg \r 性能统计： opentjsocket定时器:timer \r killsocket定时器: 111 \r 重启定时器: 2222 \r 打开面板： open"),!0}return!(!i.open_gm||"opentj"!=e)||(!(!i.open_gm||"closetj"!=e)||(i.open_gm&&"timer"==e?(i.gm_has_socket_timer=!0,!0):i.open_gm&&"111"==e?(clearInterval(this.clsocket.getMessageId),!0):i.open_gm&&"222"==e?(clearInterval(this.clsocket.getMessageId),setInterval((function(){n.clsocket.loopToGetMessage()}),100),!0):i.open_gm&&"open"==e?(T.raiseEvent(A.OPEN_GM),!0):void 0))},n.sendBagCustomBottomClick=function(e){var n=c._TDEFAULTMESSAGE(S.CM_CUSTOM_BUTTOM_CLICK,e,0,0,0);this.sendPacket(n)},n.sendSaveItemToWarehouse=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_USERSTORAGEVIEWITEM,i.g_storeIndex,a._LOWORD(e),a._HIWORD(e),2*i.g_curStorePage),E=c.EncodeString(n);this.sendPacket(t,E)},n.sendGetItemFromWarehouse=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_TAKEBACKSTORAGEVIEWITEM,i.g_storeIndex,a._LOWORD(e),a._HIWORD(e),2*i.g_curStorePage),E=c.EncodeString(n);this.sendPacket(t,E)},n.sendSwitchWarehousePage=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GETBACKSTORAGEVIEWITEM,i.g_storeIndex,e,0,1);this.sendPacket(n)},n.sendGamePetSelectChange=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GAMEPET_SELECT_CHANGE,e,0,0,0);this.sendPacket(n)},n.sendGamePetReCall=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GAMEPET_RECALL,e,i.g_GamePetList.length,0,0);this.sendPacket(n)},n.sendGamePetToBag=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GAMEPET_TOBAG,e,i.g_GamePetList.length,0,0);this.sendPacket(n)},n.sengGamePetReTake=function(e){var n=c._TDEFAULTMESSAGE(S.CM_GAMEPET_RETAKE,e,i.g_GamePetList.length,0,0);this.sendPacket(n)},n.SendDelUserShopItem=function(e){var n=c._TDEFAULTMESSAGE(S.DELUSERSHOPITEM,e,0,0,0);this.sendPacket(n)},n.customButtonClick=function(e){var n=c._TDEFAULTMESSAGE(S.CM_CUSTOM_BUTTON_CLICK,e,0,0,0);this.sendPacket(n)},n.imageButtonClick=function(e){var n=c._TDEFAULTMESSAGE(S.CM_BUTTONCLICK,0,e,0,0);this.sendPacket(n)},n.sendStartCombo=function(){var e=c._TDEFAULTMESSAGE(S.CM_CONTINUOUSMAGIC,0,0,0,0);this.sendPacket(e)},n.sendBagUseMode47Item=function(e,n){var t=c._TDEFAULTMESSAGE(S.CM_BAGUSEITEM_MODE47,e,a._LOWORD(n),a._HIWORD(n),0);this.sendPacket(t)},n.sendBagUnlock=function(e){var n=c._TDEFAULTMESSAGE(S.CM_CLOSE_BAG_ITEM_CLICK,e,0,0,0);this.sendPacket(n)},n.sendBagUseItem=function(e,n,t){var E=c._TDEFAULTMESSAGE(S.CM_BAGUSEITEM,e,a._LOWORD(n),a._HIWORD(n),t);this.sendPacket(E)},e}());L._instance=null;e("sendmessage",L.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/ServerBlockBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){"use strict";var t,r,n,o,i,c,a,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Label,l=e.Component},function(e){s=e.EventMgr}],execute:function(){var u,p,v,f,B;i._RF.push({},"77364tNWLlIlaHbvs6jLMcK","ServerBlockBtn",void 0);var g=c.ccclass,h=c.property;e("ServerBlockBtn",(u=g("ServerBlockBtn"),p=h(a),u((B=t((f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,n(t,"serverBlockName",B,o(t)),t}r(t,e);var i=t.prototype;return i.start=function(){},i.getName=function(e){this.serverBlockName.string=e},i.update=function(e){},i.onBtn=function(){console.log("区item被点击"),s.raiseEvent("changeBlock",this.serverBlockName.string)},t}(l)).prototype,"serverBlockName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=f))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/ServerDataHandle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./UIcontrol.ts","./EventManager.ts","./EventCustom.ts","./ResourcesMgr.ts"],(function(e){"use strict";var n,o,i,a,t,r,g,s,u,m;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,i=e._decorator,a=e.Component,t=e.director},function(e){r=e.Config},function(e){g=e.uiControl},function(e){s=e.EventMgr},function(e){u=e.default},function(e){m=e.resourcesMgr}],execute:function(){var c,h;o._RF.push({},"b1d87EFb15Mh4XTApjJ1eGn","ServerDataHandle",void 0);var d=i.ccclass,p=(i.property,e("ServerDataHandle",d("ServerDataHandle")(((h=function(e){function o(){return e.apply(this,arguments)||this}n(o,e),o.getInstance=function(){return null==this._instance&&(this._instance=new o),this._instance};var i=o.prototype;return i.requestGameConfigWEB=function(e){var n=this;m.handleLoad("json/GameConfig.json",(function(e){if(e)e&&n.handleSetUp(e);else{g.handlerAlert({type:1,content:"游戏配置文件获取失败，请检查后重新登录",sF:function(){t.loadScene("LoginScene")}})}}))},i.handleSetUp=function(e){r.CurScene.loadAnimControl(1);e=e;r.g_GameConfigWEB=this.compareObj({funActivity:{jobMode:3,helmet:!1,collect:!0,speed:15,quickRegister:!0,autoHook:!0,uiMode:1,simScreen:!0,autoPick:!0,npcTxtSize:14,atkRange:7,voice:!1,pic:!0,voicePort:19e3,smooth:!0,virtual:!0,voiceIP:"127.0.0.1",picUrl:"http://122.224.18.117:12345",h5FontMarginSize:2,appFontMarginSize:2,npcX:0,npcY:0,maxPackSize:200,gameConfig:{onlyName:!1,showName:!0,monName:!0,npcName:!0,bbName:!1,shiTi:!0,chenghao:!1,xueTiao:!0,showExp:!0,pingBiHum:!1,pingBiMon:!1,autoPack:!0,heroDun:!0,yingYue:!1,jingZhiMov:!1,jingZhiLock:!1,daoDaoCiSha:!0,banYue:!0,autoLongYing:!0,chiXuDun:!0,chixuShifa:!0,autoFu:!0,chiXuYingShen:!1,myZiYu:!1,autoLieHuo:!0,autoZhuRi:!0,geWeiCiSsha:!0,autoKaiTian:!0,autoHP:!1,autoMP:!1,shunAutoHP:!1,shunAutoMP:!1,chuanSongHP:!1,chuanSongMP:!1,faShiDanTi:!0,faShiQunTi:!0,daoShiDanTi:!0,daoShiQunTi:!0,daoShiBB:!0,daoShiShiDu:!0,daoShiZhiLiao:!0,autoLianGong:!0,heroAutoHP:!1,heroAutoMP:!1,heroShunAutoHP:!1,heroShunAutoMP:!1,heroZhaoHui:!1,update:!1,smooth:!0,humShowBlue:!1,autoMagicMo:!0,autoMagicMFang:!0,yanChiXianShi:!0,renWuJianZhuang:!1,guaiWuJianZhuang:!1,wuQiJianZhuang:!1,shuangYaoGan:!1,youXiYinLiang:50,shiTuSuoFang:100,youXianShiQuWuPin:!0,guaJiZiDongDuoBi:!0,autoWear:!0,shouDongBPXiao:!0,shouDongBLHYan:!0,shouDongLXHYu:!0,shouDongJGDYing:!0},acty:{huiYuan:!1,fuLi:!1,zuanShi:!1,huoDong:!1,shangCheng:!1,paiHang:!1,chongZhi:!1,tiXian:!1,shouChong:!1,lingJiang:!1},fun:{beiBao:!0,jiaoYi:!0,zuDui:!0,zhaoMu:!0,xiaoTui:!0,hongBao:!0,hangHui:!0,baiTan:!0,haoYou:!0,sheZhi:!0,qiMa:!0}},h5DIYButtons:[{id:346549,gameId:49320,name:"消息屏蔽",x:14,y:460,cmd:"@UserCmd10",color:95,size:16,open:1},{id:346550,gameId:49320,name:"随身仓库",x:266,y:349,cmd:"@UserCmd32",color:100,size:16,open:1},{id:346551,gameId:49320,name:"装备回收",x:180,y:460,cmd:"@UserCmd12",color:103,size:16,open:1},{id:346552,gameId:49320,name:"功能服务",x:263,y:460,cmd:"@UserCmd13",color:128,size:16,open:1}],h5NEWButtons:[{id:10621,gameId:49320,num:1,dsp:1,picPath:"gameres/ui/btn_paimai.png",btnStyle:2,cmd:"@UserCmd100"},{id:10622,gameId:49320,num:2,dsp:1,picPath:"gameres/ui/btn001.png",btnStyle:2,cmd:"@UserCmd101"},{id:10623,gameId:49320,num:3,dsp:1,picPath:"gameres/ui/btn002.png",btnStyle:2,cmd:"@UserCmd102"},{id:10624,gameId:49320,num:4,dsp:1,picPath:"gameres/ui/btn003.png",btnStyle:2,cmd:"@UserCmd103"},{id:10625,gameId:49320,num:5,dsp:1,picPath:"gameres/ui/btn004.png",btnStyle:2,cmd:"@UserCmd104"},{id:10626,gameId:49320,num:6,dsp:1,picPath:"gameres/ui/btn005.png",btnStyle:2,cmd:"@UserCmd105"}],h5DIYGolds:[{id:778717,gameId:49320,varName:"g_GameCionNum",goldName:"金币",showUI:"gameres/ui/00005.png",open:1,x:15,y:378,topDsp:1},{id:778718,gameId:49320,varName:"g_GameGoldNum",goldName:"元宝",showUI:"gameres/ui/00010.png",open:1,x:223,y:378,topDsp:1},{id:778719,gameId:49320,varName:"g_bindCionNum",goldName:"绑定金币",showUI:"gameres/ui/00003.png",open:0,x:15,y:420,topDsp:0},{id:778720,gameId:49320,varName:"g_bindGoldNum",goldName:"绑定元宝",showUI:"gameres/ui/00011.png",open:1,x:223,y:420,topDsp:0},{id:778721,gameId:49320,varName:"g_GamePointNum",goldName:"游戏点",showUI:"gameres/ui/00002.png",open:1,x:15,y:425,topDsp:0},{id:778722,gameId:49320,varName:"g_gamePopNum",goldName:"声望",showUI:"gameres/ui/00009.png",open:0,x:15,y:378,topDsp:0},{id:778723,gameId:49320,varName:"g_gameGlory",goldName:"荣誉值",showUI:"gameres/ui/00008.png",open:0,x:15,y:420,topDsp:0},{id:778724,gameId:49320,varName:"g_nGameDiamond",goldName:"金刚石",showUI:"gameres/ui/00006.png",open:0,x:15,y:378,topDsp:0},{id:778725,gameId:49320,varName:"g_nGameGird",goldName:"灵符",showUI:"gameres/ui/00007.png",open:0,x:223,y:378,topDsp:0}],id:49320,serverName:"屠龙圣域",serverAddr:"192.168.8.136",port:8500,passWord:"LZM2",isShowDate:!1,showDate:"2022-06-23 10:24:46",showTop:0,groupName:"你吃火锅底料",isConnection:0},e.data),console.log("<------GM配置数据------\x3e"),console.log(r.g_GameConfigWEB),null!=r.g_GameConfigWEB&&(r.g_GameConfigWEB.btFun=[],r.g_GameConfigWEB.nListIdx=1,r.g_GameConfigWEB.btFun=this.getAuxiliaryShowData(),this.setBaseConfig(),this.setCustomerButton(),this.setCustomerGlod(),r.isClickStart,this.selectServerLogin(r.g_GameConfigWEB),r.CurScene.loadAnimControl(0),console.log("ENTER_GAME_FUNCTION"),s.raiseEvent(u.ENTER_GAME_FUNCTION,r.g_GameConfigWEB))},i.setBaseConfig=function(){var e=r.g_GameConfigWEB.funActivity;r.g_serverconfig.nHelmet=e.helmet,r.g_serverconfig.nAutohook=e.autoHook,r.g_serverconfig.nUimode=e.uiMode,r.g_serverconfig.nSimScreen=e.simScreen,r.g_serverconfig.nAutopick=e.autoPick,r.g_serverconfig.nNpcTxtSize=e.npcTxtSize,r.g_serverconfig.nAppTxtSize=e.appFontMarginSize,r.g_serverconfig.nH5TxtSize=e.h5FontMarginSize,r.g_serverconfig.nSpeed=e.speed,r.g_serverconfig.sPicUrl=e.picUrl,r.g_serverconfig.nJobmode=e.jobMode,r.g_serverconfig.nCollect=e.collect,r.g_serverconfig.sVoiceIP=e.voiceIP,r.g_serverconfig.nVoicePort=e.voicePort,r.g_serverconfig.boPic=e.pic,r.g_serverconfig.nQuickregister=e.quickRegister,r.g_serverconfig.nAtkRange=e.atkRange,r.g_serverconfig.boSmoot=e.smooth,r.g_serverconfig.boVirtual=e.virtual,r.g_serverconfig.boVoice=e.voice,r.ItemHeard=1==r.g_serverconfig.nHelmet,r.g_rolemovespeed=r.g_serverconfig.nSpeed,r.g_openhook=r.g_serverconfig.nAutohook,r.g_GameType=r.g_serverconfig.nUimode,r.g_simScreen=r.g_serverconfig.nSimScreen,1==r.g_serverconfig.nAutopick?r.g_autopick=!0:r.g_autopick=!1,r.g_npcTxtSize=r.g_serverconfig.nNpcTxtSize,r.g_strokewidth=r.cur_use_app?r.g_serverconfig.nAppTxtSize:r.g_serverconfig.nH5TxtSize},i.setCustomerButton=function(){var e=r.g_GameConfigWEB.h5DIYButtons;for(var n in null!=r.g_customBtn.length&&0!=r.g_customBtn.length&&(r.g_customBtn.splice(0,r.g_customBtn.length),r.g_customBtn=[]),e)if(0!=e[n].open){var o=e[n],i={boOpen:o.open,nColor:o.color,nIdx:o.id,nSize:o.size,nX:o.x,nY:o.y,sCmd:o.cmd,sName:o.name};r.g_customBtn.push(i)}},i.setCustomerGlod=function(){var e=r.g_GameConfigWEB.h5DIYGolds;for(var n in null!=r.g_gameGold.length&&0!=r.g_gameGold.length&&(r.g_gameGold.splice(0,r.g_gameGold.length),r.g_gameGold=[]),e){var o=e[n],i={boOpen:o.open,nIdx:o.id,nX:o.x,nY:o.y,sShowUI:o.showUI,sVarName:o.varName,sGoldName:o.goldName};r.g_gameGold.push(i)}},i.selectServerLogin=function(e){if(e){null==r.g_serverconfigtxt.gamelist?e.sServerip:e.serverAddr,null==r.g_serverconfigtxt.gamelist?e.nPort:e.port;r.g_server_area=e,null==r.g_serverconfigtxt.gamelist?(r.GAME_IP=e.sServerip,r.GAME_PORT=parseInt(e.nPort),r.port_key=e.sPassWord,r.g_eventBtn=e.btFun.slice(0,10),r.g_ServerName=e.sServerName):(r.GAME_IP=e.serverAddr,r.GAME_PORT=parseInt(e.port),r.port_key=e.passWord,r.g_eventBtn=e.btFun.slice(0,10),r.g_ServerName=e.serverName)}},i.getAuxiliaryShowData=function(){var e=[];r.g_otherBtn=[];var n=r.g_GameConfigWEB.funActivity.fun,o=r.g_GameConfigWEB.funActivity.acty;for(var i in o)i.indexOf("custom")>-1?(0==o[i]&&r.g_otherBtn.push(0),1==o[i]&&r.g_otherBtn.push(1)):(0==o[i]&&e.push(0),1==o[i]&&e.push(1));for(var a in n)0==n[a]&&e.push(0),1==n[a]&&e.push(1);return e},i.compareObj=function(e,n){e.funActivity=this.handleCompare(e.funActivity,n.funActivity),e.funActivity.gameConfig=this.handleCompare(e.funActivity.gameConfig,n.gameConfig),e.funActivity.acty=this.handleCompare(e.funActivity.acty,n.acty),e.funActivity.fun=this.handleCompare(e.funActivity.fun,n.fun),e.h5DIYButtons=n.h5DIYButtons,e.h5NEWButtons=n.h5NEWButtons,e.h5DIYGolds=n.h5DIYGolds;for(var o=0;o<e.h5DIYGolds.length;o++)switch(e.h5DIYGolds[o].varName){case"GOLDCOUNT":e.h5DIYGolds[o].varName="g_GameCionNum";break;case"CREDITPOINT":e.h5DIYGolds[o].varName="g_gamePopNum";break;case"GAMEGLORY":e.h5DIYGolds[o].varName="g_gameGlory";break;case"GAMEDIAMOND":e.h5DIYGolds[o].varName="g_nGameDiamond";break;case"GAMEGIRD":e.h5DIYGolds[o].varName="g_nGameGird";break;case"GAMEPOINT":e.h5DIYGolds[o].varName="g_GamePointNum";break;case"GAMEGOLD":e.h5DIYGolds[o].varName="g_GameGoldNum"}return e},i.handleCompare=function(e,n){for(var o=Object.keys(e),i=Object.keys(n),a=0;a<o.length;a++)for(var t=0;t<i.length;t++)o[a]==i[t]&&(e[o[a]]=n[i[t]]);return e},o}(a))._instance=null,c=h))||c));e("serverDataHandle",p.getInstance());o._RF.pop()}}}));

System.register("chunks:///_virtual/ServerItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./Https.ts","./LoginScene.ts","./gxxLoginServerList.ts","./accountItem.ts","./ServerDataHandle.ts"],(function(t){"use strict";var e,n,o,a,i,r,s,c,l,u,g,h,d,p,v,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.Sprite,c=t.Label,l=t.director,u=t.instantiate,g=t.Component},function(t){h=t.GameUtil},function(t){d=t.https},function(t){p=t.LoginScene},function(t){v=t.gxxLoginServerList},function(t){m=t.accountItem},function(t){f=t.serverDataHandle}],execute:function(){var S,I,y,L,C,_,b;i._RF.push({},"9568aX6IzFEQ5Rk0NAaF7bK","ServerItem",void 0);var x=r.ccclass,D=r.property;t("ServerItem",(S=x("ServerItem"),I=D(s),y=D(c),S((_=e((C=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,o(e,"statusIcon",_,a(e)),o(e,"serverName",b,a(e)),e.data=null,e}n(e,t);var i=e.prototype;return i.start=function(){h.loadResLocal("LoginScene/gxx/server_bg_group_item.png",this.node.getComponent(s))},i.init=function(t){this.data=t,this.serverName.string=t.gameDisplayName;var e="";switch(t.displayStatus){case 0:e="LoginScene/gxx/server_icon_blue.png";break;case 1:case 2:e="LoginScene/gxx/server_icon_red.png";break;case 3:e="LoginScene/gxx/server_icon_gray.png"}h.loadResLocal(e,this.statusIcon)},i.onBtn=function(){var t=this;if(d.gid=this.data.gameID,0==this.data.accounts.length)d.requestCreateServerAccount((function(e){e&&(d.ga=e.account,t.chooseFinish())}));else if(1==this.data.accounts.length)d.ga=this.data.accounts[0].accountName,this.chooseFinish();else if(this.data.accounts.length>1){var e=l.getScene().getComponentInChildren(v);e.accoountChooseNode.active=!0,e.accoountsScroll.content.destroyAllChildren();for(var n=0;n<this.data.accounts.length;n++){var o=u(e.accountItem);e.accoountsScroll.content.addChild(o),o.getComponent(m).init(this.data.accounts[n],(function(){t.chooseFinish()}))}}},i.chooseFinish=function(){var t=this.data.loginSrvPort&&this.data.loginSrvPort>0?this.data.loginSrvPort:"";d.loginUrl="http://"+this.data.loginSrvIP+":"+t,console.log("当前选择中服的地址："+d.loginUrl),l.getScene().getComponentInChildren(p).last_name.string=this.data.gameDisplayName,l.getScene().getComponentInChildren(v).node.destroy(),f.requestGameConfigWEB()},e}(g)).prototype,"statusIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(C.prototype,"serverName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=C))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/ServerList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./List.ts"],(function(e){"use strict";var r,t,n,i,o,l,c,s,a,u,v,p,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,c=e.ScrollView,s=e.Prefab,a=e.instantiate,u=e.director,v=e.Component},function(e){p=e.EventMgr},function(e){f=e.default}],execute:function(){var g,B,L,d,h,m,S,y,b,k,w;o._RF.push({},"5034d3NHsRBAZXi/HH5GYW1","ServerList",void 0);var z=l.ccclass,A=l.property;e("ServerList",(g=z("ServerList"),B=A(f),L=A(c),d=A(s),h=A(s),g((y=r((S=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o))||this,n(r,"serverListScroll",y,i(r)),n(r,"serverBlockList",b,i(r)),n(r,"serverBtn",k,i(r)),n(r,"serverBlockBtn",w,i(r)),r.templeDataArry=["天下第三","天下第二","天下第一","天下第一","天下第一","天下第一","天下第一","天下第一","天下第一","天下第一","天下第一"],r.templeDataArry2=["第三","第二","第一","天下第一","天下第一","天下第一","天下第一","天下第一","天下第一","天下第一","天下第一"],r.templeServerBlockArr=["蜜雪冰城1","蜜雪冰城2","蜜雪冰城","蜜雪冰城","蜜雪冰城"],r}t(r,e);var o=r.prototype;return o.onLoad=function(){this.serverListScroll.numItems=this.templeDataArry.length,console.log(this.serverListScroll.numItems)},o.start=function(){p.addEventListener("changeBlock",(function(e){}))},o.onListVRender=function(e,r){console.log(e)},o.getServerBlockList=function(e){for(var r=0;r<e.length;r++){var t=a(this.serverBlockBtn);this.serverBlockList.content.addChild(t),t.getComponent("ServerBlockBtn").getName(e[r])}e[0]},o.update=function(e){},o.changeScene=function(){u.loadScene("Scene")},r}(v)).prototype,"serverListScroll",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(S.prototype,"serverBlockList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(S.prototype,"serverBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(S.prototype,"serverBlockBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=S))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/ServerListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./gxxLoginServerList.ts","./ServerItem.ts"],(function(e){"use strict";var t,r,n,i,o,a,s,l,c,p,u,g,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Label,c=e.instantiate,p=e.Component},function(e){u=e.GameUtil},function(e){g=e.gxxLoginServerList},function(e){v=e.ServerItem}],execute:function(){var d,h,f,m,b,L,_,y,S;o._RF.push({},"8579aaKg0JLLKc/0bGL2MR9","ServerListItem",void 0);var D=a.ccclass,I=a.property;e("ServerListItem",(d=D("ServerListItem"),h=I(s),f=I(s),m=I(l),d((_=t((L=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"sp_bg",_,i(t)),n(t,"sp_selected",y,i(t)),n(t,"labName",S,i(t)),t.zoneData=null,t.serverData=null,t}r(t,e);var o=t.prototype;return o.start=function(){u.loadResLocal("LoginScene/gxx/server_tog_01.png",this.sp_bg),u.loadResLocal("LoginScene/gxx/server_tog_02.png",this.sp_selected)},o.init=function(e,t){this.zoneData=e,this.serverData=t,this.labName.string=e.groupName},o.onBtn=function(){this.sp_selected.node.active=!0;for(var e=this.node.parent.children,t=0;t<e.length;t++)e[t].zoneId!=this.node.zoneId&&(e[t].getChildByName("sp_selected").active=!1);var r=this.node.parent.parent.parent.parent.getComponent(g);r.serverScroll.content.destroyAllChildren();for(var n=0;n<this.serverData.length;n++){var i=c(r.serverItem);r.serverScroll.content.addChild(i),i.getComponent(v).init(this.serverData[n])}},o.onDestroy=function(){},t}(p)).prototype,"sp_bg",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(L.prototype,"sp_selected",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(L.prototype,"labName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=L))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SetingItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./List.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,o,s,a,l,r,p,c,m,u,g,d,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.Node,r=t.Sprite,p=t.Button,c=t.Label,m=t.Component},function(t){u=t.EventMgr},function(t){g=t.Config},function(t){d=t.default},function(t){h=t.default},function(t){f=t.GameUtil}],execute:function(){var _,C,y,b,N,L,v;s._RF.push({},"463dfbD7K9Ae7c6qv7ckC39","SetingItem",void 0);var I=a.ccclass,S=a.property;t("SetingItem",(_=I("SetingItem"),C=S(h),y=S(l),_((L=e((N=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"list",L,o(e)),n(e,"title",v,o(e)),e._tempList=null,e._listName=null,e._type=null,e}i(e,t);var s=e.prototype;return s.start=function(){f.loadResLocal("Auxiliary/setting_small_bg.png",this.node.getComponent(r)),f.loadResLocalButton("public/btn_close (2).png","public/btn_close1.png",this.node.getChildByName("btn_Close").getComponent(p)),f.loadResLocal("AuctionHouseWin/setiing_itemFrame.png",this.node.getChildByName("item").getChildByName("sprite").getComponent(r))},s.updateView=function(t){this._tempList=t.tempList,this._listName=t.name,this._type=t.type,this.title.getComponent(c).string=1==t.type?"技能设置":"药品设置",this.list.numItems=t.tempList.length},s.RenderItemHandler=function(t,e){t.active=!0,f.loadImg(this._tempList[e].icon[0],this._tempList[e].icon[1],(function(e){t.getChildByName("sp_Icon").getComponent(r).spriteFrame=e.data.getSpriteFrame(e.nOffset.img)})),t.getChildByName("lab_Name").getComponent(c).string=this._tempList[e].name,t.getChildByName("lab_Desc").getComponent(c).string=this._tempList[e].desc,t.dataSource={sp:t.getChildByName("sp_Icon").getComponent(r).spriteFrame,temp:this._tempList[e]}},s.onClickRenderItemHandler=function(t,e,i,n){var o={sp:t.getChildByName("sp_Icon").getComponent(r).spriteFrame,name:this._listName,icon:t.dataSource.temp.icon,type:this._type};u.raiseEvent(d.SYNCHRONOUS_ICON,o),g.GlobalCfglist[this._listName]=t.dataSource.temp.name,this.onCloseView()},s.onCloseView=function(){this.node.active=!1},e}(m)).prototype,"list",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(N.prototype,"title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=N))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/SetingPickUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./List.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,l,c,u,p,d,g,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.Button,c=t.Sprite,u=t.Label,p=t.Toggle,d=t.Component},function(t){g=t.EventMgr},function(t){f=t.default},function(t){m=t.GameUtil}],execute:function(){var h,b,y,_,C,k,v,L,S;o._RF.push({},"0ad8bbsqHtH3IaRK1et+hun","SetingPickUp",void 0);var A=a.ccclass,w=a.property;t("SetingPickUp",(h=A("SetingPickUp"),b=w(f),y=w(s),_=w(l),h((v=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"list",v,r(e)),n(e,"content",L,r(e)),n(e,"btn_Close",S,r(e)),e._dataList={},e._keyArr=[],e}i(e,t);var o=e.prototype;return o.start=function(){var t=this.node.getChildByName("bg").getComponent(c);m.loadResLocal("Auxiliary/setting_small_bg.png",t,(function(){t.spriteFrame.reset({originalSize:t.spriteFrame.originalSize,rect:t.spriteFrame.rect,offset:t.spriteFrame.offset,isRotate:t.spriteFrame.rotated,borderTop:45,borderBottom:13,borderLeft:14,borderRight:14})})),m.loadResLocal("public/btn_close (2).png",this.btn_Close.node.getComponent(c))},o.updateView=function(t){this._dataList=t,this._keyArr=Object.keys(this._dataList),this.list.numItems=this._keyArr.length},o.RenderItemHandler=function(t,e){var i=this._dataList[this._keyArr[e]];t.dataSource={data:i,idx:e},t.getChildByName("lab_Name").getComponent(u).string=i.name},o.onClickTogShownNameHandler=function(t){t.target.parent.dataSource.data.isshow=!t.target.getComponent(p).isChecked},o.onClickTogAutoPickHandler=function(t){var e=t.target.parent.dataSource;e.data.ispickup=!t.target.getComponent(p).isChecked,e.data.prompt=!t.target.getComponent(p).isChecked},o.onCloseView=function(){g.raiseEvent("SAVEALLITEMLIST"),this.node.active=!1},e}(d)).prototype,"list",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(k.prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(k.prototype,"btn_Close",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/SetShopItemPrice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./UIcontrol.ts","./Sendmessage.ts","./GameApi.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,o,i,r,a,l,s,m,g,u,c,d,p,I,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.EditBox,s=e.Label,m=e.Sprite,g=e.Component},function(e){u=e.EventMgr},function(e){c=e.Config},function(e){d=e.default},function(e){p=e.uiControl},function(e){I=e.sendmessage},function(e){f=e.GameApi},function(e){h=e.GameUtil}],execute:function(){var y,_,b,C,v,S,G,M,N,T,k,W,B,E,L,R,w,D,P;r._RF.push({},"0bf9bkbKz1L1ZceQ7JFCtjp","SetShopItemPrice",void 0);var z=a.ccclass,A=a.property;e("SetShopItemPrice",(y=z("SetShopItemPrice"),_=A(l),b=A(s),C=A(s),v=A(s),S=A(s),G=A(s),M=A(s),N=A(s),y((W=t((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).ItemCanMove=!1,t.MyShopSelectIdx=-1,o(t,"numLabel",W,i(t)),o(t,"goldname1",B,i(t)),o(t,"goldname2",E,i(t)),o(t,"goldname3",L,i(t)),o(t,"goldname4",R,i(t)),o(t,"goldname5",w,i(t)),o(t,"goldname6",D,i(t)),o(t,"goldname7",P,i(t)),t.goldType="0",t}n(t,e);var r=t.prototype;return r.start=function(){u.addEventListener(d.ADDSHOPITEMCONFIRMFROMSVR,this.sureConfirmFromSvr,this),this.init(),h.loadResLocal("MyShop/myshopmsg.png",this.node.getComponent(m));for(var e=0;e<this.node.getChildByName("ToggleGroup").children.length;e++)h.loadResLocal("SplitResource/Btns/check.png",this.node.getChildByName("ToggleGroup").children[e].getComponent(m)),h.loadResLocal("SplitResource/Btns/check (2).png",this.node.getChildByName("ToggleGroup").children[e].getChildByName("Checkmark").getComponent(m));h.loadResLocal("public/btn_ok.png",this.node.getChildByName("btnNode").getChildByName("sure").getComponent(m)),h.loadResLocal("public/btn_ok.png",this.node.getChildByName("btnNode").getChildByName("cancel").getComponent(m))},r.init=function(){c.g_GameGoldNum&&(this.goldname1.string=c.g_GameGoldNum.key),c.g_GamePointNum&&(this.goldname2.string=c.g_GamePointNum.key),c.g_GameCionNum&&(this.goldname3.string=c.g_GameCionNum.key),c.g_nGameGird&&(this.goldname4.string=c.g_nGameGird.key),c.g_nGameDiamond&&(this.goldname5.string=c.g_nGameDiamond.key),this.setCurrencyShow(c.g_serverconfigtxt.currencyShowList,this.node.getChildByName("ToggleGroup").children)},r.setCurrencyShow=function(e,t){if(e&&""!=e){t.length;for(var n=e.split(","),o=0;o<5;o++)t[o].active="1"==n[o]}},r.update=function(e){},r.onSure=function(){if(c.g_WaitItems.Items=c.g_MoveItems.Items,c.g_MoveItems.Items=null,null!=c.g_WaitItems.Items){var e=this.numLabel.string;if(""!=e){var t=parseInt(this.goldType);c.g_WaitItems.nGold=e,c.g_WaitItems.nType=t,h.delBagItems(c.g_WaitItems.Items.MakeIndex),f.drugnullforidx(c.g_WaitItems.Items.MakeIndex),I.AddBaiTanItem(c.g_WaitItems.Items.MakeIndex,e,t)}else p.handlerAlert({type:1,content:"请输入摆摊出售价格！"})}},r.onCancel=function(){this.node.destroy()},r.sureConfirmFromSvr=function(e){if(1==e.code)null!=c.g_WaitItems.Items&&(f.addMyShopItems(c.g_WaitItems),u.raiseEvent(d.UPDATE_SHOP_LIST),c.g_WaitItems.Items=null);else if(null!=c.g_WaitItems.Items){if(e.record<0){var t="";-1==e.record?t="该物品禁止摆摊或物品不存在":-5==e.record||-7==e.record||-6==e.record||-8==e.record||-9==e.record||-10==e.record||-11==e.record?t="禁止使用该货币摆摊！":-2==e.record?t="上架物品超过上限":-3==e.record?t="绑定物品或非出售物品不允许摆摊":-4==e.record&&(t="请输入正确的物品价格"),p.handlerAlert({type:1,content:t,color:"#ff0000"})}h.checkItemCanBreakUp(c.g_WaitItems.Items)?u.raiseEvent(d.ITEM_HINT,[c.g_WaitItems.Items,c.g_WaitItems.Items.Dura]):(u.raiseEvent(d.ITEM_HINT,[c.g_WaitItems.Items,1]),u.raiseEvent(d.SHOW_ITEM_ICO,c.g_WaitItems.Index))}else p.handlerAlert({type:1,content:"添加此物品失败!，请重新选择物品",color:"#ff0000"});this.node.destroy()},r.onDestroy=function(){c.g_WaitItems.Items=null,c.g_MoveItems.Items=null,u.removeEventListener(d.ADDSHOPITEMCONFIRMFROMSVR,this.sureConfirmFromSvr)},r.onTypeGold=function(e,n){e.target.parent.parent.getComponent(t).goldType=n-1},t}(g)).prototype,"numLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(k.prototype,"goldname1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(k.prototype,"goldname2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(k.prototype,"goldname3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(k.prototype,"goldname4",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(k.prototype,"goldname5",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"goldname6",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"goldname7",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=k))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/SetSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSkill.ts","./Config.ts","./List.ts","./EventManager.ts","./EventCustom.ts","./GameUtil.ts","./ResourcesMgr.ts","./GameApi.ts","./Enums.ts","./UIcontrol.ts"],(function(t){"use strict";var e,i,l,n,r,a,o,s,c,u,g,p,S,f,h,k,m,_,d,b,I,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,l=t.inheritsLoose,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,o=t.Node,s=t.Sprite,c=t.Button,u=t.Prefab,g=t.Input,p=t.Component},function(t){S=t.ItemSkill},function(t){f=t.Config},function(t){h=t.default},function(t){k=t.EventMgr},function(t){m=t.default},function(t){_=t.GameUtil},function(t){d=t.resourcesMgr},function(t){b=t.GameApi},function(t){I=t.SKILLPAN_Type},function(t){y=t.uiControl}],execute:function(){var v,L,M,A,C,R,x,T,w,E,D,P,B,z,H,N,O,F,G,U,V,K,X,j,Y,q,J,Q,W,Z;r._RF.push({},"3d5dbrc8SVFAaxNwOGEE+Tk","SetSkill",void 0);var $=a.ccclass,tt=a.property,et=(a.menu,t("SkillInfo",(v=$("SkillInfo"),L=tt(o),v((C=e((A=function(){i(this,"btnItemSkillArr",C,this)}).prototype,"btnItemSkillArr",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=A))||M)));t("SetSkill",(R=$("SetSkill"),x=tt(s),T=tt(c),w=tt(o),E=tt(u),D=tt(c),P=tt(c),B=tt(o),z=tt(o),H=tt(c),N=tt(et),O=tt(h),R((U=e((G=function(t){function e(){for(var e,l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"bg",U,n(e)),i(e,"btnClose",V,n(e)),i(e,"content",K,n(e)),i(e,"itemSkillPref",X,n(e)),i(e,"btnLeft",j,n(e)),i(e,"btnRight",Y,n(e)),i(e,"PanSkillType1",q,n(e)),i(e,"PanSkillType2",J,n(e)),i(e,"btnReset",Q,n(e)),i(e,"skillInfoArr",W,n(e)),i(e,"listSkill",Z,n(e)),e._imgAttBase=null,e._preIdx=null,e._curSpf={spf:null,magicData:null},e}l(e,t);var r=e.prototype;return r.onLoad=function(){_.getSaveData("skillrocktype");null==f.useingSkillType&&I.MATRIX,f.useingSkillType==I.MATRIX?I.MATRIX:I.ROLL,this.switchSkillOperate(null,f.useingSkillType)},r.start=function(){this.registerEvents(),_.loadResLocal("SetSkill/gxx/setskill_bg.png",this.bg),_.loadResLocalButton("public/btn_close_01.png","public/btn_close_02.png",this.btnClose),_.loadResLocalButton("SetSkill/setskill_left.png","SetSkill/setskill_left (2).png",this.btnLeft),_.loadResLocalButton("SetSkill/setskill_right.png","SetSkill/setskill_right (2).png",this.btnRight),_.loadResLocalButton("SetSkill/gxx/setskill_reset.png","SetSkill/gxx/setskill_reset (2).png",this.btnReset);var t=this.PanSkillType1.getChildByName("Button").getComponent(c);_.loadResLocalButton("SetSkill/gxx/btn_att.png","SetSkill/gxx/btn_att (2).png",t);var e=this.PanSkillType2.getChildByName("Button").getComponent(c);_.loadResLocalButton("SetSkill/gxx/btn_att.png","SetSkill/gxx/btn_att (2).png",e)},r.updateView=function(){for(var t=this,e=1;e<=8;e++)_.loadResLocal("SetSkill/gxx/att_base.png",this.PanSkillType1.getChildByName("Pan1Btn"+e).getComponent(s)),_.loadResLocal("SetSkill/gxx/att_base.png",this.PanSkillType2.getChildByName("Pan2Btn"+e).getComponent(s));this.listSkill.numItems=f.g_UserMagicList.length;for(var i=0;i<this.skillInfoArr[0].btnItemSkillArr.length;i++)this.skillInfoArr[0].btnItemSkillArr[i].on(g.EventType.TOUCH_END,this.onClickRightItemSkillHandler,this),this.skillInfoArr[1].btnItemSkillArr[i].on(g.EventType.TOUCH_END,this.onClickRightItemSkillHandler,this);for(var l=function(e){f.g_SetupMagicList[e]&&d.resLoad(_.formatData(f.g_SetupMagicList[e]),(function(i){t.skillInfoArr[0].btnItemSkillArr[e].getComponent(s).spriteFrame=i,t.skillInfoArr[1].btnItemSkillArr[e].getComponent(s).spriteFrame=i}))},n=0;n<f.g_SetupMagicList.length;n++)l(n)},r.renderItemHandler=function(t,e){t.getComponent(S).initView(),t.getComponent(S).setData(f.g_UserMagicList[e]),e==this._preIdx&&t.getComponent(S).showSelectedImg()},r.itemEventHandler=function(t,e){var i=this;if(e!=this._preIdx){var l;t.getComponent(S).showSelectedImg();try{this.content.children.forEach((function(t){if(t._listId==i._preIdx)throw l=t,Error()}))}catch(t){}null!=this._preIdx&&l&&l.getComponent(S).hiddenSelectedImg(),this._curSpf={spf:t.getChildByName("Icon").getComponent(s).spriteFrame,magicData:t.magicData},this._preIdx=e,console.log(this._preIdx)}},r.onClickRightItemSkillHandler=function(t){var e=this;if(null!=this._curSpf.spf||null!=this._curSpf.magicData){var i=t.currentTarget;if(this._curSpf.spf!=i.getComponent(s).spriteFrame){var l=this._curSpf.magicData.Def.sMagicName;if("基本剑术"!=l&&"攻杀剑术"!=l&&"精神力战法"!=l&&"护体神盾"!=l){var n;if(i.getComponent(s).spriteFrame=this._curSpf.spf,f.useingSkillType==I.MATRIX?(n=this.skillInfoArr[0].btnItemSkillArr.indexOf(i),this.skillInfoArr[1].btnItemSkillArr[n].getComponent(s).spriteFrame=this._curSpf.spf):f.useingSkillType==I.ROLL&&(n=this.skillInfoArr[1].btnItemSkillArr.indexOf(i),this.skillInfoArr[0].btnItemSkillArr[n].getComponent(s).spriteFrame=this._curSpf.spf),this.upDataSkillView(this._curSpf,n),null!=this._preIdx){var r;try{this.content.children.forEach((function(t){if(t._listId==e._preIdx)throw r=t,Error()}))}catch(t){}r&&r.getComponent(S).hiddenSelectedImg()}this._curSpf.magicData=this._curSpf.spf=null,this._preIdx=null}else y.handlerAlert({type:1,content:"被动技能无法主动布置"})}}},r.upDataSkillView=function(t,e){for(var i=f.g_SetupMagicList.length,l=0;l<i;l++)if(f.g_SetupMagicList[l]&&f.g_SetupMagicList[l].Def.wMagicId==t.magicData.Def.wMagicId){f.activate_ok==f.g_SetupMagicList[l]&&(f.activate_ok=null),_.loadResLocal("SetSkill/gxx/att_base.png",this.skillInfoArr[0].btnItemSkillArr[l].getComponent(s)),_.loadResLocal("SetSkill/gxx/att_base.png",this.skillInfoArr[1].btnItemSkillArr[l].getComponent(s)),b.setSkillKey(f.g_SetupMagicList[l].Def.wMagicId,0),f.g_SetupMagicList[l]=null;break}f.g_SetupMagicList[e]&&f.g_SetupMagicList[e].Def.wMagicId!=t.magicData.Def.wMagicId&&(f.activate_ok==f.g_SetupMagicList[e]&&(f.activate_ok=null),b.setSkillKey(f.g_SetupMagicList[e].Def.wMagicId,0)),f.g_SetupMagicList[e]=this._curSpf.magicData,b.setSkillKey(f.g_SetupMagicList[e].Def.wMagicId,e+49),k.raiseEvent(m.UPDATE_ICON)},r.onClickBtnClose=function(){var t,e=this;try{this.content.children.forEach((function(i){if(i._listId==e._preIdx)throw t=i,Error()}))}catch(t){}null!=this._preIdx&&t&&t.getComponent(S).hiddenSelectedImg(),this.listSkill.scrollTo(-1,0),this._preIdx=null,this._curSpf.magicData=this._curSpf.spf=null,this.node.active=!1},r.switchSkillOperate=function(t,e){e==I.ROLL?(f.useingSkillType=I.ROLL,this.btnLeft.node.active=this.PanSkillType1.active=!1,this.btnRight.node.active=this.PanSkillType2.active=!0):(f.useingSkillType=I.MATRIX,this.btnLeft.node.active=this.PanSkillType1.active=!0,this.btnRight.node.active=this.PanSkillType2.active=!1),k.raiseEvent(m.CHANGE_TYPE,f.useingSkillType),_.setSaveData("skillrocktype",f.useingSkillType)},r.resetKeyPosition=function(){k.raiseEvent(m.REMOVE_MAGIC);for(var t=0;t<f.g_SetupMagicList.length;t++)f.g_SetupMagicList[t]&&(_.loadResLocal("SetSkill/gxx/att_base.png",this.skillInfoArr[0].btnItemSkillArr[t].getComponent(s)),_.loadResLocal("SetSkill/gxx/att_base.png",this.skillInfoArr[1].btnItemSkillArr[t].getComponent(s)),b.setSkillKey(f.g_SetupMagicList[t].Def.wMagicId,0),f.g_SetupMagicList[t]=null);f.activate_ok=null},r.evtMgrMagicRefreshHandler=function(){this.updateView()},r.registerEvents=function(){console.log("注册SetSkill事件"),k.addEventListener(m.MAGIC_REFRESH,this.evtMgrMagicRefreshHandler,this)},r.unRegisterEvents=function(){console.log("注销SetSkill事件"),k.removeEventListener(m.MAGIC_REFRESH,this.evtMgrMagicRefreshHandler,this)},r.update=function(t){},e}(p)).prototype,"bg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"btnClose",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(G.prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(G.prototype,"itemSkillPref",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"btnLeft",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"btnRight",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(G.prototype,"PanSkillType1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(G.prototype,"PanSkillType2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(G.prototype,"btnReset",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(G.prototype,"skillInfoArr",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(G.prototype,"listSkill",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=G))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/SeverSelectBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,c,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Label,l=e.Component}],execute:function(){var s,u,p,f,v;o._RF.push({},"b28adwP0nhOdrzKI1yRpw+h","SeverSelectBtn",void 0);var h=c.ccclass,y=c.property;e("SeverSelectBtn",(s=h("SeverSelectBtn"),u=y(a),s((v=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"serverName",v,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.getName=function(e){this.serverName.string=e},o.update=function(e){},o.onBtn=function(){console.log("服务器item被点击")},t}(l)).prototype,"serverName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Sha1.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"74b3bcSjKpEyoHVng6dfUGh","Sha1",void 0);t("tool_Sha1",function(){function t(){this.hexcase=0,this.chrsz=8}var r=t.prototype;return r.hex_sha1=function(t){return this.binb2hex(this.core_sha1(this.AlignSHA1(t)))},r.core_sha1=function(t){for(var r=t,a=Array(80),e=1732584193,n=-271733879,s=-1732584194,h=271733878,i=-1009589776,f=0;f<r.length;f+=16){for(var o=e,c=n,u=s,d=h,_=i,l=0;l<80;l++){a[l]=l<16?r[f+l]:this.rol(a[l-3]^a[l-8]^a[l-14]^a[l-16],1);var A=this.safe_add(this.safe_add(this.rol(e,5),this.sha1_ft(l,n,s,h)),this.safe_add(this.safe_add(i,a[l]),this.sha1_kt(l)));i=h,h=s,s=this.rol(n,30),n=e,e=A}e=this.safe_add(e,o),n=this.safe_add(n,c),s=this.safe_add(s,u),h=this.safe_add(h,d),i=this.safe_add(i,_)}return new Array(e,n,s,h,i)},r.sha1_ft=function(t,r,a,e){return t<20?r&a|~r&e:t<40?r^a^e:t<60?r&a|r&e|a&e:r^a^e},r.sha1_kt=function(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514},r.safe_add=function(t,r){var a=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(a>>16)<<16|65535&a},r.rol=function(t,r){return t<<r|t>>>32-r},r.AlignSHA1=function(t){for(var r=1+(t.length+8>>6),a=new Array(16*r),e=0;e<16*r;e++)a[e]=0;for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<24-8*(3&e);return a[e>>2]|=128<<24-8*(3&e),a[16*r-1]=8*t.length,a},r.binb2hex=function(t){for(var r=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",a="",e=0;e<4*t.length;e++)a+=r.charAt(t[e>>2]>>8*(3-e%4)+4&15)+r.charAt(t[e>>2]>>8*(3-e%4)&15);return a},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ShelvesItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./RGBCode.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,s,u,c,p,b,m,d,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,s=e.Label,u=e.Sprite,c=e.Component},function(e){p=e.EventMgr},function(e){b=e.Config},function(e){m=e.default},function(e){d=e.resourcesMgr},function(e){f=e.rgbCode},function(e){h=e.GameUtil}],execute:function(){var _,g,y,I,v,E,T,C,L,D,P,N,S,w,M,A,R,z,B,H;o._RF.push({},"2d1f4PQ/2ZIYZByUbaR82Om","ShelvesItem",void 0);var U=a.ccclass,G=a.property,O=a.menu;e("ShelvesItem",(_=U("ShelvesItem"),g=O("拍品item/ShelvesItem"),y=G(l),I=G(s),v=G(s),E=G(s),T=G(s),C=G(s),L=G(u),D=G(u),_(P=g((S=t((N=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"propNode",S,r(t)),i(t,"propName_lab",w,r(t)),i(t,"lastTime_lab",M,r(t)),i(t,"bidPrice_lab",A,r(t)),i(t,"oncePrice_lab",R,r(t)),i(t,"rate_lab",z,r(t)),i(t,"bidIcon_spr",B,r(t)),i(t,"oncePriceIcon_spr",H,r(t)),t._data=null,t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.init()},o.start=function(){this.loadResByLocal()},o.loadResByLocal=function(){h.loadResLocal("AuctionHouseWin/shelvesItem.png",this.node.getComponent(u)),h.loadResLocal("AuctionHouseWin/setiing_itemFrame.png",this.propNode.getComponent(u))},o.init=function(){p.addEventListener(m.UPDATESHELVESITEMDATA,this.updateItemData,this),p.addEventListener(m.SHELVESITEM_COUNTDOWN,this.updateCountDown,this)},o.showUI=function(e){var t=this;this._data=e,this.propName_lab.string=e.sItemName;var n=h.getCurrencyIconSkinByGoldType(e.btMoneyType);d.handleLoad(n,(function(e,n){t.bidIcon_spr.spriteFrame=t.oncePriceIcon_spr.spriteFrame=n})),this.bidPrice_lab.string=h.aucitonMoneyParse(e.nCurrentPrice),this.oncePrice_lab.string=h.aucitonMoneyParse(e.nBuyOutPrice),this.lastTime_lab.string=h.auctionLastTime(e.dateCompareNum),this.rate_lab.string=Math.floor(b.g_customItemAttr.AuctionTax[e.btMoneyType]/100)+"%",this.updateItemData()},o.updateCountDown=function(){this.lastTime_lab.string=h.auctionCountDownHandle(this.lastTime_lab.string)},o.updateItemData=function(){if(this._data){var e=b.g_aucitonItemList[this._data.nRecog+""];e&&(h.showItemNum(e,this.propNode),this.propName_lab.color=h.getColorBy16(f.Get2RGB(e.s.Color)))}},o.onDestroy=function(){this._data=null,p.removeEventListener(m.UPDATESHELVESITEMDATA,this.updateItemData,this),p.removeEventListener(m.SHELVESITEM_COUNTDOWN,this.updateCountDown,this)},t}(c)).prototype,"propNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(N.prototype,"propName_lab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"lastTime_lab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"bidPrice_lab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"oncePrice_lab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"rate_lab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"bidIcon_spr",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"oncePriceIcon_spr",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=N))||P)||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,c,l,u,g,p,d,m,f,_,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.Label,l=t.Sprite,u=t.NodeEventType,g=t.Component},function(t){p=t.EventMgr},function(t){d=t.Config},function(t){m=t.default},function(t){f=t.OPEN_ITEMINFO_WIN_TYPE},function(t){_=t.resourcesMgr},function(t){h=t.GameUtil}],execute:function(){var I,E,v,N,b,S,O,y,P,M,F,L,w,C;a._RF.push({},"a044blRW4ZOdq6miz0LSdfu","ShopPageItem",void 0);var W=r.ccclass,z=r.property,T=r.menu;t("default",(I=W("ShopPageItem"),E=T("实例模块/ShopPageItem"),v=z(s),N=z(c),b=z(c),S=z(l),O=z(l),I(y=E((M=e((P=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"selectNode",M,o(e)),n(e,"goodsName",F,o(e)),n(e,"price",L,o(e)),n(e,"icon",w,o(e)),n(e,"goodsBG",C,o(e)),e.item_data=void 0,e.index=0,e.onItemClick=null,e}i(e,t);var a=e.prototype;return a.start=function(){var t=this.selectNode.getComponent(l);h.loadResLocal("ShopWin/bg_2.png",t),h.loadResLocal("ShopWin/bg_1.png",this.goodsBG),d.g_isOnWindows&&(this.icon.node.on(u.MOUSE_ENTER,this.clickItemPc,this),this.icon.node.on(u.MOUSE_LEAVE,(function(){p.raiseEvent(m.CLOSE_NEW_ITEM_INFO)}),this))},a.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},a.setSelected=function(t){this.selectNode.active=t},a.initData=function(t){var e=this;t&&(this.goodsName.string=t.name,this.price.string=t.price.toString(),this.price.string=""+t.price.toString()+t.type,_.resLoad(t.image_data.plist,(function(i){i&&e.icon&&i.getSpriteFrame(t.image_data.img)&&(e.icon.spriteFrame=i.getSpriteFrame(t.image_data.img))})),this.item_data=t.data,t.data.s.BagEffect.FileIndex&&h.showItemeffect(this.icon.node,t.data))},a.clickItem=function(){this.item_data&&(d.g_MoveItems.Items=this.item_data,d.g_OpenIdx=f.SHOP,p.raiseEvent(m.OPEN_NEW_ITEM_INFO,[this.item_data]))},a.clickItemPc=function(t){this.item_data&&(null!=t&&d.g_isOnWindows&&(d.g_pcMousePoint=t.getUILocation()),d.g_MoveItems.Items=this.item_data,d.g_OpenIdx=f.SHOP,p.raiseEvent(m.OPEN_NEW_ITEM_INFO,[this.item_data]))},e}(g)).prototype,"selectNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(P.prototype,"goodsName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"price",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(P.prototype,"goodsBG",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P))||y)||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts","./ShopPageItem.ts"],(function(e){"use strict";var t,i,n,o,r,c,a,s,l,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Prefab,s=e.instantiate,l=e.Component},function(e){u=e.GameUtil},function(e){f=e.default}],execute:function(){var d,p,h,g,m,I;r._RF.push({},"45f2b5nbNNCIpOpdLNZcWMI","ShopPageView",void 0);var b=c.ccclass,P=c.property,v=c.menu;e("default",(d=b("ShopPageView"),p=v("实例模块/ShopPageView"),h=P(a),d(g=p((I=t((m=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"goodsPrefab",I,o(t)),t.goodsItems=[],t}i(t,e);var r=t.prototype;return r.start=function(){},r.initData=function(e,t){for(var i=10*t;i<10*t+10;i++)if(e[i]){var n=s(this.goodsPrefab),o=n.getComponent(f);this.node.addChild(n),o.onItemClick=this.onItemClicked.bind(this),o.initData(e[i]),o.index=i,this.goodsItems.push(o)}},r.onItemClicked=function(e){this.goodsItems.forEach((function(t,i){i==e%10?(t.setSelected(!0),t.clickItem()):t.setSelected(!1)}))},r.cleanAllSelect=function(){this.goodsItems.forEach((function(e,t){e.setSelected(!1)}))},r.cleanAllAni=function(){this.goodsItems.forEach((function(e,t){u.removeItemAni(e.icon.node,"effect")}))},t}(l)).prototype,"goodsPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopRechargeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts","./CommonClickItem.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,c,l,u,m,d,f,g,p,h,_,I,b,N,v,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,c=t.Sprite,l=t.Node,u=t.Prefab,m=t.instantiate,d=t.resources,f=t.Component},function(t){g=t.EventMgr},function(t){p=t.Config},function(t){h=t.default},function(t){_=t.NewRechargeDate,I=t.PRODUCT_TYPE,b=t.OPEN_ITEMINFO_WIN_TYPE},function(t){N=t.resourcesMgr},function(t){v=t.GameUtil},function(t){C=t.default}],execute:function(){var y,E,O,w,P,B,M,S,k,z,F,R,T,D,x,L,W,G,A,U,H,Y;r._RF.push({},"f58aaWPt/NA1ar1TdkZ/8qX","ShopRechargeItem",void 0);var j=a.ccclass,q=a.property,X=a.menu;t("default",(y=j("ShopRechargeItem"),E=X("实例模块/ShopRechargeItem"),O=q(s),w=q(s),P=q(c),B=q(c),M=q(c),S=q(c),k=q(l),z=q(c),F=q(u),y(R=E((D=e((T=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"goodsName",D,o(e)),n(e,"price",x,o(e)),n(e,"icon",L,o(e)),n(e,"iconBig",W,o(e)),n(e,"goodsBG",G,o(e)),n(e,"firstICON",A,o(e)),n(e,"firstItemContentNode",U,o(e)),n(e,"otherBtn",H,o(e)),n(e,"commonClickItem",Y,o(e)),e.item_data=void 0,e.index=0,e.data=new _,e.onItemClick=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.onButtonClick=function(){var t;null==(t=this.onItemClick)||t.call(this,this.index)},r.initData=function(t,e){var i=this;t&&(t.type==I.NORMAL?(this.data=t,this.goodsName.string=""+t.goods_num+t.goods_name,this.price.string="￥"+t.goods_price.toString(),this.otherBtn.node.active=!1,this.icon.node.active=!0):(this.data=t,this.goodsName.string="其他",this.price.string="其他",this.otherBtn.node.active=!0,this.icon.node.active=!1),t.goods_item&&(N.handleLoad(t.goods_item.res.plist,(function(e){e&&i.icon&&e.getSpriteFrame(t.goods_item.res.img)&&(i.icon.spriteFrame=e.getSpriteFrame(t.goods_item.res.img))})),t.goods_item.data.s.BagEffect.FileIndex&&v.showItemeffect(this.icon.node,t.goods_item.data),this.item_data=t.goods_item.data),this.firstICON.node.active=t.first_recharge,t.first_items.length>0?(this.firstItemContentNode.active=!0,this.firstItemContentNode.destroyAllChildren(),t.first_items.forEach((function(t,e){var n=m(i.commonClickItem);i.firstItemContentNode.addChild(n),n.getComponent(C).init(t)}))):this.firstItemContentNode.active=!1,d.load("NewShopWin/recharge_icon"+e+"/spriteFrame",(function(t,e){i.iconBig.spriteFrame=e})))},r.clickItem=function(){this.item_data&&(p.g_MoveItems.Items=this.item_data,p.g_OpenIdx=b.SHOP,g.raiseEvent(h.OPEN_NEW_ITEM_INFO,[this.item_data]))},r.clickItemPc=function(t){this.item_data&&(null!=t&&p.g_isOnWindows&&(p.g_pcMousePoint=t.getUILocation()),p.g_MoveItems.Items=this.item_data,p.g_OpenIdx=b.SHOP,g.raiseEvent(h.OPEN_NEW_ITEM_INFO,[this.item_data]))},e}(f)).prototype,"goodsName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(T.prototype,"price",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"icon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(T.prototype,"iconBig",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(T.prototype,"goodsBG",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"firstICON",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"firstItemContentNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(T.prototype,"otherBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(T.prototype,"commonClickItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=T))||R)||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./CuriousItem.ts","./ShopPageItem.ts"],(function(e){"use strict";var t,n,i,o,a,s,r,u,c,l,d,g,h,f,m,p,b,G,_,y,v,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Prefab,u=e.PageView,c=e.Node,l=e.Label,d=e.Toggle,g=e.instantiate,h=e.Component},function(e){f=e.EventMgr},function(e){m=e.Config},function(e){p=e.default},function(e){b=e.GoodsData},function(e){G=e.sendmessage},function(e){_=e.default},function(e){y=e.GameUtil},function(e){v=e.default},function(e){I=e.default}],execute:function(){var C,S,k,P,D,E,M,N,w,L,x,T,z,U,A,B,R,V,W,O;a._RF.push({},"d1037xNbRZF4Y9Lz0LzveUV","ShopWin",void 0);var F=s.ccclass,H=s.property,j=s.menu;e("default",(C=F("ShopWin"),S=j("弹窗模块/ShopWin"),k=H(r),P=H(u),D=H(r),E=H(c),M=H(l),N=H(d),w=H(_),L=H(c),C(x=S((z=t((T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"pagePrefab",z,o(t)),i(t,"pageView",U,o(t)),i(t,"curiousGoodsPrefab",A,o(t)),i(t,"curiousGoodsContentNode",B,o(t)),i(t,"pageNum",R,o(t)),i(t,"tabBarButton",V,o(t)),i(t,"list",W,o(t)),i(t,"contentNode",O,o(t)),t.curiousGoodsData=[],t.curiousGoodsItems=[],t.pageGoodsData=[],t.curPage=1,t.maxPage=1,t.toggle_index=0,t.select_goods_index=-1,t}n(t,e);var a=t.prototype;return a.start=function(){var e=this;m.MainScene.openShop=!0,this.initMgr(),m.ShopItemList.forEach((function(t,n){t.length>0&&e.UpdateItems([!0,n])}))},a.initMgr=function(){f.addEventListener(p.UPDATE_ITEMS,this.UpdateItems,this),f.addEventListener(p.UPDOWN,this.pageCallback,this),f.addEventListener(p.REMOEV_ANI,this.removeAni,this)},a.UpdateItems=function(e){e[0]?this.initPage(e[1]):this.initcuriousGoods()},a.DrawItems=function(){},a.DrwaStrangeItems=function(){},a.onToggleHandler=function(e){var t;this.tabBarButton.forEach((function(n,i){try{if(n.node==e.target)throw t=i,Error()}catch(e){}})),this.toggle_index!=t&&(this.toggle_index=t,this.initPage(this.toggle_index))},a.initPage=function(e){if(this.toggle_index==e){this.pageGoodsData=[];var t=m.ShopItemList;if(this.select_goods_index=-1,this.curPage=m.G_Cur_Shop_Page[e]?m.G_Cur_Shop_Page[e]+1:1,this.maxPage=m.G_Total_Shop_Page[e]?m.G_Total_Shop_Page[e]:1,t[e].length>0){for(var n in t[e]){var i=t[e][n],o=new b;o.data=i,o.name=i.s.Name,o.price=i.s.Price,o.image_data=y.loadImgData(i.s.Looks,"items"),o.type=this.GetMoneyType(i.GameMoney),this.pageGoodsData.push(o)}this.list.numItems=this.pageGoodsData.length}else this.list.numItems=this.pageGoodsData.length;t=null}},a.RenderItemHandler=function(e,t){var n=this.pageGoodsData[t];if(n){var i=e.getComponent(I);i.index=t,i.initData(n),i.onItemClick=this.onItemClicked.bind(this),this.select_goods_index!=t?i.setSelected(!1):i.setSelected(!0)}},a.onItemClicked=function(e){var t=this;this.contentNode.children.forEach((function(n,i){var o=n.getComponent(I);o.index==e?(t.select_goods_index=e,o.setSelected(!0),o.clickItem()):o.setSelected(!1)}))},a.initcuriousGoods=function(){var e=this;this.curiousGoodsContentNode.destroyAllChildren(),this.curiousGoodsData=[],this.curiousGoodsItems=[];var t=m.StrageList;t.forEach((function(t,n){var i=g(e.curiousGoodsPrefab);e.curiousGoodsContentNode.addChild(i);var o=i.getComponent(v),a=new b;a.name=t.s.Name,a.price=t.s.Price,a.image_data=y.loadImgData(t.s.Looks,"items"),a.type=e.GetMoneyType(t.GameMoney),a.data=t,e.curiousGoodsData.push(a),o.index=n,o.onItemClick=e.onCuriousItemClicked.bind(e),o.initData(a),e.curiousGoodsItems.push(o)})),t=null},a.GetMoneyType=function(e){var t="";switch(e){case 0:t=m.g_GameGoldNum.key;break;case 1:t=m.g_GameCionNum.key;break;case 2:t=m.g_GamePointNum.key;break;case 3:t=m.g_bindCionNum.key;break;case 4:t=m.g_bindGoldNum.key;break;case 5:t=m.g_nGameDiamond.key;break;case 6:t=m.g_nGameGird.key}return m.G_Money_Type=t,t},a.onCuriousItemClicked=function(e){this.curiousGoodsItems.forEach((function(t,n){n==e?(t.setSelected(!0),t.clickItem()):t.setSelected(!1)}))},a.onSponsoredPackage=function(){G.SendGameMainBtnMsg("活动介绍")},a.closeView=function(){this.curiousGoodsItems.forEach((function(e,t){y.removeItemAni(e.icon.node,"effect")})),this.node.destroy()},a.onDestroy=function(){m.MainScene.openShop=!1,f.removeEventListener(p.UPDATE_ITEMS,this.UpdateItems,this),f.removeEventListener(p.UPDOWN,this.pageCallback,this),f.removeEventListener(p.REMOEV_ANI,this.removeAni,this)},a.removeAni=function(e){e[0]==this.node.name&&this.closeView()},a.onClickLastPage=function(){},a.onClickNextPage=function(){},a.pageCallback=function(){},a.onClickRecharge=function(){m.MainScene.openRecharge?m.MainScene.closeWindow("RechargeWin"):G.SendGameMainBtnMsg("充值")},t}(h)).prototype,"pagePrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"pageView",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(T.prototype,"curiousGoodsPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"curiousGoodsContentNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"pageNum",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(T.prototype,"tabBarButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(T.prototype,"list",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"contentNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=T))||x)||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopWinSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(e){"use strict";var t,n,l,r,i,o,a,c,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,a=e.Sprite,c=e.Button,u=e.Component},function(e){s=e.GameUtil}],execute:function(){var p,g,b,h,f,B,R,k,S,_,d,y,m,w,z,L,M,T,v,G,W,P,x,D,F,H,J,U,j,A,C,E,I,K,q,N;i._RF.push({},"9e5c0StortEBbHJvGa6JKph","ShopWinSprite",void 0);var O=o.ccclass,Q=o.property,V=o.menu;e("default",(p=O("ShopWinSprite"),g=V("图片模块/ShopWinSprite"),b=Q(a),h=Q(a),f=Q(a),B=Q(a),R=Q(a),k=Q(a),S=Q(a),_=Q(a),d=Q(a),y=Q(a),m=Q(a),w=Q(a),z=Q(a),L=Q(a),M=Q(c),T=Q(c),p(v=g((W=t((G=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,l(t,"shopBG",W,r(t)),l(t,"closeBtn",P,r(t)),l(t,"rechargeBtn",x,r(t)),l(t,"Toggle1",D,r(t)),l(t,"checkMark1",F,r(t)),l(t,"Toggle2",H,r(t)),l(t,"checkMark2",J,r(t)),l(t,"Toggle3",U,r(t)),l(t,"checkMark3",j,r(t)),l(t,"Toggle4",A,r(t)),l(t,"checkMark4",C,r(t)),l(t,"Toggle5",E,r(t)),l(t,"checkMark5",I,r(t)),l(t,"btn_sponsorPack",K,r(t)),l(t,"nextBtn",q,r(t)),l(t,"lastBtn",N,r(t)),t}return n(t,e),t.prototype.start=function(){s.loadResLocal("ShopWin/shopping_bg1.png",this.shopBG),s.loadResLocal("ShopWin/zzlb1.png",this.btn_sponsorPack),s.loadResLocal("SplitResource/Btns/btn_select5.png",this.rechargeBtn),s.loadResLocal("public/btn_close_new.png",this.closeBtn),s.loadResLocal("SplitResource/Btns/btn_select0.png",this.Toggle1),s.loadResLocal("SplitResource/Btns/btn_select0 (3).png",this.checkMark1),s.loadResLocal("SplitResource/Btns/btn_select1.png",this.Toggle2),s.loadResLocal("SplitResource/Btns/btn_select1 (3).png",this.checkMark2),s.loadResLocal("SplitResource/Btns/btn_select2.png",this.Toggle3),s.loadResLocal("SplitResource/Btns/btn_select2 (3).png",this.checkMark3),s.loadResLocal("SplitResource/Btns/btn_select3.png",this.Toggle4),s.loadResLocal("SplitResource/Btns/btn_select3 (3).png",this.checkMark4),s.loadResLocal("SplitResource/Btns/btn_select4.png",this.Toggle5),s.loadResLocal("SplitResource/Btns/btn_select4 (3).png",this.checkMark5),s.loadResLocalButton("SplitResource/Btns/btn_up (2).png","SplitResource/Btns/btn_up.png",this.lastBtn,"SplitResource/Btns/btn_up (3).png"),s.loadResLocalButton("SplitResource/Btns/btn_down (2).png","SplitResource/Btns/btn_down.png",this.nextBtn,"SplitResource/Btns/btn_down (3).png")},t}(u)).prototype,"shopBG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(G.prototype,"closeBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(G.prototype,"rechargeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(G.prototype,"Toggle1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(G.prototype,"checkMark1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"Toggle2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(G.prototype,"checkMark2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(G.prototype,"Toggle3",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"checkMark3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(G.prototype,"Toggle4",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(G.prototype,"checkMark4",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(G.prototype,"Toggle5",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(G.prototype,"checkMark5",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"btn_sponsorPack",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(G.prototype,"nextBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(G.prototype,"lastBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=G))||v)||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShouShiWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./GameUtil.ts","./DragItem.ts","./HumEquipItem.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,u,l,c,h,m,d,f,p,g,v,E,I,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Prefab,u=e.Node,l=e.Sprite,c=e.instantiate,h=e.Component},function(e){m=e.EventMgr},function(e){d=e.Config},function(e){f=e.U_Type},function(e){p=e.default},function(e){g=e.EquipData},function(e){v=e.GameUtil},function(e){E=e.DragItem,I=e.e_DragItem_Type},function(e){S=e.default}],execute:function(){var y,b,D,L,N,_,C,W,R,w,H,B;r._RF.push({},"def74xanxxFQqzhUEAwoJY8","ShouShiWin",void 0);var x=a.ccclass,M=a.menu,J=a.property;e("default",(y=x("ShouShiWin"),b=M("弹窗模块/ShouShiWin"),D=J(s),L=J(u),N=J(l),_=J(l),y(C=b((R=t((W=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"itemPrefab",R,o(t)),i(t,"contentNode",w,o(t)),i(t,"BG",H,o(t)),i(t,"CloseBtn",B,o(t)),t.HumItems=[],t}n(t,e);var r=t.prototype;return r.start=function(){v.loadResLocal("HumWin/shoushi.png",this.BG),v.loadResLocal("public/btn_close_new.png",this.CloseBtn),d.MainScene.openShouShi=!0,E.dragItemType=I.Shoushi,this.initMgr()},r.initMgr=function(){m.addEventListener(p.SHOW_SHOUSHI_BOX,this.updateData,this),m.addEventListener(p.REMOEV_ANI,this.removeAni,this)},r.initData=function(e){if(e){this.HumItems=e;for(var t=0;t<6;t++){var n=this.HumItems[t];if(null!=n&&n.MakeIndex>0){var i=n.s.Looks;v.loadImageEx(i,this.contentNode,!1,t+f.JEWELRY1,"stateitem",this,!1),this.initDragItem(this.contentNode.getChildByName(""+t),t+f.JEWELRY1,I.Shoushi)}else{var o=new g,r=c(this.itemPrefab);this.initDragItem(r,t+f.JEWELRY1,I.Shoushi);var a=r.getComponent(S);o.type=t+f.JEWELRY1,r.name=""+(t+f.JEWELRY1),a.initNewData(o,!1),this.contentNode.addChild(r)}}}},r.initDragItem=function(e,t,n){var i;if(e&&e.parent&&(i=e.parent.getComponent(E)),e&&!i&&(i=e.getComponent(E)),e&&!i&&e.children[0]&&(i=e.children[0].getComponent(E)),i){console.log("设置首饰界面item类型为："+n),console.log("设置首饰界面index为："+t);var o={itemsData:d.g_UserItemList,selectIndex:void 0,hasBgFrame:!1,maxUnlockCount:void 0,itemType:n};i.setData(o,t),i.showItemSprite()}else console.log("首饰没添加到dragitem")},r.updateData=function(e){this.HumItems=e;for(var t=0;t<6;t++){var n=this.HumItems[t];if(null!=n&&n.MakeIndex>0){var i=n.s.Looks;v.loadImageEx(i,this.contentNode,!1,t+f.JEWELRY1,"stateitem",this,!1),this.initDragItem(this.contentNode.getChildByName(""+t),t+f.JEWELRY1,I.Shoushi)}else if(this.contentNode)for(var o=0;o<this.contentNode.children.length;o++){var r=this.contentNode.children[o],a=r.getComponent(S);if(a.equip_type==t+f.JEWELRY1){var s=new g;this.initDragItem(r,t+f.JEWELRY1,I.Shoushi),a.initNewData(s,!1),v.removeItemAni(r,"bodyeffect");break}}}},r.closeView=function(){for(var e=0;e<this.contentNode.children.length;e++){var t=this.contentNode.children[e];t&&v.removeItemAni(t,"bodyeffect")}this.node.destroy()},r.onDestroy=function(){d.MainScene.openShouShi=!1,m.removeEventListener(p.SHOW_SHOUSHI_BOX,this.updateData,this),m.removeEventListener(p.REMOEV_ANI,this.removeAni,this)},r.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(h)).prototype,"itemPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(W.prototype,"contentNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(W.prototype,"BG",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(W.prototype,"CloseBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=W))||C)||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShousWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./GameDefine.ts","./GameUtil.ts","./DragItem.ts","./HumEquipItem.ts"],(function(e){"use strict";var t,n,i,o,a,r,s,u,l,c,h,m,d,f,p,g,v,S,D,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,u=e.Node,l=e.Sprite,c=e.instantiate,h=e.Component},function(e){m=e.EventMgr},function(e){d=e.Config},function(e){f=e.U_Type},function(e){p=e.default},function(e){g=e.EquipData},function(e){v=e.GameUtil},function(e){S=e.DragItem,D=e.e_DragItem_Type},function(e){y=e.default}],execute:function(){var I,E,b,B,L,N,G,_,C,w,O,A,H,M;a._RF.push({},"dfe00Nlb9JLf4VLvBy3Gdca","ShousWin",void 0);var U=r.ccclass,x=r.menu,k=r.property;e("default",(I=U("ShousWin"),E=x("弹窗模块/ShousWin"),b=k(s),B=k(u),L=k(l),N=k(l),G=k(l),I(_=E((w=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"itemPrefab",w,o(t)),i(t,"contentNode",O,o(t)),i(t,"BG",A,o(t)),i(t,"CloseBtn",H,o(t)),i(t,"UpdateBtn",M,o(t)),t.HumItems=[],t}n(t,e);var a=t.prototype;return a.start=function(){v.loadResLocal("HumWin/shengxiao.png",this.BG),v.loadResLocal("public/btn_close_new.png",this.CloseBtn),v.loadResLocal("public/btn_ok.png",this.UpdateBtn),d.MainScene.openShouS=!0,S.dragItemType=D.shenyou,this.initMgr()},a.initMgr=function(){m.addEventListener(p.UPDATE_SHENGXIAO,this.updateData,this),m.addEventListener(p.REMOEV_ANI,this.removeAni,this)},a.initData=function(e){if(e){this.HumItems=e,console.log("this.HumItems=",this.HumItems);for(var t=0;t<12;t++){var n=this.HumItems[t];if(null!=n&&n.MakeIndex>0){var i=n.s.Looks;v.loadImageEx(i,this.contentNode,!1,t+f.GODBLESS1,"stateitem",this,!1),this.initDragItem(this.contentNode.getChildByName(""+t),t+f.GODBLESS1,D.shenyou)}else{var o=new g,a=c(this.itemPrefab);this.contentNode.addChild(a),this.initDragItem(a,t+f.GODBLESS1,D.shenyou);var r=a.getComponent(y);o.type=t+f.GODBLESS1,a.name=""+(t+f.GODBLESS1),r.initNewData(o,!1)}}}},a.initDragItem=function(e,t,n){var i;if(e&&e.parent&&(i=e.parent.getComponent(S)),e&&!i&&(i=e.getComponent(S)),e&&!i&&e.children[0]&&(i=e.children[0].getComponent(S)),i){console.log("设置神佑界面item类型为："+n),console.log("设置神佑界面index为："+t);var o={itemsData:d.g_UserItemList,selectIndex:void 0,hasBgFrame:!1,maxUnlockCount:void 0,itemType:n};i.setData(o,t),i.showItemSprite()}},a.updateData=function(e){this.HumItems=e;for(var t=0;t<12;t++){var n=this.HumItems[t];if(null!=n&&n.MakeIndex>0){var i=n.s.Looks;v.loadImageEx(i,this.contentNode,!1,t+f.GODBLESS1,"stateitem",this,!1),this.initDragItem(this.contentNode.getChildByName(""+t),t+f.GODBLESS1,D.shenyou)}else if(this.contentNode)for(var o=0;o<this.contentNode.children.length;o++){var a=this.contentNode.children[o],r=a.getComponent(y);if(r.equip_type>=f.GODBLESS1&&r.equip_type-f.GODBLESS1==t){var s=new g;this.initDragItem(a,t+f.GODBLESS1,D.shenyou),r.initNewData(s,!1),v.removeItemAni(a,"bodyeffect");break}}}},a.closeView=function(){for(var e=0;e<this.contentNode.children.length;e++){var t=this.contentNode.children[e];t&&v.removeItemAni(t,"bodyeffect")}this.node&&this.node.destroy()},a.onDestroy=function(){d.MainScene.openShouS=!1,m.removeEventListener(p.UPDATE_SHENGXIAO,this.updateData,this),m.removeEventListener(p.REMOEV_ANI,this.removeAni,this)},a.removeAni=function(e){e[0]==this.node.name&&this.closeView()},t}(h)).prototype,"itemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(C.prototype,"contentNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"BG",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(C.prototype,"CloseBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(C.prototype,"UpdateBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_)||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/simpleScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Struct.ts","./ItemMgr.ts","./MoveModule.ts","./ResourcesMgr.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./RGBCode.ts","./List.ts","./Astart.ts","./GameApi.ts","./GameUtil.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,u,l,c,b,h,m,p,f,g,d,v,y,_,x,w,A,L,C,k,M,G,I,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,u=t.Button,l=t.Vec2,c=t.Label,b=t.Sprite,h=t.color,m=t.Color,p=t.Vec3,f=t.tween,g=t.Component},function(t){d=t.EventMgr},function(t){v=t.Config},function(t){y=t.Struct_ins},function(t){_=t.itemMgr},function(t){x=t.Movemodule},function(t){w=t.resourcesMgr},function(t){A=t.objectcontrol},function(t){L=t.objectmanage},function(t){C=t.sendmessage},function(t){k=t.rgbCode},function(t){M=t.default},function(t){G=t.Astart},function(t){I=t.GameApi},function(t){S=t.GameUtil}],execute:function(){var T,j,z,H,N,R,D,P,B,E,F,U,V,J,O,X,q,K,Q,W,Y,Z,$,tt,et,it,nt,rt,ot,at,st;o._RF.push({},"9bf9dyjD3RCeLNTwI0v6j2N","simpleScreen",void 0);var ut=a.ccclass,lt=a.property;t("simpleScreen",(T=ut("simpleScreen"),j=lt(s),z=lt(u),H=lt(u),N=lt(u),R=lt(u),D=lt(s),P=lt(M),B=lt(M),E=lt(M),F=lt(s),U=lt(s),V=lt(u),J=lt(u),O=lt(s),T((K=e((q=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"img_screen",K,r(e)),n(e,"btn_task",Q,r(e)),n(e,"btn_circum",W,r(e)),n(e,"btn_hum",Y,r(e)),n(e,"btn_item",Z,r(e)),n(e,"panel_task",$,r(e)),n(e,"box0",tt,r(e)),n(e,"box1",et,r(e)),n(e,"box2",it,r(e)),n(e,"ToggleGroup1",nt,r(e)),n(e,"ToggleGroup2",rt,r(e)),n(e,"btn_hide",ot,r(e)),n(e,"btn_show",at,r(e)),n(e,"bg",st,r(e)),e.humArray=new Array,e.monArray=new Array,e.itemArray=new Array,e.startpos=new l,e.originX=void 0,e.openShow=!0,e.isMove=!1,e}i(e,t);var o=e.prototype;return o.start=function(){d.addEventListener("update_circum_hum",this.updateHumList,this),d.addEventListener("update_circum_item",this.updateItemList,this),d.addEventListener("update_screen_info",this.updateinfo,this),d.addEventListener("closeTimer_simplescreen",this.closeTimerSimpleScreen,this),this.unschedule(this.updateinfo),this.schedule(this.updateinfo,1)},o.update=function(t){},o.updateinfo=function(){this.updateItemList(),this.updateHumList()},o.updateHumList=function(){1!=this.box0.node.active&&1!=this.box2.node.active||this.getHumList()},o.updateItemList=function(){1==this.box1.node.active&&this.getItemList()},o.humListRender=function(t,e){t.getComponentInChildren(c).string=this.humArray[e].key;var i=t.getComponentInChildren(b),n="";0==this.humArray[e].job?n="GameScene/target_zs.png":1==this.humArray[e].job?n="GameScene/target_fs.png":2==this.humArray[e].job&&(n="GameScene/target_ds.png"),w.resLoad(n,(function(t){i.spriteFrame=t}))},o.monListRender=function(t,e){t.getComponentInChildren(c).string=this.monArray[e].key;var i=t.getComponentInChildren(b);S.loadResLocal("GameScene/target_mon.png",i)},o.itemListRender=function(t,e){var i=t.getComponentInChildren(c);i.string=this.itemArray[e].key,i.color=h(this.itemArray[e].color)},o.humListClick=function(t,e,i,n){console.log(e);var r=this.humArray[e].value,o=L.ins().findobject(r);o&&o.txt_name&&(2==o.type?(I.showNewNpcDlg(!1),L.ins().clickObjHandle(o,null,1),C.sendNPCClick(r)):3==o.type&&o.data.record!=v.playerID&&S.addhalo(o))},o.monListClick=function(t,e,i,n){var r=this.monArray[e].value,o=L.ins().findobject(r);o&&o.txt_name&&1==o.type&&S.addhalo(o)},o.itemListClick=function(t,e,i,n){var r=this.itemArray[e].value,o=A.ins().self_obj;(o.action_over||1==o.cur_state||6==o.cur_state)&&(G.ins().cur_matx&&G.ins().cur_matx[0]&&r.y<G.ins().cur_matx.length&&r.x<G.ins().cur_matx[0].length&&x.start3move(o.grid,r),o.grid.x==r.x&&o.grid.y==r.y&&d.raiseEvent("updatepos"))},o.getHumList=function(){var t=L.ins().object_list,e=[],i=[],n=A.ins().self_obj;if(n){for(var r=null,o=0,a=t.length;o<a;o++)if(t[o]&&null!=t[o].data){if(t[o].data.record==v.playerID)continue;if(l.distance(n.grid,t[o].grid)>7)continue;var s=S.getName(t[o].type,t[o].txt_name.text,t[o].txt_name.nameList);if(null!=v.g_serverconfigtxt.npcBubbleTip&&"0"!=v.g_serverconfigtxt.npcBubbleTip){var u=this.checkNpcBubble(n.grid,t[o],s);u&&(r?u.spaceNum<r.spaceNum&&(r=u):r=u)}if(!t[o].txt_name||""===t[o].txt_name.text)continue;var c=t[o].data.record,b=y.THumFeature(t[o].data.fea.buffer).btJob;if(3!=t[o].type||t[o].is_die){if(1==t[o].type&&!t[o].is_die){h=t[o].m_Abil?Math.ceil(t[o].m_Abil.HP/t[o].m_Abil.MaxHP*100):1;i.push({key:s,value:c,hpRate:h})}}else{var h=t[o].m_Abil?Math.ceil(t[o].m_Abil.HP/t[o].m_Abil.MaxHP*100):1;e.push({key:s,value:c,job:b,hpRate:h})}}this.humArray=e,this.monArray=i,this.box0.numItems=this.humArray.length,this.box2.numItems=this.monArray.length}},o.checkNpcBubble=function(t,e,i){if(2==e.type){var n=Math.abs(t.x-e.grid.x),r=Math.abs(t.y-e.grid.y);if(n+r<=2)return{spaceNum:n+r,bubbleNpc:e,name:i}}},o.getItemList=function(){var t=_.DropItemList,e=[],i=L.ins().findobject(v.playerID);if(i){for(var n=0;n<t.length;n++)if(t[n]){var r=t[n].Name,o=new m(k.Get2RGB(t[n].Color)),a=new l(t[n].x,t[n].y);""!=r&&l.distance(i.grid,a)<3&&e.push({key:r,value:a,color:o})}this.itemArray=e,this.box1.numItems=this.itemArray.length}},o.onHide=function(){var t=this;if(!this.isMove){this.isMove=!0;var e=new p,i=this.bg.getPosition();e.x=i.x-240,e.y=i.y,f(this.bg).to(.5,{position:e}).call((function(){t.isMove=!1})).start(),this.btn_hide.node.active=!1,this.btn_show.node.active=!0}},o.onShow=function(){var t=this;if(!this.isMove){this.isMove=!0;var e=new p,i=this.bg.getPosition();e.x=i.x+240,e.y=i.y,f(this.bg).to(.5,{position:e}).call((function(){t.isMove=!1})).start(),this.btn_show.node.active=!1,this.btn_hide.node.active=!0}},o.closeTimerSimpleScreen=function(){this.unschedule(this.updateinfo)},o.changeShow=function(){this.ToggleGroup1.active=!this.ToggleGroup1.active,this.ToggleGroup2.active=!this.ToggleGroup2.active;var t=this.ToggleGroup1.active?"btn_task":"btn_circum";this.TabClickHandler(null,t)},o.TabClickHandler=function(t,e){this.panel_task.active=!1,this.box0.node.active=!1,this.box1.node.active=!1,this.box2.node.active=!1,"btn_hum"==e?this.box0.node.active=!0:"btn_item"==e?this.box1.node.active=!0:"btn_circum"==e?this.box2.node.active=!0:"btn_task"==e&&(this.panel_task.active=!0)},e}(g)).prototype,"img_screen",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(q.prototype,"btn_task",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(q.prototype,"btn_circum",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(q.prototype,"btn_hum",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(q.prototype,"btn_item",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(q.prototype,"panel_task",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(q.prototype,"box0",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(q.prototype,"box1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(q.prototype,"box2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(q.prototype,"ToggleGroup1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(q.prototype,"ToggleGroup2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(q.prototype,"btn_hide",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(q.prototype,"btn_show",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(q.prototype,"bg",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=q))||X));o._RF.pop()}}}));

System.register("chunks:///_virtual/SingleRocker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./Enums.ts","./EventCustom.ts","./FightModule.ts","./MoveModule.ts","./objectcontrol.ts","./GameUtil.ts","./DoubleRocker.ts"],(function(i){"use strict";var t,e,o,n,r,s,a,c,_,h,u,g,l,m,d,v,f,p,k,b,y,M,P;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.createClass},function(i){s=i.cclegacy,a=i._decorator,c=i.Node,_=i.Sprite,h=i.Vec3,u=i.Vec2,g=i.NodeEventType,l=i.sys,m=i.Component},function(i){d=i.EventMgr},function(i){v=i.Config},function(i){f=i.PARALYSISACTIVE_Type},function(i){p=i.default},function(i){k=i.Fightmodule},function(i){b=i.Movemodule},function(i){y=i.Objectcontrol},function(i){M=i.GameUtil},function(i){P=i.e_Rocker_type}],execute:function(){var D,R,T,x,E,O,C,N,w,I,L,q;s._RF.push({},"a1f0dSXObdIZbKRnjouUuDf","SingleRocker",void 0);var S=a.ccclass,A=a.property,U=a.menu;i("SingleRocker",(D=S("SingleRocker"),R=U("单摇杆/SingleRocker"),T=A(c),x=A(c),E=A(_),O=A(_),D(C=R((w=t((N=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=i.call.apply(i,[this].concat(r))||this,o(t,"img_bg",w,n(t)),o(t,"img_qiu",I,n(t)),o(t,"img_dir",L,n(t)),o(t,"anim",q,n(t)),t._curTouchID=void 0,t._keepMove=!1,t._dirNum=0,t._isMove=!1,t._animFrame=1,t._bg_radius=void 0,t._rockerQiuOrigin=new h,t._bgPoint=new u,t}e(t,i);var s=t.prototype;return s.onLoad=function(){this.addEvent()},s.start=function(){this.loadResByLocal(),this.init()},s.loadResByLocal=function(){M.loadResLocal("Rocker/gxx/rocke_bj.png",this.img_bg.getComponent(_)),M.loadResLocal("Rocker/gxx/rocker_hu_0.png",this.img_dir),M.loadResLocal("Rocker/gxx/rocke_qiu.png",this.img_qiu.getComponent(_))},s.init=function(){this.initDefault(),this._bg_radius=M.getNodeWidth(this.img_bg)/2,v.g_rocker_moving=!1,d.addEventListener(p.ONDRAGEND,this.onDragEnd,this)},s.initDefault=function(){this._dirNum=0,this._animFrame=1,this._isMove=!1,this._keepMove=!1,this._curTouchID=0,this.img_bg.active=!1,this.img_dir.node.active=!1,this.anim.node.active=!1},s.addEvent=function(){this.node.on(g.TOUCH_START,this.onDragStart,this)},s.onDragStart=function(i){if(y.self_obj){this._curTouchID=i.getID(),this._isMove=!0,v.attackerID=0,this.img_bg.active=!0,this.img_dir.node.active=!0;var t=i.getUILocation();this._rockerQiuOrigin=this.img_qiu.getPosition(),this.setNewRockerPos(t),this.node.on(g.TOUCH_MOVE,this.onDragMove,this),this.node.on(g.TOUCH_END,this.onDragEnd,this),this.node.on(g.TOUCH_CANCEL,this.onDragEnd,this),v.use_move_start=!0,this._keepMove=!0,this.schedule(this.showAnim,.2)}},s.setNewRockerPos=function(i){var t=i.x-this.img_qiu.parent.worldPosition.x,e=i.y-this.img_qiu.parent.worldPosition.y;this.img_qiu.setPosition(t,e),this.img_bg.setPosition(t,e),this.img_dir.node.setPosition(t,e),this.anim.node.setPosition(t,e)},s.showAnim=function(){var i;if(this.anim.node.active=!0,this._animFrame>6&&(this._animFrame=1),v.g_Move_Type==P.WALK?i="Rocker/gxx/rockerman_"+this._animFrame+".png":v.g_Move_Type==P.RUN&&(i="Rocker/gxx/rockerman_1"+this._animFrame+".png"),M.loadResLocal(i,this.anim),v.rocker_move_dir>-1&&v.rocker_move_dir<8){var t="Rocker/gxx/rocker_hu_"+v.rocker_move_dir+".png";M.loadResLocal(t,this.img_dir)}this._animFrame++},s.onDragMove=function(i){if(i.getID()==this._curTouchID){v.autohookstate&&d.raiseEvent(p.ONHOOK,"0"),v.rockerfirst=!0;var t=i.getUILocation();if(this._isMove){this._bgPoint.x=this.img_bg.worldPosition.x,this._bgPoint.y=this.img_bg.worldPosition.y;var e=u.distance(this._bgPoint,t),o=Math.atan2(this._bgPoint.y-t.y,t.x-this._bgPoint.x),n=this._bg_radius;if(e<.5*n)v.g_Move_Type=1,this.img_qiu.setPosition(t.x-this.img_qiu.parent.worldPosition.x,t.y-this.img_qiu.parent.worldPosition.y);else{var r=this.img_bg.getPosition().x+Math.cos(o)*n,s=this.img_bg.getPosition().y-Math.sin(o)*n;e<=n?this.img_qiu.setPosition(t.x-this.img_qiu.parent.worldPosition.x,t.y-this.img_qiu.parent.worldPosition.y):this.img_qiu.setPosition(r,s),v.g_Move_Type=2,v.g_boCobWeb&&(v.g_Move_Type=1)}if(e<10)return;this._dirNum=this.countdir(o),v.rocker_move_dir=this._dirNum-1,this.keepMove()}}},s.onDragEnd=function(){v.rockerfirst=!1,v.use_move_start=!1,this.leaverocker()},s.keepMove=function(){if(!v.g_furious_collision_ing&&this._dirNum&&this._isMove){if(1==y.self_obj.paralysis_state){var i=M.checkParalysisM2(f.WALK),t=M.checkParalysisM2(f.RUN);if(v.g_Move_Type==P.WALK&&0==i)return i;if(v.g_Move_Type==P.RUN&&0==t)return t}v.g_rocker_moving=!0,y.objectmove({dir:this._dirNum-1,state:v.g_Move_Type}),k.leavefight(),b.stopmove(),b.end_point=null}},s.update=function(i){this._keepMove&&this.keepMove()},s.isSpecialChannelOnIOS=function(i){return"IOS"==l.platform&&i.touch&&i.getAllTouches().length>=1&&i.getID()==this._curTouchID},s.leaverocker=function(){this.initDefault(),v.g_rocker_moving=!1,v.rocker_move_dir=-1,this.img_qiu.setPosition(this._rockerQiuOrigin.x,this._rockerQiuOrigin.y),this.img_bg.setPosition(this._rockerQiuOrigin.x,this._rockerQiuOrigin.y),d.raiseEvent("RockerMoveEnd"),d.raiseEvent("rockertip",!0),this.unschedule(this.showAnim),this.node.off(g.TOUCH_MOVE,this.onDragMove,this),this.node.off(g.TOUCH_END,this.onDragEnd,this),this.node.off(g.TOUCH_CANCEL,this.onDragEnd,this)},s.countdir=function(i){return(i=i>0?180*i/Math.PI:180*(2*Math.PI+i)/Math.PI)>20&&i<=55?4:i>55&&i<=120?5:i>120&&i<=150?6:i>150&&i<=210?7:i>210&&i<=250?8:i>250&&i<=300?1:i>300&&i<=330?2:3},r(t,[{key:"isMove",set:function(i){this._isMove=i}}]),t}(m)).prototype,"img_bg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"img_qiu",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(N.prototype,"img_dir",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(N.prototype,"anim",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=N))||C)||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/SkillModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./MsgCM.ts","./Struct.ts","./ComAnim.ts","./objectcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts","./AnimationModule.ts","./audioManager.ts","./ResourcesMgr.ts"],(function(e){"use strict";var l,a,t,i,n,r,s,d,f,o,u,_,m,c,p,y,g,h,k,x,b,v;return{setters:[function(e){l=e.inheritsLoose},function(e){a=e.cclegacy,t=e._decorator,i=e.v2,n=e.v3,r=e.Vec2,s=e.tween,d=e.UITransform,f=e.Component},function(e){o=e.EventMgr},function(e){u=e.Config},function(e){_=e.default},function(e){m=e.default},function(e){c=e.Struct_ins},function(e){p=e.ComAnim},function(e){y=e.Objectcontrol},function(e){g=e.ObjectManage},function(e){h=e.sendmessage},function(e){k=e.GameUtil},function(e){x=e.Animationmodule},function(e){b=e.audioManager},function(e){v=e.resourcesMgr}],execute:function(){var S,I;a._RF.push({},"eb79bw/3A5BXL8k1eSITfck","SkillModule",void 0);var F=t.ccclass,M=(t.property,e("SkillModule",F("SkillModule")(((I=function(e){function a(){for(var l,a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];return(l=e.call.apply(e,[this].concat(t))||this).skill_data=void 0,l.fly_list=[],l.target=[],l.groundBottom=null,l.groundTop=null,l.skillClass=[],l.customSkill=[],l.fire_index=0,l.playhellfireCallback=null,l}l(a,e),a.ins=function(){return this._ins||(this._ins=new a),this._ins};var t=a.prototype;return t.start=function(){},t.update=function(){},t.init=function(){this.fly_list=[],this.target=[];var e=k.getMapLayerScript();this.groundBottom=e.groundBottomLayer,this.groundTop=e.groundTopLayer,this.skillClass=[],this.fire_index=0,this.playhellfireCallback=null,this.getskillClass()},t.onanalyzeJson=function(e){this.skill_data=e},t.getskilldata=function(e,l){if(null!=this.skill_data)for(var a=0;a<this.skill_data.length;a++)if(l||0==l){if(this.skill_data[a].type==e&&this.skill_data[a].id==l)return this.skill_data[a]}else if(this.skill_data[a].type==e)return this.skill_data[a]},t.getskillClass=function(){var e=this;v.resLoad("json/skillClass.txt",(function(l){if(l&&""!=l)for(var a=l.split("\r\n"),t=0;t<a.length;t++)if(a[t]){if(""==a[t])continue;if(0==a[t].indexOf(";"))continue;-1!=a[t].indexOf("/")&&e.skillClass.push(a[t].split("/"))}}))},t.getskillid=function(e,l){for(var a=0;a<this.skillClass.length;a++){var t=this.skillClass[a];if(e==t[1]){if(t[2]&&-1!=t[2].indexOf("-"))t[2].substring(0,t[2].indexOf("-")),t[2].substring(t[2].indexOf("-")+1);if(t[3]&&-1!=t[3].indexOf("-"))var i=t[3].substring(0,t[3].indexOf("-")),n=t[3].substring(t[3].indexOf("-")+1);if(t[4]&&-1!=t[4].indexOf("-"))var r=t[4].substring(0,t[4].indexOf("-")),s=t[4].substring(t[4].indexOf("-")+1);if(t[5]&&-1!=t[5].indexOf("-"))var d=t[5].substring(0,t[5].indexOf("-")),f=t[5].substring(t[5].indexOf("-")+1);return i&&n&&l>=i&&l<=n?e+2e3:r&&s&&l>=r&&l<=s?e+3e3:d&&f&&l>=d&&l<=f?e+4e3:e}}return e},t.parseDiySkillFile=function(e){this.customSkill=[];var l=new Uint8Array(e),a={buff:l,pos:0},t=l[a.pos++]|l[a.pos++]<<8|l[a.pos++]<<16|l[a.pos++]<<24;if((l.length-4)%903==0)for(var i=0;i<t;i++)for(var n=c.TClientDiySkillFileData(a),r=0;r<5;r++){var s={isCustomSkill:!0};s.id=n.wMagicId,s.name="Unknown",s.type=n.Data.btType,s.levelIndex=r,s.boCanLockTarget=n.Data.boCanLockTarget,s.boFiyFried=n.Data.boFiyFried,s.boNewEffect=n.Data.boNewEffect,s.btWarriorSkillType=n.Data.btWarriorSkillType,s.multilevel=[];var d=n.Data.Bases[r];s.iconFileIndex=d.btIconFileIndex-1,s.usesActionType=d.btUsesActionType,s.sSoundFileNameAttackMan=d.sSoundFileNameAttackMan,s.sSoundFileNameAttackMon=d.sSoundFileNameAttackMon,s.sSoundFileNameExp=d.sSoundFileNameExp,s.sSoundFileNameFly=d.sSoundFileNameFly,s.sSoundFileNameUses=d.sSoundFileNameUses,s.wIconImageIndex=d.wIconImageIndex,s.WSoundID=d.wSoundID;var f=n.Data.Effect[r].Action.Base;s.self_start=f.dwStartIndex,s.self_frame_count=f.btCount,s.self_dir=f.btDirType,s.self_empty=f.btSkip,s.self_blend_mode=f.btBlendMode,s.self_file_index=f.btFileIndex,s.self_frame_time=f.wFrameTime;var o=n.Data.Effect[r].Action.Add;s.self_start_add=o.dwStartIndex,s.self_frame_add=o.btCount,s.self_dir_add=o.btDirType,s.self_empty_add=o.btSkip,s.self_blend_mode_add=o.btBlendMode,s.self_file_index_add=o.btFileIndex,s.self_frame_time_add=o.wFrameTime;var u=n.Data.Effect[r].Fly.Base;s.fly_start=u.dwStartIndex,s.fly_frame_count=u.btCount,s.fly_dir=u.btDirType,s.fly_empty=u.btSkip,s.fly_blend_mode=u.btBlendMode,s.fly_file_index=u.btFileIndex,s.fly_frame_time=u.wFrameTime;var _=n.Data.Effect[r].Fly.Add;s.fly_start_add=_.dwStartIndex,s.fly_frame_count_add=_.btCount,s.fly_dir_add=_.btDirType,s.fly_empty_add=_.btSkip,s.fly_blend_mode_add=_.btBlendMode,s.fly_file_index_add=_.btFileIndex,s.fly_frame_time_add=_.wFrameTime;var m=n.Data.Effect[r].Exp.Base;s.exp_start=m.dwStartIndex,s.exp_frame_count=m.btCount,s.exp_dir=m.btDirType,s.exp_empty=m.btSkip,s.exp_blend_mode=m.btBlendMode,s.exp_file_index=m.btFileIndex,s.exp_frame_time=m.wFrameTime;var p=n.Data.Effect[r].Exp.Add;s.exp_start_add=p.dwStartIndex,s.exp_frame_count_add=p.btCount,s.exp_dir_add=p.btDirType,s.exp_empty_add=p.btSkip,s.exp_blend_mode_add=p.btBlendMode,s.exp_file_index_add=p.btFileIndex,s.exp_frame_time_add=p.wFrameTime,this.customSkill.push(s)}},t.findCustomSkill=function(e,l){for(var a=this.customSkill.length,t=0;t<a;t++){var i=this.customSkill[t];if(i.id==e&&(0==i.levelIndex&&l>=0&&l<=3||1==i.levelIndex&&l>=4&&l<=7||2==i.levelIndex&&l>=8&&l<=11||3==i.levelIndex&&l>=12&&l<=15))return i.isCustomSkill=!0,i}return null},t.playCustomSkillForTarget=function(e,l,a,t){if(null!=l){var i,n=k.getorientation(l.grid,a);if(l.grid.x==a.x&&l.grid.y==a.y&&(n=l.cur_dir),u.attack_lock_state&&-1!=u.rocker_move_dir&&(n=u.rocker_move_dir),0!=e.usesActionType){var r=11;switch(e.usesActionType){case 1:r=11;break;case 2:r=7;break;case 3:r=11}14!=l.cur_state&&l.changestate(null,r,n,!1,"play_over_test")}if(e.sSoundFileNameUses&&""!=e.sSoundFileNameUses&&b.instance.playSound(k.FindSoundByID(e.sSoundFileNameUses)),0!=e.self_file_index)if(i=u.g_pak_list[e.self_file_index-1]){var s=e.self_start;e.self_dir&&(s+=n*(e.self_frame_count+e.self_empty));var d=s+e.self_frame_count;x.playframe(!0,l.node,"data/"+i+"/",s,d,100,!1,!0)}if(0!=e.self_file_index_add)if(i=u.g_pak_list[e.self_file_index_add]){s=e.self_start_add;e.self_dir&&(s+=n*(e.self_frame_count_add+e.self_empty_add));d=s+e.self_frame_count_add;x.playframe(!0,l.node,"data/"+i+"/",s,d,100,!1,!0)}}},t.applyCustomSkillForOther=function(e){var l=g.findobject(e.record);if(null!=l){var a=e.magicid,t=e.newlv,n=this.findCustomSkill(a,t);if(n){var r=i(e.param,e.tag);l.currMagicId=a,this.playCustomSkillForTarget(n,l,r,t)}}},t.playCustomSkillMagicfire=function(e,l,a){var t=this,d=this.findCustomSkill(l,a.lv);if(d){a.lv;var f=0!=a.targetid,o=i(a.tx,a.ty),_=k.getorientation(e.grid,o);e.grid.x==o.x&&e.grid.y==o.y&&(_=e.cur_dir);var m=k.getAngle(e.grid,o),c=k.getorientation16(m),p=d.fly_file_index,y=0,g=0,h=null;0!=p&&(h=u.g_pak_list[p-1])&&(y=d.fly_start,2==d.fly_dir?y+=_*(d.fly_frame_count+d.fly_empty):1==d.fly_dir&&(y+=c*(d.fly_frame_count+d.fly_empty)),g=y+d.fly_frame_count-1);var v=d.exp_file_index,S=0,I=0,F=null;0!=v&&(F=u.g_pak_list[v-1])&&(S=d.exp_start,2==d.exp_dir?S+=_*(d.exp_frame_count+d.exp_empty):1==d.exp_dir&&(S+=c*(d.exp_frame_count+d.exp_empty)),I=S+d.exp_frame_count-1);var M=d.exp_file_index_add,D=0,T=0,C=null;0!=M&&(C=u.g_pak_list[M-1])&&(D=d.exp_start_add,2==d.exp_dir_add?D+=_*(d.exp_frame_count_add+d.exp_empty_add):1==d.exp_dir_add&&(D+=c*(d.exp_frame_count_add+d.exp_empty_add)),T=D+d.exp_frame_count_add-1);var w=i(48*o.x,32*o.y),E=d.type;switch(E){case 0:if(d.sSoundFileNameFly&&""!=d.sSoundFileNameFly&&b.instance.playSound(k.FindSoundByID(d.sSoundFileNameFly)),!f){k.getorientation(e.grid,o);w=i(48*o.x,32*o.y)}var A=x.playframe(!0,this.groundTop,"data/"+h+"/",y,g,100,!1,!0,n(48*e.grid.x,32*-e.grid.y)),L=60*r.distance(o,e.grid)/1e3;s(A.node).to(L,{position:n(w.x,-w.y)}).call((function(){x.removeAni(A),(f||d.boFiyFried)&&(d.sSoundFileNameExp&&""!=d.sSoundFileNameExp&&b.instance.playSound(k.FindSoundByID(d.sSoundFileNameExp)),F&&x.playframe(!0,t.groundTop,"data/"+F+"/",S,I,100,!1,!0,n(w.x,-w.y)),C&&x.playframe(!0,t.groundTop,"data/"+C+"/",D,T,100,!1,!0,n(w.x,-w.y)))})).start();break;case 1:case 2:case 3:v=d.exp_file_index,S=0,I=0,F=null;0!=v&&(F=u.g_pak_list[v-1])&&(S=d.exp_start,1==d.exp_dir?S+=_*(d.exp_frame_count+d.exp_empty):2==d.exp_dir&&(S+=c*(d.exp_frame_count+d.exp_empty)),I=S+d.exp_frame_count-1);var N=1==E?this.groundTop:e.node,B=1==E?n(w.x,-w.y):null;d.sSoundFileNameExp&&""!=d.sSoundFileNameExp&&b.instance.playSound(k.FindSoundByID(d.sSoundFileNameExp)),F&&x.playframe(!0,N,"data/"+F+"/",S,I,100,!1,!0,B),C&&x.playframe(!0,N,"data/"+C+"/",D,T,100,!1,!0,B)}}},t.playself=function(e,l,a,t,i,n){if(null!=a){var r=11;if(5==e||13==e||23==e||24==e||0==e||43==e||53==e||38==e?r=7:8!=e&&(n=parseInt((n/2).toString())),e>99&&e<2e3&&(r=3),119!=e&&121!=e&&110!=e&&120!=e||(r=11),a.data.record!=u.playerID&&4==e)var s=n%2==0;e&&n&&(e=this.getskillid(e,n));var d=this.getskilldata(e,l);if(25!=e){var f=k.getorientation(a.grid,t);if(a.grid.x==t.x&&a.grid.y==t.y&&(f=a.cur_dir),u.attack_lock_state&&-1!=u.rocker_move_dir&&(f=u.rocker_move_dir),14!=a.cur_state&&(0==e&&75==l||a.changestate(null,r,f,!1,"play_over_test")),null==d||0==d.self_frame)return 10==e&&13==l&&n>3&&x.playframe(!0,a.node,"data/magic8-16/",580,589,100,!1,!0),void(d&&a&&a.skin_feature&&(13==d.id&&d.name.indexOf("灵魂火符")>-1&&a.skin_feature.btGender?k.playMusicFormat(k.skillStartSound(d.id,!a.skin_feature.btGender)):k.playMusicFormat(k.skillStartSound(d.id,a.skin_feature.btGender))));var o=0;if(16==d.self_dir){var _=k.getAngle(a.grid,t);o=k.getorientation16(_)*(d.self_frame+d.self_empty)}else 8==d.self_dir&&(o=f*(d.self_frame+d.self_empty));var m=d.self_start+o,c=m+d.self_frame-1;if(a&&a.skin_feature&&29==e&&31==l&&a.skin_feature.btMagBubbleLevel>3)x.playframe(!0,a.node,"data/magic6/",690,699,100,!1,!0);else if(20==e&&22==l&&n>3)x.playframe(!0,a.node,"data/magic7-16/",80,87,100,!1,!0);else if(9==e&&11==l&&n>3)x.playframe(!0,a.node,"data/magic7-16/",200,203,a.ftime,!1,!0);else if(31==e&&33==l&&n>3)m=80,c=89,x.playframe(!0,a.node,"data/magic8-16/",m,c,a.ftime,!1,!0);else if(4!=e&&2004!=e&&3004!=e&&4004!=e||6!=l){var p=g.analyspeed(a.cur_state,a.type,a.ftime,a);p=Math.max(1,a.ftime-p),43==e&&95==l?x.playframe(!0,a.node,d.fl_name,m,c,p,!1,!0,null,this,(function(){x.playframe(!0,a.node,d.fl_name,m+85,c+85,p,!1,!0)})):x.playframe(!0,a.node,d.fl_name,m,c,p,!1,!0)}else{var y="green";if(a.data.record==u.playerID){for(var h=0;h<u.g_UserItemList.length;h++)if(u.g_UserItemList[h]){if(-1!=u.g_UserItemList[h].s.Name.indexOf("灰色药粉")){y="green";break}if(-1!=u.g_UserItemList[h].s.Name.indexOf("黄色药粉")){y="red";break}}}else null!=s&&(y=s?"green":"red");"green"==y?x.playframe(!0,a.node,d.fl_name,m,c,a.ftime,!1,!0):"red"==y&&n&&(n<=3?x.playframe(!0,a.node,"data/magic/",600,609,a.ftime,!1,!0):n>=4&&n<=7?x.playframe(!0,a.node,"data/magic7-16/",710,719,a.ftime,!1,!0):n>=8&&n<=11?x.playframe(!0,a.node,"data/magic7-16/",730,730,a.ftime,!1,!0):n>=12&&n<=15&&x.playframe(!0,a.node,"data/magic7-16/",750,759,a.ftime,!1,!0)),u.autohookstate&&u.g_autohookpoison++}if(a.skin_feature){var v=a.skin_feature.btGender?0==a.skin_feature.btGender?1:0:a.skin_feature.btGender;d.name.indexOf("攻杀剑术")>-1&&(v=a.skin_feature.btGender),k.playMusicFormat(k.skillStartSound(d.id,v)),b.instance.playSound(k.skillStartSound(d.id,a.skin_feature.btGender))}}}},t.playfly=function(e,l,a,t,f,o,u){var _=this;e&&o&&(e=this.getskillid(e,o));var m=this.getskilldata(e);if(null!=m){var c=k.getAngle(a.grid,t),p=k.getorientation16(c),y=(m.fl_name,p*(m.fly_frame+m.fly_empty)),g=m.fly_start+y,h=g+m.fly_frame-1,b=i(a.grid.x,a.grid.y);(999==e&&999==l||1e3==e&&1e3==l||1001==e&&1001==l)&&(b.y-=2,t.y-=2);var v=a.sp.getComponent(d).height/2,S=x.playframe(!0,this.groundTop,m.fl_name,g,h,a.ftime,!0,!1,n(48*b.x,32*-b.y+v),null,null,!1,null,null,Date.now());if(S){var I=60*r.distance(t,b)/1e3;s(S.node).to(I,{position:n(48*t.x,32*-t.y+v)}).call((function(){x.removeAni(S),(f||u)&&_.playhit(e,l,a,t,f,o)})).start()}var F=0;a&&a.skin_feature&&(F=a.skin_feature.btGender?a.skin_feature.btGender:0==a.skin_feature.btGender?1:0),k.playMusicFormat(k.skillStartSound(m.id,F))}},t.playhit=function(e,l,a,t,r,s,d){if(29!=e){e&&s&&(e=this.getskillid(e,s));var f=this.getskilldata(e,d);if(null!=f&&!(f.gethit_frame<=0)){f.fl_name;var u=f.gethit_start,_=u+f.gethit_frame-1,m=g.findobject(r);if(m&&(t=m.grid),99==e){var c=k.getorientation(a.grid,t)*(f.gethit_start+f.fly_empty);_=(u=f.gethit_start+c)+f.gethit_frame-1,x.playframe(!0,this.groundTop,f.fl_name,u,_,80,!1,!0,n(48*t.x,32*-t.y))}if(18==e||30==e)m&&x.playframe(!0,m.node,f.fl_name,u,_,80,!1,!0);else if(119==e)x.playframe(!0,a.node,f.fl_name,u,_,80,!1,!0,null,null),o.raiseEvent("delskillani");else if(1016==e&&1016==l&&s)s>3&&s<8?(u=90,_=106):s>7&&s<12?(u=110,_=127):s>11&&(u=130,_=147),x.playframe(!0,this.groundTop,"data/magic8-16/",u,_,80,!1,!0,n(48*t.x,32*-t.y));else{var p=this.groundTop;if(m&&(p=m.node),121==e)m?(x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,1),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,2,i(-65,-65)),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,3,i(65,-65)),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,4,i(-65,65)),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,5,i(65,65))):(x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,1,i(48*t.x,32*-t.y)),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,2,i(48*t.x-65,32*-t.y-65)),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,3,i(48*t.x+65,32*-t.y-65)),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,4,i(48*t.x-65,32*-t.y+65)),x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,5,i(48*t.x+65,32*-t.y+65)));else if(a){var y=function(){a.is_call=!0};m?x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,this,y):x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,this,y,!1,null,null,null,i(48*t.x,32*-t.y))}else m?x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null):x.playframe(!0,p,f.fl_name,u,_,80,!1,!0,null,null,null,!1,null,null,null,i(48*t.x,32*-t.y))}k.playMusicFormat(k.skillExplosionSound(f.id))}}},t.playhellfire=function(e,l,a,t,i){if(this.fire_index>5)this.unschedule(this.playhellfireCallback);else{var r=k.getMovePoint(t.grid,i,this.fire_index++);x.playframe(!0,this.groundTop,e,l,a,80,!1,!0,n(48*r.x,32*-r.y),null,null,!1,null,null,this.fire_index)}},t.hellfire=function(e,l,a,t,i){this.fire_index=0,e&&i&&(e=this.getskillid(e,i));var n=this.getskilldata(e),r=(n.fl_name,n.fly_start),s=r+n.fly_frame-1,d=k.getAngle(a.grid,t),f=k.get8orientation(d),o=n.fl_name;this.playhellfireCallback=this.playhellfire.bind(this,o,r,s,a,f),this.schedule(this.playhellfireCallback,.1)},t.closeEQsecure=function(e){var l=g.findobject(e);l&&l.node.getComponentsInChildren(p).filter((function(l){l.name!="eqsecure"+e&&l.name!="eqsecure2"+e||x.removeAniname(l.name)}))},t.EQsecure=function(e,l,a){this.fire_index=0;var t=this.getskilldata(e,a),i=(t.fl_name,t.fly_start),n=i+t.fly_frame-1;if(!x.hasAni(l.node,"eqsecure"+l.data.record)){if(l&&l.skin_feature&&l.skin_feature.btMagBubbleLevel>3)var r=x.playframe(!0,l.node,t.fl_name,i,n,80,!0,!1),s=x.playframe(!0,l.node,"data/magic6/",720,722,80,!0,!1);else r=x.playframe(!0,l.node,t.fl_name,i,n,80,!0,!1);r&&(r.name="eqsecure"+l.data.record,58==a&&(r.type=58)),s&&(s.name="eqsecure2"+l.data.record)}},t.playEQsecurestruck=function(e){var l=x.getAni(e.node,"eqsecure"+e.data.record);if(l)if(58==l.type){var a=this.getskilldata(29,58);x.playframe(!0,e.root,a.fl_name,723,725,80,!1,!0)}else{a=this.getskilldata(29);x.playframe(!0,e.root,a.fl_name,3900,3902,80,!1,!0)}},t.firewall=function(e,l,a,t){var i=this.getskilldata(l),r=(i.fl_name,i.gethit_start),s=r+i.gethit_frame-1;if(!x.hasAni(this.groundBottom,""+e)){var d,f=n(48*t.x,32*-t.y);(d=115==a?x.playframe(!0,this.groundBottom,"data/magic7-16/",90,97,80,!0,!1,f,null,null,!1,null,null,e):116==a?x.playframe(!0,this.groundBottom,"data/magic7-16/",100,107,80,!0,!1,f,null,null,!1,null,null,e):117==a?x.playframe(!0,this.groundBottom,"data/magic7-16/",110,117,80,!0,!1,f,null,null,!1,null,null,e):x.playframe(!0,this.groundBottom,i.fl_name,r,s,80,!0,!1,f,null,null,!1,null,null,e))&&(d.name=""+e)}},t.play2skill=function(e,l,a,t,n,r,s,d,f){var o=i(t,n),_=g.findobject(e);if(null!=_){if(0==r&&(1==a||8==a)){var m=k.getorientation(_.grid,o);o=k.getMovePoint(_.grid,m,10)}switch(a){case 1:this.playfly(l,a,_,o,r,s);break;case 2:4==l&&s>3&&0==d?this.playhit(1015,1015,_,o,r,s):31==l&&s>3?this.playhit(1016,1016,_,o,r,s):this.playhit(l,a,_,o,r,s,f);break;case 3:break;case 4:if(6==l&&e==u.playerID){var c=y.getskillpos(6,null,8);this.playself(6,8,y.self_obj,c,null,s)}this.playhit(l,a,_,o,r,s);break;case 5:this.hellfire(l,a,_,o,r);break;case 6:break;case 7:s>3?this.playhit(l,a,_,o,r):this.playhit(l,a,_,o,r,s);break;case 8:s>3&&(s>=4&&s<=7?this.playfly(20101,20101,_,o,r,s):s>=8&&s<=11?this.playfly(30101,30101,_,o,r,s):s>=12&&s<=15&&this.playfly(40101,40101,_,o,r,s)),this.playfly(l,a,_,o,r,s);break;case 9:this.playfly(l,a,_,o,r,s,!0);break;case 10:break;case 14:this.playhit(l,a,_,o,r);break;default:this.playfly(l,a,_,o,r,s)}}},t.checklegal=function(e,l){for(var a=0;a<u.g_UserMagicList.length;++a){var t=u.g_UserMagicList[a];if(t.Def.btEffect==e&&t.Def.wMagicId==l)return t.Def.dwMagicDelayTime}return 0},t.handlepoison=function(){if(u.GlobalCfglist.d_autoskill_1)switch(u.GlobalCfglist.d_autoskill_1){case"互换":return"0";case"绿毒":return"1";case"红毒":return"2"}},t.sendMsg=function(e,l,a,t,i,n){if(t>=1e3&&t<=1500)var r=D.findCustomSkill(t,i);else r=this.getskilldata(e,t);if(r){6==r.mode&&(y.move_call_result=!1);var s=s=6==r.id?this.handlepoison():null;if(u.GlobalCfglist.d_autoskill_4&&"治愈术"==r.name){var d=g.findobject(u.playerID);d&&(l=d.grid,h.sendSpellMessage(m.SPELL,l.x,l.y,r.id,null,s))}else{var f=!1;if(17==e&&19==r.id||40==r.type&&57==r.id||40==r.type&&500==r.id)for(var c=0;c<g.object_list.length;++c){var p=g.object_list[c];p.grid.x==l.x&&p.grid.y==l.y&&(h.sendSpellMessage(m.SPELL,l.x,l.y,r.id,p.data.record,s),f=!0)}f||h.sendSpellMessage(m.SPELL,l.x,l.y,r.id,u.lockingID,s),29!=e&&28!=e&&16!=e&&17!=e&&11!=e&&12!=e&&15!=e&&(u.g_magicId=e,u.g_magicType=t)}for(c=0;c<u.g_SetupMagicList.length;c++)if(u.g_SetupMagicList[c]&&(u.g_SetupMagicList[c].Def.sMagicName==r.name||t>=1e3&&t<=1500&&r.id==u.g_SetupMagicList[c].Def.wMagicId)){n?u.doubleFirePosIndex=c:o.raiseEvent(_.SKILL_CD_ANI,c);break}}},t.openMsg=function(e,l,a){switch(e){case 0:h.sendSpellMessage(m.HIT,l.x,l.y,a,u.lockingID);break;case 5:h.sendSpellMessage(m.POWERHIT,l.x,l.y,a,u.lockingID);break;case 13:h.sendSpellMessage(m.LONGHIT,l.x,l.y,a,u.lockingID);break;case 23:h.sendSpellMessage(m.WIDEHIT,l.x,l.y,a,u.lockingID);break;case 24:h.sendSpellMessage(m.FIREHIT,l.x,l.y,a,u.lockingID);break;case 38:h.sendSpellMessage(m.TWNHIT,l.x,l.y,a,u.lockingID);break;case 43:h.sendSpellMessage(m.HIT66,l.x,l.y,a,u.lockingID);break;case 53:h.sendSpellMessage(m.SWORDHIT,l.x,l.y,a,u.lockingID)}},t.resetData=function(){this.fly_list=[],this.target=[],this.groundBottom=null,this.groundTop=null,this.skillClass=[],this.customSkill=[],this.fire_index=0,this.playhellfireCallback=null},a}(f))._ins=void 0,S=I))||S)),D=e("Skillmodule",M.ins());a._RF.pop()}}}));

System.register("chunks:///_virtual/Socket.ts",["cc","./EventManager.ts","./EventSocket.ts","./Config.ts"],(function(t){"use strict";var e,n,s,o,c;return{setters:[function(t){e=t.cclegacy,n=t.director},function(t){s=t.EventMgr},function(t){o=t.default},function(t){c=t.Config}],execute:function(){e._RF.push({},"29e0cnIdwtLZ6WbUx1XWXk0","Socket",void 0),t("Socket",function(){function t(){this.endian=void 0,this.connected=!1,this._stamp=NaN,this._socket=null,this._addInputPosition=0,this._input=null,this._output=null,this.activeCloseStatus=!1,this.socketType="",this.timeout=0,this.objectEncoding=0,this.disableInput=!1,this._byteClass=null,this._protocols=[]}t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance};var e=t.prototype;return e.connect=function(t,e,n){if(t&&e>0&&e<65535){var s="ws://"+t+":"+e;s="https:"==window.location.protocol?"wss://"+t+":"+e:"ws://"+t+":"+e,this.connectByUrl(s,n)}else console.error("port error")},e.connectByUrl=function(t,e){var s=this;if(console.log("请求创建socket连接："+t),this.activeCloseStatus=!1,"LoginScene"==n.getScene().name){if(this._socket){if(this._socket.url==t+"/"&&!c.isJava&&this.connected)return;this.connected?this.activeClose():this.close(),this._socket=null}}else this.close(),this.cleanSocket();console.log("创建socket连接："+t),this._socket=new WebSocket(t),this._socket.binaryType="arraybuffer",this._addInputPosition=0,this._socket.onopen=function(t){return s._onOpen(t)},this._socket.onmessage=function(t){s._onMessage(t.data)},this._socket.onclose=function(t){return s._onClose(t)},this._socket.onerror=function(t){return s._onError(t)},this.socketType=e||""},e._onOpen=function(t){console.log("socket连接成功"),this.connected=!0,this.activeCloseStatus=!1,s.raiseEvent(o.SOCKET_CONNECT_SUCCESS,t)},e._onMessage=function(t){s.raiseEvent(o.SOCKET_CONNECT_MESSAGE,t)},e.activeClose=function(){this.activeCloseStatus=!0,this._socket.close()},e._onClose=function(t){console.log("socket连接关闭"),this.connected=!1,this.activeCloseStatus||s.raiseEvent(o.SOCKET_CLOSE,t)},e._onError=function(t){console.log("socket连接错误"),s.raiseEvent(o.SOCKET_IO_ERROR,t)},e.send=function(t){this._socket.send(t)},e.cleanSocket=function(){try{this._socket.close()}catch(t){}this._socket&&(this.connected=!1,this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=null,this._socket=null)},e.close=function(){if(null!=this._socket)try{this._socket.close()}catch(t){}},e.getSocketState=function(){return this._socket.readyState},e.start=function(){},e.update=function(t){},t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/StarLight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var r,e,i,a,n,o,s,c,l;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.Sprite,c=t.Component},function(t){l=t.GameUtil}],execute:function(){var u,p,f,g,h,y;n._RF.push({},"82a25Z/tgdPXqkaINt76sfg","StarLight",void 0);var d=o.ccclass,m=o.property,L=o.menu;t("default",(u=d("StarLight"),p=L("实例模块/StarLight"),f=m(s),u(g=p((y=r((h=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r=t.call.apply(t,[this].concat(n))||this,i(r,"star",y,a(r)),r}return e(r,t),r.prototype.start=function(){l.loadResLocal("gameres/ui/star10.png",this.star)},r}(c)).prototype,"star",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/StoreWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./ResourcesMgr.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,o,r,a,l,s,m,c,p,h,g,u,d,_,y,b,C,I,f,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.EditBox,m=e.Label,c=e.Node,p=e.Sprite,h=e.instantiate,g=e.NodeEventType,u=e.Component},function(e){d=e.EventMgr},function(e){_=e.Config},function(e){y=e.default},function(e){b=e.resourcesMgr},function(e){C=e.uiControl},function(e){I=e.objectmanage},function(e){f=e.sendmessage},function(e){S=e.GameUtil}],execute:function(){var B,N,v,x,P,E,M,R,w,T,G,L,O,W,A,U,j;r._RF.push({},"570b37dLHdAM6fKRXWvsNbf","StoreWin",void 0);var z=a.ccclass,H=a.property;e("StroeWin",(B=z("StroeWin"),N=H(l),v=H(s),x=H(s),P=H(s),E=H(m),M=H(c),R=H(l),B((G=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"pref_ComBoBox",G,o(t)),n(t,"price_low",L,o(t)),n(t,"price_high",O,o(t)),n(t,"ItemSearch",W,o(t)),n(t,"item_num",A,o(t)),n(t,"box_1",U,o(t)),n(t,"StoreItem",j,o(t)),t.comBoBox=null,t.MaxPage=1,t.CurPage=1,t.ItemType_list=["所有","装饰","补给","强化","好友","限量","奇珍"],t.ItemType_idx=0,t.ItemSort_list=["价格从低到高","价格从高到低"],t.ItemSort_idx=0,t.pricetype_list=["不限","元宝","游戏点","金币"],t.pricetype_idx=0,t}i(t,e);var r=t.prototype;return r.start=function(){var e=this.node.getChildByName("bg").getComponent(p);S.loadResLocal("PersonalStore/personalstore_bg.png",e);for(var t=this.node.getChildByName("box1").getChildByName("Layout").children,i=0;i<t.length;i++){var n=t[i].getComponent(p);S.loadResLocal("public/jiaoyi_input.png",n)}var o=this.node.getChildByName("box1").getChildByName("ItemSearch").getComponent(p),r=this.node.getChildByName("box1").getChildByName("ItemType").getComponent(p),a=this.node.getChildByName("box1").getChildByName("pricetype").getComponent(p),l=this.node.getChildByName("box1").getChildByName("ItemSort").getComponent(p),s=this.node.getChildByName("box1").getChildByName("btn_itemsearch").getComponent(p),m=this.node.getChildByName("box1").getChildByName("price_low").getComponent(p),c=this.node.getChildByName("box1").getChildByName("price_high").getComponent(p);S.loadResLocal("public/jiaoyi_input.png",o),S.loadResLocal("SplitResource/Btns/combobox (2).png",r),S.loadResLocal("SplitResource/Btns/combobox (2).png",a),S.loadResLocal("SplitResource/Btns/combobox (2).png",l),S.loadResLocal("public/btn_ok.png",s),S.loadResLocal("public/jiaoyi_input.png",m),S.loadResLocal("public/jiaoyi_input.png",c);var h=this.node.getChildByName("Button").getComponent(p);S.loadResLocal("public/btn_close (2).png",h)},r.init=function(){d.addEventListener(y.GAME_SHOW_STOREITEM,this.ShowItem,this),d.addEventListener(y.GAME_SHOW_SHOWSTOREPAGE,this.ShowPage,this)},r.Search=function(){var e=parseInt(this.price_low.string),t=parseInt(this.price_high.string),i=this.ItemType_idx,n=this.pricetype_list,o=this.ItemSort_list,r=this.ItemSearch.string;f.QueryUserShopItems(e,t,i,n,o,r,_.g_StoreName)},r.ShowPage=function(e){var t=e[0],i=e[1],n=e[2];this.MaxPage=Math.ceil(t/n),this.CurPage=Math.ceil(i/n)+1,0==t&&(this.CurPage=0),5==n&&(this.item_num.string=this.CurPage+"/"+this.MaxPage)},r.onChangePage=function(e){switch(e.target.name){case"btn_first":_.G_Cur_Item_Page>0&&f.GetUserShopItems(0);break;case"btn_previous":_.G_Cur_Item_Page>0&&f.GetUserShopItems(_.G_Cur_Item_Page-5);break;case"btn_next":_.G_Total_Item_num-_.G_Cur_Item_Page>5&&f.GetUserShopItems(_.G_Cur_Item_Page+5);break;case"btn_last":_.G_Total_Item_num-_.G_Cur_Item_Page>5&&f.GetUserShopItems(5*(this.MaxPage-1))}},r.ShowItem=function(e){var t=this.box_1.getChildByName("list2");t.removeAllChildren();I.ins().findobject(_.playerID);for(var i=0;i<e.length;i++){var n=e[i],o=h(this.StoreItem),r=-40*i-20;o.setPosition(0,r);for(var a=o.children[0],l=a.getChildByName("ItemImg"),s=a.getChildByName("ItemName"),c=a.getChildByName("ItemPrice"),u=a.getChildByName("ItemTime"),d=a.getChildByName("ItemType"),y=a.getChildByName("ItemBy"),b=a.children,C=0;C<b.length;C++){var f=b[C].getComponent(p);S.loadResLocal("public/jiaoyi_input.png",f)}S.showItemNum(n.Item,l),s.getComponentInChildren(m).string=n.Item.s.Name,c.getComponentInChildren(m).string=n.Item.s.Price+" "+this.pricetype_list[n.btMoneyType+1],u.getComponentInChildren(m).string=n.dCreateDate,d.getComponentInChildren(m).string=this.ItemType_list[n.btItemType+1],y.getComponentInChildren(m).string="购买",y.on(g.TOUCH_END,this.onBtnBy.bind(this,["购买",n]),this),t.addChild(o)}},r.onBtnBy=function(e){if(e&&2==e.length){var t=e[0],i=e[1].Item.MakeIndex,n=e[1].sMasterName,o=e[1].Item.s.Name,r=e[1].Item.s.Price,a=this.pricetype_list[e[1].btMoneyType];if("购买"==t&&i&&""!=i){C.handlerAlert({type:2,content:'是否确认购买"'+o+'"?',sF:function(){f.SendBuyUserShopItem(i,n,a,r)}})}}},r.update=function(e){},r.closeView=function(){this.node.destroy()},r.onDestroy=function(){d.removeEventListener(y.GAME_SHOW_STOREITEM,this.ShowItem,this),d.removeEventListener(y.GAME_SHOW_SHOWSTOREPAGE,this.ShowPage,this);b.resClean(["PersonalStore/personalstore_bg.png"])},t}(u)).prototype,"pref_ComBoBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"price_low",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"price_high",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"ItemSearch",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(T.prototype,"item_num",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"box_1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(T.prototype,"StoreItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=T))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Struct.ts",["cc","./Config.ts","./GameDefine.ts","./EnDecode.ts","./Int64.ts","./UcsByGbk.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,r,a,o,f,i,l;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Config},function(e){r=e.BUFF_TYPE,a=e.CUSTOM_BUFF_TYPE},function(e){o=e.EnDecode},function(e){f=e.Int64},function(e){i=e.gbkByteArr2UcsStr},function(e){l=e.GameUtil}],execute:function(){t._RF.push({},"c4f8dM3I4BDL5/4I9CkuCfw","Struct",void 0);var u=e("Struct",function(){function e(){}e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance};var t=e.prototype;return t.TSocketHeader=function(e){var t={};return t.dwCode1=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)>>>0,t.wIdent=e[4]+(e[5]<<8)>>>0,t.wReserved=e[6]+(e[7]<<8)>>>0,t.dwCode2=e[8]+(e[9]<<8)+(e[10]<<16)+(e[11]<<24)>>>0,t.dwCrc=e[12]+(e[13]<<8)+(e[14]<<16)+(e[15]<<24)>>>0,t.nLength=e[16]+(e[17]<<8)+(e[18]<<16)+(e[19]<<24),t.header=this.pTM2MsgHeader(l.slice(e,20,e.length)),t},t.pTM2MsgHeader=function(e){var t={};return t.code=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)>>>0,t.datalen=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),t.msg=this.TDefaultMessage(l.slice(e,8,e.length)),t},t.TDefaultMessage=function(e){var t={},n=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),r=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24);return t.record=new f(r,n).toNumber(!1),t.ident=e[8]+(e[9]<<8),t.param=e[10]+(e[11]<<8),t.tag=e[12]+(e[13]<<8),t.series=e[14]+(e[15]<<8),t},t.TMessageBodyWL=function(e){var t={i:0};return t.lParam1=l.readBuff(e,t,r.Integer),t.lParam2=l.readBuff(e,t,r.Integer),t.lTag1=l.readBuff(e,t,r.Integer),t.lTag2=l.readBuff(e,t,r.Int64),t},t.TNewMessageBodyWL=function(e){var t={i:0};return t.lParam1=l.readBuff(e,t,r.Integer),t.lParam2=l.readBuff(e,t,r.Integer),t.lTag1=l.readBuff(e,t,r.Integer),t.lTag2=l.readBuff(e,t,r.Integer),t.lTag3=l.readBuff(e,t,r.Integer),t.lTag4=l.readBuff(e,t,r.Integer),t.lTag5=l.readBuff(e,t,r.Int64),t.BlastHitType=l.readBuff(e,t,r.Enum),t.ResID=l.readBuff(e,t,r.Integer),t.ResStartIdx=l.readBuff(e,t,r.Integer),t},t.TMessageHealthSpellChangedInfo=function(e){var t={i:0};return t.ChangeHP=l.readBuff(e,t,r.LongWord),t.IsAttackFromHum=l.readBuff(e,t,r.Boolean),t},t.TMessageBodyL=function(e){return{lParam1:e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)>>>0,lParam2:e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24)>>>0}},t.TMessageBodyW=function(e){return{Param1:e[0]+(e[1]<<8)>>>0,Param2:e[2]+(e[3]<<8)>>>0,Tag1:e[4]+(e[5]<<8)>>>0,Tag2:e[6]+(e[7]<<8)>>>0}},t.TFeature=function(e,t){return{feature:e,buffer:t}},t.TCharDesc=function(e){var t=new Object;return t.i=0,t.feature=l.readBuff(e,t,1),t.status=l.readBuff(e,t,8),t.magicLevel=l.readBuff(e,t,4),t},t.TWAbility=function(e){var t=new Object;return t.i=0,t.dwExp=l.readBuff(e,t,r.LongWord),t.wHP=l.readBuff(e,t,r.Integer),t.wMP=l.readBuff(e,t,r.Integer),t.wMaxHP=l.readBuff(e,t,r.Integer),t.wMaxMP=l.readBuff(e,t,r.Integer),t},t.THumFeature=function(e){var t=new Object;return t.i=0,t.wRace=l.readBuff(e,t,2),t.wWeapon=l.readBuff(e,t,2),t.wWeaponSound=l.readBuff(e,t,2),t.wDress=l.readBuff(e,t,2),t.wShield=l.readBuff(e,t,2),t.btGender=l.readBuff(e,t,1),t.btJob=l.readBuff(e,t,1),t.btHair=l.readBuff(e,t,1),t.btHorseType=l.readBuff(e,t,1),t.btCaseltGuild=l.readBuff(e,t,1),t.boShopStall=l.readBuff(e,t,1),t.btColor=l.readBuff(e,t,1),t.btShopStallDir=l.readBuff(e,t,1),t.wDressEffType=l.readBuff(e,t,2),t.wDressEffType_30=l.readBuff(e,t,2),t.boDressEffNormalDraw=l.readBuff(e,t,1),t.boDressEffNoSex=l.readBuff(e,t,1),t.boDressEff_30NormalDraw=l.readBuff(e,t,1),t.boDressEff_30NoSex=l.readBuff(e,t,1),t.nChangeAppr=l.readBuff(e,t,4),t.nChangeAppr>42e8&&(t.nChangeAppr-=4294967296),t.nWeaponEffectIndex=l.readBuff(e,t,2),t.nWeaponEffectIndex>=32767&&(t.nWeaponEffectIndex-=65536),t.wWeaponEffectOffSet=l.readBuff(e,t,2),t.wDBWeaponEffectOffSet=l.readBuff(e,t,2),t.nDressEffectIndex=l.readBuff(e,t,2),t.nDressEffectIndex>=32767&&(t.nDressEffectIndex-=65536),t.wDressEffectOffSet=l.readBuff(e,t,2),t.nShieldEffectIndex=l.readBuff(e,t,2),t.nShieldEffectIndex>=32767&&(t.nShieldEffectIndex-=65536),t.wShieldEffectOffSet=l.readBuff(e,t,2),t.boDressEffectNoBlend=l.readBuff(e,t,1),t.boDressEffectNoSex=l.readBuff(e,t,1),t.boWeaponEffectNoBlend=l.readBuff(e,t,1),t.boWeaponEffectNoSex=l.readBuff(e,t,1),t.boShieldEffectNoBlend=l.readBuff(e,t,1),t.boShieldEffectNoSex=l.readBuff(e,t,1),t.nShieldAddEffectIndex=l.readBuff(e,t,2),t.wShieldAddEffectOffSet=l.readBuff(e,t,2),t.nDressAddEffectIndex=l.readBuff(e,t,2),t.nDressAddEffectIndex>=32767&&(t.nDressAddEffectIndex-=65536),t.bDressAddEffectOrder=l.readBuff(e,t,1),t.wDressAddEffectOffSet=l.readBuff(e,t,2),t.wDressAddEffectCount=l.readBuff(e,t,2),t.wDressAddEffectTime=l.readBuff(e,t,2),t.boDressAddEffectNoBlend=l.readBuff(e,t,1),t.boDressAddEffectDrawCenter=l.readBuff(e,t,1),t.nMedalEffectIndex=l.readBuff(e,t,2),t.nMedalEffectIndex>=32767&&(t.nMedalEffectIndex-=65536),t.wMedalEffectOffSet=l.readBuff(e,t,2),t.boMedalEffectNoBlend=l.readBuff(e,t,1),t.boMedalEffectNoSex=l.readBuff(e,t,1),t.btDoubleHumHorseType=l.readBuff(e,t,1),t.boShowHorseWingsEffect=l.readBuff(e,t,1),t.btHorseEffectType=l.readBuff(e,t,1),t.btHorseHum=l.readBuff(e,t,2),t.btHorseHumExpand=l.readBuff(e,t,1),t.btHorseHair=l.readBuff(e,t,1),t.boShowFashion=l.readBuff(e,t,1),t.boMagicShield=l.readBuff(e,t,1),t.btReLevel=l.readBuff(e,t,4),t.sActiveFengHaoName=l.readConstomLength(e,t,a.ITEM_NAME_LEN),t.nActiveFengHaoID=l.readBuff(e,t,4),t.dwActiveFengHaoLooks=l.readBuff(e,t,2),t.btActiveFengHaoReserved=l.readBuff(e,t,1),t.btActiveFengHaoColor=l.readBuff(e,t,1),t.boShowHair=l.readBuff(e,t,1),t.btCboDressUseDiyImage=l.readBuff(e,t,1),t.btCboWeaponUseDiyImage=l.readBuff(e,t,1),t.btOldHair=l.readBuff(e,t,1),t.boPlayMoster=l.readBuff(e,t,1),t},t.TShopClientItem=function(e){var t={i:0};return t={s:this.TStdItem(e,t),GameMoney:l.readBuff(e,t,r.Byte),ImageIndex:l.readBuff(e,t,r.Integer),ImageCount:l.readBuff(e,t,r.Integer),Memo1:l.readConstomLength(e,t,18),Memo2:l.readConstomLength(e,t,150),ItemCount:l.readBuff(e,t,r.Integer),boBulkBuy:l.readBuff(e,t,r.Boolean),nBulkBuyCount:l.readBuff(e,t,r.Integer)}},t.TMonFeature=function(e){var t={i:0};return(t={wRaceImg:l.readBuff(e,t,r.Word),wWeapon:l.readBuff(e,t,r.Word),wAppr:l.readBuff(e,t,r.Word),btColor:l.readBuff(e,t,r.Byte),btRace:l.readBuff(e,t,r.Byte),MonLevel:l.readBuff(e,t,r.LongWord),HumBBType:l.readBuff(e,t,r.Enum),IsExploreItem:l.readBuff(e,t,r.Boolean),IsDisableSimpleActor:l.readBuff(e,t,r.Boolean),nChangeAppr:l.readBuff(e,t,r.Integer)}).nChangeAppr>42e8&&(t.nChangeAppr-=4294967296),t},t.TAbility=function(e){for(var t=new Uint32Array(e.buffer,0,96),n={Level:t[0],AC:t[1],MaxAC:t[2],MAC:t[3],MaxMAC:t[4],DC:t[5],MaxDC:t[6],MC:t[7],MaxMC:t[8],SC:t[9],MaxSC:t[10],HP:t[11],MP:t[12],MaxHP:t[13],MaxMP:t[14],Exp:t[15],MaxExp:t[16],Weight:t[17],MaxWeight:t[18],WearWeight:t[19],MaxWearWeight:t[20],HandWeight:t[21],MaxHandWeight:t[22],CreditPoint:t[23],NewValue:[]},r=96,a=0;a<25;a++)n.NewValue[a]=e[r++];return n},t.TNakedAbility=function(e){return{DC:e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),MC:e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),SC:e[8]+(e[9]<<8)+(e[10]<<16)+(e[11]<<24),AC:e[12]+(e[13]<<8)+(e[14]<<16)+(e[15]<<24),MaxAC:e[16]+(e[17]<<8)+(e[18]<<16)+(e[19]<<24),HP:e[20]+(e[21]<<8)+(e[22]<<16)+(e[23]<<24),MP:e[24]+(e[25]<<8)+(e[26]<<16)+(e[27]<<24),Hit:e[28]+(e[29]<<8)+(e[30]<<16)+(e[31]<<24),Speed:e[32]+(e[33]<<8)+(e[34]<<16)+(e[35]<<24),X2:e[36]+(e[37]<<8)+(e[38]<<16)+(e[39]<<24)}},t.TPoisonWeapon=function(e){return{nRate:e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),nDecHp:e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),wBaseTime:e[8]+(e[9]<<8)>>>0,wRandTime:e[10]+(e[11]<<8)>>>0}},t.TDropItem=function(){return{x:0,y:0,id:0,Looks:0,Color:0,Name:"",DBName:"",Width:0,Height:0,Visible:!1,FlashTime:0,FlashStepTime:0,FlashStep:0,BoFlash:!1,ShowFlash:!1,ItemTexture:0,ShowNameTime:0,ShowName:!1,ShowItem:0,NameImageInfo:0,dwGhostTick:0,DropEffectFileIndex:-1,DropEffectStartOffSet:0,DropEffectImageCount:0,DropEffectFrameTime:0,DropEffectOffsetX:0,DropEffectOffsetY:0,DropEffectNormalDraw:!1,DropTickCount:0,DropIdxImage:0,DrawCenter:!1}},t.TDropItemEffect=function(e){var t=new Object;return t.i=0,t.ItemEffectIndex=l.readBuff(e,t,r.Word),t.FileIndex=l.readBuff(e,t,r.SmallInt),t.FileIndex>=32767&&(t.FileIndex-=65536),t.StartIndex=l.readBuff(e,t,r.Word),t.Time=l.readBuff(e,t,r.Word),t.ImageCount=l.readBuff(e,t,r.Byte),t.DrawCenter=l.readBuff(e,t,r.Boolean),t.NoBlend=l.readBuff(e,t,r.Boolean),t.BelowItem=l.readBuff(e,t,r.Boolean),t.OffsetX=l.readBuff(e,t,r.SmallInt),t.OffsetX>=32767&&(t.OffsetX-=65536),t.OffsetY=l.readBuff(e,t,r.SmallInt),t.OffsetY>=32767&&(t.OffsetY-=65536),t},t.TClientCustomNpcConfig=function(e){var t=new Object;t.i=0,t.wNpcAppr=l.readBuff(e,t,r.Word),t.wDirCount=l.readBuff(e,t,r.Word),t.BaseConfig=this.TNpcBaseConfig(e,t),t.Actions=[];for(var n=0;n<8;n++)t.Actions[n]=this.TNpcDirAction(e,t);return t},t.TNpcBaseConfig=function(e,t){return{HPBgOffsetX:l.readBuff(e,t,r.Integer),HPBgOffsetY:l.readBuff(e,t,r.Integer),HPOffsetX:l.readBuff(e,t,r.Integer),HPOffsetY:l.readBuff(e,t,r.Integer),HPFile:l.readBuff(e,t,r.Integer),HPStartIndex:l.readBuff(e,t,r.Integer),HPTextOffsetX:l.readBuff(e,t,r.Integer),HPTextOffsetY:l.readBuff(e,t,r.Integer),StandDrawMode:l.readBuff(e,t,r.Enum),StandEffectDrawMode:l.readBuff(e,t,r.Enum),ActionDrawMode:l.readBuff(e,t,r.Enum),ActionEffectDrawMode:l.readBuff(e,t,r.Enum),KeepPlayFile:l.readBuff(e,t,r.Integer),KeepPlayIndex:l.readBuff(e,t,r.Integer),KeepPlayCount:l.readBuff(e,t,r.Integer),KeepPlayTime:l.readBuff(e,t,r.Integer),KeepPlayBlendDraw:l.readBuff(e,t,r.Boolean),KeepPlayOffsetX:l.readBuff(e,t,r.Integer),KeepPlayOffsetY:l.readBuff(e,t,r.Integer),DrawOrder:l.readBuff(e,t,r.Enum)}},t.TNpcDirAction=function(e,t){var n={Enabled:l.readBuff(e,t,r.LongBool),Std_File:l.readBuff(e,t,r.Word),Std_Index:l.readBuff(e,t,r.SmallInt),Std_Count:l.readBuff(e,t,r.Word),Std_Time:l.readBuff(e,t,r.Word),Std_EffFile:l.readBuff(e,t,r.Word),Std_EffIndex:l.readBuff(e,t,r.SmallInt),Act_File:l.readBuff(e,t,r.Word),Act_Index:l.readBuff(e,t,r.SmallInt),Act_Count:l.readBuff(e,t,r.Word),Act_Time:l.readBuff(e,t,r.Word),Act_EffFile:l.readBuff(e,t,r.Word),Act_EffIndex:l.readBuff(e,t,r.SmallInt)};return n.Std_Index>=32767&&(n.Std_Index-=65536),n.Std_EffIndex>=32767&&(n.Std_EffIndex-=65536),n.Act_Index>=32767&&(n.Act_Index-=65536),n.Act_EffIndex>=32767&&(n.Act_EffIndex-=65536),n},t.TStdItem=function(e,t){var n={};(n={Name:null,DBName:null,StdMode:null,Shape:null,Weight:null,AniCount:null,Source:null,Reserved:null,NeedIdentify:null,Looks:null,DuraMax:null,Reserved1:null,HP:null,MP:null,AC1:null,AC2:null,MAC1:null,MAC2:null,DC1:null,DC2:null,MC1:null,MC2:null,SC1:null,SC2:null,Need:null,NeedLevel:null,Price:null,OverLap:null,Color:null,Stock:null,Light:null,Horse:null,Expand1:null,Expand2:null,Expand3:null,Expand4:null,Expand5:null,Elements:[],InsuranceCurrency:null,InsuranceGold:null,BagEffect:{FileIndex:null,ImageStart:null,ImageCount:null,IsDrawCenter:null,IsDrawNoBlend:null,IsDrawBelow:null,OffsetX:null,OffsetY:null,Time:null},BodyEffect:{FileIndex:null,ImageStart:null,ImageCount:null,IsDrawCenter:null,IsDrawNoBlend:null,IsDrawBelow:null,OffsetX:null,OffsetY:null,Time:null},Effect:null}).Name=l.readConstomLength(e,t,a.ITEM_NAME_LEN),n.DBName=l.readConstomLength(e,t,a.ITEM_NAME_LEN),n.StdMode=l.readBuff(e,t,r.Byte),n.Shape=l.readBuff(e,t,r.Word),n.Weight=l.readBuff(e,t,r.Byte),n.AniCount=l.readBuff(e,t,r.Word),n.Source=l.readBuff(e,t,r.Integer),n.Reserved=l.readBuff(e,t,r.Byte),n.NeedIdentify=l.readBuff(e,t,r.Byte),n.Looks=l.readBuff(e,t,r.Word),n.DuraMax=l.readBuff(e,t,r.Word),n.Reserved1=l.readBuff(e,t,r.Word),n.HP=l.readBuff(e,t,r.Integer),n.MP=l.readBuff(e,t,r.Integer),n.AC1=l.readBuff(e,t,r.Integer),n.AC2=l.readBuff(e,t,r.Integer),n.MAC1=l.readBuff(e,t,r.Integer),n.MAC2=l.readBuff(e,t,r.Integer),n.DC1=l.readBuff(e,t,r.Integer),n.DC2=l.readBuff(e,t,r.Integer),n.MC1=l.readBuff(e,t,r.Integer),n.MC2=l.readBuff(e,t,r.Integer),n.SC1=l.readBuff(e,t,r.Integer),n.SC2=l.readBuff(e,t,r.Integer),n.Need=l.readBuff(e,t,r.Integer),n.NeedLevel=l.readBuff(e,t,r.Integer),n.Price=l.readBuff(e,t,r.Integer),n.OverLap=l.readBuff(e,t,r.Word),n.Color=l.readBuff(e,t,r.Byte),n.Stock=e[t.i++]+(e[t.i++]<<8)+(e[t.i++]<<16)+(e[t.i++]<<24),n.Light=l.readBuff(e,t,r.Integer),n.Horse=l.readBuff(e,t,r.Integer),n.Expand1=l.readBuff(e,t,r.Integer),n.Expand2=l.readBuff(e,t,r.Integer),n.Expand3=l.readBuff(e,t,r.Integer),n.Expand4=l.readBuff(e,t,r.Integer),n.Expand5=l.readBuff(e,t,r.Integer);for(var o=0;o<25;o++)n.Elements[o]=l.readBuff(e,t,r.Word);return n.InsuranceCurrency=l.readBuff(e,t,r.Integer),n.InsuranceGold=l.readBuff(e,t,r.Integer),n.BagEffect=this.TStdItemEffect(e,t),n.BodyEffect=this.TStdItemEffect(e,t),n.Effect=l.readBuff(e,t,r.Int64),n},t.TStdItemEffect=function(e,t){var n={FileIndex:l.readBuff(e,t,r.SmallInt),ImageStart:l.readBuff(e,t,r.Word),ImageCount:l.readBuff(e,t,r.Byte),IsDrawCenter:l.readBuff(e,t,r.Boolean),IsDrawNoBlend:l.readBuff(e,t,r.Boolean),IsDrawBelow:l.readBuff(e,t,r.Boolean),OffsetX:l.readBuff(e,t,r.SmallInt),OffsetY:l.readBuff(e,t,r.SmallInt),Time:l.readBuff(e,t,r.Word)};return n.OffsetX>=32767&&(n.OffsetX-=65536),n.OffsetY>=32767&&(n.OffsetY-=65536),n},t.TItemSrcClient=function(e){var t=0,n={MakeType:e[t++]>>>0,MakeDate:null,MakeObject:null,MakePlay:null,MakeMap:null};return n.MakeDate=l.getJSDateTimeFromDelphi8Bytes(l.slice(e,t,t+8)),t+=9,n.MakeObject=i(l.slice(e,t,t+30)),t+=31,n.MakePlay=i(l.slice(e,t,t+30)),t+=31,n.MakeMap=i(l.slice(e,t,t+30)),n},t.TOStdItem=function(e){return{Name:i(l.slice(e,1,15)),StdMode:e[15]>>>0,Shape:e[16]>>>0,Weight:e[17]>>>0,AniCount:e[18]>>>0,Source:e[19],Reserved:e[20]>>>0,NeedIdentify:e[21]>>>0,Looks:e[22]+(e[23]<<8)>>>0,DuraMax:e[24]+(e[25]<<8)>>>0,AC:e[26]+(e[27]<<8)+(e[28]<<16)+(e[29]<<24),MaxAC:e[30]+(e[31]<<8)+(e[32]<<16)+(e[33]<<24),MAC:e[34]+(e[35]<<8)+(e[36]<<16)+(e[37]<<24),MaxMAC:e[38]+(e[39]<<8)+(e[40]<<16)+(e[41]<<24),DC:e[42]+(e[43]<<8)+(e[44]<<16)+(e[45]<<24),MaxDC:e[46]+(e[47]<<8)+(e[48]<<16)+(e[49]<<24),MC:e[50]+(e[51]<<8)+(e[52]<<16)+(e[53]<<24),MaxMC:e[54]+(e[55]<<8)+(e[56]<<16)+(e[57]<<24),SC:e[58]+(e[59]<<8)+(e[60]<<16)+(e[61]<<24),MaxSC:e[62]+(e[63]<<8)+(e[64]<<16)+(e[65]<<24),Need:e[66]>>>0,NeedLevel:e[67]>>>0,w26:e[68]+(e[69]<<8)>>>0,Price:e[70]+(e[71]<<8)+(e[72]<<16)+(e[73]<<24)}},t.TClientItem=function(e,t){if(!t)t={i:0};var n={};(n={s:null,MakeIndex:null,Dura:null,DuraMax:null,IsBind:null,btFluteCount:null,btUpgradeCount:null,btHeroM2Light:null,btValue:[],NewValue:[],Flutes:[],Progress:[],CustomProperty:null,ItemFrom:null,wInsuranceCount:null}).s=this.TStdItem(e,t),n.MakeIndex=l.readBuff(e,t,r.Integer),n.Dura=l.readBuff(e,t,r.Word),n.DuraMax=l.readBuff(e,t,r.Word),n.IsBind=l.readBuff(e,t,r.Boolean),n.btFluteCount=l.readBuff(e,t,r.Byte),n.btUpgradeCount=l.readBuff(e,t,r.Byte),n.btHeroM2Light=l.readBuff(e,t,r.Byte);for(var a=0;a<14;a++)n.btValue[a]=l.readBuff(e,t,r.Integer);for(var o=0;o<30;o++)n.NewValue[o]=l.readBuff(e,t,r.Word);for(var f=0;f<8;f++)n.Flutes[f]=this.TFluteInfo(e,t);for(var i=0;i<2;i++)n.Progress[i]=this.TUserItemProgress(e,t);return n.CustomProperty=this.TUserItemProperty(e,t),n.ItemFrom=this.TUserItemFrom(e,t),n.wInsuranceCount=l.readBuff(e,t,r.Word),n},t.TUserLevelRanking=function(e){var t={i:0};return t.nIndex=l.readBuff(e,t,4),t.nLevel=l.readBuff(e,t,4),t.sChrName=l.readConstomLength(e,t,a.ACTOR_NAME_LEN),t},t.TUserItemAdd=function(e,t){var r={};r.nMakeIndex=e[t++]+(e[t++]<<8)+(e[t++]<<16)+(e[t++]<<24);var a=e[t++];return r.sTitle=i(l.slice(e,t,a+t)),t+=20,r.nColor=e[t++],r.arrAbilType=this.SetCustom(n.CUSTOMITEMABIL_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMABIL_LEN)),t+=n.CUSTOMITEMABIL_LEN,r.arrAbilColor=this.SetCustom(n.CUSTOMITEMABIL_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMABIL_LEN)),t+=n.CUSTOMITEMABIL_LEN,r.arrAbilValue=this.SetCustom(4*n.CUSTOMITEMABIL_LEN,"longword",l.slice(e,t,t+4*n.CUSTOMITEMABIL_LEN)),t+=4*n.CUSTOMITEMABIL_LEN,r.arrAbilMethod=this.SetCustom(n.CUSTOMITEMABIL_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMABIL_LEN)),t+=n.CUSTOMITEMABIL_LEN,r.arrAbilLine=this.SetCustom(n.CUSTOMITEMABIL_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMABIL_LEN)),t+=n.CUSTOMITEMABIL_LEN,r.arrPrgbarCaption=this.SetCustom(31*n.CUSTOMITEMPROGRESSBAR_LEN,"string",l.slice(e,t,t+31*n.CUSTOMITEMPROGRESSBAR_LEN)),t+=31*n.CUSTOMITEMPROGRESSBAR_LEN,r.arrPrgbarColor=this.SetCustom(n.CUSTOMITEMPROGRESSBAR_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMPROGRESSBAR_LEN)),t+=n.CUSTOMITEMPROGRESSBAR_LEN,r.arrPrgbarLevel=this.SetCustom(2*n.CUSTOMITEMPROGRESSBAR_LEN,"word",l.slice(e,t,t+2*n.CUSTOMITEMPROGRESSBAR_LEN)),t+=2*n.CUSTOMITEMPROGRESSBAR_LEN,r.arrPrgbarEnabled=this.SetCustom(n.CUSTOMITEMPROGRESSBAR_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMPROGRESSBAR_LEN)),t+=n.CUSTOMITEMPROGRESSBAR_LEN,r.arrPrgbarImg=this.SetCustom(n.CUSTOMITEMPROGRESSBAR_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMPROGRESSBAR_LEN)),t+=n.CUSTOMITEMPROGRESSBAR_LEN,r.arrPrgbarValueCur=this.SetCustom(4*n.CUSTOMITEMPROGRESSBAR_LEN,"longword",l.slice(e,t,t+4*n.CUSTOMITEMPROGRESSBAR_LEN)),t+=4*n.CUSTOMITEMPROGRESSBAR_LEN,r.arrPrgbarValueMax=this.SetCustom(4*n.CUSTOMITEMPROGRESSBAR_LEN,"longword",l.slice(e,t,t+4*n.CUSTOMITEMPROGRESSBAR_LEN)),t+=4*n.CUSTOMITEMPROGRESSBAR_LEN,r.arrPrgbarShowMode=this.SetCustom(n.CUSTOMITEMPROGRESSBAR_LEN,"byte",l.slice(e,t,t+n.CUSTOMITEMPROGRESSBAR_LEN)),t+=n.CUSTOMITEMPROGRESSBAR_LEN,r},t.SetCustom=function(e,t,n){for(var r=[],a=0;a<e;)if("string"==t){var o=n[a++],f=i(l.slice(n,a,o+a));r.push(f),a+=30}else"word"==t?(r.push(n[a]+(n[a+1]<<8)),a+=2):"longword"==t?(r.push(n[a]+(n[a+1]<<8)+(n[a+2]<<16)+(n[a+3]<<24)),a+=4):(r.push(n[a]),a++);return r},t.TClientMagic=function(e){var t={};return t.Key=e[0],t.Level=e[1],t.NewLevel=e[2],t.CurTrain=e[3]+(e[4]<<8)+(e[5]<<16)+(e[6]<<24),t.Def=this.TMagic(l.slice(e,7,105)),t.dwInterval=e[98]+(e[99]<<8)+(e[100]<<16)+(e[101]<<24),t.dwRealInterval=e[102]+(e[103]<<8)+(e[104]<<16)+(e[105]<<24),t.dwLastUseTick=e[106]+(e[107]<<8)+(e[108]<<16)+(e[109]<<24),t},t.TUserStateInfo=function(e){var t={i:0};t={RaceServer:l.readBuff(e,t,r.Integer),Feature:null,UserName:null,NAMECOLOR:null,GuildName:null,GuildRankName:null,UseItems:[],JewelryBoxStatus:null,JewelryItems:[],ShowGodBless:null,GodBlessItemsState:null,GodBlessItems:[],i:t.i};for(var n=l.readBuff(e,t,r.Integer),o=[],f=0;f<256;f++)o[f]=l.readBuff(e,t,r.Byte);t.Feature=this.TFeature(n,o),t.UserName=l.readConstomLength(e,t,a.ACTOR_NAME_LEN),t.NAMECOLOR=l.readBuff(e,t,r.Integer),t.GuildName=l.readConstomLength(e,t,a.ACTOR_NAME_LEN),t.GuildRankName=l.readConstomLength(e,t,a.ACTOR_NAME_LEN);for(var i=0;i<30;i++)t.UseItems[i]=this.TClientItem(e,t);t.JewelryBoxStatus=l.readBuff(e,t,r.Byte);for(var u=0;u<6;u++)t.JewelryItems[u]=this.TClientItem(e,t);t.ShowGodBless=l.readBuff(e,t,r.Boolean),t.GodBlessItemsState=this.TGodBlessItemsState(e,t);for(var d=0;d<12;d++)t.GodBlessItems[d]=this.TClientItem(e,t);return t},t.TGodBlessItemsState=function(e,t){var n={};n={GodBlessItemsState:[]};for(var a=0;a<12;a++)n.GodBlessItemsState[a]=l.readBuff(e,t,r.Byte);return n},t.TUserItem=function(e,t){if(!t)t={i:0};t={MakeIndex:l.readBuff(e,t,r.Integer),wIndex:l.readBuff(e,t,r.Word),Name:l.readConstomLength(e,t,a.ITEM_NAME_LEN),Dura:l.readBuff(e,t,r.Word),DuraMax:l.readBuff(e,t,r.Word),btValue:[],dwHeroM2DressEffect:null,btUpgradeCount:null,boStartTime:null,nLimitTime:null,btHeroM2Light:null,btNewValue:[],btColor:null,boIsBind:null,btBindOption:null,wEffect:null,btFluteCount:null,Flutes:[],Progress:[],CustomProperty:null,ItemFrom:null,wInsuranceCount:l.readBuff(e,t,r.Word),wNewLooks:l.readBuff(e,t,r.Word),wNewShape:l.readBuff(e,t,r.Word),wNewExpand3:l.readBuff(e,t,r.Word),wNewExpand4:l.readBuff(e,t,r.Word),btAddDataByte:[],nAddDataInt:[],sAddDataText:[],i:t.i};for(var n=0;n<14;n++)t.btValue[n]=l.readBuff(e,t,r.Integer);t.dwHeroM2DressEffect=l.readBuff(e,t,r.Word),t.btUpgradeCount=l.readBuff(e,t,r.Byte),t.boStartTime=l.readBuff(e,t,r.Boolean),t.nLimitTime=l.readBuff(e,t,r.Integer),t.btHeroM2Light=l.readBuff(e,t,r.Byte);for(var o=0;o<30;o++)t.btNewValue[o]=l.readBuff(e,t,r.Word);t.btColor=l.readBuff(e,t,r.Byte),t.boIsBind=l.readBuff(e,t,r.Boolean),t.btBindOption=l.readBuff(e,t,r.Byte),t.wEffect=l.readBuff(e,t,r.Word),t.btFluteCount=l.readBuff(e,t,r.Byte);for(var f=0;f<8;f++)t.Flutes[f]=this.TFluteInfo(e,t);for(var i=0;i<2;i++)t.Progress[i]=this.TUserItemProgress(e,t);t.CustomProperty=this.TUserItemProperty(e,t),t.ItemFrom=this.TUserItemFrom(e,t);for(var u=0;u<20;u++)t.btAddDataByte[u]=l.readBuff(e,t,r.Byte);for(var d=0;d<10;d++)t.nAddDataInt[d]=l.readBuff(e,t,r.Integer);for(var s=0;s<2;s++)t.sAddDataText[s]=l.readConstomLength(e,t,20);return t},t.TFluteInfo=function(e,t){t||(t={i:0});return{GemIndex:l.readBuff(e,t,r.Word),GemCount:l.readBuff(e,t,r.Word)}},t.TUserItemProgress=function(e,t){return{boOpen:l.readBuff(e,t,r.Boolean),btNameColor:l.readBuff(e,t,r.Byte),btCount:l.readBuff(e,t,r.Byte),btShowType:l.readBuff(e,t,r.Byte),wMax:l.readBuff(e,t,r.Word),wValue:l.readBuff(e,t,r.Word),wLevel:l.readBuff(e,t,r.Word),sName:l.readConstomLength(e,t,31)}},t.TUserItemProperty=function(e,t){var n={};n={sText:l.readConstomLength(e,t,128),btTextColor:l.readBuff(e,t,r.Byte),Properties:[]};for(var a=0;a<20;a++)n.Properties[a]=this.TCustomProperty(e,t);return n},t.TGuildJoinUser=function(e){var t={i:0};t={sUserName:l.readConstomLength(e,t,20),btSex:l.readBuff(e,t,r.Byte),btJob:l.readBuff(e,t,r.Byte),boOnline:l.readBuff(e,t,r.Boolean),nLevel:l.readBuff(e,t,r.LongWord),dtLastLogin:null,i:t.i};var n=l.slice(e,t.i,t.i+8);return t.dtLastLogin=l.getJSDateTimeFromDelphi8Bytes(n),t.i+=8,t},t.TCustomProperty=function(e,t){var n={};n={btColor:l.readBuff(e,t,r.Byte),btBindType:l.readBuff(e,t,r.Byte),btShowFlag:l.readBuff(e,t,r.Byte),btPercent:l.readBuff(e,t,r.Byte),btHintModule:l.readBuff(e,t,r.Byte),nValues:[]};for(var a=0;a<3;a++)n.nValues[a]=l.readBuff(e,t,r.Integer);return n},t.TUserItemFrom=function(e,t){var n={};n={ItemForm:l.readBuff(e,t,r.Byte),sMapName:l.readConstomLength(e,t,a.MAP_NAME_LEN),sMonName:l.readConstomLength(e,t,40),sMakerName:l.readConstomLength(e,t,a.ACTOR_NAME_LEN),DateTime:null,i:t.i};var o=l.slice(e,t.i,t.i+8);return n.DateTime=l.getJSDateTimeFromDelphi8Bytes(o),t.i+=8,n},t.TGuildMemeberInfo=function(e){var t={i:0};t={sName:l.readConstomLength(e,t,a.ACTOR_NAME_LEN),boOnline:l.readBuff(e,t,r.Boolean),boMaster:l.readBuff(e,t,r.Boolean),btSex:l.readBuff(e,t,r.Byte),btJob:l.readBuff(e,t,r.Byte),nLevel:l.readBuff(e,t,r.LongWord),nRankName:l.readConstomLength(e,t,100),dtLastLogin:null,i:t.i};var n=l.slice(e,t.i,t.i+8);return t.dtLastLogin=l.getJSDateTimeFromDelphi8Bytes(n),t.i+=8,t},t.TUserItem_0=function(e){var t={},n=l.slice(e,0,14);t.btValue=n,t.btEffect=e[14]>>>0,t.btUpgradeCount=e[15]>>>0,t.boStartTime=e[16],t.nLimitTime=e[17]+(e[18]<<8)+(e[19]<<16)+(e[20]<<24),t.nFlutCount=e[21]>>>0;var r=l.slice(e,22,38);t.nGemIdx=r;var a=l.slice(e,38,45);t.OldbtValue=a;var o=l.slice(e,45,65);return t.btNewValue=o,t.btColor=e[65]>>>0,t.boIsBind=e[66],t.boCanotUserDropBindItem=e[67],t.boCanotUserDealBindItem=e[68],t.boCanotUserStorageBindItem=e[69],t.boCanotUserRepairBindItem=e[70],t.boCanotUserSellBindItem=e[71],t.boCanotUserScatterBindItem=e[72],t.boDropFree=e[73],t.btValue2=e[74]>>>0,t},t.TUserItem_1=function(e){var t={};t.boUsed=e[0];var n=l.slice(e,1,15);t.sMapDesc=n;var r=l.slice(e,15,36);return t.sMapName=r,t.wCurrx=e[36]+(e[37]<<8)>>>0,t.wCurrY=e[38]+(e[39]<<8)>>>0,t},t.TUserItem_2=function(e){var t={},n=l.slice(e,0,8);t.dEggLastHatchDateTime=n,t.boEggHatchSucceeded=e[8];var r=l.slice(e,9,17);return t.dEggHatchSucceeded=r,t},t.TMagic=function(e){var t={};t.MagicAttr=e[0],t.wMagicId=e[1]+(e[2]<<8),t.sMagicName=i(l.slice(e,4,64)),t.btEffectType=e[64],t.btEffect=e[65],t.wSpell=e[66]+(e[67]<<8),t.MaxTrain=[];for(var n=68;n<84;n+=4)t.MaxTrain.push(e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24));return t.btTrainLv=e[84],t.dwMagicDelayTime=e[85]+(e[86]<<8)+(e[87]<<16)+(e[88]<<24),t.wDefSpell=e[89]+(e[90]<<8),t.CanUpgrade=e[91]+(e[92]<<8)+(e[93]<<16)+(e[94]<<24),t.MaxUpgradeLevel=e[95]+(e[96]<<8)+(e[97]<<16)+(e[98]<<24),t},t.pingjie=function(e,t,n){e.push(t.length);for(var r=0;r<n;r++)null==t[r]?e.push(0):e.push(t[r].charCodeAt())},t.objEncode6BitBuf=function(e){if(e){var t=new Array;for(var n in e)null!=e[n]&&"function"!=typeof e[n]&&(t.push((255&e[n])>>0),t.push((65280&e[n])>>8),t.push((16711680&e[n])>>16),t.push((4278190080&e[n])>>24));return o.fnEncode6BitBuf(t,t.length)}},t.TDeleteHumanInfo=function(e){var t={};return t.sChrName=i(l.slice(e,1,15)),t.nLevel=e[22]+(e[23]<<8)+(e[34]<<16)+(e[35]<<24),t.btJob=e[36],t.btSex=e[37],t},t.TNewValueAdd=function(e){var t={},n=0;return t.Index=e[n],n+=4,t.Value=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t},t.TLEGSuitItemInfo=function(e){var t={},n=384;t.btValueMode=e[n],n+=4,t.MaxHP=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24)>>>0,t.MaxMP=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24)>>>0,t.AC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MAC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.DC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.SC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HitPoint=e[n++],t.SpeedPoint=e[n++],t.nAntiMagic=e[n++],t.nAntiPoison=e[n++],t.nPoisonRecover=e[n++],t.HealthRecover=e[n++],t.SpellRecover=e[n++],t.boItemSkill=new Array;for(var r=0;r<16;r++)t.boItemSkill[r]=e[n++]>0;n++,t.btNewValue=new Array;for(r=0;r<11;r++)t.btNewValue[r]=this.TNewValueAdd(l.slice(e,n,n+8)),n+=8;return t},t.TLEGTzInfo=function(e){var t={};t.TzIndex=e[0]+(e[1]<<8)>>>0,t.nItemColor=e[2],t.nAbilColor=e[3],t.ClientShow=e[4];var n=e[5]>>>0;t.sHint=i(l.slice(e,6,6+n));var r=e[126]>>>0;return t.UserItems=i(l.slice(e,127,127+r)),t.Attribute=this.TLEGSuitItemInfo(e),t},t.TBlueMission=function(e){var t=new Object;t.nLabel=e[0],t.nID=e[2]+(e[3]<<8)>>>0;var n=e[4]>>>0;return t.sCaption=i(l.slice(e,5,5+n)),t},t.TOpenRedPacket=function(e){var t={},n=0,r=e[n];return t.sUserName=i(l.slice(e,n+1,n+1+r)),n=31,t.nGoldValue=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),r=e[n=35],t.sTime=i(l.slice(e,n+1,n+1+r)),r=e[n=66],t.sNote=i(l.slice(e,n+1,n+1+r)),t},t.TRedPacketInfo=function(e){var t={},n=0,r=e[0];t.sUserName=i(l.slice(e,1,1+r)),n=31,t.nGoldNum=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.nRedPacketCount=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.nGoldType=e[n++],t.nType=e[n++],t.nRedRecog=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.OpenRedPacket=new Array;for(var a=0;a<100;a++)t.OpenRedPacket[a]=this.TOpenRedPacket(l.slice(e,n,n+97)),n+=97;t.nGoldBalance=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.nRandomGold=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24);var o=l.slice(e,n,n+8);return t.nRedPacketTime=l.getJSDateTimeFromDelphi8Bytes(o),n=e[n+=9],t.sRedPacketTime=i(l.slice(e,n,n+n)),n=e[n+=21],t.sMsg=i(l.slice(e,n,n+n)),n+=30,t.bOpened=e[n],t},t.MissTabName=function(){var e={sTabName:""};return e.MissInf=new Array,e},t.MyTaskInf=function(){var e={sTabName:"",sShowtxt:"",sMemo:"",sNvStr:"",sCmdGo:""};return e},t.TaskGloba=function(){var e={sName:"",nCount:""};return e},t.TBaiTanData=function(e){var t={};t.nRecogId=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),t.Item=[],t.PriceGold=[],t.Price=[];for(var r=4,a=0;a<20;a++){var o=this.TClientItem(l.slice(e,a*n.g_itemSize+r,(a+1)*n.g_itemSize+r));t.Item.push(o)}r=t.Item.length*n.g_itemSize+r;for(var f=0;f<20;f++)t.PriceGold.push(e[r++]);for(var i=0;i<20;i++){var u=e[r]+(e[r+1]<<8)+(e[r+2]<<16)+(e[r+3]<<24);r+=4,t.Price.push(u)}return t},t.TloadNpcImage=function(){var e={Type:0,sName:"",nX:0,nY:0,sCmd:"",sText:"",sStr:""};return e},t.cardGameInfo=function(){n.g_cardGame_infoList[0],n.g_cardGame_infoList[1],n.g_cardGame_infoList[2],n.g_cardGame_infoList[3],n.g_cardGame_infoList[4],n.g_cardGame_infoList[5],n.g_cardGame_infoList[6],n.g_cardGame_infoList[7],n.g_cardGame_infoList[8],n.g_cardGame_infoList[9],n.g_cardGame_infoList[10],n.g_cardGame_infoList[11],n.g_cardGame_infoList[12],n.g_cardGame_infoList[13],n.g_cardGame_infoList[14],n.g_cardGame_infoList[15],n.g_cardGame_infoList[16],n.g_cardGame_infoList[17],n.g_cardGame_infoList[18],n.g_cardGame_infoList[19],n.g_cardGame_infoList[20],n.g_cardGame_infoList[21],n.g_cardGame_infoList[22],n.g_cardGame_infoList[23],n.g_cardGame_infoList[24],n.g_cardGame_infoList[25],n.g_cardGame_infoList[26],n.g_cardGame_infoList[27],n.g_cardGame_infoList[28],n.g_cardGame_infoList[29],n.g_cardGame_infoList[30],n.g_cardGame_infoList[31],n.g_cardGame_infoList[32],n.g_cardGame_infoList[33],n.g_cardGame_infoList[34],n.g_cardGame_infoList[35],n.g_cardGame_infoList[36],n.g_cardGame_infoList[37],n.g_cardGame_infoList[38],n.g_cardGame_infoList[39],n.g_cardGame_infoList[40],n.g_cardGame_infoList[41],n.g_cardGame_infoList[42],n.g_cardGame_infoList[43],n.g_cardGame_infoList[44],n.g_cardGame_infoList[45],n.g_cardGame_infoList[46]},t.cardGameType=function(){},t.TFishJoinPlayInfo=function(e){var t={},n=e[0],r=e;t.sName=i(l.slice(r,1,n+1));var a=32;return t.Level=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+(e[a+3]<<24),a=36,t.ID=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+(e[a+3]<<24),t},t.TAbilityFish=function(e){var t={};return t.Level=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),t.Exp=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),t.NeedExp=e[8]+(e[9]<<8)+(e[10]<<16)+(e[11]<<24),t.BiteRate=e[12]+(e[6]<<13)+(e[14]<<16)+(e[15]<<24),t},t.TFishGropInfo=function(e,t,n){var r={},a=0;r.nOwnerID=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+(e[a+3]<<24);var o=e[a+4];return r.sCaption=i(l.slice(e,a+5,a+5+o)),a=82,r.nBiteRate=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+(e[a+3]<<24),a=42,r.dwBiteWeight=e[a]+(e[a+1]<<8),r},t.TFishInfo=function(e){var t=0,n={},r=e;n.Base=this.TAbilityFish(l.slice(r,0,16)),n.State=e[16];t=20;n.ID=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);t=25;var a=e[24];n.sName=i(l.slice(e,t,t+a));t=56;return n.GetCount=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24),n.OutCount=e[t+4]+(e[t+5]<<8)+(e[t+6]<<16)+(e[t+7]<<24),n.Face=e[t+8]+(e[t+9]<<8)+(e[t+10]<<16)+(e[t+11]<<24),n.boAutoPars=1==e[t+12],n.dwAutoParsTime=e[t+16]+(e[t+17]<<8)+(e[t+18]<<16)+(e[t+19]<<24)>>>0,n.BaitType=e[t+20]+(e[t+21]<<8)+(e[t+22]<<16)+(e[t+23]<<24),n.BaitDura=e[t+24]+(e[t+25]<<8)+(e[t+26]<<26)+(e[t+27]<<24),n.BaitDuraMax=e[t+28]+(e[t+29]<<8)+(e[t+30]<<16)+(e[t+31]<<24),n},t.TActorIcon=function(e){var t={};return t.nFileIndex=e[0]+(e[1]<<8),65535==t.nFileIndex&&(t.nFileIndex=-1),t.nIconIndex=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),t.nIconCount=e[8],t.nX=e[10]+(e[11]<<8),t.nX>6e4&&(t.nX=t.nX-65536),t.nY=e[12]+(e[13]<<8),t.nY>6e4&&(t.nY=t.nY-65536),t.boBlend=e[14],t.nMode=e[16]+(e[17]<<8)+(e[18]<<16)+(e[19]<<24),-1==t.nFileIndex&&(t.nMode=-1),t.nSeeMode=e[20]+(e[21]<<8)+(e[22]<<16)+(e[23]<<24),t.nPlayTimeTick=e[24]+(e[25]<<8)+(e[26]<<16)+(e[27]<<24),t.nPlayTimeTick<10&&(t.nPlayTimeTick=10),t},t.GXXTActorIcon=function(e){var t=new Object;return t.i=0,t.nFileIndex=l.readBuff(e,t,r.SmallInt),t.nFileIndex>=32767&&(t.nFileIndex-=65536),t.nIconIndex=l.readBuff(e,t,r.Word),t.nIconCount=l.readBuff(e,t,r.Byte),t.nX=l.readBuff(e,t,r.SmallInt),t.nX>=32767&&(t.nX-=65536),t.nY=l.readBuff(e,t,r.SmallInt),t.nY>=32767&&(t.nY-=65536),t.boBlend=l.readBuff(e,t,r.Boolean),t.btDrawOrder=l.readBuff(e,t,r.Byte),t.nPlayTime=l.readBuff(e,t,r.SmallInt),t.boOnlySelfVisible=l.readBuff(e,t,r.Boolean),t},t.GXXTActorEffect=function(e){var t=new Object;return t.i=0,t.nEffectFileIndex=l.readBuff(e,t,r.SmallInt),t.i+=2,t.nEffectImageOffSet=l.readBuff(e,t,r.Integer),t.wEffectImageCount=l.readBuff(e,t,r.Word),t.wEffectFrameTime=l.readBuff(e,t,r.Word),t.nLoopCount=l.readBuff(e,t,r.Integer),t.nLoopCount>42e8&&(t.nLoopCount-=4294967296),t.btDrawOrder=l.readBuff(e,t,r.Byte),t.i+=3,t.nOffsetX=l.readBuff(e,t,r.Integer),t.nOffsetX>42e8&&(t.nOffsetX-=4294967296),t.nOffsetY=l.readBuff(e,t,r.Integer),t.nOffsetY>42e8&&(t.nOffsetY-=4294967296),t.boBlendMode=l.readBuff(e,t,r.Boolean),t},t.TClientImage=function(e){var t={};return t.FileID=e[0]+(e[1]<<8),65535==t.FileID&&(t.FileID=0),t.ImageID=e[2]+(e[3]<<8),t},t.THPBarData=function(e){var t={};return t.OffSetX=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),t.OffSetY=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),t.BaseImg=this.TClientImage(l.slice(e,8,12)),t.BarImg=this.TClientImage(l.slice(e,12,16)),t},t.TClientImageFrame=function(e){var t={};return t.FileID=e[0]+(e[1]<<8),65535==t.FileID&&(t.FileID=-1),t.ImageID=e[2]+(e[3]<<8),t.Speed=e[4]+(e[5]<<8),t.Count=e[6]+(e[7]<<8),t.OffSetX=e[8]+(e[9]<<8),t.OffSetY=e[10]+(e[11]<<8),t.Mode=e[12],t},t.TDirImageFrame=function(e){var t={};return t.StandBaseImg=this.TClientImageFrame(l.slice(e,0,13)),t.StandAddImg=this.TClientImageFrame(l.slice(e,13,26)),t.ActBaseImg=this.TClientImageFrame(l.slice(e,26,39)),t.ActAddImg=this.TClientImageFrame(l.slice(e,39,52)),-1==t.StandAddImg.FileID&&(t.StandAddImg=t.StandBaseImg),-1==t.ActAddImg.FileID&&(t.ActAddImg=t.StandBaseImg),-1==t.ActBaseImg.FileID&&(t.ActBaseImg=t.StandBaseImg),t},t.TDiyNpcData=function(e){var t={},n=e[0];t.sIdent=i(l.slice(e,1,1+n)),n=24,t.Index=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),t.HPBar=this.THPBarData(l.slice(e,28,43)),n=e[44],t.sClickSound=i(l.slice(e,45,45+n)),n=75,t.UseDirs=[];for(var r=0;r<8;r++)t.UseDirs[r]=e[n+r];n=83,t.ImgFrames=[];for(r=0;r<8;r++)t.ImgFrames[r]=this.TDirImageFrame(l.slice(e,n+52*r,n+52*(r+1)));return t},t.TClientCMD=function(e){var t={},n=e[0];return t.sCmd=i(l.slice(e,1,n+1)),n=e[26],t.sCaption=i(l.slice(e,27,27+n)),t},t.TClientConfig=function(e){var t={},n=0;t.btConfigDlgType=e[0],t.btItemSpeed=e[1],t.boParalyCanRun=e[2],t.boParalyCanWalk=e[3],t.boParalyCanHit=e[4],t.boParalyCanSpell=e[5],t.boNoAcrossHuman=e[6],t.boNoAcrossMon=e[7],t.boNoAcrossNpc=e[8],n=9,t.nMoveTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=13,t.nHitTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=17,t.nSpellTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),t.boIsSafeRunNPC=e[21],t.boIsSafeRun=e[22],n=23,t.nHighLevel=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),t.btDieColor=e[27],n=28,t.nFireHitDelayTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=32,t.nKTZHitDelayTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=36,t.nPKJHitDelayTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=40,t.nSwordHitDelayTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=44,t.nLYJFHitWaitTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=48,t.nSkill114HitWaitTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n=52,t.nMagicItemRate=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),t.boStartGameAuxiliary=e[56],t.boCanOpenGameConfigDlg=e[57],t.boNotCanUseClientConfig=e[58],t.boNewHealth=e[59],t.boShowMiss=e[60],t.boShowBlast=e[61],t.boShowRebound=e[62],t.boShowPoisonStone=e[63],t.boShowPoisonDeChealth=e[64],t.boShowPoisonDaMageArmor=e[65],t.boShowHeroGroupAttack=e[66],t.boShowRevival=e[67],t.boShowRecoveryHP=e[68],t.boShowRecoveryMP=e[69],t.boShowPlus=e[70],t.boShowMinus=e[71],t.boItemNewAbilAllowUse=e[72],t.boWeaponSimple=e[73],t.boClothesSimple=e[74],t.boMonSimple=e[75],t.nWeaponZ=e[76]+(e[77]<<8),t.nWeaponF=e[78]+(e[79]<<8),t.nWeaponD=e[80]+(e[81]<<8),t.nClothesZ=e[82]+(e[83]<<8),t.nClothesF=e[84]+(e[85]<<8),t.nClothesD=e[86]+(e[87]<<8),t.nMonAppr=e[88]+(e[89]<<8),t.nNPCAppr=e[90]+(e[91]<<8),t.nMoveSpeed=e[92]+(e[93]<<8),t.nMoveSpeed>=32767&&(t.nMoveSpeed-=65536),t.nAttackSpeed=e[94]+(e[95]<<8),t.nAttackSpeed>=32767&&(t.nAttackSpeed-=65536),t.nSpellSpeed=e[96]+(e[97]<<8),t.nSpellSpeed>=32767&&(t.nSpellSpeed-=65536),t.dwUserMoveTime=e[98]+(e[99]<<8)+(e[100]<<16)+(e[101]<<24),t.DActionLogButton=e[102],t.DBotMissionButton=e[103],t.DBotFriendButton=e[104],t.DControlHelpButton=e[105],t.DBotRankButton=e[106],t.DBotWhisperButton=e[107],t.DOpenShopButton=e[108],t.DBotUserShopButton=e[109],t.DWebButton=e[110],t.DOpenHeroButton=e[111],t.DBotChallengeButton=e[112],t.boShowHintWindowFrame=e[113],t.btHintWindowbackgroundColor=e[114],t.btHintWindowbackgroundAlpha=e[115],t.boShowBoundary=e[116],t.btFontSize=e[117]+(e[118]<<8)+(e[119]<<16)+(e[120]<<24),t.boFontWeight=e[121],t.btSuspensionShowItem=e[122],t.boShowItemValue=e[123],t.boShowItemNewValue=e[124],t.boItem25Value=e[125],t.boShowHPLabel=e[126],t.boShowNumberLable=e[127],t.boShowJobAndLevel=e[128],t.boFilterExp=e[129],t.boShowGreenHint=e[130],t.boShowUserName=e[131],t.boOnlyShowCharName=e[132],t.boShowMoveLable=e[133],t.boShowItemName=e[134],t.boShowFilterItem=e[135],t.boItemHint=e[136],t.boDisableSelfStruck=e[137],t.boSpeedSlow=e[138],t.boMagicLock=e[139],t.boAutoPickUpItem=e[140],t.boAutoOrderItem=e[141],t.boAutoCloseGroup=e[142],t.boShowDura=e[143],t.boDuraWarning=e[144],t.boNotNeedShift=e[145],t.boHideGhost=e[146],t.boHideHumEffect=e[147],t.boHideWeaponEffect=e[148],t.boShowMapDesc=e[149],t.boShowHighlightHPLabel=e[150],t.boAutoHideMode=e[151],t.boAutoTakeOnItem=e[152],t.boHumAutoShield=e[153],t.boHumStruckShield=e[154],t.boSmartLongHit=e[155],t.boSmartPosLongHit=e[156],t.boSmartWalkLongHit=e[157],t.boSmartWideHit=e[158],t.boSmartFireHit=e[159],t.boSmartSwordHit=e[160],t.boSmartCrsHit=e[161],t.boSmartTwnHit=e[162],t.boBGMusic=e[163],t.boRepeatBGMusic=e[164],t.boShowMonName=e[165],t.boNotParaly=e[166],t.boHumManuallySnowWind=e[167],t.boHumManuallyFireBoom=e[168],t.boHumShootLightenLockTarget=e[169],t.boHumManuallyMeteorShower=e[170],t.boAutoCHangePoison=e[171],t.boAutoBindItem=e[172],t.boTabCopyHumName=e[173],t.boShowHorseButton=e[174],t.boShowMyShopButton=e[175],t.boHideNeiGuaSpeed=e[176],t.boShowBagGold=e[177],t.boShowHelpButton=e[178],t.boChatShowExp=e[179],t.boDoubleButton=e[180],t.boDynamicButton=e[181],t.boNewItemShowMode=e[182],t.boNoSmartPosLongHit=e[183],t.Params=[],n=184;for(var r=0;r<10;r++)n=184+4*r,t.Params[r]=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24);n=224,t.ClientConfigs=[];for(r=0;r<11;r++)t.ClientConfigs[r]=e[n+r];t.boUseSuperMedica=e[235],t.DMerchantDlgHelp=e[236],n=237,t.DBotFuncs=[];for(r=0;r<6;r++)t.DBotFuncs[r]=e[n+r];t.boViewFog=e[243],t.boCanStartRun=e[244],t.boCanFirewind=e[245],t.boAllNameShow=e[246],t.boShowNPCHPBar=e[247],t.boLiveShield=e[248],t.boCanBossHint=e[249],t.boAutoPickItem=e[250],t.boShowAllUserName=e[251],n=252,t.ClientConfigTabSheetVisibles=[];for(r=0;r<10;r++)t.ClientConfigTabSheetVisibles[r]=e[n+r];n=262,t.UseSuperMedicaItemNames=[];for(r=0;r<54;r++)n=262+31*r,t.UseSuperMedicaItemNames[r]=i(l.slice(e,n+1,n+30));n=1936,t.sHomePage=i(l.slice(e,n+1,n+50)),n=1987,t.nHumNeedMagicItem=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),t.boCanMoveChatDlg=e[1991],t.boGuaji=e[1992],n=1993,t.AcupointLevels=[];for(r=0;r<5;r++){t.AcupointLevels[r]=[];for(var a=0;a<5;a++)t.AcupointLevels[r][a]=e[n+5*r+a]}return t.boUserMoveCanOnItemEx=e[2018],t.boQuickTab=e[2019],n=e[2020],t.sQuickTab=i(l.slice(e,n+1,n+60)),t.boClosePresentOfShop=e[2081],t.boZhaoMuFunction=e[2082],n=2083,t.nHeroIconStyle=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),t.boMutHeroSelect=e[2087],t.boHideGlory=e[2088],t.boHideWeather=e[2089],t.boShowHeroLock=e[2090],t.boShowGemIcon=e[2091],t.btShowItemType=e[2092],n=2093,t.nNPCDlgLabelX=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nNPCDlgLabelY=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.boMiniMapAutoFindPath=e[n],n+=1,t.nGreenHintInfoX=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nGreenHintInfoY=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nShowDuraHintX=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nShowDuraHintY=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nShowExpHintX=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nShowExpHintY=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGoldMin=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGoldMax=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameGoldMin=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameGoldMax=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGamePointMin=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGamePointMax=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameDiamondMin=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameDiamondMax=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameGirdMin=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameGirdMax=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameGloryMin=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nRedPackGameGloryMax=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.btRedPackGameUsesOptions=e[n],n+=1,t.nBagItemRBtnFunc=e[n],n+=1,t.boSendItemDescToClient=e[n],n+=1,t.boItemInfoFollowMouse=e[n],n+=1,t.boItemSrcShow=e[n],n+=1,t.boDisabledDoubleFireHitSkill=e[n],n+=1,t.nShowUserIcon=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nUseHPInterval=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nUseMPInterval=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nUseHPMPInterval=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nUseOtherTypeInterval=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nUpHouse=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nDownHouse=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.boDropOverLapItem=e[n],n+=1,t.OrderFee=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.TaxRate=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.OrderExpireHours=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,n+=8,t.boCanFoundry=e[n],n+=1,t.nWeaponDura=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nDressDura=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.MoveIntervalTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.AttackIntervalTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.SpellIntervalTime=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24),n+=4,t.nMyShopType=e[n],n+=1,t.boHideMissionFrom=e[n],n+=1,t},t.TClientUserShop=function(e){var t=new Object,n=0,r=e[n++];return t.sShopName=i(l.slice(e,n,r+n)),r=e[n+=14],n++,t.sMasterName=i(l.slice(e,n,n+r)),n+=14,t.dCreateDate=l.getJSDateTimeFromDelphi8Bytes(l.slice(e,n,n+8)),n+=8,t.nSellingItemCount=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.nSelledItemCount=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.nStorageItemCount=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.boBusiness=e[n++],t.nCareValue=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.btState=e[n++]>>>0,t},t.TClientUserShopItem=function(e){var t=new Object;t.Item=[];var n=e[0];return t.sShopName=i(l.slice(e,1,n+1)),n=e[15],t.sMasterName=i(l.slice(e,16,16+n)),n=e[30],t.sBuyName=i(l.slice(e,31,31+n)),t.isMyShopItem=e[45]>>>0,t.btMoneyType=e[46]>>>0,t.btItemType=e[47]>>>0,t.dCreateDate=l.getJSDateTimeFromDelphi8Bytes(l.slice(e,48,56)),t.boAllowSell=e[56],t.boGetMoney=e[57],t.Item=this.TClientItem(l.slice(e,58,e.length-1)),t},t.TBaseObjectEffect=function(e){var t=new Object;return t.nEffectFileIndex=e[0]+(e[1]<<8)-65536,t.nEffectImageOffSet=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),t.wEffectImageCount=e[8]+(e[9]<<8),t.wEffectFrameTime=e[10]+(e[11]<<8),t.wLoopCount=e[12]+(e[13]<<8),t.nX=e[14]+(e[15]<<8),t.nY=e[16]+(e[17]<<8),t.dwEffectTick=e[20]+(e[21]<<8)+(e[22]<<16)+(e[23]<<24),t},t.TBaseObjectEffectGom=function(e){var t=new Object;return t.nEffectFileIndex=e[0]+(e[1]<<8),t.nEffectImageOffSet=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),t.wEffectImageCount=e[8]+(e[9]<<8),t.wEffectFrameTime=e[10]+(e[11]<<8),t.wLoopCount=e[12]+(e[13]<<8),t.nX=e[14]+(e[15]<<8),t.nY=e[16]+(e[17]<<8),t},t.TClientList=function(e){var t=new Object,n=e[0];t.sServerName=0==n?"":i(l.slice(e,1,n+1)),n=e[41],t.sServerip=0==n?"":i(l.slice(e,42,42+n)),t.nPort=e[62]+(e[63]<<8)+(e[64]<<16)+(e[65]<<24),n=e[66],t.sPassWord=0==n?"":i(l.slice(e,67,67+n)),t.btFun=[];for(var r=0;r<21;r++)t.btFun[r]=e[r+87];if(t.nListIdx=e[108]+(e[109]<<8)+(e[110]<<16)+(e[111]<<24),e.length>112){n=e[112];var a=Math.min(n+113,e.length);t.sGroupName=0==n?"":i(l.slice(e,113,a))}return e.length<=112&&(t.sGroupName=""),t},t.TBaseConfig=function(e){var t=new Object,n=e[0];return t.nJobmode=e[0],t.nHelmet=e[1],t.nCollect=e[2],t.nSpeed=e[3]+(e[4]<<8),t.nSpeed>=32767&&(t.nSpeed-=65536),t.nQuickregister=e[5],t.nAutohook=e[6],t.nUimode=e[7],t.nSimScreen=e[8],t.nAutopick=e[9],t.nNpcTxtSize=e[10],t.nAtkRange=e[11],t.boVoice=e[12],t.boPic=e[13],t.nVoicePort=e[14]+(e[15]<<8),t.boSmooth=e[16],t.boVirtual=e[17],n=e[18],t.sVoiceIP=i(l.slice(e,19,19+n)),n=e[39],t.sPicUrl=i(l.slice(e,40,40+n)),t.idx=e[240]+(e[241]<<8)+(e[242]<<16)+(e[243]<<24),e[244]&&(t.nH5TxtSize=e[244]),e[245]&&(t.nAppTxtSize=e[245]),t},t.TGameConfig=function(e){var t=new Object,n=0;return t.nOnlyName=e[n++],t.nShowName=e[n++],t.nMonName=e[n++],t.nNpcName=e[n++],t.nBBName=e[n++],t.nShiTi=e[n++],t.nChenghao=e[n++],t.nXueTiao=e[n++],t.nShowExp=e[n++],t.nPingBiHum=e[n++],t.nPingBiMon=e[n++],t.nAutoPack=e[n++],t.nHeroDun=e[n++],t.nYingYue=e[n++],t.nJingZhiMov=e[n++],t.nJingZhiLock=e[n++],t.nDaoDaoCiSha=e[n++],t.nBanYue=e[n++],t.nAutoLongYing=e[n++],t.nChiXuDun=e[n++],t.nChixuShifa=e[n++],t.nAutoFu=e[n++],t.nChiXuYingShen=e[n++],t.nMyZiYu=e[n++],t.nAutoLieHuo=e[n++],t.nAutoZhuRi=e[n++],t.nGeWeiCiSsha=e[n++],t.nAutoKaiTian=e[n++],t.nAutoHP=e[n++],t.nAutoMP=e[n++],t.nShunAutoHP=e[n++],t.nShunAutoMP=e[n++],t.nChuanSongHP=e[n++],t.nChuanSongMP=e[n++],t.nFaShiDanTi=e[n++],t.nFaShiQunTi=e[n++],t.nDaoShiDanTi=e[n++],t.nDaoShiQunTi=e[n++],t.nDaoShiBB=e[n++],t.nDaoShiShiDu=e[n++],t.nDaoShiZhiLiao=e[n++],t.nAutoLianGong=e[n++],t.nHeroAutoHP=e[n++],t.nHeroAutoMP=e[n++],t.nHeroShunAutoHP=e[n++],t.nHeroShunAutoMP=e[n++],t.nHeroZhaoHui=e[n++],t.boUpdate=e[n++],t.nSmooth=e[n++],t.nHumShowBlue=e[n++],t.nAutoMagicMo=e[n++],t.nAutoMagicMFang=e[n++],t},t.TDiyButton=function(e){var t=new Object;t.nIdx=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24);var n=e[4];return t.sName=i(l.slice(e,5,n+5)),t.nX=e[21]+(e[22]<<8),t.nY=e[23]+(e[24]<<8),n=e[25],t.sCmd=i(l.slice(e,26,n+26)),t.nColor=e[42],t.nSize=e[43],t.boOpen=e[44],t},t.TDiyGold=function(e){var t=new Object;t.nIdx=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24);var n=e[4];return t.sVarName=i(l.slice(e,5,n+5)),n=e[25],t.sGoldName=i(l.slice(e,26,n+26)),n=e[46],t.sShowUI=i(l.slice(e,47,n+47)),t.boOpen=e[97],t.nX=e[98]+(e[99]<<8),t.nY=e[100]+(e[101]<<8),t},t.TItemScoreRecord=function(e){var t=new Object,n=0;t.BoOpen=e[n++],n=4,t.AC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MaxAC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MAC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MaxMAC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.DC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MaxDC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MaxMC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.SC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MaxSC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MaxHP=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MaxMP=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPRecover=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MPRecover=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.PoisonRecover=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Anger=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.AddDnger=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Crit=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Preciseness=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Alacrity=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.AckSpeed=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Lucky=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Curse=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.TeamUpHurt=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.SacredAdd=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.SacredLess=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.ADDHurt=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.CloseDefense=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.TargetCrit=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.BagWeight=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.WearWeight=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.DecAC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.DecMAC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Rebound=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.ItemAttachEXP=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.AntiPoison=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.AntiMC=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Teleport=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.GuildTeleport=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HideMode=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Paralysis=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Revival=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.FlameRing=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.RecoveryRing=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MagicShield=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MuscleRing=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.FastTrain=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.ProbeNecklace=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.SupermanItem=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HongMoSuite=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MoXieSuite=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.DropExp=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.DroLevel=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Memory=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.NoDropItem=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.NoDropUseItem=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.UnParalysis=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.UnRevival=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.UnMagicShield=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.boBagShow=e[n],n+=4;var r=e[n++];return t.ResourceName=i(l.slice(e,n,r+n)),n+=15,t.ImageStart=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.ImageEnd=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.boStartArrow=e[n],n+=4,t.PlaySpeed=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.PlayIndex=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.ArrowX=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.ArrowY=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.boItemBaseScore=e[n++],t.boOpenShowItemScore=e[n++],t.boJobShowItemScore=e[n++],t},t.TClientItemItemScore=function(e){var t=new Object,n=0;return t.MakeIndex=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.stdIndex=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.iExtItemScore=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t},t.TActionInfo=function(e){for(var t=e.buff,n={ActionArr:[]},r=0;r<=3;r++)n.ActionArr[r]=t[e.pos++]|t[e.pos++]<<8;return n.boDir_Boolean=0!=t[e.pos++],n},t.TCompleteActionInfo=function(e){var t=e.buff,n={};return n.ActionInfo=this.TActionInfo(e),n.ActionEffInfo=this.TActionInfo(e),n.EffFileIdx=t[e.pos++]|t[e.pos++]<<8|t[e.pos++]<<16|t[e.pos++]<<24,n},t.TClientMonMagicInfo=function(e){for(var t=e.buff,n={AttMaigcEffInfo:[]},r=0;r<=4;r++)n.AttMaigcEffInfo[r]=this.TActionInfo(e);n.btFlyMaigcType=[];for(r=0;r<=4;r++)n.btFlyMaigcType[r]=t[e.pos++];n.DelayShowMagicTimeArr=[];for(r=0;r<=4;r++)n.DelayShowMagicTimeArr[r]=t[e.pos++]|t[e.pos++]<<8;n.EffFileIdxArr=[];for(r=0;r<=4;r++)n.EffFileIdxArr[r]=t[e.pos++]|t[e.pos++]<<8|t[e.pos++]<<16|t[e.pos++]<<24;n.EffSoundIdxAr=[];for(r=0;r<=4;r++)n.EffSoundIdxAr[r]=t[e.pos++]|t[e.pos++]<<8|t[e.pos++]<<16|t[e.pos++]<<24;n.boBlendArr=[];for(r=0;r<=4;r++)n.boBlendArr[r]=0!=t[e.pos++];n.AttBowMagic=[];for(r=0;r<=4;r++)n.AttBowMagic[r]=this.TActionInfo(e);n.BowFileIdxArr=[];for(r=0;r<=4;r++)n.BowFileIdxArr[r]=t[e.pos++]|t[e.pos++]<<8|t[e.pos++]<<16|t[e.pos++]<<24;n.BowSoundIdxArr=[];for(r=0;r<=4;r++)n.BowSoundIdxArr[r]=t[e.pos++]|t[e.pos++]<<8|t[e.pos++]<<16|t[e.pos++]<<24;n.EffectFiyedDrawMethod=[];for(r=0;r<=4;r++)n.EffectFiyedDrawMethod[r]=0!=t[e.pos++];return n},t.TClientSmartMonster=function(e){var t=e.buff,n={};n.MonAppr=t[e.pos++]+(t[e.pos++]<<8),n.ActionFileIdx=t[e.pos++]+(t[e.pos++]<<8)+(t[e.pos++]<<16)+(t[e.pos++]<<24),n.SoundMonFileidx=t[e.pos++]+(t[e.pos++]<<8)+(t[e.pos++]<<16)+(t[e.pos++]<<24),n.HPImageX=t[e.pos++]+(t[e.pos++]<<8),n.HPImageY=t[e.pos++]+(t[e.pos++]<<8),n.BaseAction=[];for(var r=0;r<=11;++r)n.BaseAction[r]=this.TCompleteActionInfo(e);return n.LiveAndDieEff=this.TActionInfo(e),n.EffFileIdx=t[e.pos++]+(t[e.pos++]<<8)+(t[e.pos++]<<16)+(t[e.pos++]<<24),n.ClientMonMagicInfo=this.TClientMonMagicInfo(e),n.HPImageFileIdx=t[e.pos++]+(t[e.pos++]<<8)+(t[e.pos++]<<16)+(t[e.pos++]<<24),n.HPimageIndex=t[e.pos++]+(t[e.pos++]<<8)+(t[e.pos++]<<16)+(t[e.pos++]<<24),n.HPbgImageX=t[e.pos++]+(t[e.pos++]<<8),n.HPbgImageY=t[e.pos++]+(t[e.pos++]<<8),n.HPsImageX=t[e.pos++]+(t[e.pos++]<<8),n.HPsImageY=t[e.pos++]+(t[e.pos++]<<8),n},t.TClientBaseConfig=function(e){var t={},n=0;t.DrawMode=e[n++],t.DrawMode2=e[n++],t.DrawOrder=e[n++],t.DieNoCalcDir=e[n++],t.HPBgOffsetX=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPBgOffsetY=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPOffsetX=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPOffsetY=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPFile=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPStartIndex=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPTextOffsetX=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.HPTextOffsetY=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Sounds=[];for(var r=0;r<11;r++)t.Sounds[r]=i(l.slice(e,++n,n+30)),n+=30;return t},t.TMonsterClientAction=function(e){var t={},n=0;return t.ActionType=e[n++],t.ActionFile=e[n++]+(e[n++]<<8),t.StartIndex=e[n++]+(e[n++]<<8),t.PlayCount=e[n++]+(e[n++]<<8),t.EmptyCount=e[n++]+(e[n++]<<8),t.PlayTime=e[n++]+(e[n++]<<8),t.EffectFile=e[n++]+(e[n++]<<8),t.EffectIndex=e[n++]+(e[n++]<<8),t.EffectFile2=e[n++]+(e[n++]<<8),t.EffectIndex2=e[n++]+(e[n++]<<8),t.CalcDir=e[n++],t},t.TClientCustomMonsterConfig=function(e){var t={},n=0;t.wMonsterAppr=e[n++]+(e[n++]<<8),t.BaseConfig=this.TClientBaseConfig(l.slice(e,n,e.length)),n+=377,t.Actions=[];for(var r=0;r<12;r++)t.Actions[r]=this.TMonsterClientAction(l.slice(e,n,e.length)),n+=20;t.AttackConfigs=[];for(var a=0;a<6;a++)t.AttackConfigs[a]=this.TClientAttackConfig(l.slice(e,n,n+93)),n+=93;return t},t.TClientAttackConfig=function(e){var t={},n=0;return t.Fly_File=e[n++]+(e[n++]<<8),t.Fly_File>6e4&&(t.Fly_File-=65536),t.Fly_StartIndex=e[n++]+(e[n++]<<8),t.Fly_StartIndex>6e4&&(t.Fly_StartIndex-=65536),t.Fly_PlayCount=e[n++]+(e[n++]<<8),t.Fly_EmptyCount=e[n++]+(e[n++]<<8),t.Fly_PlayTime=e[n++]+(e[n++]<<8),t.Fly_DrawMode=e[n++],t.Fly_DirCount=e[n++],t.Fly_CalcDir=e[n++],t.Fly_LightRange=e[n++],t.FlyEff_File=e[n++]+(e[n++]<<8),t.FlyEff_File>6e4&&(t.FlyEff_File-=65536),t.FlyEff_StartIndex=e[n++]+(e[n++]<<8),t.FlyEff_StartIndex>6e4&&(t.FlyEff_StartIndex-=65536),t.FlyEff_DrawMode=e[n++],t.Self_File=e[n++]+(e[n++]<<8),t.Self_File>6e4&&(t.Self_File-=65536),t.Self_StartIndex=e[n++]+(e[n++]<<8),t.Self_StartIndex>6e4&&(t.Self_StartIndex-=65536),t.Self_PlayCount=e[n++]+(e[n++]<<8),t.Self_EmptyCount=e[n++]+(e[n++]<<8),t.Self_PlayTime=e[n++]+(e[n++]<<8),t.Self_DrawOrder=e[n++],t.Self_DrawMode=e[n++],t.Self_DirCalcType=e[n++],t.Self_DirCount=e[n++],t.Self_PlayDelayAction=e[n++],t.Self_LightRange=e[n++],t.SelfKeep_File=e[n++]+(e[n++]<<8),t.SelfKeep_File>6e4&&(t.SelfKeep_File-=65536),t.SelfKeep_StartIndex=e[n++]+(e[n++]<<8),t.SelfKeep_StartIndex>6e4&&(t.SelfKeep_StartIndex-=65536),t.SelfKeep_StartIndex2=e[n++]+(e[n++]<<8),t.SelfKeep_StartIndex2>6e4&&(t.SelfKeep_StartIndex2-=65536),t.SelfKeep_PlayCount=e[n++]+(e[n++]<<8),t.SelfKeep_PlayTime=e[n++]+(e[n++]<<8),t.SelfKeep_DrawMode=e[n++],t.SelfKeep_DrawMode2=e[n++],t.SelfKeep_DrawOrder=e[n++],t.SelfKeep_KeepTime=e[n++]+(e[n++]<<8),t.Explosion_File=e[n++]+(e[n++]<<8),t.Explosion_File>6e4&&(t.Explosion_File-=65536),t.Explosion_StartIndex=e[n++]+(e[n++]<<8),t.Explosion_StartIndex>6e4&&(t.Explosion_StartIndex-=65536),t.Explosion_StartIndex2=e[n++]+(e[n++]<<8),t.Explosion_StartIndex2>6e4&&(t.Explosion_StartIndex2-=65536),t.Explosion_PlayCount=e[n++]+(e[n++]<<8),t.Explosion_DrawMode=e[n++],t.Explosion_DrawMode2=e[n++],t.Explosion_PlayTime=e[n++]+(e[n++]<<8),t.Explosion_LockDraw=e[n++],t.Explosion_LightRange=e[n++],t.Explosion_KeepPlay=e[n++],t.Explosion_KeepTime=e[n++]+(e[n++]<<8),t.Explosion_KeepAttackRange=e[n++],t.Explosion_KeepMultiPlay=e[n++],t.Explosion_KeepAttackInterval=e[n++],t.Explosion_KeepLightRange=e[n++],t.Target_File=e[n++]+(e[n++]<<8),t.Target_File>6e4&&(t.Target_File-=65536),t.Target_StartIndex=e[n++]+(e[n++]<<8),t.Target_StartIndex>6e4&&(t.Target_StartIndex-=65536),t.Target_StartIndex2=e[n++]+(e[n++]<<8),t.Target_StartIndex2>6e4&&(t.Target_StartIndex2-=65536),t.Target_PlayCount=e[n++]+(e[n++]<<8),t.Target_PlayTime=e[n++]+(e[n++]<<8),t.Target_DrawMode=e[n++],t.Target_DrawMode2=e[n++],t.Target_MultiPlay=e[n++],t.Target_LockDraw=e[n++],t.Target_LightRange=e[n++],t.Target_KeepPlay=e[n++],t.Target_KeepTime=e[n++]+(e[n++]<<8),t.Target_KeepAttackRange=e[n++],t.Target_KeepMultiPlay=e[n++],t.Target_KeepAttackInterval=e[n++],t.Target_KeepLightRange=e[n++],t},t.TClientCustomMagicConfig=function(e){var t={},n=0;t.wMagicId=e[n++]+(e[n++]<<8),t.boIsMagicWarr=e[n++],t.btNearAttackRange=e[n++],t.MagicBaseConfig=this.TMagicClientBaseConfig(l.slice(e,n,e.length)),n+=21,t.MagicConfigs=[];for(var r=0;r<4;r++)t.MagicConfigs[r]=this.TMagicClientConfig(l.slice(e,n,e.length)),n+=321;return t.NeedItem=e[n++],t.NeedItemCount=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.NeedItemCustomItemName=i(l.slice(e,++n,n+60)),n+=60,t.NeedItemUseBagItem=e[n++],t.IsAttackUseNG=e[n++],t.NoChangeDir=e[n++],t},t.TMagicClientBaseConfig=function(e){var t={},n=0;return t.MagicLock=e[n++],t.MagicActionType=e[n++],t.MagicLockSelf=e[n++],t.MagicSwitchMode=e[n++],t.SwitchModeNoClose=e[n++],t.MagicActionContinue=e[n++],t.MagicAutoOpen=e[n++],t.MagicWarrNGOption=e[n++],t.MagicActionStartIndex=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MagicActionPlayCount=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.MagicActionEmptyCount=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.NotRaiseHand=e[n++],t},t.TMagicClientConfig=function(e){var t={},n=0;t.Icon_File=e[n++]+(e[n++]<<8),t.Icon_Index=e[n++]+(e[n++]<<8),t.Sounds=[];for(var r=0;r<6;r++)t.Sounds[r]=i(l.slice(e,++n,n+30)),n+=30;return t.Fly_File=e[n++]+(e[n++]<<8),t.Fly_StartIndex=e[n++]+(e[n++]<<8),t.Fly_PlayCount=e[n++]+(e[n++]<<8),t.Fly_EmptyCount=e[n++]+(e[n++]<<8),t.Fly_PlayTime=e[n++]+(e[n++]<<8),t.Fly_DrawMode=e[n++],t.Fly_DirCount=e[n++],t.Fly_CalcDir=e[n++],t.Fly_FireGunMode=e[n++],t.Fly_LightRange=e[n++],t.FlyEff_File=e[n++]+(e[n++]<<8),t.FlyEff_StartIndex=e[n++]+(e[n++]<<8),t.FlyEff_DrawMode=e[n++],t.Self_File=e[n++]+(e[n++]<<8),t.Self_StartIndex=e[n++]+(e[n++]<<8),t.Self_SyncHumAction=e[n++],t.Self_PlayCount=e[n++]+(e[n++]<<8),t.Self_EmptyCount=e[n++]+(e[n++]<<8),t.Self_PlayTime=e[n++]+(e[n++]<<8),t.Self_DrawOrder=e[n++],t.Self_DrawMode=e[n++],t.Self_DirCalcType=e[n++],t.Self_DirCount=e[n++],t.Self_PlayDelayAction=e[n++],t.Self_LightRange=e[n++],t.Self_PlayFailNoDraw=e[n++],t.SelfKeep_File=e[n++]+(e[n++]<<8),t.SelfKeep_StartIndex=e[n++]+(e[n++]<<8),t.SelfKeep_PlayCount=e[n++]+(e[n++]<<8),t.SelfKeep_PlayTime=e[n++]+(e[n++]<<8),t.SelfKeep_DrawMode=e[n++],t.SelfKeep_KeepTime=e[n++]+(e[n++]<<8),t.SelfKeep_KeepTime2=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.FastMove_File=e[n++]+(e[n++]<<8),t.FastMove_StartIndex=e[n++]+(e[n++]<<8),t.FastMove_PlayCount=e[n++]+(e[n++]<<8),t.FastMove_EmptyCount=e[n++]+(e[n++]<<8),t.FastMove_PlayTime=e[n++]+(e[n++]<<8),t.FastMove_DrawOrder=e[n++],t.FastMove_DrawMode=e[n++],t.FastMove_CalcDir=e[n++],t.FastMove_NoHitAction=e[n++],t.FastMove_LightRange=e[n++],t.PreTarget_File=e[n++]+(e[n++]<<8),t.PreTarget_StartIndex=e[n++]+(e[n++]<<8),t.PreTarget_StartIndex2=e[n++]+(e[n++]<<8),t.PreTarget_PlayCount=e[n++]+(e[n++]<<8),t.PreTarget_EmptyCount=e[n++]+(e[n++]<<8),t.PreTarget_PlayTime=e[n++]+(e[n++]<<8),t.PreTarget_DrawMode=e[n++],t.PreTarget_DrawMode2=e[n++],t.PreTarget_CalcDir=e[n++],t.PreTarget_LockDraw=e[n++],t.PreTarget_LightRange=e[n++],t.Target_File=e[n++]+(e[n++]<<8),t.Target_StartIndex=e[n++]+(e[n++]<<8),t.Target_StartIndex2=e[n++]+(e[n++]<<8),t.Target_PlayCount=e[n++]+(e[n++]<<8),t.Target_PlayTime=e[n++]+(e[n++]<<8),t.Target_DrawMode=e[n++],t.Target_DrawMode2=e[n++],t.Target_MultiPlay=e[n++],t.Target_LockDraw=e[n++],t.Target_LightRange=e[n++],t.Target_KeepPlay=e[n++],t.Target_KeepTime=e[n++]+(e[n++]<<8),t.Target_KeepTime2=e[n++]+(e[n++]<<8)+(e[n++]<<16)+(e[n++]<<24),t.Target_KeepAttackRange=e[n++],t.Target_KeepMultiPlay=e[n++],t.Target_KeepAttackInterval=e[n++],t.Target_KeepLightRange=e[n++],t.TargetStatus1_File=e[n++]+(e[n++]<<8),t.TargetStatus1_StartIndex=e[n++]+(e[n++]<<8),t.TargetStatus1_PlayCount=e[n++]+(e[n++]<<8),t.TargetStatus1_EmptyCount=e[n++]+(e[n++]<<8),t.TargetStatus1_DrawMode=e[n++],t.TargetStatus1_CalcDir=e[n++],t.TargetStatus2_File=e[n++]+(e[n++]<<8),t.TargetStatus2_StartIndex=e[n++]+(e[n++]<<8),t.TargetStatus2_PlayCount=e[n++]+(e[n++]<<8),t.TargetStatus2_EmptyCount=e[n++]+(e[n++]<<8),t.TargetStatus2_DrawMode=e[n++],t.TargetStatus2_CalcDir=e[n++],t},t.TUseMagicInfo=function(e){var t={i:0};return t.ServerMagicCode=l.readBuff(e,t,r.Integer),t.MagicSerial=l.readBuff(e,t,r.Integer),t.target=l.readBuff(e,t,r.Int64),t.EffectType=l.readBuff(e,t,r.Enum),t.EffectNumber=l.readBuff(e,t,r.Integer),t.targx=l.readBuff(e,t,r.Integer),t.targy=l.readBuff(e,t,r.Integer),t.Recusion=l.readBuff(e,t,r.Boolean),t.anitime=l.readBuff(e,t,r.Integer),t.NewLevel=l.readBuff(e,t,r.Byte),t.MagicLevel=l.readBuff(e,t,r.Byte),t.MagicItemType=l.readBuff(e,t,r.Boolean),t},t.TClientDiySkillBaseData=function(e){var t=e.buff,n={};return n.btIconFileIndex=t[e.pos++],n.wIconImageIndex=t[e.pos++]|t[e.pos++]<<8,n.btUsesActionType=t[e.pos++],n.wSoundID=t[e.pos++]|t[e.pos++]<<8,n.sSoundFileNameUses=this.readDephiString(e,20),n.sSoundFileNameFly=this.readDephiString(e,20),n.sSoundFileNameExp=this.readDephiString(e,20),n.sSoundFileNameAttackMan=this.readDephiString(e,20),n.sSoundFileNameAttackMon=this.readDephiString(e,20),n},t.readDephiString=function(e,t){var n=e.buff[e.pos++],r=l.slice(e.buff,e.pos,e.pos+n);return e.pos+=t,i(r)},t.TClientDiySkillBaseEffect=function(e){var t=e.buff,n={};return n.btFileIndex=t[e.pos++],n.dwStartIndex=t[e.pos++]|t[e.pos++]<<8|t[e.pos++]<<16|t[e.pos++]<<24,n.btCount=t[e.pos++],n.btSkip=t[e.pos++],n.btBlendMode=t[e.pos++],n.wFrameTime=t[e.pos++]|t[e.pos++]<<8,n.btDirType=t[e.pos++],n},t.TClientDiySkillEffect=function(e){e.buff;var t={};return t.Base=this.TClientDiySkillBaseEffect(e),t.Add=this.TClientDiySkillBaseEffect(e),t},t.TClientDiySkillEffectsFileData=function(e){e.buff;var t={};return t.Action=this.TClientDiySkillEffect(e),t.Fly=this.TClientDiySkillEffect(e),t.Exp=this.TClientDiySkillEffect(e),t},t.TClientDiySkillDataFileData=function(e){var t=e.buff,n={};n.btType=t[e.pos++],n.boCanLockTarget=0!=t[e.pos++],n.boNewEffect=0!=t[e.pos++],n.boFiyFried=0!=t[e.pos++],n.btWarriorSkillType=t[e.pos++],n.Bases=[];for(var r=0;r<=4;r++)n.Bases[r]=this.TClientDiySkillBaseData(e);n.Effect=[];for(r=0;r<=4;r++)n.Effect[r]=this.TClientDiySkillEffectsFileData(e);return n.WarriorSkillAddEff=this.TClientDiySkillBaseEffect(e),n},t.TClientDiySkillFileData=function(e){var t=e.buff,n={};return n.wMagicId=t[e.pos++]+(t[e.pos++]<<8)>>>0,n.Data=this.TClientDiySkillDataFileData(e),n},t.TClientMailViewInf=function(e,t){var n={};return t*=79,n.nMailIdx=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,t++,n.sSendName=i(l.slice(e,t,t+30)),t+=30,t++,n.sCaption=i(l.slice(e,t,t+30)),t+=30,n.btState=e[t++],n.SendDate=l.getJSDateTimeFromDelphi8Bytes(l.slice(e,t,t+8)),t+=8,n.nLimited=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,n},t.TClientMailItemInfo=function(e){var t={},n=0;return t.btIndex=e[n++],t.nCount=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24,t.nCurrentCount=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24,t.item=this.TClientItem(l.slice(e,9,e.length)),t},t.TClientMailInf=function(e,t){var r={},a=0;a++,r.sCharName=i(l.slice(e,a,a+30)),a+=30,a++,r.sMemo=i(l.slice(e,a,a+255)),a+=255,r.btType=e[a++],r.btState=e[a++],a+=4,r.items=[];for(var o=0;o<t;o++)r.items.push(this.TClientMailItemInfo(l.slice(e,a,a+n.g_itemSize+9+1))),a+=n.g_itemSize+9;return r},t.TGuildEventInfo=function(e,t){for(var n=[],r=0,a=0;a<t;a++)n[a]=[],n[a].push(e[r++]),r++,n[a].push(i(l.slice(e,r,r+30))),r+=30,r++,n[a].push(i(l.slice(e,r,r+30))),r+=30,r++,n[a].push(i(l.slice(e,r,r+30))),r+=30,r+=2,n[a].push(l.getJSDateTimeFromDelphi8Bytes(l.slice(e,r,r+8))),r+=8;return t>1?n:1==t?n[0]:void 0},t.TSimpleAuctionItemInfo=function(e,t){var n={};t*=136;return n.nRecog=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,t++,n.sOwner=i(l.slice(e,t,t+30)),t+=30,t++,n.sHighestBidder=i(l.slice(e,t,t+30)),t+=30,t+=6,n.ShelvesDate=l.getJSDateTimeFromDelphi8Bytes(l.slice(e,t,t+8)),n.dateCompareNum=l.getDateTimeFromDelphi8Bytes(l.slice(e,t,t+8)),t+=8,n.btMoneyType=e[t++],t+=3,n.nAuctionPrice=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,n.nCurrentPrice=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,0==n.nCurrentPrice&&(n.nCurrentPrice=n.nAuctionPrice),n.nBuyOutPrice=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,n.btStdMode=e[t++],t++,n.wShape=e[t++]|e[t++]<<8,n.Looks=e[t++]|e[t++]<<8,n.wCount=e[t++]|e[t++]<<8,t++,n.sItemName=i(l.slice(e,t,t+30)),t+=30,n},t.PTStdItemsHeader=function(e){var t={};return t.PartialFieldsCount=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),t.AllFiledsCount=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24),t},t.PTPartialStdItem=function(e){var t={s:{Color:null,Name:null,Looks:null,StdMode:null,Shape:null,Horse:null},MakeIndex:0},n=1;return t.s.Color=255,t.s.Name=i(l.slice(e,n,n+60)),t.Name=i(l.slice(e,n,n+60)),n+=60,t.s.Looks=e[n++]+(e[n++]<<8),t.s.StdMode=e[n++],t.s.Shape=e[n++]+(e[n++]<<8),t.s.Horse=e[n++],t},t.TCompleteStdItem=function(e){var t={};return t.Index=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24),t.i=4,t.TStdItem=this.TStdItem(e,t),t},t.TSimpleRankingData=function(e,t){var n={};t*=68;return t++,n.name=i(l.slice(e,t,t+30)),t+=30,t++,n.level=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,t++,n.guildName=i(l.slice(e,t,t+30)),n},t.ping_jie=function(e,t,n){e.push(t.length);for(var r=0;r<n;r++)null==t[r]?e.push(0):e.push(t[r].charCodeAt())},t.TClientGamePetData=function(e){var t={i:0};(t={sName:l.readConstomLength(e,t,a.ITEM_NAME_LEN),GamePetAbility:null,wMagics:[],ShowConfig:null,i:t.i}).GamePetAbility=this.TGamePetAbility(e,t);for(var n=0;n<8;n++)t.wMagics[n]=l.readBuff(e,t,r.Word);return t.ShowConfig=this.TClientGamePetShowConfig(e,t),t},t.TGamePetAbility=function(e,t){if(!t)t={i:0};return{Level:l.readBuff(e,t,r.LongWord),AC1:l.readBuff(e,t,r.Integer),AC2:l.readBuff(e,t,r.Integer),MAC1:l.readBuff(e,t,r.Integer),MAC2:l.readBuff(e,t,r.Integer),DC1:l.readBuff(e,t,r.Integer),DC2:l.readBuff(e,t,r.Integer),MC1:l.readBuff(e,t,r.Integer),MC2:l.readBuff(e,t,r.Integer),SC1:l.readBuff(e,t,r.Integer),SC2:l.readBuff(e,t,r.Integer),HP:l.readBuff(e,t,r.LongWord),MP:l.readBuff(e,t,r.LongWord),MaxHP:l.readBuff(e,t,r.LongWord),MaxMP:l.readBuff(e,t,r.LongWord),Exp:l.readBuff(e,t,r.LongWord),MaxExp:l.readBuff(e,t,r.LongWord)}},t.TClientGamePetShowConfig=function(e,t){return{wAppr:l.readBuff(e,t,r.Word),ShowFile1:l.readBuff(e,t,r.SmallInt),ShowStart1:l.readBuff(e,t,r.SmallInt),ShowCount1:l.readBuff(e,t,r.SmallInt),ShowTime1:l.readBuff(e,t,r.SmallInt),ShowOffsetX1:l.readBuff(e,t,r.SmallInt),ShowOffsetY1:l.readBuff(e,t,r.SmallInt),ShowFile2:l.readBuff(e,t,r.SmallInt),ShowStart2:l.readBuff(e,t,r.SmallInt),ShowCount2:l.readBuff(e,t,r.SmallInt),ShowTime2:l.readBuff(e,t,r.SmallInt),ShowOffsetX2:l.readBuff(e,t,r.SmallInt),ShowOffsetY2:l.readBuff(e,t,r.SmallInt)}},t.TShortMessage=function(e){var t={i:0};return t={Ident:l.readBuff(e,t,r.Word),wMsg:l.readBuff(e,t,r.Word)}},t.TScreenEffectData=function(e){var t={i:0};return t={nX:l.readBuff(e,t,r.Integer),nY:l.readBuff(e,t,r.Integer),nImageIndex:l.readBuff(e,t,r.Integer),nStartImage:l.readBuff(e,t,r.Integer),nImageCount:l.readBuff(e,t,r.Integer),nPlayCount:l.readBuff(e,t,r.Integer),nTime:l.readBuff(e,t,r.Integer),boBlend:l.readBuff(e,t,r.Boolean),boDrawTopmost:l.readBuff(e,t,r.Boolean)}},t.TBigHPProgress=function(e){var t={i:0};return t={nHPBGIndex:l.readBuff(e,t,r.Integer),nHPBGX:l.readBuff(e,t,r.SmallInt),nHPBGY:l.readBuff(e,t,r.SmallInt),nImageIndex:e[t.i++]+(e[t.i++]<<8)+(e[t.i++]<<16)+(e[t.i++]<<24),nImageX:l.readBuff(e,t,r.SmallInt),nImageY:l.readBuff(e,t,r.SmallInt),nHPIndex:l.readBuff(e,t,r.Integer),nHPX:l.readBuff(e,t,r.SmallInt),nHPY:l.readBuff(e,t,r.SmallInt),boShowLevel:l.readBuff(e,t,r.SmallInt),nLevelX:l.readBuff(e,t,r.SmallInt),nLevelY:l.readBuff(e,t,r.SmallInt),boShowMonName:l.readBuff(e,t,r.SmallInt),nMonNameX:l.readBuff(e,t,r.SmallInt),nMonNameY:l.readBuff(e,t,r.SmallInt),boShowHPValue:l.readBuff(e,t,r.SmallInt),nHPValueX:l.readBuff(e,t,r.SmallInt),nHPValueY:l.readBuff(e,t,r.SmallInt),boShowHPPercent:l.readBuff(e,t,r.SmallInt),nHPPercentX:l.readBuff(e,t,r.SmallInt),nHPPercentY:l.readBuff(e,t,r.SmallInt),boShowExpHinter:l.readBuff(e,t,r.SmallInt),nExpHinterX:l.readBuff(e,t,r.SmallInt),nExpHinterY:l.readBuff(e,t,r.SmallInt),btHorizAlign:l.readBuff(e,t,r.Byte),wHPBlockCount:l.readBuff(e,t,r.Word),nHPBlockOffsetX:l.readBuff(e,t,r.SmallInt),nHPBlockOffsetY:l.readBuff(e,t,r.SmallInt),m_ExpHinterName:l.readConstomLength(e,t,a.ACTOR_NAME_LEN)}},t.TClientAbilityNG=function(e){var t={i:0};return t={Level:l.readBuff(e,t,r.Word),NH:l.readBuff(e,t,r.Word),MaxNH:l.readBuff(e,t,r.Word),Exp:l.readBuff(e,t,r.LongWord),MaxExp:l.readBuff(e,t,r.LongWord),NGDamage:l.readBuff(e,t,r.Integer),UnNGDamage:l.readBuff(e,t,r.Integer)}},t.TMagicBallEffectInfo=function(e){var t={i:0};return t={FileIndex:l.readBuff(e,t,r.Integer),ImageIndex:l.readBuff(e,t,r.Integer),ImageCount:l.readBuff(e,t,r.Integer),FrameTime:l.readBuff(e,t,r.Integer),ShowTime:l.readBuff(e,t,r.Integer),ShowType:l.readBuff(e,t,r.Integer),DrawHeigh:l.readBuff(e,t,r.Integer),DrawType:l.readBuff(e,t,r.Integer),OffsetX:l.readBuff(e,t,r.Integer),OffsetY:l.readBuff(e,t,r.Integer),IsNormalDraw:l.readBuff(e,t,r.WordBool),StarTick:l.readBuff(e,t,r.LongWord),FrameIndex:l.readBuff(e,t,r.Integer)}},e}());u._instance=null;e("TUserEntry",function(){function e(e,t,n,r,a){this.sAccount_10=void 0,this.sPassword_10=void 0,this.sUserName_20=void 0,this.sSSNo_14="1222-3334",this.sPhone_14="13245672",this.sQuiz_20=void 0,this.sAnswer_12=void 0,this.sEMail_40=void 0,this.sRandCode_10="1",this.sAccount_10=e.toLowerCase(),this.sPassword_10=n,this.sUserName_20=e.toLowerCase(),this.sEMail_40=t,this.sQuiz_20=r,this.sAnswer_12=a}var t=e.prototype;return t.toArray=function(e){var t=[];for(var n in this)if("function"!=typeof this[n]){var r=n.split("_");"sAccount"!=r[0]&&"sPassword"!=r[0]||(r[1]=e),u.getInstance().pingjie(t,this[n],parseInt(r[1]))}return t},t.strFormat=function(e,t){var n=new Array,r="";if(e.length<t)for(var a=0;a<t-e.length;a++)r+="*";return(n=(e+r).split("")).unshift(e.length),n},e}()),e("TUserEntryAdd",function(){function e(e,t,n,r,a){this.sQuiz2_20=void 0,this.sAnswer2_12=void 0,this.sBirthDay_10=void 0,this.sMobilePhone_13="operation",this.sMemo_20=void 0,this.sMemo2_20=void 0,this.sQuiz2_20=null==n?"5":n,this.sAnswer2_12=null==r?"6":r,this.sBirthDay_10=null==a?"1990/01/01":a,this.sMemo_20=e.toLowerCase(),this.sMemo2_20=t}var t=e.prototype;return t.toArray=function(e){var t=new Array;for(var n in this)if("function"!=typeof this[n]){var r=n.split("_");"sMemo"!=r[0]&&"sMemo2"!=r[0]||(r[1]=10==e?"42":"32"),u.getInstance().ping_jie(t,this[n],parseInt(r[1]))}return t},t.strFormat=function(e,t){var n=new Array,r="";if(e.length<t)for(var a=0;a<t-e.length;a++)r+="*";return(n=(e+r).split("")).unshift(e.length),n},e}()),e("Struct_ins",u.getInstance());t._RF.pop()}}}));

System.register("chunks:///_virtual/TargetBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./List.ts","./EventManager.ts","./EventCustom.ts","./GameUtil.ts","./objectmanage.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,l,c,u,g,h,p,m,d,f,y,v,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Button,l=t.Node,c=t.Sprite,u=t.NodeEventType,g=t.Label,h=t.ProgressBar,p=t.Component},function(t){m=t.Config},function(t){d=t.default},function(t){f=t.EventMgr},function(t){y=t.default},function(t){v=t.GameUtil},function(t){_=t.ObjectManage}],execute:function(){var C,b,B,D,L,I,k,x,H,T,P;r._RF.push({},"c22c9BcP/pIzr/awLlwDQKc","TargetBox",void 0);var w=o.ccclass,N=o.property;t("TargetBox",(C=w("TargetBox"),b=N(s),B=N(s),D=N(d),L=N(l),C((x=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"btn_player",x,a(e)),n(e,"btn_monster",H,a(e)),n(e,"target_list",T,a(e)),n(e,"content",P,a(e)),e.isPlayer=!0,e._curData=[],e.curLock=!1,e}i(e,t);var r=e.prototype;return r.start=function(){var t=this;v.loadResLocal("targetBox/gxx/bg_target.png",this.node.getComponent(c)),v.loadResLocalButton("targetBox/gxx/wj1.png","targetBox/gxx/wj2.png",this.btn_player),v.loadResLocalButton("targetBox/gxx/gw1.png","targetBox/gxx/gw2.png",this.btn_monster),this.node.on(u.ACTIVE_IN_HIERARCHY_CHANGED,(function(e){e.active?(t.unschedule(t.getHumList),t.schedule(t.getHumList,.5),t.registeEvents(),t.isPlayer=!0):t.onCloseView()}),this),this.target_list.numItems=this.getCurTargetData(this.isPlayer).length},r.showView=function(){this.registeEvents(),this.unschedule(this.getHumList),this.schedule(this.getHumList,.5)},r.renderItemHandle=function(t,e){var i=this,n=this._curData[e];t.dataSource=n,t.getChildByName("lab_name").getComponent(g).string=n.key,t.getChildByName("ProgressBar").getComponent(h).progress=n.hpRate/100,n.hasOwnProperty("job")?(t.getChildByName("sp_job0").active=!0,t.getChildByName("sp_job1").active=!1):(t.getChildByName("sp_job0").active=!1,t.getChildByName("sp_job1").active=!0),m.lockingID!=n.value||this.curLock?t.getChildByName("sp_bg").active=!1:t.getChildByName("sp_bg").active=!0,n.hpRate||(t.getChildByName("ProgressBar").getComponent(h).progress=1),0==n.hpRate&&this.target_list.aniDelItem(e,(function(){i.target_list.numItems=i.getCurTargetData(i.isPlayer).length}),5)},r.onClickItemHandle=function(t,e){if(t.dataSource.value!=m.lockingID){var i=_.findobject(t.dataSource.value);i&&v.addhalo(i),t.getChildByName("sp_bg").active=!0,this.curLock=!1}else if(t.dataSource.value==m.lockingID)if(this.curLock){if(this.curLock){var n=_.findobject(t.dataSource.value);t.getChildByName("sp_bg").active=!0,n&&v.addhalo(n),this.curLock=!1}}else v.delhalo(m.lockingID),_.resetLockID(),v.resetBackupLockID(),m.g_boMagicGood=!1,this.curLock=!0,t.getChildByName("sp_bg").active=!1},r.onClickBtnPlayerHandle=function(){console.log(this.getCurTargetData(!0)),this.isPlayer=!0,this.target_list.numItems=this.getCurTargetData(this.isPlayer).length},r.onClickBtnMonsterHandle=function(){console.log(this.getCurTargetData(!1)),this.isPlayer=!1,this.target_list.numItems=this.getCurTargetData(this.isPlayer).length},r.onCloseView=function(){this.unschedule(this.getHumList),this.node.active=!1},r.getCurTargetData=function(t){if(!m.CurScene)return[];var e=m.CurScene.node.getComponent("simpleScreen");return e.getHumList(),this._curData=t?e.humArray:e.monArray},r.refreshTargetHp=function(t){for(var e=null,i=this._curData,n=0;n<i.length;n++){var a=i[n];m.lockingID&&m.lockingID==a.value&&(e=n)}null!=e&&this.content.children.length>0&&(this._curData[e].hpRate=t,this.target_list.updateItem(e))},r.getHumList=function(){this.target_list.numItems=this.getCurTargetData(this.isPlayer).length},r.update=function(t){},r.registeEvents=function(){},r.unRegisteEvents=function(){f.removeEventListener(y.REFRESH_TARGET_HP,this.refreshTargetHp,this)},e}(p)).prototype,"btn_player",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(k.prototype,"btn_monster",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(k.prototype,"target_list",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(k.prototype,"content",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=k))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/Team.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./RelationManager.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts","./TeamOperationTip.ts"],(function(e){"use strict";var t,a,n,i,l,o,r,s,c,m,u,p,g,h,b,_,d,C,T,v,f,I,y,A,L,E,M,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Sprite,s=e.Toggle,c=e.Node,m=e.Prefab,u=e.NodeEventType,p=e.ToggleContainer,g=e.Button,h=e.Label,b=e.Vec3,_=e.instantiate,d=e.find,C=e.Component},function(e){T=e.EventMgr},function(e){v=e.Config},function(e){f=e.default},function(e){I=e.RelationManager},function(e){y=e.uiControl},function(e){A=e.ObjectManage},function(e){L=e.Sendmessage},function(e){E=e.default},function(e){M=e.GameUtil},function(e){N=e.TeamOperationTip}],execute:function(){var w,D,z,B,k,R,G,S,F,O,P,H,x,U,K,V,j,J,Y,W,q,Q,X,Z,$,ee,te,ae,ne,ie,le,oe,re,se,ce,me,ue,pe,ge,he,be,_e,de,Ce,Te,ve,fe,Ie,ye,Ae,Le;l._RF.push({},"786d9SPu6pHrrHGl9M0RbM+","Team",void 0);var Ee=o.ccclass,Me=o.property;e("Team",(w=Ee("Team"),D=Me(r),z=Me(s),B=Me(s),k=Me(c),R=Me(c),G=Me(c),S=Me(c),F=Me(c),O=Me(c),P=Me(E),H=Me(c),x=Me(c),U=Me(c),K=Me(c),V=Me(c),j=Me(c),J=Me(c),Y=Me(c),W=Me(c),q=Me(c),Q=Me(c),X=Me(c),Z=Me(m),$=Me(m),w((ae=t((te=function(e){function t(){for(var t,a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"bg",ae,i(t)),n(t,"btn_MyTeam",ne,i(t)),n(t,"btn_NearTeam",ie,i(t)),n(t,"line",le,i(t)),n(t,"lab_a",oe,i(t)),n(t,"lab_b",re,i(t)),n(t,"lab_c",se,i(t)),n(t,"lab_d",ce,i(t)),n(t,"lab_e",me,i(t)),n(t,"list",ue,i(t)),n(t,"content",pe,i(t)),n(t,"lay_BtnContent",ge,i(t)),n(t,"item_My",he,i(t)),n(t,"item_Near",be,i(t)),n(t,"tog_Container",_e,i(t)),n(t,"tog_AllowTeam",de,i(t)),n(t,"lab_AllowTeam",Ce,i(t)),n(t,"lab_NoTeam",Te,i(t)),n(t,"btn_CreateTeam",ve,i(t)),n(t,"btn_LeaveTeam",fe,i(t)),n(t,"btn_InviteMember",Ie,i(t)),n(t,"btn_CallTeammate",ye,i(t)),n(t,"pref_TeamInviteList",Ae,i(t)),n(t,"pref_TeamOperationTip",Le,i(t)),t._teamInviteList=null,t._teamOperationTip=null,t._curTogIdx=0,t._lastItemIdx=null,t._selectedData=[],t.selfCaptain=void 0,t}a(t,e);var l=t.prototype;return l.onLoad=function(){var e=this;this.node.on(u.ACTIVE_IN_HIERARCHY_CHANGED,(function(t){t.active?(e.registerEvents(),e.tog_Container.getComponent(p).toggleItems[0].isChecked&&I.getInstance().teamGropList.length>0&&(e.lab_NoTeam.active=!1),e.updateBtnContainer(),e._selectedData=I.getInstance().teamGropList,e.list.numItems=e._selectedData.length,T.raiseEvent(f.SHOW_APPLY_TEAM_TIP)):e.unRegisterEvents()}),this)},l.start=function(){M.loadResLocal("Socialize/teamGroup_bg.png",this.bg),M.loadResLocal("public/t_verticalBar.png",this.line.getComponent(r)),M.loadResLocalToggle("Socialize/teamGroup/myTeam (2).png","Socialize/teamGroup/myTeam.png",this.btn_MyTeam,this.btn_MyTeam.checkMark),M.loadResLocalToggle("Socialize/teamGroup/nearTeam (2).png","Socialize/teamGroup/nearTeam.png",this.btn_NearTeam,this.btn_NearTeam.checkMark),M.loadResLocalToggle("public/auxiliary_check.png","public/auxiliary_check (2).png",this.tog_AllowTeam.getComponent(s),this.tog_AllowTeam.getComponent(s).checkMark),M.loadResLocalButton("Socialize/teamGroup/createTeam.png","Socialize/teamGroup/createTeam (2).png",this.btn_CreateTeam.getComponent(g)),M.loadResLocalButton("Socialize/teamGroup/leaveTeam.png","Socialize/teamGroup/leaveTeam (2).png",this.btn_LeaveTeam.getComponent(g)),M.loadResLocalButton("Socialize/teamGroup/inviteNumber.png","Socialize/teamGroup/inviteNumber (2).png",this.btn_InviteMember.getComponent(g)),M.loadResLocalButton("Socialize/teamGroup/callTeammate.png","Socialize/teamGroup/callTeammate (2).png",this.btn_CallTeammate.getComponent(g)),M.loadResLocal("Socialize/f_selectEffect.png",this.item_My.getChildByName("bg").getComponent(r)),M.loadResLocal("Socialize/captainIcon.png",this.item_My.getChildByName("sp_CaptainIcon").getComponent(r)),M.loadResLocal("Socialize/f_selectEffect.png",this.item_Near.getChildByName("bg").getComponent(r)),M.loadResLocal("Socialize/captainIcon.png",this.item_Near.getChildByName("sp_CaptainIcon").getComponent(r)),M.loadResLocalButton("Socialize/teamGroup/applyAdd.png","Socialize/teamGroup/applyAdd (2).png",this.item_Near.getChildByName("btn_ApplyJoin").getComponent(g))},l.onClickToggleContainerHandler=function(e){"btn_MyTeam"==e.target.name?(this._curTogIdx=0,this.line.active=!0,this.lab_a.getComponent(h).string="名称",this.lab_b.getComponent(h).string="等级",this.lab_b.setPosition(new b(-10,149)),this.lab_c.active=!0,this.lab_e.getComponent(h).string="所在地图",this.tog_AllowTeam.active=this.lab_AllowTeam.active=!0,this.tog_AllowTeam.getComponent(s).isChecked=v.G_BaseSetList[0].val,this.lay_BtnContent.active=!0):(L.getInstance().sendGroupList(),this._curTogIdx=1,this.line.active=!1,this.lab_a.getComponent(h).string="队伍",this.lab_b.getComponent(h).string="人数",this.lab_b.setPosition(new b(14.5,149)),this.lab_c.active=!1,this.lab_e.getComponent(h).string="操作",this.tog_AllowTeam.active=this.lab_AllowTeam.active=!1,this.lay_BtnContent.active=!1),this.updateListData()},l.renderItemHandler=function(e,t){if(0==this._selectedData.length)return this.content.removeAllChildren(),void this.content.destroyAllChildren();e.active=!0,e.dataSource=this._selectedData[t],e.getChildByName("bg").active=!1,0==this._curTogIdx?(console.log(this._selectedData),e.getChildByName("sp_CaptainIcon").active=this._selectedData[t].IsCaptain,e.getChildByName("lab1").getComponent(h).string=this._selectedData[t].sCharName,e.getChildByName("lab2").getComponent(h).string=this._selectedData[t].Level+"",e.getChildByName("lab3").getComponent(h).string=M.getJobName(this._selectedData[t].Job),e.getChildByName("lab4").getComponent(h).string=this._selectedData[t].sMapName,e.getChildByName("lab5").getComponent(h).string=this._selectedData[t].sMapDesc):(console.log(this._selectedData),e.getChildByName("lab1").getComponent(h).string=this._selectedData[t].teamName,e.getChildByName("lab2").getComponent(h).string=this._selectedData[t].teamNums),this._lastItemIdx=null},l.onClickRenderItemHandler=function(e){var t,a=this;e.getChildByName("bg").active=!0,this._teamOperationTip=_(this.pref_TeamOperationTip),this._teamOperationTip.setParent(this.node),t=0==this._curTogIdx?e.dataSource.sCharName:e.dataSource.teamName;var n={clickCaptain:e.dataSource.IsCaptain,name:t,isCaptain:this.selfCaptain};this._teamOperationTip.getComponent(N).updateView(n),e._listId!=this._lastItemIdx&&(this.content.children.forEach((function(e){try{if(e._listId==a._lastItemIdx)throw e.getChildByName("bg").active=!1,Error()}catch(e){}})),this._lastItemIdx=e._listId)},l.onClickBtnApplyHandler=function(e){L.getInstance().sendGroupApply(e.target.parent.dataSource.teamName)},l.onClickLabAllowTeam=function(){this.tog_AllowTeam.getComponent(s).isChecked=!this.tog_AllowTeam.getComponent(s).isChecked;var e=this.tog_AllowTeam.getComponent(s).isChecked;L.getInstance().sendGroupMode(e)},l.onClickBtnCreateTeamHandler=function(){T.raiseEvent(f.OPEN_ADDFRIEND_TIP,[v.FRIEND_TIP.D,f.CREATE_TEAM_CALLBACK])},l.onClickBtnLeaveTeamHandler=function(){y.handlerAlert({type:4,content:"输入想退出编组人物名称:",sF:function(e){e.length>0&&L.getInstance().sendDelGroupMember(e)}})},l.onClickBtnCallTeammateHandler=function(){T.raiseEvent(f.SEND_CAPTAIN_POS_IN_TEAM)},l.onClickBtnInviteMemberHandler=function(){this._teamInviteList=null,this._teamInviteList=_(this.pref_TeamInviteList),d("Canvas/UIBox").addChild(this._teamInviteList),this._teamInviteList.active=!0;var e=I.getInstance().getTeamInviteListByType(0);this._teamInviteList.getComponent("TeamInviteList").updateView(e)},l.evtMgrCreateTeamCallBack=function(e){if(""!=e)L.getInstance().sendCreateGroup(e);else{var t={type:1,content:v.FRIEND_TIP.D+"",sF:function(){},cF:function(){}};y.handlerAlert(t)}},l.evtMgrCloseTeamGroup=function(){},l.evtMgrUpdateTeamList=function(){this.updateListData()},l.evtMgrCreateTeamFaild=function(e){var t=e[0],a=(e[1],"");switch(t.record){case-1:a="编组还未成立或者你还不够等级创建！";break;case-2:a="输入的人物名称不正确！";break;case-3:a="您想邀请加入编组的人已经加入了其它组！";break;case-4:a="对方不允许编组！";break;case-5:a="不同国家人员禁止编组！";break;default:a="组队失败！"}if(-9==t.record)y.handlerAlert({type:1,content:a});else{var n={type:1,content:a,sF:function(){},cF:function(){}};y.handlerAlert(n)}},l.evtMgrCreateTeamOk=function(){this.tog_AllowTeam.getComponent(s).isChecked=!0,this.btn_CreateTeam.active=!1,this.btn_InviteMember.active=this.btn_CallTeammate.active=!0,y.handlerAlert({type:1,content:"组队成功"})},l.evtMgrAddTeamGroupFaild=function(e){var t=e[0],a=(e[1],"");switch(t.record){case-1:a="编组还未成立或者你还不够等级";break;case-2:a="您输入的人物名称不正确";break;case-3:a="已经加入编组";break;case-4:a="对方不允许编组";break;case-5:a="您邀请加入编组的人已经加入其它组";break;case-6:a="不同国家禁止组队"}var n={type:1,content:a,sF:function(){},cF:function(){}};y.handlerAlert(n)},l.evtMgrClearTeam=function(){I.getInstance().teamGropList=[],this.updateListData()},l.updateListData=function(){this.lab_NoTeam.active=!1,this.content.destroyAllChildren(),this.content.removeAllChildren(),this._selectedData=0==this._curTogIdx?I.getInstance().teamGropList:I.getInstance().t_nearTeamList,this.lab_NoTeam.active=!(this._selectedData.length>0),this.list.setTemplateItem(0==this._curTogIdx?_(this.item_My):_(this.item_Near)),this.list.numItems=this._selectedData.length,this.updateBtnContainer()},l.isCaptain=function(e){for(var t=A.findobject(v.playerID),a=M.getPureName(t),n=0;n<e.length;n++){var i=e[n];return!(!i.IsCaptain||a!=i.sCharName)}},l.updateBtnContainer=function(){this.selfCaptain=this.isCaptain(this._selectedData),1==this.selfCaptain?(this.btn_LeaveTeam.active=!0,this.btn_InviteMember.active=this.btn_CallTeammate.active=this.btn_CreateTeam.active=!1):0==this.selfCaptain?(this.btn_InviteMember.active=this.btn_CallTeammate.active=!1,this.btn_LeaveTeam.active=!1,this.btn_CreateTeam.active=!1):null==this.selfCaptain&&(this.btn_LeaveTeam.active=!1,this.btn_InviteMember.active=this.btn_CallTeammate.active=!1,this.btn_CreateTeam.active=!0)},l.registerEvents=function(){console.log("注册Team事件"),this.lab_AllowTeam.on(u.TOUCH_END,this.onClickLabAllowTeam,this),T.addEventListener(f.CREATE_TEAM_CALLBACK,this.evtMgrCreateTeamCallBack,this),T.addEventListener(f.UPDATE_TEAMLIST,this.evtMgrUpdateTeamList,this),T.addEventListener(f.CREATETEAM_FAILD,this.evtMgrCreateTeamFaild,this),T.addEventListener(f.CREATETEAM_OK,this.evtMgrCreateTeamOk,this),T.addEventListener(f.ADDTEAMGROUP_FAILD,this.evtMgrAddTeamGroupFaild,this),T.addEventListener(f.CLEAR_TEAM,this.evtMgrClearTeam,this)},l.unRegisterEvents=function(){console.log("注销Team事件"),this.lab_AllowTeam.off(u.TOUCH_END,this.onClickLabAllowTeam,this),T.removeEventListener(f.CREATE_TEAM_CALLBACK,this.evtMgrCreateTeamCallBack,this),T.removeEventListener(f.UPDATE_TEAMLIST,this.evtMgrUpdateTeamList,this),T.removeEventListener(f.CREATETEAM_FAILD,this.evtMgrCreateTeamFaild,this),T.removeEventListener(f.CREATETEAM_OK,this.evtMgrCreateTeamOk,this),T.removeEventListener(f.ADDTEAMGROUP_FAILD,this.evtMgrAddTeamGroupFaild,this),T.removeEventListener(f.CLEAR_TEAM,this.evtMgrClearTeam,this)},l.resetView=function(){this.tog_Container.getComponent(p).toggleItems[0].isChecked=!0},t}(C)).prototype,"bg",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(te.prototype,"btn_MyTeam",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(te.prototype,"btn_NearTeam",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(te.prototype,"line",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(te.prototype,"lab_a",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(te.prototype,"lab_b",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(te.prototype,"lab_c",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(te.prototype,"lab_d",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(te.prototype,"lab_e",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(te.prototype,"list",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(te.prototype,"content",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(te.prototype,"lay_BtnContent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(te.prototype,"item_My",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(te.prototype,"item_Near",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(te.prototype,"tog_Container",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(te.prototype,"tog_AllowTeam",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(te.prototype,"lab_AllowTeam",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(te.prototype,"lab_NoTeam",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(te.prototype,"btn_CreateTeam",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(te.prototype,"btn_LeaveTeam",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(te.prototype,"btn_InviteMember",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(te.prototype,"btn_CallTeammate",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(te.prototype,"pref_TeamInviteList",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(te.prototype,"pref_TeamOperationTip",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=te))||ee));l._RF.pop()}}}));

System.register("chunks:///_virtual/TeamInviteList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EventCustom.ts","./RelationManager.ts","./Sendmessage.ts","./List.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,a,l,o,r,s,c,u,g,d,p,h,m,b,_,f,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Toggle,s=e.Sprite,c=e.ToggleContainer,u=e.Node,g=e.Button,d=e.NodeEventType,p=e.Label,h=e.Component},function(e){m=e.EventMgr},function(e){b=e.default},function(e){_=e.RelationManager},function(e){f=e.Sendmessage},function(e){y=e.default},function(e){C=e.GameUtil}],execute:function(){var v,I,T,D,N,L,z,B,w,E,M,S,k,G,R,P,A;l._RF.push({},"38816XuY+VMYLI7XstPbJ4D","TeamInviteList",void 0);var H=o.ccclass,V=o.property;e("TeamInviteList",(v=H("TeamInviteList"),I=V(r),T=V(r),D=V(s),N=V(y),L=V(c),z=V(u),B=V(g),v((M=t((E=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"btn_NearPlayer",M,a(t)),i(t,"btn_MyFriend",S,a(t)),i(t,"bg",k,a(t)),i(t,"list",G,a(t)),i(t,"tog_Container",R,a(t)),i(t,"content",P,a(t)),i(t,"btn_CloseView",A,a(t)),t._selectedData=[],t._lastIdx=null,t}n(t,e);var l=t.prototype;return l.start=function(){this.registeEvents(),C.loadResLocal("Socialize/teamGroup_bg.png",this.bg),C.loadResLocalButton("public/btn_close (2).png","public/btn_close1.png",this.btn_CloseView),C.loadResLocalToggle("Socialize/teamGroup/near (2).png","Socialize/teamGroup/near.png",this.btn_NearPlayer,this.btn_NearPlayer.checkMark),C.loadResLocalToggle("Socialize/teamGroup/friend (2).png","Socialize/teamGroup/friend.png",this.btn_MyFriend,this.btn_MyFriend.checkMark)},l.onClickToggleContainerHandler=function(e){"btn_NearPlayer"==e.target.name?(this._selectedData=_.getInstance().getTeamInviteListByType(0),this.list.numItems=this._selectedData.length):"btn_MyFriend"==e.target.name&&(this._selectedData=_.getInstance().getTeamInviteListByType(1),this.list.numItems=this._selectedData.length),console.log(this._selectedData)},l.updateView=function(e){console.log("初始"),this.tog_Container.toggleItems[0].isChecked=!0,this._selectedData=e,this.list.numItems=this._selectedData.length},l.renderItemHandler=function(e,t){0!=this._selectedData.length?(e.getChildByName("btn_ApplyJoin").off(d.TOUCH_END,this.onClickItemHandler,this),C.loadResLocal("Socialize/f_selectEffect.png",e.getChildByName("bg").getComponent(s)),e.active=!0,e.getChildByName("bg").active=!1,e.dataSource=this._selectedData[t],e.getChildByName("lab1").getComponent(p).string=this._selectedData[t].name,e.getChildByName("lab2").getComponent(p).string=this._selectedData[t].level,e.getChildByName("lab3").getComponent(p).string=this._selectedData[t].guild,C.loadResLocalButton("Socialize/teamGroup/invite.png","Socialize/teamGroup/invite (2).png",e.getChildByName("btn_ApplyJoin").getComponent(g)),e.getChildByName("btn_ApplyJoin").on(d.TOUCH_END,this.onClickItemHandler,this)):this.content.removeAllChildren()},l.onClickItemHandler=function(e){var t=this,n=e.target.parent;n.getChildByName("bg").active=!0,f.getInstance().sendAddGroupMember(n.dataSource.name),n._listId!=this._lastIdx&&(this.content.children.forEach((function(e){try{if(e._listId==t._lastIdx)throw e.getChildByName("bg").active=!1,Error()}catch(e){}})),this._lastIdx=n._listId)},l.registeEvents=function(){m.addEventListener(b.UPDATE_TEAM_INVITE_LIST,this.updateView,this)},l.onCloseView=function(){this.node.destroy()},t}(h)).prototype,"btn_NearPlayer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(E.prototype,"btn_MyFriend",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(E.prototype,"bg",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(E.prototype,"list",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(E.prototype,"tog_Container",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(E.prototype,"content",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"btn_CloseView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=E))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/TeamOperationTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./RelationManager.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,n,i,a,o,r,l,c,s,u,p,b,m,g,h,d,f,C,_,k,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Button,c=e.Node,s=e.Sprite,u=e.Label,p=e.UIOpacity,b=e.UITransform,m=e.Component},function(e){g=e.EventMgr},function(e){h=e.Config},function(e){d=e.default},function(e){f=e.RelationManager},function(e){C=e.uiControl},function(e){_=e.ObjectManage},function(e){k=e.Sendmessage},function(e){v=e.GameUtil}],execute:function(){var T,B,y,S,z,I,M,O,P,H,D,w,E,G,L,R,x,F,A,K,N,j,U;o._RF.push({},"668dcJ3bdJNoLv2/b8DJ28V","TeamOperationTip",void 0);var V=r.ccclass,J=r.property;e("TeamOperationTip",(T=V("TeamOperationTip"),B=J(l),y=J(c),S=J(c),z=J(c),I=J(c),M=J(c),O=J(c),P=J(c),H=J(c),D=J(c),T((G=t((E=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"btn_Close",G,a(t)),i(t,"lab_Title",L,a(t)),i(t,"lay_BtnContent",R,a(t)),i(t,"btn_SendPos",x,a(t)),i(t,"btn_ExitTeam",F,a(t)),i(t,"btn_Check",A,a(t)),i(t,"btn_PrivateChat",K,a(t)),i(t,"btn_MakeDeal",N,a(t)),i(t,"btn_KickOutTeam",j,a(t)),i(t,"btn_InviteMem",U,a(t)),t}n(t,e);var o=t.prototype;return o.start=function(){v.loadResLocal("Socialize/playInfo_bg.png",this.node.getComponent(s)),v.loadResLocalButton("public/btn_close (2).png","public/btn_close1.png",this.btn_Close),v.loadResLocalButton("Socialize/teamGroup/sendPos.png","Socialize/teamGroup/sendPos (2).png",this.btn_SendPos.getComponent(l)),v.loadResLocalButton("Socialize/teamGroup/exitTeam.png","Socialize/teamGroup/exitTeam (2).png",this.btn_ExitTeam.getComponent(l)),v.loadResLocalButton("Socialize/teamGroup/t_check.png","Socialize/teamGroup/t_check (2).png",this.btn_Check.getComponent(l)),v.loadResLocalButton("Socialize/FriendInfoBtn/privateChat.png","Socialize/FriendInfoBtn/privateChat (2).png",this.btn_PrivateChat.getComponent(l)),v.loadResLocalButton("Socialize/teamGroup/t_makeDeal.png","Socialize/teamGroup/t_makeDeal (2).png",this.btn_MakeDeal.getComponent(l)),v.loadResLocalButton("Socialize/teamGroup/outTeam.png","Socialize/teamGroup/outTeam (2).png",this.btn_KickOutTeam.getComponent(l)),v.loadResLocalButton("Socialize/FriendInfoBtn/inviteMem.png","Socialize/FriendInfoBtn/inviteMem (2).png",this.btn_InviteMem.getComponent(l))},o.updateView=function(e){var t=this;this.lab_Title.getComponent(u).string=e.name,this.showOperationsBtnsByType(e.isCaptain,e.clickCaptain),setTimeout((function(){t.updateContentSize(),t.node.getComponent(p).opacity=255}),20)},o.onClickBtnOperationHandler=function(e){var t=this.lab_Title.getComponent(u).string;switch(e.target.name){case"btn_SendPos":this.onClickBtnSendPosHandler();break;case"btn_ExitTeam":this.onClickBtnExitTeamHandler(t);break;case"btn_Check":this.onClickBtnCheckHandler(t);break;case"btn_PrivateChat":this.onClickBtnPrivateChatHandler(t);break;case"btn_MakeDeal":this.onClickBtnMakeDealTeamHandler();break;case"btn_KickOutTeam":this.onClickBtnKickOutTeamHandler(t);break;case"btn_InviteMem":this.onClickBtnIviteMemHandler(t)}},o.onClickBtnSendPosHandler=function(){g.raiseEvent(d.SHOW_CHAT_NODE,!0),g.raiseEvent(d.SEND_CAPTAIN_POS_IN_TEAM)},o.onClickBtnExitTeamHandler=function(e){e&&""!=e&&(k.getInstance().sendDelGroupMember(e),this.onCloseView())},o.onClickBtnCheckHandler=function(e){var t=f.getInstance().getPlayerIdByName(e);if(t){var n=_.findobject(t);k.getInstance().sendQueryState(t,n.grid.x,n.grid.y)}else{C.handlerAlert({type:1,content:"玩家不在附近，无法查看",sF:function(){},cF:function(){}})}},o.onClickBtnPrivateChatHandler=function(e){g.raiseEvent(d.SHOW_CHAT_DLG,{name:"/"+e+" ",is:!0})},o.onClickBtnMakeDealTeamHandler=function(){k.getInstance().StartTrade()},o.onClickBtnKickOutTeamHandler=function(e){e&&""!=e&&(k.getInstance().sendDelGroupMember(e),this.onCloseView())},o.onClickBtnIviteMemHandler=function(e){k.getInstance().GuildOperate(10,e)},o.showOperationsBtnsByType=function(e,t){this.btn_SendPos.active=t&&e,this.btn_ExitTeam.active=t&&e,this.btn_Check.active=!t&&e||!e,this.btn_PrivateChat.active=this.btn_Check.active,this.btn_MakeDeal.active=this.btn_Check.active,this.btn_KickOutTeam.active=e&&!t,this.btn_InviteMem.active=e&&!t&&this.meetInviteMem()},o.meetInviteMem=function(){var e=_.findobject(h.playerID).grildname;if(e)return e.indexOf("掌门人")>-1},o.updateContentSize=function(){var e=this.lay_BtnContent.getComponent(b).height;this.node.getComponent(b).height=e+73},o.onCloseView=function(){this.node.destroy()},t}(m)).prototype,"btn_Close",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(E.prototype,"lab_Title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(E.prototype,"lay_BtnContent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"btn_SendPos",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(E.prototype,"btn_ExitTeam",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"btn_Check",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(E.prototype,"btn_PrivateChat",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(E.prototype,"btn_MakeDeal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(E.prototype,"btn_KickOutTeam",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"btn_InviteMem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=E))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/TestSvn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Component}],execute:function(){var c;o._RF.push({},"813dcRmXDZPTbO47ktzGHoQ","TestSvn",void 0);var s=e.ccclass;e.property,t("TestSvn",s("TestSvn")(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){console.log("测试___________")},e.update=function(t){},e.onLoad=function(){},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Tip.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,r,l,s,c,p,a,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,c=t.ScrollView,p=t.Label,a=t.UITransform,g=t.Component}],execute:function(){var h,u,m,C,f;r._RF.push({},"e4d25RfruNGW7iIaopG5iOc","Tip",void 0);var d=l.ccclass,y=l.property;t("Tip",(h=d("Tip"),u=y(s),h((f=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"scroll_tips",f,o(e)),e.tip1="抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊抽卡过得啊",e.tip2="合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊合成过得啊",e}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.updateView=function(){var t=this;this.scroll_tips.getComponent(c).content.getChildByName("Label").getComponent(p).string=this.tip1,this.scheduleOnce((function(){var e=t.scroll_tips.getComponent(c).content;e.getComponent(a).height=e.getChildByName("Label").getComponent(a).height/2}),.1)},r.onClickTogTipsHandle=function(t){var e=this;"Toggle1"==t.target.name?this.scroll_tips.getComponent(c).content.getChildByName("Label").getComponent(p).string=this.tip1:"Toggle2"==t.target.name&&(this.scroll_tips.getComponent(c).content.getChildByName("Label").getComponent(p).string=this.tip2),this.scheduleOnce((function(){var t=e.scroll_tips.getComponent(c).content;t.getComponent(a).height=t.getChildByName("Label").getComponent(a).height/2}),.1)},e}(g)).prototype,"scroll_tips",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Title.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Struct.ts","./AnimationModule.ts","./RGBCode.ts","./GameUtil.ts","./objectmanage.ts"],(function(n){"use strict";var i,t,e,o,a,l,c,r,s,u,f,d;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,o=n.Vec3,a=n.v3,l=n.AnimationComponent,c=n.Component},function(n){r=n.Config},function(n){s=n.Struct_ins},function(n){u=n.Animationmodule},null,function(n){f=n.GameUtil},function(n){d=n.ObjectManage}],execute:function(){var h,I;t._RF.push({},"ffb89KQ4uRN658b/A1zpyzk","Title",void 0);var g=e.ccclass;e.property,n("Title",g("Title")(((I=function(n){function t(){for(var i,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(i=n.call.apply(n,[this].concat(e))||this).nIcon=-1,i.title_gp=null,i}i(t,n);var e=t.prototype;return e.start=function(){},e.update=function(n){},e.updateTitle=function(n){},t.SetIconGif=function(n,i){var t=this.getIconGifData(n,i);if(t)for(var e=t.obj,a=t.iconNums,l=t.data,c=t.record,d=0,h=1;d<a;d++,h++){var I=f.slice(l,14*d+h,14*d+h+14),g=s.GXXTActorIcon(I);if(null==g.boOnlySelfVisible||1!=g.boOnlySelfVisible||c==r.playerID){if(this.aniList[""+c]&&this.aniList[""+c][d]){var m=this.aniList[""+c][d];if(-1==g.nFileIndex){this.clearSingleTitleAni(m,c,d);continue}if(m.dataName==this.getAniDataName(g))continue;this.clearSingleTitleAni(m,c,d)}else{(m=u.getAni(e.node,"icongif-"+d+"-"+c))&&this.clearSingleTitleAni(m,c,d)}if(-1!=g.nFileIndex){var v=r.g_pak_list[g.nFileIndex],p=new o(g.nX-70,100-g.nY),A="icongif-"+d+"-"+c;this.setTitleAnim(g,e,v,g.nIconIndex,g.nIconIndex+g.nIconCount-1,g.nPlayTime,p,A,d)}}}},t.clearSingleTitleAni=function(n,i,t){u.removeAni(n),this.aniList[""+i]&&(this.aniList[""+i][t]=null)},t.getIconGifData=function(n,i){if(!(n.series<1)&&n.param===i.length){var t=d.findobject(n.record);if(t)return{obj:t,iconNums:n.series,data:i,record:n.record}}},t.getAniDataName=function(n){return n.nFileIndex+"_"+n.nX+"_"+n.nY+"_"+n.nIconIndex+"_"+n.nIconCount+"_"+n.nPlayTime},t.pushAniFromObj=function(n,i,t){this.aniList[""+n]||(this.aniList[""+n]=[]),this.aniList[""+n][t]=i},t.SetIcon=function(n,i){var t=this.getIconGifData(n,i);if(t){var e=t.obj,o=t.iconNums,l=t.data,c=t.record;e.icon||(e.icon=[]);for(var d=0;d<e.icon.length;d++)e.node.removeChild(e.icon[d]);e.icon=[];d=0;for(var h=1;d<o;d++,h++){var I=f.slice(l,14*d+h,14*d+h+14),g=s.GXXTActorIcon(I),m=u.getAni(e.node,"humicon-"+d+"-"+c);if(m&&this.clearSingleTitleAni(m,c,d+4),-1!=g.nFileIndex){var v,p=a(g.nX,g.nY-100),A="humicon-"+d+"-"+c;switch(g.nFileIndex){case 2e3:v="icon";break;case 65534:v="prguse3",g.nIconIndex=295,g.nIconCount=1;break;case 65535:v="prguse3",g.nIconIndex=296,g.nIconCount=1;break;default:v=r.g_pak_list[g.nFileIndex]}for(g.nIconIndex=String(g.nIconIndex);g.nIconIndex.length<5;)g.nIconIndex="0"+g.nIconIndex;this.setTitleAnim(g,e,v,g.nIconIndex,"0"+(+g.nIconIndex+g.nIconCount-1),g.nPlayTime,p,A,d+4)}}}},t.setTitleAnim=function(n,i,t,e,o,a,c,s,f){i.obj_title.active=!0;var d=i.obj_title.getChildByName("title_anis");d.active=!0;var h=u.playframe(n.boBlend,d,"data/"+t+"/",e,o,a,!0,!1,c,null,null,null,null,!1,f+"-"+i.data.record,null,null,{drawCenter:!1,HCenter:!0,rootWidth:0,rootHeight:0});h&&(h.name=s,h.dataName=this.getAniDataName(n),3==i.type&&r.GlobalCfglist.ShowTitle&&h.ani.on(l.EventType.PLAY,(function(){3==i.type&&r.GlobalCfglist.ShowTitle&&(h.node.active=!1)}),this),this.pushAniFromObj(i.data.record,h,f))},t.deleteTitleAnim=function(n){if(n){var i=this.aniList[""+n];if(i&&i.length>0){for(var t=i.length-1;t>=0;t--)i[t]&&(u.removeAni(this.aniList[""+n][t]),this.aniList[""+n][t]=null);this.aniList[""+n]=null,delete this.aniList[""+n]}}},t}(c)).aniList={},h=I))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUtil.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,l,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,l=t.UITransform,c=t.Component},function(t){p=t.GameUtil}],execute:function(){var u,d,f,h,m;r._RF.push({},"1f15dALCSVE5LuAYedrZZl7","Toast",void 0);var g=s.ccclass,v=s.property;t("Toast",(u=g("Toast"),d=v(a),u((m=e((h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"content",m,o(e)),e.sF=null,e.count=0,e}n(e,t);var r=e.prototype;return r.start=function(){},r.showToast=function(t){this.addMsg(t)},r.addMsg=function(t){var e=this,n=t.content;if(-1!=n.indexOf("{")&&-1!=n.indexOf("}")){for(var i=n.match(/\{(.+?)\}/g),o=0;o<i.length;o++)if(i[o]=i[o].replace("{",""),i[o]=i[o].replace("}",""),-1!=i[o].indexOf("|")){var r=i[o].split("|");n=n.replace(i[o],r[0])}if(-1!=(n=(n=n.replaceAll("{","")).replaceAll("}","")).indexOf("^")){var s=n.split("^");n=s[0]}}if(-1!=n.indexOf(":")){var c=n.split(":");n=c[0]}if(-1!=n.indexOf("^")){var u=n.split("^");n=u[0]}t.content=n;var d={outlineColor:t.outLineColor,text:t.content,color:t.f_color},f=p.addLabel(d);f.msgId=t.msgId,f.getComponent(a).horizontalAlign=a.HorizontalAlign.CENTER,f.getComponent(l).anchorX=.5,f.getComponent(l).anchorY=.5,this.node.addChild(f);var h=f.getComponent(a).string;if(-1!=h.toUpperCase().indexOf("%D")||-1!=h.toUpperCase().indexOf("%S")){f.getComponent(a).string=-1!=h.indexOf("%d")?h.replace("%d",this.timeStyle(t.time)):h.replace("%s",this.timeStyle(t.time)),f.getComponent(a).timeTag=t.time;var m=function(){if(f.isValid){var t=f.getComponent(a).timeTag-1;f.getComponent(a).timeTag=t;var n=e.timeStyle(t);f.getComponent(a).string=-1!=h.indexOf("%d")?h.replace("%d",n):h.replace("%s",n),t<1&&(e.unschedule(m),f.destroy())}};this.sF=m,this.schedule(m,1)}else{m=function(){f.isValid&&f.destroy()};this.sF=m,this.scheduleOnce(m,t.time)}},r.timeStyle=function(t){var e=t%60;return t<60?e+"秒":~~(t/60)+"分"+e+"秒"},r.onDestroy=function(){this.sF&&(this.unschedule(this.sF),this.sF=null),this.count=0},e}(c)).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureScoreItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./Sendmessage.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,a,r,u,s,o,c,l,d,m,p,_,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,s=e.Label,o=e.Sprite,c=e.Component},function(e){l=e.EventMgr},function(e){d=e.Config},function(e){m=e.default},function(e){p=e.OPEN_ITEMINFO_WIN_TYPE},function(e){_=e.resourcesMgr},function(e){f=e.sendmessage},function(e){g=e.GameUtil}],execute:function(){var h,E,I,T,b,v,q,N,w,y,S,x,D,M;r._RF.push({},"7de61l3ic9H4rLQJQuWyeBb","TreasureScoreItem",void 0);var O=u.ccclass,R=u.property,A=u.menu;e("default",(h=O("TreasureScoreItem"),E=A("实例模块/TreasureScoreItem"),I=R(s),T=R(o),b=R(s),v=R(s),q=R(s),h(N=E((y=t((w=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,n(t,"awardName",y,a(t)),n(t,"icon",S,a(t)),n(t,"awardNum",x,a(t)),n(t,"scoreNum",D,a(t)),n(t,"exchangeTimes",M,a(t)),t.equip_data=null,t.item_id=0,t}i(t,e);var r=t.prototype;return r.start=function(){this.initMgr()},r.initMgr=function(){l.addEventListener(m.UPDATE_HERO_TREASURE_SCORE_DATA,this.updateData,this)},r.init=function(e){var t=this;e.award_num&&(this.awardNum.string="x"+e.award_num),e.need_score&&(this.scoreNum.string="积分："+e.need_score),null!=e.exchange_times&&(this.exchangeTimes.string="剩余兑换次数："+e.exchange_times),e.equip_data.data&&(this.equip_data=e.equip_data,this.item_id=e.equip_data.data.s.nIdx,e.equip_data.res?_.handleLoad(e.equip_data.res.plist,(function(i){i&&i.getSpriteFrame(e.equip_data.res.img)&&t.icon&&(t.icon.spriteFrame=i.getSpriteFrame(e.equip_data.res.img))})):this.icon.getComponent(o).spriteFrame=null,e.equip_data.name&&(this.awardName.string=e.equip_data.name),e.equip_data.data.s.BagEffect.FileIndex?g.showItemeffect(this.icon.node,e.equip_data.data):g.removeItemAni(this.icon.node,"effect"))},r.onClickItem=function(){this.equip_data&&(d.g_MoveItems.Items=this.equip_data.data,d.g_OpenIdx=p.LOOKHUMWIN,l.raiseEvent(m.OPEN_NEW_ITEM_INFO,[this.equip_data.data]))},r.updateData=function(e){var t=e[0];t.itemId==this.item_id&&(this.exchangeTimes.string="剩余兑换次数："+t.num)},r.onClickExchange=function(){f.sendHeroTreasureScoreExchange(this.item_id)},r.onDestroy=function(){l.removeEventListener(m.UPDATE_HERO_TREASURE_SCORE_DATA,this.updateData,this)},t}(c)).prototype,"awardName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(w.prototype,"icon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(w.prototype,"awardNum",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"scoreNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"exchangeTimes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=w))||N)||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/UcsByGbk.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e({gbkByteArr2UcsStr:function(e){var r=0,t="",n=0;for(;0!=e[r]&&r<e.length;)e[r]<128?n=e[r]:(n=c((e[r]<<8)+e[r+1]),r++),t+=String.fromCharCode(n),r++;return t},gbkstr2ucsstr:function(e){for(var r="",t="",n=0,s=0;s<e.length;s++)n=e.charCodeAt(s),r=e[s],n>=33088&&(n=c(n),r=String.fromCharCode(n)),t+=r;return t},getUcsByGbkAsc:c}),r._RF.push({},"96cd28MjbhOKICV5uZP1coy","UcsByGbk",void 0);var t=[[19970,19972,19973,19974,19983,19986,19991,19999,2e4,20001,20003,20006,20009,20014,20015,20017,20019,20021,20023,20028,20032,20033,20034,20036,20038,20042,20049,20053,20055,20058,20059,20066,20067,20068,20069,20071,20072,20074,20075,20076,20077,20078,20079,20082,20084,20085,20086,20087,20088,20089,20090,20091,20092,20093,20095,20096,20097,20098,20099,20100,20101,20103,20106,63,20112,20118,20119,20121,20124,20125,20126,20131,20138,20143,20144,20145,20148,20150,20151,20152,20153,20156,20157,20158,20168,20172,20175,20176,20178,20186,20187,20188,20192,20194,20198,20199,20201,20205,20206,20207,20209,20212,20216,20217,20218,20220,20222,20224,20226,20227,20228,20229,20230,20231,20232,20235,20236,20242,20243,20244,20245,20246,20252,20253,20257,20259,20264,20265,20268,20269,20270,20273,20275,20277,20279,20281,20283,20286,20287,20288,20289,20290,20292,20293,20295,20296,20297,20298,20299,20300,20306,20308,20310,20321,20322,20326,20328,20330,20331,20333,20334,20337,20338,20341,20343,20344,20345,20346,20349,20352,20353,20354,20357,20358,20359,20362,20364,20366,20368,20370,20371,20373,20374,20376,20377,20378,20380,20382,20383,20385,20386],[20388,20395,20397,20400,20401,20402,20403,20404,20406,20407,20408,20409,20410,20411,20412,20413,20414,20416,20417,20418,20422,20423,20424,20425,20427,20428,20429,20434,20435,20436,20437,20438,20441,20443,20448,20450,20452,20453,20455,20459,20460,20464,20466,20468,20469,20470,20471,20473,20475,20476,20477,20479,20480,20481,20482,20483,20484,20485,20486,20487,20488,20489,20490,63,20491,20494,20496,20497,20499,20501,20502,20503,20507,20509,20510,20512,20514,20515,20516,20519,20523,20527,20528,20529,20530,20531,20532,20533,20534,20535,20536,20537,20539,20541,20543,20544,20545,20546,20548,20549,20550,20553,20554,20555,20557,20560,20561,20562,20563,20564,20566,20567,20568,20569,20571,20573,20574,20575,20576,20577,20578,20579,20580,20582,20583,20584,20585,20586,20587,20589,20590,20591,20592,20593,20594,20595,20596,20597,20600,20601,20602,20604,20605,20609,20610,20611,20612,20614,20615,20617,20618,20619,20620,20622,20623,20624,20625,20626,20627,20628,20629,20630,20631,20632,20633,20634,20635,20636,20637,20638,20639,20640,20641,20642,20644,20646,20650,20651,20653,20654,20655,20656,20657,20659,20660,20661,20662,20663,20664,20665,20668],[20669,20670,20671,20672,20673,20674,20675,20676,20677,20678,20679,20680,20681,20682,20683,20684,20685,20686,20688,20689,20690,20691,20692,20693,20695,20696,20697,20699,20700,20701,20702,20703,20704,20705,20706,20707,20708,20709,20712,20713,20714,20715,20719,20720,20721,20722,20724,20726,20727,20728,20729,20730,20732,20733,20734,20735,20736,20737,20738,20739,20740,20741,20744,63,20745,20746,20748,20749,20750,20751,20752,20753,20755,20756,20757,20758,20759,20760,20761,20762,20763,20764,20765,20766,20767,20768,20770,20771,20772,20773,20774,20775,20776,20777,20778,20779,20780,20781,20782,20783,20784,20785,20786,20787,20788,20789,20790,20791,20792,20793,20794,20795,20796,20797,20798,20802,20807,20810,20812,20814,20815,20816,20818,20819,20823,20824,20825,20827,20829,20830,20831,20832,20833,20835,20836,20838,20839,20841,20842,20847,20850,20858,20862,20863,20867,20868,20870,20871,20874,20875,20878,20879,20880,20881,20883,20884,20888,20890,20893,20894,20895,20897,20899,20902,20903,20904,20905,20906,20909,20910,20916,20920,20921,20922,20926,20927,20929,20930,20931,20933,20936,20938,20941,20942,20944,20946,20947,20948,20949,20950,20951],[20952,20953,20954,20956,20958,20959,20962,20963,20965,20966,20967,20968,20969,20970,20972,20974,20977,20978,20980,20983,20990,20996,20997,21001,21003,21004,21007,21008,21011,21012,21013,21020,21022,21023,21025,21026,21027,21029,21030,21031,21034,21036,21039,21041,21042,21044,21045,21052,21054,21060,21061,21062,21063,21064,21065,21067,21070,21071,21074,21075,21077,21079,21080,63,21081,21082,21083,21085,21087,21088,21090,21091,21092,21094,21096,21099,21100,21101,21102,21104,21105,21107,21108,21109,21110,21111,21112,21113,21114,21115,21116,21118,21120,21123,21124,21125,21126,21127,21129,21130,21131,21132,21133,21134,21135,21137,21138,21140,21141,21142,21143,21144,21145,21146,21148,21156,21157,21158,21159,21166,21167,21168,21172,21173,21174,21175,21176,21177,21178,21179,21180,21181,21184,21185,21186,21188,21189,21190,21192,21194,21196,21197,21198,21199,21201,21203,21204,21205,21207,21209,21210,21211,21212,21213,21214,21216,21217,21218,21219,21221,21222,21223,21224,21225,21226,21227,21228,21229,21230,21231,21233,21234,21235,21236,21237,21238,21239,21240,21243,21244,21245,21249,21250,21251,21252,21255,21257,21258,21259,21260,21262],[21265,21266,21267,21268,21272,21275,21276,21278,21279,21282,21284,21285,21287,21288,21289,21291,21292,21293,21295,21296,21297,21298,21299,21300,21301,21302,21303,21304,21308,21309,21312,21314,21316,21318,21323,21324,21325,21328,21332,21336,21337,21339,21341,21349,21352,21354,21356,21357,21362,21366,21369,21371,21372,21373,21374,21376,21377,21379,21383,21384,21386,21390,21391,63,21392,21393,21394,21395,21396,21398,21399,21401,21403,21404,21406,21408,21409,21412,21415,21418,21419,21420,21421,21423,21424,21425,21426,21427,21428,21429,21431,21432,21433,21434,21436,21437,21438,21440,21443,21444,21445,21446,21447,21454,21455,21456,21458,21459,21461,21466,21468,21469,21470,21473,21474,21479,21492,21498,21502,21503,21504,21506,21509,21511,21515,21524,21528,21529,21530,21532,21538,21540,21541,21546,21552,21555,21558,21559,21562,21565,21567,21569,21570,21572,21573,21575,21577,21580,21581,21582,21583,21585,21594,21597,21598,21599,21600,21601,21603,21605,21607,21609,21610,21611,21612,21613,21614,21615,21616,21620,21625,21626,21630,21631,21633,21635,21637,21639,21640,21641,21642,21645,21649,21651,21655,21656,21660,21662,21663,21664,21665],[21666,21669,21678,21680,21682,21685,21686,21687,21689,21690,21692,21694,21699,21701,21706,21707,21718,21720,21723,21728,21729,21730,21731,21732,21739,21740,21743,21744,21745,21748,21749,21750,21751,21752,21753,21755,21758,21760,21762,21763,21764,21765,21768,21770,21771,21772,21773,21774,21778,21779,21781,21782,21783,21784,21785,21786,21788,21789,21790,21791,21793,21797,21798,63,21800,21801,21803,21805,21810,21812,21813,21814,21816,21817,21818,21819,21821,21824,21826,21829,21831,21832,21835,21836,21837,21838,21839,21841,21842,21843,21844,21847,21848,21849,21850,21851,21853,21854,21855,21856,21858,21859,21864,21865,21867,21871,21872,21873,21874,21875,21876,21881,21882,21885,21887,21893,21894,21900,21901,21902,21904,21906,21907,21909,21910,21911,21914,21915,21918,21920,21921,21922,21923,21924,21925,21926,21928,21929,21930,21931,21932,21933,21934,21935,21936,21938,21940,21942,21944,21946,21948,21951,21952,21953,21954,21955,21958,21959,21960,21962,21963,21966,21967,21968,21973,21975,21976,21977,21978,21979,21982,21984,21986,21991,21993,21997,21998,22e3,22001,22004,22006,22008,22009,22010,22011,22012,22015,22018,22019,22020,22021],[22022,22023,22026,22027,22029,22032,22033,22034,22035,22036,22037,22038,22039,22041,22042,22044,22045,22048,22049,22050,22053,22054,22056,22057,22058,22059,22062,22063,22064,22067,22069,22071,22072,22074,22076,22077,22078,22080,22081,22082,22083,22084,22085,22086,22087,22088,22089,22090,22091,22095,22096,22097,22098,22099,22101,22102,22106,22107,22109,22110,22111,22112,22113,63,22115,22117,22118,22119,22125,22126,22127,22128,22130,22131,22132,22133,22135,22136,22137,22138,22141,22142,22143,22144,22145,22146,22147,22148,22151,22152,22153,22154,22155,22156,22157,22160,22161,22162,22164,22165,22166,22167,22168,22169,22170,22171,22172,22173,22174,22175,22176,22177,22178,22180,22181,22182,22183,22184,22185,22186,22187,22188,22189,22190,22192,22193,22194,22195,22196,22197,22198,22200,22201,22202,22203,22205,22206,22207,22208,22209,22210,22211,22212,22213,22214,22215,22216,22217,22219,22220,22221,22222,22223,22224,22225,22226,22227,22229,22230,22232,22233,22236,22243,22245,22246,22247,22248,22249,22250,22252,22254,22255,22258,22259,22262,22263,22264,22267,22268,22272,22273,22274,22277,22279,22283,22284,22285,22286,22287,22288,22289],[22290,22291,22292,22293,22294,22295,22296,22297,22298,22299,22301,22302,22304,22305,22306,22308,22309,22310,22311,22315,22321,22322,22324,22325,22326,22327,22328,22332,22333,22335,22337,22339,22340,22341,22342,22344,22345,22347,22354,22355,22356,22357,22358,22360,22361,22370,22371,22373,22375,22380,22382,22384,22385,22386,22388,22389,22392,22393,22394,22397,22398,22399,22400,63,22401,22407,22408,22409,22410,22413,22414,22415,22416,22417,22420,22421,22422,22423,22424,22425,22426,22428,22429,22430,22431,22437,22440,22442,22444,22447,22448,22449,22451,22453,22454,22455,22457,22458,22459,22460,22461,22462,22463,22464,22465,22468,22469,22470,22471,22472,22473,22474,22476,22477,22480,22481,22483,22486,22487,22491,22492,22494,22497,22498,22499,22501,22502,22503,22504,22505,22506,22507,22508,22510,22512,22513,22514,22515,22517,22518,22519,22523,22524,22526,22527,22529,22531,22532,22533,22536,22537,22538,22540,22542,22543,22544,22546,22547,22548,22550,22551,22552,22554,22555,22556,22557,22559,22562,22563,22565,22566,22567,22568,22569,22571,22572,22573,22574,22575,22577,22578,22579,22580,22582,22583,22584,22585,22586,22587,22588,22589],[22590,22591,22592,22593,22594,22595,22597,22598,22599,22600,22601,22602,22603,22606,22607,22608,22610,22611,22613,22614,22615,22617,22618,22619,22620,22621,22623,22624,22625,22626,22627,22628,22630,22631,22632,22633,22634,22637,22638,22639,22640,22641,22642,22643,22644,22645,22646,22647,22648,22649,22650,22651,22652,22653,22655,22658,22660,22662,22663,22664,22666,22667,22668,63,22669,22670,22671,22672,22673,22676,22677,22678,22679,22680,22683,22684,22685,22688,22689,22690,22691,22692,22693,22694,22695,22698,22699,22700,22701,22702,22703,22704,22705,22706,22707,22708,22709,22710,22711,22712,22713,22714,22715,22717,22718,22719,22720,22722,22723,22724,22726,22727,22728,22729,22730,22731,22732,22733,22734,22735,22736,22738,22739,22740,22742,22743,22744,22745,22746,22747,22748,22749,22750,22751,22752,22753,22754,22755,22757,22758,22759,22760,22761,22762,22765,22767,22769,22770,22772,22773,22775,22776,22778,22779,22780,22781,22782,22783,22784,22785,22787,22789,22790,22792,22793,22794,22795,22796,22798,22800,22801,22802,22803,22807,22808,22811,22813,22814,22816,22817,22818,22819,22822,22824,22828,22832,22834,22835,22837,22838,22843],[22845,22846,22847,22848,22851,22853,22854,22858,22860,22861,22864,22866,22867,22873,22875,22876,22877,22878,22879,22881,22883,22884,22886,22887,22888,22889,22890,22891,22892,22893,22894,22895,22896,22897,22898,22901,22903,22906,22907,22908,22910,22911,22912,22917,22921,22923,22924,22926,22927,22928,22929,22932,22933,22936,22938,22939,22940,22941,22943,22944,22945,22946,22950,63,22951,22956,22957,22960,22961,22963,22964,22965,22966,22967,22968,22970,22972,22973,22975,22976,22977,22978,22979,22980,22981,22983,22984,22985,22988,22989,22990,22991,22997,22998,23001,23003,23006,23007,23008,23009,23010,23012,23014,23015,23017,23018,23019,23021,23022,23023,23024,23025,23026,23027,23028,23029,23030,23031,23032,23034,23036,23037,23038,23040,23042,23050,23051,23053,23054,23055,23056,23058,23060,23061,23062,23063,23065,23066,23067,23069,23070,23073,23074,23076,23078,23079,23080,23082,23083,23084,23085,23086,23087,23088,23091,23093,23095,23096,23097,23098,23099,23101,23102,23103,23105,23106,23107,23108,23109,23111,23112,23115,23116,23117,23118,23119,23120,23121,23122,23123,23124,23126,23127,23128,23129,23131,23132,23133,23134,23135,23136],[23137,23139,23140,23141,23142,23144,23145,23147,23148,23149,23150,23151,23152,23153,23154,23155,23160,23161,23163,23164,23165,23166,23168,23169,23170,23171,23172,23173,23174,23175,23176,23177,23178,23179,23180,23181,23182,23183,23184,23185,23187,23188,23189,23190,23191,23192,23193,23196,23197,23198,23199,23200,23201,23202,23203,23204,23205,23206,23207,23208,23209,23211,23212,63,23213,23214,23215,23216,23217,23220,23222,23223,23225,23226,23227,23228,23229,23231,23232,23235,23236,23237,23238,23239,23240,23242,23243,23245,23246,23247,23248,23249,23251,23253,23255,23257,23258,23259,23261,23262,23263,23266,23268,23269,23271,23272,23274,23276,23277,23278,23279,23280,23282,23283,23284,23285,23286,23287,23288,23289,23290,23291,23292,23293,23294,23295,23296,23297,23298,23299,23300,23301,23302,23303,23304,23306,23307,23308,23309,23310,23311,23312,23313,23314,23315,23316,23317,23320,23321,23322,23323,23324,23325,23326,23327,23328,23329,23330,23331,23332,23333,23334,23335,23336,23337,23338,23339,23340,23341,23342,23343,23344,23345,23347,23349,23350,23352,23353,23354,23355,23356,23357,23358,23359,23361,23362,23363,23364,23365,23366,23367],[23368,23369,23370,23371,23372,23373,23374,23375,23378,23382,23390,23392,23393,23399,23400,23403,23405,23406,23407,23410,23412,23414,23415,23416,23417,23419,23420,23422,23423,23426,23430,23434,23437,23438,23440,23441,23442,23444,23446,23455,23463,23464,23465,23468,23469,23470,23471,23473,23474,23479,23482,23483,23484,23488,23489,23491,23496,23497,23498,23499,23501,23502,23503,63,23505,23508,23509,23510,23511,23512,23513,23514,23515,23516,23520,23522,23523,23526,23527,23529,23530,23531,23532,23533,23535,23537,23538,23539,23540,23541,23542,23543,23549,23550,23552,23554,23555,23557,23559,23560,23563,23564,23565,23566,23568,23570,23571,23575,23577,23579,23582,23583,23584,23585,23587,23590,23592,23593,23594,23595,23597,23598,23599,23600,23602,23603,23605,23606,23607,23619,23620,23622,23623,23628,23629,23634,23635,23636,23638,23639,23640,23642,23643,23644,23645,23647,23650,23652,23655,23656,23657,23658,23659,23660,23661,23664,23666,23667,23668,23669,23670,23671,23672,23675,23676,23677,23678,23680,23683,23684,23685,23686,23687,23689,23690,23691,23694,23695,23698,23699,23701,23709,23710,23711,23712,23713,23716,23717,23718,23719,23720],[23722,23726,23727,23728,23730,23732,23734,23737,23738,23739,23740,23742,23744,23746,23747,23749,23750,23751,23752,23753,23754,23756,23757,23758,23759,23760,23761,23763,23764,23765,23766,23767,23768,23770,23771,23772,23773,23774,23775,23776,23778,23779,23783,23785,23787,23788,23790,23791,23793,23794,23795,23796,23797,23798,23799,23800,23801,23802,23804,23805,23806,23807,23808,63,23809,23812,23813,23816,23817,23818,23819,23820,23821,23823,23824,23825,23826,23827,23829,23831,23832,23833,23834,23836,23837,23839,23840,23841,23842,23843,23845,23848,23850,23851,23852,23855,23856,23857,23858,23859,23861,23862,23863,23864,23865,23866,23867,23868,23871,23872,23873,23874,23875,23876,23877,23878,23880,23881,23885,23886,23887,23888,23889,23890,23891,23892,23893,23894,23895,23897,23898,23900,23902,23903,23904,23905,23906,23907,23908,23909,23910,23911,23912,23914,23917,23918,23920,23921,23922,23923,23925,23926,23927,23928,23929,23930,23931,23932,23933,23934,23935,23936,23937,23939,23940,23941,23942,23943,23944,23945,23946,23947,23948,23949,23950,23951,23952,23953,23954,23955,23956,23957,23958,23959,23960,23962,23963,23964,23966,23967,23968],[23969,23970,23971,23972,23973,23974,23975,23976,23977,23978,23979,23980,23981,23982,23983,23984,23985,23986,23987,23988,23989,23990,23992,23993,23994,23995,23996,23997,23998,23999,24e3,24001,24002,24003,24004,24006,24007,24008,24009,24010,24011,24012,24014,24015,24016,24017,24018,24019,24020,24021,24022,24023,24024,24025,24026,24028,24031,24032,24035,24036,24042,24044,24045,63,24048,24053,24054,24056,24057,24058,24059,24060,24063,24064,24068,24071,24073,24074,24075,24077,24078,24082,24083,24087,24094,24095,24096,24097,24098,24099,24100,24101,24104,24105,24106,24107,24108,24111,24112,24114,24115,24116,24117,24118,24121,24122,24126,24127,24128,24129,24131,24134,24135,24136,24137,24138,24139,24141,24142,24143,24144,24145,24146,24147,24150,24151,24152,24153,24154,24156,24157,24159,24160,24163,24164,24165,24166,24167,24168,24169,24170,24171,24172,24173,24174,24175,24176,24177,24181,24183,24185,24190,24193,24194,24195,24197,24200,24201,24204,24205,24206,24210,24216,24219,24221,24225,24226,24227,24228,24232,24233,24234,24235,24236,24238,24239,24240,24241,24242,24244,24250,24251,24252,24253,24255,24256,24257,24258,24259,24260,24261],[24262,24263,24264,24267,24268,24269,24270,24271,24272,24276,24277,24279,24280,24281,24282,24284,24285,24286,24287,24288,24289,24290,24291,24292,24293,24294,24295,24297,24299,24300,24301,24302,24303,24304,24305,24306,24307,24309,24312,24313,24315,24316,24317,24325,24326,24327,24329,24332,24333,24334,24336,24338,24340,24342,24345,24346,24348,24349,24350,24353,24354,24355,24356,63,24360,24363,24364,24366,24368,24370,24371,24372,24373,24374,24375,24376,24379,24381,24382,24383,24385,24386,24387,24388,24389,24390,24391,24392,24393,24394,24395,24396,24397,24398,24399,24401,24404,24409,24410,24411,24412,24414,24415,24416,24419,24421,24423,24424,24427,24430,24431,24434,24436,24437,24438,24440,24442,24445,24446,24447,24451,24454,24461,24462,24463,24465,24467,24468,24470,24474,24475,24477,24478,24479,24480,24482,24483,24484,24485,24486,24487,24489,24491,24492,24495,24496,24497,24498,24499,24500,24502,24504,24505,24506,24507,24510,24511,24512,24513,24514,24519,24520,24522,24523,24526,24531,24532,24533,24538,24539,24540,24542,24543,24546,24547,24549,24550,24552,24553,24556,24559,24560,24562,24563,24564,24566,24567,24569,24570,24572,24583],[24584,24585,24587,24588,24592,24593,24595,24599,24600,24602,24606,24607,24610,24611,24612,24620,24621,24622,24624,24625,24626,24627,24628,24630,24631,24632,24633,24634,24637,24638,24640,24644,24645,24646,24647,24648,24649,24650,24652,24654,24655,24657,24659,24660,24662,24663,24664,24667,24668,24670,24671,24672,24673,24677,24678,24686,24689,24690,24692,24693,24695,24702,24704,63,24705,24706,24709,24710,24711,24712,24714,24715,24718,24719,24720,24721,24723,24725,24727,24728,24729,24732,24734,24737,24738,24740,24741,24743,24745,24746,24750,24752,24755,24757,24758,24759,24761,24762,24765,24766,24767,24768,24769,24770,24771,24772,24775,24776,24777,24780,24781,24782,24783,24784,24786,24787,24788,24790,24791,24793,24795,24798,24801,24802,24803,24804,24805,24810,24817,24818,24821,24823,24824,24827,24828,24829,24830,24831,24834,24835,24836,24837,24839,24842,24843,24844,24848,24849,24850,24851,24852,24854,24855,24856,24857,24859,24860,24861,24862,24865,24866,24869,24872,24873,24874,24876,24877,24878,24879,24880,24881,24882,24883,24884,24885,24886,24887,24888,24889,24890,24891,24892,24893,24894,24896,24897,24898,24899,24900,24901,24902],[24903,24905,24907,24909,24911,24912,24914,24915,24916,24918,24919,24920,24921,24922,24923,24924,24926,24927,24928,24929,24931,24932,24933,24934,24937,24938,24939,24940,24941,24942,24943,24945,24946,24947,24948,24950,24952,24953,24954,24955,24956,24957,24958,24959,24960,24961,24962,24963,24964,24965,24966,24967,24968,24969,24970,24972,24973,24975,24976,24977,24978,24979,24981,63,24982,24983,24984,24985,24986,24987,24988,24990,24991,24992,24993,24994,24995,24996,24997,24998,25002,25003,25005,25006,25007,25008,25009,25010,25011,25012,25013,25014,25016,25017,25018,25019,25020,25021,25023,25024,25025,25027,25028,25029,25030,25031,25033,25036,25037,25038,25039,25040,25043,25045,25046,25047,25048,25049,25050,25051,25052,25053,25054,25055,25056,25057,25058,25059,25060,25061,25063,25064,25065,25066,25067,25068,25069,25070,25071,25072,25073,25074,25075,25076,25078,25079,25080,25081,25082,25083,25084,25085,25086,25088,25089,25090,25091,25092,25093,25095,25097,25107,25108,25113,25116,25117,25118,25120,25123,25126,25127,25128,25129,25131,25133,25135,25136,25137,25138,25141,25142,25144,25145,25146,25147,25148,25154,25156,25157,25158,25162],[25167,25168,25173,25174,25175,25177,25178,25180,25181,25182,25183,25184,25185,25186,25188,25189,25192,25201,25202,25204,25205,25207,25208,25210,25211,25213,25217,25218,25219,25221,25222,25223,25224,25227,25228,25229,25230,25231,25232,25236,25241,25244,25245,25246,25251,25254,25255,25257,25258,25261,25262,25263,25264,25266,25267,25268,25270,25271,25272,25274,25278,25280,25281,63,25283,25291,25295,25297,25301,25309,25310,25312,25313,25316,25322,25323,25328,25330,25333,25336,25337,25338,25339,25344,25347,25348,25349,25350,25354,25355,25356,25357,25359,25360,25362,25363,25364,25365,25367,25368,25369,25372,25382,25383,25385,25388,25389,25390,25392,25393,25395,25396,25397,25398,25399,25400,25403,25404,25406,25407,25408,25409,25412,25415,25416,25418,25425,25426,25427,25428,25430,25431,25432,25433,25434,25435,25436,25437,25440,25444,25445,25446,25448,25450,25451,25452,25455,25456,25458,25459,25460,25461,25464,25465,25468,25469,25470,25471,25473,25475,25476,25477,25478,25483,25485,25489,25491,25492,25493,25495,25497,25498,25499,25500,25501,25502,25503,25505,25508,25510,25515,25519,25521,25522,25525,25526,25529,25531,25533,25535,25536],[25537,25538,25539,25541,25543,25544,25546,25547,25548,25553,25555,25556,25557,25559,25560,25561,25562,25563,25564,25565,25567,25570,25572,25573,25574,25575,25576,25579,25580,25582,25583,25584,25585,25587,25589,25591,25593,25594,25595,25596,25598,25603,25604,25606,25607,25608,25609,25610,25613,25614,25617,25618,25621,25622,25623,25624,25625,25626,25629,25631,25634,25635,25636,63,25637,25639,25640,25641,25643,25646,25647,25648,25649,25650,25651,25653,25654,25655,25656,25657,25659,25660,25662,25664,25666,25667,25673,25675,25676,25677,25678,25679,25680,25681,25683,25685,25686,25687,25689,25690,25691,25692,25693,25695,25696,25697,25698,25699,25700,25701,25702,25704,25706,25707,25708,25710,25711,25712,25713,25714,25715,25716,25717,25718,25719,25723,25724,25725,25726,25727,25728,25729,25731,25734,25736,25737,25738,25739,25740,25741,25742,25743,25744,25747,25748,25751,25752,25754,25755,25756,25757,25759,25760,25761,25762,25763,25765,25766,25767,25768,25770,25771,25775,25777,25778,25779,25780,25782,25785,25787,25789,25790,25791,25793,25795,25796,25798,25799,25800,25801,25802,25803,25804,25807,25809,25811,25812,25813,25814,25817,25818],[25819,25820,25821,25823,25824,25825,25827,25829,25831,25832,25833,25834,25835,25836,25837,25838,25839,25840,25841,25842,25843,25844,25845,25846,25847,25848,25849,25850,25851,25852,25853,25854,25855,25857,25858,25859,25860,25861,25862,25863,25864,25866,25867,25868,25869,25870,25871,25872,25873,25875,25876,25877,25878,25879,25881,25882,25883,25884,25885,25886,25887,25888,25889,63,25890,25891,25892,25894,25895,25896,25897,25898,25900,25901,25904,25905,25906,25907,25911,25914,25916,25917,25920,25921,25922,25923,25924,25926,25927,25930,25931,25933,25934,25936,25938,25939,25940,25943,25944,25946,25948,25951,25952,25953,25956,25957,25959,25960,25961,25962,25965,25966,25967,25969,25971,25973,25974,25976,25977,25978,25979,25980,25981,25982,25983,25984,25985,25986,25987,25988,25989,25990,25992,25993,25994,25997,25998,25999,26002,26004,26005,26006,26008,26010,26013,26014,26016,26018,26019,26022,26024,26026,26028,26030,26033,26034,26035,26036,26037,26038,26039,26040,26042,26043,26046,26047,26048,26050,26055,26056,26057,26058,26061,26064,26065,26067,26068,26069,26072,26073,26074,26075,26076,26077,26078,26079,26081,26083,26084,26090,26091],[26098,26099,26100,26101,26104,26105,26107,26108,26109,26110,26111,26113,26116,26117,26119,26120,26121,26123,26125,26128,26129,26130,26134,26135,26136,26138,26139,26140,26142,26145,26146,26147,26148,26150,26153,26154,26155,26156,26158,26160,26162,26163,26167,26168,26169,26170,26171,26173,26175,26176,26178,26180,26181,26182,26183,26184,26185,26186,26189,26190,26192,26193,26200,63,26201,26203,26204,26205,26206,26208,26210,26211,26213,26215,26217,26218,26219,26220,26221,26225,26226,26227,26229,26232,26233,26235,26236,26237,26239,26240,26241,26243,26245,26246,26248,26249,26250,26251,26253,26254,26255,26256,26258,26259,26260,26261,26264,26265,26266,26267,26268,26270,26271,26272,26273,26274,26275,26276,26277,26278,26281,26282,26283,26284,26285,26287,26288,26289,26290,26291,26293,26294,26295,26296,26298,26299,26300,26301,26303,26304,26305,26306,26307,26308,26309,26310,26311,26312,26313,26314,26315,26316,26317,26318,26319,26320,26321,26322,26323,26324,26325,26326,26327,26328,26330,26334,26335,26336,26337,26338,26339,26340,26341,26343,26344,26346,26347,26348,26349,26350,26351,26353,26357,26358,26360,26362,26363,26365,26369,26370,26371],[26372,26373,26374,26375,26380,26382,26383,26385,26386,26387,26390,26392,26393,26394,26396,26398,26400,26401,26402,26403,26404,26405,26407,26409,26414,26416,26418,26419,26422,26423,26424,26425,26427,26428,26430,26431,26433,26436,26437,26439,26442,26443,26445,26450,26452,26453,26455,26456,26457,26458,26459,26461,26466,26467,26468,26470,26471,26475,26476,26478,26481,26484,26486,63,26488,26489,26490,26491,26493,26496,26498,26499,26501,26502,26504,26506,26508,26509,26510,26511,26513,26514,26515,26516,26518,26521,26523,26527,26528,26529,26532,26534,26537,26540,26542,26545,26546,26548,26553,26554,26555,26556,26557,26558,26559,26560,26562,26565,26566,26567,26568,26569,26570,26571,26572,26573,26574,26581,26582,26583,26587,26591,26593,26595,26596,26598,26599,26600,26602,26603,26605,26606,26610,26613,26614,26615,26616,26617,26618,26619,26620,26622,26625,26626,26627,26628,26630,26637,26640,26642,26644,26645,26648,26649,26650,26651,26652,26654,26655,26656,26658,26659,26660,26661,26662,26663,26664,26667,26668,26669,26670,26671,26672,26673,26676,26677,26678,26682,26683,26687,26695,26699,26701,26703,26706,26710,26711,26712,26713,26714,26715],[26716,26717,26718,26719,26730,26732,26733,26734,26735,26736,26737,26738,26739,26741,26744,26745,26746,26747,26748,26749,26750,26751,26752,26754,26756,26759,26760,26761,26762,26763,26764,26765,26766,26768,26769,26770,26772,26773,26774,26776,26777,26778,26779,26780,26781,26782,26783,26784,26785,26787,26788,26789,26793,26794,26795,26796,26798,26801,26802,26804,26806,26807,26808,63,26809,26810,26811,26812,26813,26814,26815,26817,26819,26820,26821,26822,26823,26824,26826,26828,26830,26831,26832,26833,26835,26836,26838,26839,26841,26843,26844,26845,26846,26847,26849,26850,26852,26853,26854,26855,26856,26857,26858,26859,26860,26861,26863,26866,26867,26868,26870,26871,26872,26875,26877,26878,26879,26880,26882,26883,26884,26886,26887,26888,26889,26890,26892,26895,26897,26899,26900,26901,26902,26903,26904,26905,26906,26907,26908,26909,26910,26913,26914,26915,26917,26918,26919,26920,26921,26922,26923,26924,26926,26927,26929,26930,26931,26933,26934,26935,26936,26938,26939,26940,26942,26944,26945,26947,26948,26949,26950,26951,26952,26953,26954,26955,26956,26957,26958,26959,26960,26961,26962,26963,26965,26966,26968,26969,26971,26972,26975],[26977,26978,26980,26981,26983,26984,26985,26986,26988,26989,26991,26992,26994,26995,26996,26997,26998,27002,27003,27005,27006,27007,27009,27011,27013,27018,27019,27020,27022,27023,27024,27025,27026,27027,27030,27031,27033,27034,27037,27038,27039,27040,27041,27042,27043,27044,27045,27046,27049,27050,27052,27054,27055,27056,27058,27059,27061,27062,27064,27065,27066,27068,27069,63,27070,27071,27072,27074,27075,27076,27077,27078,27079,27080,27081,27083,27085,27087,27089,27090,27091,27093,27094,27095,27096,27097,27098,27100,27101,27102,27105,27106,27107,27108,27109,27110,27111,27112,27113,27114,27115,27116,27118,27119,27120,27121,27123,27124,27125,27126,27127,27128,27129,27130,27131,27132,27134,27136,27137,27138,27139,27140,27141,27142,27143,27144,27145,27147,27148,27149,27150,27151,27152,27153,27154,27155,27156,27157,27158,27161,27162,27163,27164,27165,27166,27168,27170,27171,27172,27173,27174,27175,27177,27179,27180,27181,27182,27184,27186,27187,27188,27190,27191,27192,27193,27194,27195,27196,27199,27200,27201,27202,27203,27205,27206,27208,27209,27210,27211,27212,27213,27214,27215,27217,27218,27219,27220,27221,27222,27223,27226],[27228,27229,27230,27231,27232,27234,27235,27236,27238,27239,27240,27241,27242,27243,27244,27245,27246,27247,27248,27250,27251,27252,27253,27254,27255,27256,27258,27259,27261,27262,27263,27265,27266,27267,27269,27270,27271,27272,27273,27274,27275,27276,27277,27279,27282,27283,27284,27285,27286,27288,27289,27290,27291,27292,27293,27294,27295,27297,27298,27299,27300,27301,27302,63,27303,27304,27306,27309,27310,27311,27312,27313,27314,27315,27316,27317,27318,27319,27320,27321,27322,27323,27324,27325,27326,27327,27328,27329,27330,27331,27332,27333,27334,27335,27336,27337,27338,27339,27340,27341,27342,27343,27344,27345,27346,27347,27348,27349,27350,27351,27352,27353,27354,27355,27356,27357,27358,27359,27360,27361,27362,27363,27364,27365,27366,27367,27368,27369,27370,27371,27372,27373,27374,27375,27376,27377,27378,27379,27380,27381,27382,27383,27384,27385,27386,27387,27388,27389,27390,27391,27392,27393,27394,27395,27396,27397,27398,27399,27400,27401,27402,27403,27404,27405,27406,27407,27408,27409,27410,27411,27412,27413,27414,27415,27416,27417,27418,27419,27420,27421,27422,27423,27429,27430,27432,27433,27434,27435,27436,27437,27438],[27439,27440,27441,27443,27444,27445,27446,27448,27451,27452,27453,27455,27456,27457,27458,27460,27461,27464,27466,27467,27469,27470,27471,27472,27473,27474,27475,27476,27477,27478,27479,27480,27482,27483,27484,27485,27486,27487,27488,27489,27496,27497,27499,27500,27501,27502,27503,27504,27505,27506,27507,27508,27509,27510,27511,27512,27514,27517,27518,27519,27520,27525,27528,63,27532,27534,27535,27536,27537,27540,27541,27543,27544,27545,27548,27549,27550,27551,27552,27554,27555,27556,27557,27558,27559,27560,27561,27563,27564,27565,27566,27567,27568,27569,27570,27574,27576,27577,27578,27579,27580,27581,27582,27584,27587,27588,27590,27591,27592,27593,27594,27596,27598,27600,27601,27608,27610,27612,27613,27614,27615,27616,27618,27619,27620,27621,27622,27623,27624,27625,27628,27629,27630,27632,27633,27634,27636,27638,27639,27640,27642,27643,27644,27646,27647,27648,27649,27650,27651,27652,27656,27657,27658,27659,27660,27662,27666,27671,27676,27677,27678,27680,27683,27685,27691,27692,27693,27697,27699,27702,27703,27705,27706,27707,27708,27710,27711,27715,27716,27717,27720,27723,27724,27725,27726,27727,27729,27730,27731,27734,27736],[27737,27738,27746,27747,27749,27750,27751,27755,27756,27757,27758,27759,27761,27763,27765,27767,27768,27770,27771,27772,27775,27776,27780,27783,27786,27787,27789,27790,27793,27794,27797,27798,27799,27800,27802,27804,27805,27806,27808,27810,27816,27820,27823,27824,27828,27829,27830,27831,27834,27840,27841,27842,27843,27846,27847,27848,27851,27853,27854,27855,27857,27858,27864,63,27865,27866,27868,27869,27871,27876,27878,27879,27881,27884,27885,27890,27892,27897,27903,27904,27906,27907,27909,27910,27912,27913,27914,27917,27919,27920,27921,27923,27924,27925,27926,27928,27932,27933,27935,27936,27937,27938,27939,27940,27942,27944,27945,27948,27949,27951,27952,27956,27958,27959,27960,27962,27967,27968,27970,27972,27977,27980,27984,27989,27990,27991,27992,27995,27997,27999,28001,28002,28004,28005,28007,28008,28011,28012,28013,28016,28017,28018,28019,28021,28022,28025,28026,28027,28029,28030,28031,28032,28033,28035,28036,28038,28039,28042,28043,28045,28047,28048,28050,28054,28055,28056,28057,28058,28060,28066,28069,28076,28077,28080,28081,28083,28084,28086,28087,28089,28090,28091,28092,28093,28094,28097,28098,28099,28104,28105,28106],[28109,28110,28111,28112,28114,28115,28116,28117,28119,28122,28123,28124,28127,28130,28131,28133,28135,28136,28137,28138,28141,28143,28144,28146,28148,28149,28150,28152,28154,28157,28158,28159,28160,28161,28162,28163,28164,28166,28167,28168,28169,28171,28175,28178,28179,28181,28184,28185,28187,28188,28190,28191,28194,28198,28199,28200,28202,28204,28206,28208,28209,28211,28213,63,28214,28215,28217,28219,28220,28221,28222,28223,28224,28225,28226,28229,28230,28231,28232,28233,28234,28235,28236,28239,28240,28241,28242,28245,28247,28249,28250,28252,28253,28254,28256,28257,28258,28259,28260,28261,28262,28263,28264,28265,28266,28268,28269,28271,28272,28273,28274,28275,28276,28277,28278,28279,28280,28281,28282,28283,28284,28285,28288,28289,28290,28292,28295,28296,28298,28299,28300,28301,28302,28305,28306,28307,28308,28309,28310,28311,28313,28314,28315,28317,28318,28320,28321,28323,28324,28326,28328,28329,28331,28332,28333,28334,28336,28339,28341,28344,28345,28348,28350,28351,28352,28355,28356,28357,28358,28360,28361,28362,28364,28365,28366,28368,28370,28374,28376,28377,28379,28380,28381,28387,28391,28394,28395,28396,28397,28398,28399],[28400,28401,28402,28403,28405,28406,28407,28408,28410,28411,28412,28413,28414,28415,28416,28417,28419,28420,28421,28423,28424,28426,28427,28428,28429,28430,28432,28433,28434,28438,28439,28440,28441,28442,28443,28444,28445,28446,28447,28449,28450,28451,28453,28454,28455,28456,28460,28462,28464,28466,28468,28469,28471,28472,28473,28474,28475,28476,28477,28479,28480,28481,28482,63,28483,28484,28485,28488,28489,28490,28492,28494,28495,28496,28497,28498,28499,28500,28501,28502,28503,28505,28506,28507,28509,28511,28512,28513,28515,28516,28517,28519,28520,28521,28522,28523,28524,28527,28528,28529,28531,28533,28534,28535,28537,28539,28541,28542,28543,28544,28545,28546,28547,28549,28550,28551,28554,28555,28559,28560,28561,28562,28563,28564,28565,28566,28567,28568,28569,28570,28571,28573,28574,28575,28576,28578,28579,28580,28581,28582,28584,28585,28586,28587,28588,28589,28590,28591,28592,28593,28594,28596,28597,28599,28600,28602,28603,28604,28605,28606,28607,28609,28611,28612,28613,28614,28615,28616,28618,28619,28620,28621,28622,28623,28624,28627,28628,28629,28630,28631,28632,28633,28634,28635,28636,28637,28639,28642,28643,28644,28645],[28646,28647,28648,28649,28650,28651,28652,28653,28656,28657,28658,28659,28660,28661,28662,28663,28664,28665,28666,28667,28668,28669,28670,28671,28672,28673,28674,28675,28676,28677,28678,28679,28680,28681,28682,28683,28684,28685,28686,28687,28688,28690,28691,28692,28693,28694,28695,28696,28697,28700,28701,28702,28703,28704,28705,28706,28708,28709,28710,28711,28712,28713,28714,63,28715,28716,28717,28718,28719,28720,28721,28722,28723,28724,28726,28727,28728,28730,28731,28732,28733,28734,28735,28736,28737,28738,28739,28740,28741,28742,28743,28744,28745,28746,28747,28749,28750,28752,28753,28754,28755,28756,28757,28758,28759,28760,28761,28762,28763,28764,28765,28767,28768,28769,28770,28771,28772,28773,28774,28775,28776,28777,28778,28782,28785,28786,28787,28788,28791,28793,28794,28795,28797,28801,28802,28803,28804,28806,28807,28808,28811,28812,28813,28815,28816,28817,28819,28823,28824,28826,28827,28830,28831,28832,28833,28834,28835,28836,28837,28838,28839,28840,28841,28842,28848,28850,28852,28853,28854,28858,28862,28863,28868,28869,28870,28871,28873,28875,28876,28877,28878,28879,28880,28881,28882,28883,28884,28885,28886,28887,28890],[28892,28893,28894,28896,28897,28898,28899,28901,28906,28910,28912,28913,28914,28915,28916,28917,28918,28920,28922,28923,28924,28926,28927,28928,28929,28930,28931,28932,28933,28934,28935,28936,28939,28940,28941,28942,28943,28945,28946,28948,28951,28955,28956,28957,28958,28959,28960,28961,28962,28963,28964,28965,28967,28968,28969,28970,28971,28972,28973,28974,28978,28979,28980,63,28981,28983,28984,28985,28986,28987,28988,28989,28990,28991,28992,28993,28994,28995,28996,28998,28999,29e3,29001,29003,29005,29007,29008,29009,29010,29011,29012,29013,29014,29015,29016,29017,29018,29019,29021,29023,29024,29025,29026,29027,29029,29033,29034,29035,29036,29037,29039,29040,29041,29044,29045,29046,29047,29049,29051,29052,29054,29055,29056,29057,29058,29059,29061,29062,29063,29064,29065,29067,29068,29069,29070,29072,29073,29074,29075,29077,29078,29079,29082,29083,29084,29085,29086,29089,29090,29091,29092,29093,29094,29095,29097,29098,29099,29101,29102,29103,29104,29105,29106,29108,29110,29111,29112,29114,29115,29116,29117,29118,29119,29120,29121,29122,29124,29125,29126,29127,29128,29129,29130,29131,29132,29133,29135,29136,29137,29138,29139],[29142,29143,29144,29145,29146,29147,29148,29149,29150,29151,29153,29154,29155,29156,29158,29160,29161,29162,29163,29164,29165,29167,29168,29169,29170,29171,29172,29173,29174,29175,29176,29178,29179,29180,29181,29182,29183,29184,29185,29186,29187,29188,29189,29191,29192,29193,29194,29195,29196,29197,29198,29199,29200,29201,29202,29203,29204,29205,29206,29207,29208,29209,29210,63,29211,29212,29214,29215,29216,29217,29218,29219,29220,29221,29222,29223,29225,29227,29229,29230,29231,29234,29235,29236,29242,29244,29246,29248,29249,29250,29251,29252,29253,29254,29257,29258,29259,29262,29263,29264,29265,29267,29268,29269,29271,29272,29274,29276,29278,29280,29283,29284,29285,29288,29290,29291,29292,29293,29296,29297,29299,29300,29302,29303,29304,29307,29308,29309,29314,29315,29317,29318,29319,29320,29321,29324,29326,29328,29329,29331,29332,29333,29334,29335,29336,29337,29338,29339,29340,29341,29342,29344,29345,29346,29347,29348,29349,29350,29351,29352,29353,29354,29355,29358,29361,29362,29363,29365,29370,29371,29372,29373,29374,29375,29376,29381,29382,29383,29385,29386,29387,29388,29391,29393,29395,29396,29397,29398,29400,29402,29403],[58566,58567,58568,58569,58570,58571,58572,58573,58574,58575,58576,58577,58578,58579,58580,58581,58582,58583,58584,58585,58586,58587,58588,58589,58590,58591,58592,58593,58594,58595,58596,58597,58598,58599,58600,58601,58602,58603,58604,58605,58606,58607,58608,58609,58610,58611,58612,58613,58614,58615,58616,58617,58618,58619,58620,58621,58622,58623,58624,58625,58626,58627,58628,63,58629,58630,58631,58632,58633,58634,58635,58636,58637,58638,58639,58640,58641,58642,58643,58644,58645,58646,58647,58648,58649,58650,58651,58652,58653,58654,58655,58656,58657,58658,58659,58660,58661,12288,12289,12290,183,713,711,168,12291,12293,8212,65374,8214,8230,8216,8217,8220,8221,12308,12309,12296,12297,12298,12299,12300,12301,12302,12303,12310,12311,12304,12305,177,215,247,8758,8743,8744,8721,8719,8746,8745,8712,8759,8730,8869,8741,8736,8978,8857,8747,8750,8801,8780,8776,8765,8733,8800,8814,8815,8804,8805,8734,8757,8756,9794,9792,176,8242,8243,8451,65284,164,65504,65505,8240,167,8470,9734,9733,9675,9679,9678,9671,9670,9633,9632,9651,9650,8251,8594,8592,8593,8595,12307],[58662,58663,58664,58665,58666,58667,58668,58669,58670,58671,58672,58673,58674,58675,58676,58677,58678,58679,58680,58681,58682,58683,58684,58685,58686,58687,58688,58689,58690,58691,58692,58693,58694,58695,58696,58697,58698,58699,58700,58701,58702,58703,58704,58705,58706,58707,58708,58709,58710,58711,58712,58713,58714,58715,58716,58717,58718,58719,58720,58721,58722,58723,58724,63,58725,58726,58727,58728,58729,58730,58731,58732,58733,58734,58735,58736,58737,58738,58739,58740,58741,58742,58743,58744,58745,58746,58747,58748,58749,58750,58751,58752,58753,58754,58755,58756,58757,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,59238,59239,59240,59241,59242,59243,9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,59244,59245,12832,12833,12834,12835,12836,12837,12838,12839,12840,12841,59246,59247,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,59248,59249],[58758,58759,58760,58761,58762,58763,58764,58765,58766,58767,58768,58769,58770,58771,58772,58773,58774,58775,58776,58777,58778,58779,58780,58781,58782,58783,58784,58785,58786,58787,58788,58789,58790,58791,58792,58793,58794,58795,58796,58797,58798,58799,58800,58801,58802,58803,58804,58805,58806,58807,58808,58809,58810,58811,58812,58813,58814,58815,58816,58817,58818,58819,58820,63,58821,58822,58823,58824,58825,58826,58827,58828,58829,58830,58831,58832,58833,58834,58835,58836,58837,58838,58839,58840,58841,58842,58843,58844,58845,58846,58847,58848,58849,58850,58851,58852,58853,65281,65282,65283,65509,65285,65286,65287,65288,65289,65290,65291,65292,65293,65294,65295,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65306,65307,65308,65309,65310,65311,65312,65313,65314,65315,65316,65317,65318,65319,65320,65321,65322,65323,65324,65325,65326,65327,65328,65329,65330,65331,65332,65333,65334,65335,65336,65337,65338,65339,65340,65341,65342,65343,65344,65345,65346,65347,65348,65349,65350,65351,65352,65353,65354,65355,65356,65357,65358,65359,65360,65361,65362,65363,65364,65365,65366,65367,65368,65369,65370,65371,65372,65373,65507],[58854,58855,58856,58857,58858,58859,58860,58861,58862,58863,58864,58865,58866,58867,58868,58869,58870,58871,58872,58873,58874,58875,58876,58877,58878,58879,58880,58881,58882,58883,58884,58885,58886,58887,58888,58889,58890,58891,58892,58893,58894,58895,58896,58897,58898,58899,58900,58901,58902,58903,58904,58905,58906,58907,58908,58909,58910,58911,58912,58913,58914,58915,58916,63,58917,58918,58919,58920,58921,58922,58923,58924,58925,58926,58927,58928,58929,58930,58931,58932,58933,58934,58935,58936,58937,58938,58939,58940,58941,58942,58943,58944,58945,58946,58947,58948,58949,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,59250,59251,59252,59253,59254,59255,59256,59257,59258,59259,59260],[58950,58951,58952,58953,58954,58955,58956,58957,58958,58959,58960,58961,58962,58963,58964,58965,58966,58967,58968,58969,58970,58971,58972,58973,58974,58975,58976,58977,58978,58979,58980,58981,58982,58983,58984,58985,58986,58987,58988,58989,58990,58991,58992,58993,58994,58995,58996,58997,58998,58999,59e3,59001,59002,59003,59004,59005,59006,59007,59008,59009,59010,59011,59012,63,59013,59014,59015,59016,59017,59018,59019,59020,59021,59022,59023,59024,59025,59026,59027,59028,59029,59030,59031,59032,59033,59034,59035,59036,59037,59038,59039,59040,59041,59042,59043,59044,59045,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,59261,59262,59263,59264,59265,59266,59267,59268],[59046,59047,59048,59049,59050,59051,59052,59053,59054,59055,59056,59057,59058,59059,59060,59061,59062,59063,59064,59065,59066,59067,59068,59069,59070,59071,59072,59073,59074,59075,59076,59077,59078,59079,59080,59081,59082,59083,59084,59085,59086,59087,59088,59089,59090,59091,59092,59093,59094,59095,59096,59097,59098,59099,59100,59101,59102,59103,59104,59105,59106,59107,59108,63,59109,59110,59111,59112,59113,59114,59115,59116,59117,59118,59119,59120,59121,59122,59123,59124,59125,59126,59127,59128,59129,59130,59131,59132,59133,59134,59135,59136,59137,59138,59139,59140,59141,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,59269,59270,59271,59272,59273,59274,59275,59276,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,59277,59278,59279,59280,59281,59282,59283,65077,65078,65081,65082,65087,65088,65085,65086,65089,65090,65091,65092,59284,59285,65083,65084,65079,65080,65073,59286,65075,65076,59287,59288,59289,59290,59291,59292,59293,59294,59295],[59142,59143,59144,59145,59146,59147,59148,59149,59150,59151,59152,59153,59154,59155,59156,59157,59158,59159,59160,59161,59162,59163,59164,59165,59166,59167,59168,59169,59170,59171,59172,59173,59174,59175,59176,59177,59178,59179,59180,59181,59182,59183,59184,59185,59186,59187,59188,59189,59190,59191,59192,59193,59194,59195,59196,59197,59198,59199,59200,59201,59202,59203,59204,63,59205,59206,59207,59208,59209,59210,59211,59212,59213,59214,59215,59216,59217,59218,59219,59220,59221,59222,59223,59224,59225,59226,59227,59228,59229,59230,59231,59232,59233,59234,59235,59236,59237,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,59296,59297,59298,59299,59300,59301,59302,59303,59304,59305,59306,59307,59308,59309,59310,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,59311,59312,59313,59314,59315,59316,59317,59318,59319,59320,59321,59322,59323],[714,715,729,8211,8213,8229,8245,8453,8457,8598,8599,8600,8601,8725,8735,8739,8786,8806,8807,8895,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9581,9582,9583,9584,9585,9586,9587,9601,9602,9603,9604,9605,9606,9607,63,9608,9609,9610,9611,9612,9613,9614,9615,9619,9620,9621,9660,9661,9698,9699,9700,9701,9737,8853,12306,12317,12318,59324,59325,59326,59327,59328,59329,59330,59331,59332,59333,59334,257,225,462,224,275,233,283,232,299,237,464,236,333,243,466,242,363,250,468,249,470,472,474,476,252,234,593,59335,324,328,59336,609,59337,59338,59339,59340,12549,12550,12551,12552,12553,12554,12555,12556,12557,12558,12559,12560,12561,12562,12563,12564,12565,12566,12567,12568,12569,12570,12571,12572,12573,12574,12575,12576,12577,12578,12579,12580,12581,12582,12583,12584,12585,59341,59342,59343,59344,59345,59346,59347,59348,59349,59350,59351,59352,59353,59354,59355,59356,59357,59358,59359,59360,59361],[12321,12322,12323,12324,12325,12326,12327,12328,12329,12963,13198,13199,13212,13213,13214,13217,13252,13262,13265,13266,13269,65072,65506,65508,59362,8481,12849,59363,8208,59364,59365,59366,12540,12443,12444,12541,12542,12294,12445,12446,65097,65098,65099,65100,65101,65102,65103,65104,65105,65106,65108,65109,65110,65111,65113,65114,65115,65116,65117,65118,65119,65120,65121,63,65122,65123,65124,65125,65126,65128,65129,65130,65131,59367,59368,59369,59370,59371,59372,59373,59374,59375,59376,59377,59378,59379,12295,59380,59381,59382,59383,59384,59385,59386,59387,59388,59389,59390,59391,59392,9472,9473,9474,9475,9476,9477,9478,9479,9480,9481,9482,9483,9484,9485,9486,9487,9488,9489,9490,9491,9492,9493,9494,9495,9496,9497,9498,9499,9500,9501,9502,9503,9504,9505,9506,9507,9508,9509,9510,9511,9512,9513,9514,9515,9516,9517,9518,9519,9520,9521,9522,9523,9524,9525,9526,9527,9528,9529,9530,9531,9532,9533,9534,9535,9536,9537,9538,9539,9540,9541,9542,9543,9544,9545,9546,9547,59393,59394,59395,59396,59397,59398,59399,59400,59401,59402,59403,59404,59405,59406,59407],[29404,29405,29407,29410,29411,29412,29413,29414,29415,29418,29419,29429,29430,29433,29437,29438,29439,29440,29442,29444,29445,29446,29447,29448,29449,29451,29452,29453,29455,29456,29457,29458,29460,29464,29465,29466,29471,29472,29475,29476,29478,29479,29480,29485,29487,29488,29490,29491,29493,29494,29498,29499,29500,29501,29504,29505,29506,29507,29508,29509,29510,29511,29512,63,29513,29514,29515,29516,29518,29519,29521,29523,29524,29525,29526,29528,29529,29530,29531,29532,29533,29534,29535,29537,29538,29539,29540,29541,29542,29543,29544,29545,29546,29547,29550,29552,29553,57344,57345,57346,57347,57348,57349,57350,57351,57352,57353,57354,57355,57356,57357,57358,57359,57360,57361,57362,57363,57364,57365,57366,57367,57368,57369,57370,57371,57372,57373,57374,57375,57376,57377,57378,57379,57380,57381,57382,57383,57384,57385,57386,57387,57388,57389,57390,57391,57392,57393,57394,57395,57396,57397,57398,57399,57400,57401,57402,57403,57404,57405,57406,57407,57408,57409,57410,57411,57412,57413,57414,57415,57416,57417,57418,57419,57420,57421,57422,57423,57424,57425,57426,57427,57428,57429,57430,57431,57432,57433,57434,57435,57436,57437],[29554,29555,29556,29557,29558,29559,29560,29561,29562,29563,29564,29565,29567,29568,29569,29570,29571,29573,29574,29576,29578,29580,29581,29583,29584,29586,29587,29588,29589,29591,29592,29593,29594,29596,29597,29598,29600,29601,29603,29604,29605,29606,29607,29608,29610,29612,29613,29617,29620,29621,29622,29624,29625,29628,29629,29630,29631,29633,29635,29636,29637,29638,29639,63,29643,29644,29646,29650,29651,29652,29653,29654,29655,29656,29658,29659,29660,29661,29663,29665,29666,29667,29668,29670,29672,29674,29675,29676,29678,29679,29680,29681,29683,29684,29685,29686,29687,57438,57439,57440,57441,57442,57443,57444,57445,57446,57447,57448,57449,57450,57451,57452,57453,57454,57455,57456,57457,57458,57459,57460,57461,57462,57463,57464,57465,57466,57467,57468,57469,57470,57471,57472,57473,57474,57475,57476,57477,57478,57479,57480,57481,57482,57483,57484,57485,57486,57487,57488,57489,57490,57491,57492,57493,57494,57495,57496,57497,57498,57499,57500,57501,57502,57503,57504,57505,57506,57507,57508,57509,57510,57511,57512,57513,57514,57515,57516,57517,57518,57519,57520,57521,57522,57523,57524,57525,57526,57527,57528,57529,57530,57531],[29688,29689,29690,29691,29692,29693,29694,29695,29696,29697,29698,29700,29703,29704,29707,29708,29709,29710,29713,29714,29715,29716,29717,29718,29719,29720,29721,29724,29725,29726,29727,29728,29729,29731,29732,29735,29737,29739,29741,29743,29745,29746,29751,29752,29753,29754,29755,29757,29758,29759,29760,29762,29763,29764,29765,29766,29767,29768,29769,29770,29771,29772,29773,63,29774,29775,29776,29777,29778,29779,29780,29782,29784,29789,29792,29793,29794,29795,29796,29797,29798,29799,29800,29801,29802,29803,29804,29806,29807,29809,29810,29811,29812,29813,29816,29817,29818,57532,57533,57534,57535,57536,57537,57538,57539,57540,57541,57542,57543,57544,57545,57546,57547,57548,57549,57550,57551,57552,57553,57554,57555,57556,57557,57558,57559,57560,57561,57562,57563,57564,57565,57566,57567,57568,57569,57570,57571,57572,57573,57574,57575,57576,57577,57578,57579,57580,57581,57582,57583,57584,57585,57586,57587,57588,57589,57590,57591,57592,57593,57594,57595,57596,57597,57598,57599,57600,57601,57602,57603,57604,57605,57606,57607,57608,57609,57610,57611,57612,57613,57614,57615,57616,57617,57618,57619,57620,57621,57622,57623,57624,57625],[29819,29820,29821,29823,29826,29828,29829,29830,29832,29833,29834,29836,29837,29839,29841,29842,29843,29844,29845,29846,29847,29848,29849,29850,29851,29853,29855,29856,29857,29858,29859,29860,29861,29862,29866,29867,29868,29869,29870,29871,29872,29873,29874,29875,29876,29877,29878,29879,29880,29881,29883,29884,29885,29886,29887,29888,29889,29890,29891,29892,29893,29894,29895,63,29896,29897,29898,29899,29900,29901,29902,29903,29904,29905,29907,29908,29909,29910,29911,29912,29913,29914,29915,29917,29919,29921,29925,29927,29928,29929,29930,29931,29932,29933,29936,29937,29938,57626,57627,57628,57629,57630,57631,57632,57633,57634,57635,57636,57637,57638,57639,57640,57641,57642,57643,57644,57645,57646,57647,57648,57649,57650,57651,57652,57653,57654,57655,57656,57657,57658,57659,57660,57661,57662,57663,57664,57665,57666,57667,57668,57669,57670,57671,57672,57673,57674,57675,57676,57677,57678,57679,57680,57681,57682,57683,57684,57685,57686,57687,57688,57689,57690,57691,57692,57693,57694,57695,57696,57697,57698,57699,57700,57701,57702,57703,57704,57705,57706,57707,57708,57709,57710,57711,57712,57713,57714,57715,57716,57717,57718,57719],[29939,29941,29944,29945,29946,29947,29948,29949,29950,29952,29953,29954,29955,29957,29958,29959,29960,29961,29962,29963,29964,29966,29968,29970,29972,29973,29974,29975,29979,29981,29982,29984,29985,29986,29987,29988,29990,29991,29994,29998,30004,30006,30009,30012,30013,30015,30017,30018,30019,30020,30022,30023,30025,30026,30029,30032,30033,30034,30035,30037,30038,30039,30040,63,30045,30046,30047,30048,30049,30050,30051,30052,30055,30056,30057,30059,30060,30061,30062,30063,30064,30065,30067,30069,30070,30071,30074,30075,30076,30077,30078,30080,30081,30082,30084,30085,30087,57720,57721,57722,57723,57724,57725,57726,57727,57728,57729,57730,57731,57732,57733,57734,57735,57736,57737,57738,57739,57740,57741,57742,57743,57744,57745,57746,57747,57748,57749,57750,57751,57752,57753,57754,57755,57756,57757,57758,57759,57760,57761,57762,57763,57764,57765,57766,57767,57768,57769,57770,57771,57772,57773,57774,57775,57776,57777,57778,57779,57780,57781,57782,57783,57784,57785,57786,57787,57788,57789,57790,57791,57792,57793,57794,57795,57796,57797,57798,57799,57800,57801,57802,57803,57804,57805,57806,57807,57808,57809,57810,57811,57812,57813],[30088,30089,30090,30092,30093,30094,30096,30099,30101,30104,30107,30108,30110,30114,30118,30119,30120,30121,30122,30125,30134,30135,30138,30139,30143,30144,30145,30150,30155,30156,30158,30159,30160,30161,30163,30167,30169,30170,30172,30173,30175,30176,30177,30181,30185,30188,30189,30190,30191,30194,30195,30197,30198,30199,30200,30202,30203,30205,30206,30210,30212,30214,30215,63,30216,30217,30219,30221,30222,30223,30225,30226,30227,30228,30230,30234,30236,30237,30238,30241,30243,30247,30248,30252,30254,30255,30257,30258,30262,30263,30265,30266,30267,30269,30273,30274,30276,57814,57815,57816,57817,57818,57819,57820,57821,57822,57823,57824,57825,57826,57827,57828,57829,57830,57831,57832,57833,57834,57835,57836,57837,57838,57839,57840,57841,57842,57843,57844,57845,57846,57847,57848,57849,57850,57851,57852,57853,57854,57855,57856,57857,57858,57859,57860,57861,57862,57863,57864,57865,57866,57867,57868,57869,57870,57871,57872,57873,57874,57875,57876,57877,57878,57879,57880,57881,57882,57883,57884,57885,57886,57887,57888,57889,57890,57891,57892,57893,57894,57895,57896,57897,57898,57899,57900,57901,57902,57903,57904,57905,57906,57907],[30277,30278,30279,30280,30281,30282,30283,30286,30287,30288,30289,30290,30291,30293,30295,30296,30297,30298,30299,30301,30303,30304,30305,30306,30308,30309,30310,30311,30312,30313,30314,30316,30317,30318,30320,30321,30322,30323,30324,30325,30326,30327,30329,30330,30332,30335,30336,30337,30339,30341,30345,30346,30348,30349,30351,30352,30354,30356,30357,30359,30360,30362,30363,63,30364,30365,30366,30367,30368,30369,30370,30371,30373,30374,30375,30376,30377,30378,30379,30380,30381,30383,30384,30387,30389,30390,30391,30392,30393,30394,30395,30396,30397,30398,30400,30401,30403,21834,38463,22467,25384,21710,21769,21696,30353,30284,34108,30702,33406,30861,29233,38552,38797,27688,23433,20474,25353,26263,23736,33018,26696,32942,26114,30414,20985,25942,29100,32753,34948,20658,22885,25034,28595,33453,25420,25170,21485,21543,31494,20843,30116,24052,25300,36299,38774,25226,32793,22365,38712,32610,29240,30333,26575,30334,25670,20336,36133,25308,31255,26001,29677,25644,25203,33324,39041,26495,29256,25198,25292,20276,29923,21322,21150,32458,37030,24110,26758,27036,33152,32465,26834,30917,34444,38225,20621,35876,33502,32990,21253,35090,21093],[30404,30407,30409,30411,30412,30419,30421,30425,30426,30428,30429,30430,30432,30433,30434,30435,30436,30438,30439,30440,30441,30442,30443,30444,30445,30448,30451,30453,30454,30455,30458,30459,30461,30463,30464,30466,30467,30469,30470,30474,30476,30478,30479,30480,30481,30482,30483,30484,30485,30486,30487,30488,30491,30492,30493,30494,30497,30499,30500,30501,30503,30506,30507,63,30508,30510,30512,30513,30514,30515,30516,30521,30523,30525,30526,30527,30530,30532,30533,30534,30536,30537,30538,30539,30540,30541,30542,30543,30546,30547,30548,30549,30550,30551,30552,30553,30556,34180,38649,20445,22561,39281,23453,25265,25253,26292,35961,40077,29190,26479,30865,24754,21329,21271,36744,32972,36125,38049,20493,29384,22791,24811,28953,34987,22868,33519,26412,31528,23849,32503,29997,27893,36454,36856,36924,40763,27604,37145,31508,24444,30887,34006,34109,27605,27609,27606,24065,24199,30201,38381,25949,24330,24517,36767,22721,33218,36991,38491,38829,36793,32534,36140,25153,20415,21464,21342,36776,36777,36779,36941,26631,24426,33176,34920,40150,24971,21035,30250,24428,25996,28626,28392,23486,25672,20853,20912,26564,19993,31177,39292,28851],[30557,30558,30559,30560,30564,30567,30569,30570,30573,30574,30575,30576,30577,30578,30579,30580,30581,30582,30583,30584,30586,30587,30588,30593,30594,30595,30598,30599,30600,30601,30602,30603,30607,30608,30611,30612,30613,30614,30615,30616,30617,30618,30619,30620,30621,30622,30625,30627,30628,30630,30632,30635,30637,30638,30639,30641,30642,30644,30646,30647,30648,30649,30650,63,30652,30654,30656,30657,30658,30659,30660,30661,30662,30663,30664,30665,30666,30667,30668,30670,30671,30672,30673,30674,30675,30676,30677,30678,30680,30681,30682,30685,30686,30687,30688,30689,30692,30149,24182,29627,33760,25773,25320,38069,27874,21338,21187,25615,38082,31636,20271,24091,33334,33046,33162,28196,27850,39539,25429,21340,21754,34917,22496,19981,24067,27493,31807,37096,24598,25830,29468,35009,26448,25165,36130,30572,36393,37319,24425,33756,34081,39184,21442,34453,27531,24813,24808,28799,33485,33329,20179,27815,34255,25805,31961,27133,26361,33609,21397,31574,20391,20876,27979,23618,36461,25554,21449,33580,33590,26597,30900,25661,23519,23700,24046,35815,25286,26612,35962,25600,25530,34633,39307,35863,32544,38130,20135,38416,39076,26124,29462],[30694,30696,30698,30703,30704,30705,30706,30708,30709,30711,30713,30714,30715,30716,30723,30724,30725,30726,30727,30728,30730,30731,30734,30735,30736,30739,30741,30745,30747,30750,30752,30753,30754,30756,30760,30762,30763,30766,30767,30769,30770,30771,30773,30774,30781,30783,30785,30786,30787,30788,30790,30792,30793,30794,30795,30797,30799,30801,30803,30804,30808,30809,30810,63,30811,30812,30814,30815,30816,30817,30818,30819,30820,30821,30822,30823,30824,30825,30831,30832,30833,30834,30835,30836,30837,30838,30840,30841,30842,30843,30845,30846,30847,30848,30849,30850,30851,22330,23581,24120,38271,20607,32928,21378,25950,30021,21809,20513,36229,25220,38046,26397,22066,28526,24034,21557,28818,36710,25199,25764,25507,24443,28552,37108,33251,36784,23576,26216,24561,27785,38472,36225,34924,25745,31216,22478,27225,25104,21576,20056,31243,24809,28548,35802,25215,36894,39563,31204,21507,30196,25345,21273,27744,36831,24347,39536,32827,40831,20360,23610,36196,32709,26021,28861,20805,20914,34411,23815,23456,25277,37228,30068,36364,31264,24833,31609,20167,32504,30597,19985,33261,21021,20986,27249,21416,36487,38148,38607,28353,38500,26970],[30852,30853,30854,30856,30858,30859,30863,30864,30866,30868,30869,30870,30873,30877,30878,30880,30882,30884,30886,30888,30889,30890,30891,30892,30893,30894,30895,30901,30902,30903,30904,30906,30907,30908,30909,30911,30912,30914,30915,30916,30918,30919,30920,30924,30925,30926,30927,30929,30930,30931,30934,30935,30936,30938,30939,30940,30941,30942,30943,30944,30945,30946,30947,63,30948,30949,30950,30951,30953,30954,30955,30957,30958,30959,30960,30961,30963,30965,30966,30968,30969,30971,30972,30973,30974,30975,30976,30978,30979,30980,30982,30983,30984,30985,30986,30987,30988,30784,20648,30679,25616,35302,22788,25571,24029,31359,26941,20256,33337,21912,20018,30126,31383,24162,24202,38383,21019,21561,28810,25462,38180,22402,26149,26943,37255,21767,28147,32431,34850,25139,32496,30133,33576,30913,38604,36766,24904,29943,35789,27492,21050,36176,27425,32874,33905,22257,21254,20174,19995,20945,31895,37259,31751,20419,36479,31713,31388,25703,23828,20652,33030,30209,31929,28140,32736,26449,23384,23544,30923,25774,25619,25514,25387,38169,25645,36798,31572,30249,25171,22823,21574,27513,20643,25140,24102,27526,20195,36151,34955,24453,36910],[30989,30990,30991,30992,30993,30994,30996,30997,30998,30999,31e3,31001,31002,31003,31004,31005,31007,31008,31009,31010,31011,31013,31014,31015,31016,31017,31018,31019,31020,31021,31022,31023,31024,31025,31026,31027,31029,31030,31031,31032,31033,31037,31039,31042,31043,31044,31045,31047,31050,31051,31052,31053,31054,31055,31056,31057,31058,31060,31061,31064,31065,31073,31075,63,31076,31078,31081,31082,31083,31084,31086,31088,31089,31090,31091,31092,31093,31094,31097,31099,31100,31101,31102,31103,31106,31107,31110,31111,31112,31113,31115,31116,31117,31118,31120,31121,31122,24608,32829,25285,20025,21333,37112,25528,32966,26086,27694,20294,24814,28129,35806,24377,34507,24403,25377,20826,33633,26723,20992,25443,36424,20498,23707,31095,23548,21040,31291,24764,36947,30423,24503,24471,30340,36460,28783,30331,31561,30634,20979,37011,22564,20302,28404,36842,25932,31515,29380,28068,32735,23265,25269,24213,22320,33922,31532,24093,24351,36882,32532,39072,25474,28359,30872,28857,20856,38747,22443,30005,20291,30008,24215,24806,22880,28096,27583,30857,21500,38613,20939,20993,25481,21514,38035,35843,36300,29241,30879,34678,36845,35853,21472],[31123,31124,31125,31126,31127,31128,31129,31131,31132,31133,31134,31135,31136,31137,31138,31139,31140,31141,31142,31144,31145,31146,31147,31148,31149,31150,31151,31152,31153,31154,31156,31157,31158,31159,31160,31164,31167,31170,31172,31173,31175,31176,31178,31180,31182,31183,31184,31187,31188,31190,31191,31193,31194,31195,31196,31197,31198,31200,31201,31202,31205,31208,31210,63,31212,31214,31217,31218,31219,31220,31221,31222,31223,31225,31226,31228,31230,31231,31233,31236,31237,31239,31240,31241,31242,31244,31247,31248,31249,31250,31251,31253,31254,31256,31257,31259,31260,19969,30447,21486,38025,39030,40718,38189,23450,35746,20002,19996,20908,33891,25026,21160,26635,20375,24683,20923,27934,20828,25238,26007,38497,35910,36887,30168,37117,30563,27602,29322,29420,35835,22581,30585,36172,26460,38208,32922,24230,28193,22930,31471,30701,38203,27573,26029,32526,22534,20817,38431,23545,22697,21544,36466,25958,39039,22244,38045,30462,36929,25479,21702,22810,22842,22427,36530,26421,36346,33333,21057,24816,22549,34558,23784,40517,20420,39069,35769,23077,24694,21380,25212,36943,37122,39295,24681,32780,20799,32819,23572,39285,27953,20108],[31261,31263,31265,31266,31268,31269,31270,31271,31272,31273,31274,31275,31276,31277,31278,31279,31280,31281,31282,31284,31285,31286,31288,31290,31294,31296,31297,31298,31299,31300,31301,31303,31304,31305,31306,31307,31308,31309,31310,31311,31312,31314,31315,31316,31317,31318,31320,31321,31322,31323,31324,31325,31326,31327,31328,31329,31330,31331,31332,31333,31334,31335,31336,63,31337,31338,31339,31340,31341,31342,31343,31345,31346,31347,31349,31355,31356,31357,31358,31362,31365,31367,31369,31370,31371,31372,31374,31375,31376,31379,31380,31385,31386,31387,31390,31393,31394,36144,21457,32602,31567,20240,20047,38400,27861,29648,34281,24070,30058,32763,27146,30718,38034,32321,20961,28902,21453,36820,33539,36137,29359,39277,27867,22346,33459,26041,32938,25151,38450,22952,20223,35775,32442,25918,33778,38750,21857,39134,32933,21290,35837,21536,32954,24223,27832,36153,33452,37210,21545,27675,20998,32439,22367,28954,27774,31881,22859,20221,24575,24868,31914,20016,23553,26539,34562,23792,38155,39118,30127,28925,36898,20911,32541,35773,22857,20964,20315,21542,22827,25975,32932,23413,25206,25282,36752,24133,27679,31526,20239,20440,26381],[31395,31396,31399,31401,31402,31403,31406,31407,31408,31409,31410,31412,31413,31414,31415,31416,31417,31418,31419,31420,31421,31422,31424,31425,31426,31427,31428,31429,31430,31431,31432,31433,31434,31436,31437,31438,31439,31440,31441,31442,31443,31444,31445,31447,31448,31450,31451,31452,31453,31457,31458,31460,31463,31464,31465,31466,31467,31468,31470,31472,31473,31474,31475,63,31476,31477,31478,31479,31480,31483,31484,31486,31488,31489,31490,31493,31495,31497,31500,31501,31502,31504,31506,31507,31510,31511,31512,31514,31516,31517,31519,31521,31522,31523,31527,31529,31533,28014,28074,31119,34993,24343,29995,25242,36741,20463,37340,26023,33071,33105,24220,33104,36212,21103,35206,36171,22797,20613,20184,38428,29238,33145,36127,23500,35747,38468,22919,32538,21648,22134,22030,35813,25913,27010,38041,30422,28297,24178,29976,26438,26577,31487,32925,36214,24863,31174,25954,36195,20872,21018,38050,32568,32923,32434,23703,28207,26464,31705,30347,39640,33167,32660,31957,25630,38224,31295,21578,21733,27468,25601,25096,40509,33011,30105,21106,38761,33883,26684,34532,38401,38548,38124,20010,21508,32473,26681,36319,32789,26356,24218,32697],[31535,31536,31538,31540,31541,31542,31543,31545,31547,31549,31551,31552,31553,31554,31555,31556,31558,31560,31562,31565,31566,31571,31573,31575,31577,31580,31582,31583,31585,31587,31588,31589,31590,31591,31592,31593,31594,31595,31596,31597,31599,31600,31603,31604,31606,31608,31610,31612,31613,31615,31617,31618,31619,31620,31622,31623,31624,31625,31626,31627,31628,31630,31631,63,31633,31634,31635,31638,31640,31641,31642,31643,31646,31647,31648,31651,31652,31653,31662,31663,31664,31666,31667,31669,31670,31671,31673,31674,31675,31676,31677,31678,31679,31680,31682,31683,31684,22466,32831,26775,24037,25915,21151,24685,40858,20379,36524,20844,23467,24339,24041,27742,25329,36129,20849,38057,21246,27807,33503,29399,22434,26500,36141,22815,36764,33735,21653,31629,20272,27837,23396,22993,40723,21476,34506,39592,35895,32929,25925,39038,22266,38599,21038,29916,21072,23521,25346,35074,20054,25296,24618,26874,20851,23448,20896,35266,31649,39302,32592,24815,28748,36143,20809,24191,36891,29808,35268,22317,30789,24402,40863,38394,36712,39740,35809,30328,26690,26588,36330,36149,21053,36746,28378,26829,38149,37101,22269,26524,35065,36807,21704],[31685,31688,31689,31690,31691,31693,31694,31695,31696,31698,31700,31701,31702,31703,31704,31707,31708,31710,31711,31712,31714,31715,31716,31719,31720,31721,31723,31724,31725,31727,31728,31730,31731,31732,31733,31734,31736,31737,31738,31739,31741,31743,31744,31745,31746,31747,31748,31749,31750,31752,31753,31754,31757,31758,31760,31761,31762,31763,31764,31765,31767,31768,31769,63,31770,31771,31772,31773,31774,31776,31777,31778,31779,31780,31781,31784,31785,31787,31788,31789,31790,31791,31792,31793,31794,31795,31796,31797,31798,31799,31801,31802,31803,31804,31805,31806,31810,39608,23401,28023,27686,20133,23475,39559,37219,25e3,37039,38889,21547,28085,23506,20989,21898,32597,32752,25788,25421,26097,25022,24717,28938,27735,27721,22831,26477,33322,22741,22158,35946,27627,37085,22909,32791,21495,28009,21621,21917,33655,33743,26680,31166,21644,20309,21512,30418,35977,38402,27827,28088,36203,35088,40548,36154,22079,40657,30165,24456,29408,24680,21756,20136,27178,34913,24658,36720,21700,28888,34425,40511,27946,23439,24344,32418,21897,20399,29492,21564,21402,20505,21518,21628,20046,24573,29786,22774,33899,32993,34676,29392,31946,28246],[31811,31812,31813,31814,31815,31816,31817,31818,31819,31820,31822,31823,31824,31825,31826,31827,31828,31829,31830,31831,31832,31833,31834,31835,31836,31837,31838,31839,31840,31841,31842,31843,31844,31845,31846,31847,31848,31849,31850,31851,31852,31853,31854,31855,31856,31857,31858,31861,31862,31863,31864,31865,31866,31870,31871,31872,31873,31874,31875,31876,31877,31878,31879,63,31880,31882,31883,31884,31885,31886,31887,31888,31891,31892,31894,31897,31898,31899,31904,31905,31907,31910,31911,31912,31913,31915,31916,31917,31919,31920,31924,31925,31926,31927,31928,31930,31931,24359,34382,21804,25252,20114,27818,25143,33457,21719,21326,29502,28369,30011,21010,21270,35805,27088,24458,24576,28142,22351,27426,29615,26707,36824,32531,25442,24739,21796,30186,35938,28949,28067,23462,24187,33618,24908,40644,30970,34647,31783,30343,20976,24822,29004,26179,24140,24653,35854,28784,25381,36745,24509,24674,34516,22238,27585,24724,24935,21321,24800,26214,36159,31229,20250,28905,27719,35763,35826,32472,33636,26127,23130,39746,27985,28151,35905,27963,20249,28779,33719,25110,24785,38669,36135,31096,20987,22334,22522,26426,30072,31293,31215,31637],[31935,31936,31938,31939,31940,31942,31945,31947,31950,31951,31952,31953,31954,31955,31956,31960,31962,31963,31965,31966,31969,31970,31971,31972,31973,31974,31975,31977,31978,31979,31980,31981,31982,31984,31985,31986,31987,31988,31989,31990,31991,31993,31994,31996,31997,31998,31999,32e3,32001,32002,32003,32004,32005,32006,32007,32008,32009,32011,32012,32013,32014,32015,32016,63,32017,32018,32019,32020,32021,32022,32023,32024,32025,32026,32027,32028,32029,32030,32031,32033,32035,32036,32037,32038,32040,32041,32042,32044,32045,32046,32048,32049,32050,32051,32052,32053,32054,32908,39269,36857,28608,35749,40481,23020,32489,32521,21513,26497,26840,36753,31821,38598,21450,24613,30142,27762,21363,23241,32423,25380,20960,33034,24049,34015,25216,20864,23395,20238,31085,21058,24760,27982,23492,23490,35745,35760,26082,24524,38469,22931,32487,32426,22025,26551,22841,20339,23478,21152,33626,39050,36158,30002,38078,20551,31292,20215,26550,39550,23233,27516,30417,22362,23574,31546,38388,29006,20860,32937,33392,22904,32516,33575,26816,26604,30897,30839,25315,25441,31616,20461,21098,20943,33616,27099,37492,36341,36145,35265,38190,31661,20214],[32055,32056,32057,32058,32059,32060,32061,32062,32063,32064,32065,32066,32067,32068,32069,32070,32071,32072,32073,32074,32075,32076,32077,32078,32079,32080,32081,32082,32083,32084,32085,32086,32087,32088,32089,32090,32091,32092,32093,32094,32095,32096,32097,32098,32099,32100,32101,32102,32103,32104,32105,32106,32107,32108,32109,32111,32112,32113,32114,32115,32116,32117,32118,63,32120,32121,32122,32123,32124,32125,32126,32127,32128,32129,32130,32131,32132,32133,32134,32135,32136,32137,32138,32139,32140,32141,32142,32143,32144,32145,32146,32147,32148,32149,32150,32151,32152,20581,33328,21073,39279,28176,28293,28071,24314,20725,23004,23558,27974,27743,30086,33931,26728,22870,35762,21280,37233,38477,34121,26898,30977,28966,33014,20132,37066,27975,39556,23047,22204,25605,38128,30699,20389,33050,29409,35282,39290,32564,32478,21119,25945,37237,36735,36739,21483,31382,25581,25509,30342,31224,34903,38454,25130,21163,33410,26708,26480,25463,30571,31469,27905,32467,35299,22992,25106,34249,33445,30028,20511,20171,30117,35819,23626,24062,31563,26020,37329,20170,27941,35167,32039,38182,20165,35880,36827,38771,26187,31105,36817,28908,28024],[32153,32154,32155,32156,32157,32158,32159,32160,32161,32162,32163,32164,32165,32167,32168,32169,32170,32171,32172,32173,32175,32176,32177,32178,32179,32180,32181,32182,32183,32184,32185,32186,32187,32188,32189,32190,32191,32192,32193,32194,32195,32196,32197,32198,32199,32200,32201,32202,32203,32204,32205,32206,32207,32208,32209,32210,32211,32212,32213,32214,32215,32216,32217,63,32218,32219,32220,32221,32222,32223,32224,32225,32226,32227,32228,32229,32230,32231,32232,32233,32234,32235,32236,32237,32238,32239,32240,32241,32242,32243,32244,32245,32246,32247,32248,32249,32250,23613,21170,33606,20834,33550,30555,26230,40120,20140,24778,31934,31923,32463,20117,35686,26223,39048,38745,22659,25964,38236,24452,30153,38742,31455,31454,20928,28847,31384,25578,31350,32416,29590,38893,20037,28792,20061,37202,21417,25937,26087,33276,33285,21646,23601,30106,38816,25304,29401,30141,23621,39545,33738,23616,21632,30697,20030,27822,32858,25298,25454,24040,20855,36317,36382,38191,20465,21477,24807,28844,21095,25424,40515,23071,20518,30519,21367,32482,25733,25899,25225,25496,20500,29237,35273,20915,35776,32477,22343,33740,38055,20891,21531,23803],[32251,32252,32253,32254,32255,32256,32257,32258,32259,32260,32261,32262,32263,32264,32265,32266,32267,32268,32269,32270,32271,32272,32273,32274,32275,32276,32277,32278,32279,32280,32281,32282,32283,32284,32285,32286,32287,32288,32289,32290,32291,32292,32293,32294,32295,32296,32297,32298,32299,32300,32301,32302,32303,32304,32305,32306,32307,32308,32309,32310,32311,32312,32313,63,32314,32316,32317,32318,32319,32320,32322,32323,32324,32325,32326,32328,32329,32330,32331,32332,32333,32334,32335,32336,32337,32338,32339,32340,32341,32342,32343,32344,32345,32346,32347,32348,32349,20426,31459,27994,37089,39567,21888,21654,21345,21679,24320,25577,26999,20975,24936,21002,22570,21208,22350,30733,30475,24247,24951,31968,25179,25239,20130,28821,32771,25335,28900,38752,22391,33499,26607,26869,30933,39063,31185,22771,21683,21487,28212,20811,21051,23458,35838,32943,21827,22438,24691,22353,21549,31354,24656,23380,25511,25248,21475,25187,23495,26543,21741,31391,33510,37239,24211,35044,22840,22446,25358,36328,33007,22359,31607,20393,24555,23485,27454,21281,31568,29378,26694,30719,30518,26103,20917,20111,30420,23743,31397,33909,22862,39745,20608],[32350,32351,32352,32353,32354,32355,32356,32357,32358,32359,32360,32361,32362,32363,32364,32365,32366,32367,32368,32369,32370,32371,32372,32373,32374,32375,32376,32377,32378,32379,32380,32381,32382,32383,32384,32385,32387,32388,32389,32390,32391,32392,32393,32394,32395,32396,32397,32398,32399,32400,32401,32402,32403,32404,32405,32406,32407,32408,32409,32410,32412,32413,32414,63,32430,32436,32443,32444,32470,32484,32492,32505,32522,32528,32542,32567,32569,32571,32572,32573,32574,32575,32576,32577,32579,32582,32583,32584,32585,32586,32587,32588,32589,32590,32591,32594,32595,39304,24871,28291,22372,26118,25414,22256,25324,25193,24275,38420,22403,25289,21895,34593,33098,36771,21862,33713,26469,36182,34013,23146,26639,25318,31726,38417,20848,28572,35888,25597,35272,25042,32518,28866,28389,29701,27028,29436,24266,37070,26391,28010,25438,21171,29282,32769,20332,23013,37226,28889,28061,21202,20048,38647,38253,34174,30922,32047,20769,22418,25794,32907,31867,27882,26865,26974,20919,21400,26792,29313,40654,31729,29432,31163,28435,29702,26446,37324,40100,31036,33673,33620,21519,26647,20029,21385,21169,30782,21382,21033,20616,20363,20432],[32598,32601,32603,32604,32605,32606,32608,32611,32612,32613,32614,32615,32619,32620,32621,32623,32624,32627,32629,32630,32631,32632,32634,32635,32636,32637,32639,32640,32642,32643,32644,32645,32646,32647,32648,32649,32651,32653,32655,32656,32657,32658,32659,32661,32662,32663,32664,32665,32667,32668,32672,32674,32675,32677,32678,32680,32681,32682,32683,32684,32685,32686,32689,63,32691,32692,32693,32694,32695,32698,32699,32702,32704,32706,32707,32708,32710,32711,32712,32713,32715,32717,32719,32720,32721,32722,32723,32726,32727,32729,32730,32731,32732,32733,32734,32738,32739,30178,31435,31890,27813,38582,21147,29827,21737,20457,32852,33714,36830,38256,24265,24604,28063,24088,25947,33080,38142,24651,28860,32451,31918,20937,26753,31921,33391,20004,36742,37327,26238,20142,35845,25769,32842,20698,30103,29134,23525,36797,28518,20102,25730,38243,24278,26009,21015,35010,28872,21155,29454,29747,26519,30967,38678,20020,37051,40158,28107,20955,36161,21533,25294,29618,33777,38646,40836,38083,20278,32666,20940,28789,38517,23725,39046,21478,20196,28316,29705,27060,30827,39311,30041,21016,30244,27969,26611,20845,40857,32843,21657,31548,31423],[32740,32743,32744,32746,32747,32748,32749,32751,32754,32756,32757,32758,32759,32760,32761,32762,32765,32766,32767,32770,32775,32776,32777,32778,32782,32783,32785,32787,32794,32795,32797,32798,32799,32801,32803,32804,32811,32812,32813,32814,32815,32816,32818,32820,32825,32826,32828,32830,32832,32833,32836,32837,32839,32840,32841,32846,32847,32848,32849,32851,32853,32854,32855,63,32857,32859,32860,32861,32862,32863,32864,32865,32866,32867,32868,32869,32870,32871,32872,32875,32876,32877,32878,32879,32880,32882,32883,32884,32885,32886,32887,32888,32889,32890,32891,32892,32893,38534,22404,25314,38471,27004,23044,25602,31699,28431,38475,33446,21346,39045,24208,28809,25523,21348,34383,40065,40595,30860,38706,36335,36162,40575,28510,31108,24405,38470,25134,39540,21525,38109,20387,26053,23653,23649,32533,34385,27695,24459,29575,28388,32511,23782,25371,23402,28390,21365,20081,25504,30053,25249,36718,20262,20177,27814,32438,35770,33821,34746,32599,36923,38179,31657,39585,35064,33853,27931,39558,32476,22920,40635,29595,30721,34434,39532,39554,22043,21527,22475,20080,40614,21334,36808,33033,30610,39314,34542,28385,34067,26364,24930,28459],[32894,32897,32898,32901,32904,32906,32909,32910,32911,32912,32913,32914,32916,32917,32919,32921,32926,32931,32934,32935,32936,32940,32944,32947,32949,32950,32952,32953,32955,32965,32967,32968,32969,32970,32971,32975,32976,32977,32978,32979,32980,32981,32984,32991,32992,32994,32995,32998,33006,33013,33015,33017,33019,33022,33023,33024,33025,33027,33028,33029,33031,33032,33035,63,33036,33045,33047,33049,33051,33052,33053,33055,33056,33057,33058,33059,33060,33061,33062,33063,33064,33065,33066,33067,33069,33070,33072,33075,33076,33077,33079,33081,33082,33083,33084,33085,33087,35881,33426,33579,30450,27667,24537,33725,29483,33541,38170,27611,30683,38086,21359,33538,20882,24125,35980,36152,20040,29611,26522,26757,37238,38665,29028,27809,30473,23186,38209,27599,32654,26151,23504,22969,23194,38376,38391,20204,33804,33945,27308,30431,38192,29467,26790,23391,30511,37274,38753,31964,36855,35868,24357,31859,31192,35269,27852,34588,23494,24130,26825,30496,32501,20885,20813,21193,23081,32517,38754,33495,25551,30596,34256,31186,28218,24217,22937,34065,28781,27665,25279,30399,25935,24751,38397,26126,34719,40483,38125,21517,21629,35884,25720],[33088,33089,33090,33091,33092,33093,33095,33097,33101,33102,33103,33106,33110,33111,33112,33115,33116,33117,33118,33119,33121,33122,33123,33124,33126,33128,33130,33131,33132,33135,33138,33139,33141,33142,33143,33144,33153,33155,33156,33157,33158,33159,33161,33163,33164,33165,33166,33168,33170,33171,33172,33173,33174,33175,33177,33178,33182,33183,33184,33185,33186,33188,33189,63,33191,33193,33195,33196,33197,33198,33199,33200,33201,33202,33204,33205,33206,33207,33208,33209,33212,33213,33214,33215,33220,33221,33223,33224,33225,33227,33229,33230,33231,33232,33233,33234,33235,25721,34321,27169,33180,30952,25705,39764,25273,26411,33707,22696,40664,27819,28448,23518,38476,35851,29279,26576,25287,29281,20137,22982,27597,22675,26286,24149,21215,24917,26408,30446,30566,29287,31302,25343,21738,21584,38048,37027,23068,32435,27670,20035,22902,32784,22856,21335,30007,38590,22218,25376,33041,24700,38393,28118,21602,39297,20869,23273,33021,22958,38675,20522,27877,23612,25311,20320,21311,33147,36870,28346,34091,25288,24180,30910,25781,25467,24565,23064,37247,40479,23615,25423,32834,23421,21870,38218,38221,28037,24744,26592,29406,20957,23425],[33236,33237,33238,33239,33240,33241,33242,33243,33244,33245,33246,33247,33248,33249,33250,33252,33253,33254,33256,33257,33259,33262,33263,33264,33265,33266,33269,33270,33271,33272,33273,33274,33277,33279,33283,33287,33288,33289,33290,33291,33294,33295,33297,33299,33301,33302,33303,33304,33305,33306,33309,33312,33316,33317,33318,33319,33321,33326,33330,33338,33340,33341,33343,63,33344,33345,33346,33347,33349,33350,33352,33354,33356,33357,33358,33360,33361,33362,33363,33364,33365,33366,33367,33369,33371,33372,33373,33374,33376,33377,33378,33379,33380,33381,33382,33383,33385,25319,27870,29275,25197,38062,32445,33043,27987,20892,24324,22900,21162,24594,22899,26262,34384,30111,25386,25062,31983,35834,21734,27431,40485,27572,34261,21589,20598,27812,21866,36276,29228,24085,24597,29750,25293,25490,29260,24472,28227,27966,25856,28504,30424,30928,30460,30036,21028,21467,20051,24222,26049,32810,32982,25243,21638,21032,28846,34957,36305,27873,21624,32986,22521,35060,36180,38506,37197,20329,27803,21943,30406,30768,25256,28921,28558,24429,34028,26842,30844,31735,33192,26379,40527,25447,30896,22383,30738,38713,25209,25259,21128,29749,27607],[33386,33387,33388,33389,33393,33397,33398,33399,33400,33403,33404,33408,33409,33411,33413,33414,33415,33417,33420,33424,33427,33428,33429,33430,33434,33435,33438,33440,33442,33443,33447,33458,33461,33462,33466,33467,33468,33471,33472,33474,33475,33477,33478,33481,33488,33494,33497,33498,33501,33506,33511,33512,33513,33514,33516,33517,33518,33520,33522,33523,33525,33526,33528,63,33530,33532,33533,33534,33535,33536,33546,33547,33549,33552,33554,33555,33558,33560,33561,33565,33566,33567,33568,33569,33570,33571,33572,33573,33574,33577,33578,33582,33584,33586,33591,33595,33597,21860,33086,30130,30382,21305,30174,20731,23617,35692,31687,20559,29255,39575,39128,28418,29922,31080,25735,30629,25340,39057,36139,21697,32856,20050,22378,33529,33805,24179,20973,29942,35780,23631,22369,27900,39047,23110,30772,39748,36843,31893,21078,25169,38138,20166,33670,33889,33769,33970,22484,26420,22275,26222,28006,35889,26333,28689,26399,27450,26646,25114,22971,19971,20932,28422,26578,27791,20854,26827,22855,27495,30054,23822,33040,40784,26071,31048,31041,39569,36215,23682,20062,20225,21551,22865,30732,22120,27668,36804,24323,27773,27875,35755,25488],[33598,33599,33601,33602,33604,33605,33608,33610,33611,33612,33613,33614,33619,33621,33622,33623,33624,33625,33629,33634,33648,33649,33650,33651,33652,33653,33654,33657,33658,33662,33663,33664,33665,33666,33667,33668,33671,33672,33674,33675,33676,33677,33679,33680,33681,33684,33685,33686,33687,33689,33690,33693,33695,33697,33698,33699,33700,33701,33702,33703,33708,33709,33710,63,33711,33717,33723,33726,33727,33730,33731,33732,33734,33736,33737,33739,33741,33742,33744,33745,33746,33747,33749,33751,33753,33754,33755,33758,33762,33763,33764,33766,33767,33768,33771,33772,33773,24688,27965,29301,25190,38030,38085,21315,36801,31614,20191,35878,20094,40660,38065,38067,21069,28508,36963,27973,35892,22545,23884,27424,27465,26538,21595,33108,32652,22681,34103,24378,25250,27207,38201,25970,24708,26725,30631,20052,20392,24039,38808,25772,32728,23789,20431,31373,20999,33540,19988,24623,31363,38054,20405,20146,31206,29748,21220,33465,25810,31165,23517,27777,38738,36731,27682,20542,21375,28165,25806,26228,27696,24773,39031,35831,24198,29756,31351,31179,19992,37041,29699,27714,22234,37195,27845,36235,21306,34502,26354,36527,23624,39537,28192],[33774,33775,33779,33780,33781,33782,33783,33786,33787,33788,33790,33791,33792,33794,33797,33799,33800,33801,33802,33808,33810,33811,33812,33813,33814,33815,33817,33818,33819,33822,33823,33824,33825,33826,33827,33833,33834,33835,33836,33837,33838,33839,33840,33842,33843,33844,33845,33846,33847,33849,33850,33851,33854,33855,33856,33857,33858,33859,33860,33861,33863,33864,33865,63,33866,33867,33868,33869,33870,33871,33872,33874,33875,33876,33877,33878,33880,33885,33886,33887,33888,33890,33892,33893,33894,33895,33896,33898,33902,33903,33904,33906,33908,33911,33913,33915,33916,21462,23094,40843,36259,21435,22280,39079,26435,37275,27849,20840,30154,25331,29356,21048,21149,32570,28820,30264,21364,40522,27063,30830,38592,35033,32676,28982,29123,20873,26579,29924,22756,25880,22199,35753,39286,25200,32469,24825,28909,22764,20161,20154,24525,38887,20219,35748,20995,22922,32427,25172,20173,26085,25102,33592,33993,33635,34701,29076,28342,23481,32466,20887,25545,26580,32905,33593,34837,20754,23418,22914,36785,20083,27741,20837,35109,36719,38446,34122,29790,38160,38384,28070,33509,24369,25746,27922,33832,33134,40131,22622,36187,19977,21441],[33917,33918,33919,33920,33921,33923,33924,33925,33926,33930,33933,33935,33936,33937,33938,33939,33940,33941,33942,33944,33946,33947,33949,33950,33951,33952,33954,33955,33956,33957,33958,33959,33960,33961,33962,33963,33964,33965,33966,33968,33969,33971,33973,33974,33975,33979,33980,33982,33984,33986,33987,33989,33990,33991,33992,33995,33996,33998,33999,34002,34004,34005,34007,63,34008,34009,34010,34011,34012,34014,34017,34018,34020,34023,34024,34025,34026,34027,34029,34030,34031,34033,34034,34035,34036,34037,34038,34039,34040,34041,34042,34043,34045,34046,34048,34049,34050,20254,25955,26705,21971,20007,25620,39578,25195,23234,29791,33394,28073,26862,20711,33678,30722,26432,21049,27801,32433,20667,21861,29022,31579,26194,29642,33515,26441,23665,21024,29053,34923,38378,38485,25797,36193,33203,21892,27733,25159,32558,22674,20260,21830,36175,26188,19978,23578,35059,26786,25422,31245,28903,33421,21242,38902,23569,21736,37045,32461,22882,36170,34503,33292,33293,36198,25668,23556,24913,28041,31038,35774,30775,30003,21627,20280,36523,28145,23072,32453,31070,27784,23457,23158,29978,32958,24910,28183,22768,29983,29989,29298,21319,32499],[34051,34052,34053,34054,34055,34056,34057,34058,34059,34061,34062,34063,34064,34066,34068,34069,34070,34072,34073,34075,34076,34077,34078,34080,34082,34083,34084,34085,34086,34087,34088,34089,34090,34093,34094,34095,34096,34097,34098,34099,34100,34101,34102,34110,34111,34112,34113,34114,34116,34117,34118,34119,34123,34124,34125,34126,34127,34128,34129,34130,34131,34132,34133,63,34135,34136,34138,34139,34140,34141,34143,34144,34145,34146,34147,34149,34150,34151,34153,34154,34155,34156,34157,34158,34159,34160,34161,34163,34165,34166,34167,34168,34172,34173,34175,34176,34177,30465,30427,21097,32988,22307,24072,22833,29422,26045,28287,35799,23608,34417,21313,30707,25342,26102,20160,39135,34432,23454,35782,21490,30690,20351,23630,39542,22987,24335,31034,22763,19990,26623,20107,25325,35475,36893,21183,26159,21980,22124,36866,20181,20365,37322,39280,27663,24066,24643,23460,35270,35797,25910,25163,39318,23432,23551,25480,21806,21463,30246,20861,34092,26530,26803,27530,25234,36755,21460,33298,28113,30095,20070,36174,23408,29087,34223,26257,26329,32626,34560,40653,40736,23646,26415,36848,26641,26463,25101,31446,22661,24246,25968,28465],[34178,34179,34182,34184,34185,34186,34187,34188,34189,34190,34192,34193,34194,34195,34196,34197,34198,34199,34200,34201,34202,34205,34206,34207,34208,34209,34210,34211,34213,34214,34215,34217,34219,34220,34221,34225,34226,34227,34228,34229,34230,34232,34234,34235,34236,34237,34238,34239,34240,34242,34243,34244,34245,34246,34247,34248,34250,34251,34252,34253,34254,34257,34258,63,34260,34262,34263,34264,34265,34266,34267,34269,34270,34271,34272,34273,34274,34275,34277,34278,34279,34280,34282,34283,34284,34285,34286,34287,34288,34289,34290,34291,34292,34293,34294,34295,34296,24661,21047,32781,25684,34928,29993,24069,26643,25332,38684,21452,29245,35841,27700,30561,31246,21550,30636,39034,33308,35828,30805,26388,28865,26031,25749,22070,24605,31169,21496,19997,27515,32902,23546,21987,22235,20282,20284,39282,24051,26494,32824,24578,39042,36865,23435,35772,35829,25628,33368,25822,22013,33487,37221,20439,32032,36895,31903,20723,22609,28335,23487,35785,32899,37240,33948,31639,34429,38539,38543,32485,39635,30862,23681,31319,36930,38567,31071,23385,25439,31499,34001,26797,21766,32553,29712,32034,38145,25152,22604,20182,23427,22905,22612],[34297,34298,34300,34301,34302,34304,34305,34306,34307,34308,34310,34311,34312,34313,34314,34315,34316,34317,34318,34319,34320,34322,34323,34324,34325,34327,34328,34329,34330,34331,34332,34333,34334,34335,34336,34337,34338,34339,34340,34341,34342,34344,34346,34347,34348,34349,34350,34351,34352,34353,34354,34355,34356,34357,34358,34359,34361,34362,34363,34365,34366,34367,34368,63,34369,34370,34371,34372,34373,34374,34375,34376,34377,34378,34379,34380,34386,34387,34389,34390,34391,34392,34393,34395,34396,34397,34399,34400,34401,34403,34404,34405,34406,34407,34408,34409,34410,29549,25374,36427,36367,32974,33492,25260,21488,27888,37214,22826,24577,27760,22349,25674,36138,30251,28393,22363,27264,30192,28525,35885,35848,22374,27631,34962,30899,25506,21497,28845,27748,22616,25642,22530,26848,33179,21776,31958,20504,36538,28108,36255,28907,25487,28059,28372,32486,33796,26691,36867,28120,38518,35752,22871,29305,34276,33150,30140,35466,26799,21076,36386,38161,25552,39064,36420,21884,20307,26367,22159,24789,28053,21059,23625,22825,28155,22635,3e4,29980,24684,33300,33094,25361,26465,36834,30522,36339,36148,38081,24086,21381,21548,28867],[34413,34415,34416,34418,34419,34420,34421,34422,34423,34424,34435,34436,34437,34438,34439,34440,34441,34446,34447,34448,34449,34450,34452,34454,34455,34456,34457,34458,34459,34462,34463,34464,34465,34466,34469,34470,34475,34477,34478,34482,34483,34487,34488,34489,34491,34492,34493,34494,34495,34497,34498,34499,34501,34504,34508,34509,34514,34515,34517,34518,34519,34522,34524,63,34525,34528,34529,34530,34531,34533,34534,34535,34536,34538,34539,34540,34543,34549,34550,34551,34554,34555,34556,34557,34559,34561,34564,34565,34566,34571,34572,34574,34575,34576,34577,34580,34582,27712,24311,20572,20141,24237,25402,33351,36890,26704,37230,30643,21516,38108,24420,31461,26742,25413,31570,32479,30171,20599,25237,22836,36879,20984,31171,31361,22270,24466,36884,28034,23648,22303,21520,20820,28237,22242,25512,39059,33151,34581,35114,36864,21534,23663,33216,25302,25176,33073,40501,38464,39534,39548,26925,22949,25299,21822,25366,21703,34521,27964,23043,29926,34972,27498,22806,35916,24367,28286,29609,39037,20024,28919,23436,30871,25405,26202,30358,24779,23451,23113,19975,33109,27754,29579,20129,26505,32593,24448,26106,26395,24536,22916,23041],[34585,34587,34589,34591,34592,34596,34598,34599,34600,34602,34603,34604,34605,34607,34608,34610,34611,34613,34614,34616,34617,34618,34620,34621,34624,34625,34626,34627,34628,34629,34630,34634,34635,34637,34639,34640,34641,34642,34644,34645,34646,34648,34650,34651,34652,34653,34654,34655,34657,34658,34662,34663,34664,34665,34666,34667,34668,34669,34671,34673,34674,34675,34677,63,34679,34680,34681,34682,34687,34688,34689,34692,34694,34695,34697,34698,34700,34702,34703,34704,34705,34706,34708,34709,34710,34712,34713,34714,34715,34716,34717,34718,34720,34721,34722,34723,34724,24013,24494,21361,38886,36829,26693,22260,21807,24799,20026,28493,32500,33479,33806,22996,20255,20266,23614,32428,26410,34074,21619,30031,32963,21890,39759,20301,28205,35859,23561,24944,21355,30239,28201,34442,25991,38395,32441,21563,31283,32010,38382,21985,32705,29934,25373,34583,28065,31389,25105,26017,21351,25569,27779,24043,21596,38056,20044,27745,35820,23627,26080,33436,26791,21566,21556,27595,27494,20116,25410,21320,33310,20237,20398,22366,25098,38654,26212,29289,21247,21153,24735,35823,26132,29081,26512,35199,30802,30717,26224,22075,21560,38177,29306],[34725,34726,34727,34729,34730,34734,34736,34737,34738,34740,34742,34743,34744,34745,34747,34748,34750,34751,34753,34754,34755,34756,34757,34759,34760,34761,34764,34765,34766,34767,34768,34772,34773,34774,34775,34776,34777,34778,34780,34781,34782,34783,34785,34786,34787,34788,34790,34791,34792,34793,34795,34796,34797,34799,34800,34801,34802,34803,34804,34805,34806,34807,34808,63,34810,34811,34812,34813,34815,34816,34817,34818,34820,34821,34822,34823,34824,34825,34827,34828,34829,34830,34831,34832,34833,34834,34836,34839,34840,34841,34842,34844,34845,34846,34847,34848,34851,31232,24687,24076,24713,33181,22805,24796,29060,28911,28330,27728,29312,27268,34989,24109,20064,23219,21916,38115,27927,31995,38553,25103,32454,30606,34430,21283,38686,36758,26247,23777,20384,29421,19979,21414,22799,21523,25472,38184,20808,20185,40092,32420,21688,36132,34900,33335,38386,28046,24358,23244,26174,38505,29616,29486,21439,33146,39301,32673,23466,38519,38480,32447,30456,21410,38262,39321,31665,35140,28248,20065,32724,31077,35814,24819,21709,20139,39033,24055,27233,20687,21521,35937,33831,30813,38660,21066,21742,22179,38144,28040,23477,28102,26195],[34852,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34867,34868,34869,34870,34871,34872,34874,34875,34877,34878,34879,34881,34882,34883,34886,34887,34888,34889,34890,34891,34894,34895,34896,34897,34898,34899,34901,34902,34904,34906,34907,34908,34909,34910,34911,34912,34918,34919,34922,34925,34927,34929,34931,34932,34933,34934,34936,34937,34938,63,34939,34940,34944,34947,34950,34951,34953,34954,34956,34958,34959,34960,34961,34963,34964,34965,34967,34968,34969,34970,34971,34973,34974,34975,34976,34977,34979,34981,34982,34983,34984,34985,34986,23567,23389,26657,32918,21880,31505,25928,26964,20123,27463,34638,38795,21327,25375,25658,37034,26012,32961,35856,20889,26800,21368,34809,25032,27844,27899,35874,23633,34218,33455,38156,27427,36763,26032,24571,24515,20449,34885,26143,33125,29481,24826,20852,21009,22411,24418,37026,34892,37266,24184,26447,24615,22995,20804,20982,33016,21256,27769,38596,29066,20241,20462,32670,26429,21957,38152,31168,34966,32483,22687,25100,38656,34394,22040,39035,24464,35768,33988,37207,21465,26093,24207,30044,24676,32110,23167,32490,32493,36713,21927,23459,24748,26059,29572],[34988,34990,34991,34992,34994,34995,34996,34997,34998,35e3,35001,35002,35003,35005,35006,35007,35008,35011,35012,35015,35016,35018,35019,35020,35021,35023,35024,35025,35027,35030,35031,35034,35035,35036,35037,35038,35040,35041,35046,35047,35049,35050,35051,35052,35053,35054,35055,35058,35061,35062,35063,35066,35067,35069,35071,35072,35073,35075,35076,35077,35078,35079,35080,63,35081,35083,35084,35085,35086,35087,35089,35092,35093,35094,35095,35096,35100,35101,35102,35103,35104,35106,35107,35108,35110,35111,35112,35113,35116,35117,35118,35119,35121,35122,35123,35125,35127,36873,30307,30505,32474,38772,34203,23398,31348,38634,34880,21195,29071,24490,26092,35810,23547,39535,24033,27529,27739,35757,35759,36874,36805,21387,25276,40486,40493,21568,20011,33469,29273,34460,23830,34905,28079,38597,21713,20122,35766,28937,21693,38409,28895,28153,30416,20005,30740,34578,23721,24310,35328,39068,38414,28814,27839,22852,25513,30524,34893,28436,33395,22576,29141,21388,30746,38593,21761,24422,28976,23476,35866,39564,27523,22830,40495,31207,26472,25196,20335,30113,32650,27915,38451,27687,20208,30162,20859,26679,28478,36992,33136,22934,29814],[35128,35129,35130,35131,35132,35133,35134,35135,35136,35138,35139,35141,35142,35143,35144,35145,35146,35147,35148,35149,35150,35151,35152,35153,35154,35155,35156,35157,35158,35159,35160,35161,35162,35163,35164,35165,35168,35169,35170,35171,35172,35173,35175,35176,35177,35178,35179,35180,35181,35182,35183,35184,35185,35186,35187,35188,35189,35190,35191,35192,35193,35194,35196,63,35197,35198,35200,35202,35204,35205,35207,35208,35209,35210,35211,35212,35213,35214,35215,35216,35217,35218,35219,35220,35221,35222,35223,35224,35225,35226,35227,35228,35229,35230,35231,35232,35233,25671,23591,36965,31377,35875,23002,21676,33280,33647,35201,32768,26928,22094,32822,29239,37326,20918,20063,39029,25494,19994,21494,26355,33099,22812,28082,19968,22777,21307,25558,38129,20381,20234,34915,39056,22839,36951,31227,20202,33008,30097,27778,23452,23016,24413,26885,34433,20506,24050,20057,30691,20197,33402,25233,26131,37009,23673,20159,24441,33222,36920,32900,30123,20134,35028,24847,27589,24518,20041,30410,28322,35811,35758,35850,35793,24322,32764,32716,32462,33589,33643,22240,27575,38899,38452,23035,21535,38134,28139,23493,39278,23609,24341,38544],[35234,35235,35236,35237,35238,35239,35240,35241,35242,35243,35244,35245,35246,35247,35248,35249,35250,35251,35252,35253,35254,35255,35256,35257,35258,35259,35260,35261,35262,35263,35264,35267,35277,35283,35284,35285,35287,35288,35289,35291,35293,35295,35296,35297,35298,35300,35303,35304,35305,35306,35308,35309,35310,35312,35313,35314,35316,35317,35318,35319,35320,35321,35322,63,35323,35324,35325,35326,35327,35329,35330,35331,35332,35333,35334,35336,35337,35338,35339,35340,35341,35342,35343,35344,35345,35346,35347,35348,35349,35350,35351,35352,35353,35354,35355,35356,35357,21360,33521,27185,23156,40560,24212,32552,33721,33828,33829,33639,34631,36814,36194,30408,24433,39062,30828,26144,21727,25317,20323,33219,30152,24248,38605,36362,34553,21647,27891,28044,27704,24703,21191,29992,24189,20248,24736,24551,23588,30001,37038,38080,29369,27833,28216,37193,26377,21451,21491,20305,37321,35825,21448,24188,36802,28132,20110,30402,27014,34398,24858,33286,20313,20446,36926,40060,24841,28189,28180,38533,20104,23089,38632,19982,23679,31161,23431,35821,32701,29577,22495,33419,37057,21505,36935,21947,23786,24481,24840,27442,29425,32946,35465],[35358,35359,35360,35361,35362,35363,35364,35365,35366,35367,35368,35369,35370,35371,35372,35373,35374,35375,35376,35377,35378,35379,35380,35381,35382,35383,35384,35385,35386,35387,35388,35389,35391,35392,35393,35394,35395,35396,35397,35398,35399,35401,35402,35403,35404,35405,35406,35407,35408,35409,35410,35411,35412,35413,35414,35415,35416,35417,35418,35419,35420,35421,35422,63,35423,35424,35425,35426,35427,35428,35429,35430,35431,35432,35433,35434,35435,35436,35437,35438,35439,35440,35441,35442,35443,35444,35445,35446,35447,35448,35450,35451,35452,35453,35454,35455,35456,28020,23507,35029,39044,35947,39533,40499,28170,20900,20803,22435,34945,21407,25588,36757,22253,21592,22278,29503,28304,32536,36828,33489,24895,24616,38498,26352,32422,36234,36291,38053,23731,31908,26376,24742,38405,32792,20113,37095,21248,38504,20801,36816,34164,37213,26197,38901,23381,21277,30776,26434,26685,21705,28798,23472,36733,20877,22312,21681,25874,26242,36190,36163,33039,33900,36973,31967,20991,34299,26531,26089,28577,34468,36481,22122,36896,30338,28790,29157,36131,25321,21017,27901,36156,24590,22686,24974,26366,36192,25166,21939,28195,26413,36711],[35457,35458,35459,35460,35461,35462,35463,35464,35467,35468,35469,35470,35471,35472,35473,35474,35476,35477,35478,35479,35480,35481,35482,35483,35484,35485,35486,35487,35488,35489,35490,35491,35492,35493,35494,35495,35496,35497,35498,35499,35500,35501,35502,35503,35504,35505,35506,35507,35508,35509,35510,35511,35512,35513,35514,35515,35516,35517,35518,35519,35520,35521,35522,63,35523,35524,35525,35526,35527,35528,35529,35530,35531,35532,35533,35534,35535,35536,35537,35538,35539,35540,35541,35542,35543,35544,35545,35546,35547,35548,35549,35550,35551,35552,35553,35554,35555,38113,38392,30504,26629,27048,21643,20045,28856,35784,25688,25995,23429,31364,20538,23528,30651,27617,35449,31896,27838,30415,26025,36759,23853,23637,34360,26632,21344,25112,31449,28251,32509,27167,31456,24432,28467,24352,25484,28072,26454,19976,24080,36134,20183,32960,30260,38556,25307,26157,25214,27836,36213,29031,32617,20806,32903,21484,36974,25240,21746,34544,36761,32773,38167,34071,36825,27993,29645,26015,30495,29956,30759,33275,36126,38024,20390,26517,30137,35786,38663,25391,38215,38453,33976,25379,30529,24449,29424,20105,24596,25972,25327,27491,25919],[35556,35557,35558,35559,35560,35561,35562,35563,35564,35565,35566,35567,35568,35569,35570,35571,35572,35573,35574,35575,35576,35577,35578,35579,35580,35581,35582,35583,35584,35585,35586,35587,35588,35589,35590,35592,35593,35594,35595,35596,35597,35598,35599,35600,35601,35602,35603,35604,35605,35606,35607,35608,35609,35610,35611,35612,35613,35614,35615,35616,35617,35618,35619,63,35620,35621,35623,35624,35625,35626,35627,35628,35629,35630,35631,35632,35633,35634,35635,35636,35637,35638,35639,35640,35641,35642,35643,35644,35645,35646,35647,35648,35649,35650,35651,35652,35653,24103,30151,37073,35777,33437,26525,25903,21553,34584,30693,32930,33026,27713,20043,32455,32844,30452,26893,27542,25191,20540,20356,22336,25351,27490,36286,21482,26088,32440,24535,25370,25527,33267,33268,32622,24092,23769,21046,26234,31209,31258,36136,28825,30164,28382,27835,31378,20013,30405,24544,38047,34935,32456,31181,32959,37325,20210,20247,33311,21608,24030,27954,35788,31909,36724,32920,24090,21650,30385,23449,26172,39588,29664,26666,34523,26417,29482,35832,35803,36880,31481,28891,29038,25284,30633,22065,20027,33879,26609,21161,34496,36142,38136,31569],[35654,35655,35656,35657,35658,35659,35660,35661,35662,35663,35664,35665,35666,35667,35668,35669,35670,35671,35672,35673,35674,35675,35676,35677,35678,35679,35680,35681,35682,35683,35684,35685,35687,35688,35689,35690,35691,35693,35694,35695,35696,35697,35698,35699,35700,35701,35702,35703,35704,35705,35706,35707,35708,35709,35710,35711,35712,35713,35714,35715,35716,35717,35718,63,35719,35720,35721,35722,35723,35724,35725,35726,35727,35728,35729,35730,35731,35732,35733,35734,35735,35736,35737,35738,35739,35740,35741,35742,35743,35756,35761,35771,35783,35792,35818,35849,35870,20303,27880,31069,39547,25235,29226,25341,19987,30742,36716,25776,36186,31686,26729,24196,35013,22918,25758,22766,29366,26894,38181,36861,36184,22368,32512,35846,20934,25417,25305,21331,26700,29730,33537,37196,21828,30528,28796,27978,20857,21672,36164,23039,28363,28100,23388,32043,20180,31869,28371,23376,33258,28173,23383,39683,26837,36394,23447,32508,24635,32437,37049,36208,22863,25549,31199,36275,21330,26063,31062,35781,38459,32452,38075,32386,22068,37257,26368,32618,23562,36981,26152,24038,20304,26590,20570,20316,22352,24231,59408,59409,59410,59411,59412],[35896,35897,35898,35899,35900,35901,35902,35903,35904,35906,35907,35908,35909,35912,35914,35915,35917,35918,35919,35920,35921,35922,35923,35924,35926,35927,35928,35929,35931,35932,35933,35934,35935,35936,35939,35940,35941,35942,35943,35944,35945,35948,35949,35950,35951,35952,35953,35954,35956,35957,35958,35959,35963,35964,35965,35966,35967,35968,35969,35971,35972,35974,35975,63,35976,35979,35981,35982,35983,35984,35985,35986,35987,35989,35990,35991,35993,35994,35995,35996,35997,35998,35999,36e3,36001,36002,36003,36004,36005,36006,36007,36008,36009,36010,36011,36012,36013,20109,19980,20800,19984,24319,21317,19989,20120,19998,39730,23404,22121,20008,31162,20031,21269,20039,22829,29243,21358,27664,22239,32996,39319,27603,30590,40727,20022,20127,40720,20060,20073,20115,33416,23387,21868,22031,20164,21389,21405,21411,21413,21422,38757,36189,21274,21493,21286,21294,21310,36188,21350,21347,20994,21e3,21006,21037,21043,21055,21056,21068,21086,21089,21084,33967,21117,21122,21121,21136,21139,20866,32596,20155,20163,20169,20162,20200,20193,20203,20190,20251,20211,20258,20324,20213,20261,20263,20233,20267,20318,20327,25912,20314,20317],[36014,36015,36016,36017,36018,36019,36020,36021,36022,36023,36024,36025,36026,36027,36028,36029,36030,36031,36032,36033,36034,36035,36036,36037,36038,36039,36040,36041,36042,36043,36044,36045,36046,36047,36048,36049,36050,36051,36052,36053,36054,36055,36056,36057,36058,36059,36060,36061,36062,36063,36064,36065,36066,36067,36068,36069,36070,36071,36072,36073,36074,36075,36076,63,36077,36078,36079,36080,36081,36082,36083,36084,36085,36086,36087,36088,36089,36090,36091,36092,36093,36094,36095,36096,36097,36098,36099,36100,36101,36102,36103,36104,36105,36106,36107,36108,36109,20319,20311,20274,20285,20342,20340,20369,20361,20355,20367,20350,20347,20394,20348,20396,20372,20454,20456,20458,20421,20442,20451,20444,20433,20447,20472,20521,20556,20467,20524,20495,20526,20525,20478,20508,20492,20517,20520,20606,20547,20565,20552,20558,20588,20603,20645,20647,20649,20666,20694,20742,20717,20716,20710,20718,20743,20747,20189,27709,20312,20325,20430,40864,27718,31860,20846,24061,40649,39320,20865,22804,21241,21261,35335,21264,20971,22809,20821,20128,20822,20147,34926,34980,20149,33044,35026,31104,23348,34819,32696,20907,20913,20925,20924],[36110,36111,36112,36113,36114,36115,36116,36117,36118,36119,36120,36121,36122,36123,36124,36128,36177,36178,36183,36191,36197,36200,36201,36202,36204,36206,36207,36209,36210,36216,36217,36218,36219,36220,36221,36222,36223,36224,36226,36227,36230,36231,36232,36233,36236,36237,36238,36239,36240,36242,36243,36245,36246,36247,36248,36249,36250,36251,36252,36253,36254,36256,36257,63,36258,36260,36261,36262,36263,36264,36265,36266,36267,36268,36269,36270,36271,36272,36274,36278,36279,36281,36283,36285,36288,36289,36290,36293,36295,36296,36297,36298,36301,36304,36306,36307,36308,20935,20886,20898,20901,35744,35750,35751,35754,35764,35765,35767,35778,35779,35787,35791,35790,35794,35795,35796,35798,35800,35801,35804,35807,35808,35812,35816,35817,35822,35824,35827,35830,35833,35836,35839,35840,35842,35844,35847,35852,35855,35857,35858,35860,35861,35862,35865,35867,35864,35869,35871,35872,35873,35877,35879,35882,35883,35886,35887,35890,35891,35893,35894,21353,21370,38429,38434,38433,38449,38442,38461,38460,38466,38473,38484,38495,38503,38508,38514,38516,38536,38541,38551,38576,37015,37019,37021,37017,37036,37025,37044,37043,37046,37050],[36309,36312,36313,36316,36320,36321,36322,36325,36326,36327,36329,36333,36334,36336,36337,36338,36340,36342,36348,36350,36351,36352,36353,36354,36355,36356,36358,36359,36360,36363,36365,36366,36368,36369,36370,36371,36373,36374,36375,36376,36377,36378,36379,36380,36384,36385,36388,36389,36390,36391,36392,36395,36397,36400,36402,36403,36404,36406,36407,36408,36411,36412,36414,63,36415,36419,36421,36422,36428,36429,36430,36431,36432,36435,36436,36437,36438,36439,36440,36442,36443,36444,36445,36446,36447,36448,36449,36450,36451,36452,36453,36455,36456,36458,36459,36462,36465,37048,37040,37071,37061,37054,37072,37060,37063,37075,37094,37090,37084,37079,37083,37099,37103,37118,37124,37154,37150,37155,37169,37167,37177,37187,37190,21005,22850,21154,21164,21165,21182,21759,21200,21206,21232,21471,29166,30669,24308,20981,20988,39727,21430,24321,30042,24047,22348,22441,22433,22654,22716,22725,22737,22313,22316,22314,22323,22329,22318,22319,22364,22331,22338,22377,22405,22379,22406,22396,22395,22376,22381,22390,22387,22445,22436,22412,22450,22479,22439,22452,22419,22432,22485,22488,22490,22489,22482,22456,22516,22511,22520,22500,22493],[36467,36469,36471,36472,36473,36474,36475,36477,36478,36480,36482,36483,36484,36486,36488,36489,36490,36491,36492,36493,36494,36497,36498,36499,36501,36502,36503,36504,36505,36506,36507,36509,36511,36512,36513,36514,36515,36516,36517,36518,36519,36520,36521,36522,36525,36526,36528,36529,36531,36532,36533,36534,36535,36536,36537,36539,36540,36541,36542,36543,36544,36545,36546,63,36547,36548,36549,36550,36551,36552,36553,36554,36555,36556,36557,36559,36560,36561,36562,36563,36564,36565,36566,36567,36568,36569,36570,36571,36572,36573,36574,36575,36576,36577,36578,36579,36580,22539,22541,22525,22509,22528,22558,22553,22596,22560,22629,22636,22657,22665,22682,22656,39336,40729,25087,33401,33405,33407,33423,33418,33448,33412,33422,33425,33431,33433,33451,33464,33470,33456,33480,33482,33507,33432,33463,33454,33483,33484,33473,33449,33460,33441,33450,33439,33476,33486,33444,33505,33545,33527,33508,33551,33543,33500,33524,33490,33496,33548,33531,33491,33553,33562,33542,33556,33557,33504,33493,33564,33617,33627,33628,33544,33682,33596,33588,33585,33691,33630,33583,33615,33607,33603,33631,33600,33559,33632,33581,33594,33587,33638,33637],[36581,36582,36583,36584,36585,36586,36587,36588,36589,36590,36591,36592,36593,36594,36595,36596,36597,36598,36599,36600,36601,36602,36603,36604,36605,36606,36607,36608,36609,36610,36611,36612,36613,36614,36615,36616,36617,36618,36619,36620,36621,36622,36623,36624,36625,36626,36627,36628,36629,36630,36631,36632,36633,36634,36635,36636,36637,36638,36639,36640,36641,36642,36643,63,36644,36645,36646,36647,36648,36649,36650,36651,36652,36653,36654,36655,36656,36657,36658,36659,36660,36661,36662,36663,36664,36665,36666,36667,36668,36669,36670,36671,36672,36673,36674,36675,36676,33640,33563,33641,33644,33642,33645,33646,33712,33656,33715,33716,33696,33706,33683,33692,33669,33660,33718,33705,33661,33720,33659,33688,33694,33704,33722,33724,33729,33793,33765,33752,22535,33816,33803,33757,33789,33750,33820,33848,33809,33798,33748,33759,33807,33795,33784,33785,33770,33733,33728,33830,33776,33761,33884,33873,33882,33881,33907,33927,33928,33914,33929,33912,33852,33862,33897,33910,33932,33934,33841,33901,33985,33997,34e3,34022,33981,34003,33994,33983,33978,34016,33953,33977,33972,33943,34021,34019,34060,29965,34104,34032,34105,34079,34106],[36677,36678,36679,36680,36681,36682,36683,36684,36685,36686,36687,36688,36689,36690,36691,36692,36693,36694,36695,36696,36697,36698,36699,36700,36701,36702,36703,36704,36705,36706,36707,36708,36709,36714,36736,36748,36754,36765,36768,36769,36770,36772,36773,36774,36775,36778,36780,36781,36782,36783,36786,36787,36788,36789,36791,36792,36794,36795,36796,36799,36800,36803,36806,63,36809,36810,36811,36812,36813,36815,36818,36822,36823,36826,36832,36833,36835,36839,36844,36847,36849,36850,36852,36853,36854,36858,36859,36860,36862,36863,36871,36872,36876,36878,36883,36885,36888,34134,34107,34047,34044,34137,34120,34152,34148,34142,34170,30626,34115,34162,34171,34212,34216,34183,34191,34169,34222,34204,34181,34233,34231,34224,34259,34241,34268,34303,34343,34309,34345,34326,34364,24318,24328,22844,22849,32823,22869,22874,22872,21263,23586,23589,23596,23604,25164,25194,25247,25275,25290,25306,25303,25326,25378,25334,25401,25419,25411,25517,25590,25457,25466,25486,25524,25453,25516,25482,25449,25518,25532,25586,25592,25568,25599,25540,25566,25550,25682,25542,25534,25669,25665,25611,25627,25632,25612,25638,25633,25694,25732,25709,25750],[36889,36892,36899,36900,36901,36903,36904,36905,36906,36907,36908,36912,36913,36914,36915,36916,36919,36921,36922,36925,36927,36928,36931,36933,36934,36936,36937,36938,36939,36940,36942,36948,36949,36950,36953,36954,36956,36957,36958,36959,36960,36961,36964,36966,36967,36969,36970,36971,36972,36975,36976,36977,36978,36979,36982,36983,36984,36985,36986,36987,36988,36990,36993,63,36996,36997,36998,36999,37001,37002,37004,37005,37006,37007,37008,37010,37012,37014,37016,37018,37020,37022,37023,37024,37028,37029,37031,37032,37033,37035,37037,37042,37047,37052,37053,37055,37056,25722,25783,25784,25753,25786,25792,25808,25815,25828,25826,25865,25893,25902,24331,24530,29977,24337,21343,21489,21501,21481,21480,21499,21522,21526,21510,21579,21586,21587,21588,21590,21571,21537,21591,21593,21539,21554,21634,21652,21623,21617,21604,21658,21659,21636,21622,21606,21661,21712,21677,21698,21684,21714,21671,21670,21715,21716,21618,21667,21717,21691,21695,21708,21721,21722,21724,21673,21674,21668,21725,21711,21726,21787,21735,21792,21757,21780,21747,21794,21795,21775,21777,21799,21802,21863,21903,21941,21833,21869,21825,21845,21823,21840,21820],[37058,37059,37062,37064,37065,37067,37068,37069,37074,37076,37077,37078,37080,37081,37082,37086,37087,37088,37091,37092,37093,37097,37098,37100,37102,37104,37105,37106,37107,37109,37110,37111,37113,37114,37115,37116,37119,37120,37121,37123,37125,37126,37127,37128,37129,37130,37131,37132,37133,37134,37135,37136,37137,37138,37139,37140,37141,37142,37143,37144,37146,37147,37148,63,37149,37151,37152,37153,37156,37157,37158,37159,37160,37161,37162,37163,37164,37165,37166,37168,37170,37171,37172,37173,37174,37175,37176,37178,37179,37180,37181,37182,37183,37184,37185,37186,37188,21815,21846,21877,21878,21879,21811,21808,21852,21899,21970,21891,21937,21945,21896,21889,21919,21886,21974,21905,21883,21983,21949,21950,21908,21913,21994,22007,21961,22047,21969,21995,21996,21972,21990,21981,21956,21999,21989,22002,22003,21964,21965,21992,22005,21988,36756,22046,22024,22028,22017,22052,22051,22014,22016,22055,22061,22104,22073,22103,22060,22093,22114,22105,22108,22092,22100,22150,22116,22129,22123,22139,22140,22149,22163,22191,22228,22231,22237,22241,22261,22251,22265,22271,22276,22282,22281,22300,24079,24089,24084,24081,24113,24123,24124],[37189,37191,37192,37201,37203,37204,37205,37206,37208,37209,37211,37212,37215,37216,37222,37223,37224,37227,37229,37235,37242,37243,37244,37248,37249,37250,37251,37252,37254,37256,37258,37262,37263,37267,37268,37269,37270,37271,37272,37273,37276,37277,37278,37279,37280,37281,37284,37285,37286,37287,37288,37289,37291,37292,37296,37297,37298,37299,37302,37303,37304,37305,37307,63,37308,37309,37310,37311,37312,37313,37314,37315,37316,37317,37318,37320,37323,37328,37330,37331,37332,37333,37334,37335,37336,37337,37338,37339,37341,37342,37343,37344,37345,37346,37347,37348,37349,24119,24132,24148,24155,24158,24161,23692,23674,23693,23696,23702,23688,23704,23705,23697,23706,23708,23733,23714,23741,23724,23723,23729,23715,23745,23735,23748,23762,23780,23755,23781,23810,23811,23847,23846,23854,23844,23838,23814,23835,23896,23870,23860,23869,23916,23899,23919,23901,23915,23883,23882,23913,23924,23938,23961,23965,35955,23991,24005,24435,24439,24450,24455,24457,24460,24469,24473,24476,24488,24493,24501,24508,34914,24417,29357,29360,29364,29367,29368,29379,29377,29390,29389,29394,29416,29423,29417,29426,29428,29431,29441,29427,29443,29434],[37350,37351,37352,37353,37354,37355,37356,37357,37358,37359,37360,37361,37362,37363,37364,37365,37366,37367,37368,37369,37370,37371,37372,37373,37374,37375,37376,37377,37378,37379,37380,37381,37382,37383,37384,37385,37386,37387,37388,37389,37390,37391,37392,37393,37394,37395,37396,37397,37398,37399,37400,37401,37402,37403,37404,37405,37406,37407,37408,37409,37410,37411,37412,63,37413,37414,37415,37416,37417,37418,37419,37420,37421,37422,37423,37424,37425,37426,37427,37428,37429,37430,37431,37432,37433,37434,37435,37436,37437,37438,37439,37440,37441,37442,37443,37444,37445,29435,29463,29459,29473,29450,29470,29469,29461,29474,29497,29477,29484,29496,29489,29520,29517,29527,29536,29548,29551,29566,33307,22821,39143,22820,22786,39267,39271,39272,39273,39274,39275,39276,39284,39287,39293,39296,39300,39303,39306,39309,39312,39313,39315,39316,39317,24192,24209,24203,24214,24229,24224,24249,24245,24254,24243,36179,24274,24273,24283,24296,24298,33210,24516,24521,24534,24527,24579,24558,24580,24545,24548,24574,24581,24582,24554,24557,24568,24601,24629,24614,24603,24591,24589,24617,24619,24586,24639,24609,24696,24697,24699,24698,24642],[37446,37447,37448,37449,37450,37451,37452,37453,37454,37455,37456,37457,37458,37459,37460,37461,37462,37463,37464,37465,37466,37467,37468,37469,37470,37471,37472,37473,37474,37475,37476,37477,37478,37479,37480,37481,37482,37483,37484,37485,37486,37487,37488,37489,37490,37491,37493,37494,37495,37496,37497,37498,37499,37500,37501,37502,37503,37504,37505,37506,37507,37508,37509,63,37510,37511,37512,37513,37514,37515,37516,37517,37519,37520,37521,37522,37523,37524,37525,37526,37527,37528,37529,37530,37531,37532,37533,37534,37535,37536,37537,37538,37539,37540,37541,37542,37543,24682,24701,24726,24730,24749,24733,24707,24722,24716,24731,24812,24763,24753,24797,24792,24774,24794,24756,24864,24870,24853,24867,24820,24832,24846,24875,24906,24949,25004,24980,24999,25015,25044,25077,24541,38579,38377,38379,38385,38387,38389,38390,38396,38398,38403,38404,38406,38408,38410,38411,38412,38413,38415,38418,38421,38422,38423,38425,38426,20012,29247,25109,27701,27732,27740,27722,27811,27781,27792,27796,27788,27752,27753,27764,27766,27782,27817,27856,27860,27821,27895,27896,27889,27863,27826,27872,27862,27898,27883,27886,27825,27859,27887,27902],[37544,37545,37546,37547,37548,37549,37551,37552,37553,37554,37555,37556,37557,37558,37559,37560,37561,37562,37563,37564,37565,37566,37567,37568,37569,37570,37571,37572,37573,37574,37575,37577,37578,37579,37580,37581,37582,37583,37584,37585,37586,37587,37588,37589,37590,37591,37592,37593,37594,37595,37596,37597,37598,37599,37600,37601,37602,37603,37604,37605,37606,37607,37608,63,37609,37610,37611,37612,37613,37614,37615,37616,37617,37618,37619,37620,37621,37622,37623,37624,37625,37626,37627,37628,37629,37630,37631,37632,37633,37634,37635,37636,37637,37638,37639,37640,37641,27961,27943,27916,27971,27976,27911,27908,27929,27918,27947,27981,27950,27957,27930,27983,27986,27988,27955,28049,28015,28062,28064,27998,28051,28052,27996,28e3,28028,28003,28186,28103,28101,28126,28174,28095,28128,28177,28134,28125,28121,28182,28075,28172,28078,28203,28270,28238,28267,28338,28255,28294,28243,28244,28210,28197,28228,28383,28337,28312,28384,28461,28386,28325,28327,28349,28347,28343,28375,28340,28367,28303,28354,28319,28514,28486,28487,28452,28437,28409,28463,28470,28491,28532,28458,28425,28457,28553,28557,28556,28536,28530,28540,28538,28625],[37642,37643,37644,37645,37646,37647,37648,37649,37650,37651,37652,37653,37654,37655,37656,37657,37658,37659,37660,37661,37662,37663,37664,37665,37666,37667,37668,37669,37670,37671,37672,37673,37674,37675,37676,37677,37678,37679,37680,37681,37682,37683,37684,37685,37686,37687,37688,37689,37690,37691,37692,37693,37695,37696,37697,37698,37699,37700,37701,37702,37703,37704,37705,63,37706,37707,37708,37709,37710,37711,37712,37713,37714,37715,37716,37717,37718,37719,37720,37721,37722,37723,37724,37725,37726,37727,37728,37729,37730,37731,37732,37733,37734,37735,37736,37737,37739,28617,28583,28601,28598,28610,28641,28654,28638,28640,28655,28698,28707,28699,28729,28725,28751,28766,23424,23428,23445,23443,23461,23480,29999,39582,25652,23524,23534,35120,23536,36423,35591,36790,36819,36821,36837,36846,36836,36841,36838,36851,36840,36869,36868,36875,36902,36881,36877,36886,36897,36917,36918,36909,36911,36932,36945,36946,36944,36968,36952,36962,36955,26297,36980,36989,36994,37e3,36995,37003,24400,24407,24406,24408,23611,21675,23632,23641,23409,23651,23654,32700,24362,24361,24365,33396,24380,39739,23662,22913,22915,22925,22953,22954,22947],[37740,37741,37742,37743,37744,37745,37746,37747,37748,37749,37750,37751,37752,37753,37754,37755,37756,37757,37758,37759,37760,37761,37762,37763,37764,37765,37766,37767,37768,37769,37770,37771,37772,37773,37774,37776,37777,37778,37779,37780,37781,37782,37783,37784,37785,37786,37787,37788,37789,37790,37791,37792,37793,37794,37795,37796,37797,37798,37799,37800,37801,37802,37803,63,37804,37805,37806,37807,37808,37809,37810,37811,37812,37813,37814,37815,37816,37817,37818,37819,37820,37821,37822,37823,37824,37825,37826,37827,37828,37829,37830,37831,37832,37833,37835,37836,37837,22935,22986,22955,22942,22948,22994,22962,22959,22999,22974,23045,23046,23005,23048,23011,23e3,23033,23052,23049,23090,23092,23057,23075,23059,23104,23143,23114,23125,23100,23138,23157,33004,23210,23195,23159,23162,23230,23275,23218,23250,23252,23224,23264,23267,23281,23254,23270,23256,23260,23305,23319,23318,23346,23351,23360,23573,23580,23386,23397,23411,23377,23379,23394,39541,39543,39544,39546,39551,39549,39552,39553,39557,39560,39562,39568,39570,39571,39574,39576,39579,39580,39581,39583,39584,39586,39587,39589,39591,32415,32417,32419,32421,32424,32425],[37838,37839,37840,37841,37842,37843,37844,37845,37847,37848,37849,37850,37851,37852,37853,37854,37855,37856,37857,37858,37859,37860,37861,37862,37863,37864,37865,37866,37867,37868,37869,37870,37871,37872,37873,37874,37875,37876,37877,37878,37879,37880,37881,37882,37883,37884,37885,37886,37887,37888,37889,37890,37891,37892,37893,37894,37895,37896,37897,37898,37899,37900,37901,63,37902,37903,37904,37905,37906,37907,37908,37909,37910,37911,37912,37913,37914,37915,37916,37917,37918,37919,37920,37921,37922,37923,37924,37925,37926,37927,37928,37929,37930,37931,37932,37933,37934,32429,32432,32446,32448,32449,32450,32457,32459,32460,32464,32468,32471,32475,32480,32481,32488,32491,32494,32495,32497,32498,32525,32502,32506,32507,32510,32513,32514,32515,32519,32520,32523,32524,32527,32529,32530,32535,32537,32540,32539,32543,32545,32546,32547,32548,32549,32550,32551,32554,32555,32556,32557,32559,32560,32561,32562,32563,32565,24186,30079,24027,30014,37013,29582,29585,29614,29602,29599,29647,29634,29649,29623,29619,29632,29641,29640,29669,29657,39036,29706,29673,29671,29662,29626,29682,29711,29738,29787,29734,29733,29736,29744,29742,29740],[37935,37936,37937,37938,37939,37940,37941,37942,37943,37944,37945,37946,37947,37948,37949,37951,37952,37953,37954,37955,37956,37957,37958,37959,37960,37961,37962,37963,37964,37965,37966,37967,37968,37969,37970,37971,37972,37973,37974,37975,37976,37977,37978,37979,37980,37981,37982,37983,37984,37985,37986,37987,37988,37989,37990,37991,37992,37993,37994,37996,37997,37998,37999,63,38e3,38001,38002,38003,38004,38005,38006,38007,38008,38009,38010,38011,38012,38013,38014,38015,38016,38017,38018,38019,38020,38033,38038,38040,38087,38095,38099,38100,38106,38118,38139,38172,38176,29723,29722,29761,29788,29783,29781,29785,29815,29805,29822,29852,29838,29824,29825,29831,29835,29854,29864,29865,29840,29863,29906,29882,38890,38891,38892,26444,26451,26462,26440,26473,26533,26503,26474,26483,26520,26535,26485,26536,26526,26541,26507,26487,26492,26608,26633,26584,26634,26601,26544,26636,26585,26549,26586,26547,26589,26624,26563,26552,26594,26638,26561,26621,26674,26675,26720,26721,26702,26722,26692,26724,26755,26653,26709,26726,26689,26727,26688,26686,26698,26697,26665,26805,26767,26740,26743,26771,26731,26818,26990,26876,26911,26912,26873],[38183,38195,38205,38211,38216,38219,38229,38234,38240,38254,38260,38261,38263,38264,38265,38266,38267,38268,38269,38270,38272,38273,38274,38275,38276,38277,38278,38279,38280,38281,38282,38283,38284,38285,38286,38287,38288,38289,38290,38291,38292,38293,38294,38295,38296,38297,38298,38299,38300,38301,38302,38303,38304,38305,38306,38307,38308,38309,38310,38311,38312,38313,38314,63,38315,38316,38317,38318,38319,38320,38321,38322,38323,38324,38325,38326,38327,38328,38329,38330,38331,38332,38333,38334,38335,38336,38337,38338,38339,38340,38341,38342,38343,38344,38345,38346,38347,26916,26864,26891,26881,26967,26851,26896,26993,26937,26976,26946,26973,27012,26987,27008,27032,27e3,26932,27084,27015,27016,27086,27017,26982,26979,27001,27035,27047,27067,27051,27053,27092,27057,27073,27082,27103,27029,27104,27021,27135,27183,27117,27159,27160,27237,27122,27204,27198,27296,27216,27227,27189,27278,27257,27197,27176,27224,27260,27281,27280,27305,27287,27307,29495,29522,27521,27522,27527,27524,27538,27539,27533,27546,27547,27553,27562,36715,36717,36721,36722,36723,36725,36726,36728,36727,36729,36730,36732,36734,36737,36738,36740,36743,36747],[38348,38349,38350,38351,38352,38353,38354,38355,38356,38357,38358,38359,38360,38361,38362,38363,38364,38365,38366,38367,38368,38369,38370,38371,38372,38373,38374,38375,38380,38399,38407,38419,38424,38427,38430,38432,38435,38436,38437,38438,38439,38440,38441,38443,38444,38445,38447,38448,38455,38456,38457,38458,38462,38465,38467,38474,38478,38479,38481,38482,38483,38486,38487,63,38488,38489,38490,38492,38493,38494,38496,38499,38501,38502,38507,38509,38510,38511,38512,38513,38515,38520,38521,38522,38523,38524,38525,38526,38527,38528,38529,38530,38531,38532,38535,38537,38538,36749,36750,36751,36760,36762,36558,25099,25111,25115,25119,25122,25121,25125,25124,25132,33255,29935,29940,29951,29967,29969,29971,25908,26094,26095,26096,26122,26137,26482,26115,26133,26112,28805,26359,26141,26164,26161,26166,26165,32774,26207,26196,26177,26191,26198,26209,26199,26231,26244,26252,26279,26269,26302,26331,26332,26342,26345,36146,36147,36150,36155,36157,36160,36165,36166,36168,36169,36167,36173,36181,36185,35271,35274,35275,35276,35278,35279,35280,35281,29294,29343,29277,29286,29295,29310,29311,29316,29323,29325,29327,29330,25352,25394,25520],[38540,38542,38545,38546,38547,38549,38550,38554,38555,38557,38558,38559,38560,38561,38562,38563,38564,38565,38566,38568,38569,38570,38571,38572,38573,38574,38575,38577,38578,38580,38581,38583,38584,38586,38587,38591,38594,38595,38600,38602,38603,38608,38609,38611,38612,38614,38615,38616,38617,38618,38619,38620,38621,38622,38623,38625,38626,38627,38628,38629,38630,38631,38635,63,38636,38637,38638,38640,38641,38642,38644,38645,38648,38650,38651,38652,38653,38655,38658,38659,38661,38666,38667,38668,38672,38673,38674,38676,38677,38679,38680,38681,38682,38683,38685,38687,38688,25663,25816,32772,27626,27635,27645,27637,27641,27653,27655,27654,27661,27669,27672,27673,27674,27681,27689,27684,27690,27698,25909,25941,25963,29261,29266,29270,29232,34402,21014,32927,32924,32915,32956,26378,32957,32945,32939,32941,32948,32951,32999,33e3,33001,33002,32987,32962,32964,32985,32973,32983,26384,32989,33003,33009,33012,33005,33037,33038,33010,33020,26389,33042,35930,33078,33054,33068,33048,33074,33096,33100,33107,33140,33113,33114,33137,33120,33129,33148,33149,33133,33127,22605,23221,33160,33154,33169,28373,33187,33194,33228,26406,33226,33211],[38689,38690,38691,38692,38693,38694,38695,38696,38697,38699,38700,38702,38703,38705,38707,38708,38709,38710,38711,38714,38715,38716,38717,38719,38720,38721,38722,38723,38724,38725,38726,38727,38728,38729,38730,38731,38732,38733,38734,38735,38736,38737,38740,38741,38743,38744,38746,38748,38749,38751,38755,38756,38758,38759,38760,38762,38763,38764,38765,38766,38767,38768,38769,63,38770,38773,38775,38776,38777,38778,38779,38781,38782,38783,38784,38785,38786,38787,38788,38790,38791,38792,38793,38794,38796,38798,38799,38800,38803,38805,38806,38807,38809,38810,38811,38812,38813,33217,33190,27428,27447,27449,27459,27462,27481,39121,39122,39123,39125,39129,39130,27571,24384,27586,35315,26e3,40785,26003,26044,26054,26052,26051,26060,26062,26066,26070,28800,28828,28822,28829,28859,28864,28855,28843,28849,28904,28874,28944,28947,28950,28975,28977,29043,29020,29032,28997,29042,29002,29048,29050,29080,29107,29109,29096,29088,29152,29140,29159,29177,29213,29224,28780,28952,29030,29113,25150,25149,25155,25160,25161,31035,31040,31046,31049,31067,31068,31059,31066,31074,31063,31072,31087,31079,31098,31109,31114,31130,31143,31155,24529,24528],[38814,38815,38817,38818,38820,38821,38822,38823,38824,38825,38826,38828,38830,38832,38833,38835,38837,38838,38839,38840,38841,38842,38843,38844,38845,38846,38847,38848,38849,38850,38851,38852,38853,38854,38855,38856,38857,38858,38859,38860,38861,38862,38863,38864,38865,38866,38867,38868,38869,38870,38871,38872,38873,38874,38875,38876,38877,38878,38879,38880,38881,38882,38883,63,38884,38885,38888,38894,38895,38896,38897,38898,38900,38903,38904,38905,38906,38907,38908,38909,38910,38911,38912,38913,38914,38915,38916,38917,38918,38919,38920,38921,38922,38923,38924,38925,38926,24636,24669,24666,24679,24641,24665,24675,24747,24838,24845,24925,25001,24989,25035,25041,25094,32896,32895,27795,27894,28156,30710,30712,30720,30729,30743,30744,30737,26027,30765,30748,30749,30777,30778,30779,30751,30780,30757,30764,30755,30761,30798,30829,30806,30807,30758,30800,30791,30796,30826,30875,30867,30874,30855,30876,30881,30883,30898,30905,30885,30932,30937,30921,30956,30962,30981,30964,30995,31012,31006,31028,40859,40697,40699,40700,30449,30468,30477,30457,30471,30472,30490,30498,30489,30509,30502,30517,30520,30544,30545,30535,30531,30554,30568],[38927,38928,38929,38930,38931,38932,38933,38934,38935,38936,38937,38938,38939,38940,38941,38942,38943,38944,38945,38946,38947,38948,38949,38950,38951,38952,38953,38954,38955,38956,38957,38958,38959,38960,38961,38962,38963,38964,38965,38966,38967,38968,38969,38970,38971,38972,38973,38974,38975,38976,38977,38978,38979,38980,38981,38982,38983,38984,38985,38986,38987,38988,38989,63,38990,38991,38992,38993,38994,38995,38996,38997,38998,38999,39e3,39001,39002,39003,39004,39005,39006,39007,39008,39009,39010,39011,39012,39013,39014,39015,39016,39017,39018,39019,39020,39021,39022,30562,30565,30591,30605,30589,30592,30604,30609,30623,30624,30640,30645,30653,30010,30016,30030,30027,30024,30043,30066,30073,30083,32600,32609,32607,35400,32616,32628,32625,32633,32641,32638,30413,30437,34866,38021,38022,38023,38027,38026,38028,38029,38031,38032,38036,38039,38037,38042,38043,38044,38051,38052,38059,38058,38061,38060,38063,38064,38066,38068,38070,38071,38072,38073,38074,38076,38077,38079,38084,38088,38089,38090,38091,38092,38093,38094,38096,38097,38098,38101,38102,38103,38105,38104,38107,38110,38111,38112,38114,38116,38117,38119,38120,38122],[39023,39024,39025,39026,39027,39028,39051,39054,39058,39061,39065,39075,39080,39081,39082,39083,39084,39085,39086,39087,39088,39089,39090,39091,39092,39093,39094,39095,39096,39097,39098,39099,39100,39101,39102,39103,39104,39105,39106,39107,39108,39109,39110,39111,39112,39113,39114,39115,39116,39117,39119,39120,39124,39126,39127,39131,39132,39133,39136,39137,39138,39139,39140,63,39141,39142,39145,39146,39147,39148,39149,39150,39151,39152,39153,39154,39155,39156,39157,39158,39159,39160,39161,39162,39163,39164,39165,39166,39167,39168,39169,39170,39171,39172,39173,39174,39175,38121,38123,38126,38127,38131,38132,38133,38135,38137,38140,38141,38143,38147,38146,38150,38151,38153,38154,38157,38158,38159,38162,38163,38164,38165,38166,38168,38171,38173,38174,38175,38178,38186,38187,38185,38188,38193,38194,38196,38198,38199,38200,38204,38206,38207,38210,38197,38212,38213,38214,38217,38220,38222,38223,38226,38227,38228,38230,38231,38232,38233,38235,38238,38239,38237,38241,38242,38244,38245,38246,38247,38248,38249,38250,38251,38252,38255,38257,38258,38259,38202,30695,30700,38601,31189,31213,31203,31211,31238,23879,31235,31234,31262,31252],[39176,39177,39178,39179,39180,39182,39183,39185,39186,39187,39188,39189,39190,39191,39192,39193,39194,39195,39196,39197,39198,39199,39200,39201,39202,39203,39204,39205,39206,39207,39208,39209,39210,39211,39212,39213,39215,39216,39217,39218,39219,39220,39221,39222,39223,39224,39225,39226,39227,39228,39229,39230,39231,39232,39233,39234,39235,39236,39237,39238,39239,39240,39241,63,39242,39243,39244,39245,39246,39247,39248,39249,39250,39251,39254,39255,39256,39257,39258,39259,39260,39261,39262,39263,39264,39265,39266,39268,39270,39283,39288,39289,39291,39294,39298,39299,39305,31289,31287,31313,40655,39333,31344,30344,30350,30355,30361,30372,29918,29920,29996,40480,40482,40488,40489,40490,40491,40492,40498,40497,40502,40504,40503,40505,40506,40510,40513,40514,40516,40518,40519,40520,40521,40523,40524,40526,40529,40533,40535,40538,40539,40540,40542,40547,40550,40551,40552,40553,40554,40555,40556,40561,40557,40563,30098,30100,30102,30112,30109,30124,30115,30131,30132,30136,30148,30129,30128,30147,30146,30166,30157,30179,30184,30182,30180,30187,30183,30211,30193,30204,30207,30224,30208,30213,30220,30231,30218,30245,30232,30229,30233],[39308,39310,39322,39323,39324,39325,39326,39327,39328,39329,39330,39331,39332,39334,39335,39337,39338,39339,39340,39341,39342,39343,39344,39345,39346,39347,39348,39349,39350,39351,39352,39353,39354,39355,39356,39357,39358,39359,39360,39361,39362,39363,39364,39365,39366,39367,39368,39369,39370,39371,39372,39373,39374,39375,39376,39377,39378,39379,39380,39381,39382,39383,39384,63,39385,39386,39387,39388,39389,39390,39391,39392,39393,39394,39395,39396,39397,39398,39399,39400,39401,39402,39403,39404,39405,39406,39407,39408,39409,39410,39411,39412,39413,39414,39415,39416,39417,30235,30268,30242,30240,30272,30253,30256,30271,30261,30275,30270,30259,30285,30302,30292,30300,30294,30315,30319,32714,31462,31352,31353,31360,31366,31368,31381,31398,31392,31404,31400,31405,31411,34916,34921,34930,34941,34943,34946,34978,35014,34999,35004,35017,35042,35022,35043,35045,35057,35098,35068,35048,35070,35056,35105,35097,35091,35099,35082,35124,35115,35126,35137,35174,35195,30091,32997,30386,30388,30684,32786,32788,32790,32796,32800,32802,32805,32806,32807,32809,32808,32817,32779,32821,32835,32838,32845,32850,32873,32881,35203,39032,39040,39043],[39418,39419,39420,39421,39422,39423,39424,39425,39426,39427,39428,39429,39430,39431,39432,39433,39434,39435,39436,39437,39438,39439,39440,39441,39442,39443,39444,39445,39446,39447,39448,39449,39450,39451,39452,39453,39454,39455,39456,39457,39458,39459,39460,39461,39462,39463,39464,39465,39466,39467,39468,39469,39470,39471,39472,39473,39474,39475,39476,39477,39478,39479,39480,63,39481,39482,39483,39484,39485,39486,39487,39488,39489,39490,39491,39492,39493,39494,39495,39496,39497,39498,39499,39500,39501,39502,39503,39504,39505,39506,39507,39508,39509,39510,39511,39512,39513,39049,39052,39053,39055,39060,39066,39067,39070,39071,39073,39074,39077,39078,34381,34388,34412,34414,34431,34426,34428,34427,34472,34445,34443,34476,34461,34471,34467,34474,34451,34473,34486,34500,34485,34510,34480,34490,34481,34479,34505,34511,34484,34537,34545,34546,34541,34547,34512,34579,34526,34548,34527,34520,34513,34563,34567,34552,34568,34570,34573,34569,34595,34619,34590,34597,34606,34586,34622,34632,34612,34609,34601,34615,34623,34690,34594,34685,34686,34683,34656,34672,34636,34670,34699,34643,34659,34684,34660,34649,34661,34707,34735,34728,34770],[39514,39515,39516,39517,39518,39519,39520,39521,39522,39523,39524,39525,39526,39527,39528,39529,39530,39531,39538,39555,39561,39565,39566,39572,39573,39577,39590,39593,39594,39595,39596,39597,39598,39599,39602,39603,39604,39605,39609,39611,39613,39614,39615,39619,39620,39622,39623,39624,39625,39626,39629,39630,39631,39632,39634,39636,39637,39638,39639,39641,39642,39643,39644,63,39645,39646,39648,39650,39651,39652,39653,39655,39656,39657,39658,39660,39662,39664,39665,39666,39667,39668,39669,39670,39671,39672,39674,39676,39677,39678,39679,39680,39681,39682,39684,39685,39686,34758,34696,34693,34733,34711,34691,34731,34789,34732,34741,34739,34763,34771,34749,34769,34752,34762,34779,34794,34784,34798,34838,34835,34814,34826,34843,34849,34873,34876,32566,32578,32580,32581,33296,31482,31485,31496,31491,31492,31509,31498,31531,31503,31559,31544,31530,31513,31534,31537,31520,31525,31524,31539,31550,31518,31576,31578,31557,31605,31564,31581,31584,31598,31611,31586,31602,31601,31632,31654,31655,31672,31660,31645,31656,31621,31658,31644,31650,31659,31668,31697,31681,31692,31709,31706,31717,31718,31722,31756,31742,31740,31759,31766,31755],[39687,39689,39690,39691,39692,39693,39694,39696,39697,39698,39700,39701,39702,39703,39704,39705,39706,39707,39708,39709,39710,39712,39713,39714,39716,39717,39718,39719,39720,39721,39722,39723,39724,39725,39726,39728,39729,39731,39732,39733,39734,39735,39736,39737,39738,39741,39742,39743,39744,39750,39754,39755,39756,39758,39760,39762,39763,39765,39766,39767,39768,39769,39770,63,39771,39772,39773,39774,39775,39776,39777,39778,39779,39780,39781,39782,39783,39784,39785,39786,39787,39788,39789,39790,39791,39792,39793,39794,39795,39796,39797,39798,39799,39800,39801,39802,39803,31775,31786,31782,31800,31809,31808,33278,33281,33282,33284,33260,34884,33313,33314,33315,33325,33327,33320,33323,33336,33339,33331,33332,33342,33348,33353,33355,33359,33370,33375,33384,34942,34949,34952,35032,35039,35166,32669,32671,32679,32687,32688,32690,31868,25929,31889,31901,31900,31902,31906,31922,31932,31933,31937,31943,31948,31949,31944,31941,31959,31976,33390,26280,32703,32718,32725,32741,32737,32742,32745,32750,32755,31992,32119,32166,32174,32327,32411,40632,40628,36211,36228,36244,36241,36273,36199,36205,35911,35913,37194,37200,37198,37199,37220],[39804,39805,39806,39807,39808,39809,39810,39811,39812,39813,39814,39815,39816,39817,39818,39819,39820,39821,39822,39823,39824,39825,39826,39827,39828,39829,39830,39831,39832,39833,39834,39835,39836,39837,39838,39839,39840,39841,39842,39843,39844,39845,39846,39847,39848,39849,39850,39851,39852,39853,39854,39855,39856,39857,39858,39859,39860,39861,39862,39863,39864,39865,39866,63,39867,39868,39869,39870,39871,39872,39873,39874,39875,39876,39877,39878,39879,39880,39881,39882,39883,39884,39885,39886,39887,39888,39889,39890,39891,39892,39893,39894,39895,39896,39897,39898,39899,37218,37217,37232,37225,37231,37245,37246,37234,37236,37241,37260,37253,37264,37261,37265,37282,37283,37290,37293,37294,37295,37301,37300,37306,35925,40574,36280,36331,36357,36441,36457,36277,36287,36284,36282,36292,36310,36311,36314,36318,36302,36303,36315,36294,36332,36343,36344,36323,36345,36347,36324,36361,36349,36372,36381,36383,36396,36398,36387,36399,36410,36416,36409,36405,36413,36401,36425,36417,36418,36433,36434,36426,36464,36470,36476,36463,36468,36485,36495,36500,36496,36508,36510,35960,35970,35978,35973,35992,35988,26011,35286,35294,35290,35292],[39900,39901,39902,39903,39904,39905,39906,39907,39908,39909,39910,39911,39912,39913,39914,39915,39916,39917,39918,39919,39920,39921,39922,39923,39924,39925,39926,39927,39928,39929,39930,39931,39932,39933,39934,39935,39936,39937,39938,39939,39940,39941,39942,39943,39944,39945,39946,39947,39948,39949,39950,39951,39952,39953,39954,39955,39956,39957,39958,39959,39960,39961,39962,63,39963,39964,39965,39966,39967,39968,39969,39970,39971,39972,39973,39974,39975,39976,39977,39978,39979,39980,39981,39982,39983,39984,39985,39986,39987,39988,39989,39990,39991,39992,39993,39994,39995,35301,35307,35311,35390,35622,38739,38633,38643,38639,38662,38657,38664,38671,38670,38698,38701,38704,38718,40832,40835,40837,40838,40839,40840,40841,40842,40844,40702,40715,40717,38585,38588,38589,38606,38610,30655,38624,37518,37550,37576,37694,37738,37834,37775,37950,37995,40063,40066,40069,40070,40071,40072,31267,40075,40078,40080,40081,40082,40084,40085,40090,40091,40094,40095,40096,40097,40098,40099,40101,40102,40103,40104,40105,40107,40109,40110,40112,40113,40114,40115,40116,40117,40118,40119,40122,40123,40124,40125,40132,40133,40134,40135,40138,40139],[39996,39997,39998,39999,4e4,40001,40002,40003,40004,40005,40006,40007,40008,40009,40010,40011,40012,40013,40014,40015,40016,40017,40018,40019,40020,40021,40022,40023,40024,40025,40026,40027,40028,40029,40030,40031,40032,40033,40034,40035,40036,40037,40038,40039,40040,40041,40042,40043,40044,40045,40046,40047,40048,40049,40050,40051,40052,40053,40054,40055,40056,40057,40058,63,40059,40061,40062,40064,40067,40068,40073,40074,40076,40079,40083,40086,40087,40088,40089,40093,40106,40108,40111,40121,40126,40127,40128,40129,40130,40136,40137,40145,40146,40154,40155,40160,40161,40140,40141,40142,40143,40144,40147,40148,40149,40151,40152,40153,40156,40157,40159,40162,38780,38789,38801,38802,38804,38831,38827,38819,38834,38836,39601,39600,39607,40536,39606,39610,39612,39617,39616,39621,39618,39627,39628,39633,39749,39747,39751,39753,39752,39757,39761,39144,39181,39214,39253,39252,39647,39649,39654,39663,39659,39675,39661,39673,39688,39695,39699,39711,39715,40637,40638,32315,40578,40583,40584,40587,40594,37846,40605,40607,40667,40668,40669,40672,40671,40674,40681,40679,40677,40682,40687,40738,40748,40751,40761,40759,40765,40766,40772],[40163,40164,40165,40166,40167,40168,40169,40170,40171,40172,40173,40174,40175,40176,40177,40178,40179,40180,40181,40182,40183,40184,40185,40186,40187,40188,40189,40190,40191,40192,40193,40194,40195,40196,40197,40198,40199,40200,40201,40202,40203,40204,40205,40206,40207,40208,40209,40210,40211,40212,40213,40214,40215,40216,40217,40218,40219,40220,40221,40222,40223,40224,40225,63,40226,40227,40228,40229,40230,40231,40232,40233,40234,40235,40236,40237,40238,40239,40240,40241,40242,40243,40244,40245,40246,40247,40248,40249,40250,40251,40252,40253,40254,40255,40256,40257,40258,57908,57909,57910,57911,57912,57913,57914,57915,57916,57917,57918,57919,57920,57921,57922,57923,57924,57925,57926,57927,57928,57929,57930,57931,57932,57933,57934,57935,57936,57937,57938,57939,57940,57941,57942,57943,57944,57945,57946,57947,57948,57949,57950,57951,57952,57953,57954,57955,57956,57957,57958,57959,57960,57961,57962,57963,57964,57965,57966,57967,57968,57969,57970,57971,57972,57973,57974,57975,57976,57977,57978,57979,57980,57981,57982,57983,57984,57985,57986,57987,57988,57989,57990,57991,57992,57993,57994,57995,57996,57997,57998,57999,58e3,58001],[40259,40260,40261,40262,40263,40264,40265,40266,40267,40268,40269,40270,40271,40272,40273,40274,40275,40276,40277,40278,40279,40280,40281,40282,40283,40284,40285,40286,40287,40288,40289,40290,40291,40292,40293,40294,40295,40296,40297,40298,40299,40300,40301,40302,40303,40304,40305,40306,40307,40308,40309,40310,40311,40312,40313,40314,40315,40316,40317,40318,40319,40320,40321,63,40322,40323,40324,40325,40326,40327,40328,40329,40330,40331,40332,40333,40334,40335,40336,40337,40338,40339,40340,40341,40342,40343,40344,40345,40346,40347,40348,40349,40350,40351,40352,40353,40354,58002,58003,58004,58005,58006,58007,58008,58009,58010,58011,58012,58013,58014,58015,58016,58017,58018,58019,58020,58021,58022,58023,58024,58025,58026,58027,58028,58029,58030,58031,58032,58033,58034,58035,58036,58037,58038,58039,58040,58041,58042,58043,58044,58045,58046,58047,58048,58049,58050,58051,58052,58053,58054,58055,58056,58057,58058,58059,58060,58061,58062,58063,58064,58065,58066,58067,58068,58069,58070,58071,58072,58073,58074,58075,58076,58077,58078,58079,58080,58081,58082,58083,58084,58085,58086,58087,58088,58089,58090,58091,58092,58093,58094,58095],[40355,40356,40357,40358,40359,40360,40361,40362,40363,40364,40365,40366,40367,40368,40369,40370,40371,40372,40373,40374,40375,40376,40377,40378,40379,40380,40381,40382,40383,40384,40385,40386,40387,40388,40389,40390,40391,40392,40393,40394,40395,40396,40397,40398,40399,40400,40401,40402,40403,40404,40405,40406,40407,40408,40409,40410,40411,40412,40413,40414,40415,40416,40417,63,40418,40419,40420,40421,40422,40423,40424,40425,40426,40427,40428,40429,40430,40431,40432,40433,40434,40435,40436,40437,40438,40439,40440,40441,40442,40443,40444,40445,40446,40447,40448,40449,40450,58096,58097,58098,58099,58100,58101,58102,58103,58104,58105,58106,58107,58108,58109,58110,58111,58112,58113,58114,58115,58116,58117,58118,58119,58120,58121,58122,58123,58124,58125,58126,58127,58128,58129,58130,58131,58132,58133,58134,58135,58136,58137,58138,58139,58140,58141,58142,58143,58144,58145,58146,58147,58148,58149,58150,58151,58152,58153,58154,58155,58156,58157,58158,58159,58160,58161,58162,58163,58164,58165,58166,58167,58168,58169,58170,58171,58172,58173,58174,58175,58176,58177,58178,58179,58180,58181,58182,58183,58184,58185,58186,58187,58188,58189],[40451,40452,40453,40454,40455,40456,40457,40458,40459,40460,40461,40462,40463,40464,40465,40466,40467,40468,40469,40470,40471,40472,40473,40474,40475,40476,40477,40478,40484,40487,40494,40496,40500,40507,40508,40512,40525,40528,40530,40531,40532,40534,40537,40541,40543,40544,40545,40546,40549,40558,40559,40562,40564,40565,40566,40567,40568,40569,40570,40571,40572,40573,40576,63,40577,40579,40580,40581,40582,40585,40586,40588,40589,40590,40591,40592,40593,40596,40597,40598,40599,40600,40601,40602,40603,40604,40606,40608,40609,40610,40611,40612,40613,40615,40616,40617,40618,58190,58191,58192,58193,58194,58195,58196,58197,58198,58199,58200,58201,58202,58203,58204,58205,58206,58207,58208,58209,58210,58211,58212,58213,58214,58215,58216,58217,58218,58219,58220,58221,58222,58223,58224,58225,58226,58227,58228,58229,58230,58231,58232,58233,58234,58235,58236,58237,58238,58239,58240,58241,58242,58243,58244,58245,58246,58247,58248,58249,58250,58251,58252,58253,58254,58255,58256,58257,58258,58259,58260,58261,58262,58263,58264,58265,58266,58267,58268,58269,58270,58271,58272,58273,58274,58275,58276,58277,58278,58279,58280,58281,58282,58283],[40619,40620,40621,40622,40623,40624,40625,40626,40627,40629,40630,40631,40633,40634,40636,40639,40640,40641,40642,40643,40645,40646,40647,40648,40650,40651,40652,40656,40658,40659,40661,40662,40663,40665,40666,40670,40673,40675,40676,40678,40680,40683,40684,40685,40686,40688,40689,40690,40691,40692,40693,40694,40695,40696,40698,40701,40703,40704,40705,40706,40707,40708,40709,63,40710,40711,40712,40713,40714,40716,40719,40721,40722,40724,40725,40726,40728,40730,40731,40732,40733,40734,40735,40737,40739,40740,40741,40742,40743,40744,40745,40746,40747,40749,40750,40752,40753,58284,58285,58286,58287,58288,58289,58290,58291,58292,58293,58294,58295,58296,58297,58298,58299,58300,58301,58302,58303,58304,58305,58306,58307,58308,58309,58310,58311,58312,58313,58314,58315,58316,58317,58318,58319,58320,58321,58322,58323,58324,58325,58326,58327,58328,58329,58330,58331,58332,58333,58334,58335,58336,58337,58338,58339,58340,58341,58342,58343,58344,58345,58346,58347,58348,58349,58350,58351,58352,58353,58354,58355,58356,58357,58358,58359,58360,58361,58362,58363,58364,58365,58366,58367,58368,58369,58370,58371,58372,58373,58374,58375,58376,58377],[40754,40755,40756,40757,40758,40760,40762,40764,40767,40768,40769,40770,40771,40773,40774,40775,40776,40777,40778,40779,40780,40781,40782,40783,40786,40787,40788,40789,40790,40791,40792,40793,40794,40795,40796,40797,40798,40799,40800,40801,40802,40803,40804,40805,40806,40807,40808,40809,40810,40811,40812,40813,40814,40815,40816,40817,40818,40819,40820,40821,40822,40823,40824,63,40825,40826,40827,40828,40829,40830,40833,40834,40845,40846,40847,40848,40849,40850,40851,40852,40853,40854,40855,40856,40860,40861,40862,40865,40866,40867,40868,40869,63788,63865,63893,63975,63985,58378,58379,58380,58381,58382,58383,58384,58385,58386,58387,58388,58389,58390,58391,58392,58393,58394,58395,58396,58397,58398,58399,58400,58401,58402,58403,58404,58405,58406,58407,58408,58409,58410,58411,58412,58413,58414,58415,58416,58417,58418,58419,58420,58421,58422,58423,58424,58425,58426,58427,58428,58429,58430,58431,58432,58433,58434,58435,58436,58437,58438,58439,58440,58441,58442,58443,58444,58445,58446,58447,58448,58449,58450,58451,58452,58453,58454,58455,58456,58457,58458,58459,58460,58461,58462,58463,58464,58465,58466,58467,58468,58469,58470,58471],[64012,64013,64014,64015,64017,64019,64020,64024,64031,64032,64033,64035,64036,64039,64040,64041,59413,59414,59415,59416,59417,59418,59419,59420,59421,59422,59423,59424,59425,59426,59427,59428,59429,59430,59431,59432,59433,59434,59435,59436,59437,59438,59439,59440,59441,59442,59443,59444,59445,59446,59447,59448,59449,59450,59451,59452,59453,59454,59455,59456,59457,59458,59459,63,59460,59461,59462,59463,59464,59465,59466,59467,59468,59469,59470,59471,59472,59473,59474,59475,59476,59477,59478,59479,59480,59481,59482,59483,59484,59485,59486,59487,59488,59489,59490,59491,59492,58472,58473,58474,58475,58476,58477,58478,58479,58480,58481,58482,58483,58484,58485,58486,58487,58488,58489,58490,58491,58492,58493,58494,58495,58496,58497,58498,58499,58500,58501,58502,58503,58504,58505,58506,58507,58508,58509,58510,58511,58512,58513,58514,58515,58516,58517,58518,58519,58520,58521,58522,58523,58524,58525,58526,58527,58528,58529,58530,58531,58532,58533,58534,58535,58536,58537,58538,58539,58540,58541,58542,58543,58544,58545,58546,58547,58548,58549,58550,58551,58552,58553,58554,58555,58556,58557,58558,58559,58560,58561,58562,58563,58564,58565]];function c(e){var r=(65280&e)>>8,c=255&e;return r>=129&&r<=254&&c>=64&&c<=254?t[r-129][c-64]:e}r._RF.pop()}}}));

System.register("chunks:///_virtual/UIcontrol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./MyShop.ts","./BroadCastMsg.ts","./GameSceneProgressBar.ts","./MainScene.ts","./NewNpcWin.ts","./Toast.ts","./AlertCtrl.ts","./GameUtil.ts","./ResourcesMgr.ts","./gxxLogin.ts","./RoleSocket.ts"],(function(e){"use strict";var t,n,o,a,i,l,d,g,c,r,s,C,h,m,p,N,y,B,u,f,S,b,v,x,w,I,L,U;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,a=e.director,i=e.instantiate,l=e.UITransform,d=e.Label,g=e.view,c=e.Node,r=e.Layers,s=e.Sprite,C=e.UIOpacity,h=e.tween,m=e.Vec3,p=e.find,N=e.Component},function(e){y=e.Config},function(e){B=e.MyShop},function(e){u=e.BroadCastMsg},function(e){f=e.GameSceneProgressBar},function(e){S=e.default},function(e){b=e.NewNpcWin},function(e){v=e.Toast},function(e){x=e.AlertCtrl},function(e){w=e.GameUtil},function(e){I=e.resourcesMgr},function(e){L=e.gxxLogin},function(e){U=e.roleSocket}],execute:function(){n._RF.push({},"741a5jjzTVETIf5NJdSwjj+","UIcontrol",void 0);o.ccclass,o.property;var P=e("UIcontrol",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).flag=!0,t.content=null,t.npcBgPosObj=null,t.callBackList={},t}t(n,e),n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var o=n.prototype;return o.handlerAlert=function(e,t){e=e;I.handleLoad("prefab/alert/alert.prefab",(function(n){if(n){var o=t?t.getChildByName("alert"):a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("alert");o&&(o.destroy(),o.removeFromParent());var l=i(n);t?t.addChild(l):a.getScene().getChildByName("Canvas").getChildByName("UIBox").addChild(l),l.typeName=e.nodeName?e.nodeName:"alert",l.name="alert",l.getComponent(x).selectHandle(e)}else console.log("提示框预制体加载失败")}))},o.MyShopHandler=function(e,t){var n=e.getChildByName("MyShop");if(n)n.destroy();else{var o=i(t);e.addChild(o),o.setPosition(o.getComponent(l).width,0),o.getComponent(B).showShopItem()}},o.otherShop=function(){var e=w.publicLayoutNode(),t=e.getChildByName("OtherShop");t?t.destroy():I.handleLoad("prefab/BaiTan/OtherShop.prefab",(function(t){if(t){var n=i(t);e.addChild(n)}}))},o.showSetShopItemPrice=function(){var e=y.CurScene.node.getChildByName("UIBox").getChildByName("SetShopItemPrice");e&&e.destroy();var t=i(y.CurScene.setShopItemPrice);y.CurScene.node.getChildByName("UIBox").addChild(t)},o.showGameSceneProgress=function(e,t){var n=y.CurScene.node.getChildByName("UIBox").getChildByName("GameSceneProgressBar");0!=t.record&&100!=t.param||n&&(n.destroy(),n.removeFromParent()),!n&&t.record>0?I.handleLoad("prefab/GameSceneProgressBar/GameSceneProgressBar.prefab",(function(n){if(n){var o=i(n);y.CurScene.node.getChildByName("UIBox").addChild(o),o.getComponent(f).handleProgress(e,t)}})):n&&n.isValid&&n.getComponent(f).handleProgress(e,t)},o.showBroadCast=function(e,t){I.resLoad("prefab/BroadCastMsg/BroadCastMsg.prefab",(function(n){if(n){var o=i(n);y.CurScene.node.addChild(o);var a=y.CurScene.node.getComponent(l).height,d=o.getComponent(l).height;o.setPosition(0,a/2-d/2-t),o.getComponent(u).showBroadCast(e,t)}}))},o.showToast=function(e){var t=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("Toast");t?(t.setSiblingIndex(t.parent.children.length-1),t.getComponent(v).addMsg(e)):I.handleLoad("prefab/Toast/Toast.prefab",(function(t){if(t){var n=i(t);n&&n.isValid&&(a.getScene().getChildByName("Canvas").getChildByName("UIBox").addChild(n),n.setSiblingIndex(n.parent.children.length-1),n.getComponent(v).showToast(e))}}))},o.showBigFontToast=function(e){var t=this,n=e.str;if(-1!=e.str.indexOf("||")){n=e.str.split("||");for(var o="",i=0;i<n.length;i++)i==n.length-1?o+=n[i]:o+=n[i]+"\n";n=o}var p={outlineColor:e.outlineColor,text:n,color:e.fcolor,fontSize:e.fontSize},N=null;-1!=p.text.indexOf("{")?N=y.MainScene.openClickTop(p.text,!0,!0):((N=w.addLabel(p)).getComponent(d).horizontalAlign=d.HorizontalAlign.CENTER,N.getComponent(d).lineHeight=N.getComponent(d).fontSize+4),N.getComponent(l).anchorX=.5,N.getComponent(l).anchorY=.5,a.getScene().getChildByName("Canvas").getChildByName("UIBox").addChild(N);var B=N.getComponent(l).height/2+g.getVisibleSize().height/2-e.y;if(N.setPosition(0,B),N.setSiblingIndex(y.CurScene.node.children.length-1),0==e.mode||2==e.mode)0==e.mode?I.resLoad("BroadCastMsg/img_roll.png",(function(n){var o=new c("msgBg");o.layer=r.Enum.UI_2D,o.addComponent(s).spriteFrame=n||null,N.setParent(null),o.addChild(N),N.setPosition(0,0),o.getComponent(l).setContentSize(g.getVisibleSize().width-200,N.getComponent(l).height+15),a.getScene().getChildByName("Canvas").getChildByName("UIBox").addChild(o),o.setPosition(0,B),t.scheduleOnce((function(){o.destroy()}),e.time)})):this.scheduleOnce((function(){N.destroy()}),e.time);else if(1==e.mode){var u=N.getComponent(C);u||(u=N.addComponent(C)),h(u).set({opacity:0}).to(1.5,{opacity:255}).delay(e.time).to(1.5,{opacity:0}).start(),h(N).set({position:new m(0,0,0)}).by(1.5,{position:new m(0,60,0)}).delay(e.time).by(1.5,{position:new m(0,60,0)}).removeSelf().start()}},o.npcDiyWinPreLoad=function(e){y.itemShowPlist=[];var t=null;a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(t=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin"));t||(t=i(p("Canvas").getComponent(S).newNpcWin),w.publicLayoutNode().addChild(t));t.npcBgPosObj={isDiyNpc:true,obj:e},y.g_Changerpak=-1,y.g_ChangerIndex=-1,y.g_TempNPCLabe=!1;var n=e.xid;if(n<y.g_pak_list.length){var o=y.g_pak_list[n];w.loadImg(e.num,o,(function(e){if(e||console.log("自定义npc背景图不存在"),console.log(e),t&&t.isValid){e&&e.imgUrl&&(t.getComponent(s).spriteFrame=e.imgUrl),t.getComponent(b).but_Close.active=!!t.npcBgPosObj.obj.btnShow,t.cb&&t.cb();var n=t.npcBgPosObj.obj.nWindowsX,o=t.npcBgPosObj.obj.nWindowsY,a=0,i=0,d=g.getVisibleSize().width,c=g.getVisibleSize().height,r=t.getComponent(l).width,C=t.getComponent(l).height;switch(t.npcBgPosObj.obj.nShowType){case 0:a=-d/2+r/2+n,i=c/2-C/2-o;break;case 1:a=d/2-r/2+n,i=c/2-C/2-o;break;case 2:a=-d/2+r/2+n,i=-c/2+C/2-o;break;case 3:a=d/2-r/2+n,i=-c/2+C/2-o;break;case 4:a=0+n,i=0-o}t.setPosition(a,i);t.getChildByName("Show_gb")}else console.log("npcwin被清除，无法加载背景图")}),(function(e){console.log(e)}),true)}},o.npcDiyWinContent=function(e){var t=null;if(a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(t=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")),t&&t.isValid)if(t.getComponent(s).spriteFrame)t.getComponent(b).showContent(e,t.npcBgPosObj.isDiyNpc,t.npcBgPosObj.obj);else if(t){t.cb=function(){t.getComponent(b).showContent(e,t.npcBgPosObj.isDiyNpc,t.npcBgPosObj.obj),t.cb=null}}},o.npcResWinLoad=function(e){y.itemShowPlist=[];var t=null;(a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(t=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")),t&&t.isValid)||(t=i(y.CurScene.node.getComponent(S).newNpcWin),w.publicLayoutNode().addChild(t));I.handleLoad(y.npc_img_name,(function(n){n?t&&t.isValid?(t.getComponent(s).spriteFrame=n,t.getComponent(b).showContent(e)):console.log("npcwin被清除，无法加载背景图"):console.log("对话框背景图不存在")}))},o.gxxLoginCreate=function(e){I.handleLoad("prefab/loginScene/gxxLogin/login.prefab",(function(t){if(t){var n=i(t);e.addChild(n),n.getComponent(L).init()}}))},o.gxxLoginServerCreate=function(e){I.handleLoad("prefab/loginScene/gxxLogin/gxxLoginServer.prefab",(function(t){if(t){var n=i(t);e.addChild(n)}}))},o.gxxRoleCreate=function(e,t,n,o){I.handleLoad("prefab/loginScene/Role.prefab",(function(e){e&&(i(e).setParent(t),U.createSocket(n,o),y.verify_through=!0)}))},o.checkAndDestroyNewNpcWin=function(){a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&null!=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").destroy(),a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin").removeFromParent())},o.checkAndReturnNewNpcWin=function(){var e=null;return a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode")&&null!=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")&&(e=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("publicLayoutNode").getChildByName("NewNpcWin")),e},o.deleteAlertWin=function(){y.CurScene&&a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("alert")&&(a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("alert").destroy(),console.log("销毁alert"))},o.deleteToast=function(){var e=a.getScene().getChildByName("Canvas").getChildByName("UIBox").getChildByName("Toast");e&&e.destroy()},n}(N));P._instance=null;e("uiControl",P.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/UnitDes.ts",["cc","./Sha1.ts"],(function(s){"use strict";var t,r;return{setters:[function(s){t=s.cclegacy},function(s){r=s.tool_Sha1}],execute:function(){t._RF.push({},"63a65saKEpHh453MY4vIgZ+","UnitDes",void 0);var i=s("Tool_UnitDes",function(){function s(){this.sh1=new r,this.BS=20,this.shifts2=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],this.des_skb=[[0,16,536870912,536870928,65536,65552,536936448,536936464,2048,2064,536872960,536872976,67584,67600,536938496,536938512,32,48,536870944,536870960,65568,65584,536936480,536936496,2080,2096,536872992,536873008,67616,67632,536938528,536938544,524288,524304,537395200,537395216,589824,589840,537460736,537460752,526336,526352,537397248,537397264,591872,591888,537462784,537462800,524320,524336,537395232,537395248,589856,589872,537460768,537460784,526368,526384,537397280,537397296,591904,591920,537462816,537462832],[0,33554432,8192,33562624,2097152,35651584,2105344,35659776,4,33554436,8196,33562628,2097156,35651588,2105348,35659780,1024,33555456,9216,33563648,2098176,35652608,2106368,35660800,1028,33555460,9220,33563652,2098180,35652612,2106372,35660804,268435456,301989888,268443648,301998080,270532608,304087040,270540800,304095232,268435460,301989892,268443652,301998084,270532612,304087044,270540804,304095236,268436480,301990912,268444672,301999104,270533632,304088064,270541824,304096256,268436484,301990916,268444676,301999108,270533636,304088068,270541828,304096260],[0,1,262144,262145,16777216,16777217,17039360,17039361,2,3,262146,262147,16777218,16777219,17039362,17039363,512,513,262656,262657,16777728,16777729,17039872,17039873,514,515,262658,262659,16777730,16777731,17039874,17039875,134217728,134217729,134479872,134479873,150994944,150994945,151257088,151257089,134217730,134217731,134479874,134479875,150994946,150994947,151257090,151257091,134218240,134218241,134480384,134480385,150995456,150995457,151257600,151257601,134218242,134218243,134480386,134480387,150995458,150995459,151257602,151257603],[0,1048576,256,1048832,8,1048584,264,1048840,4096,1052672,4352,1052928,4104,1052680,4360,1052936,67108864,68157440,67109120,68157696,67108872,68157448,67109128,68157704,67112960,68161536,67113216,68161792,67112968,68161544,67113224,68161800,131072,1179648,131328,1179904,131080,1179656,131336,1179912,135168,1183744,135424,1184e3,135176,1183752,135432,1184008,67239936,68288512,67240192,68288768,67239944,68288520,67240200,68288776,67244032,68292608,67244288,68292864,67244040,68292616,67244296,68292872],[0,268435456,65536,268500992,4,268435460,65540,268500996,536870912,805306368,536936448,805371904,536870916,805306372,536936452,805371908,1048576,269484032,1114112,269549568,1048580,269484036,1114116,269549572,537919488,806354944,537985024,806420480,537919492,806354948,537985028,806420484,4096,268439552,69632,268505088,4100,268439556,69636,268505092,536875008,805310464,536940544,805376e3,536875012,805310468,536940548,805376004,1052672,269488128,1118208,269553664,1052676,269488132,1118212,269553668,537923584,806359040,537989120,806424576,537923588,806359044,537989124,806424580],[0,134217728,8,134217736,1024,134218752,1032,134218760,131072,134348800,131080,134348808,132096,134349824,132104,134349832,1,134217729,9,134217737,1025,134218753,1033,134218761,131073,134348801,131081,134348809,132097,134349825,132105,134349833,33554432,167772160,33554440,167772168,33555456,167773184,33555464,167773192,33685504,167903232,33685512,167903240,33686528,167904256,33686536,167904264,33554433,167772161,33554441,167772169,33555457,167773185,33555465,167773193,33685505,167903233,33685513,167903241,33686529,167904257,33686537,167904265],[0,256,524288,524544,16777216,16777472,17301504,17301760,16,272,524304,524560,16777232,16777488,17301520,17301776,2097152,2097408,2621440,2621696,18874368,18874624,19398656,19398912,2097168,2097424,2621456,2621712,18874384,18874640,19398672,19398928,512,768,524800,525056,16777728,16777984,17302016,17302272,528,784,524816,525072,16777744,16778e3,17302032,17302288,2097664,2097920,2621952,2622208,18874880,18875136,19399168,19399424,2097680,2097936,2621968,2622224,18874896,18875152,19399184,19399440],[0,67108864,262144,67371008,2,67108866,262146,67371010,8192,67117056,270336,67379200,8194,67117058,270338,67379202,32,67108896,262176,67371040,34,67108898,262178,67371042,8224,67117088,270368,67379232,8226,67117090,270370,67379234,2048,67110912,264192,67373056,2050,67110914,264194,67373058,10240,67119104,272384,67381248,10242,67119106,272386,67381250,2080,67110944,264224,67373088,2082,67110946,264226,67373090,10272,67119136,272416,67381280,10274,67119138,272418,67381282]],this.des_sptrans=[[34080768,524288,33554434,34080770,33554432,526338,524290,33554434,526338,34080768,34078720,2050,33556482,33554432,0,524290,524288,2,33556480,526336,34080770,34078720,2050,33556480,2,2048,526336,34078722,2048,33556482,34078722,0,0,34080770,33556480,524290,34080768,524288,2050,33556480,34078722,2048,526336,33554434,526338,2,33554434,34078720,34080770,526336,34078720,33556482,33554432,2050,524290,0,524288,33554432,33556482,34080768,2,34078722,2048,526338],[1074823184,0,1081344,1074790400,1073741840,32784,1073774592,1081344,32768,1074790416,16,1073774592,1048592,1074823168,1074790400,16,1048576,1073774608,1074790416,32768,1081360,1073741824,0,1048592,1073774608,1081360,1074823168,1073741840,1073741824,1048576,32784,1074823184,1048592,1074823168,1073774592,1081360,1074823184,1048592,1073741840,0,1073741824,32784,1048576,1074790416,32768,1073741824,1081360,1073774608,1074823168,32768,0,1073741840,16,1074823184,1081344,1074790400,1074790416,1048576,32784,1073774592,1073774608,16,1074790400,1081344],[67108865,67371264,256,67109121,262145,67108864,67109121,262400,67109120,262144,67371008,1,67371265,257,1,67371009,0,262145,67371264,256,257,67371265,262144,67108865,67371009,67109120,262401,67371008,262400,0,67108864,262401,67371264,256,1,262144,257,262145,67371008,67109121,0,67371264,262400,67371009,262145,67108864,67371265,1,262401,67108865,67108864,67371265,262144,67109120,67109121,262400,67109120,0,67371009,257,67108865,262401,256,67371008],[4198408,268439552,8,272633864,0,272629760,268439560,4194312,272633856,268435464,268435456,4104,268435464,4198408,4194304,268435456,272629768,4198400,4096,8,4198400,268439560,272629760,4096,4104,0,4194312,272633856,268439552,272629768,272633864,4194304,272629768,4104,4194304,268435464,4198400,268439552,8,272629760,268439560,0,4096,4194312,0,272629768,272633856,4096,268435456,272633864,4198408,4194304,272633864,8,268439552,4198408,4194312,4198400,272629760,268439560,4104,268435456,268435464,272633856],[134217728,65536,1024,134284320,134283296,134218752,66592,134283264,65536,32,134217760,66560,134218784,134283296,134284288,0,66560,134217728,65568,1056,134218752,66592,0,134217760,32,134218784,134284320,65568,134283264,1024,1056,134284288,134284288,134218784,65568,134283264,65536,32,134217760,134218752,134217728,66560,134284320,0,66592,134217728,1024,65568,134218784,1024,0,134284320,134283296,134284288,1056,65536,66560,134283296,134218752,1056,32,66592,134283264,134217760],[2147483712,2097216,0,2149588992,2097216,8192,2147491904,2097152,8256,2149589056,2105344,2147483648,2147491840,2147483712,2149580800,2105408,2097152,2147491904,2149580864,0,8192,64,2149588992,2149580864,2149589056,2149580800,2147483648,8256,64,2105344,2105408,2147491840,8256,2147483648,2147491840,2105408,2149588992,2097216,0,2147491840,2147483648,8192,2149580864,2097152,2097216,2149589056,2105344,64,2149589056,2105344,2097152,2147491904,2147483712,2149580800,2105408,0,8192,2147483712,2147491904,2149588992,2149580800,8256,64,2149580864],[16384,512,16777728,16777220,16794116,16388,16896,0,16777216,16777732,516,16793600,4,16794112,16793600,516,16777732,16384,16388,16794116,0,16777728,16777220,16896,16793604,16900,16794112,4,16900,16793604,512,16777216,16900,16793600,16793604,516,16384,512,16777216,16793604,16777732,16900,16896,0,512,16777220,4,16777728,0,16777732,16777728,16896,516,16384,16794116,16777216,16794112,4,16388,16794116,16777220,16794112,16793600,16388],[545259648,545390592,131200,0,537001984,8388736,545259520,545390720,128,536870912,8519680,131200,8519808,537002112,536871040,545259520,131072,8519808,8388736,537001984,545390720,536871040,0,8519680,536870912,8388608,537002112,545259648,8388608,131072,545390592,128,8388608,131072,536871040,545390720,131200,536870912,0,8519680,545259648,537002112,537001984,8388736,545390592,128,8388736,537001984,545390720,8388608,545259520,536871040,8519680,131200,537002112,545259520,128,545390592,8519808,0,536870912,545259648,131072,8519808]]}s.getInstance=function(){return null==this._instance&&(this._instance=new s),this._instance};var t=s.prototype;return t.byteArray2String=function(s,t){for(var r="",i=0;i<t&&0!=s[i];i++)27==s[i]?r+="\r\n":32==s[i]?r+="  ":12288==s[i]?r+="    ":9472==s[i]?r+="一":r+=String.fromCharCode(s[i]);return r},t.hperm_op=function(s,t,r,i){return{a:s=s^(t=(s<<16-r^s)&i)^t>>>16-r,t:t}},t.perm_op=function(s,t,r,i,n){return{a:s^=(r=(s>>i^t)&n)<<i,b:t^=r,t:r}},t.DoInit=function(s){var t,r,i,n,e,h=0,a=new Array;t=s[0]|s[1]<<8|s[2]<<16|s[3]<<24,r=s[4]|s[5]<<8|s[6]<<16|s[7]<<24;var p=this.perm_op(r,t,h,4,252645135);for(r=p.a,t=p.b,h=p.t,t=(p=this.hperm_op(t,h,-2,3435921408)).a,h=p.t,r=(p=this.hperm_op(r,h,-2,3435921408)).a,h=p.t,r=(p=this.perm_op(r,t,h,1,1431655765)).a,t=p.b,h=p.t,t=(p=this.perm_op(t,r,h,8,16711935)).a,r=p.b,h=p.t,r=(p=this.perm_op(r,t,h,1,1431655765)).a,t=p.b,h=p.t,r=(255&r)<<16|65280&r|(16711680&r)>>>16|(4026531840&t)>>>4,t&=268435455,e=0;e<=15;e++)0!=this.shifts2[e]?(t=t>>>2|t<<26,r=r>>>2|r<<26):(t=t>>>1|t<<27,r=r>>>1|r<<27),t&=268435455,r&=268435455,i=this.des_skb[0][63&t]|this.des_skb[1][t>>>6&3|t>>>7&60]|this.des_skb[2][t>>>13&15|t>>>14&48]|this.des_skb[3][t>>>20&1|t>>>21&6|t>>>22&56],n=(h=this.des_skb[4][63&r]|this.des_skb[5][r>>>7&3|r>>>8&60]|this.des_skb[6][r>>>15&63]|this.des_skb[7][r>>>21&15|r>>>22&48])<<16|65535&i,a[e<<1]=(n<<2|n>>>30)>>>0,n=i>>>16|4294901760&h,a[1+(e<<1)]=(n<<6|n>>>26)>>>0;return a},t.EncryptBlock=function(s,t,r){var i,n,e;for(s^=i=252645135&(t>>>4^s),s^=(i=65535&(s>>>16^(t^=i<<4)))<<16,s^=i=858993459&((t^=i)>>>2^s),s^=(i=16711935&(s>>>8^(t^=i<<2)))<<8,s=(s^=i=1431655765&((t^=i)>>>1^s))>>>29|s<<3,t=(t^=i<<1)>>>29|t<<3,e=0;e<32;)n=s^r[e],i=(i=s^r[e+1])>>>4|i<<28,n=(t=t^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63])^r[e+2],i=(i=t^r[e+3])>>>4|i<<28,n=(s=s^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63])^r[e+4],i=(i=s^r[e+5])>>>4|i<<28,n=(t=t^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63])^r[e+6],i=(i=t^r[e+7])>>>4|i<<28,s=s^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63],e+=8;return t=t>>>3|t<<29,t^=i=1431655765&((s=s>>>3|s<<29)>>>1^t),t^=(i=16711935&(t>>>8^(s^=i<<1)))<<8,t^=i=858993459&((s^=i)>>>2^t),{l:t=((t^=(i=65535&(t>>>16^(s^=i<<2)))<<16)^(i=252645135&((s^=i)>>>4^t)))>>>0,r:s=(s^i<<4)>>>0}},t.DecryptBlock=function(s,t,r){var i,n,e;for(s^=i=252645135&(t>>>4^s),s^=(i=65535&(s>>>16^(t^=i<<4)))<<16,s^=i=858993459&((t^=i)>>>2^s),s^=(i=16711935&(s>>>8^(t^=i<<2)))<<8,s=(s^=i=1431655765&((t^=i)>>>1^s))>>>29|s<<3,t=(t^=i<<1)>>>29|t<<3,e=30;e>0;)n=s^r[e],i=(i=s^r[e+1])>>>4|i<<28,n=(t=t^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63])^r[e-2],i=(i=t^r[e-1])>>>4|i<<28,n=(s=s^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63])^r[e-4],i=(i=s^r[e-3])>>>4|i<<28,n=(t=t^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63])^r[e-6],i=(i=t^r[e-5])>>>4|i<<28,s=s^this.des_sptrans[0][n>>>2&63]^this.des_sptrans[2][n>>>10&63]^this.des_sptrans[4][n>>>18&63]^this.des_sptrans[6][n>>>26&63]^this.des_sptrans[1][i>>>2&63]^this.des_sptrans[3][i>>>10&63]^this.des_sptrans[5][i>>>18&63]^this.des_sptrans[7][i>>>26&63],e-=8;return t=t>>>3|t<<29,t^=i=1431655765&((s=s>>>3|s<<29)>>>1^t),t^=(i=16711935&(t>>>8^(s^=i<<1)))<<8,t^=i=858993459&((s^=i)>>>2^t),{l:t=((t^=(i=65535&(t>>>16^(s^=i<<2)))<<16)^(i=252645135&((s^=i)>>>4^t)))>>>0,r:s=(s^i<<4)>>>0}},t.GetKeyData=function(s){for(var t=new Array(this.BS),r=new Array(this.BS),i=new Array(8),n=this.sh1.core_sha1(this.sh1.AlignSHA1(s)),e=0,h=0;e<5;e++,h+=4)r[h+3]=(255&n[e])>>>0,r[h+2]=(65280&n[e])>>>8,r[h+1]=(16711680&n[e])>>>16,r[h+0]=(4278190080&n[e])>>>24;for(e=0;e<8;e++)i[e]=r[e];var a=this.DoInit(i);for(e=0;e<this.BS;e++)t[e]=143;var p=this.EncryptBlock(2408550287,2408550287,a);return t[0]=(255&p.l)>>>0,t[1]=(65280&p.l)>>>8,t[2]=(16711680&p.l)>>>16,t[3]=(4278190080&p.l)>>>24,t[4]=(255&p.r)>>>0,t[5]=(65280&p.r)>>>8,t[6]=(16711680&p.r)>>>16,t[7]=(4278190080&p.r)>>>24,{IV:t,KeyData:a}},t.XorBlock=function(s,t,r,i,n){for(var e=0;e<n;e++)s[t]^=r[i],t++,i++;return s},t.EncryptCBC=function(s,t,r,i){for(var n=new Array(t),e=0,h=0,a=0,p=0,_=1;_<=t/this.BS;_++){for(var d=0;d<this.BS;d++)n[h+d]=s[e+d];a=(n=this.XorBlock(n,h,r,0,this.BS))[h+0]+(n[h+1]<<8)+(n[h+2]<<16)+(n[h+3]<<24)>>>0,p=n[h+4]+(n[h+5]<<8)+(n[h+6]<<16)+(n[h+7]<<24)>>>0;var o=this.EncryptBlock(a,p,i);n[h+0]=(255&o.l)>>>0,n[h+1]=(65280&o.l)>>>8,n[h+2]=(16711680&o.l)>>>16,n[h+3]=(4278190080&o.l)>>>24,n[h+4]=(255&o.r)>>>0,n[h+5]=(65280&o.r)>>>8,n[h+6]=(16711680&o.r)>>>16,n[h+7]=(4278190080&o.r)>>>24;for(d=0;d<this.BS;d++)r[d]=n[h+d];e+=this.BS,h+=this.BS}if(t%this.BS){a=r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24)>>>0,p=r[4]+(r[5]<<8)+(r[6]<<16)+(r[7]<<24)>>>0;o=this.EncryptBlock(a,p,i);r[0]=(255&o.l)>>>0,r[1]=(65280&o.l)>>>8,r[2]=(16711680&o.l)>>>16,r[3]=(4278190080&o.l)>>>24,r[4]=(255&o.r)>>>0,r[5]=(65280&o.r)>>>8,r[6]=(16711680&o.r)>>>16,r[7]=(4278190080&o.r)>>>24;for(d=0;d<t%this.BS;d++)n[h+d]=s[e+d];n=this.XorBlock(n,h,r,0,t%this.BS)}return n},t.DecryptCBC=function(s,t,r,i){for(var n=new Array(this.BS),e=new Array(t),h=0,a=0,p=0,_=0,d=1;d<=t/this.BS;d++){for(var o=0;o<this.BS;o++)e[a+o]=s[h+o],n[o]=s[h+o];p=e[a+0]+(e[a+1]<<8)+(e[a+2]<<16)+(e[a+3]<<24)>>>0,_=e[a+4]+(e[a+5]<<8)+(e[a+6]<<16)+(e[a+7]<<24)>>>0;var c=this.DecryptBlock(p,_,i);e[a+0]=(255&c.l)>>>0,e[a+1]=(65280&c.l)>>>8,e[a+2]=(16711680&c.l)>>>16,e[a+3]=(4278190080&c.l)>>>24,e[a+4]=(255&c.r)>>>0,e[a+5]=(65280&c.r)>>>8,e[a+6]=(16711680&c.r)>>>16,e[a+7]=(4278190080&c.r)>>>24,e=this.XorBlock(e,a,r,0,this.BS);for(o=0;o<this.BS;o++)r[o]=n[o];h+=this.BS,a+=this.BS}if(t%this.BS){p=r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24)>>>0,_=r[4]+(r[5]<<8)+(r[6]<<16)+(r[7]<<24)>>>0;c=this.EncryptBlock(p,_,i);r[0]=(255&c.l)>>>0,r[1]=(65280&c.l)>>>8,r[2]=(16711680&c.l)>>>16,r[3]=(4278190080&c.l)>>>24,r[4]=(255&c.r)>>>0,r[5]=(65280&c.r)>>>8,r[6]=(16711680&c.r)>>>16,r[7]=(4278190080&c.r)>>>24;for(o=0;o<t%this.BS;o++)e[a+o]=s[h+o];e=this.XorBlock(e,a,r,0,t%this.BS)}return e},t.EncryptDes=function(s,t,r){var i=this.GetKeyData(r);return this.EncryptCBC(s,t,i.IV,i.KeyData)},t.DecryptDes=function(s,t,r){var i=this.GetKeyData(r);return this.DecryptCBC(s,t,i.IV,i.KeyData)},t.string2ByteArray=function(s){for(var t=new Array,r=0,i=0,n=0;i<s.length;i++,n++)(r=s.charCodeAt(i))<128?t[n]=r:(t[n++]=(255&r)>>>0,t[n]=(65280&r)>>>8);return{arr:t,len:n}},s}());i._instance=void 0;s("UnitDes",i.getInstance());t._RF.pop()}}}));

System.register("chunks:///_virtual/VoiceSocket.ts",["cc","./EventManager.ts","./Config.ts","./external.ts","./GameDefine.ts","./EventSocket.ts","./Socket.ts"],(function(e){"use strict";var n,o,t,i,s,c,a;return{setters:[function(e){n=e.cclegacy},function(e){o=e.EventMgr},function(e){t=e.Config},function(e){i=e.external},function(e){s=e.MESSAGE_TYPE},function(e){c=e.default},function(e){a=e.Socket}],execute:function(){n._RF.push({},"d3507wl9UNF3KeHL6drITAl","VoiceSocket",void 0);var r=e("voiceSocket",function(){function e(){this._socket=void 0,this._appid=void 0,this._openid=void 0,this._appkey=void 0,this._roomtypes=void 0,this._socket=new a,o.addEventListener(c.SOCKET_CONNECT_SUCCESS,this.openHandler),o.addEventListener(c.SOCKET_CONNECT_MESSAGE,this.receiveHandler),o.addEventListener(c.SOCKET_CLOSE,this.closeHandler),o.addEventListener(c.SOCKET_IO_ERROR,this.errorHandler),this._appid="1400219561",this._openid=Math.floor(100*Math.random()%99)+1e4,this._appkey="ul15qts0bhIN4T5L",this._roomtypes=[]}e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance};var n=e.prototype;return n.openHandler=function(e){console.log("连接语音服务器成功！---------");var n=JSON.stringify({CMD:s.CCMD_CONFIG,DATA:{AreaName:t.g_ServerName,CharacterName:t.g_RoleName}});this.send(n)},n.receiveHandler=function(e){console.log("接受语音服务器消息："+e);var n=JSON.parse(e);switch(n.CMD){case s.SCMD_CONFIG:this._appid=n.DATA.GME._appid,this._openid=n.DATA.GME.OpenID,this._appkey=n.DATA.GME.Key,this._roomtypes=n.DATA.RoomTypes,this._roomtypes.unshift("关闭"),this.initCMG(),o.raiseEvent("VOICE_EVENT",["onvoiceopen"]);break;case s.SCMD_ROOM:this.enterroomfroSDK(n.DATA.RoomMarkName)}},n.connect=function(e,n){console.log("连接语音服务器:",e,n),this._socket.connect(e,n)},n.switchroom=function(e,n,o){if(n){console.log("房间开关---------"+e+n+o);var t=JSON.stringify({CMD:s.CCMD_ROOM,DATA:{RoomCmdType:e,RoomType:n,RoomName:o,OpenID:this._openid}});this.send(t)}},n.switchsound=function(e){var n={enable:e};n.enable=e;var o=JSON.stringify(n);console.log("---enableSpeaker---\x3e"+o),i.sendtonative("enableSpeaker",o)},n.switchMic=function(e){var n={enable:e};n.enable=e;var o=JSON.stringify(n);console.log("---enableMic---\x3e"+o),i.sendtonative("enableMic",o)},n.exitroom=function(e,n){e&&(console.log("离开房间---------"+e+n),i.sendtonative("exitAudioRoom","exit"),this.switchroom(2,e,n))},n.enterroomfroSDK=function(e){var n={appid:this._appid,openid:this._openid,roomid:e,key:this._appkey},o=JSON.stringify(n);console.log("---enterAudioRoom---\x3e"+o),i.sendtonative("enterAudioRoom",o)},n.initCMG=function(){var e={appid:this._appid,openid:this._openid,key:this._appkey},n=JSON.stringify(e);console.log("---initAudio---\x3e"+n),i.sendtonative("initAudio",n)},n.send=function(e){this._socket.connected?this._socket.send(e):console.log("语音服务器已断开")},n.closeHandler=function(e){console.log("-语音服务器关闭- "),o.raiseEvent("VOICE_EVENT",["onvoiceopen"])},n.errorHandler=function(e){console.log("-语音服务器出错- ")},e}());r._instance=void 0;e("VoiceSocket",r.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/WarehousePageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./GameDefine.ts","./ResourcesMgr.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,a,n,r,s,o,u,c,m,d,l,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.Sprite,u=e.Label,c=e.Component},function(e){m=e.EventMgr},function(e){d=e.Config},function(e){l=e.default},function(e){p=e.OPEN_ITEMINFO_WIN_TYPE},function(e){h=e.resourcesMgr},function(e){f=e.GameUtil}],execute:function(){var g,E,_,I,v,N,D,R;r._RF.push({},"1179f+SxdxPE7DBsBnyyYtZ","WarehousePageItem",void 0);var y=s.ccclass,C=s.property,S=s.menu;e("default",(g=y("WarehousePageItem"),E=S("实例模块/WarehousePageItem"),_=C(o),I=C(u),g(v=E((D=t((N=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,a(t,"icon",D,n(t)),a(t,"itemNum",R,n(t)),t.equip_data=null,t}i(t,e);var r=t.prototype;return r.start=function(){f.loadResLocal("BagWin/img_bag_bg.png",this.node.getComponent(o)),m.addEventListener(l.GET_HERO_TREASURE_WAREHOUSE_RECEIVE_UPDATE,this.updateItem,this)},r.init=function(e){var t,i=this;(e.res?h.handleLoad(e.res.plist,(function(t){t&&t.getSpriteFrame(e.res.img)&&i.icon&&(i.icon.spriteFrame=t.getSpriteFrame(e.res.img))})):this.icon.getComponent(o).spriteFrame=null,e.data)?(this.equip_data=e,e.data.s.BagEffect.FileIndex&&f.showItemeffect(this.node,e.data),this.itemNum&&(this.itemNum.node.active=!0,f.checkMaterialItemCanBeStacked(e.data,!0)?t="x"+(e.data.Dura+1):f.checkDrugItemCanBeStacked(e.data)&&(t="x"+e.data.Dura),this.itemNum.string=t)):(this.equip_data=null,f.removeItemAni(this.node,"effect"))},r.onClickItem=function(){this.equip_data&&(d.g_MoveItems.Items=this.equip_data.data,d.g_OpenIdx=p.LOOKHUMWIN,m.raiseEvent(l.OPEN_NEW_ITEM_INFO,[this.equip_data.data]))},r.updateItem=function(e){var t,i=e[0];i.s.nIdx==this.equip_data.data.s.nIdx&&(this.itemNum&&(this.itemNum.node.active=!0,f.checkMaterialItemCanBeStacked(i,!0)?t="x"+(i.Dura+1):f.checkDrugItemCanBeStacked(i)&&(t="x"+i.Dura),this.itemNum.string=t))},r.onDestroy=function(){m.removeEventListener(l.GET_HERO_TREASURE_WAREHOUSE_RECEIVE_UPDATE,this.updateItem,this)},t}(c)).prototype,"icon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"itemNum",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=N))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/WarehousePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDefine.ts","./WarehousePageItem.ts"],(function(e){"use strict";var t,n,r,i,o,a,u,c,s,l,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,c=e.Prefab,s=e.instantiate,l=e.Component},function(e){f=e.EquipData},function(e){h=e.default}],execute:function(){var p,d,g,b,v,P,w,y;o._RF.push({},"03bbejZ/wlDi5Wz5B/YF1cR","WarehousePageView",void 0);var m=a.ccclass,W=a.property,D=a.menu;e("default",(p=m("WarehousePageView"),d=D("实例模块/WarehousePageView"),g=W(u),b=W(c),p(v=d((w=t((P=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"contentNode",w,i(t)),r(t,"WarehousePreafb",y,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.initData=function(e,t){if(this.contentNode.children.length)for(var n=0;n<65;n++){var r=new f,i=65*t+n;e[i]&&(r=e[i]),this.contentNode.children[n].getComponent(h).init(r)}else for(var o=65*t;o<65*t+65;o++){var a=new f,u=s(this.WarehousePreafb);if(this.contentNode.addChild(u),e[o])a=e[o],u.getComponent(h).init(a)}},t}(l)).prototype,"contentNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(P.prototype,"WarehousePreafb",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P))||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/WarehouseWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Config.ts","./EventCustom.ts","./UIcontrol.ts","./objectmanage.ts","./Sendmessage.ts","./GameUtil.ts","./DragItem.ts"],(function(e){"use strict";var t,n,a,i,s,o,r,l,c,u,g,h,m,f,_,d,p,b,I,v,C,B,P,W,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.Prefab,l=e.SpriteFrame,c=e.Node,u=e.Sprite,g=e.Label,h=e.Toggle,m=e.instantiate,f=e.NodeEventType,_=e.Button,d=e.Component},function(e){p=e.EventMgr},function(e){b=e.Config},function(e){I=e.default},function(e){v=e.uiControl},function(e){C=e.ObjectManage},function(e){B=e.sendmessage},function(e){P=e.GameUtil},function(e){W=e.DragItem,y=e.e_DragItem_Type}],execute:function(){var S,L,w,x,E,T,D,F,O,z,R,M,N,H,U,k,A,j,G,V,J,K,Q,Y,q,X,Z,$,ee,te;s._RF.push({},"5bb68z6Bl9BQYdLciKSrnUJ","WarehouseWin",void 0);var ne=o.ccclass,ae=o.property,ie=o.menu;e("WarehouseWin",(S=ne("WarehouseWin"),L=ie("仓库界面/WarehouseWin"),w=ae(r),x=ae(l),E=ae(l),T=ae(l),D=ae(l),F=ae(c),O=ae(c),z=ae(c),R=ae(u),M=ae(u),N=ae(g),H=ae(h),U=ae(u),S(k=L((j=t((A=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,a(t,"dragItem",j,i(t)),a(t,"fastaccess_select",G,i(t)),a(t,"fastaccess_disable",V,i(t)),a(t,"fastaccess2_select",J,i(t)),a(t,"fastaccess2_disable",K,i(t)),a(t,"lastNode",Q,i(t)),a(t,"nextNode",Y,i(t)),a(t,"itemContainer",q,i(t)),a(t,"closeBtn",X,i(t)),a(t,"batchStorage",Z,i(t)),a(t,"countTxt",$,i(t)),a(t,"tabBarBtns",ee,i(t)),a(t,"selectBarBtns",te,i(t)),t._curPage=0,t._totalPage=0,t._itemCountInPage=49,t._itemNums=0,t._selectItemIndex=-1,t}n(t,e);var s=t.prototype;return s.onLoad=function(){W.dragItemType=y.wareHouseItem,this.initEvent(),this.initItem()},s.start=function(){b.g_OpenStore=!0,this.loadResByLocal(),this.init()},s.loadResByLocal=function(){var e=this.getComponent(u);P.loadResLocal("Warehouse/store_bg_new.png",e,(function(){e.spriteFrame.reset({originalSize:e.spriteFrame.originalSize,rect:e.spriteFrame.rect,offset:e.spriteFrame.offset,isRotate:e.spriteFrame.rotated,borderTop:60,borderBottom:15,borderLeft:15,borderRight:15})})),P.loadResLocal("BagWin/btn_close_new.png",this.closeBtn),P.loadResLocalToggle("Warehouse/bag_tab_disable01.png","Warehouse/bag_tab_select01.png",this.tabBarBtns[0],this.selectBarBtns[0]),P.loadResLocalToggle("Warehouse/bag_tab_disable02.png","Warehouse/bag_tab_select02.png",this.tabBarBtns[1],this.selectBarBtns[1]),P.loadResLocalToggle("Warehouse/bag_tab_disable03.png","Warehouse/bag_tab_select03.png",this.tabBarBtns[2],this.selectBarBtns[2]),P.loadResLocalToggle("Warehouse/bag_tab_disable04.png","Warehouse/bag_tab_select04.png",this.tabBarBtns[3],this.selectBarBtns[3])},s.init=function(){this.lastNode.getComponent(u).grayscale=0==this._curPage},s.initEvent=function(){p.addEventListener(I.SHOW_STORE_ITEM_ICO,this.showWarehouseInfo,this),p.addEventListener(I.CLOSEWAREHOUSE,this.closeView,this),p.addEventListener("updateWareHouseItemByIndex",this.updateWareHouseItemByIndex,this)},s.initItem=function(){for(var e=0;e<this._itemCountInPage;e++){var t=m(this.dragItem);this.itemContainer.addChild(t),t.on(f.TOUCH_END,this.onClickItem.bind(this,e),this)}},s.onClickItem=function(e){this._selectItemIndex=e;var t=this._curPage*this._itemCountInPage+e;this.onSelectWarehouseItem(t)},s.onClickTabBtn=function(e){if(e.isChecked){var t=this.tabBarBtns.indexOf(e);B.sendSwitchWarehousePage(t+1)}},s.initWarehouseData=function(e){var t=e-this.itemContainer.children.length;if(t>0)for(var n=0;n<t;n++)this.itemContainer.addChild(W.getItemOnPool(this.dragItem));else if(t<0)for(var a=Math.abs(t),i=0;i<a;i++){var s=this.itemContainer.children[i];s&&(s.removeFromParent(),W.putItemToPool(s))}},s.showWarehouseInfo=function(e,t){this.countTxt.string=b.g_StoreCount+"/"+this._itemCountInPage;var n="number"!=typeof e?t:e;this._itemNums=n>0?n:b.g_StoreMaxCount,this._totalPage=Math.ceil(this._itemNums/this._itemCountInPage),this.updatePageData(this._itemNums)},s.updatePageData=function(e){var t=this._curPage<this._totalPage-1?this._itemCountInPage:e%this._itemCountInPage;this._curPage==this._totalPage-1&&e%this._itemCountInPage==0&&(t=this._itemCountInPage);for(var n=this._curPage*this._itemCountInPage,a=0,i=this.itemContainer.children.length;a<i;a++){var s=this.itemContainer.children[a];if(s.active=a<t,s.active){var o={itemsData:b.g_StoreItemList,selectIndex:this._selectItemIndex,hasBgFrame:!0,maxUnlockCount:b.g_StoreMaxCount-1,itemType:y.wareHouseItem};s.getComponent(W).showItemUI(o,n+a)}}},s.updateWareHouseItemByIndex=function(e){var t={itemsData:b.g_StoreItemList,selectIndex:this._selectItemIndex,hasBgFrame:!0,maxUnlockCount:b.g_StoreMaxCount-1,itemType:y.wareHouseItem},n=this._curPage*this._itemCountInPage,a=parseInt(e);this.itemContainer&&this.itemContainer.children&&this.itemContainer.children[a-n].getComponent(W).showItemUI(t,a)},s.onLastPage=function(){this.onChangePage(!0)},s.onNextPage=function(){this.onChangePage(!1)},s.onChangePage=function(e){var t=this.lastNode.getComponent(u),n=this.nextNode.getComponent(u);e&&t.grayscale||!e&&n.grayscale||(e?this._curPage--:this._curPage++,this._curPage=P.valueLimit(this._curPage,this._totalPage-1),this.updatePageData(this._itemNums),t.grayscale=0==this._curPage,n.grayscale=this._curPage>=this._totalPage-1)},s.onBatchStorage=function(e){b.g_fastaccess=!b.g_fastaccess;var t=e.target;if(t){var n=t.getComponent(_),a=t.getComponent(u),i=b.g_fastaccess?"Warehouse/fastaccess2_select.png":"Warehouse/fastaccess_select.png";P.loadResLocal(i,a);var s=b.g_fastaccess?"Warehouse/fastaccess2_select.png":"Warehouse/fastaccess_select.png",o=b.g_fastaccess?"Warehouse/fastaccess2_disable.png":"Warehouse/fastaccess_disable.png";P.loadResLocalButton(s,o,n)}},s.onSelectWarehouseItem=function(e){var t=b.g_StoreItemList;if(e<t.length&&t[e]&&(b.g_fastaccess?this.fastStorageHandler(e):(b.g_OpenIdx=2,b.g_MoveItems.Items=this.getStoreDataInWarehouse(e),P.newShowItemsInf(b.g_MoveItems.Items))),t=null,e>=b.g_StoreMaxCount){var n={type:1,content:"是否开启格子？",sF:function(){B.DepotOrBagItems2(0,0)},cF:function(){}};v.handlerAlert(n)}},s.fastStorageHandler=function(e){var t=C.GetAttr(b.playerID);if(this.isBagFull()){v.handlerAlert({type:1,content:"背包已满",sF:function(){},cF:function(){}})}else if(this.isOverWeight(t,this.getStoreDataInWarehouse(e).s.Weight)){v.handlerAlert({type:1,content:"负重超出",sF:function(){},cF:function(){}})}else{var n=this.getStoreDataInWarehouse(e),a=1!=b.g_StoreType?2:1;B.DepotOrBagItems2(n.MakeIndex,a),P.delStoreItems(n.MakeIndex),b.g_StoreCount-=1,t=null}},s.closeView=function(){b.g_OpenStore=!1,this._selectItemIndex=-1,this.node.removeFromParent(),this.node.destroy()},s.onDestroy=function(){this.removeEvent(),b.g_fastaccess=!1},s.releaseItem=function(){for(var e=0;e<this._itemCountInPage;e++){var t=this.itemContainer.children[e];t&&(t.active=!0,t.removeFromParent(),W.putItemToPool(t))}},s.removeEvent=function(){p.removeEventListener(I.SHOW_STORE_ITEM_ICO,this.showWarehouseInfo,this),p.removeEventListener(I.CLOSEWAREHOUSE,this.closeView,this)},s.isOverWeight=function(e,t){return e&&e.Weight+t-e.MaxWeight>0},s.getStoreDataInWarehouse=function(e){if(null!=e&&null!=e)return b.g_StoreItemList[e]},s.isBagFull=function(){for(var e=0,t=b.g_BagItemsList.length;e<t;e++)if(!b.g_BagItemsList[e])return!1;return!0},t}(d)).prototype,"dragItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(A.prototype,"fastaccess_select",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(A.prototype,"fastaccess_disable",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(A.prototype,"fastaccess2_select",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(A.prototype,"fastaccess2_disable",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(A.prototype,"lastNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(A.prototype,"nextNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(A.prototype,"itemContainer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(A.prototype,"closeBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(A.prototype,"batchStorage",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(A.prototype,"countTxt",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(A.prototype,"tabBarBtns",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(A.prototype,"selectBarBtns",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=A))||k)||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/WindowTouchMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./EventCustom.ts","./EventManager.ts"],(function(t){"use strict";var e,n,o,i,s,h,c,r,a,d,u,v,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Input,s=t.Node,h=t.Layers,c=t.UITransform,r=t.NodeEventType,a=t.Vec3,d=t.Component},function(t){u=t.Config},function(t){v=t.default},function(t){p=t.EventMgr}],execute:function(){var T;n._RF.push({},"e39d9w9WZRMZZAhV1TvSHxy","WindowTouchMove",void 0);var C=o.ccclass,l=o.menu;t("default",C("WindowTouchMove")(T=l("通用模块/WindowTouchMove")(T=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).touchNode=null,e}e(n,t);var o=n.prototype;return o.start=function(){var t=this;this.node.on(i.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(i.EventType.TOUCH_START,this.touchStart,this);var e=new s;e.layer=h.Enum.UI_2D;var n=e.addComponent(c);n.width=this.node.getComponent(c).width,n.height=this.node.getComponent(c).height,this.node.addChild(e),e.name="touchTop",e.getComponent(c).anchorPoint=this.node.getComponent(c).anchorPoint,this.touchNode=e,e.on(r.TOUCH_START,(function(e){e.preventSwallow=!0,t.touchStart()})),p.addEventListener(v.CHECK_WINDOW_TOP,this.checkWindowIsTop,this),p.addEventListener(v.DESTORY_CHECK_WINDOW_TOP,this.destroyCheckWindowIsTop,this),p.raiseEvent(v.CHECK_WINDOW_TOP,this.node)},o.touchMove=function(t){if(t.target.name==this.node.name){if("NewNpcWin"==this.node.name&&!u.g_npcCanMove)return;if(t.target&&t.target.inDiyList)return;var e=t.getTouches();if(1==e.length){console.log("this.node.name=",this.node.name);var n=e[0].getUIDelta(),o=this.node.position.x,i=this.node.position.y;this.node.setPosition(new a(o+=n.x,i+=n.y))}}},o.touchStart=function(t){this.node.parent&&(this.node.parent&&"UIBox"==this.node.parent.name?u.MainScene.touchStartSetIndex(this.node):u.MainScene.touchStartSetIndex(this.node.parent),p.raiseEvent(v.CHECK_WINDOW_TOP,this.node))},o.checkWindowIsTop=function(t){this.node==t?this.touchNode.active=!1:this.touchNode.active=!0},o.destroyCheckWindowIsTop=function(){var t=u.MainScene.UIBox.children[u.MainScene.UIBox.children.length-1];this.node.parent!=t&&this.node!=t||(this.touchNode.active=!1)},o.onDestroy=function(){p.raiseEvent(v.DESTORY_CHECK_WINDOW_TOP),p.removeEventListener(v.CHECK_WINDOW_TOP,this.checkWindowIsTop,this),p.removeEventListener(v.DESTORY_CHECK_WINDOW_TOP,this.destroyCheckWindowIsTop,this)},n}(d))||T)||T);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});